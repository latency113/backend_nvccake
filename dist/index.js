// @bun
var k_=Object.create;var{getPrototypeOf:g_,defineProperty:tX,getOwnPropertyNames:f_}=Object;var v_=Object.prototype.hasOwnProperty;var y_=(W,$,J)=>{J=W!=null?k_(g_(W)):{};let Y=$||!W||!W.__esModule?tX(J,"default",{value:W,enumerable:!0}):J;for(let X of f_(W))if(!v_.call(Y,X))tX(Y,X,{get:()=>W[X],enumerable:!0});return Y};var u4=(W,$)=>()=>($||W(($={exports:{}}).exports,$),$.exports);var W6=(W,$)=>{for(var J in $)tX(W,J,{get:$[J],enumerable:!0,configurable:!0,set:(Y)=>$[J]=()=>Y})};var M1=(W,$)=>()=>(W&&($=W(W=0)),$);var eX=import.meta.require;var J1,J9;var sW=M1(()=>{J1=class J1 extends Error{constructor(){super("End-Of-Stream");this.name="EndOfStreamError"}};J9=class J9 extends Error{constructor(W="The operation was aborted"){super(W);this.name="AbortError"}}});class mQ{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((W,$)=>{this.reject=$,this.resolve=W})}}class Y9{constructor(){this.endOfStream=!1,this.interrupted=!1,this.peekQueue=[]}async peek(W,$=!1){let J=await this.read(W,$);return this.peekQueue.push(W.subarray(0,J)),J}async read(W,$=!1){if(W.length===0)return 0;let J=this.readFromPeekBuffer(W);if(!this.endOfStream)J+=await this.readRemainderFromStream(W.subarray(J),$);if(J===0&&!$)throw new J1;return J}readFromPeekBuffer(W){let $=W.length,J=0;while(this.peekQueue.length>0&&$>0){let Y=this.peekQueue.pop();if(!Y)throw new Error("peekData should be defined");let X=Math.min(Y.length,$);if(W.set(Y.subarray(0,X),J),J+=X,$-=X,X<Y.length)this.peekQueue.push(Y.subarray(X))}return J}async readRemainderFromStream(W,$){let J=0;while(J<W.length&&!this.endOfStream){if(this.interrupted)throw new J9;let Y=await this.readFromStream(W.subarray(J),$);if(Y===0)break;J+=Y}if(!$&&J<W.length)throw new J1;return J}}var QY=M1(()=>{sW()});var MY;var ZA=M1(()=>{sW();QY();MY=class MY extends Y9{constructor(W){super();if(this.s=W,this.deferred=null,!W.read||!W.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>{if(this.endOfStream=!0,this.deferred)this.deferred.resolve(0)}),this.s.once("error",($)=>this.reject($)),this.s.once("close",()=>this.abort())}async readFromStream(W,$){if(W.length===0)return 0;let J=this.s.read(W.length);if(J)return W.set(J),J.length;let Y={buffer:W,mayBeLess:$,deferred:new mQ};return this.deferred=Y.deferred,this.s.once("readable",()=>{this.readDeferred(Y)}),Y.deferred.promise}readDeferred(W){let $=this.s.read(W.buffer.length);if($)W.buffer.set($),W.deferred.resolve($.length),this.deferred=null;else this.s.once("readable",()=>{this.readDeferred(W)})}reject(W){if(this.interrupted=!0,this.deferred)this.deferred.reject(W),this.deferred=null}async abort(){this.reject(new J9)}async close(){return this.abort()}}});var uQ;var SA=M1(()=>{QY();uQ=class uQ extends Y9{constructor(W){super();this.reader=W}async abort(){return this.close()}async close(){this.reader.releaseLock()}}});var HY;var lQ=M1(()=>{SA();HY=class HY extends uQ{async readFromStream(W,$){if(W.length===0)return 0;let J=await this.reader.read(new Uint8Array(W.length),{min:$?void 0:W.length});if(J.done)this.endOfStream=J.done;if(J.value)return W.set(J.value),J.value.length;return 0}}});var aW;var pQ=M1(()=>{sW();QY();aW=class aW extends Y9{constructor(W){super();this.reader=W,this.buffer=null}writeChunk(W,$){let J=Math.min($.length,W.length);if(W.set($.subarray(0,J)),J<$.length)this.buffer=$.subarray(J);else this.buffer=null;return J}async readFromStream(W,$){if(W.length===0)return 0;let J=0;if(this.buffer)J+=this.writeChunk(W,this.buffer);while(J<W.length&&!this.endOfStream){let Y=await this.reader.read();if(Y.done){this.endOfStream=!0;break}if(Y.value)J+=this.writeChunk(W.subarray(J),Y.value)}if(!$&&J===0&&this.endOfStream)throw new J1;return J}abort(){return this.interrupted=!0,this.reader.cancel()}async close(){await this.abort(),this.reader.releaseLock()}}});function iQ(W){try{let $=W.getReader({mode:"byob"});if($ instanceof ReadableStreamDefaultReader)return new aW($);return new HY($)}catch($){if($ instanceof TypeError)return new aW(W.getReader());throw $}}var OA=M1(()=>{lQ();pQ()});var e6=M1(()=>{sW();ZA();lQ();pQ();OA()});class D6{constructor(W){if(this.numBuffer=new Uint8Array(8),this.position=0,this.onClose=W?.onClose,W?.abortSignal)W.abortSignal.addEventListener("abort",()=>{this.abort()})}async readToken(W,$=this.position){let J=new Uint8Array(W.len);if(await this.readBuffer(J,{position:$})<W.len)throw new J1;return W.get(J,0)}async peekToken(W,$=this.position){let J=new Uint8Array(W.len);if(await this.peekBuffer(J,{position:$})<W.len)throw new J1;return W.get(J,0)}async readNumber(W){if(await this.readBuffer(this.numBuffer,{length:W.len})<W.len)throw new J1;return W.get(this.numBuffer,0)}async peekNumber(W){if(await this.peekBuffer(this.numBuffer,{length:W.len})<W.len)throw new J1;return W.get(this.numBuffer,0)}async ignore(W){if(this.fileInfo.size!==void 0){let $=this.fileInfo.size-this.position;if(W>$)return this.position+=$,$}return this.position+=W,W}async close(){await this.abort(),await this.onClose?.()}normalizeOptions(W,$){if(!this.supportsRandomAccess()&&$&&$.position!==void 0&&$.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return{...{mayBeLess:!1,offset:0,length:W.length,position:this.position},...$}}abort(){return Promise.resolve()}}var H7=M1(()=>{e6()});var _P=256000,GY;var _A=M1(()=>{H7();e6();GY=class GY extends D6{constructor(W,$){super($);this.streamReader=W,this.fileInfo=$?.fileInfo??{}}async readBuffer(W,$){let J=this.normalizeOptions(W,$),Y=J.position-this.position;if(Y>0)return await this.ignore(Y),this.readBuffer(W,$);if(Y<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(J.length===0)return 0;let X=await this.streamReader.read(W.subarray(0,J.length),J.mayBeLess);if(this.position+=X,(!$||!$.mayBeLess)&&X<J.length)throw new J1;return X}async peekBuffer(W,$){let J=this.normalizeOptions(W,$),Y=0;if(J.position){let X=J.position-this.position;if(X>0){let Q=new Uint8Array(J.length+X);return Y=await this.peekBuffer(Q,{mayBeLess:J.mayBeLess}),W.set(Q.subarray(X)),Y-X}if(X<0)throw new Error("Cannot peek from a negative offset in a stream")}if(J.length>0){try{Y=await this.streamReader.peek(W.subarray(0,J.length),J.mayBeLess)}catch(X){if($?.mayBeLess&&X instanceof J1)return 0;throw X}if(!J.mayBeLess&&Y<J.length)throw new J1}return Y}async ignore(W){let $=Math.min(_P,W),J=new Uint8Array($),Y=0;while(Y<W){let X=W-Y,Q=await this.readBuffer(J,{length:Math.min($,X)});if(Q<0)return Q;Y+=Q}return Y}abort(){return this.streamReader.abort()}async close(){return this.streamReader.close()}supportsRandomAccess(){return!1}}});var nQ;var LA=M1(()=>{e6();H7();nQ=class nQ extends D6{constructor(W,$){super($);this.uint8Array=W,this.fileInfo={...$?.fileInfo??{},...{size:W.length}}}async readBuffer(W,$){if($?.position)this.position=$.position;let J=await this.peekBuffer(W,$);return this.position+=J,J}async peekBuffer(W,$){let J=this.normalizeOptions(W,$),Y=Math.min(this.uint8Array.length-J.position,J.length);if(!J.mayBeLess&&Y<J.length)throw new J1;return W.set(this.uint8Array.subarray(J.position,J.position+Y)),Y}close(){return super.close()}supportsRandomAccess(){return!0}setPosition(W){this.position=W}}});var jA=M1(()=>{e6();H7()});function FA(W,$){let J=new MY(W),Y=$??{},X=Y.onClose;return Y.onClose=async()=>{if(await J.close(),X)return X()},new GY(J,Y)}function BY(W,$){let J=iQ(W),Y=$??{},X=Y.onClose;return Y.onClose=async()=>{if(await J.close(),X)return X()},new GY(J,Y)}function KA(W,$){return new nQ(W,$)}var UY=M1(()=>{e6();_A();LA();jA();e6();H7()});import{open as jP}from"fs/promises";var rW;var oQ=M1(()=>{H7();e6();rW=class rW extends D6{static async fromFile(W){let $=await jP(W,"r"),J=await $.stat();return new rW($,{fileInfo:{path:W,size:J.size}})}constructor(W,$){super($);this.fileHandle=W,this.fileInfo=$.fileInfo}async readBuffer(W,$){let J=this.normalizeOptions(W,$);if(this.position=J.position,J.length===0)return 0;let Y=await this.fileHandle.read(W,0,J.length,J.position);if(this.position+=Y.bytesRead,Y.bytesRead<J.length&&(!$||!$.mayBeLess))throw new J1;return Y.bytesRead}async peekBuffer(W,$){let J=this.normalizeOptions(W,$),Y=await this.fileHandle.read(W,0,J.length,J.position);if(!J.mayBeLess&&Y.bytesRead<J.length)throw new J1;return Y.bytesRead}async close(){return await this.fileHandle.close(),super.close()}setPosition(W){this.position=W}supportsRandomAccess(){return!0}}});import{stat as FP}from"fs/promises";async function CA(W,$){let J=FA(W,$);if(W.path){let Y=await FP(W.path);J.fileInfo.path=W.path,J.fileInfo.size=Y.size}return J}var VA;var bA=M1(()=>{UY();oQ();oQ();UY();VA=rW.fromFile});var EA=M1(()=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */});function PA(W,$="utf-8"){switch($.toLowerCase()){case"utf-8":case"utf8":if(typeof globalThis.TextDecoder!=="undefined")return new globalThis.TextDecoder("utf-8").decode(W);return bP(W);case"utf-16le":return EP(W);case"ascii":return PP(W);case"latin1":case"iso-8859-1":return RP(W);case"windows-1252":return IP(W);default:throw new RangeError(`Encoding '${$}' not supported`)}}function bP(W){let $="",J=0;while(J<W.length){let Y=W[J++];if(Y<128)$+=String.fromCharCode(Y);else if(Y<224){let X=W[J++]&63;$+=String.fromCharCode((Y&31)<<6|X)}else if(Y<240){let X=W[J++]&63,Q=W[J++]&63;$+=String.fromCharCode((Y&15)<<12|X<<6|Q)}else{let X=W[J++]&63,Q=W[J++]&63,M=W[J++]&63,H=(Y&7)<<18|X<<12|Q<<6|M;H-=65536,$+=String.fromCharCode(55296+(H>>10&1023),56320+(H&1023))}}return $}function EP(W){let $="";for(let J=0;J<W.length;J+=2)$+=String.fromCharCode(W[J]|W[J+1]<<8);return $}function PP(W){return String.fromCharCode(...W.map(($)=>$&127))}function RP(W){return String.fromCharCode(...W)}function IP(W){let $="";for(let J of W)if(J>=128&&J<=159&&sQ[J])$+=sQ[J];else $+=String.fromCharCode(J);return $}var sQ,VP;var RA=M1(()=>{sQ={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},VP={};for(let[W,$]of Object.entries(sQ))VP[$]=Number.parseInt(W)});function i5(W){return new DataView(W.buffer,W.byteOffset)}class q2{constructor(W,$){this.len=W,this.encoding=$}get(W,$=0){let J=W.subarray($,$+this.len);return PA(J,this.encoding)}}var IA,_1,G7,v1,xA,TA,kA;var tW=M1(()=>{EA();RA();IA={len:1,get(W,$){return i5(W).getUint8($)},put(W,$,J){return i5(W).setUint8($,J),$+1}},_1={len:2,get(W,$){return i5(W).getUint16($,!0)},put(W,$,J){return i5(W).setUint16($,J,!0),$+2}},G7={len:2,get(W,$){return i5(W).getUint16($)},put(W,$,J){return i5(W).setUint16($,J),$+2}},v1={len:4,get(W,$){return i5(W).getUint32($,!0)},put(W,$,J){return i5(W).setUint32($,J,!0),$+4}},xA={len:4,get(W,$){return i5(W).getUint32($)},put(W,$,J){return i5(W).setUint32($,J),$+4}},TA={len:4,get(W,$){return i5(W).getInt32($)},put(W,$,J){return i5(W).setInt32($,J),$+4}},kA={len:8,get(W,$){return i5(W).getBigUint64($,!0)},put(W,$,J){return i5(W).setBigUint64($,J,!0),$+8}}});import{createRequire as TP}from"module";function sP(W,$){return eQ(W,{i:2},$&&$.out,$&&$.dictionary)}function aP(W,$){var J=iP(W);if(J+8>W.length)z2(6,"invalid gzip data");return eQ(W.subarray(J,-8),{i:2},$&&$.out||new D2(nP(W)),$&&$.dictionary)}function rP(W,$){return eQ(W.subarray(oP(W,$&&$.dictionary),-4),{i:2},$&&$.out,$&&$.dictionary)}function mA(W,$){return W[0]==31&&W[1]==139&&W[2]==8?aP(W,$):(W[0]&15)!=8||W[0]>>4>7||(W[0]<<8|W[1])%31?sP(W,$):rP(W,$)}var kP,gP,D2,B7,fP,gA,fA,vP,vA=function(W,$){var J=new B7(31);for(var Y=0;Y<31;++Y)J[Y]=$+=1<<W[Y-1];var X=new fP(J[30]);for(var Y=1;Y<30;++Y)for(var Q=J[Y];Q<J[Y+1];++Q)X[Q]=Q-J[Y]<<5|Y;return{b:J,r:X}},yA,dA,yP,cA,dP,HW0,tQ,x8,E0,eW=function(W,$,J){var Y=W.length,X=0,Q=new B7($);for(;X<Y;++X)if(W[X])++Q[W[X]-1];var M=new B7($);for(X=1;X<$;++X)M[X]=M[X-1]+Q[X-1]<<1;var H;if(J){H=new B7(1<<$);var G=15-$;for(X=0;X<Y;++X)if(W[X]){var B=X<<4|W[X],w=$-W[X],A=M[W[X]-1]++<<w;for(var q=A|(1<<w)-1;A<=q;++A)H[tQ[A]>>G]=B}}else{H=new B7(Y);for(X=0;X<Y;++X)if(W[X])H[X]=tQ[M[W[X]-1]++]>>15-W[X]}return H},W$,E0,E0,E0,E0,hA,E0,cP,hP,aQ=function(W){var $=W[0];for(var J=1;J<W.length;++J)if(W[J]>$)$=W[J];return $},N8=function(W,$,J){var Y=$/8|0;return(W[Y]|W[Y+1]<<8)>>($&7)&J},rQ=function(W,$){var J=$/8|0;return(W[J]|W[J+1]<<8|W[J+2]<<16)>>($&7)},mP=function(W){return(W+7)/8|0},uP=function(W,$,J){if($==null||$<0)$=0;if(J==null||J>W.length)J=W.length;return new D2(W.subarray($,J))},lP,z2=function(W,$,J){var Y=new Error($||lP[W]);if(Y.code=W,Error.captureStackTrace)Error.captureStackTrace(Y,z2);if(!J)throw Y;return Y},eQ=function(W,$,J,Y){var X=W.length,Q=Y?Y.length:0;if(!X||$.f&&!$.l)return J||new D2(0);var M=!J,H=M||$.i!=2,G=$.i;if(M)J=new D2(X*3);var B=function(Z){var E=J.length;if(Z>E){var O=new D2(Math.max(E*2,Z));O.set(J),J=O}},w=$.f||0,A=$.p||0,q=$.b||0,N=$.l,z=$.d,D=$.m,_=$.n,L=X*8;do{if(!N){w=N8(W,A,1);var S=N8(W,A+1,3);if(A+=3,!S){var P=mP(A)+4,c=W[P-4]|W[P-3]<<8,e=P+c;if(e>X){if(G)z2(0);break}if(H)B(q+c);J.set(W.subarray(P,e),q),$.b=q+=c,$.p=A=e*8,$.f=w;continue}else if(S==1)N=cP,z=hP,D=9,_=5;else if(S==2){var I=N8(W,A,31)+257,V=N8(W,A+10,15)+4,x=I+N8(W,A+5,31)+1;A+=14;var C=new D2(x),k=new D2(19);for(var b=0;b<V;++b)k[vP[b]]=N8(W,A+b*3,7);A+=V*3;var y=aQ(k),u=(1<<y)-1,N0=eW(k,y,1);for(var b=0;b<x;){var r=N0[N8(W,A,u)];A+=r&15;var P=r>>4;if(P<16)C[b++]=P;else{var U0=0,d5=0;if(P==16)d5=3+N8(W,A,3),A+=2,U0=C[b-1];else if(P==17)d5=3+N8(W,A,7),A+=3;else if(P==18)d5=11+N8(W,A,127),A+=7;while(d5--)C[b++]=U0}}var c6=C.subarray(0,I),Y2=C.subarray(I);D=aQ(c6),_=aQ(Y2),N=eW(c6,D,1),z=eW(Y2,_,1)}else z2(1);if(A>L){if(G)z2(0);break}}if(H)B(q+131072);var i2=(1<<D)-1,K1=(1<<_)-1,U1=A;for(;;U1=A){var U0=N[rQ(W,A)&i2],G5=U0>>4;if(A+=U0&15,A>L){if(G)z2(0);break}if(!U0)z2(2);if(G5<256)J[q++]=G5;else if(G5==256){U1=A,N=null;break}else{var n2=G5-254;if(G5>264){var b=G5-257,R5=gA[b];n2=N8(W,A,(1<<R5)-1)+dA[b],A+=R5}var K2=z[rQ(W,A)&K1],h6=K2>>4;if(!K2)z2(3);A+=K2&15;var Y2=dP[h6];if(h6>3){var R5=fA[h6];Y2+=rQ(W,A)&(1<<R5)-1,A+=R5}if(A>L){if(G)z2(0);break}if(H)B(q+131072);var o2=q+n2;if(q<Y2){var s=Q-Y2,p=Math.min(Y2,o2);if(s+q<0)z2(3);for(;q<p;++q)J[q]=Y[s+q]}for(;q<o2;++q)J[q]=J[q-Y2]}}if($.l=N,$.p=U1,$.b=q,$.f=w,N)w=1,$.m=D,$.d=z,$.n=_}while(!w);return q!=J.length&&M?uP(J,0,q):J.subarray(0,q)},pP,iP=function(W){if(W[0]!=31||W[1]!=139||W[2]!=8)z2(6,"invalid gzip data");var $=W[3],J=10;if($&4)J+=(W[10]|W[11]<<8)+2;for(var Y=($>>3&1)+($>>4&1);Y>0;Y-=!W[J++]);return J+($&2)},nP=function(W){var $=W.length;return(W[$-4]|W[$-3]<<8|W[$-2]<<16|W[$-1]<<24)>>>0},oP=function(W,$){if((W[0]&15)!=8||W[0]>>4>7||(W[0]<<8|W[1])%31)z2(6,"invalid zlib data");if((W[1]>>5&1)==+!$)z2(6,"invalid zlib data: "+(W[1]&32?"need":"unexpected")+" dictionary");return(W[1]>>3&4)+2},tP,eP=0;var uA=M1(()=>{kP=TP("/");try{gP=kP("worker_threads").Worker}catch(W){}D2=Uint8Array,B7=Uint16Array,fP=Int32Array,gA=new D2([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fA=new D2([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),vP=new D2([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),yA=vA(gA,2),dA=yA.b,yP=yA.r;dA[28]=258,yP[258]=28;cA=vA(fA,0),dP=cA.b,HW0=cA.r,tQ=new B7(32768);for(E0=0;E0<32768;++E0)x8=(E0&43690)>>1|(E0&21845)<<1,x8=(x8&52428)>>2|(x8&13107)<<2,x8=(x8&61680)>>4|(x8&3855)<<4,tQ[E0]=((x8&65280)>>8|(x8&255)<<8)>>1;W$=new D2(288);for(E0=0;E0<144;++E0)W$[E0]=8;for(E0=144;E0<256;++E0)W$[E0]=9;for(E0=256;E0<280;++E0)W$[E0]=7;for(E0=280;E0<288;++E0)W$[E0]=8;hA=new D2(32);for(E0=0;E0<32;++E0)hA[E0]=5;cP=eW(W$,9,1),hP=eW(hA,5,1),lP=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],pP=new D2(0);tP=typeof TextDecoder!="undefined"&&new TextDecoder;try{tP.decode(pP,{stream:!0}),eP=1}catch(W){}});var pA=u4((BW0,lA)=>{var U7=1000,w7=U7*60,A7=w7*60,X9=A7*24,WR=X9*7,$R=X9*365.25;lA.exports=function(W,$){$=$||{};var J=typeof W;if(J==="string"&&W.length>0)return JR(W);else if(J==="number"&&isFinite(W))return $.long?XR(W):YR(W);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(W))};function JR(W){if(W=String(W),W.length>100)return;var $=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(W);if(!$)return;var J=parseFloat($[1]),Y=($[2]||"ms").toLowerCase();switch(Y){case"years":case"year":case"yrs":case"yr":case"y":return J*$R;case"weeks":case"week":case"w":return J*WR;case"days":case"day":case"d":return J*X9;case"hours":case"hour":case"hrs":case"hr":case"h":return J*A7;case"minutes":case"minute":case"mins":case"min":case"m":return J*w7;case"seconds":case"second":case"secs":case"sec":case"s":return J*U7;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return J;default:return}}function YR(W){var $=Math.abs(W);if($>=X9)return Math.round(W/X9)+"d";if($>=A7)return Math.round(W/A7)+"h";if($>=w7)return Math.round(W/w7)+"m";if($>=U7)return Math.round(W/U7)+"s";return W+"ms"}function XR(W){var $=Math.abs(W);if($>=X9)return wY(W,$,X9,"day");if($>=A7)return wY(W,$,A7,"hour");if($>=w7)return wY(W,$,w7,"minute");if($>=U7)return wY(W,$,U7,"second");return W+" ms"}function wY(W,$,J,Y){var X=$>=J*1.5;return Math.round(W/J)+" "+Y+(X?"s":"")}});var WM=u4((UW0,iA)=>{function QR(W){J.debug=J,J.default=J,J.coerce=G,J.disable=M,J.enable=X,J.enabled=H,J.humanize=pA(),J.destroy=B,Object.keys(W).forEach((w)=>{J[w]=W[w]}),J.names=[],J.skips=[],J.formatters={};function $(w){let A=0;for(let q=0;q<w.length;q++)A=(A<<5)-A+w.charCodeAt(q),A|=0;return J.colors[Math.abs(A)%J.colors.length]}J.selectColor=$;function J(w){let A,q=null,N,z;function D(..._){if(!D.enabled)return;let L=D,S=Number(new Date),P=S-(A||S);if(L.diff=P,L.prev=A,L.curr=S,A=S,_[0]=J.coerce(_[0]),typeof _[0]!=="string")_.unshift("%O");let c=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(I,V)=>{if(I==="%%")return"%";c++;let x=J.formatters[V];if(typeof x==="function"){let C=_[c];I=x.call(L,C),_.splice(c,1),c--}return I}),J.formatArgs.call(L,_),(L.log||J.log).apply(L,_)}if(D.namespace=w,D.useColors=J.useColors(),D.color=J.selectColor(w),D.extend=Y,D.destroy=J.destroy,Object.defineProperty(D,"enabled",{enumerable:!0,configurable:!1,get:()=>{if(q!==null)return q;if(N!==J.namespaces)N=J.namespaces,z=J.enabled(w);return z},set:(_)=>{q=_}}),typeof J.init==="function")J.init(D);return D}function Y(w,A){let q=J(this.namespace+(typeof A==="undefined"?":":A)+w);return q.log=this.log,q}function X(w){J.save(w),J.namespaces=w,J.names=[],J.skips=[];let A=(typeof w==="string"?w:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let q of A)if(q[0]==="-")J.skips.push(q.slice(1));else J.names.push(q)}function Q(w,A){let q=0,N=0,z=-1,D=0;while(q<w.length)if(N<A.length&&(A[N]===w[q]||A[N]==="*"))if(A[N]==="*")z=N,D=q,N++;else q++,N++;else if(z!==-1)N=z+1,D++,q=D;else return!1;while(N<A.length&&A[N]==="*")N++;return N===A.length}function M(){let w=[...J.names,...J.skips.map((A)=>"-"+A)].join(",");return J.enable(""),w}function H(w){for(let A of J.skips)if(Q(w,A))return!1;for(let A of J.names)if(Q(w,A))return!0;return!1}function G(w){if(w instanceof Error)return w.stack||w.message;return w}function B(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return J.enable(J.load()),J}iA.exports=QR});var oA=u4((nA,AY)=>{nA.formatArgs=HR;nA.save=GR;nA.load=BR;nA.useColors=MR;nA.storage=UR();nA.destroy=(()=>{let W=!1;return()=>{if(!W)W=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}})();nA.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function MR(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let W;return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&(W=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(W[1],10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function HR(W){if(W[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+W[0]+(this.useColors?"%c ":" ")+"+"+AY.exports.humanize(this.diff),!this.useColors)return;let $="color: "+this.color;W.splice(1,0,$,"color: inherit");let J=0,Y=0;W[0].replace(/%[a-zA-Z%]/g,(X)=>{if(X==="%%")return;if(J++,X==="%c")Y=J}),W.splice(Y,0,$)}nA.log=console.debug||console.log||(()=>{});function GR(W){try{if(W)nA.storage.setItem("debug",W);else nA.storage.removeItem("debug")}catch($){}}function BR(){let W;try{W=nA.storage.getItem("debug")||nA.storage.getItem("DEBUG")}catch($){}if(!W&&typeof process!=="undefined"&&"env"in process)W=process.env.DEBUG;return W}function UR(){try{return localStorage}catch(W){}}AY.exports=WM()(nA);var{formatters:wR}=AY.exports;wR.j=function(W){try{return JSON.stringify(W)}catch($){return"[UnexpectedJSONParseError]: "+$.message}}});var aA=u4((AW0,sA)=>{sA.exports=(W,$)=>{$=$||process.argv;let J=W.startsWith("-")?"":W.length===1?"-":"--",Y=$.indexOf(J+W),X=$.indexOf("--");return Y!==-1&&(X===-1?!0:Y<X)}});var tA=u4((NW0,rA)=>{var OR=eX("os"),q8=aA(),C5=process.env,N7;if(q8("no-color")||q8("no-colors")||q8("color=false"))N7=!1;else if(q8("color")||q8("colors")||q8("color=true")||q8("color=always"))N7=!0;if("FORCE_COLOR"in C5)N7=C5.FORCE_COLOR.length===0||parseInt(C5.FORCE_COLOR,10)!==0;function _R(W){if(W===0)return!1;return{level:W,hasBasic:!0,has256:W>=2,has16m:W>=3}}function LR(W){if(N7===!1)return 0;if(q8("color=16m")||q8("color=full")||q8("color=truecolor"))return 3;if(q8("color=256"))return 2;if(W&&!W.isTTY&&N7!==!0)return 0;let $=N7?1:0;if(process.platform==="win32"){let J=OR.release().split(".");if(Number(process.versions.node.split(".")[0])>=8&&Number(J[0])>=10&&Number(J[2])>=10586)return Number(J[2])>=14931?3:2;return 1}if("CI"in C5){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((J)=>(J in C5))||C5.CI_NAME==="codeship")return 1;return $}if("TEAMCITY_VERSION"in C5)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(C5.TEAMCITY_VERSION)?1:0;if(C5.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in C5){let J=parseInt((C5.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(C5.TERM_PROGRAM){case"iTerm.app":return J>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(C5.TERM))return 2;if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(C5.TERM))return 1;if("COLORTERM"in C5)return 1;if(C5.TERM==="dumb")return $;return $}function $M(W){let $=LR(W);return _R($)}rA.exports={supportsColor:$M,stdout:$M(process.stdout),stderr:$M(process.stderr)}});var JN=u4((WN,qY)=>{var jR=eX("tty"),NY=eX("util");WN.init=PR;WN.log=VR;WN.formatArgs=KR;WN.save=bR;WN.load=ER;WN.useColors=FR;WN.destroy=NY.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");WN.colors=[6,2,3,4,5,1];try{let W=tA();if(W&&(W.stderr||W).level>=2)WN.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}catch(W){}WN.inspectOpts=Object.keys(process.env).filter((W)=>{return/^debug_/i.test(W)}).reduce((W,$)=>{let J=$.substring(6).toLowerCase().replace(/_([a-z])/g,(X,Q)=>{return Q.toUpperCase()}),Y=process.env[$];if(/^(yes|on|true|enabled)$/i.test(Y))Y=!0;else if(/^(no|off|false|disabled)$/i.test(Y))Y=!1;else if(Y==="null")Y=null;else Y=Number(Y);return W[J]=Y,W},{});function FR(){return"colors"in WN.inspectOpts?Boolean(WN.inspectOpts.colors):jR.isatty(process.stderr.fd)}function KR(W){let{namespace:$,useColors:J}=this;if(J){let Y=this.color,X="\x1B[3"+(Y<8?Y:"8;5;"+Y),Q=`  ${X};1m${$} \x1B[0m`;W[0]=Q+W[0].split(`
`).join(`
`+Q),W.push(X+"m+"+qY.exports.humanize(this.diff)+"\x1B[0m")}else W[0]=CR()+$+" "+W[0]}function CR(){if(WN.inspectOpts.hideDate)return"";return new Date().toISOString()+" "}function VR(...W){return process.stderr.write(NY.formatWithOptions(WN.inspectOpts,...W)+`
`)}function bR(W){if(W)process.env.DEBUG=W;else delete process.env.DEBUG}function ER(){return process.env.DEBUG}function PR(W){W.inspectOpts={};let $=Object.keys(WN.inspectOpts);for(let J=0;J<$.length;J++)W.inspectOpts[$[J]]=WN.inspectOpts[$[J]]}qY.exports=WM()(WN);var{formatters:eA}=qY.exports;eA.o=function(W){return this.inspectOpts.colors=this.useColors,NY.inspect(W,this.inspectOpts).split(`
`).map(($)=>$.trim()).join(" ")};eA.O=function(W){return this.inspectOpts.colors=this.useColors,NY.inspect(W,this.inspectOpts)}});var YN=u4((zW0,JM)=>{if(typeof process==="undefined"||process.type==="renderer"||!1||process.__nwjs)JM.exports=oA();else JM.exports=JN()});var M9,YM,XN,QN,MN;var HN=M1(()=>{tW();M9={LocalFileHeader:67324752,DataDescriptor:134695760,CentralFileHeader:33639248,EndOfCentralDirectory:101010256},YM={get(W){let $=_1.get(W,6);return{signature:v1.get(W,0),compressedSize:v1.get(W,8),uncompressedSize:v1.get(W,12)}},len:16},XN={get(W){let $=_1.get(W,6);return{signature:v1.get(W,0),minVersion:_1.get(W,4),dataDescriptor:!!($&8),compressedMethod:_1.get(W,8),compressedSize:v1.get(W,18),uncompressedSize:v1.get(W,22),filenameLength:_1.get(W,26),extraFieldLength:_1.get(W,28),filename:null}},len:30},QN={get(W){return{signature:v1.get(W,0),nrOfThisDisk:_1.get(W,4),nrOfThisDiskWithTheStart:_1.get(W,6),nrOfEntriesOnThisDisk:_1.get(W,8),nrOfEntriesOfSize:_1.get(W,10),sizeOfCd:v1.get(W,12),offsetOfStartOfCd:v1.get(W,16),zipFileCommentLength:_1.get(W,20)}},len:22},MN={get(W){let $=_1.get(W,8);return{signature:v1.get(W,0),minVersion:_1.get(W,6),dataDescriptor:!!($&8),compressedMethod:_1.get(W,10),compressedSize:v1.get(W,20),uncompressedSize:v1.get(W,24),filenameLength:_1.get(W,28),extraFieldLength:_1.get(W,30),fileCommentLength:_1.get(W,32),relativeOffsetOfLocalHeader:v1.get(W,42),filename:null}},len:46}});function BN(W){let $=new Uint8Array(v1.len);return v1.put($,0,W),$}class QM{constructor(W){this.tokenizer=W,this.syncBuffer=new Uint8Array(XM)}async isZip(){return await this.peekSignature()===M9.LocalFileHeader}peekSignature(){return this.tokenizer.peekToken(v1)}async findEndOfCentralDirectoryLocator(){let W=this.tokenizer,$=Math.min(16384,W.fileInfo.size),J=this.syncBuffer.subarray(0,$);await this.tokenizer.readBuffer(J,{position:W.fileInfo.size-$});for(let Y=J.length-4;Y>=0;Y--)if(J[Y]===zY[0]&&J[Y+1]===zY[1]&&J[Y+2]===zY[2]&&J[Y+3]===zY[3])return W.fileInfo.size-$+Y;return-1}async readCentralDirectory(){if(!this.tokenizer.supportsRandomAccess()){T8("Cannot reading central-directory without random-read support");return}T8("Reading central-directory...");let W=this.tokenizer.position,$=await this.findEndOfCentralDirectoryLocator();if($>0){T8("Central-directory 32-bit signature found");let J=await this.tokenizer.readToken(QN,$),Y=[];this.tokenizer.setPosition(J.offsetOfStartOfCd);for(let X=0;X<J.nrOfEntriesOfSize;++X){let Q=await this.tokenizer.readToken(MN);if(Q.signature!==M9.CentralFileHeader)throw new Error("Expected Central-File-Header signature");Q.filename=await this.tokenizer.readToken(new q2(Q.filenameLength,"utf-8")),await this.tokenizer.ignore(Q.extraFieldLength),await this.tokenizer.ignore(Q.fileCommentLength),Y.push(Q),T8(`Add central-directory file-entry: n=${X+1}/${Y.length}: filename=${Y[X].filename}`)}return this.tokenizer.setPosition(W),Y}this.tokenizer.setPosition(W)}async unzip(W){let $=await this.readCentralDirectory();if($)return this.iterateOverCentralDirectory($,W);let J=!1;do{let Y=await this.readLocalFileHeader();if(!Y)break;let X=W(Y);J=!!X.stop;let Q=void 0;if(await this.tokenizer.ignore(Y.extraFieldLength),Y.dataDescriptor&&Y.compressedSize===0){let M=[],H=XM;T8("Compressed-file-size unknown, scanning for next data-descriptor-signature....");let G=-1;while(G<0&&H===XM){H=await this.tokenizer.peekBuffer(this.syncBuffer,{mayBeLess:!0}),G=yR(this.syncBuffer.subarray(0,H),vR);let B=G>=0?G:H;if(X.handler){let w=new Uint8Array(B);await this.tokenizer.readBuffer(w),M.push(w)}else await this.tokenizer.ignore(B)}if(T8(`Found data-descriptor-signature at pos=${this.tokenizer.position}`),X.handler)await this.inflate(Y,dR(M),X.handler)}else if(X.handler)T8(`Reading compressed-file-data: ${Y.compressedSize} bytes`),Q=new Uint8Array(Y.compressedSize),await this.tokenizer.readBuffer(Q),await this.inflate(Y,Q,X.handler);else T8(`Ignoring compressed-file-data: ${Y.compressedSize} bytes`),await this.tokenizer.ignore(Y.compressedSize);if(T8(`Reading data-descriptor at pos=${this.tokenizer.position}`),Y.dataDescriptor){if((await this.tokenizer.readToken(YM)).signature!==134695760)throw new Error(`Expected data-descriptor-signature at position ${this.tokenizer.position-YM.len}`)}}while(!J)}async iterateOverCentralDirectory(W,$){for(let J of W){let Y=$(J);if(Y.handler){this.tokenizer.setPosition(J.relativeOffsetOfLocalHeader);let X=await this.readLocalFileHeader();if(X){await this.tokenizer.ignore(X.extraFieldLength);let Q=new Uint8Array(J.compressedSize);await this.tokenizer.readBuffer(Q),await this.inflate(X,Q,Y.handler)}}if(Y.stop)break}}inflate(W,$,J){if(W.compressedMethod===0)return J($);T8(`Decompress filename=${W.filename}, compressed-size=${$.length}`);let Y=mA($);return J(Y)}async readLocalFileHeader(){let W=await this.tokenizer.peekToken(v1);if(W===M9.LocalFileHeader){let $=await this.tokenizer.readToken(XN);return $.filename=await this.tokenizer.readToken(new q2($.filenameLength,"utf-8")),$}if(W===M9.CentralFileHeader)return!1;if(W===3759263696)throw new Error("Encrypted ZIP");throw new Error("Unexpected signature")}}function yR(W,$){let J=W.length,Y=$.length;if(Y>J)return-1;for(let X=0;X<=J-Y;X++){let Q=!0;for(let M=0;M<Y;M++)if(W[X+M]!==$[M]){Q=!1;break}if(Q)return X}return-1}function dR(W){let $=W.reduce((X,Q)=>X+Q.length,0),J=new Uint8Array($),Y=0;for(let X of W)J.set(X,Y),Y+=X.length;return J}var GN,T8,XM=262144,vR,zY;var UN=M1(()=>{tW();uA();GN=y_(YN(),1);HN();T8=GN.default("tokenizer:inflate"),vR=BN(M9.DataDescriptor),zY=BN(M9.EndOfCentralDirectory)});function MM(W){let{byteLength:$}=W;if($===6)return W.getUint16(0)*4294967296+W.getUint32(2);if($===5)return W.getUint8(0)*4294967296+W.getUint32(1);if($===4)return W.getUint32(0);if($===3)return W.getUint8(0)*65536+W.getUint16(1);if($===2)return W.getUint16(0);if($===1)return W.getUint8(0)}var jW0,FW0,KW0;var wN=M1(()=>{jW0={utf8:new globalThis.TextDecoder("utf8")},FW0=new globalThis.TextEncoder,KW0=Array.from({length:256},(W,$)=>$.toString(16).padStart(2,"0"))});function AN(W){return[...W].map(($)=>$.charCodeAt(0))}function NN(W,$=0){let J=Number.parseInt(new q2(6).get(W,148).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(J))return!1;let Y=256;for(let X=$;X<$+148;X++)Y+=W[X];for(let X=$+156;X<$+512;X++)Y+=W[X];return J===Y}var qN;var zN=M1(()=>{tW();qN={get:(W,$)=>W[$+3]&127|W[$+2]<<7|W[$+1]<<14|W[$]<<21,len:4}});var DN,ZN;var SN=M1(()=>{DN=["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","elf","macho","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ttc","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","j2c","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf","jls","pst","dwg","parquet","class","arj","cpio","ace","avro","icc","fbx","vsdx","vtt","apk","drc","lz4","potx","xltx","dotx","xltm","ott","ots","otp","odg","otg","xlsm","docm","dotm","potm","pptm","jar","rm","ppsm","ppsx"],ZN=["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/vnd.apache.arrow.file","video/mp4","audio/midi","video/matroska","video/webm","video/quicktime","video/vnd.avi","audio/wav","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","video/ogg","audio/ogg","audio/ogg; codecs=opus","application/ogg","audio/flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-elf","application/x-mach-binary","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","font/collection","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/j2c","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","text/vtt","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd","image/jls","application/vnd.ms-outlook","image/vnd.dwg","application/vnd.apache.parquet","application/java-vm","application/x-arj","application/x-cpio","application/x-ace-compressed","application/avro","application/vnd.iccprofile","application/x.autodesk.fbx","application/vnd.visio","application/vnd.android.package-archive","application/vnd.google.draco","application/x-lz4","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-excel.template.macroenabled.12","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.presentation-template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.graphics-template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/java-archive","application/vnd.rn-realmedia"]});async function ON(W,$){return new q7($).fromBuffer(W)}async function _N(W,$){return new q7($).fromBlob(W)}function HM(W){switch(W=W.toLowerCase(),W){case"application/epub+zip":return{ext:"epub",mime:W};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:W};case"application/vnd.oasis.opendocument.text-template":return{ext:"ott",mime:W};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:W};case"application/vnd.oasis.opendocument.spreadsheet-template":return{ext:"ots",mime:W};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:W};case"application/vnd.oasis.opendocument.presentation-template":return{ext:"otp",mime:W};case"application/vnd.oasis.opendocument.graphics":return{ext:"odg",mime:W};case"application/vnd.oasis.opendocument.graphics-template":return{ext:"otg",mime:W};case"application/vnd.openxmlformats-officedocument.presentationml.slideshow":return{ext:"ppsx",mime:W};case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return{ext:"xlsx",mime:W};case"application/vnd.ms-excel.sheet.macroenabled":return{ext:"xlsm",mime:"application/vnd.ms-excel.sheet.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.spreadsheetml.template":return{ext:"xltx",mime:W};case"application/vnd.ms-excel.template.macroenabled":return{ext:"xltm",mime:"application/vnd.ms-excel.template.macroenabled.12"};case"application/vnd.ms-powerpoint.slideshow.macroenabled":return{ext:"ppsm",mime:"application/vnd.ms-powerpoint.slideshow.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return{ext:"docx",mime:W};case"application/vnd.ms-word.document.macroenabled":return{ext:"docm",mime:"application/vnd.ms-word.document.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.wordprocessingml.template":return{ext:"dotx",mime:W};case"application/vnd.ms-word.template.macroenabledtemplate":return{ext:"dotm",mime:"application/vnd.ms-word.template.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.presentationml.template":return{ext:"potx",mime:W};case"application/vnd.ms-powerpoint.template.macroenabled":return{ext:"potm",mime:"application/vnd.ms-powerpoint.template.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return{ext:"pptx",mime:W};case"application/vnd.ms-powerpoint.presentation.macroenabled":return{ext:"pptm",mime:"application/vnd.ms-powerpoint.presentation.macroenabled.12"};case"application/vnd.ms-visio.drawing":return{ext:"vsdx",mime:"application/vnd.visio"};case"application/vnd.ms-package.3dmanufacturing-3dmodel+xml":return{ext:"3mf",mime:"model/3mf"};default:}}function k8(W,$,J){J={offset:0,...J};for(let[Y,X]of $.entries())if(J.mask){if(X!==(J.mask[Y]&W[Y+J.offset]))return!1}else if(X!==W[Y+J.offset])return!1;return!0}async function LN(W,$){return new q7($).fromTokenizer(W)}class q7{constructor(W){this.options={mpegOffsetTolerance:0,...W},this.detectors=[...W?.customDetectors??[],{id:"core",detect:this.detectConfident},{id:"core.imprecise",detect:this.detectImprecise}],this.tokenizerOptions={abortSignal:W?.signal}}async fromTokenizer(W){let $=W.position;for(let J of this.detectors){let Y=await J.detect(W);if(Y)return Y;if($!==W.position)return}}async fromBuffer(W){if(!(W instanceof Uint8Array||W instanceof ArrayBuffer))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof W}\``);let $=W instanceof Uint8Array?W:new Uint8Array(W);if(!($?.length>1))return;return this.fromTokenizer(KA($,this.tokenizerOptions))}async fromBlob(W){return this.fromStream(W.stream())}async fromStream(W){let $=await BY(W,this.tokenizerOptions);try{return await this.fromTokenizer($)}finally{await $.close()}}async toDetectionStream(W,$){let{sampleSize:J=J$}=$,Y,X,Q=W.getReader({mode:"byob"});try{let{value:G,done:B}=await Q.read(new Uint8Array(J));if(X=G,!B&&G)try{Y=await this.fromBuffer(G.subarray(0,J))}catch(w){if(!(w instanceof J1))throw w;Y=void 0}X=G}finally{Q.releaseLock()}let M=new TransformStream({async start(G){G.enqueue(X)},transform(G,B){B.enqueue(G)}}),H=W.pipeThrough(M);return H.fileType=Y,H}check(W,$){return k8(this.buffer,W,$)}checkString(W,$){return this.check(AN(W),$)}detectConfident=async(W)=>{if(this.buffer=new Uint8Array(J$),W.fileInfo.size===void 0)W.fileInfo.size=Number.MAX_SAFE_INTEGER;if(this.tokenizer=W,await W.peekBuffer(this.buffer,{length:12,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33])){if(await W.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14}))return{ext:"eps",mime:"application/eps"};return{ext:"ps",mime:"application/postscript"}}if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([199,113]))return{ext:"cpio",mime:"application/x-cpio"};if(this.check([96,234]))return{ext:"arj",mime:"application/x-arj"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.detectConfident(W);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await W.ignore(6);let $=await W.readToken(qN);if(W.position+$>W.fileInfo.size)return{ext:"mp3",mime:"audio/mpeg"};return await W.ignore($),this.fromTokenizer(W)}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((this.buffer[0]===67||this.buffer[0]===70)&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.check([255,216,255])){if(this.check([247],{offset:3}))return{ext:"jls",mime:"image/jls"};return{ext:"jpg",mime:"image/jpeg"}}if(this.check([79,98,106,1]))return{ext:"avro",mime:"application/avro"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){let $;return await new QM(W).unzip((J)=>{switch(J.filename){case"META-INF/mozilla.rsa":return $={ext:"xpi",mime:"application/x-xpinstall"},{stop:!0};case"META-INF/MANIFEST.MF":return $={ext:"jar",mime:"application/java-archive"},{stop:!0};case"mimetype":return{async handler(Y){let X=new TextDecoder("utf-8").decode(Y).trim();$=HM(X)},stop:!0};case"[Content_Types].xml":return{async handler(Y){let X=new TextDecoder("utf-8").decode(Y),Q=X.indexOf('.main+xml"');if(Q===-1){if(X.includes('ContentType="application/vnd.ms-package.3dmanufacturing-3dmodel+xml"'))$=HM("application/vnd.ms-package.3dmanufacturing-3dmodel+xml")}else{X=X.slice(0,Math.max(0,Q));let M=X.lastIndexOf('"'),H=X.slice(Math.max(0,M+1));$=HM(H)}},stop:!0};default:if(/classes\d*\.dex/.test(J.filename))return $={ext:"apk",mime:"application/vnd.android.package-archive"},{stop:!0};return{}}}),$??{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await W.ignore(28);let $=new Uint8Array(8);if(await W.readBuffer($),k8($,[79,112,117,115,72,101,97,100]))return{ext:"opus",mime:"audio/ogg; codecs=opus"};if(k8($,[128,116,104,101,111,114,97]))return{ext:"ogv",mime:"video/ogg"};if(k8($,[1,118,105,100,101,111,0]))return{ext:"ogm",mime:"video/ogg"};if(k8($,[127,70,76,65,67]))return{ext:"oga",mime:"audio/ogg"};if(k8($,[83,112,101,101,120,32,32]))return{ext:"spx",mime:"audio/ogg"};if(k8($,[1,118,111,114,98,105,115]))return{ext:"ogg",mime:"audio/ogg"};return{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(this.buffer[2]===3||this.buffer[2]===5||this.buffer[2]===7)&&(this.buffer[3]===4||this.buffer[3]===6||this.buffer[3]===8))return{ext:"zip",mime:"application/zip"};if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF"))return{ext:"pdf",mime:"application/pdf"};if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){let $=await this.readTiffHeader(!1);if($)return $}if(this.check([77,77])){let $=await this.readTiffHeader(!0);if($)return $}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function $(){let M=await W.peekNumber(IA),H=128,G=0;while((M&H)===0&&H!==0)++G,H>>=1;let B=new Uint8Array(G+1);return await W.readBuffer(B),B}async function J(){let M=await $(),H=await $();H[0]^=128>>H.length-1;let G=Math.min(6,H.length),B=new DataView(M.buffer),w=new DataView(H.buffer,H.length-G,G);return{id:MM(B),len:MM(w)}}async function Y(M){while(M>0){let H=await J();if(H.id===17026)return(await W.readToken(new q2(H.len))).replaceAll(/\00.*$/g,"");await W.ignore(H.len),--M}}let X=await J();switch(await Y(X.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/matroska"};default:return}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([33,66,68,78]))return{ext:"pst",mime:"application/vnd.ms-outlook"};if(this.checkString("PAR1")||this.checkString("PARE"))return{ext:"parquet",mime:"application/vnd.apache.parquet"};if(this.checkString("ttcf"))return{ext:"ttc",mime:"font/collection"};if(this.check([207,250,237,254]))return{ext:"macho",mime:"application/x-mach-binary"};if(this.check([4,34,77,24]))return{ext:"lz4",mime:"application/x-lz4"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([202,254,186,190]))return{ext:"class",mime:"application/java-vm"};if(this.checkString(".RMF"))return{ext:"rm",mime:"application/vnd.rn-realmedia"};if(this.checkString("DRACO"))return{ext:"drc",mime:"application/vnd.google.draco"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(this.buffer[6]===0||this.buffer[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("AC")){let $=new q2(4,"latin1").get(this.buffer,2);if($.match("^d*")&&$>=1000&&$<=1050)return{ext:"dwg",mime:"image/vnd.dwg"}}if(this.checkString("070707"))return{ext:"cpio",mime:"application/x-cpio"};if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>")){if(await W.ignore(8),await W.readToken(new q2(13,"ascii"))==="debian-binary")return{ext:"deb",mime:"application/x-deb"};return{ext:"ar",mime:"application/x-unix-archive"}}if(this.checkString("WEBVTT")&&[`
`,"\r","\t"," ","\x00"].some(($)=>this.checkString($,{offset:6})))return{ext:"vtt",mime:"text/vtt"};if(this.check([137,80,78,71,13,10,26,10])){await W.ignore(8);async function $(){return{length:await W.readToken(TA),type:await W.readToken(new q2(4,"latin1"))}}do{let J=await $();if(J.length<0)return;switch(J.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await W.ignore(J.length+4)}}while(W.position+8<W.fileInfo.size);return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/vnd.apache.arrow.file"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.checkString("ftyp",{offset:4})&&(this.buffer[8]&96)!==0){let $=new q2(4,"latin1").get(this.buffer,8).replace("\x00"," ").trim();switch($){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:if($.startsWith("3g")){if($.startsWith("3g2"))return{ext:"3g2",mime:"video/3gpp2"};return{ext:"3gp",mime:"video/3gpp"}}return{ext:"mp4",mime:"video/mp4"}}}if(this.check([82,73,70,70])){if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/wav"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function $(){let J=new Uint8Array(16);return await W.readBuffer(J),{id:J,size:Number(await W.readToken(kA))}}await W.ignore(30);while(W.position+24<W.fileInfo.size){let J=await $(),Y=J.size-24;if(k8(J.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){let X=new Uint8Array(16);if(Y-=await W.readBuffer(X),k8(X,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(k8(X,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await W.ignore(Y)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([255,79,255,81]))return{ext:"j2c",mime:"image/j2c"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await W.ignore(20),await W.readToken(new q2(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255])){if(this.check([0,60,0,63,0,120,0,109,0,108],{offset:2}))return{ext:"xml",mime:"application/xml"};return}if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await W.peekBuffer(this.buffer,{length:Math.min(256,W.fileInfo.size),mayBeLess:!0}),this.check([97,99,115,112],{offset:36}))return{ext:"icc",mime:"application/vnd.iccprofile"};if(this.checkString("**ACE",{offset:7})&&this.checkString("**",{offset:12}))return{ext:"ace",mime:"application/x-ace-compressed"};if(this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){let $=new DataView(this.buffer.buffer).getUint32(12,!0);if($>12&&this.buffer.length>=$+16)try{let J=new TextDecoder().decode(this.buffer.subarray(16,$+16));if(JSON.parse(J).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(this.checkString("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(this.check([71])&&this.check([71],{offset:188}))return{ext:"mts",mime:"video/mp2t"};if(this.check([71],{offset:4})&&this.check([71],{offset:196}))return{ext:"mts",mime:"video/mp2t"};if(this.check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(this.check([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(this.checkString("Kaydara FBX Binary  \x00"))return{ext:"fbx",mime:"application/x.autodesk.fbx"};if(this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await W.peekBuffer(this.buffer,{length:Math.min(512,W.fileInfo.size),mayBeLess:!0}),this.checkString("ustar",{offset:257})&&(this.checkString("\x00",{offset:262})||this.checkString(" ",{offset:262}))||this.check([0,0,0,0,0,0],{offset:257})&&NN(this.buffer))return{ext:"tar",mime:"application/x-tar"};if(this.check([255,254])){if(this.check([60,0,63,0,120,0,109,0,108,0],{offset:2}))return{ext:"xml",mime:"application/xml"};if(this.check([255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0],{offset:2}))return{ext:"skp",mime:"application/vnd.sketchup.skp"};return}if(this.checkString("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"}};detectImprecise=async(W)=>{if(this.buffer=new Uint8Array(J$),await W.peekBuffer(this.buffer,{length:Math.min(8,W.fileInfo.size),mayBeLess:!0}),this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(await W.peekBuffer(this.buffer,{length:Math.min(2+this.options.mpegOffsetTolerance,W.fileInfo.size),mayBeLess:!0}),this.buffer.length>=2+this.options.mpegOffsetTolerance)for(let $=0;$<=this.options.mpegOffsetTolerance;++$){let J=this.scanMpeg($);if(J)return J}};async readTiffTag(W){let $=await this.tokenizer.readToken(W?G7:_1);switch(this.tokenizer.ignore(10),$){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"};default:}}async readTiffIFD(W){let $=await this.tokenizer.readToken(W?G7:_1);for(let J=0;J<$;++J){let Y=await this.readTiffTag(W);if(Y)return Y}}async readTiffHeader(W){let $=(W?G7:_1).get(this.buffer,2),J=(W?xA:v1).get(this.buffer,4);if($===42){if(J>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(J>=8){let X=(W?G7:_1).get(this.buffer,8),Q=(W?G7:_1).get(this.buffer,10);if(X===28&&Q===254||X===31&&Q===11)return{ext:"nef",mime:"image/x-nikon-nef"}}}return await this.tokenizer.ignore(J),await this.readTiffIFD(W)??{ext:"tif",mime:"image/tiff"}}if($===43)return{ext:"tif",mime:"image/tiff"}}scanMpeg(W){if(this.check([255,224],{offset:W,mask:[255,224]})){if(this.check([16],{offset:W+1,mask:[22]})){if(this.check([8],{offset:W+1,mask:[8]}))return{ext:"aac",mime:"audio/aac"};return{ext:"aac",mime:"audio/aac"}}if(this.check([2],{offset:W+1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:W+1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:W+1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}}var J$=4100,jN,FN;var GM=M1(()=>{tW();UY();UN();wN();zN();SN();jN=new Set(DN),FN=new Set(ZN)});var CN={};W6(CN,{supportedMimeTypes:()=>FN,supportedExtensions:()=>jN,fileTypeStream:()=>pR,fileTypeFromTokenizer:()=>LN,fileTypeFromStream:()=>lR,fileTypeFromFile:()=>uR,fileTypeFromBuffer:()=>ON,fileTypeFromBlob:()=>_N,FileTypeParser:()=>Y$});import{ReadableStream as cR}from"stream/web";import{pipeline as KN,PassThrough as hR,Readable as mR}from"stream";async function uR(W,$){return new Y$($).fromFile(W,$)}async function lR(W,$){return new Y$($).fromStream(W)}async function pR(W,$={}){return new Y$($).toDetectionStream(W,$)}var Y$;var VN=M1(()=>{bA();GM();GM();Y$=class Y$ extends q7{async fromStream(W){let $=await(W instanceof cR?BY(W,this.tokenizerOptions):CA(W,this.tokenizerOptions));try{return await super.fromTokenizer($)}finally{await $.close()}}async fromFile(W){let $=await VA(W);try{return await super.fromTokenizer($)}finally{await $.close()}}async toDetectionStream(W,$={}){if(!(W instanceof mR))return super.toDetectionStream(W,$);let{sampleSize:J=J$}=$;return new Promise((Y,X)=>{W.on("error",X),W.once("readable",()=>{(async()=>{try{let Q=new hR,M=KN?KN(W,Q,()=>{}):W.pipe(Q),H=W.read(J)??W.read()??new Uint8Array(0);try{Q.fileType=await this.fromBuffer(H)}catch(G){if(G instanceof J1)Q.fileType=void 0;else X(G)}Y(M)}catch(Q){X(Q)}})()})})}}});var _5={};W6(_5,{IsUndefined:()=>g1,IsUint8Array:()=>J6,IsSymbol:()=>XQ,IsString:()=>W1,IsRegExp:()=>PW,IsObject:()=>i0,IsNumber:()=>Q2,IsNull:()=>YQ,IsIterator:()=>JQ,IsFunction:()=>$Q,IsDate:()=>l4,IsBoolean:()=>$6,IsBigInt:()=>EW,IsAsyncIterator:()=>WQ,IsArray:()=>k1,HasPropertyKey:()=>_J});function _J(W,$){return $ in W}function WQ(W){return i0(W)&&!k1(W)&&!J6(W)&&Symbol.asyncIterator in W}function k1(W){return Array.isArray(W)}function EW(W){return typeof W==="bigint"}function $6(W){return typeof W==="boolean"}function l4(W){return W instanceof globalThis.Date}function $Q(W){return typeof W==="function"}function JQ(W){return i0(W)&&!k1(W)&&!J6(W)&&Symbol.iterator in W}function YQ(W){return W===null}function Q2(W){return typeof W==="number"}function i0(W){return typeof W==="object"&&W!==null}function PW(W){return W instanceof globalThis.RegExp}function W1(W){return typeof W==="string"}function XQ(W){return typeof W==="symbol"}function J6(W){return W instanceof globalThis.Uint8Array}function g1(W){return W===void 0}function d_(W){return W.map(($)=>LJ($))}function c_(W){return new Date(W.getTime())}function h_(W){return new Uint8Array(W)}function m_(W){return new RegExp(W.source,W.flags)}function u_(W){let $={};for(let J of Object.getOwnPropertyNames(W))$[J]=LJ(W[J]);for(let J of Object.getOwnPropertySymbols(W))$[J]=LJ(W[J]);return $}function LJ(W){return k1(W)?d_(W):l4(W)?c_(W):J6(W)?h_(W):PW(W)?m_(W):i0(W)?u_(W):W}function w1(W){return LJ(W)}function f9(W,$){return $===void 0?w1(W):w1({...$,...W})}function jJ(W){return z0(W)&&globalThis.Symbol.asyncIterator in W}function FJ(W){return z0(W)&&globalThis.Symbol.iterator in W}function QQ(W){return z0(W)&&(globalThis.Object.getPrototypeOf(W)===Object.prototype||globalThis.Object.getPrototypeOf(W)===null)}function KJ(W){return W instanceof globalThis.Promise}function I5(W){return W instanceof Date&&globalThis.Number.isFinite(W.getTime())}function zB(W){return W instanceof globalThis.Map}function DB(W){return W instanceof globalThis.Set}function C2(W){return globalThis.ArrayBuffer.isView(W)}function v9(W){return W instanceof globalThis.Uint8Array}function w0(W,$){return $ in W}function z0(W){return W!==null&&typeof W==="object"}function Q0(W){return globalThis.Array.isArray(W)&&!globalThis.ArrayBuffer.isView(W)}function A1(W){return W===void 0}function Y6(W){return W===null}function E8(W){return typeof W==="boolean"}function Y0(W){return typeof W==="number"}function CJ(W){return globalThis.Number.isInteger(W)}function U5(W){return typeof W==="bigint"}function T0(W){return typeof W==="string"}function m6(W){return typeof W==="function"}function X6(W){return typeof W==="symbol"}function M2(W){return U5(W)||E8(W)||Y6(W)||Y0(W)||T0(W)||X6(W)||A1(W)}var H1;(function(W){W.InstanceMode="default",W.ExactOptionalPropertyTypes=!1,W.AllowArrayObject=!1,W.AllowNaN=!1,W.AllowNullVoid=!1;function $(M,H){return W.ExactOptionalPropertyTypes?H in M:M[H]!==void 0}W.IsExactOptionalProperty=$;function J(M){let H=z0(M);return W.AllowArrayObject?H:H&&!Q0(M)}W.IsObjectLike=J;function Y(M){return J(M)&&!(M instanceof Date)&&!(M instanceof Uint8Array)}W.IsRecordLike=Y;function X(M){return W.AllowNaN?Y0(M):Number.isFinite(M)}W.IsNumberLike=X;function Q(M){let H=A1(M);return W.AllowNullVoid?H||M===null:H}W.IsVoidLike=Q})(H1||(H1={}));function l_(W){return globalThis.Object.freeze(W).map(($)=>RW($))}function p_(W){return W}function i_(W){return W}function n_(W){return W}function o_(W){let $={};for(let J of Object.getOwnPropertyNames(W))$[J]=RW(W[J]);for(let J of Object.getOwnPropertySymbols(W))$[J]=RW(W[J]);return globalThis.Object.freeze($)}function RW(W){return k1(W)?l_(W):l4(W)?p_(W):J6(W)?i_(W):PW(W)?n_(W):i0(W)?o_(W):W}function g(W,$){let J=$!==void 0?{...$,...W}:W;switch(H1.InstanceMode){case"freeze":return RW(J);case"clone":return w1(J);default:return J}}class H0 extends Error{constructor(W){super(W)}}var t0=Symbol.for("TypeBox.Transform"),s2=Symbol.for("TypeBox.Readonly"),n1=Symbol.for("TypeBox.Optional"),V2=Symbol.for("TypeBox.Hint"),K=Symbol.for("TypeBox.Kind");function y9(W){return i0(W)&&W[s2]==="Readonly"}function c5(W){return i0(W)&&W[n1]==="Optional"}function MQ(W){return R0(W,"Any")}function HQ(W){return R0(W,"Argument")}function a2(W){return R0(W,"Array")}function p4(W){return R0(W,"AsyncIterator")}function i4(W){return R0(W,"BigInt")}function Q6(W){return R0(W,"Boolean")}function r2(W){return R0(W,"Computed")}function t2(W){return R0(W,"Constructor")}function s_(W){return R0(W,"Date")}function e2(W){return R0(W,"Function")}function W8(W){return R0(W,"Integer")}function C1(W){return R0(W,"Intersect")}function n4(W){return R0(W,"Iterator")}function R0(W,$){return i0(W)&&K in W&&W[K]===$}function VJ(W){return $6(W)||Q2(W)||W1(W)}function H2(W){return R0(W,"Literal")}function G2(W){return R0(W,"MappedKey")}function N1(W){return R0(W,"MappedResult")}function u6(W){return R0(W,"Never")}function a_(W){return R0(W,"Not")}function IW(W){return R0(W,"Null")}function $8(W){return R0(W,"Number")}function f1(W){return R0(W,"Object")}function o4(W){return R0(W,"Promise")}function s4(W){return R0(W,"Record")}function I1(W){return R0(W,"Ref")}function GQ(W){return R0(W,"RegExp")}function M6(W){return R0(W,"String")}function xW(W){return R0(W,"Symbol")}function B2(W){return R0(W,"TemplateLiteral")}function r_(W){return R0(W,"This")}function c0(W){return i0(W)&&t0 in W}function U2(W){return R0(W,"Tuple")}function H6(W){return R0(W,"Undefined")}function k0(W){return R0(W,"Union")}function t_(W){return R0(W,"Uint8Array")}function e_(W){return R0(W,"Unknown")}function WL(W){return R0(W,"Unsafe")}function $L(W){return R0(W,"Void")}function l6(W){return i0(W)&&K in W&&W1(W[K])}function S1(W){return MQ(W)||HQ(W)||a2(W)||Q6(W)||i4(W)||p4(W)||r2(W)||t2(W)||s_(W)||e2(W)||W8(W)||C1(W)||n4(W)||H2(W)||G2(W)||N1(W)||u6(W)||a_(W)||IW(W)||$8(W)||f1(W)||o4(W)||s4(W)||I1(W)||GQ(W)||M6(W)||xW(W)||B2(W)||r_(W)||U2(W)||H6(W)||k0(W)||t_(W)||e_(W)||WL(W)||$L(W)||l6(W)}var j={};W6(j,{TypeGuardUnknownTypeError:()=>ZB,IsVoid:()=>XU,IsUnsafe:()=>YU,IsUnknown:()=>JU,IsUnionLiteral:()=>UL,IsUnion:()=>wQ,IsUndefined:()=>WU,IsUint8Array:()=>$U,IsTuple:()=>eB,IsTransform:()=>tB,IsThis:()=>rB,IsTemplateLiteral:()=>aB,IsSymbol:()=>sB,IsString:()=>oB,IsSchema:()=>q1,IsRegExp:()=>nB,IsRef:()=>iB,IsRecursive:()=>BL,IsRecord:()=>pB,IsReadonly:()=>QL,IsProperties:()=>bJ,IsPromise:()=>lB,IsOptional:()=>ML,IsObject:()=>uB,IsNumber:()=>mB,IsNull:()=>hB,IsNot:()=>cB,IsNever:()=>dB,IsMappedResult:()=>yB,IsMappedKey:()=>vB,IsLiteralValue:()=>fB,IsLiteralString:()=>kB,IsLiteralNumber:()=>gB,IsLiteralBoolean:()=>GL,IsLiteral:()=>kW,IsKindOf:()=>F0,IsKind:()=>QU,IsIterator:()=>TB,IsIntersect:()=>xB,IsInteger:()=>IB,IsImport:()=>HL,IsFunction:()=>RB,IsDate:()=>PB,IsConstructor:()=>EB,IsComputed:()=>bB,IsBoolean:()=>VB,IsBigInt:()=>CB,IsAsyncIterator:()=>KB,IsArray:()=>FB,IsArgument:()=>jB,IsAny:()=>LB});class ZB extends H0{}var JL=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function SB(W){try{return new RegExp(W),!0}catch{return!1}}function BQ(W){if(!W1(W))return!1;for(let $=0;$<W.length;$++){let J=W.charCodeAt($);if(J>=7&&J<=13||J===27||J===127)return!1}return!0}function OB(W){return UQ(W)||q1(W)}function TW(W){return g1(W)||EW(W)}function $1(W){return g1(W)||Q2(W)}function UQ(W){return g1(W)||$6(W)}function n0(W){return g1(W)||W1(W)}function YL(W){return g1(W)||W1(W)&&BQ(W)&&SB(W)}function XL(W){return g1(W)||W1(W)&&BQ(W)}function _B(W){return g1(W)||q1(W)}function QL(W){return i0(W)&&W[s2]==="Readonly"}function ML(W){return i0(W)&&W[n1]==="Optional"}function LB(W){return F0(W,"Any")&&n0(W.$id)}function jB(W){return F0(W,"Argument")&&Q2(W.index)}function FB(W){return F0(W,"Array")&&W.type==="array"&&n0(W.$id)&&q1(W.items)&&$1(W.minItems)&&$1(W.maxItems)&&UQ(W.uniqueItems)&&_B(W.contains)&&$1(W.minContains)&&$1(W.maxContains)}function KB(W){return F0(W,"AsyncIterator")&&W.type==="AsyncIterator"&&n0(W.$id)&&q1(W.items)}function CB(W){return F0(W,"BigInt")&&W.type==="bigint"&&n0(W.$id)&&TW(W.exclusiveMaximum)&&TW(W.exclusiveMinimum)&&TW(W.maximum)&&TW(W.minimum)&&TW(W.multipleOf)}function VB(W){return F0(W,"Boolean")&&W.type==="boolean"&&n0(W.$id)}function bB(W){return F0(W,"Computed")&&W1(W.target)&&k1(W.parameters)&&W.parameters.every(($)=>q1($))}function EB(W){return F0(W,"Constructor")&&W.type==="Constructor"&&n0(W.$id)&&k1(W.parameters)&&W.parameters.every(($)=>q1($))&&q1(W.returns)}function PB(W){return F0(W,"Date")&&W.type==="Date"&&n0(W.$id)&&$1(W.exclusiveMaximumTimestamp)&&$1(W.exclusiveMinimumTimestamp)&&$1(W.maximumTimestamp)&&$1(W.minimumTimestamp)&&$1(W.multipleOfTimestamp)}function RB(W){return F0(W,"Function")&&W.type==="Function"&&n0(W.$id)&&k1(W.parameters)&&W.parameters.every(($)=>q1($))&&q1(W.returns)}function HL(W){return F0(W,"Import")&&_J(W,"$defs")&&i0(W.$defs)&&bJ(W.$defs)&&_J(W,"$ref")&&W1(W.$ref)&&W.$ref in W.$defs}function IB(W){return F0(W,"Integer")&&W.type==="integer"&&n0(W.$id)&&$1(W.exclusiveMaximum)&&$1(W.exclusiveMinimum)&&$1(W.maximum)&&$1(W.minimum)&&$1(W.multipleOf)}function bJ(W){return i0(W)&&Object.entries(W).every(([$,J])=>BQ($)&&q1(J))}function xB(W){return F0(W,"Intersect")&&(W1(W.type)&&W.type!=="object"?!1:!0)&&k1(W.allOf)&&W.allOf.every(($)=>q1($)&&!tB($))&&n0(W.type)&&(UQ(W.unevaluatedProperties)||_B(W.unevaluatedProperties))&&n0(W.$id)}function TB(W){return F0(W,"Iterator")&&W.type==="Iterator"&&n0(W.$id)&&q1(W.items)}function F0(W,$){return i0(W)&&K in W&&W[K]===$}function kB(W){return kW(W)&&W1(W.const)}function gB(W){return kW(W)&&Q2(W.const)}function GL(W){return kW(W)&&$6(W.const)}function kW(W){return F0(W,"Literal")&&n0(W.$id)&&fB(W.const)}function fB(W){return $6(W)||Q2(W)||W1(W)}function vB(W){return F0(W,"MappedKey")&&k1(W.keys)&&W.keys.every(($)=>Q2($)||W1($))}function yB(W){return F0(W,"MappedResult")&&bJ(W.properties)}function dB(W){return F0(W,"Never")&&i0(W.not)&&Object.getOwnPropertyNames(W.not).length===0}function cB(W){return F0(W,"Not")&&q1(W.not)}function hB(W){return F0(W,"Null")&&W.type==="null"&&n0(W.$id)}function mB(W){return F0(W,"Number")&&W.type==="number"&&n0(W.$id)&&$1(W.exclusiveMaximum)&&$1(W.exclusiveMinimum)&&$1(W.maximum)&&$1(W.minimum)&&$1(W.multipleOf)}function uB(W){return F0(W,"Object")&&W.type==="object"&&n0(W.$id)&&bJ(W.properties)&&OB(W.additionalProperties)&&$1(W.minProperties)&&$1(W.maxProperties)}function lB(W){return F0(W,"Promise")&&W.type==="Promise"&&n0(W.$id)&&q1(W.item)}function pB(W){return F0(W,"Record")&&W.type==="object"&&n0(W.$id)&&OB(W.additionalProperties)&&i0(W.patternProperties)&&(($)=>{let J=Object.getOwnPropertyNames($.patternProperties);return J.length===1&&SB(J[0])&&i0($.patternProperties)&&q1($.patternProperties[J[0]])})(W)}function BL(W){return i0(W)&&V2 in W&&W[V2]==="Recursive"}function iB(W){return F0(W,"Ref")&&n0(W.$id)&&W1(W.$ref)}function nB(W){return F0(W,"RegExp")&&n0(W.$id)&&W1(W.source)&&W1(W.flags)&&$1(W.maxLength)&&$1(W.minLength)}function oB(W){return F0(W,"String")&&W.type==="string"&&n0(W.$id)&&$1(W.minLength)&&$1(W.maxLength)&&YL(W.pattern)&&XL(W.format)}function sB(W){return F0(W,"Symbol")&&W.type==="symbol"&&n0(W.$id)}function aB(W){return F0(W,"TemplateLiteral")&&W.type==="string"&&W1(W.pattern)&&W.pattern[0]==="^"&&W.pattern[W.pattern.length-1]==="$"}function rB(W){return F0(W,"This")&&n0(W.$id)&&W1(W.$ref)}function tB(W){return i0(W)&&t0 in W}function eB(W){return F0(W,"Tuple")&&W.type==="array"&&n0(W.$id)&&Q2(W.minItems)&&Q2(W.maxItems)&&W.minItems===W.maxItems&&(g1(W.items)&&g1(W.additionalItems)&&W.minItems===0||k1(W.items)&&W.items.every(($)=>q1($)))}function WU(W){return F0(W,"Undefined")&&W.type==="undefined"&&n0(W.$id)}function UL(W){return wQ(W)&&W.anyOf.every(($)=>kB($)||gB($))}function wQ(W){return F0(W,"Union")&&n0(W.$id)&&i0(W)&&k1(W.anyOf)&&W.anyOf.every(($)=>q1($))}function $U(W){return F0(W,"Uint8Array")&&W.type==="Uint8Array"&&n0(W.$id)&&$1(W.minByteLength)&&$1(W.maxByteLength)}function JU(W){return F0(W,"Unknown")&&n0(W.$id)}function YU(W){return F0(W,"Unsafe")}function XU(W){return F0(W,"Void")&&W.type==="void"&&n0(W.$id)}function QU(W){return i0(W)&&K in W&&W1(W[K])&&!JL.includes(W[K])}function q1(W){return i0(W)&&(LB(W)||jB(W)||FB(W)||VB(W)||CB(W)||KB(W)||bB(W)||EB(W)||PB(W)||RB(W)||IB(W)||xB(W)||TB(W)||kW(W)||vB(W)||yB(W)||dB(W)||cB(W)||hB(W)||mB(W)||uB(W)||lB(W)||pB(W)||iB(W)||nB(W)||oB(W)||sB(W)||aB(W)||rB(W)||eB(W)||WU(W)||wQ(W)||$U(W)||JU(W)||YU(W)||XU(W)||QU(W))}var MU="(true|false)",EJ="(0|[1-9][0-9]*)",HU="(.*)";var p6="^(0|[1-9][0-9]*)$",i6="^(.*)$",GU="^(?!.*)$";var p0={};W6(p0,{Set:()=>zL,Has:()=>qL,Get:()=>DL,Entries:()=>wL,Delete:()=>NL,Clear:()=>AL});var d9=new Map;function wL(){return new Map(d9)}function AL(){return d9.clear()}function NL(W){return d9.delete(W)}function qL(W){return d9.has(W)}function zL(W,$){d9.set(W,$)}function DL(W){return d9.get(W)}var o1={};W6(o1,{Set:()=>LL,Has:()=>_L,Get:()=>jL,Entries:()=>ZL,Delete:()=>OL,Clear:()=>SL});var c9=new Map;function ZL(){return new Map(c9)}function SL(){return c9.clear()}function OL(W){return c9.delete(W)}function _L(W){return c9.has(W)}function LL(W,$){c9.set(W,$)}function jL(W){return c9.get(W)}function BU(W,$){return W.includes($)}function UU(W){return[...new Set(W)]}function FL(W,$){return W.filter((J)=>$.includes(J))}function KL(W,$){return W.reduce((J,Y)=>{return FL(J,Y)},$)}function wU(W){return W.length===1?W[0]:W.length>1?KL(W.slice(1),W[0]):[]}function AU(W){let $=[];for(let J of W)$.push(...J);return $}function n6(W){return g({[K]:"Any"},W)}function h9(W,$){return g({[K]:"Array",type:"array",items:W},$)}function NU(W){return g({[K]:"Argument",index:W})}function m9(W,$){return g({[K]:"AsyncIterator",type:"AsyncIterator",items:W},$)}function G1(W,$,J){return g({[K]:"Computed",target:W,parameters:$},J)}function CL(W,$){let{[$]:J,...Y}=W;return Y}function V1(W,$){return $.reduce((J,Y)=>CL(J,Y),W)}function _0(W){return g({[K]:"Never",not:{}},W)}function f0(W){return g({[K]:"MappedResult",properties:W})}function u9(W,$,J){return g({[K]:"Constructor",type:"Constructor",parameters:W,returns:$},J)}function P8(W,$,J){return g({[K]:"Function",type:"Function",parameters:W,returns:$},J)}function gW(W,$){return g({[K]:"Union",anyOf:W},$)}function VL(W){return W.some(($)=>c5($))}function qU(W){return W.map(($)=>c5($)?bL($):$)}function bL(W){return V1(W,[n1])}function EL(W,$){return VL(W)?L5(gW(qU(W),$)):gW(qU(W),$)}function R8(W,$){return W.length===1?g(W[0],$):W.length===0?_0($):EL(W,$)}function h0(W,$){return W.length===0?_0($):W.length===1?g(W[0],$):gW(W,$)}class AQ extends H0{}function PL(W){return W.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}function NQ(W,$,J){return W[$]===J&&W.charCodeAt($-1)!==92}function B6(W,$){return NQ(W,$,"(")}function fW(W,$){return NQ(W,$,")")}function zU(W,$){return NQ(W,$,"|")}function RL(W){if(!(B6(W,0)&&fW(W,W.length-1)))return!1;let $=0;for(let J=0;J<W.length;J++){if(B6(W,J))$+=1;if(fW(W,J))$-=1;if($===0&&J!==W.length-1)return!1}return!0}function IL(W){return W.slice(1,W.length-1)}function xL(W){let $=0;for(let J=0;J<W.length;J++){if(B6(W,J))$+=1;if(fW(W,J))$-=1;if(zU(W,J)&&$===0)return!0}return!1}function TL(W){for(let $=0;$<W.length;$++)if(B6(W,$))return!0;return!1}function kL(W){let[$,J]=[0,0],Y=[];for(let Q=0;Q<W.length;Q++){if(B6(W,Q))$+=1;if(fW(W,Q))$-=1;if(zU(W,Q)&&$===0){let M=W.slice(J,Q);if(M.length>0)Y.push(l9(M));J=Q+1}}let X=W.slice(J);if(X.length>0)Y.push(l9(X));if(Y.length===0)return{type:"const",const:""};if(Y.length===1)return Y[0];return{type:"or",expr:Y}}function gL(W){function $(X,Q){if(!B6(X,Q))throw new AQ("TemplateLiteralParser: Index must point to open parens");let M=0;for(let H=Q;H<X.length;H++){if(B6(X,H))M+=1;if(fW(X,H))M-=1;if(M===0)return[Q,H]}throw new AQ("TemplateLiteralParser: Unclosed group parens in expression")}function J(X,Q){for(let M=Q;M<X.length;M++)if(B6(X,M))return[Q,M];return[Q,X.length]}let Y=[];for(let X=0;X<W.length;X++)if(B6(W,X)){let[Q,M]=$(W,X),H=W.slice(Q,M+1);Y.push(l9(H)),X=M}else{let[Q,M]=J(W,X),H=W.slice(Q,M);if(H.length>0)Y.push(l9(H));X=M-1}return Y.length===0?{type:"const",const:""}:Y.length===1?Y[0]:{type:"and",expr:Y}}function l9(W){return RL(W)?l9(IL(W)):xL(W)?kL(W):TL(W)?gL(W):{type:"const",const:PL(W)}}function p9(W){return l9(W.slice(1,W.length-1))}class DU extends H0{}function fL(W){return W.type==="or"&&W.expr.length===2&&W.expr[0].type==="const"&&W.expr[0].const==="0"&&W.expr[1].type==="const"&&W.expr[1].const==="[1-9][0-9]*"}function vL(W){return W.type==="or"&&W.expr.length===2&&W.expr[0].type==="const"&&W.expr[0].const==="true"&&W.expr[1].type==="const"&&W.expr[1].const==="false"}function yL(W){return W.type==="const"&&W.const===".*"}function a4(W){return fL(W)||yL(W)?!1:vL(W)?!0:W.type==="and"?W.expr.every(($)=>a4($)):W.type==="or"?W.expr.every(($)=>a4($)):W.type==="const"?!0:(()=>{throw new DU("Unknown expression type")})()}function PJ(W){let $=p9(W.pattern);return a4($)}class ZU extends H0{}function*SU(W){if(W.length===1)return yield*W[0];for(let $ of W[0])for(let J of SU(W.slice(1)))yield`${$}${J}`}function*dL(W){return yield*SU(W.expr.map(($)=>[...vW($)]))}function*cL(W){for(let $ of W.expr)yield*vW($)}function*hL(W){return yield W.const}function*vW(W){return W.type==="and"?yield*dL(W):W.type==="or"?yield*cL(W):W.type==="const"?yield*hL(W):(()=>{throw new ZU("Unknown expression")})()}function i9(W){let $=p9(W.pattern);return a4($)?[...vW($)]:[]}function I0(W,$){return g({[K]:"Literal",const:W,type:typeof W},$)}function RJ(W){return g({[K]:"Boolean",type:"boolean"},W)}function n9(W){return g({[K]:"BigInt",type:"bigint"},W)}function b2(W){return g({[K]:"Number",type:"number"},W)}function x5(W){return g({[K]:"String",type:"string"},W)}function*mL(W){let $=W.trim().replace(/"|'/g,"");return $==="boolean"?yield RJ():$==="number"?yield b2():$==="bigint"?yield n9():$==="string"?yield x5():yield(()=>{let J=$.split("|").map((Y)=>I0(Y.trim()));return J.length===0?_0():J.length===1?J[0]:R8(J)})()}function*uL(W){if(W[1]!=="{"){let $=I0("$"),J=qQ(W.slice(1));return yield*[$,...J]}for(let $=2;$<W.length;$++)if(W[$]==="}"){let J=mL(W.slice(2,$)),Y=qQ(W.slice($+1));return yield*[...J,...Y]}yield I0(W)}function*qQ(W){for(let $=0;$<W.length;$++)if(W[$]==="$"){let J=I0(W.slice(0,$)),Y=uL(W.slice($));return yield*[J,...Y]}yield I0(W)}function OU(W){return[...qQ(W)]}class _U extends H0{}function lL(W){return W.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function LU(W,$){return B2(W)?W.pattern.slice(1,W.pattern.length-1):k0(W)?`(${W.anyOf.map((J)=>LU(J,$)).join("|")})`:$8(W)?`${$}${EJ}`:W8(W)?`${$}${EJ}`:i4(W)?`${$}${EJ}`:M6(W)?`${$}${HU}`:H2(W)?`${$}${lL(W.const.toString())}`:Q6(W)?`${$}${MU}`:(()=>{throw new _U(`Unexpected Kind '${W[K]}'`)})()}function zQ(W){return`^${W.map(($)=>LU($,"")).join("")}$`}function r4(W){let J=i9(W).map((Y)=>I0(Y));return R8(J)}function IJ(W,$){let J=W1(W)?zQ(OU(W)):zQ(W);return g({[K]:"TemplateLiteral",type:"string",pattern:J},$)}function pL(W){return i9(W).map((J)=>J.toString())}function iL(W){let $=[];for(let J of W)$.push(...h5(J));return $}function nL(W){return[W.toString()]}function h5(W){return[...new Set(B2(W)?pL(W):k0(W)?iL(W.anyOf):H2(W)?nL(W.const):$8(W)?["[number]"]:W8(W)?["[number]"]:[])]}function oL(W,$,J){let Y={};for(let X of Object.getOwnPropertyNames($))Y[X]=o6(W,h5($[X]),J);return Y}function sL(W,$,J){return oL(W,$.properties,J)}function jU(W,$,J){let Y=sL(W,$,J);return f0(Y)}function KU(W,$){return W.map((J)=>CU(J,$))}function aL(W){return W.filter(($)=>!u6($))}function rL(W,$){return xJ(aL(KU(W,$)))}function tL(W){return W.some(($)=>u6($))?[]:W}function eL(W,$){return R8(tL(KU(W,$)))}function Wj(W,$){return $ in W?W[$]:$==="[number]"?R8(W):_0()}function $j(W,$){return $==="[number]"?W:_0()}function Jj(W,$){return $ in W?W[$]:_0()}function CU(W,$){return C1(W)?rL(W.allOf,$):k0(W)?eL(W.anyOf,$):U2(W)?Wj(W.items??[],$):a2(W)?$j(W.items,$):f1(W)?Jj(W.properties,$):_0()}function yW(W,$){return $.map((J)=>CU(W,J))}function FU(W,$){return R8(yW(W,$))}function o6(W,$,J){if(I1(W)||I1($)){if(!S1(W)||!S1($))throw new H0("Index types using Ref parameters require both Type and Key to be of TSchema");return G1("Index",[W,$])}if(N1($))return jU(W,$,J);if(G2($))return VU(W,$,J);return g(S1($)?FU(W,h5($)):FU(W,$),J)}function Yj(W,$,J){return{[$]:o6(W,[$],w1(J))}}function Xj(W,$,J){return $.reduce((Y,X)=>{return{...Y,...Yj(W,X,J)}},{})}function Qj(W,$,J){return Xj(W,$.keys,J)}function VU(W,$,J){let Y=Qj(W,$,J);return f0(Y)}function o9(W,$){return g({[K]:"Iterator",type:"Iterator",items:W},$)}function Mj(W){let $=[];for(let J in W)if(!c5(W[J]))$.push(J);return $}function Hj(W,$){let J=Mj(W),Y=J.length>0?{[K]:"Object",type:"object",properties:W,required:J}:{[K]:"Object",type:"object",properties:W};return g(Y,$)}var m0=Hj;function TJ(W,$){return g({[K]:"Promise",type:"Promise",item:W},$)}function Gj(W){return g(V1(W,[s2]))}function Bj(W){return g({...W,[s2]:"Readonly"})}function Uj(W,$){return $===!1?Gj(W):Bj(W)}function m5(W,$){let J=$??!0;return N1(W)?bU(W,J):Uj(W,J)}function wj(W,$){let J={};for(let Y of globalThis.Object.getOwnPropertyNames(W))J[Y]=m5(W[Y],$);return J}function Aj(W,$){return wj(W.properties,$)}function bU(W,$){let J=Aj(W,$);return f0(J)}function E2(W,$){return g(W.length>0?{[K]:"Tuple",type:"array",items:W,additionalItems:!1,minItems:W.length,maxItems:W.length}:{[K]:"Tuple",type:"array",minItems:W.length,maxItems:W.length},$)}function EU(W,$){return W in $?P2(W,$[W]):f0($)}function Nj(W){return{[W]:I0(W)}}function qj(W){let $={};for(let J of W)$[J]=I0(J);return $}function zj(W,$){return BU($,W)?Nj(W):qj($)}function Dj(W,$){let J=zj(W,$);return EU(W,J)}function dW(W,$){return $.map((J)=>P2(W,J))}function Zj(W,$){let J={};for(let Y of globalThis.Object.getOwnPropertyNames($))J[Y]=P2(W,$[Y]);return J}function P2(W,$){let J={...$};return c5($)?L5(P2(W,V1($,[n1]))):y9($)?m5(P2(W,V1($,[s2]))):N1($)?EU(W,$.properties):G2($)?Dj(W,$.keys):t2($)?u9(dW(W,$.parameters),P2(W,$.returns),J):e2($)?P8(dW(W,$.parameters),P2(W,$.returns),J):p4($)?m9(P2(W,$.items),J):n4($)?o9(P2(W,$.items),J):C1($)?j5(dW(W,$.allOf),J):k0($)?h0(dW(W,$.anyOf),J):U2($)?E2(dW(W,$.items??[]),J):f1($)?m0(Zj(W,$.properties),J):a2($)?h9(P2(W,$.items),J):o4($)?TJ(P2(W,$.item),J):$}function Sj(W,$){let J={};for(let Y of W)J[Y]=P2(Y,$);return J}function PU(W,$,J){let Y=S1(W)?h5(W):W,X=$({[K]:"MappedKey",keys:Y}),Q=Sj(Y,X);return m0(Q,J)}function Oj(W){return g(V1(W,[n1]))}function _j(W){return g({...W,[n1]:"Optional"})}function Lj(W,$){return $===!1?Oj(W):_j(W)}function L5(W,$){let J=$??!0;return N1(W)?RU(W,J):Lj(W,J)}function jj(W,$){let J={};for(let Y of globalThis.Object.getOwnPropertyNames(W))J[Y]=L5(W[Y],$);return J}function Fj(W,$){return jj(W.properties,$)}function RU(W,$){let J=Fj(W,$);return f0(J)}function cW(W,$={}){let J=W.every((X)=>f1(X)),Y=S1($.unevaluatedProperties)?{unevaluatedProperties:$.unevaluatedProperties}:{};return g($.unevaluatedProperties===!1||S1($.unevaluatedProperties)||J?{...Y,[K]:"Intersect",type:"object",allOf:W}:{...Y,[K]:"Intersect",allOf:W},$)}function Kj(W){return W.every(($)=>c5($))}function Cj(W){return V1(W,[n1])}function IU(W){return W.map(($)=>c5($)?Cj($):$)}function Vj(W,$){return Kj(W)?L5(cW(IU(W),$)):cW(IU(W),$)}function xJ(W,$={}){if(W.length===1)return g(W[0],$);if(W.length===0)return _0($);if(W.some((J)=>c0(J)))throw new Error("Cannot intersect transform types");return Vj(W,$)}function j5(W,$){if(W.length===1)return g(W[0],$);if(W.length===0)return _0($);if(W.some((J)=>c0(J)))throw new Error("Cannot intersect transform types");return cW(W,$)}function R2(...W){let[$,J]=typeof W[0]==="string"?[W[0],W[1]]:[W[0].$id,W[1]];if(typeof $!=="string")throw new H0("Ref: $ref must be a string");return g({[K]:"Ref",$ref:$},J)}function bj(W,$){return G1("Awaited",[G1(W,$)])}function Ej(W){return G1("Awaited",[R2(W)])}function Pj(W){return j5(xU(W))}function Rj(W){return h0(xU(W))}function Ij(W){return s9(W)}function xU(W){return W.map(($)=>s9($))}function s9(W,$){return g(r2(W)?bj(W.target,W.parameters):C1(W)?Pj(W.allOf):k0(W)?Rj(W.anyOf):o4(W)?Ij(W.item):I1(W)?Ej(W.$ref):W,$)}function TU(W){let $=[];for(let J of W)$.push(u5(J));return $}function xj(W){let $=TU(W);return AU($)}function Tj(W){let $=TU(W);return wU($)}function kj(W){return W.map(($,J)=>J.toString())}function gj(W){return["[number]"]}function fj(W){return globalThis.Object.getOwnPropertyNames(W)}function vj(W){if(!DQ)return[];return globalThis.Object.getOwnPropertyNames(W).map((J)=>{return J[0]==="^"&&J[J.length-1]==="$"?J.slice(1,J.length-1):J})}function u5(W){return C1(W)?xj(W.allOf):k0(W)?Tj(W.anyOf):U2(W)?kj(W.items??[]):a2(W)?gj(W.items):f1(W)?fj(W.properties):s4(W)?vj(W.patternProperties):[]}var DQ=!1;function U6(W){DQ=!0;let $=u5(W);return DQ=!1,`^(${$.map((Y)=>`(${Y})`).join("|")})$`}function yj(W,$){return G1("KeyOf",[G1(W,$)])}function dj(W){return G1("KeyOf",[R2(W)])}function cj(W,$){let J=u5(W),Y=hj(J),X=R8(Y);return g(X,$)}function hj(W){return W.map(($)=>$==="[number]"?b2():I0($))}function a9(W,$){return r2(W)?yj(W.target,W.parameters):I1(W)?dj(W.$ref):N1(W)?kU(W,$):cj(W,$)}function mj(W,$){let J={};for(let Y of globalThis.Object.getOwnPropertyNames(W))J[Y]=a9(W[Y],w1($));return J}function uj(W,$){return mj(W.properties,$)}function kU(W,$){let J=uj(W,$);return f0(J)}function kJ(W){let $=u5(W),J=yW(W,$);return $.map((Y,X)=>[$[X],J[X]])}function lj(W){let $=[];for(let J of W)$.push(...u5(J));return UU($)}function pj(W){return W.filter(($)=>!u6($))}function ij(W,$){let J=[];for(let Y of W)J.push(...yW(Y,[$]));return pj(J)}function nj(W,$){let J={};for(let Y of $)J[Y]=xJ(ij(W,Y));return J}function gU(W,$){let J=lj(W),Y=nj(W,J);return m0(Y,$)}function gJ(W){return g({[K]:"Date",type:"Date"},W)}function fJ(W){return g({[K]:"Null",type:"null"},W)}function vJ(W){return g({[K]:"Symbol",type:"symbol"},W)}function yJ(W){return g({[K]:"Undefined",type:"undefined"},W)}function dJ(W){return g({[K]:"Uint8Array",type:"Uint8Array"},W)}function J8(W){return g({[K]:"Unknown"},W)}function oj(W){return W.map(($)=>ZQ($,!1))}function sj(W){let $={};for(let J of globalThis.Object.getOwnPropertyNames(W))$[J]=m5(ZQ(W[J],!1));return $}function cJ(W,$){return $===!0?W:m5(W)}function ZQ(W,$){return WQ(W)?cJ(n6(),$):JQ(W)?cJ(n6(),$):k1(W)?m5(E2(oj(W))):J6(W)?dJ():l4(W)?gJ():i0(W)?cJ(m0(sj(W)),$):$Q(W)?cJ(P8([],J8()),$):g1(W)?yJ():YQ(W)?fJ():XQ(W)?vJ():EW(W)?n9():Q2(W)?I0(W):$6(W)?I0(W):W1(W)?I0(W):m0({})}function fU(W,$){return g(ZQ(W,!0),$)}function vU(W,$){return t2(W)?E2(W.parameters,$):_0($)}function yU(W,$){if(g1(W))throw new Error("Enum undefined or empty");let J=globalThis.Object.getOwnPropertyNames(W).filter((Q)=>isNaN(Q)).map((Q)=>W[Q]),X=[...new Set(J)].map((Q)=>I0(Q));return h0(X,{...$,[V2]:"Enum"})}class uU extends H0{}var f;(function(W){W[W.Union=0]="Union",W[W.True=1]="True",W[W.False=2]="False"})(f||(f={}));function I2(W){return W===f.False?W:f.True}function r9(W){throw new uU(W)}function c1(W){return j.IsNever(W)||j.IsIntersect(W)||j.IsUnion(W)||j.IsUnknown(W)||j.IsAny(W)}function h1(W,$){return j.IsNever($)?iU(W,$):j.IsIntersect($)?hJ(W,$):j.IsUnion($)?jQ(W,$):j.IsUnknown($)?aU(W,$):j.IsAny($)?LQ(W,$):r9("StructuralRight")}function LQ(W,$){return f.True}function aj(W,$){return j.IsIntersect($)?hJ(W,$):j.IsUnion($)&&$.anyOf.some((J)=>j.IsAny(J)||j.IsUnknown(J))?f.True:j.IsUnion($)?f.Union:j.IsUnknown($)?f.True:j.IsAny($)?f.True:f.Union}function rj(W,$){return j.IsUnknown(W)?f.False:j.IsAny(W)?f.Union:j.IsNever(W)?f.True:f.False}function tj(W,$){return j.IsObject($)&&mJ($)?f.True:c1($)?h1(W,$):!j.IsArray($)?f.False:I2(o0(W.items,$.items))}function ej(W,$){return c1($)?h1(W,$):!j.IsAsyncIterator($)?f.False:I2(o0(W.items,$.items))}function WF(W,$){return c1($)?h1(W,$):j.IsObject($)?F5(W,$):j.IsRecord($)?x2(W,$):j.IsBigInt($)?f.True:f.False}function lU(W,$){return j.IsLiteralBoolean(W)?f.True:j.IsBoolean(W)?f.True:f.False}function $F(W,$){return c1($)?h1(W,$):j.IsObject($)?F5(W,$):j.IsRecord($)?x2(W,$):j.IsBoolean($)?f.True:f.False}function JF(W,$){return c1($)?h1(W,$):j.IsObject($)?F5(W,$):!j.IsConstructor($)?f.False:W.parameters.length>$.parameters.length?f.False:!W.parameters.every((J,Y)=>I2(o0($.parameters[Y],J))===f.True)?f.False:I2(o0(W.returns,$.returns))}function YF(W,$){return c1($)?h1(W,$):j.IsObject($)?F5(W,$):j.IsRecord($)?x2(W,$):j.IsDate($)?f.True:f.False}function XF(W,$){return c1($)?h1(W,$):j.IsObject($)?F5(W,$):!j.IsFunction($)?f.False:W.parameters.length>$.parameters.length?f.False:!W.parameters.every((J,Y)=>I2(o0($.parameters[Y],J))===f.True)?f.False:I2(o0(W.returns,$.returns))}function pU(W,$){return j.IsLiteral(W)&&_5.IsNumber(W.const)?f.True:j.IsNumber(W)||j.IsInteger(W)?f.True:f.False}function QF(W,$){return j.IsInteger($)||j.IsNumber($)?f.True:c1($)?h1(W,$):j.IsObject($)?F5(W,$):j.IsRecord($)?x2(W,$):f.False}function hJ(W,$){return $.allOf.every((J)=>o0(W,J)===f.True)?f.True:f.False}function MF(W,$){return W.allOf.some((J)=>o0(J,$)===f.True)?f.True:f.False}function HF(W,$){return c1($)?h1(W,$):!j.IsIterator($)?f.False:I2(o0(W.items,$.items))}function GF(W,$){return j.IsLiteral($)&&$.const===W.const?f.True:c1($)?h1(W,$):j.IsObject($)?F5(W,$):j.IsRecord($)?x2(W,$):j.IsString($)?sU(W,$):j.IsNumber($)?nU(W,$):j.IsInteger($)?pU(W,$):j.IsBoolean($)?lU(W,$):f.False}function iU(W,$){return f.False}function BF(W,$){return f.True}function dU(W){let[$,J]=[W,0];while(!0){if(!j.IsNot($))break;$=$.not,J+=1}return J%2===0?$:J8()}function UF(W,$){return j.IsNot(W)?o0(dU(W),$):j.IsNot($)?o0(W,dU($)):r9("Invalid fallthrough for Not")}function wF(W,$){return c1($)?h1(W,$):j.IsObject($)?F5(W,$):j.IsRecord($)?x2(W,$):j.IsNull($)?f.True:f.False}function nU(W,$){return j.IsLiteralNumber(W)?f.True:j.IsNumber(W)||j.IsInteger(W)?f.True:f.False}function AF(W,$){return c1($)?h1(W,$):j.IsObject($)?F5(W,$):j.IsRecord($)?x2(W,$):j.IsInteger($)||j.IsNumber($)?f.True:f.False}function l5(W,$){return Object.getOwnPropertyNames(W.properties).length===$}function cU(W){return mJ(W)}function hU(W){return l5(W,0)||l5(W,1)&&"description"in W.properties&&j.IsUnion(W.properties.description)&&W.properties.description.anyOf.length===2&&(j.IsString(W.properties.description.anyOf[0])&&j.IsUndefined(W.properties.description.anyOf[1])||j.IsString(W.properties.description.anyOf[1])&&j.IsUndefined(W.properties.description.anyOf[0]))}function SQ(W){return l5(W,0)}function mU(W){return l5(W,0)}function NF(W){return l5(W,0)}function qF(W){return l5(W,0)}function zF(W){return mJ(W)}function DF(W){let $=b2();return l5(W,0)||l5(W,1)&&"length"in W.properties&&I2(o0(W.properties.length,$))===f.True}function ZF(W){return l5(W,0)}function mJ(W){let $=b2();return l5(W,0)||l5(W,1)&&"length"in W.properties&&I2(o0(W.properties.length,$))===f.True}function SF(W){let $=P8([n6()],n6());return l5(W,0)||l5(W,1)&&"then"in W.properties&&I2(o0(W.properties.then,$))===f.True}function oU(W,$){return o0(W,$)===f.False?f.False:j.IsOptional(W)&&!j.IsOptional($)?f.False:f.True}function F5(W,$){return j.IsUnknown(W)?f.False:j.IsAny(W)?f.Union:j.IsNever(W)||j.IsLiteralString(W)&&cU($)||j.IsLiteralNumber(W)&&SQ($)||j.IsLiteralBoolean(W)&&mU($)||j.IsSymbol(W)&&hU($)||j.IsBigInt(W)&&NF($)||j.IsString(W)&&cU($)||j.IsSymbol(W)&&hU($)||j.IsNumber(W)&&SQ($)||j.IsInteger(W)&&SQ($)||j.IsBoolean(W)&&mU($)||j.IsUint8Array(W)&&zF($)||j.IsDate(W)&&qF($)||j.IsConstructor(W)&&ZF($)||j.IsFunction(W)&&DF($)?f.True:j.IsRecord(W)&&j.IsString(OQ(W))?(()=>{return $[V2]==="Record"?f.True:f.False})():j.IsRecord(W)&&j.IsNumber(OQ(W))?(()=>{return l5($,0)?f.True:f.False})():f.False}function OF(W,$){return c1($)?h1(W,$):j.IsRecord($)?x2(W,$):!j.IsObject($)?f.False:(()=>{for(let J of Object.getOwnPropertyNames($.properties)){if(!(J in W.properties)&&!j.IsOptional($.properties[J]))return f.False;if(j.IsOptional($.properties[J]))return f.True;if(oU(W.properties[J],$.properties[J])===f.False)return f.False}return f.True})()}function _F(W,$){return c1($)?h1(W,$):j.IsObject($)&&SF($)?f.True:!j.IsPromise($)?f.False:I2(o0(W.item,$.item))}function OQ(W){return p6 in W.patternProperties?b2():(i6 in W.patternProperties)?x5():r9("Unknown record key pattern")}function _Q(W){return p6 in W.patternProperties?W.patternProperties[p6]:(i6 in W.patternProperties)?W.patternProperties[i6]:r9("Unable to get record value schema")}function x2(W,$){let[J,Y]=[OQ($),_Q($)];return j.IsLiteralString(W)&&j.IsNumber(J)&&I2(o0(W,Y))===f.True?f.True:j.IsUint8Array(W)&&j.IsNumber(J)?o0(W,Y):j.IsString(W)&&j.IsNumber(J)?o0(W,Y):j.IsArray(W)&&j.IsNumber(J)?o0(W,Y):j.IsObject(W)?(()=>{for(let X of Object.getOwnPropertyNames(W.properties))if(oU(Y,W.properties[X])===f.False)return f.False;return f.True})():f.False}function LF(W,$){return c1($)?h1(W,$):j.IsObject($)?F5(W,$):!j.IsRecord($)?f.False:o0(_Q(W),_Q($))}function jF(W,$){let J=j.IsRegExp(W)?x5():W,Y=j.IsRegExp($)?x5():$;return o0(J,Y)}function sU(W,$){return j.IsLiteral(W)&&_5.IsString(W.const)?f.True:j.IsString(W)?f.True:f.False}function FF(W,$){return c1($)?h1(W,$):j.IsObject($)?F5(W,$):j.IsRecord($)?x2(W,$):j.IsString($)?f.True:f.False}function KF(W,$){return c1($)?h1(W,$):j.IsObject($)?F5(W,$):j.IsRecord($)?x2(W,$):j.IsSymbol($)?f.True:f.False}function CF(W,$){return j.IsTemplateLiteral(W)?o0(r4(W),$):j.IsTemplateLiteral($)?o0(W,r4($)):r9("Invalid fallthrough for TemplateLiteral")}function VF(W,$){return j.IsArray($)&&W.items!==void 0&&W.items.every((J)=>o0(J,$.items)===f.True)}function bF(W,$){return j.IsNever(W)?f.True:j.IsUnknown(W)?f.False:j.IsAny(W)?f.Union:f.False}function EF(W,$){return c1($)?h1(W,$):j.IsObject($)&&mJ($)?f.True:j.IsArray($)&&VF(W,$)?f.True:!j.IsTuple($)?f.False:_5.IsUndefined(W.items)&&!_5.IsUndefined($.items)||!_5.IsUndefined(W.items)&&_5.IsUndefined($.items)?f.False:_5.IsUndefined(W.items)&&!_5.IsUndefined($.items)?f.True:W.items.every((J,Y)=>o0(J,$.items[Y])===f.True)?f.True:f.False}function PF(W,$){return c1($)?h1(W,$):j.IsObject($)?F5(W,$):j.IsRecord($)?x2(W,$):j.IsUint8Array($)?f.True:f.False}function RF(W,$){return c1($)?h1(W,$):j.IsObject($)?F5(W,$):j.IsRecord($)?x2(W,$):j.IsVoid($)?TF(W,$):j.IsUndefined($)?f.True:f.False}function jQ(W,$){return $.anyOf.some((J)=>o0(W,J)===f.True)?f.True:f.False}function IF(W,$){return W.anyOf.every((J)=>o0(J,$)===f.True)?f.True:f.False}function aU(W,$){return f.True}function xF(W,$){return j.IsNever($)?iU(W,$):j.IsIntersect($)?hJ(W,$):j.IsUnion($)?jQ(W,$):j.IsAny($)?LQ(W,$):j.IsString($)?sU(W,$):j.IsNumber($)?nU(W,$):j.IsInteger($)?pU(W,$):j.IsBoolean($)?lU(W,$):j.IsArray($)?rj(W,$):j.IsTuple($)?bF(W,$):j.IsObject($)?F5(W,$):j.IsUnknown($)?f.True:f.False}function TF(W,$){return j.IsUndefined(W)?f.True:j.IsUndefined(W)?f.True:f.False}function kF(W,$){return j.IsIntersect($)?hJ(W,$):j.IsUnion($)?jQ(W,$):j.IsUnknown($)?aU(W,$):j.IsAny($)?LQ(W,$):j.IsObject($)?F5(W,$):j.IsVoid($)?f.True:f.False}function o0(W,$){return j.IsTemplateLiteral(W)||j.IsTemplateLiteral($)?CF(W,$):j.IsRegExp(W)||j.IsRegExp($)?jF(W,$):j.IsNot(W)||j.IsNot($)?UF(W,$):j.IsAny(W)?aj(W,$):j.IsArray(W)?tj(W,$):j.IsBigInt(W)?WF(W,$):j.IsBoolean(W)?$F(W,$):j.IsAsyncIterator(W)?ej(W,$):j.IsConstructor(W)?JF(W,$):j.IsDate(W)?YF(W,$):j.IsFunction(W)?XF(W,$):j.IsInteger(W)?QF(W,$):j.IsIntersect(W)?MF(W,$):j.IsIterator(W)?HF(W,$):j.IsLiteral(W)?GF(W,$):j.IsNever(W)?BF(W,$):j.IsNull(W)?wF(W,$):j.IsNumber(W)?AF(W,$):j.IsObject(W)?OF(W,$):j.IsRecord(W)?LF(W,$):j.IsString(W)?FF(W,$):j.IsSymbol(W)?KF(W,$):j.IsTuple(W)?EF(W,$):j.IsPromise(W)?_F(W,$):j.IsUint8Array(W)?PF(W,$):j.IsUndefined(W)?RF(W,$):j.IsUnion(W)?IF(W,$):j.IsUnknown(W)?xF(W,$):j.IsVoid(W)?kF(W,$):r9(`Unknown left type operand '${W[K]}'`)}function s6(W,$){return o0(W,$)}function gF(W,$,J,Y,X){let Q={};for(let M of globalThis.Object.getOwnPropertyNames(W))Q[M]=t9(W[M],$,J,Y,w1(X));return Q}function fF(W,$,J,Y,X){return gF(W.properties,$,J,Y,X)}function rU(W,$,J,Y,X){let Q=fF(W,$,J,Y,X);return f0(Q)}function vF(W,$,J,Y){let X=s6(W,$);return X===f.Union?h0([J,Y]):X===f.True?J:Y}function t9(W,$,J,Y,X){return N1(W)?rU(W,$,J,Y,X):G2(W)?g(tU(W,$,J,Y,X)):g(vF(W,$,J,Y),X)}function yF(W,$,J,Y,X){return{[W]:t9(I0(W),$,J,Y,w1(X))}}function dF(W,$,J,Y,X){return W.reduce((Q,M)=>{return{...Q,...yF(M,$,J,Y,X)}},{})}function cF(W,$,J,Y,X){return dF(W.keys,$,J,Y,X)}function tU(W,$,J,Y,X){let Q=cF(W,$,J,Y,X);return f0(Q)}function hF(W){return W.allOf.every(($)=>w6($))}function mF(W){return W.anyOf.some(($)=>w6($))}function uF(W){return!w6(W.not)}function w6(W){return W[K]==="Intersect"?hF(W):W[K]==="Union"?mF(W):W[K]==="Not"?uF(W):W[K]==="Undefined"?!0:!1}function eU(W,$){return e9(r4(W),$)}function lF(W,$){let J=W.filter((Y)=>s6(Y,$)===f.False);return J.length===1?J[0]:h0(J)}function e9(W,$,J={}){if(B2(W))return g(eU(W,$),J);if(N1(W))return g(Ww(W,$),J);return g(k0(W)?lF(W.anyOf,$):s6(W,$)!==f.False?_0():W,J)}function pF(W,$){let J={};for(let Y of globalThis.Object.getOwnPropertyNames(W))J[Y]=e9(W[Y],$);return J}function iF(W,$){return pF(W.properties,$)}function Ww(W,$){let J=iF(W,$);return f0(J)}function $w(W,$){return W7(r4(W),$)}function nF(W,$){let J=W.filter((Y)=>s6(Y,$)!==f.False);return J.length===1?J[0]:h0(J)}function W7(W,$,J){if(B2(W))return g($w(W,$),J);if(N1(W))return g(Jw(W,$),J);return g(k0(W)?nF(W.anyOf,$):s6(W,$)!==f.False?W:_0(),J)}function oF(W,$){let J={};for(let Y of globalThis.Object.getOwnPropertyNames(W))J[Y]=W7(W[Y],$);return J}function sF(W,$){return oF(W.properties,$)}function Jw(W,$){let J=sF(W,$);return f0(J)}function Yw(W,$){return t2(W)?g(W.returns,$):_0($)}function uJ(W){return m5(L5(W))}function t4(W,$,J){return g({[K]:"Record",type:"object",patternProperties:{[W]:$}},J)}function FQ(W,$,J){let Y={};for(let X of W)Y[X]=$;return m0(Y,{...J,[V2]:"Record"})}function aF(W,$,J){return PJ(W)?FQ(h5(W),$,J):t4(W.pattern,$,J)}function rF(W,$,J){return FQ(h5(h0(W)),$,J)}function tF(W,$,J){return FQ([W.toString()],$,J)}function eF(W,$,J){return t4(W.source,$,J)}function WK(W,$,J){let Y=g1(W.pattern)?i6:W.pattern;return t4(Y,$,J)}function $K(W,$,J){return t4(i6,$,J)}function JK(W,$,J){return t4(GU,$,J)}function YK(W,$,J){return m0({true:$,false:$},J)}function XK(W,$,J){return t4(p6,$,J)}function QK(W,$,J){return t4(p6,$,J)}function lJ(W,$,J={}){return k0(W)?rF(W.anyOf,$,J):B2(W)?aF(W,$,J):H2(W)?tF(W.const,$,J):Q6(W)?YK(W,$,J):W8(W)?XK(W,$,J):$8(W)?QK(W,$,J):GQ(W)?eF(W,$,J):M6(W)?WK(W,$,J):MQ(W)?$K(W,$,J):u6(W)?JK(W,$,J):_0(J)}function pJ(W){return globalThis.Object.getOwnPropertyNames(W.patternProperties)[0]}function Xw(W){let $=pJ(W);return $===i6?x5():$===p6?b2():x5({pattern:$})}function iJ(W){return W.patternProperties[pJ(W)]}function MK(W,$){return $.parameters=hW(W,$.parameters),$.returns=Y8(W,$.returns),$}function HK(W,$){return $.parameters=hW(W,$.parameters),$.returns=Y8(W,$.returns),$}function GK(W,$){return $.allOf=hW(W,$.allOf),$}function BK(W,$){return $.anyOf=hW(W,$.anyOf),$}function UK(W,$){if(g1($.items))return $;return $.items=hW(W,$.items),$}function wK(W,$){return $.items=Y8(W,$.items),$}function AK(W,$){return $.items=Y8(W,$.items),$}function NK(W,$){return $.items=Y8(W,$.items),$}function qK(W,$){return $.item=Y8(W,$.item),$}function zK(W,$){let J=OK(W,$.properties);return{...$,...m0(J)}}function DK(W,$){let J=Y8(W,Xw($)),Y=Y8(W,iJ($)),X=lJ(J,Y);return{...$,...X}}function ZK(W,$){return $.index in W?W[$.index]:J8()}function SK(W,$){let J=y9($),Y=c5($),X=Y8(W,$);return J&&Y?uJ(X):J&&!Y?m5(X):!J&&Y?L5(X):X}function OK(W,$){return globalThis.Object.getOwnPropertyNames($).reduce((J,Y)=>{return{...J,[Y]:SK(W,$[Y])}},{})}function hW(W,$){return $.map((J)=>Y8(W,J))}function Y8(W,$){return t2($)?MK(W,$):e2($)?HK(W,$):C1($)?GK(W,$):k0($)?BK(W,$):U2($)?UK(W,$):a2($)?wK(W,$):p4($)?AK(W,$):n4($)?NK(W,$):o4($)?qK(W,$):f1($)?zK(W,$):s4($)?DK(W,$):HQ($)?ZK(W,$):$}function Qw(W,$){return Y8($,f9(W))}function Mw(W){return g({[K]:"Integer",type:"integer"},W)}function _K(W,$,J){return{[W]:X8(I0(W),$,w1(J))}}function LK(W,$,J){return W.reduce((X,Q)=>{return{...X,..._K(Q,$,J)}},{})}function jK(W,$,J){return LK(W.keys,$,J)}function Hw(W,$,J){let Y=jK(W,$,J);return f0(Y)}function FK(W){let[$,J]=[W.slice(0,1),W.slice(1)];return[$.toLowerCase(),J].join("")}function KK(W){let[$,J]=[W.slice(0,1),W.slice(1)];return[$.toUpperCase(),J].join("")}function CK(W){return W.toUpperCase()}function VK(W){return W.toLowerCase()}function bK(W,$,J){let Y=p9(W.pattern);if(!a4(Y))return{...W,pattern:Gw(W.pattern,$)};let M=[...vW(Y)].map((B)=>I0(B)),H=Bw(M,$),G=h0(H);return IJ([G],J)}function Gw(W,$){return typeof W==="string"?$==="Uncapitalize"?FK(W):$==="Capitalize"?KK(W):$==="Uppercase"?CK(W):$==="Lowercase"?VK(W):W:W.toString()}function Bw(W,$){return W.map((J)=>X8(J,$))}function X8(W,$,J={}){return G2(W)?Hw(W,$,J):B2(W)?bK(W,$,J):k0(W)?h0(Bw(W.anyOf,$),J):H2(W)?I0(Gw(W.const,$),J):g(W,J)}function Uw(W,$={}){return X8(W,"Capitalize",$)}function ww(W,$={}){return X8(W,"Lowercase",$)}function Aw(W,$={}){return X8(W,"Uncapitalize",$)}function Nw(W,$={}){return X8(W,"Uppercase",$)}function EK(W,$,J){let Y={};for(let X of globalThis.Object.getOwnPropertyNames(W))Y[X]=a6(W[X],$,w1(J));return Y}function PK(W,$,J){return EK(W.properties,$,J)}function qw(W,$,J){let Y=PK(W,$,J);return f0(Y)}function RK(W,$){return W.map((J)=>KQ(J,$))}function IK(W,$){return W.map((J)=>KQ(J,$))}function xK(W,$){let{[$]:J,...Y}=W;return Y}function TK(W,$){return $.reduce((J,Y)=>xK(J,Y),W)}function kK(W,$){let J=V1(W,[t0,"$id","required","properties"]),Y=TK(W.properties,$);return m0(Y,J)}function gK(W){let $=W.reduce((J,Y)=>VJ(Y)?[...J,I0(Y)]:J,[]);return h0($)}function KQ(W,$){return C1(W)?j5(RK(W.allOf,$)):k0(W)?h0(IK(W.anyOf,$)):f1(W)?kK(W,$):m0({})}function a6(W,$,J){let Y=k1($)?gK($):$,X=S1($)?h5($):$,Q=I1(W),M=I1($);return N1(W)?qw(W,X,J):G2($)?zw(W,$,J):Q&&M?G1("Omit",[W,Y],J):!Q&&M?G1("Omit",[W,Y],J):Q&&!M?G1("Omit",[W,Y],J):g({...KQ(W,X),...J})}function fK(W,$,J){return{[$]:a6(W,[$],w1(J))}}function vK(W,$,J){return $.reduce((Y,X)=>{return{...Y,...fK(W,X,J)}},{})}function yK(W,$,J){return vK(W,$.keys,J)}function zw(W,$,J){let Y=yK(W,$,J);return f0(Y)}function dK(W,$,J){let Y={};for(let X of globalThis.Object.getOwnPropertyNames(W))Y[X]=r6(W[X],$,w1(J));return Y}function cK(W,$,J){return dK(W.properties,$,J)}function Dw(W,$,J){let Y=cK(W,$,J);return f0(Y)}function hK(W,$){return W.map((J)=>CQ(J,$))}function mK(W,$){return W.map((J)=>CQ(J,$))}function uK(W,$){let J={};for(let Y of $)if(Y in W)J[Y]=W[Y];return J}function lK(W,$){let J=V1(W,[t0,"$id","required","properties"]),Y=uK(W.properties,$);return m0(Y,J)}function pK(W){let $=W.reduce((J,Y)=>VJ(Y)?[...J,I0(Y)]:J,[]);return h0($)}function CQ(W,$){return C1(W)?j5(hK(W.allOf,$)):k0(W)?h0(mK(W.anyOf,$)):f1(W)?lK(W,$):m0({})}function r6(W,$,J){let Y=k1($)?pK($):$,X=S1($)?h5($):$,Q=I1(W),M=I1($);return N1(W)?Dw(W,X,J):G2($)?Zw(W,$,J):Q&&M?G1("Pick",[W,Y],J):!Q&&M?G1("Pick",[W,Y],J):Q&&!M?G1("Pick",[W,Y],J):g({...CQ(W,X),...J})}function iK(W,$,J){return{[$]:r6(W,[$],w1(J))}}function nK(W,$,J){return $.reduce((Y,X)=>{return{...Y,...iK(W,X,J)}},{})}function oK(W,$,J){return nK(W,$.keys,J)}function Zw(W,$,J){let Y=oK(W,$,J);return f0(Y)}function sK(W,$){return G1("Partial",[G1(W,$)])}function aK(W){return G1("Partial",[R2(W)])}function rK(W){let $={};for(let J of globalThis.Object.getOwnPropertyNames(W))$[J]=L5(W[J]);return $}function tK(W){let $=V1(W,[t0,"$id","required","properties"]),J=rK(W.properties);return m0(J,$)}function Sw(W){return W.map(($)=>Ow($))}function Ow(W){return r2(W)?sK(W.target,W.parameters):I1(W)?aK(W.$ref):C1(W)?j5(Sw(W.allOf)):k0(W)?h0(Sw(W.anyOf)):f1(W)?tK(W):i4(W)?W:Q6(W)?W:W8(W)?W:H2(W)?W:IW(W)?W:$8(W)?W:M6(W)?W:xW(W)?W:H6(W)?W:m0({})}function $7(W,$){if(N1(W))return _w(W,$);else return g({...Ow(W),...$})}function eK(W,$){let J={};for(let Y of globalThis.Object.getOwnPropertyNames(W))J[Y]=$7(W[Y],w1($));return J}function WC(W,$){return eK(W.properties,$)}function _w(W,$){let J=WC(W,$);return f0(J)}function $C(W,$){return G1("Required",[G1(W,$)])}function JC(W){return G1("Required",[R2(W)])}function YC(W){let $={};for(let J of globalThis.Object.getOwnPropertyNames(W))$[J]=V1(W[J],[n1]);return $}function XC(W){let $=V1(W,[t0,"$id","required","properties"]),J=YC(W.properties);return m0(J,$)}function Lw(W){return W.map(($)=>jw($))}function jw(W){return r2(W)?$C(W.target,W.parameters):I1(W)?JC(W.$ref):C1(W)?j5(Lw(W.allOf)):k0(W)?h0(Lw(W.anyOf)):f1(W)?XC(W):i4(W)?W:Q6(W)?W:W8(W)?W:H2(W)?W:IW(W)?W:$8(W)?W:M6(W)?W:xW(W)?W:H6(W)?W:m0({})}function J7(W,$){if(N1(W))return Fw(W,$);else return g({...jw(W),...$})}function QC(W,$){let J={};for(let Y of globalThis.Object.getOwnPropertyNames(W))J[Y]=J7(W[Y],$);return J}function MC(W,$){return QC(W.properties,$)}function Fw(W,$){let J=MC(W,$);return f0(J)}function HC(W,$){return $.map((J)=>{return I1(J)?VQ(W,J.$ref):w2(W,J)})}function VQ(W,$){return $ in W?I1(W[$])?VQ(W,W[$].$ref):w2(W,W[$]):_0()}function GC(W){return s9(W[0])}function BC(W){return o6(W[0],W[1])}function UC(W){return a9(W[0])}function wC(W){return $7(W[0])}function AC(W){return a6(W[0],W[1])}function NC(W){return r6(W[0],W[1])}function qC(W){return J7(W[0])}function zC(W,$,J){let Y=HC(W,J);return $==="Awaited"?GC(Y):$==="Index"?BC(Y):$==="KeyOf"?UC(Y):$==="Partial"?wC(Y):$==="Omit"?AC(Y):$==="Pick"?NC(Y):$==="Required"?qC(Y):_0()}function DC(W,$){return h9(w2(W,$))}function ZC(W,$){return m9(w2(W,$))}function SC(W,$,J){return u9(mW(W,$),w2(W,J))}function OC(W,$,J){return P8(mW(W,$),w2(W,J))}function _C(W,$){return j5(mW(W,$))}function LC(W,$){return o9(w2(W,$))}function jC(W,$){return m0(globalThis.Object.keys($).reduce((J,Y)=>{return{...J,[Y]:w2(W,$[Y])}},{}))}function FC(W,$){let[J,Y]=[w2(W,iJ($)),pJ($)],X=f9($);return X.patternProperties[Y]=J,X}function KC(W,$){return I1($)?{...VQ(W,$.$ref),[t0]:$[t0]}:$}function CC(W,$){return E2(mW(W,$))}function VC(W,$){return h0(mW(W,$))}function mW(W,$){return $.map((J)=>w2(W,J))}function w2(W,$){return c5($)?g(w2(W,V1($,[n1])),$):y9($)?g(w2(W,V1($,[s2])),$):c0($)?g(KC(W,$),$):a2($)?g(DC(W,$.items),$):p4($)?g(ZC(W,$.items),$):r2($)?g(zC(W,$.target,$.parameters)):t2($)?g(SC(W,$.parameters,$.returns),$):e2($)?g(OC(W,$.parameters,$.returns),$):C1($)?g(_C(W,$.allOf),$):n4($)?g(LC(W,$.items),$):f1($)?g(jC(W,$.properties),$):s4($)?g(FC(W,$)):U2($)?g(CC(W,$.items||[]),$):k0($)?g(VC(W,$.anyOf),$):$}function bC(W,$){return $ in W?w2(W,W[$]):_0()}function Kw(W){return globalThis.Object.getOwnPropertyNames(W).reduce(($,J)=>{return{...$,[J]:bC(W,J)}},{})}class Cw{constructor(W){let $=Kw(W),J=this.WithIdentifiers($);this.$defs=J}Import(W,$){let J={...this.$defs,[W]:g(this.$defs[W],$)};return g({[K]:"Import",$defs:J,$ref:W})}WithIdentifiers(W){return globalThis.Object.getOwnPropertyNames(W).reduce(($,J)=>{return{...$,[J]:{...W[J],$id:J}}},{})}}function Vw(W){return new Cw(W)}function bw(W,$){return g({[K]:"Not",not:W},$)}function Ew(W,$){return e2(W)?E2(W.parameters,$):_0()}var EC=0;function Pw(W,$={}){if(g1($.$id))$.$id=`T${EC++}`;let J=f9(W({[K]:"This",$ref:`${$.$id}`}));return J.$id=$.$id,g({[V2]:"Recursive",...J},$)}function Rw(W,$){let J=W1(W)?new globalThis.RegExp(W):W;return g({[K]:"RegExp",type:"RegExp",source:J.source,flags:J.flags},$)}function PC(W){return C1(W)?W.allOf:k0(W)?W.anyOf:U2(W)?W.items??[]:[]}function Iw(W){return PC(W)}function xw(W,$){return e2(W)?g(W.returns,$):_0($)}class Tw{constructor(W){this.schema=W}Decode(W){return new kw(this.schema,W)}}class kw{constructor(W,$){this.schema=W,this.decode=$}EncodeTransform(W,$){let X={Encode:(Q)=>$[t0].Encode(W(Q)),Decode:(Q)=>this.decode($[t0].Decode(Q))};return{...$,[t0]:X}}EncodeSchema(W,$){let J={Decode:this.decode,Encode:W};return{...$,[t0]:J}}Encode(W){return c0(this.schema)?this.EncodeTransform(W,this.schema):this.EncodeSchema(W,this.schema)}}function gw(W){return new Tw(W)}function nJ(W={}){return g({[K]:W[K]??"Unsafe"},W)}function fw(W){return g({[K]:"Void",type:"void"},W)}var bQ={};W6(bQ,{Void:()=>fw,Uppercase:()=>Nw,Unsafe:()=>nJ,Unknown:()=>J8,Union:()=>h0,Undefined:()=>yJ,Uncapitalize:()=>Aw,Uint8Array:()=>dJ,Tuple:()=>E2,Transform:()=>gw,TemplateLiteral:()=>IJ,Symbol:()=>vJ,String:()=>x5,ReturnType:()=>xw,Rest:()=>Iw,Required:()=>J7,RegExp:()=>Rw,Ref:()=>R2,Recursive:()=>Pw,Record:()=>lJ,ReadonlyOptional:()=>uJ,Readonly:()=>m5,Promise:()=>TJ,Pick:()=>r6,Partial:()=>$7,Parameters:()=>Ew,Optional:()=>L5,Omit:()=>a6,Object:()=>m0,Number:()=>b2,Null:()=>fJ,Not:()=>bw,Never:()=>_0,Module:()=>Vw,Mapped:()=>PU,Lowercase:()=>ww,Literal:()=>I0,KeyOf:()=>a9,Iterator:()=>o9,Intersect:()=>j5,Integer:()=>Mw,Instantiate:()=>Qw,InstanceType:()=>Yw,Index:()=>o6,Function:()=>P8,Extract:()=>W7,Extends:()=>t9,Exclude:()=>e9,Enum:()=>yU,Date:()=>gJ,ConstructorParameters:()=>vU,Constructor:()=>u9,Const:()=>fU,Composite:()=>gU,Capitalize:()=>Uw,Boolean:()=>RJ,BigInt:()=>n9,Awaited:()=>s9,AsyncIterator:()=>m9,Array:()=>h9,Argument:()=>NU,Any:()=>n6});var Q8=bQ;function RC(W){switch(W.errorType){case T.ArrayContains:return"Expected array to contain at least one matching value";case T.ArrayMaxContains:return`Expected array to contain no more than ${W.schema.maxContains} matching values`;case T.ArrayMinContains:return`Expected array to contain at least ${W.schema.minContains} matching values`;case T.ArrayMaxItems:return`Expected array length to be less or equal to ${W.schema.maxItems}`;case T.ArrayMinItems:return`Expected array length to be greater or equal to ${W.schema.minItems}`;case T.ArrayUniqueItems:return"Expected array elements to be unique";case T.Array:return"Expected array";case T.AsyncIterator:return"Expected AsyncIterator";case T.BigIntExclusiveMaximum:return`Expected bigint to be less than ${W.schema.exclusiveMaximum}`;case T.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${W.schema.exclusiveMinimum}`;case T.BigIntMaximum:return`Expected bigint to be less or equal to ${W.schema.maximum}`;case T.BigIntMinimum:return`Expected bigint to be greater or equal to ${W.schema.minimum}`;case T.BigIntMultipleOf:return`Expected bigint to be a multiple of ${W.schema.multipleOf}`;case T.BigInt:return"Expected bigint";case T.Boolean:return"Expected boolean";case T.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${W.schema.exclusiveMinimumTimestamp}`;case T.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${W.schema.exclusiveMaximumTimestamp}`;case T.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${W.schema.minimumTimestamp}`;case T.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${W.schema.maximumTimestamp}`;case T.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${W.schema.multipleOfTimestamp}`;case T.Date:return"Expected Date";case T.Function:return"Expected function";case T.IntegerExclusiveMaximum:return`Expected integer to be less than ${W.schema.exclusiveMaximum}`;case T.IntegerExclusiveMinimum:return`Expected integer to be greater than ${W.schema.exclusiveMinimum}`;case T.IntegerMaximum:return`Expected integer to be less or equal to ${W.schema.maximum}`;case T.IntegerMinimum:return`Expected integer to be greater or equal to ${W.schema.minimum}`;case T.IntegerMultipleOf:return`Expected integer to be a multiple of ${W.schema.multipleOf}`;case T.Integer:return"Expected integer";case T.IntersectUnevaluatedProperties:return"Unexpected property";case T.Intersect:return"Expected all values to match";case T.Iterator:return"Expected Iterator";case T.Literal:return`Expected ${typeof W.schema.const==="string"?`'${W.schema.const}'`:W.schema.const}`;case T.Never:return"Never";case T.Not:return"Value should not match";case T.Null:return"Expected null";case T.NumberExclusiveMaximum:return`Expected number to be less than ${W.schema.exclusiveMaximum}`;case T.NumberExclusiveMinimum:return`Expected number to be greater than ${W.schema.exclusiveMinimum}`;case T.NumberMaximum:return`Expected number to be less or equal to ${W.schema.maximum}`;case T.NumberMinimum:return`Expected number to be greater or equal to ${W.schema.minimum}`;case T.NumberMultipleOf:return`Expected number to be a multiple of ${W.schema.multipleOf}`;case T.Number:return"Expected number";case T.Object:return"Expected object";case T.ObjectAdditionalProperties:return"Unexpected property";case T.ObjectMaxProperties:return`Expected object to have no more than ${W.schema.maxProperties} properties`;case T.ObjectMinProperties:return`Expected object to have at least ${W.schema.minProperties} properties`;case T.ObjectRequiredProperty:return"Expected required property";case T.Promise:return"Expected Promise";case T.RegExp:return"Expected string to match regular expression";case T.StringFormatUnknown:return`Unknown format '${W.schema.format}'`;case T.StringFormat:return`Expected string to match '${W.schema.format}' format`;case T.StringMaxLength:return`Expected string length less or equal to ${W.schema.maxLength}`;case T.StringMinLength:return`Expected string length greater or equal to ${W.schema.minLength}`;case T.StringPattern:return`Expected string to match '${W.schema.pattern}'`;case T.String:return"Expected string";case T.Symbol:return"Expected symbol";case T.TupleLength:return`Expected tuple to have ${W.schema.maxItems||0} elements`;case T.Tuple:return"Expected tuple";case T.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${W.schema.maxByteLength}`;case T.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${W.schema.minByteLength}`;case T.Uint8Array:return"Expected Uint8Array";case T.Undefined:return"Expected undefined";case T.Union:return"Expected union value";case T.Void:return"Expected void";case T.Kind:return`Expected kind '${W.schema[K]}'`;default:return"Unknown error type"}}var IC=RC;function vw(){return IC}class yw extends H0{constructor(W){super(`Unable to dereference schema with $id '${W.$ref}'`);this.schema=W}}function xC(W,$){let J=$.find((Y)=>Y.$id===W.$ref);if(J===void 0)throw new yw(W);return g0(J,$)}function W5(W,$){if(!T0(W.$id)||$.some((J)=>J.$id===W.$id))return $;return $.push(W),$}function g0(W,$){return W[K]==="This"||W[K]==="Ref"?xC(W,$):W}class dw extends H0{constructor(W){super("Unable to hash value");this.value=W}}var A2;(function(W){W[W.Undefined=0]="Undefined",W[W.Null=1]="Null",W[W.Boolean=2]="Boolean",W[W.Number=3]="Number",W[W.String=4]="String",W[W.Object=5]="Object",W[W.Array=6]="Array",W[W.Date=7]="Date",W[W.Uint8Array=8]="Uint8Array",W[W.Symbol=9]="Symbol",W[W.BigInt=10]="BigInt"})(A2||(A2={}));var Y7=BigInt("14695981039346656037"),[TC,kC]=[BigInt("1099511628211"),BigInt("18446744073709551616")],gC=Array.from({length:256}).map((W,$)=>BigInt($)),cw=new Float64Array(1),hw=new DataView(cw.buffer),mw=new Uint8Array(cw.buffer);function*fC(W){let $=W===0?1:Math.ceil(Math.floor(Math.log2(W)+1)/8);for(let J=0;J<$;J++)yield W>>8*($-1-J)&255}function vC(W){K5(A2.Array);for(let $ of W)X7($)}function yC(W){K5(A2.Boolean),K5(W?1:0)}function dC(W){K5(A2.BigInt),hw.setBigInt64(0,W);for(let $ of mw)K5($)}function cC(W){K5(A2.Date),X7(W.getTime())}function hC(W){K5(A2.Null)}function mC(W){K5(A2.Number),hw.setFloat64(0,W);for(let $ of mw)K5($)}function uC(W){K5(A2.Object);for(let $ of globalThis.Object.getOwnPropertyNames(W).sort())X7($),X7(W[$])}function lC(W){K5(A2.String);for(let $=0;$<W.length;$++)for(let J of fC(W.charCodeAt($)))K5(J)}function pC(W){K5(A2.Symbol),X7(W.description)}function iC(W){K5(A2.Uint8Array);for(let $=0;$<W.length;$++)K5(W[$])}function nC(W){return K5(A2.Undefined)}function X7(W){if(Q0(W))return vC(W);if(E8(W))return yC(W);if(U5(W))return dC(W);if(I5(W))return cC(W);if(Y6(W))return hC(W);if(Y0(W))return mC(W);if(z0(W))return uC(W);if(T0(W))return lC(W);if(X6(W))return pC(W);if(v9(W))return iC(W);if(A1(W))return nC(W);throw new dw(W)}function K5(W){Y7=Y7^gC[W],Y7=Y7*TC%kC}function t6(W){return Y7=BigInt("14695981039346656037"),X7(W),Y7}class uw extends H0{constructor(W){super("Unknown type");this.schema=W}}function oC(W){return W[K]==="Any"||W[K]==="Unknown"}function V0(W){return W!==void 0}function sC(W,$,J){return!0}function aC(W,$,J){return!0}function rC(W,$,J){if(!Q0(J))return!1;if(V0(W.minItems)&&!(J.length>=W.minItems))return!1;if(V0(W.maxItems)&&!(J.length<=W.maxItems))return!1;if(!J.every((Q)=>$5(W.items,$,Q)))return!1;if(W.uniqueItems===!0&&!function(){let Q=new Set;for(let M of J){let H=t6(M);if(Q.has(H))return!1;else Q.add(H)}return!0}())return!1;if(!(V0(W.contains)||Y0(W.minContains)||Y0(W.maxContains)))return!0;let Y=V0(W.contains)?W.contains:_0(),X=J.reduce((Q,M)=>$5(Y,$,M)?Q+1:Q,0);if(X===0)return!1;if(Y0(W.minContains)&&X<W.minContains)return!1;if(Y0(W.maxContains)&&X>W.maxContains)return!1;return!0}function tC(W,$,J){return jJ(J)}function eC(W,$,J){if(!U5(J))return!1;if(V0(W.exclusiveMaximum)&&!(J<W.exclusiveMaximum))return!1;if(V0(W.exclusiveMinimum)&&!(J>W.exclusiveMinimum))return!1;if(V0(W.maximum)&&!(J<=W.maximum))return!1;if(V0(W.minimum)&&!(J>=W.minimum))return!1;if(V0(W.multipleOf)&&J%W.multipleOf!==BigInt(0))return!1;return!0}function WV(W,$,J){return E8(J)}function $V(W,$,J){return $5(W.returns,$,J.prototype)}function JV(W,$,J){if(!I5(J))return!1;if(V0(W.exclusiveMaximumTimestamp)&&!(J.getTime()<W.exclusiveMaximumTimestamp))return!1;if(V0(W.exclusiveMinimumTimestamp)&&!(J.getTime()>W.exclusiveMinimumTimestamp))return!1;if(V0(W.maximumTimestamp)&&!(J.getTime()<=W.maximumTimestamp))return!1;if(V0(W.minimumTimestamp)&&!(J.getTime()>=W.minimumTimestamp))return!1;if(V0(W.multipleOfTimestamp)&&J.getTime()%W.multipleOfTimestamp!==0)return!1;return!0}function YV(W,$,J){return m6(J)}function XV(W,$,J){let Y=globalThis.Object.values(W.$defs),X=W.$defs[W.$ref];return $5(X,[...$,...Y],J)}function QV(W,$,J){if(!CJ(J))return!1;if(V0(W.exclusiveMaximum)&&!(J<W.exclusiveMaximum))return!1;if(V0(W.exclusiveMinimum)&&!(J>W.exclusiveMinimum))return!1;if(V0(W.maximum)&&!(J<=W.maximum))return!1;if(V0(W.minimum)&&!(J>=W.minimum))return!1;if(V0(W.multipleOf)&&J%W.multipleOf!==0)return!1;return!0}function MV(W,$,J){let Y=W.allOf.every((X)=>$5(X,$,J));if(W.unevaluatedProperties===!1){let X=new RegExp(U6(W)),Q=Object.getOwnPropertyNames(J).every((M)=>X.test(M));return Y&&Q}else if(S1(W.unevaluatedProperties)){let X=new RegExp(U6(W)),Q=Object.getOwnPropertyNames(J).every((M)=>X.test(M)||$5(W.unevaluatedProperties,$,J[M]));return Y&&Q}else return Y}function HV(W,$,J){return FJ(J)}function GV(W,$,J){return J===W.const}function BV(W,$,J){return!1}function UV(W,$,J){return!$5(W.not,$,J)}function wV(W,$,J){return Y6(J)}function AV(W,$,J){if(!H1.IsNumberLike(J))return!1;if(V0(W.exclusiveMaximum)&&!(J<W.exclusiveMaximum))return!1;if(V0(W.exclusiveMinimum)&&!(J>W.exclusiveMinimum))return!1;if(V0(W.minimum)&&!(J>=W.minimum))return!1;if(V0(W.maximum)&&!(J<=W.maximum))return!1;if(V0(W.multipleOf)&&J%W.multipleOf!==0)return!1;return!0}function NV(W,$,J){if(!H1.IsObjectLike(J))return!1;if(V0(W.minProperties)&&!(Object.getOwnPropertyNames(J).length>=W.minProperties))return!1;if(V0(W.maxProperties)&&!(Object.getOwnPropertyNames(J).length<=W.maxProperties))return!1;let Y=Object.getOwnPropertyNames(W.properties);for(let X of Y){let Q=W.properties[X];if(W.required&&W.required.includes(X)){if(!$5(Q,$,J[X]))return!1;if((w6(Q)||oC(Q))&&!(X in J))return!1}else if(H1.IsExactOptionalProperty(J,X)&&!$5(Q,$,J[X]))return!1}if(W.additionalProperties===!1){let X=Object.getOwnPropertyNames(J);if(W.required&&W.required.length===Y.length&&X.length===Y.length)return!0;else return X.every((Q)=>Y.includes(Q))}else if(typeof W.additionalProperties==="object")return Object.getOwnPropertyNames(J).every((Q)=>Y.includes(Q)||$5(W.additionalProperties,$,J[Q]));else return!0}function qV(W,$,J){return KJ(J)}function zV(W,$,J){if(!H1.IsRecordLike(J))return!1;if(V0(W.minProperties)&&!(Object.getOwnPropertyNames(J).length>=W.minProperties))return!1;if(V0(W.maxProperties)&&!(Object.getOwnPropertyNames(J).length<=W.maxProperties))return!1;let[Y,X]=Object.entries(W.patternProperties)[0],Q=new RegExp(Y),M=Object.entries(J).every(([B,w])=>{return Q.test(B)?$5(X,$,w):!0}),H=typeof W.additionalProperties==="object"?Object.entries(J).every(([B,w])=>{return!Q.test(B)?$5(W.additionalProperties,$,w):!0}):!0,G=W.additionalProperties===!1?Object.getOwnPropertyNames(J).every((B)=>{return Q.test(B)}):!0;return M&&H&&G}function DV(W,$,J){return $5(g0(W,$),$,J)}function ZV(W,$,J){let Y=new RegExp(W.source,W.flags);if(V0(W.minLength)){if(!(J.length>=W.minLength))return!1}if(V0(W.maxLength)){if(!(J.length<=W.maxLength))return!1}return Y.test(J)}function SV(W,$,J){if(!T0(J))return!1;if(V0(W.minLength)){if(!(J.length>=W.minLength))return!1}if(V0(W.maxLength)){if(!(J.length<=W.maxLength))return!1}if(V0(W.pattern)){if(!new RegExp(W.pattern).test(J))return!1}if(V0(W.format)){if(!p0.Has(W.format))return!1;return p0.Get(W.format)(J)}return!0}function OV(W,$,J){return X6(J)}function _V(W,$,J){return T0(J)&&new RegExp(W.pattern).test(J)}function LV(W,$,J){return $5(g0(W,$),$,J)}function jV(W,$,J){if(!Q0(J))return!1;if(W.items===void 0&&J.length!==0)return!1;if(J.length!==W.maxItems)return!1;if(!W.items)return!0;for(let Y=0;Y<W.items.length;Y++)if(!$5(W.items[Y],$,J[Y]))return!1;return!0}function FV(W,$,J){return A1(J)}function KV(W,$,J){return W.anyOf.some((Y)=>$5(Y,$,J))}function CV(W,$,J){if(!v9(J))return!1;if(V0(W.maxByteLength)&&!(J.length<=W.maxByteLength))return!1;if(V0(W.minByteLength)&&!(J.length>=W.minByteLength))return!1;return!0}function VV(W,$,J){return!0}function bV(W,$,J){return H1.IsVoidLike(J)}function EV(W,$,J){if(!o1.Has(W[K]))return!1;return o1.Get(W[K])(W,J)}function $5(W,$,J){let Y=V0(W.$id)?W5(W,$):$,X=W;switch(X[K]){case"Any":return sC(X,Y,J);case"Argument":return aC(X,Y,J);case"Array":return rC(X,Y,J);case"AsyncIterator":return tC(X,Y,J);case"BigInt":return eC(X,Y,J);case"Boolean":return WV(X,Y,J);case"Constructor":return $V(X,Y,J);case"Date":return JV(X,Y,J);case"Function":return YV(X,Y,J);case"Import":return XV(X,Y,J);case"Integer":return QV(X,Y,J);case"Intersect":return MV(X,Y,J);case"Iterator":return HV(X,Y,J);case"Literal":return GV(X,Y,J);case"Never":return BV(X,Y,J);case"Not":return UV(X,Y,J);case"Null":return wV(X,Y,J);case"Number":return AV(X,Y,J);case"Object":return NV(X,Y,J);case"Promise":return qV(X,Y,J);case"Record":return zV(X,Y,J);case"Ref":return DV(X,Y,J);case"RegExp":return ZV(X,Y,J);case"String":return SV(X,Y,J);case"Symbol":return OV(X,Y,J);case"TemplateLiteral":return _V(X,Y,J);case"This":return LV(X,Y,J);case"Tuple":return jV(X,Y,J);case"Undefined":return FV(X,Y,J);case"Union":return KV(X,Y,J);case"Uint8Array":return CV(X,Y,J);case"Unknown":return VV(X,Y,J);case"Void":return bV(X,Y,J);default:if(!o1.Has(X[K]))throw new uw(X);return EV(X,Y,J)}}function L0(...W){return W.length===3?$5(W[0],W[1],W[2]):$5(W[0],[],W[1])}var T;(function(W){W[W.ArrayContains=0]="ArrayContains",W[W.ArrayMaxContains=1]="ArrayMaxContains",W[W.ArrayMaxItems=2]="ArrayMaxItems",W[W.ArrayMinContains=3]="ArrayMinContains",W[W.ArrayMinItems=4]="ArrayMinItems",W[W.ArrayUniqueItems=5]="ArrayUniqueItems",W[W.Array=6]="Array",W[W.AsyncIterator=7]="AsyncIterator",W[W.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",W[W.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",W[W.BigIntMaximum=10]="BigIntMaximum",W[W.BigIntMinimum=11]="BigIntMinimum",W[W.BigIntMultipleOf=12]="BigIntMultipleOf",W[W.BigInt=13]="BigInt",W[W.Boolean=14]="Boolean",W[W.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",W[W.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",W[W.DateMaximumTimestamp=17]="DateMaximumTimestamp",W[W.DateMinimumTimestamp=18]="DateMinimumTimestamp",W[W.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",W[W.Date=20]="Date",W[W.Function=21]="Function",W[W.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",W[W.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",W[W.IntegerMaximum=24]="IntegerMaximum",W[W.IntegerMinimum=25]="IntegerMinimum",W[W.IntegerMultipleOf=26]="IntegerMultipleOf",W[W.Integer=27]="Integer",W[W.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",W[W.Intersect=29]="Intersect",W[W.Iterator=30]="Iterator",W[W.Kind=31]="Kind",W[W.Literal=32]="Literal",W[W.Never=33]="Never",W[W.Not=34]="Not",W[W.Null=35]="Null",W[W.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",W[W.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",W[W.NumberMaximum=38]="NumberMaximum",W[W.NumberMinimum=39]="NumberMinimum",W[W.NumberMultipleOf=40]="NumberMultipleOf",W[W.Number=41]="Number",W[W.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",W[W.ObjectMaxProperties=43]="ObjectMaxProperties",W[W.ObjectMinProperties=44]="ObjectMinProperties",W[W.ObjectRequiredProperty=45]="ObjectRequiredProperty",W[W.Object=46]="Object",W[W.Promise=47]="Promise",W[W.RegExp=48]="RegExp",W[W.StringFormatUnknown=49]="StringFormatUnknown",W[W.StringFormat=50]="StringFormat",W[W.StringMaxLength=51]="StringMaxLength",W[W.StringMinLength=52]="StringMinLength",W[W.StringPattern=53]="StringPattern",W[W.String=54]="String",W[W.Symbol=55]="Symbol",W[W.TupleLength=56]="TupleLength",W[W.Tuple=57]="Tuple",W[W.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",W[W.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",W[W.Uint8Array=60]="Uint8Array",W[W.Undefined=61]="Undefined",W[W.Union=62]="Union",W[W.Void=63]="Void"})(T||(T={}));class lw extends H0{constructor(W){super("Unknown type");this.schema=W}}function A6(W){return W.replace(/~/g,"~0").replace(/\//g,"~1")}function b0(W){return W!==void 0}class e4{constructor(W){this.iterator=W}[Symbol.iterator](){return this.iterator}First(){let W=this.iterator.next();return W.done?void 0:W.value}}function W0(W,$,J,Y,X=[]){return{type:W,schema:$,path:J,value:Y,message:vw()({errorType:W,path:J,schema:$,value:Y,errors:X}),errors:X}}function*PV(W,$,J,Y){}function*RV(W,$,J,Y){}function*IV(W,$,J,Y){if(!Q0(Y))return yield W0(T.Array,W,J,Y);if(b0(W.minItems)&&!(Y.length>=W.minItems))yield W0(T.ArrayMinItems,W,J,Y);if(b0(W.maxItems)&&!(Y.length<=W.maxItems))yield W0(T.ArrayMaxItems,W,J,Y);for(let M=0;M<Y.length;M++)yield*J5(W.items,$,`${J}/${M}`,Y[M]);if(W.uniqueItems===!0&&!function(){let M=new Set;for(let H of Y){let G=t6(H);if(M.has(G))return!1;else M.add(G)}return!0}())yield W0(T.ArrayUniqueItems,W,J,Y);if(!(b0(W.contains)||b0(W.minContains)||b0(W.maxContains)))return;let X=b0(W.contains)?W.contains:_0(),Q=Y.reduce((M,H,G)=>J5(X,$,`${J}${G}`,H).next().done===!0?M+1:M,0);if(Q===0)yield W0(T.ArrayContains,W,J,Y);if(Y0(W.minContains)&&Q<W.minContains)yield W0(T.ArrayMinContains,W,J,Y);if(Y0(W.maxContains)&&Q>W.maxContains)yield W0(T.ArrayMaxContains,W,J,Y)}function*xV(W,$,J,Y){if(!jJ(Y))yield W0(T.AsyncIterator,W,J,Y)}function*TV(W,$,J,Y){if(!U5(Y))return yield W0(T.BigInt,W,J,Y);if(b0(W.exclusiveMaximum)&&!(Y<W.exclusiveMaximum))yield W0(T.BigIntExclusiveMaximum,W,J,Y);if(b0(W.exclusiveMinimum)&&!(Y>W.exclusiveMinimum))yield W0(T.BigIntExclusiveMinimum,W,J,Y);if(b0(W.maximum)&&!(Y<=W.maximum))yield W0(T.BigIntMaximum,W,J,Y);if(b0(W.minimum)&&!(Y>=W.minimum))yield W0(T.BigIntMinimum,W,J,Y);if(b0(W.multipleOf)&&Y%W.multipleOf!==BigInt(0))yield W0(T.BigIntMultipleOf,W,J,Y)}function*kV(W,$,J,Y){if(!E8(Y))yield W0(T.Boolean,W,J,Y)}function*gV(W,$,J,Y){yield*J5(W.returns,$,J,Y.prototype)}function*fV(W,$,J,Y){if(!I5(Y))return yield W0(T.Date,W,J,Y);if(b0(W.exclusiveMaximumTimestamp)&&!(Y.getTime()<W.exclusiveMaximumTimestamp))yield W0(T.DateExclusiveMaximumTimestamp,W,J,Y);if(b0(W.exclusiveMinimumTimestamp)&&!(Y.getTime()>W.exclusiveMinimumTimestamp))yield W0(T.DateExclusiveMinimumTimestamp,W,J,Y);if(b0(W.maximumTimestamp)&&!(Y.getTime()<=W.maximumTimestamp))yield W0(T.DateMaximumTimestamp,W,J,Y);if(b0(W.minimumTimestamp)&&!(Y.getTime()>=W.minimumTimestamp))yield W0(T.DateMinimumTimestamp,W,J,Y);if(b0(W.multipleOfTimestamp)&&Y.getTime()%W.multipleOfTimestamp!==0)yield W0(T.DateMultipleOfTimestamp,W,J,Y)}function*vV(W,$,J,Y){if(!m6(Y))yield W0(T.Function,W,J,Y)}function*yV(W,$,J,Y){let X=globalThis.Object.values(W.$defs),Q=W.$defs[W.$ref];yield*J5(Q,[...$,...X],J,Y)}function*dV(W,$,J,Y){if(!CJ(Y))return yield W0(T.Integer,W,J,Y);if(b0(W.exclusiveMaximum)&&!(Y<W.exclusiveMaximum))yield W0(T.IntegerExclusiveMaximum,W,J,Y);if(b0(W.exclusiveMinimum)&&!(Y>W.exclusiveMinimum))yield W0(T.IntegerExclusiveMinimum,W,J,Y);if(b0(W.maximum)&&!(Y<=W.maximum))yield W0(T.IntegerMaximum,W,J,Y);if(b0(W.minimum)&&!(Y>=W.minimum))yield W0(T.IntegerMinimum,W,J,Y);if(b0(W.multipleOf)&&Y%W.multipleOf!==0)yield W0(T.IntegerMultipleOf,W,J,Y)}function*cV(W,$,J,Y){let X=!1;for(let Q of W.allOf)for(let M of J5(Q,$,J,Y))X=!0,yield M;if(X)return yield W0(T.Intersect,W,J,Y);if(W.unevaluatedProperties===!1){let Q=new RegExp(U6(W));for(let M of Object.getOwnPropertyNames(Y))if(!Q.test(M))yield W0(T.IntersectUnevaluatedProperties,W,`${J}/${M}`,Y)}if(typeof W.unevaluatedProperties==="object"){let Q=new RegExp(U6(W));for(let M of Object.getOwnPropertyNames(Y))if(!Q.test(M)){let H=J5(W.unevaluatedProperties,$,`${J}/${M}`,Y[M]).next();if(!H.done)yield H.value}}}function*hV(W,$,J,Y){if(!FJ(Y))yield W0(T.Iterator,W,J,Y)}function*mV(W,$,J,Y){if(Y!==W.const)yield W0(T.Literal,W,J,Y)}function*uV(W,$,J,Y){yield W0(T.Never,W,J,Y)}function*lV(W,$,J,Y){if(J5(W.not,$,J,Y).next().done===!0)yield W0(T.Not,W,J,Y)}function*pV(W,$,J,Y){if(!Y6(Y))yield W0(T.Null,W,J,Y)}function*iV(W,$,J,Y){if(!H1.IsNumberLike(Y))return yield W0(T.Number,W,J,Y);if(b0(W.exclusiveMaximum)&&!(Y<W.exclusiveMaximum))yield W0(T.NumberExclusiveMaximum,W,J,Y);if(b0(W.exclusiveMinimum)&&!(Y>W.exclusiveMinimum))yield W0(T.NumberExclusiveMinimum,W,J,Y);if(b0(W.maximum)&&!(Y<=W.maximum))yield W0(T.NumberMaximum,W,J,Y);if(b0(W.minimum)&&!(Y>=W.minimum))yield W0(T.NumberMinimum,W,J,Y);if(b0(W.multipleOf)&&Y%W.multipleOf!==0)yield W0(T.NumberMultipleOf,W,J,Y)}function*nV(W,$,J,Y){if(!H1.IsObjectLike(Y))return yield W0(T.Object,W,J,Y);if(b0(W.minProperties)&&!(Object.getOwnPropertyNames(Y).length>=W.minProperties))yield W0(T.ObjectMinProperties,W,J,Y);if(b0(W.maxProperties)&&!(Object.getOwnPropertyNames(Y).length<=W.maxProperties))yield W0(T.ObjectMaxProperties,W,J,Y);let X=Array.isArray(W.required)?W.required:[],Q=Object.getOwnPropertyNames(W.properties),M=Object.getOwnPropertyNames(Y);for(let H of X){if(M.includes(H))continue;yield W0(T.ObjectRequiredProperty,W.properties[H],`${J}/${A6(H)}`,void 0)}if(W.additionalProperties===!1){for(let H of M)if(!Q.includes(H))yield W0(T.ObjectAdditionalProperties,W,`${J}/${A6(H)}`,Y[H])}if(typeof W.additionalProperties==="object")for(let H of M){if(Q.includes(H))continue;yield*J5(W.additionalProperties,$,`${J}/${A6(H)}`,Y[H])}for(let H of Q){let G=W.properties[H];if(W.required&&W.required.includes(H)){if(yield*J5(G,$,`${J}/${A6(H)}`,Y[H]),w6(W)&&!(H in Y))yield W0(T.ObjectRequiredProperty,G,`${J}/${A6(H)}`,void 0)}else if(H1.IsExactOptionalProperty(Y,H))yield*J5(G,$,`${J}/${A6(H)}`,Y[H])}}function*oV(W,$,J,Y){if(!KJ(Y))yield W0(T.Promise,W,J,Y)}function*sV(W,$,J,Y){if(!H1.IsRecordLike(Y))return yield W0(T.Object,W,J,Y);if(b0(W.minProperties)&&!(Object.getOwnPropertyNames(Y).length>=W.minProperties))yield W0(T.ObjectMinProperties,W,J,Y);if(b0(W.maxProperties)&&!(Object.getOwnPropertyNames(Y).length<=W.maxProperties))yield W0(T.ObjectMaxProperties,W,J,Y);let[X,Q]=Object.entries(W.patternProperties)[0],M=new RegExp(X);for(let[H,G]of Object.entries(Y))if(M.test(H))yield*J5(Q,$,`${J}/${A6(H)}`,G);if(typeof W.additionalProperties==="object"){for(let[H,G]of Object.entries(Y))if(!M.test(H))yield*J5(W.additionalProperties,$,`${J}/${A6(H)}`,G)}if(W.additionalProperties===!1)for(let[H,G]of Object.entries(Y)){if(M.test(H))continue;return yield W0(T.ObjectAdditionalProperties,W,`${J}/${A6(H)}`,G)}}function*aV(W,$,J,Y){yield*J5(g0(W,$),$,J,Y)}function*rV(W,$,J,Y){if(!T0(Y))return yield W0(T.String,W,J,Y);if(b0(W.minLength)&&!(Y.length>=W.minLength))yield W0(T.StringMinLength,W,J,Y);if(b0(W.maxLength)&&!(Y.length<=W.maxLength))yield W0(T.StringMaxLength,W,J,Y);if(!new RegExp(W.source,W.flags).test(Y))return yield W0(T.RegExp,W,J,Y)}function*tV(W,$,J,Y){if(!T0(Y))return yield W0(T.String,W,J,Y);if(b0(W.minLength)&&!(Y.length>=W.minLength))yield W0(T.StringMinLength,W,J,Y);if(b0(W.maxLength)&&!(Y.length<=W.maxLength))yield W0(T.StringMaxLength,W,J,Y);if(T0(W.pattern)){if(!new RegExp(W.pattern).test(Y))yield W0(T.StringPattern,W,J,Y)}if(T0(W.format)){if(!p0.Has(W.format))yield W0(T.StringFormatUnknown,W,J,Y);else if(!p0.Get(W.format)(Y))yield W0(T.StringFormat,W,J,Y)}}function*eV(W,$,J,Y){if(!X6(Y))yield W0(T.Symbol,W,J,Y)}function*W3(W,$,J,Y){if(!T0(Y))return yield W0(T.String,W,J,Y);if(!new RegExp(W.pattern).test(Y))yield W0(T.StringPattern,W,J,Y)}function*$3(W,$,J,Y){yield*J5(g0(W,$),$,J,Y)}function*J3(W,$,J,Y){if(!Q0(Y))return yield W0(T.Tuple,W,J,Y);if(W.items===void 0&&Y.length!==0)return yield W0(T.TupleLength,W,J,Y);if(Y.length!==W.maxItems)return yield W0(T.TupleLength,W,J,Y);if(!W.items)return;for(let X=0;X<W.items.length;X++)yield*J5(W.items[X],$,`${J}/${X}`,Y[X])}function*Y3(W,$,J,Y){if(!A1(Y))yield W0(T.Undefined,W,J,Y)}function*X3(W,$,J,Y){if(L0(W,$,Y))return;let X=W.anyOf.map((Q)=>new e4(J5(Q,$,J,Y)));yield W0(T.Union,W,J,Y,X)}function*Q3(W,$,J,Y){if(!v9(Y))return yield W0(T.Uint8Array,W,J,Y);if(b0(W.maxByteLength)&&!(Y.length<=W.maxByteLength))yield W0(T.Uint8ArrayMaxByteLength,W,J,Y);if(b0(W.minByteLength)&&!(Y.length>=W.minByteLength))yield W0(T.Uint8ArrayMinByteLength,W,J,Y)}function*M3(W,$,J,Y){}function*H3(W,$,J,Y){if(!H1.IsVoidLike(Y))yield W0(T.Void,W,J,Y)}function*G3(W,$,J,Y){if(!o1.Get(W[K])(W,Y))yield W0(T.Kind,W,J,Y)}function*J5(W,$,J,Y){let X=b0(W.$id)?[...$,W]:$,Q=W;switch(Q[K]){case"Any":return yield*PV(Q,X,J,Y);case"Argument":return yield*RV(Q,X,J,Y);case"Array":return yield*IV(Q,X,J,Y);case"AsyncIterator":return yield*xV(Q,X,J,Y);case"BigInt":return yield*TV(Q,X,J,Y);case"Boolean":return yield*kV(Q,X,J,Y);case"Constructor":return yield*gV(Q,X,J,Y);case"Date":return yield*fV(Q,X,J,Y);case"Function":return yield*vV(Q,X,J,Y);case"Import":return yield*yV(Q,X,J,Y);case"Integer":return yield*dV(Q,X,J,Y);case"Intersect":return yield*cV(Q,X,J,Y);case"Iterator":return yield*hV(Q,X,J,Y);case"Literal":return yield*mV(Q,X,J,Y);case"Never":return yield*uV(Q,X,J,Y);case"Not":return yield*lV(Q,X,J,Y);case"Null":return yield*pV(Q,X,J,Y);case"Number":return yield*iV(Q,X,J,Y);case"Object":return yield*nV(Q,X,J,Y);case"Promise":return yield*oV(Q,X,J,Y);case"Record":return yield*sV(Q,X,J,Y);case"Ref":return yield*aV(Q,X,J,Y);case"RegExp":return yield*rV(Q,X,J,Y);case"String":return yield*tV(Q,X,J,Y);case"Symbol":return yield*eV(Q,X,J,Y);case"TemplateLiteral":return yield*W3(Q,X,J,Y);case"This":return yield*$3(Q,X,J,Y);case"Tuple":return yield*J3(Q,X,J,Y);case"Undefined":return yield*Y3(Q,X,J,Y);case"Union":return yield*X3(Q,X,J,Y);case"Uint8Array":return yield*Q3(Q,X,J,Y);case"Unknown":return yield*M3(Q,X,J,Y);case"Void":return yield*H3(Q,X,J,Y);default:if(!o1.Has(Q[K]))throw new lw(W);return yield*G3(Q,X,J,Y)}}function I8(...W){let $=W.length===3?J5(W[0],W[1],"",W[2]):J5(W[0],[],"",W[1]);return new e4($)}var B3=function(W,$,J,Y,X){if(Y==="m")throw new TypeError("Private method is not writable");if(Y==="a"&&!X)throw new TypeError("Private accessor was defined without a setter");if(typeof $==="function"?W!==$||!X:!$.has(W))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Y==="a"?X.call(W,J):X?X.value=J:$.set(W,J),J},iw=function(W,$,J,Y){if(J==="a"&&!Y)throw new TypeError("Private accessor was defined without a getter");if(typeof $==="function"?W!==$||!Y:!$.has(W))throw new TypeError("Cannot read private member from an object whose class did not declare it");return J==="m"?Y:J==="a"?Y.call(W):Y?Y.value:$.get(W)},EQ,oJ,nw;class ow extends H0{constructor(W){let $=W.First();super($===void 0?"Invalid Value":$.message);EQ.add(this),oJ.set(this,void 0),B3(this,oJ,W,"f"),this.error=$}Errors(){return new e4(iw(this,EQ,"m",nw).call(this))}}oJ=new WeakMap,EQ=new WeakSet,nw=function*W(){if(this.error)yield this.error;yield*iw(this,oJ,"f")};function pw(W,$,J){if(L0(W,$,J))return;throw new ow(I8(W,$,J))}function sJ(...W){return W.length===3?pw(W[0],W[1],W[2]):pw(W[0],[],W[1])}function U3(W){let $={};for(let J of Object.getOwnPropertyNames(W))$[J]=v0(W[J]);for(let J of Object.getOwnPropertySymbols(W))$[J]=v0(W[J]);return $}function w3(W){return W.map(($)=>v0($))}function A3(W){return W.slice()}function N3(W){return new Map(v0([...W.entries()]))}function q3(W){return new Set(v0([...W.entries()]))}function z3(W){return new Date(W.toISOString())}function D3(W){return W}function v0(W){if(Q0(W))return w3(W);if(I5(W))return z3(W);if(C2(W))return A3(W);if(zB(W))return N3(W);if(DB(W))return q3(W);if(z0(W))return U3(W);if(M2(W))return D3(W);throw new Error("ValueClone: Unable to clone value")}class T2 extends H0{constructor(W,$){super($);this.schema=W}}function y0(W){return m6(W)?W():v0(W)}function Z3(W,$){if(w0(W,"default"))return y0(W.default);else return{}}function S3(W,$){return{}}function O3(W,$){if(W.uniqueItems===!0&&!w0(W,"default"))throw new T2(W,"Array with the uniqueItems constraint requires a default value");else if("contains"in W&&!w0(W,"default"))throw new T2(W,"Array with the contains constraint requires a default value");else if("default"in W)return y0(W.default);else if(W.minItems!==void 0)return Array.from({length:W.minItems}).map((J)=>{return N2(W.items,$)});else return[]}function _3(W,$){if(w0(W,"default"))return y0(W.default);else return async function*(){}()}function L3(W,$){if(w0(W,"default"))return y0(W.default);else return BigInt(0)}function j3(W,$){if(w0(W,"default"))return y0(W.default);else return!1}function F3(W,$){if(w0(W,"default"))return y0(W.default);else{let J=N2(W.returns,$);if(typeof J==="object"&&!Array.isArray(J))return class{constructor(){for(let[Y,X]of Object.entries(J)){let Q=this;Q[Y]=X}}};else return class{}}}function K3(W,$){if(w0(W,"default"))return y0(W.default);else if(W.minimumTimestamp!==void 0)return new Date(W.minimumTimestamp);else return new Date}function C3(W,$){if(w0(W,"default"))return y0(W.default);else return()=>N2(W.returns,$)}function V3(W,$){let J=globalThis.Object.values(W.$defs),Y=W.$defs[W.$ref];return N2(Y,[...$,...J])}function b3(W,$){if(w0(W,"default"))return y0(W.default);else if(W.minimum!==void 0)return W.minimum;else return 0}function E3(W,$){if(w0(W,"default"))return y0(W.default);else{let J=W.allOf.reduce((Y,X)=>{let Q=N2(X,$);return typeof Q==="object"?{...Y,...Q}:Q},{});if(!L0(W,$,J))throw new T2(W,"Intersect produced invalid value. Consider using a default value.");return J}}function P3(W,$){if(w0(W,"default"))return y0(W.default);else return function*(){}()}function R3(W,$){if(w0(W,"default"))return y0(W.default);else return W.const}function I3(W,$){if(w0(W,"default"))return y0(W.default);else throw new T2(W,"Never types cannot be created. Consider using a default value.")}function x3(W,$){if(w0(W,"default"))return y0(W.default);else throw new T2(W,"Not types must have a default value")}function T3(W,$){if(w0(W,"default"))return y0(W.default);else return null}function k3(W,$){if(w0(W,"default"))return y0(W.default);else if(W.minimum!==void 0)return W.minimum;else return 0}function g3(W,$){if(w0(W,"default"))return y0(W.default);else{let J=new Set(W.required),Y={};for(let[X,Q]of Object.entries(W.properties)){if(!J.has(X))continue;Y[X]=N2(Q,$)}return Y}}function f3(W,$){if(w0(W,"default"))return y0(W.default);else return Promise.resolve(N2(W.item,$))}function v3(W,$){if(w0(W,"default"))return y0(W.default);else return{}}function y3(W,$){if(w0(W,"default"))return y0(W.default);else return N2(g0(W,$),$)}function d3(W,$){if(w0(W,"default"))return y0(W.default);else throw new T2(W,"RegExp types cannot be created. Consider using a default value.")}function c3(W,$){if(W.pattern!==void 0)if(!w0(W,"default"))throw new T2(W,"String types with patterns must specify a default value");else return y0(W.default);else if(W.format!==void 0)if(!w0(W,"default"))throw new T2(W,"String types with formats must specify a default value");else return y0(W.default);else if(w0(W,"default"))return y0(W.default);else if(W.minLength!==void 0)return Array.from({length:W.minLength}).map(()=>" ").join("");else return""}function h3(W,$){if(w0(W,"default"))return y0(W.default);else if("value"in W)return Symbol.for(W.value);else return Symbol()}function m3(W,$){if(w0(W,"default"))return y0(W.default);if(!PJ(W))throw new T2(W,"Can only create template literals that produce a finite variants. Consider using a default value.");return i9(W)[0]}function u3(W,$){if(sw++>r3)throw new T2(W,"Cannot create recursive type as it appears possibly infinite. Consider using a default.");if(w0(W,"default"))return y0(W.default);else return N2(g0(W,$),$)}function l3(W,$){if(w0(W,"default"))return y0(W.default);if(W.items===void 0)return[];else return Array.from({length:W.minItems}).map((J,Y)=>N2(W.items[Y],$))}function p3(W,$){if(w0(W,"default"))return y0(W.default);else return}function i3(W,$){if(w0(W,"default"))return y0(W.default);else if(W.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");else return N2(W.anyOf[0],$)}function n3(W,$){if(w0(W,"default"))return y0(W.default);else if(W.minByteLength!==void 0)return new Uint8Array(W.minByteLength);else return new Uint8Array(0)}function o3(W,$){if(w0(W,"default"))return y0(W.default);else return{}}function s3(W,$){if(w0(W,"default"))return y0(W.default);else return}function a3(W,$){if(w0(W,"default"))return y0(W.default);else throw new Error("User defined types must specify a default value")}function N2(W,$){let J=W5(W,$),Y=W;switch(Y[K]){case"Any":return Z3(Y,J);case"Argument":return S3(Y,J);case"Array":return O3(Y,J);case"AsyncIterator":return _3(Y,J);case"BigInt":return L3(Y,J);case"Boolean":return j3(Y,J);case"Constructor":return F3(Y,J);case"Date":return K3(Y,J);case"Function":return C3(Y,J);case"Import":return V3(Y,J);case"Integer":return b3(Y,J);case"Intersect":return E3(Y,J);case"Iterator":return P3(Y,J);case"Literal":return R3(Y,J);case"Never":return I3(Y,J);case"Not":return x3(Y,J);case"Null":return T3(Y,J);case"Number":return k3(Y,J);case"Object":return g3(Y,J);case"Promise":return f3(Y,J);case"Record":return v3(Y,J);case"Ref":return y3(Y,J);case"RegExp":return d3(Y,J);case"String":return c3(Y,J);case"Symbol":return h3(Y,J);case"TemplateLiteral":return m3(Y,J);case"This":return u3(Y,J);case"Tuple":return l3(Y,J);case"Undefined":return p3(Y,J);case"Union":return i3(Y,J);case"Uint8Array":return n3(Y,J);case"Unknown":return o3(Y,J);case"Void":return s3(Y,J);default:if(!o1.Has(Y[K]))throw new T2(Y,"Unknown type");return a3(Y,J)}}var r3=512,sw=0;function M8(...W){return sw=0,W.length===2?N2(W[0],W[1]):N2(W[0],[])}class PQ extends H0{constructor(W,$){super($);this.schema=W}}function aw(W,$,J){if(W[K]==="Object"&&typeof J==="object"&&!Y6(J)){let Y=W,X=Object.getOwnPropertyNames(J);return Object.entries(Y.properties).reduce((M,[H,G])=>{let B=G[K]==="Literal"&&G.const===J[H]?100:0,w=L0(G,$,J[H])?10:0,A=X.includes(H)?1:0;return M+(B+w+A)},0)}else if(W[K]==="Union"){let X=W.anyOf.map((Q)=>g0(Q,$)).map((Q)=>aw(Q,$,J));return Math.max(...X)}else return L0(W,$,J)?1:0}function t3(W,$,J){let Y=W.anyOf.map((M)=>g0(M,$)),[X,Q]=[Y[0],0];for(let M of Y){let H=aw(M,$,J);if(H>Q)X=M,Q=H}return X}function e3(W,$,J){if("default"in W)return typeof J==="function"?W.default:v0(W.default);else{let Y=t3(W,$,J);return uW(Y,$,J)}}function Wb(W,$,J){return L0(W,$,J)?v0(J):M8(W,$)}function $b(W,$,J){return L0(W,$,J)?J:M8(W,$)}function Jb(W,$,J){if(L0(W,$,J))return v0(J);let Y=Q0(J)?v0(J):M8(W,$),X=Y0(W.minItems)&&Y.length<W.minItems?[...Y,...Array.from({length:W.minItems-Y.length},()=>null)]:Y,M=(Y0(W.maxItems)&&X.length>W.maxItems?X.slice(0,W.maxItems):X).map((G)=>H8(W.items,$,G));if(W.uniqueItems!==!0)return M;let H=[...new Set(M)];if(!L0(W,$,H))throw new PQ(W,"Array cast produced invalid data due to uniqueItems constraint");return H}function Yb(W,$,J){if(L0(W,$,J))return M8(W,$);let Y=new Set(W.returns.required||[]),X=function(){};for(let[Q,M]of Object.entries(W.returns.properties)){if(!Y.has(Q)&&J.prototype[Q]===void 0)continue;X.prototype[Q]=H8(M,$,J.prototype[Q])}return X}function Xb(W,$,J){let Y=globalThis.Object.values(W.$defs),X=W.$defs[W.$ref];return H8(X,[...$,...Y],J)}function rw(W,$){if(z0(W)&&!z0($)||!z0(W)&&z0($))return W;if(!z0(W)||!z0($))return $;return globalThis.Object.getOwnPropertyNames(W).reduce((J,Y)=>{let X=Y in $?rw(W[Y],$[Y]):W[Y];return{...J,[Y]:X}},{})}function Qb(W,$,J){if(L0(W,$,J))return J;let Y=M8(W,$),X=rw(Y,J);return L0(W,$,X)?X:Y}function Mb(W,$,J){throw new PQ(W,"Never types cannot be cast")}function Hb(W,$,J){if(L0(W,$,J))return J;if(J===null||typeof J!=="object")return M8(W,$);let Y=new Set(W.required||[]),X={};for(let[Q,M]of Object.entries(W.properties)){if(!Y.has(Q)&&J[Q]===void 0)continue;X[Q]=H8(M,$,J[Q])}if(typeof W.additionalProperties==="object"){let Q=Object.getOwnPropertyNames(W.properties);for(let M of Object.getOwnPropertyNames(J)){if(Q.includes(M))continue;X[M]=H8(W.additionalProperties,$,J[M])}}return X}function Gb(W,$,J){if(L0(W,$,J))return v0(J);if(J===null||typeof J!=="object"||Array.isArray(J)||J instanceof Date)return M8(W,$);let Y=Object.getOwnPropertyNames(W.patternProperties)[0],X=W.patternProperties[Y],Q={};for(let[M,H]of Object.entries(J))Q[M]=H8(X,$,H);return Q}function Bb(W,$,J){return H8(g0(W,$),$,J)}function Ub(W,$,J){return H8(g0(W,$),$,J)}function wb(W,$,J){if(L0(W,$,J))return v0(J);if(!Q0(J))return M8(W,$);if(W.items===void 0)return[];return W.items.map((Y,X)=>H8(Y,$,J[X]))}function Ab(W,$,J){return L0(W,$,J)?v0(J):e3(W,$,J)}function H8(W,$,J){let Y=T0(W.$id)?W5(W,$):$,X=W;switch(W[K]){case"Array":return Jb(X,Y,J);case"Constructor":return Yb(X,Y,J);case"Import":return Xb(X,Y,J);case"Intersect":return Qb(X,Y,J);case"Never":return Mb(X,Y,J);case"Object":return Hb(X,Y,J);case"Record":return Gb(X,Y,J);case"Ref":return Bb(X,Y,J);case"This":return Ub(X,Y,J);case"Tuple":return wb(X,Y,J);case"Union":return Ab(X,Y,J);case"Date":case"Symbol":case"Uint8Array":return Wb(W,$,J);default:return $b(X,Y,J)}}function uW(...W){return W.length===3?H8(W[0],W[1],W[2]):H8(W[0],[],W[1])}function Nb(W){return l6(W)&&W[K]!=="Unsafe"}function qb(W,$,J){if(!Q0(J))return J;return J.map((Y)=>p5(W.items,$,Y))}function zb(W,$,J){let Y=globalThis.Object.values(W.$defs),X=W.$defs[W.$ref];return p5(X,[...$,...Y],J)}function Db(W,$,J){let Y=W.unevaluatedProperties,Q=W.allOf.map((H)=>p5(H,$,v0(J))).reduce((H,G)=>z0(G)?{...H,...G}:G,{});if(!z0(J)||!z0(Q)||!l6(Y))return Q;let M=u5(W);for(let H of Object.getOwnPropertyNames(J)){if(M.includes(H))continue;if(L0(Y,$,J[H]))Q[H]=p5(Y,$,J[H])}return Q}function Zb(W,$,J){if(!z0(J)||Q0(J))return J;let Y=W.additionalProperties;for(let X of Object.getOwnPropertyNames(J)){if(w0(W.properties,X)){J[X]=p5(W.properties[X],$,J[X]);continue}if(l6(Y)&&L0(Y,$,J[X])){J[X]=p5(Y,$,J[X]);continue}delete J[X]}return J}function Sb(W,$,J){if(!z0(J))return J;let Y=W.additionalProperties,X=Object.getOwnPropertyNames(J),[Q,M]=Object.entries(W.patternProperties)[0],H=new RegExp(Q);for(let G of X){if(H.test(G)){J[G]=p5(M,$,J[G]);continue}if(l6(Y)&&L0(Y,$,J[G])){J[G]=p5(Y,$,J[G]);continue}delete J[G]}return J}function Ob(W,$,J){return p5(g0(W,$),$,J)}function _b(W,$,J){return p5(g0(W,$),$,J)}function Lb(W,$,J){if(!Q0(J))return J;if(A1(W.items))return[];let Y=Math.min(J.length,W.items.length);for(let X=0;X<Y;X++)J[X]=p5(W.items[X],$,J[X]);return J.length>Y?J.slice(0,Y):J}function jb(W,$,J){for(let Y of W.anyOf)if(Nb(Y)&&L0(Y,$,J))return p5(Y,$,J);return J}function p5(W,$,J){let Y=T0(W.$id)?W5(W,$):$,X=W;switch(X[K]){case"Array":return qb(X,Y,J);case"Import":return zb(X,Y,J);case"Intersect":return Db(X,Y,J);case"Object":return Zb(X,Y,J);case"Record":return Sb(X,Y,J);case"Ref":return Ob(X,Y,J);case"This":return _b(X,Y,J);case"Tuple":return Lb(X,Y,J);case"Union":return jb(X,Y,J);default:return J}}function aJ(...W){return W.length===3?p5(W[0],W[1],W[2]):p5(W[0],[],W[1])}function rJ(W){return T0(W)&&!isNaN(W)&&!isNaN(parseFloat(W))}function Fb(W){return U5(W)||E8(W)||Y0(W)}function lW(W){return W===!0||Y0(W)&&W===1||U5(W)&&W===BigInt("1")||T0(W)&&(W.toLowerCase()==="true"||W==="1")}function pW(W){return W===!1||Y0(W)&&(W===0||Object.is(W,-0))||U5(W)&&W===BigInt("0")||T0(W)&&(W.toLowerCase()==="false"||W==="0"||W==="-0")}function Kb(W){return T0(W)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(W)}function Cb(W){return T0(W)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(W)}function Vb(W){return T0(W)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(W)}function bb(W){return T0(W)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(W)}function Eb(W){return T0(W)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(W)}function Pb(W,$){let J=ew(W);return J===$?J:W}function Rb(W,$){let J=WA(W);return J===$?J:W}function Ib(W,$){let J=tw(W);return J===$?J:W}function xb(W,$){return T0(W.const)?Pb($,W.const):Y0(W.const)?Rb($,W.const):E8(W.const)?Ib($,W.const):$}function tw(W){return lW(W)?!0:pW(W)?!1:W}function Tb(W){let $=(J)=>J.split(".")[0];return rJ(W)?BigInt($(W)):Y0(W)?BigInt(Math.trunc(W)):pW(W)?BigInt(0):lW(W)?BigInt(1):W}function ew(W){return X6(W)&&W.description!==void 0?W.description.toString():Fb(W)?W.toString():W}function WA(W){return rJ(W)?parseFloat(W):lW(W)?1:pW(W)?0:W}function kb(W){return rJ(W)?parseInt(W):Y0(W)?Math.trunc(W):lW(W)?1:pW(W)?0:W}function gb(W){return T0(W)&&W.toLowerCase()==="null"?null:W}function fb(W){return T0(W)&&W==="undefined"?void 0:W}function vb(W){return I5(W)?W:Y0(W)?new Date(W):lW(W)?new Date(1):pW(W)?new Date(0):rJ(W)?new Date(parseInt(W)):Cb(W)?new Date(`1970-01-01T${W}.000Z`):Kb(W)?new Date(`1970-01-01T${W}`):bb(W)?new Date(`${W}.000Z`):Vb(W)?new Date(W):Eb(W)?new Date(`${W}T00:00:00.000Z`):W}function yb(W){return W}function db(W,$,J){return(Q0(J)?J:[J]).map((X)=>G8(W.items,$,X))}function cb(W,$,J){return Tb(J)}function hb(W,$,J){return tw(J)}function mb(W,$,J){return vb(J)}function ub(W,$,J){let Y=globalThis.Object.values(W.$defs),X=W.$defs[W.$ref];return G8(X,[...$,...Y],J)}function lb(W,$,J){return kb(J)}function pb(W,$,J){return W.allOf.reduce((Y,X)=>G8(X,$,Y),J)}function ib(W,$,J){return xb(W,J)}function nb(W,$,J){return gb(J)}function ob(W,$,J){return WA(J)}function sb(W,$,J){if(!z0(J)||Q0(J))return J;for(let Y of Object.getOwnPropertyNames(W.properties)){if(!w0(J,Y))continue;J[Y]=G8(W.properties[Y],$,J[Y])}return J}function ab(W,$,J){if(!(z0(J)&&!Q0(J)))return J;let X=Object.getOwnPropertyNames(W.patternProperties)[0],Q=W.patternProperties[X];for(let[M,H]of Object.entries(J))J[M]=G8(Q,$,H);return J}function rb(W,$,J){return G8(g0(W,$),$,J)}function tb(W,$,J){return ew(J)}function eb(W,$,J){return T0(J)||Y0(J)?Symbol(J):J}function WE(W,$,J){return G8(g0(W,$),$,J)}function $E(W,$,J){if(!(Q0(J)&&!A1(W.items)))return J;return J.map((X,Q)=>{return Q<W.items.length?G8(W.items[Q],$,X):X})}function JE(W,$,J){return fb(J)}function YE(W,$,J){for(let Y of W.anyOf)if(L0(Y,$,J))return J;for(let Y of W.anyOf){let X=G8(Y,$,v0(J));if(!L0(Y,$,X))continue;return X}return J}function G8(W,$,J){let Y=W5(W,$),X=W;switch(W[K]){case"Array":return db(X,Y,J);case"BigInt":return cb(X,Y,J);case"Boolean":return hb(X,Y,J);case"Date":return mb(X,Y,J);case"Import":return ub(X,Y,J);case"Integer":return lb(X,Y,J);case"Intersect":return pb(X,Y,J);case"Literal":return ib(X,Y,J);case"Null":return nb(X,Y,J);case"Number":return ob(X,Y,J);case"Object":return sb(X,Y,J);case"Record":return ab(X,Y,J);case"Ref":return rb(X,Y,J);case"String":return tb(X,Y,J);case"Symbol":return eb(X,Y,J);case"This":return WE(X,Y,J);case"Tuple":return $E(X,Y,J);case"Undefined":return JE(X,Y,J);case"Union":return YE(X,Y,J);default:return yb(J)}}function tJ(...W){return W.length===3?G8(W[0],W[1],W[2]):G8(W[0],[],W[1])}class iW extends H0{constructor(W,$,J){super("Unable to decode value as it does not match the expected schema");this.schema=W,this.value=$,this.error=J}}class eJ extends H0{constructor(W,$,J,Y){super(Y instanceof Error?Y.message:"Unknown error");this.schema=W,this.path=$,this.value=J,this.error=Y}}function O1(W,$,J){try{return c0(W)?W[t0].Decode(J):J}catch(Y){throw new eJ(W,$,J,Y)}}function XE(W,$,J,Y){return Q0(Y)?O1(W,J,Y.map((X,Q)=>B8(W.items,$,`${J}/${Q}`,X))):O1(W,J,Y)}function QE(W,$,J,Y){if(!z0(Y)||M2(Y))return O1(W,J,Y);let X=kJ(W),Q=X.map((w)=>w[0]),M={...Y};for(let[w,A]of X)if(w in M)M[w]=B8(A,$,`${J}/${w}`,M[w]);if(!c0(W.unevaluatedProperties))return O1(W,J,M);let H=Object.getOwnPropertyNames(M),G=W.unevaluatedProperties,B={...M};for(let w of H)if(!Q.includes(w))B[w]=O1(G,`${J}/${w}`,B[w]);return O1(W,J,B)}function ME(W,$,J,Y){let X=globalThis.Object.values(W.$defs),Q=W.$defs[W.$ref],M=B8(Q,[...$,...X],J,Y);return O1(W,J,M)}function HE(W,$,J,Y){return O1(W,J,B8(W.not,$,J,Y))}function GE(W,$,J,Y){if(!z0(Y))return O1(W,J,Y);let X=u5(W),Q={...Y};for(let B of X){if(!w0(Q,B))continue;if(A1(Q[B])&&(!H6(W.properties[B])||H1.IsExactOptionalProperty(Q,B)))continue;Q[B]=B8(W.properties[B],$,`${J}/${B}`,Q[B])}if(!S1(W.additionalProperties))return O1(W,J,Q);let M=Object.getOwnPropertyNames(Q),H=W.additionalProperties,G={...Q};for(let B of M)if(!X.includes(B))G[B]=O1(H,`${J}/${B}`,G[B]);return O1(W,J,G)}function BE(W,$,J,Y){if(!z0(Y))return O1(W,J,Y);let X=Object.getOwnPropertyNames(W.patternProperties)[0],Q=new RegExp(X),M={...Y};for(let w of Object.getOwnPropertyNames(Y))if(Q.test(w))M[w]=B8(W.patternProperties[X],$,`${J}/${w}`,M[w]);if(!S1(W.additionalProperties))return O1(W,J,M);let H=Object.getOwnPropertyNames(M),G=W.additionalProperties,B={...M};for(let w of H)if(!Q.test(w))B[w]=O1(G,`${J}/${w}`,B[w]);return O1(W,J,B)}function UE(W,$,J,Y){let X=g0(W,$);return O1(W,J,B8(X,$,J,Y))}function wE(W,$,J,Y){let X=g0(W,$);return O1(W,J,B8(X,$,J,Y))}function AE(W,$,J,Y){return Q0(Y)&&Q0(W.items)?O1(W,J,W.items.map((X,Q)=>B8(X,$,`${J}/${Q}`,Y[Q]))):O1(W,J,Y)}function NE(W,$,J,Y){for(let X of W.anyOf){if(!L0(X,$,Y))continue;let Q=B8(X,$,J,Y);return O1(W,J,Q)}return O1(W,J,Y)}function B8(W,$,J,Y){let X=W5(W,$),Q=W;switch(W[K]){case"Array":return XE(Q,X,J,Y);case"Import":return ME(Q,X,J,Y);case"Intersect":return QE(Q,X,J,Y);case"Not":return HE(Q,X,J,Y);case"Object":return GE(Q,X,J,Y);case"Record":return BE(Q,X,J,Y);case"Ref":return UE(Q,X,J,Y);case"Symbol":return O1(Q,J,Y);case"This":return wE(Q,X,J,Y);case"Tuple":return AE(Q,X,J,Y);case"Union":return NE(Q,X,J,Y);default:return O1(Q,J,Y)}}function Q7(W,$,J){return B8(W,$,"",J)}class nW extends H0{constructor(W,$,J){super("The encoded value does not match the expected schema");this.schema=W,this.value=$,this.error=J}}class $A extends H0{constructor(W,$,J,Y){super(`${Y instanceof Error?Y.message:"Unknown error"}`);this.schema=W,this.path=$,this.value=J,this.error=Y}}function w5(W,$,J){try{return c0(W)?W[t0].Encode(J):J}catch(Y){throw new $A(W,$,J,Y)}}function qE(W,$,J,Y){let X=w5(W,J,Y);return Q0(X)?X.map((Q,M)=>U8(W.items,$,`${J}/${M}`,Q)):X}function zE(W,$,J,Y){let X=globalThis.Object.values(W.$defs),Q=W.$defs[W.$ref],M=w5(W,J,Y);return U8(Q,[...$,...X],J,M)}function DE(W,$,J,Y){let X=w5(W,J,Y);if(!z0(Y)||M2(Y))return X;let Q=kJ(W),M=Q.map((A)=>A[0]),H={...X};for(let[A,q]of Q)if(A in H)H[A]=U8(q,$,`${J}/${A}`,H[A]);if(!c0(W.unevaluatedProperties))return H;let G=Object.getOwnPropertyNames(H),B=W.unevaluatedProperties,w={...H};for(let A of G)if(!M.includes(A))w[A]=w5(B,`${J}/${A}`,w[A]);return w}function ZE(W,$,J,Y){return w5(W.not,J,w5(W,J,Y))}function SE(W,$,J,Y){let X=w5(W,J,Y);if(!z0(X))return X;let Q=u5(W),M={...X};for(let w of Q){if(!w0(M,w))continue;if(A1(M[w])&&(!H6(W.properties[w])||H1.IsExactOptionalProperty(M,w)))continue;M[w]=U8(W.properties[w],$,`${J}/${w}`,M[w])}if(!S1(W.additionalProperties))return M;let H=Object.getOwnPropertyNames(M),G=W.additionalProperties,B={...M};for(let w of H)if(!Q.includes(w))B[w]=w5(G,`${J}/${w}`,B[w]);return B}function OE(W,$,J,Y){let X=w5(W,J,Y);if(!z0(Y))return X;let Q=Object.getOwnPropertyNames(W.patternProperties)[0],M=new RegExp(Q),H={...X};for(let A of Object.getOwnPropertyNames(Y))if(M.test(A))H[A]=U8(W.patternProperties[Q],$,`${J}/${A}`,H[A]);if(!S1(W.additionalProperties))return H;let G=Object.getOwnPropertyNames(H),B=W.additionalProperties,w={...H};for(let A of G)if(!M.test(A))w[A]=w5(B,`${J}/${A}`,w[A]);return w}function _E(W,$,J,Y){let X=g0(W,$),Q=U8(X,$,J,Y);return w5(W,J,Q)}function LE(W,$,J,Y){let X=g0(W,$),Q=U8(X,$,J,Y);return w5(W,J,Q)}function jE(W,$,J,Y){let X=w5(W,J,Y);return Q0(W.items)?W.items.map((Q,M)=>U8(Q,$,`${J}/${M}`,X[M])):[]}function FE(W,$,J,Y){for(let X of W.anyOf){if(!L0(X,$,Y))continue;let Q=U8(X,$,J,Y);return w5(W,J,Q)}for(let X of W.anyOf){let Q=U8(X,$,J,Y);if(!L0(W,$,Q))continue;return w5(W,J,Q)}return w5(W,J,Y)}function U8(W,$,J,Y){let X=W5(W,$),Q=W;switch(W[K]){case"Array":return qE(Q,X,J,Y);case"Import":return zE(Q,X,J,Y);case"Intersect":return DE(Q,X,J,Y);case"Not":return ZE(Q,X,J,Y);case"Object":return SE(Q,X,J,Y);case"Record":return OE(Q,X,J,Y);case"Ref":return _E(Q,X,J,Y);case"This":return LE(Q,X,J,Y);case"Tuple":return jE(Q,X,J,Y);case"Union":return FE(Q,X,J,Y);default:return w5(Q,J,Y)}}function M7(W,$,J){return U8(W,$,"",J)}function KE(W,$){return c0(W)||s1(W.items,$)}function CE(W,$){return c0(W)||s1(W.items,$)}function VE(W,$){return c0(W)||s1(W.returns,$)||W.parameters.some((J)=>s1(J,$))}function bE(W,$){return c0(W)||s1(W.returns,$)||W.parameters.some((J)=>s1(J,$))}function EE(W,$){return c0(W)||c0(W.unevaluatedProperties)||W.allOf.some((J)=>s1(J,$))}function PE(W,$){let J=globalThis.Object.getOwnPropertyNames(W.$defs).reduce((X,Q)=>[...X,W.$defs[Q]],[]),Y=W.$defs[W.$ref];return c0(W)||s1(Y,[...J,...$])}function RE(W,$){return c0(W)||s1(W.items,$)}function IE(W,$){return c0(W)||s1(W.not,$)}function xE(W,$){return c0(W)||Object.values(W.properties).some((J)=>s1(J,$))||S1(W.additionalProperties)&&s1(W.additionalProperties,$)}function TE(W,$){return c0(W)||s1(W.item,$)}function kE(W,$){let J=Object.getOwnPropertyNames(W.patternProperties)[0],Y=W.patternProperties[J];return c0(W)||s1(Y,$)||S1(W.additionalProperties)&&c0(W.additionalProperties)}function gE(W,$){if(c0(W))return!0;return s1(g0(W,$),$)}function fE(W,$){if(c0(W))return!0;return s1(g0(W,$),$)}function vE(W,$){return c0(W)||!A1(W.items)&&W.items.some((J)=>s1(J,$))}function yE(W,$){return c0(W)||W.anyOf.some((J)=>s1(J,$))}function s1(W,$){let J=W5(W,$),Y=W;if(W.$id&&RQ.has(W.$id))return!1;if(W.$id)RQ.add(W.$id);switch(W[K]){case"Array":return KE(Y,J);case"AsyncIterator":return CE(Y,J);case"Constructor":return VE(Y,J);case"Function":return bE(Y,J);case"Import":return PE(Y,J);case"Intersect":return EE(Y,J);case"Iterator":return RE(Y,J);case"Not":return IE(Y,J);case"Object":return xE(Y,J);case"Promise":return TE(Y,J);case"Record":return kE(Y,J);case"Ref":return gE(Y,J);case"This":return fE(Y,J);case"Tuple":return vE(Y,J);case"Union":return yE(Y,J);default:return c0(W)}}var RQ=new Set;function N6(W,$){return RQ.clear(),s1(W,$)}function JA(...W){let[$,J,Y]=W.length===3?[W[0],W[1],W[2]]:[W[0],[],W[1]];if(!L0($,J,Y))throw new iW($,Y,I8($,J,Y).First());return N6($,J)?Q7($,J,Y):Y}function q6(W,$){let J=w0(W,"default")?W.default:void 0,Y=m6(J)?J():v0(J);return A1($)?Y:z0($)&&z0(Y)?Object.assign(Y,$):$}function IQ(W){return l6(W)&&"default"in W}function dE(W,$,J){if(Q0(J)){for(let X=0;X<J.length;X++)J[X]=T5(W.items,$,J[X]);return J}let Y=q6(W,J);if(!Q0(Y))return Y;for(let X=0;X<Y.length;X++)Y[X]=T5(W.items,$,Y[X]);return Y}function cE(W,$,J){return I5(J)?J:q6(W,J)}function hE(W,$,J){let Y=globalThis.Object.values(W.$defs),X=W.$defs[W.$ref];return T5(X,[...$,...Y],J)}function mE(W,$,J){let Y=q6(W,J);return W.allOf.reduce((X,Q)=>{let M=T5(Q,$,Y);return z0(M)?{...X,...M}:M},{})}function uE(W,$,J){let Y=q6(W,J);if(!z0(Y))return Y;let X=Object.getOwnPropertyNames(W.properties);for(let Q of X){let M=T5(W.properties[Q],$,Y[Q]);if(A1(M))continue;Y[Q]=T5(W.properties[Q],$,Y[Q])}if(!IQ(W.additionalProperties))return Y;for(let Q of Object.getOwnPropertyNames(Y)){if(X.includes(Q))continue;Y[Q]=T5(W.additionalProperties,$,Y[Q])}return Y}function lE(W,$,J){let Y=q6(W,J);if(!z0(Y))return Y;let X=W.additionalProperties,[Q,M]=Object.entries(W.patternProperties)[0],H=new RegExp(Q);for(let G of Object.getOwnPropertyNames(Y)){if(!(H.test(G)&&IQ(M)))continue;Y[G]=T5(M,$,Y[G])}if(!IQ(X))return Y;for(let G of Object.getOwnPropertyNames(Y)){if(H.test(G))continue;Y[G]=T5(X,$,Y[G])}return Y}function pE(W,$,J){return T5(g0(W,$),$,q6(W,J))}function iE(W,$,J){return T5(g0(W,$),$,J)}function nE(W,$,J){let Y=q6(W,J);if(!Q0(Y)||A1(W.items))return Y;let[X,Q]=[W.items,Math.max(W.items.length,Y.length)];for(let M=0;M<Q;M++)if(M<X.length)Y[M]=T5(X[M],$,Y[M]);return Y}function oE(W,$,J){let Y=q6(W,J);for(let X of W.anyOf){let Q=T5(X,$,v0(Y));if(L0(X,$,Q))return Q}return Y}function T5(W,$,J){let Y=W5(W,$),X=W;switch(X[K]){case"Array":return dE(X,Y,J);case"Date":return cE(X,Y,J);case"Import":return hE(X,Y,J);case"Intersect":return mE(X,Y,J);case"Object":return uE(X,Y,J);case"Record":return lE(X,Y,J);case"Ref":return pE(X,Y,J);case"This":return iE(X,Y,J);case"Tuple":return nE(X,Y,J);case"Union":return oE(X,Y,J);default:return q6(X,J)}}function WY(...W){return W.length===3?T5(W[0],W[1],W[2]):T5(W[0],[],W[1])}var w8={};W6(w8,{ValuePointerRootSetError:()=>xQ,ValuePointerRootDeleteError:()=>TQ,Set:()=>sE,Has:()=>rE,Get:()=>tE,Format:()=>oW,Delete:()=>aE});class xQ extends H0{constructor(W,$,J){super("Cannot set root value");this.value=W,this.path=$,this.update=J}}class TQ extends H0{constructor(W,$){super("Cannot delete root value");this.value=W,this.path=$}}function YA(W){return W.indexOf("~")===-1?W:W.replace(/~1/g,"/").replace(/~0/g,"~")}function*oW(W){if(W==="")return;let[$,J]=[0,0];for(let Y=0;Y<W.length;Y++)if(W.charAt(Y)==="/")if(Y===0)$=Y+1;else J=Y,yield YA(W.slice($,J)),$=Y+1;else J=Y;yield YA(W.slice($))}function sE(W,$,J){if($==="")throw new xQ(W,$,J);let[Y,X,Q]=[null,W,""];for(let M of oW($)){if(X[M]===void 0)X[M]={};Y=X,X=X[M],Q=M}Y[Q]=J}function aE(W,$){if($==="")throw new TQ(W,$);let[J,Y,X]=[null,W,""];for(let Q of oW($)){if(Y[Q]===void 0||Y[Q]===null)return;J=Y,Y=Y[Q],X=Q}if(Array.isArray(J)){let Q=parseInt(X);J.splice(Q,1)}else delete J[X]}function rE(W,$){if($==="")return!0;let[J,Y,X]=[null,W,""];for(let Q of oW($)){if(Y[Q]===void 0)return!1;J=Y,Y=Y[Q],X=Q}return Object.getOwnPropertyNames(J).includes(X)}function tE(W,$){if($==="")return W;let J=W;for(let Y of oW($)){if(J[Y]===void 0)return;J=J[Y]}return J}function eE(W,$){if(!z0($))return!1;let J=[...Object.keys(W),...Object.getOwnPropertySymbols(W)],Y=[...Object.keys($),...Object.getOwnPropertySymbols($)];if(J.length!==Y.length)return!1;return J.every((X)=>W9(W[X],$[X]))}function WP(W,$){return I5($)&&W.getTime()===$.getTime()}function $P(W,$){if(!Q0($)||W.length!==$.length)return!1;return W.every((J,Y)=>W9(J,$[Y]))}function JP(W,$){if(!C2($)||W.length!==$.length||Object.getPrototypeOf(W).constructor.name!==Object.getPrototypeOf($).constructor.name)return!1;return W.every((J,Y)=>W9(J,$[Y]))}function YP(W,$){return W===$}function W9(W,$){if(I5(W))return WP(W,$);if(C2(W))return JP(W,$);if(Q0(W))return $P(W,$);if(z0(W))return eE(W,$);if(M2(W))return YP(W,$);throw new Error("ValueEquals: Unable to compare value")}var XP=m0({type:I0("insert"),path:x5(),value:J8()}),QP=m0({type:I0("update"),path:x5(),value:J8()}),MP=m0({type:I0("delete"),path:x5()}),QA=h0([XP,QP,MP]);class kQ extends H0{constructor(W,$){super($);this.value=W}}function $Y(W,$){return{type:"update",path:W,value:$}}function MA(W,$){return{type:"insert",path:W,value:$}}function HA(W){return{type:"delete",path:W}}function XA(W){if(globalThis.Object.getOwnPropertySymbols(W).length>0)throw new kQ(W,"Cannot diff objects with symbols")}function*HP(W,$,J){if(XA($),XA(J),!QQ(J))return yield $Y(W,J);let Y=globalThis.Object.getOwnPropertyNames($),X=globalThis.Object.getOwnPropertyNames(J);for(let Q of X){if(w0($,Q))continue;yield MA(`${W}/${Q}`,J[Q])}for(let Q of Y){if(!w0(J,Q))continue;if(W9($,J))continue;yield*JY(`${W}/${Q}`,$[Q],J[Q])}for(let Q of Y){if(w0(J,Q))continue;yield HA(`${W}/${Q}`)}}function*GP(W,$,J){if(!Q0(J))return yield $Y(W,J);for(let Y=0;Y<Math.min($.length,J.length);Y++)yield*JY(`${W}/${Y}`,$[Y],J[Y]);for(let Y=0;Y<J.length;Y++){if(Y<$.length)continue;yield MA(`${W}/${Y}`,J[Y])}for(let Y=$.length-1;Y>=0;Y--){if(Y<J.length)continue;yield HA(`${W}/${Y}`)}}function*BP(W,$,J){if(!C2(J)||$.length!==J.length||globalThis.Object.getPrototypeOf($).constructor.name!==globalThis.Object.getPrototypeOf(J).constructor.name)return yield $Y(W,J);for(let Y=0;Y<Math.min($.length,J.length);Y++)yield*JY(`${W}/${Y}`,$[Y],J[Y])}function*UP(W,$,J){if($===J)return;yield $Y(W,J)}function*JY(W,$,J){if(QQ($))return yield*HP(W,$,J);if(Q0($))return yield*GP(W,$,J);if(C2($))return yield*BP(W,$,J);if(M2($))return yield*UP(W,$,J);throw new kQ($,"Unable to diff value")}function GA(W,$){return[...JY("",W,$)]}function wP(W){return W.length>0&&W[0].path===""&&W[0].type==="update"}function AP(W){return W.length===0}function BA(W,$){if(wP($))return v0($[0].value);if(AP($))return v0(W);let J=v0(W);for(let Y of $)switch(Y.type){case"insert":{w8.Set(J,Y.path,Y.value);break}case"update":{w8.Set(J,Y.path,Y.value);break}case"delete":{w8.Delete(J,Y.path);break}}return J}function UA(...W){let[$,J,Y]=W.length===3?[W[0],W[1],W[2]]:[W[0],[],W[1]],X=N6($,J)?M7($,J,Y):Y;if(!L0($,J,X))throw new nW($,X,I8($,J,X).First());return X}function YY(W){return z0(W)&&!Q0(W)}class gQ extends H0{constructor(W){super(W)}}function NP(W,$,J,Y){if(!YY(J))w8.Set(W,$,v0(Y));else{let X=Object.getOwnPropertyNames(J),Q=Object.getOwnPropertyNames(Y);for(let M of X)if(!Q.includes(M))delete J[M];for(let M of Q)if(!X.includes(M))J[M]=null;for(let M of Q)fQ(W,`${$}/${M}`,J[M],Y[M])}}function qP(W,$,J,Y){if(!Q0(J))w8.Set(W,$,v0(Y));else{for(let X=0;X<Y.length;X++)fQ(W,`${$}/${X}`,J[X],Y[X]);J.splice(Y.length)}}function zP(W,$,J,Y){if(C2(J)&&J.length===Y.length)for(let X=0;X<J.length;X++)J[X]=Y[X];else w8.Set(W,$,v0(Y))}function DP(W,$,J,Y){if(J===Y)return;w8.Set(W,$,Y)}function fQ(W,$,J,Y){if(Q0(Y))return qP(W,$,J,Y);if(C2(Y))return zP(W,$,J,Y);if(YY(Y))return NP(W,$,J,Y);if(M2(Y))return DP(W,$,J,Y)}function wA(W){return C2(W)||M2(W)}function ZP(W,$){return YY(W)&&Q0($)||Q0(W)&&YY($)}function AA(W,$){if(wA(W)||wA($))throw new gQ("Only object and array types can be mutated at the root level");if(ZP(W,$))throw new gQ("Cannot assign due type mismatch of assignable values");fQ(W,"",W,$)}class yQ extends H0{constructor(W){super(W)}}var vQ;(function(W){let $=new Map([["Assert",(Q,M,H)=>{return sJ(Q,M,H),H}],["Cast",(Q,M,H)=>uW(Q,M,H)],["Clean",(Q,M,H)=>aJ(Q,M,H)],["Clone",(Q,M,H)=>v0(H)],["Convert",(Q,M,H)=>tJ(Q,M,H)],["Decode",(Q,M,H)=>N6(Q,M)?Q7(Q,M,H):H],["Default",(Q,M,H)=>WY(Q,M,H)],["Encode",(Q,M,H)=>N6(Q,M)?M7(Q,M,H):H]]);function J(Q){$.delete(Q)}W.Delete=J;function Y(Q,M){$.set(Q,M)}W.Set=Y;function X(Q){return $.get(Q)}W.Get=X})(vQ||(vQ={}));var NA=["Clone","Clean","Default","Convert","Assert","Decode"];function SP(W,$,J,Y){return W.reduce((X,Q)=>{let M=vQ.Get(Q);if(A1(M))throw new yQ(`Unable to find Parse operation '${Q}'`);return M($,J,X)},Y)}function qA(...W){let[$,J,Y,X]=W.length===4?[W[0],W[1],W[2],W[3]]:W.length===3?Q0(W[0])?[W[0],W[1],[],W[2]]:[NA,W[0],W[1],W[2]]:W.length===2?[NA,W[0],[],W[1]]:(()=>{throw new yQ("Invalid Arguments")})();return SP($,J,Y,X)}var s0={};W6(s0,{ValueErrorIterator:()=>e4,Patch:()=>BA,Parse:()=>qA,Mutate:()=>AA,Hash:()=>t6,Errors:()=>I8,Equal:()=>W9,Encode:()=>UA,Edit:()=>QA,Diff:()=>GA,Default:()=>WY,Decode:()=>JA,Create:()=>M8,Convert:()=>tJ,Clone:()=>v0,Clean:()=>aJ,Check:()=>L0,Cast:()=>uW,Assert:()=>sJ});class zA{constructor(W,$,J,Y){this.schema=W,this.references=$,this.checkFunc=J,this.code=Y,this.hasTransform=N6(W,$)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors(W){return I8(this.schema,this.references,W)}Check(W){return this.checkFunc(W)}Decode(W){if(!this.checkFunc(W))throw new iW(this.schema,W,this.Errors(W).First());return this.hasTransform?Q7(this.schema,this.references,W):W}Encode(W){let $=this.hasTransform?M7(this.schema,this.references,W):W;if(!this.checkFunc($))throw new nW(this.schema,W,this.Errors(W).First());return $}}var z6;(function(W){function $(Q){return Q===36}W.DollarSign=$;function J(Q){return Q===95}W.IsUnderscore=J;function Y(Q){return Q>=65&&Q<=90||Q>=97&&Q<=122}W.IsAlpha=Y;function X(Q){return Q>=48&&Q<=57}W.IsNumeric=X})(z6||(z6={}));var XY;(function(W){function $(Q){if(Q.length===0)return!1;return z6.IsNumeric(Q.charCodeAt(0))}function J(Q){if($(Q))return!1;for(let M=0;M<Q.length;M++){let H=Q.charCodeAt(M);if(!(z6.IsAlpha(H)||z6.IsNumeric(H)||z6.DollarSign(H)||z6.IsUnderscore(H)))return!1}return!0}function Y(Q){return Q.replace(/'/g,"\\'")}function X(Q,M){return J(M)?`${Q}.${M}`:`${Q}['${Y(M)}']`}W.Encode=X})(XY||(XY={}));var dQ;(function(W){function $(J){let Y=[];for(let X=0;X<J.length;X++){let Q=J.charCodeAt(X);if(z6.IsNumeric(Q)||z6.IsAlpha(Q))Y.push(J.charAt(X));else Y.push(`_${Q}_`)}return Y.join("").replace(/__/g,"_")}W.Encode=$})(dQ||(dQ={}));var cQ;(function(W){function $(J){return J.replace(/'/g,"\\'")}W.Escape=$})(cQ||(cQ={}));class DA extends H0{constructor(W){super("Unknown type");this.schema=W}}class hQ extends H0{constructor(W){super("Preflight validation check failed to guard for the given schema");this.schema=W}}var $9;(function(W){function $(M,H,G){return H1.ExactOptionalPropertyTypes?`('${H}' in ${M} ? ${G} : true)`:`(${XY.Encode(M,H)} !== undefined ? ${G} : true)`}W.IsExactOptionalProperty=$;function J(M){return!H1.AllowArrayObject?`(typeof ${M} === 'object' && ${M} !== null && !Array.isArray(${M}))`:`(typeof ${M} === 'object' && ${M} !== null)`}W.IsObjectLike=J;function Y(M){return!H1.AllowArrayObject?`(typeof ${M} === 'object' && ${M} !== null && !Array.isArray(${M}) && !(${M} instanceof Date) && !(${M} instanceof Uint8Array))`:`(typeof ${M} === 'object' && ${M} !== null && !(${M} instanceof Date) && !(${M} instanceof Uint8Array))`}W.IsRecordLike=Y;function X(M){return H1.AllowNaN?`typeof ${M} === 'number'`:`Number.isFinite(${M})`}W.IsNumberLike=X;function Q(M){return H1.AllowNullVoid?`(${M} === undefined || ${M} === null)`:`${M} === undefined`}W.IsVoidLike=Q})($9||($9={}));var A8;(function(W){function $(Z){return Z[K]==="Any"||Z[K]==="Unknown"}function*J(Z,E,O){yield"true"}function*Y(Z,E,O){yield"true"}function*X(Z,E,O){yield`Array.isArray(${O})`;let[m,l]=[K2("value","any"),K2("acc","number")];if(Y0(Z.maxItems))yield`${O}.length <= ${Z.maxItems}`;if(Y0(Z.minItems))yield`${O}.length >= ${Z.minItems}`;let o=U1(Z.items,E,"value");if(yield`${O}.every((${m}) => ${o})`,q1(Z.contains)||Y0(Z.minContains)||Y0(Z.maxContains)){let D0=q1(Z.contains)?Z.contains:_0(),e0=U1(D0,E,"value"),O5=Y0(Z.minContains)?[`(count >= ${Z.minContains})`]:[],B5=Y0(Z.maxContains)?[`(count <= ${Z.maxContains})`]:[],X2=`const count = value.reduce((${l}, ${m}) => ${e0} ? acc + 1 : acc, 0)`,e8=["(count > 0)",...O5,...B5].join(" && ");yield`((${m}) => { ${X2}; return ${e8}})(${O})`}if(Z.uniqueItems===!0)yield`((${m}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${O})`}function*Q(Z,E,O){yield`(typeof value === 'object' && Symbol.asyncIterator in ${O})`}function*M(Z,E,O){if(yield`(typeof ${O} === 'bigint')`,U5(Z.exclusiveMaximum))yield`${O} < BigInt(${Z.exclusiveMaximum})`;if(U5(Z.exclusiveMinimum))yield`${O} > BigInt(${Z.exclusiveMinimum})`;if(U5(Z.maximum))yield`${O} <= BigInt(${Z.maximum})`;if(U5(Z.minimum))yield`${O} >= BigInt(${Z.minimum})`;if(U5(Z.multipleOf))yield`(${O} % BigInt(${Z.multipleOf})) === 0`}function*H(Z,E,O){yield`(typeof ${O} === 'boolean')`}function*G(Z,E,O){yield*i2(Z.returns,E,`${O}.prototype`)}function*B(Z,E,O){if(yield`(${O} instanceof Date) && Number.isFinite(${O}.getTime())`,Y0(Z.exclusiveMaximumTimestamp))yield`${O}.getTime() < ${Z.exclusiveMaximumTimestamp}`;if(Y0(Z.exclusiveMinimumTimestamp))yield`${O}.getTime() > ${Z.exclusiveMinimumTimestamp}`;if(Y0(Z.maximumTimestamp))yield`${O}.getTime() <= ${Z.maximumTimestamp}`;if(Y0(Z.minimumTimestamp))yield`${O}.getTime() >= ${Z.minimumTimestamp}`;if(Y0(Z.multipleOfTimestamp))yield`(${O}.getTime() % ${Z.multipleOfTimestamp}) === 0`}function*w(Z,E,O){yield`(typeof ${O} === 'function')`}function*A(Z,E,O){let m=globalThis.Object.getOwnPropertyNames(Z.$defs).reduce((l,o)=>{return[...l,Z.$defs[o]]},[]);yield*i2(R2(Z.$ref),[...E,...m],O)}function*q(Z,E,O){if(yield`Number.isInteger(${O})`,Y0(Z.exclusiveMaximum))yield`${O} < ${Z.exclusiveMaximum}`;if(Y0(Z.exclusiveMinimum))yield`${O} > ${Z.exclusiveMinimum}`;if(Y0(Z.maximum))yield`${O} <= ${Z.maximum}`;if(Y0(Z.minimum))yield`${O} >= ${Z.minimum}`;if(Y0(Z.multipleOf))yield`(${O} % ${Z.multipleOf}) === 0`}function*N(Z,E,O){let m=Z.allOf.map((l)=>U1(l,E,O)).join(" && ");if(Z.unevaluatedProperties===!1){let l=n2(`${new RegExp(U6(Z))};`),o=`Object.getOwnPropertyNames(${O}).every(key => ${l}.test(key))`;yield`(${m} && ${o})`}else if(q1(Z.unevaluatedProperties)){let l=n2(`${new RegExp(U6(Z))};`),o=`Object.getOwnPropertyNames(${O}).every(key => ${l}.test(key) || ${U1(Z.unevaluatedProperties,E,`${O}[key]`)})`;yield`(${m} && ${o})`}else yield`(${m})`}function*z(Z,E,O){yield`(typeof value === 'object' && Symbol.iterator in ${O})`}function*D(Z,E,O){if(typeof Z.const==="number"||typeof Z.const==="boolean")yield`(${O} === ${Z.const})`;else yield`(${O} === '${cQ.Escape(Z.const)}')`}function*_(Z,E,O){yield"false"}function*L(Z,E,O){yield`(!${U1(Z.not,E,O)})`}function*S(Z,E,O){yield`(${O} === null)`}function*P(Z,E,O){if(yield $9.IsNumberLike(O),Y0(Z.exclusiveMaximum))yield`${O} < ${Z.exclusiveMaximum}`;if(Y0(Z.exclusiveMinimum))yield`${O} > ${Z.exclusiveMinimum}`;if(Y0(Z.maximum))yield`${O} <= ${Z.maximum}`;if(Y0(Z.minimum))yield`${O} >= ${Z.minimum}`;if(Y0(Z.multipleOf))yield`(${O} % ${Z.multipleOf}) === 0`}function*c(Z,E,O){if(yield $9.IsObjectLike(O),Y0(Z.minProperties))yield`Object.getOwnPropertyNames(${O}).length >= ${Z.minProperties}`;if(Y0(Z.maxProperties))yield`Object.getOwnPropertyNames(${O}).length <= ${Z.maxProperties}`;let m=Object.getOwnPropertyNames(Z.properties);for(let l of m){let o=XY.Encode(O,l),D0=Z.properties[l];if(Z.required&&Z.required.includes(l)){if(yield*i2(D0,E,o),w6(D0)||$(D0))yield`('${l}' in ${O})`}else{let e0=U1(D0,E,o);yield $9.IsExactOptionalProperty(O,l,e0)}}if(Z.additionalProperties===!1)if(Z.required&&Z.required.length===m.length)yield`Object.getOwnPropertyNames(${O}).length === ${m.length}`;else{let l=`[${m.map((o)=>`'${o}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${O}).every(key => ${l}.includes(key))`}if(typeof Z.additionalProperties==="object"){let l=U1(Z.additionalProperties,E,`${O}[key]`),o=`[${m.map((D0)=>`'${D0}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${O}).every(key => ${o}.includes(key) || ${l}))`}}function*e(Z,E,O){yield`${O} instanceof Promise`}function*I(Z,E,O){if(yield $9.IsRecordLike(O),Y0(Z.minProperties))yield`Object.getOwnPropertyNames(${O}).length >= ${Z.minProperties}`;if(Y0(Z.maxProperties))yield`Object.getOwnPropertyNames(${O}).length <= ${Z.maxProperties}`;let[m,l]=Object.entries(Z.patternProperties)[0],o=n2(`${new RegExp(m)}`),D0=U1(l,E,"value"),e0=q1(Z.additionalProperties)?U1(Z.additionalProperties,E,O):Z.additionalProperties===!1?"false":"true",O5=`(${o}.test(key) ? ${D0} : ${e0})`;yield`(Object.entries(${O}).every(([key, value]) => ${O5}))`}function*V(Z,E,O){let m=g0(Z,E);if(K1.functions.has(Z.$ref))return yield`${G5(Z.$ref)}(${O})`;yield*i2(m,E,O)}function*x(Z,E,O){let m=n2(`${new RegExp(Z.source,Z.flags)};`);if(yield`(typeof ${O} === 'string')`,Y0(Z.maxLength))yield`${O}.length <= ${Z.maxLength}`;if(Y0(Z.minLength))yield`${O}.length >= ${Z.minLength}`;yield`${m}.test(${O})`}function*C(Z,E,O){if(yield`(typeof ${O} === 'string')`,Y0(Z.maxLength))yield`${O}.length <= ${Z.maxLength}`;if(Y0(Z.minLength))yield`${O}.length >= ${Z.minLength}`;if(Z.pattern!==void 0)yield`${n2(`${new RegExp(Z.pattern)};`)}.test(${O})`;if(Z.format!==void 0)yield`format('${Z.format}', ${O})`}function*k(Z,E,O){yield`(typeof ${O} === 'symbol')`}function*b(Z,E,O){yield`(typeof ${O} === 'string')`,yield`${n2(`${new RegExp(Z.pattern)};`)}.test(${O})`}function*y(Z,E,O){yield`${G5(Z.$ref)}(${O})`}function*u(Z,E,O){if(yield`Array.isArray(${O})`,Z.items===void 0)return yield`${O}.length === 0`;yield`(${O}.length === ${Z.maxItems})`;for(let m=0;m<Z.items.length;m++)yield`${U1(Z.items[m],E,`${O}[${m}]`)}`}function*N0(Z,E,O){yield`${O} === undefined`}function*r(Z,E,O){yield`(${Z.anyOf.map((l)=>U1(l,E,O)).join(" || ")})`}function*U0(Z,E,O){if(yield`${O} instanceof Uint8Array`,Y0(Z.maxByteLength))yield`(${O}.length <= ${Z.maxByteLength})`;if(Y0(Z.minByteLength))yield`(${O}.length >= ${Z.minByteLength})`}function*d5(Z,E,O){yield"true"}function*c6(Z,E,O){yield $9.IsVoidLike(O)}function*Y2(Z,E,O){let m=K1.instances.size;K1.instances.set(m,Z),yield`kind('${Z[K]}', ${m}, ${O})`}function*i2(Z,E,O,m=!0){let l=T0(Z.$id)?[...E,Z]:E,o=Z;if(m&&T0(Z.$id)){let D0=G5(Z.$id);if(K1.functions.has(D0))return yield`${D0}(${O})`;else{K1.functions.set(D0,"<deferred>");let e0=R5(D0,Z,E,"value",!1);return K1.functions.set(D0,e0),yield`${D0}(${O})`}}switch(o[K]){case"Any":return yield*J(o,l,O);case"Argument":return yield*Y(o,l,O);case"Array":return yield*X(o,l,O);case"AsyncIterator":return yield*Q(o,l,O);case"BigInt":return yield*M(o,l,O);case"Boolean":return yield*H(o,l,O);case"Constructor":return yield*G(o,l,O);case"Date":return yield*B(o,l,O);case"Function":return yield*w(o,l,O);case"Import":return yield*A(o,l,O);case"Integer":return yield*q(o,l,O);case"Intersect":return yield*N(o,l,O);case"Iterator":return yield*z(o,l,O);case"Literal":return yield*D(o,l,O);case"Never":return yield*_(o,l,O);case"Not":return yield*L(o,l,O);case"Null":return yield*S(o,l,O);case"Number":return yield*P(o,l,O);case"Object":return yield*c(o,l,O);case"Promise":return yield*e(o,l,O);case"Record":return yield*I(o,l,O);case"Ref":return yield*V(o,l,O);case"RegExp":return yield*x(o,l,O);case"String":return yield*C(o,l,O);case"Symbol":return yield*k(o,l,O);case"TemplateLiteral":return yield*b(o,l,O);case"This":return yield*y(o,l,O);case"Tuple":return yield*u(o,l,O);case"Undefined":return yield*N0(o,l,O);case"Union":return yield*r(o,l,O);case"Uint8Array":return yield*U0(o,l,O);case"Unknown":return yield*d5(o,l,O);case"Void":return yield*c6(o,l,O);default:if(!o1.Has(o[K]))throw new DA(Z);return yield*Y2(o,l,O)}}let K1={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function U1(Z,E,O,m=!0){return`(${[...i2(Z,E,O,m)].join(" && ")})`}function G5(Z){return`check_${dQ.Encode(Z)}`}function n2(Z){let E=`local_${K1.variables.size}`;return K1.variables.set(E,`const ${E} = ${Z}`),E}function R5(Z,E,O,m,l=!0){let[o,D0]=[`
`,(X2)=>"".padStart(X2," ")],e0=K2("value","any"),O5=h6("boolean"),B5=[...i2(E,O,m,l)].map((X2)=>`${D0(4)}${X2}`).join(` &&${o}`);return`function ${Z}(${e0})${O5} {${o}${D0(2)}return (${o}${B5}${o}${D0(2)})
}`}function K2(Z,E){let O=K1.language==="typescript"?`: ${E}`:"";return`${Z}${O}`}function h6(Z){return K1.language==="typescript"?`: ${Z}`:""}function o2(Z,E,O){let m=R5("check",Z,E,"value"),l=K2("value","any"),o=h6("boolean"),D0=[...K1.functions.values()],e0=[...K1.variables.values()],O5=T0(Z.$id)?`return function check(${l})${o} {
  return ${G5(Z.$id)}(value)
}`:`return ${m}`;return[...e0,...D0,O5].join(`
`)}function s(...Z){let E={language:"javascript"},[O,m,l]=Z.length===2&&Q0(Z[1])?[Z[0],Z[1],E]:Z.length===2&&!Q0(Z[1])?[Z[0],[],Z[1]]:Z.length===3?[Z[0],Z[1],Z[2]]:Z.length===1?[Z[0],[],E]:[null,[],E];if(K1.language=l.language,K1.variables.clear(),K1.functions.clear(),K1.instances.clear(),!q1(O))throw new hQ(O);for(let o of m)if(!q1(o))throw new hQ(o);return o2(O,m,l)}W.Code=s;function p(Z,E=[]){let O=s(Z,E,{language:"javascript"}),m=globalThis.Function("kind","format","hash",O),l=new Map(K1.instances);function o(B5,X2,e8){if(!o1.Has(B5)||!l.has(X2))return!1;let x_=o1.Get(B5),T_=l.get(X2);return x_(T_,e8)}function D0(B5,X2){if(!p0.Has(B5))return!1;return p0.Get(B5)(X2)}function e0(B5){return t6(B5)}let O5=m(o,D0,e0);return new zA(Z,E,O5,O)}W.Compile=p})(A8||(A8={}));var iR=Object.create,{getPrototypeOf:nR,defineProperty:bN,getOwnPropertyNames:oR}=Object,sR=Object.prototype.hasOwnProperty,j$=(W,$,J)=>{J=W!=null?iR(nR(W)):{};let Y=$||!W||!W.__esModule?bN(J,"default",{value:W,enumerable:!0}):J;for(let X of oR(W))if(!sR.call(Y,X))bN(Y,X,{get:()=>W[X],enumerable:!0});return Y},Xq=(W,$)=>()=>($||W(($={exports:{}}).exports,$),$.exports);var RY=Xq((W,$)=>{var J=12,Y=0,X=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7];function Q(G){var B=G.indexOf("%");if(B===-1)return G;var w=G.length,A="",q=0,N=0,z=B,D=J;while(B>-1&&B<w){var _=H(G[B+1],4),L=H(G[B+2],0),S=_|L,P=X[S];if(D=X[256+D+P],N=N<<6|S&X[364+P],D===J)A+=G.slice(q,z),A+=N<=65535?String.fromCharCode(N):String.fromCharCode(55232+(N>>10),56320+(N&1023)),N=0,q=B+3,B=z=G.indexOf("%",q);else if(D===Y)return null;else{if(B+=3,B<w&&G.charCodeAt(B)===37)continue;return null}}return A+G.slice(q)}var M={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};function H(G,B){var w=M[G];return w===void 0?255:w<<B}$.exports=Q}),aR=Xq((W)=>{Object.defineProperty(W,"__esModule",{value:!0}),W.parse=H,W.serialize=w;var $=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,J=/^[\u0021-\u003A\u003C-\u007E]*$/,Y=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,X=/^[\u0020-\u003A\u003D-\u007E]*$/,Q=Object.prototype.toString,M=(()=>{let N=function(){};return N.prototype=Object.create(null),N})();function H(N,z){let D=new M,_=N.length;if(_<2)return D;let L=z?.decode||A,S=0;do{let P=N.indexOf("=",S);if(P===-1)break;let c=N.indexOf(";",S),e=c===-1?_:c;if(P>e){S=N.lastIndexOf(";",P-1)+1;continue}let I=G(N,S,P),V=B(N,P,I),x=N.slice(I,V);if(D[x]===void 0){let C=G(N,P+1,e),k=B(N,e,C),b=L(N.slice(C,k));D[x]=b}S=e+1}while(S<_);return D}function G(N,z,D){do{let _=N.charCodeAt(z);if(_!==32&&_!==9)return z}while(++z<D);return D}function B(N,z,D){while(z>D){let _=N.charCodeAt(--z);if(_!==32&&_!==9)return z+1}return D}function w(N,z,D){let _=D?.encode||encodeURIComponent;if(!$.test(N))throw TypeError(`argument name is invalid: ${N}`);let L=_(z);if(!J.test(L))throw TypeError(`argument val is invalid: ${z}`);let S=N+"="+L;if(!D)return S;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw TypeError(`option maxAge is invalid: ${D.maxAge}`);S+="; Max-Age="+D.maxAge}if(D.domain){if(!Y.test(D.domain))throw TypeError(`option domain is invalid: ${D.domain}`);S+="; Domain="+D.domain}if(D.path){if(!X.test(D.path))throw TypeError(`option path is invalid: ${D.path}`);S+="; Path="+D.path}if(D.expires){if(!q(D.expires)||!Number.isFinite(D.expires.valueOf()))throw TypeError(`option expires is invalid: ${D.expires}`);S+="; Expires="+D.expires.toUTCString()}if(D.httpOnly)S+="; HttpOnly";if(D.secure)S+="; Secure";if(D.partitioned)S+="; Partitioned";if(D.priority)switch(typeof D.priority==="string"?D.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite==="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw TypeError(`option sameSite is invalid: ${D.sameSite}`)}return S}function A(N){if(N.indexOf("%")===-1)return N;try{return decodeURIComponent(N)}catch(z){return N}}function q(N){return Q.call(N)==="[object Date]"}}),z7=(W,$)=>{let J=$?.length?{}:null;if(J)for(let Y of $)J[Y.part.charCodeAt(0)]=Y;return{part:W,store:null,inert:J,params:null,wildcardStore:null}},EN=(W,$)=>({...W,part:$}),PN=(W)=>({name:W,store:null,inert:null});class L7{config;root={};history=[];deferred=[];constructor(W={}){if(this.config=W,W.lazy)this.find=this.lazyFind;if(W.onParam&&!Array.isArray(W.onParam))this.config.onParam=[this.config.onParam]}static regex={static:/:.+?(?=\/|$)/,params:/:.+?(?=\/|$)/g,optionalParams:/(\/:\w+\?)/g};lazyFind=(W,$)=>{if(!this.config.lazy)return this.find;return this.build(),this.find(W,$)};build(){if(!this.config.lazy)return;for(let[W,$,J]of this.deferred)this.add(W,$,J,{lazy:!1,ignoreHistory:!0});this.deferred=[],this.find=(W,$)=>{let J=this.root[W];if(!J)return null;return _Y($,$.length,J,0,this.config.onParam)}}add(W,$,J,{ignoreError:Y=!1,ignoreHistory:X=!1,lazy:Q=this.config.lazy}={}){if(Q)return this.find=this.lazyFind,this.deferred.push([W,$,J]),J;if(typeof $!=="string")throw TypeError("Route path must be a string");if($==="")$="/";else if($[0]!=="/")$=`/${$}`;let M=$[$.length-1]==="*",H=$.match(L7.regex.optionalParams);if(H){let q=$.replaceAll("?","");this.add(W,q,J,{ignoreError:Y,ignoreHistory:X,lazy:Q});for(let N=0;N<H.length;N++){let z=$.replace(H[N],"");this.add(W,z,J,{ignoreError:!0,ignoreHistory:X,lazy:Q})}return J}if(H)$=$.replaceAll("?","");if(this.history.find(([q,N,z])=>q===W&&N===$))return J;if(M||H&&$.charCodeAt($.length-1)===63)$=$.slice(0,-1);if(!X)this.history.push([W,$,J]);let G=$.split(L7.regex.static),B=$.match(L7.regex.params)||[];if(G[G.length-1]==="")G.pop();let w;if(!this.root[W])w=this.root[W]=z7("/");else w=this.root[W];let A=0;for(let q=0;q<G.length;++q){let N=G[q];if(q>0){let z=B[A++].slice(1);if(w.params===null)w.params=PN(z);else if(w.params.name!==z)if(Y)return J;else throw Error(`Cannot create route "${$}" with parameter "${z}" because a route already exists with a different parameter name ("${w.params.name}") in the same location`);let D=w.params;if(D.inert===null){w=D.inert=z7(N);continue}w=D.inert}for(let z=0;;){if(z===N.length){if(z<w.part.length){let D=EN(w,w.part.slice(z));Object.assign(w,z7(N,[D]))}break}if(z===w.part.length){if(w.inert===null)w.inert={};let D=w.inert[N.charCodeAt(z)];if(D){w=D,N=N.slice(z),z=0;continue}let _=z7(N.slice(z));w.inert[N.charCodeAt(z)]=_,w=_;break}if(N[z]!==w.part[z]){let D=EN(w,w.part.slice(z)),_=z7(N.slice(z));Object.assign(w,z7(w.part.slice(0,z),[D,_])),w=_;break}++z}}if(A<B.length){let q=B[A].slice(1);if(w.params===null)w.params=PN(q);else if(w.params.name!==q)if(Y)return J;else throw Error(`Cannot create route "${$}" with parameter "${q}" because a route already exists with a different parameter name ("${w.params.name}") in the same location`);if(w.params.store===null)w.params.store=J;return w.params.store}if(M){if(w.wildcardStore===null)w.wildcardStore=J;return w.wildcardStore}if(w.store===null)w.store=J;return w.store}find(W,$){let J=this.root[W];if(!J)return null;return _Y($,$.length,J,0,this.config.onParam)}}var _Y=(W,$,J,Y,X)=>{let Q=J.part,M=Q.length,H=Y+M;if(M>1){if(H>$)return null;if(M<15){for(let G=1,B=Y+1;G<M;++G,++B)if(Q.charCodeAt(G)!==W.charCodeAt(B))return null}else if(W.slice(Y,H)!==Q)return null}if(H===$){if(J.store!==null)return{store:J.store,params:{}};if(J.wildcardStore!==null)return{store:J.wildcardStore,params:{"*":""}};return null}if(J.inert!==null){let G=J.inert[W.charCodeAt(H)];if(G!==void 0){let B=_Y(W,$,G,H,X);if(B!==null)return B}}if(J.params!==null){let{store:G,name:B,inert:w}=J.params,A=W.indexOf("/",H);if(A!==H){if(A===-1||A>=$){if(G!==null){let q={};if(q[B]=W.substring(H,$),X)for(let N=0;N<X.length;N++){let z=X[N](q[B],B);if(z!==void 0)q[B]=z}return{store:G,params:q}}}else if(w!==null){let q=_Y(W,$,w,A,X);if(q!==null){if(q.params[B]=W.substring(H,A),X)for(let N=0;N<X.length;N++){let z=X[N](q.params[B],B);if(z!==void 0)q.params[B]=z}return q}}}}if(J.wildcardStore!==null)return{store:J.wildcardStore,params:{"*":W.substring(H,$)}};return null},RN=j$(RY(),1),IM={date:Qq,time:_M(!0),"date-time":IN(!0),"iso-time":_M(!1),"iso-date-time":IN(!1),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:XI,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:wI,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:QI,int32:{type:"number",validate:GI},int64:{type:"number",validate:BI},float:{type:"number",validate:TN},double:{type:"number",validate:TN},password:!0,binary:!0};function rR(W){return W%4===0&&(W%100!==0||W%400===0)}var tR=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,eR=[0,31,28,31,30,31,30,31,31,30,31,30,31];function Qq(W){let $=tR.exec(W);if(!$)return!1;let J=+$[1],Y=+$[2],X=+$[3];return Y>=1&&Y<=12&&X>=1&&X<=(Y===2&&rR(J)?29:eR[Y])}var WI=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function _M(W){return function($){let J=WI.exec($);if(!J)return!1;let Y=+J[1],X=+J[2],Q=+J[3],M=J[4],H=J[5]==="-"?-1:1,G=+(J[6]||0),B=+(J[7]||0);if(G>23||B>59||W&&!M)return!1;if(Y<=23&&X<=59&&Q<60)return!0;let w=X-B*H,A=Y-G*H-(w<0?1:0);return(A===23||A===-1)&&(w===59||w===-1)&&Q<61}}var LM=(W)=>{if(W.charCodeAt(W.length-6)===32)return W.slice(0,-6)+"+"+W.slice(-5);return W},$I=/t|\s/i;function IN(W){let $=_M(W);return function(J){let Y=J.split($I);return Y.length===2&&Qq(Y[0])&&$(Y[1])}}var JI=/\/|:/,YI=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function XI(W){return JI.test(W)&&YI.test(W)}var xN=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function QI(W){return xN.lastIndex=0,xN.test(W)}var MI=-2147483648,HI=2147483647;function GI(W){return Number.isInteger(W)&&W<=HI&&W>=MI}function BI(W){return Number.isInteger(W)}function TN(){return!0}var UI=/[^\\]\\Z/;function wI(W){if(UI.test(W))return!1;try{return new RegExp(W),!0}catch($){return!1}}var Mq=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,Hq=/(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s\d{2}\s\d{4}\s\d{2}:\d{2}:\d{2}\sGMT(?:\+|-)\d{4}\s\([^)]+\)/,Gq=/^(?:(?:(?:(?:0?[1-9]|[12][0-9]|3[01])[/\s-](?:0?[1-9]|1[0-2])[/\s-](?:19|20)\d{2})|(?:(?:19|20)\d{2}[/\s-](?:0?[1-9]|1[0-2])[/\s-](?:0?[1-9]|[12][0-9]|3[01]))))(?:\s(?:1[012]|0?[1-9]):[0-5][0-9](?::[0-5][0-9])?(?:\s[AP]M)?)?$/,AI=IM.date,NI=IM["date-time"];if(!p0.Has("date"))p0.Set("date",(W)=>{let $=LM(W).replace(/"/g,"");if(Mq.test($)||Hq.test($)||Gq.test($)||AI($)){let J=new Date($);if(!Number.isNaN(J.getTime()))return!0}return!1});if(!p0.Has("date-time"))p0.Set("date-time",(W)=>{let $=W.replace(/"/g,"");if(Mq.test($)||Hq.test($)||Gq.test($)||NI($)){let J=new Date($);if(!Number.isNaN(J.getTime()))return!0}return!1});Object.entries(IM).forEach((W)=>{let[$,J]=W;if(!p0.Has($)){if(J instanceof RegExp)p0.Set($,(Y)=>J.test(Y));else if(typeof J==="function")p0.Set($,J)}});if(!p0.Has("numeric"))p0.Set("numeric",(W)=>!!W&&!isNaN(+W));if(!p0.Has("integer"))p0.Set("integer",(W)=>!!W&&Number.isInteger(+W));if(!p0.Has("boolean"))p0.Set("boolean",(W)=>W==="true"||W==="false");if(!p0.Has("ObjectString"))p0.Set("ObjectString",(W)=>{let $=W.charCodeAt(0);if($===9||$===10||$===32)$=W.trimStart().charCodeAt(0);if($!==123&&$!==91)return!1;try{return JSON.parse(W),!0}catch{return!1}});if(!p0.Has("ArrayString"))p0.Set("ArrayString",(W)=>{let $=W.charCodeAt(0);if($===9||$===10||$===32)$=W.trimStart().charCodeAt(0);if($!==123&&$!==91)return!1;try{return JSON.parse(W),!0}catch{return!1}});var j7=typeof Bun<"u",Bq={aac:"audio/aac",abw:"application/x-abiword",ai:"application/postscript",arc:"application/octet-stream",avi:"video/x-msvideo",azw:"application/vnd.amazon.ebook",bin:"application/octet-stream",bz:"application/x-bzip",bz2:"application/x-bzip2",csh:"application/x-csh",css:"text/css",csv:"text/csv",doc:"application/msword",dll:"application/octet-stream",eot:"application/vnd.ms-fontobject",epub:"application/epub+zip",gif:"image/gif",htm:"text/html",html:"text/html",ico:"image/x-icon",ics:"text/calendar",jar:"application/java-archive",jpeg:"image/jpeg",jpg:"image/jpeg",js:"application/javascript",json:"application/json",mid:"audio/midi",midi:"audio/midi",mp2:"audio/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mpa:"video/mpeg",mpe:"video/mpeg",mpeg:"video/mpeg",mpkg:"application/vnd.apple.installer+xml",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",oga:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",otf:"font/otf",png:"image/png",pdf:"application/pdf",ppt:"application/vnd.ms-powerpoint",rar:"application/x-rar-compressed",rtf:"application/rtf",sh:"application/x-sh",svg:"image/svg+xml",swf:"application/x-shockwave-flash",tar:"application/x-tar",tif:"image/tiff",tiff:"image/tiff",ts:"application/typescript",ttf:"font/ttf",txt:"text/plain",vsd:"application/vnd.visio",wav:"audio/x-wav",weba:"audio/webm",webm:"video/webm",webp:"image/webp",woff:"font/woff",woff2:"font/woff2",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xlsx:"application/vnd.ms-excel",xlsx_OLD:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xml:"application/xml",xul:"application/vnd.mozilla.xul+xml",zip:"application/zip","3gp":"video/3gpp","3gp_DOES_NOT_CONTAIN_VIDEO":"audio/3gpp","3gp2":"video/3gpp2","3gp2_DOES_NOT_CONTAIN_VIDEO":"audio/3gpp2","7z":"application/x-7z-compressed"},qI=(W)=>{let $=W.lastIndexOf(".");if($===-1)return"";return W.slice($+1)};var BM,UM;class LY{path;value;stats;constructor(W){if(this.path=W,j7)this.value=Bun.file(W);else{if(!BM||!UM){if(typeof window<"u"){console.warn("Browser environment does not support file");return}let $=(Y)=>console.warn(Error(`[elysia] \`file\` require \`fs${Y?"."+Y:""}\` ${Y?.includes(".")?"module ":""}which is not available in this environment`));if(typeof process>"u"||typeof process.getBuiltinModule!=="function"){$();return}let J=process.getBuiltinModule("fs");if(!J){$();return}if(typeof J.createReadStream!=="function"){$();return}if(typeof J.promises?.stat!=="function"){$();return}BM=J.createReadStream,UM=J.promises.stat}this.value=BM(W),this.stats=UM(W)}}get type(){return Bq[qI(this.path)]||"application/octet-stream"}get length(){if(j7)return this.value.size;return this.stats?.then((W)=>W.size)??0}}var jM="toJSON"in new Headers,kN=(W,$)=>{let J=new URL(W);return J.pathname=$,J.toString()},zI=(W)=>typeof W==="function"&&/^\s*class\s+/.test(W.toString())||W.toString&&W.toString().startsWith("[object ")&&W.toString()!=="[object Object]"||z1(Object.getPrototypeOf(W)),wM=(W)=>W&&typeof W==="object"&&!Array.isArray(W),Y5=(W,$,J)=>{let Y=J?.skipKeys,X=J?.override??!0,Q=J?.mergeArray??!1;if(!wM(W)||!wM($))return W;for(let[M,H]of Object.entries($)){if(Y?.includes(M))continue;if(Q&&Array.isArray(H)){W[M]=Array.isArray(W[M])?[...W[M],...H]:W[M]=H;continue}if(!wM(H)||!(M in W)||zI(H)){if((X||!(M in W))&&!Object.isFrozen(W))try{W[M]=H}catch{}continue}if(!Object.isFrozen(W[M]))try{W[M]=Y5(W[M],H,{skipKeys:Y,override:X,mergeArray:Q})}catch{}}return W},FM=(W,$)=>{let J=Y5(Object.assign({},W),$,{skipKeys:["properties"],mergeArray:!1});if(J.properties)delete J.properties;return J},E1=(W,$)=>{if(!$)return W;let J=[],Y=[];if(W){if(!Array.isArray(W))W=[W];for(let X of W)if(J.push(X),X.checksum)Y.push(X.checksum)}if($){if(!Array.isArray($))$=[$];for(let X of $)if(!Y.includes(X.checksum))J.push(X)}return J},DI=["start","request","parse","transform","resolve","beforeHandle","afterHandle","mapResponse","afterResponse","trace","error","stop","body","headers","params","query","response","type","detail"],pW0=DI.reduce((W,$)=>(W[$]=!0,W),{}),DY=(W)=>typeof W==="object"&&Object.keys(W).every(($)=>!isNaN(+$)),Uq=(W,$)=>{if(DY(W)&&DY($))return Object.assign({},W,$);else if(W&&!DY(W)&&DY($))return Object.assign({200:W},$);return $??W},X$=(W,$)=>{if(!W&&!$)return{body:void 0,headers:void 0,params:void 0,query:void 0,cookie:void 0,response:void 0};return{body:$?.body??W?.body,headers:$?.headers??W?.headers,params:$?.params??W?.params,query:$?.query??W?.query,cookie:$?.cookie??W?.cookie,response:Uq(W?.response,$?.response)}},H9=(W,$)=>{if(!$)return W??{};if(!W)return $??{};if(!Object.values($).find((Y)=>Y!==void 0&&Y!==null))return{...W};let J={...W,...$,body:$.body??W.body,headers:$.headers??W.headers,params:$.params??W.params,query:$.query??W.query,cookie:$.cookie??W.cookie,response:Uq(W.response,$.response),type:W.type||$.type,detail:Y5($.detail??{},W.detail??{}),parse:E1(W.parse,$.parse),transform:E1(W.transform,$.transform),beforeHandle:E1(E1(r1(W.resolve,"resolve"),W.beforeHandle),E1(r1($.resolve,"resolve"),$.beforeHandle)),afterHandle:E1(W.afterHandle,$.afterHandle),mapResponse:E1(W.mapResponse,$.mapResponse),afterResponse:E1(W.afterResponse,$.afterResponse),trace:E1(W.trace,$.trace),error:E1(W.error,$.error),standaloneSchema:W.standaloneSchema||$.standaloneSchema?W.standaloneSchema&&!$.standaloneSchema?W.standaloneSchema:$.standaloneSchema&&!W.standaloneSchema?$.standaloneSchema:[...W.standaloneSchema??[],...$.standaloneSchema??[]]:void 0};if(J.resolve)delete J.resolve;return J},ZI=(W)=>{if(W.parse&&!Array.isArray(W.parse))W.parse=[W.parse];if(W.transform&&!Array.isArray(W.transform))W.transform=[W.transform];if(W.afterHandle&&!Array.isArray(W.afterHandle))W.afterHandle=[W.afterHandle];if(W.mapResponse&&!Array.isArray(W.mapResponse))W.mapResponse=[W.mapResponse];if(W.afterResponse&&!Array.isArray(W.afterResponse))W.afterResponse=[W.afterResponse];if(W.trace&&!Array.isArray(W.trace))W.trace=[W.trace];if(W.error&&!Array.isArray(W.error))W.error=[W.error];let $=[];if(W.resolve)$=r1(Array.isArray(W.resolve)?W.resolve:[W.resolve],"resolve"),delete W.resolve;if(W.beforeHandle)if($.length)$=$.concat(Array.isArray(W.beforeHandle)?W.beforeHandle:[W.beforeHandle]);else $=Array.isArray(W.beforeHandle)?W.beforeHandle:[W.beforeHandle];if($.length)W.beforeHandle=$;return W},SI=typeof Bun<"u",OI=SI&&typeof Bun.hash==="function",M$=(W)=>{if(OI)return Bun.hash(W);let $=9;for(let J=0;J<W.length;)$=Math.imul($^W.charCodeAt(J++),387420489);return $=$^$>>>9},z8=(W,$)=>{if(!$)return;if(!Array.isArray($)){let Y=$;if(W&&!Y.checksum)Y.checksum=W;if(Y.scope==="scoped")Y.scope="local";return Y}let J=[...$];for(let Y of J){if(W&&!Y.checksum)Y.checksum=W;if(Y.scope==="scoped")Y.scope="local"}return J},gN=(W,$,J)=>{return{start:E1(W.start,z8(J,$?.start)),request:E1(W.request,z8(J,$?.request)),parse:E1(W.parse,z8(J,$?.parse)),transform:E1(W.transform,z8(J,$?.transform)),beforeHandle:E1(E1(r1(W.resolve,"resolve"),W.beforeHandle),z8(J,E1(r1($?.resolve,"resolve"),$?.beforeHandle))),afterHandle:E1(W.afterHandle,z8(J,$?.afterHandle)),mapResponse:E1(W.mapResponse,z8(J,$?.mapResponse)),afterResponse:E1(W.afterResponse,z8(J,$?.afterResponse)),trace:E1(W.trace,z8(J,$?.trace)),error:E1(W.error,z8(J,$?.error)),stop:E1(W.stop,z8(J,$?.stop))}},_I=(W,$,{skipIfHasType:J=!1})=>{if(!W)return W;if(!Array.isArray(W)){if(J)W.scope??=$;else W.scope=$;return W}for(let Y of W)if(J)Y.scope??=$;else Y.scope=$;return W},W4=(W)=>{if(!W)return W;if(!Array.isArray(W))switch(W.scope){case"global":case"scoped":return{...W};default:return{fn:W}}let $=[];for(let J of W)switch(J.scope){case"global":case"scoped":$.push({...J});break}return $},fN=(W)=>{return{...W,type:W?.type,detail:W?.detail,parse:W4(W?.parse),transform:W4(W?.transform),beforeHandle:W4(W?.beforeHandle),afterHandle:W4(W?.afterHandle),mapResponse:W4(W?.mapResponse),afterResponse:W4(W?.afterResponse),error:W4(W?.error),trace:W4(W?.trace)}},D$={Continue:100,"Switching Protocols":101,Processing:102,"Early Hints":103,OK:200,Created:201,Accepted:202,"Non-Authoritative Information":203,"No Content":204,"Reset Content":205,"Partial Content":206,"Multi-Status":207,"Already Reported":208,"Multiple Choices":300,"Moved Permanently":301,Found:302,"See Other":303,"Not Modified":304,"Temporary Redirect":307,"Permanent Redirect":308,"Bad Request":400,Unauthorized:401,"Payment Required":402,Forbidden:403,"Not Found":404,"Method Not Allowed":405,"Not Acceptable":406,"Proxy Authentication Required":407,"Request Timeout":408,Conflict:409,Gone:410,"Length Required":411,"Precondition Failed":412,"Payload Too Large":413,"URI Too Long":414,"Unsupported Media Type":415,"Range Not Satisfiable":416,"Expectation Failed":417,"I'm a teapot":418,"Enhance Your Calm":420,"Misdirected Request":421,"Unprocessable Content":422,Locked:423,"Failed Dependency":424,"Too Early":425,"Upgrade Required":426,"Precondition Required":428,"Too Many Requests":429,"Request Header Fields Too Large":431,"Unavailable For Legal Reasons":451,"Internal Server Error":500,"Not Implemented":501,"Bad Gateway":502,"Service Unavailable":503,"Gateway Timeout":504,"HTTP Version Not Supported":505,"Variant Also Negotiates":506,"Insufficient Storage":507,"Loop Detected":508,"Not Extended":510,"Network Authentication Required":511},vN=Object.fromEntries(Object.entries(D$).map(([W,$])=>[$,W]));function LI(W){let $=W;while($.endsWith("="))$=$.slice(0,-1);return $}var yN=new TextEncoder,jY=async(W,$)=>{if(typeof W==="object")W=JSON.stringify(W);else if(typeof W!=="string")W=W+"";if($===null)throw TypeError("Secret key must be provided.");let J=await crypto.subtle.importKey("raw",yN.encode($),{name:"HMAC",hash:"SHA-256"},!1,["sign"]),Y=await crypto.subtle.sign("HMAC",J,yN.encode(W));return W+"."+LI(Buffer.from(Y).toString("base64"))},dN=async(W,$)=>{if(typeof W!=="string")throw TypeError("Signed cookie string must be provided.");if($===null)throw TypeError("Secret key must be provided.");let J=W.slice(0,W.lastIndexOf("."));return await jY(J,$)===W?J:!1},jI=(W,$,J)=>{if(!W.standaloneValidator?.length||!Array.isArray(W.standaloneValidator)){W.standaloneValidator=[{[$]:J}];return}let Y=W.standaloneValidator[W.standaloneValidator.length-1];if($ in Y)W.standaloneValidator.push({[$]:J});else Y[$]=J},FI=(W)=>{if(typeof W==="number")return W;if(W.length<16){if(W.trim().length===0)return null;let $=Number(W);if(Number.isNaN($))return null;return $}if(W.length===16){if(W.trim().length===0)return null;let $=Number(W);if(Number.isNaN($)||$.toString()!==W)return null;return $}return null},wq=(W)=>FI(W)!==null;class Aq{onError;onFinally;root=null;promises=[];constructor(W=console.error,$=()=>{}){this.onError=W,this.onFinally=$}get size(){return this.promises.length}add(W){if(this.promises.push(W),this.root||=this.drain(),this.promises.length===1)this.then(this.onFinally);return W}async drain(){while(this.promises.length>0){try{await this.promises[0]}catch(W){this.onError(W)}this.promises.shift()}this.root=null}then(W,$){return(this.root??Promise.resolve()).then(W,$)}}var r1=(W,$)=>{if(!W)return W;if(!Array.isArray(W)){if(typeof W==="function"||typeof W==="string")return $?{fn:W,subType:$}:{fn:W};else if("fn"in W)return W}let J=[];for(let Y of W)if(typeof Y==="function"||typeof Y==="string")J.push($?{fn:Y,subType:$}:{fn:Y});else if("fn"in Y)J.push(Y);return J},cN=(W)=>{if(W.start)W.start=r1(W.start);if(W.request)W.request=r1(W.request);if(W.parse)W.parse=r1(W.parse);if(W.transform)W.transform=r1(W.transform);if(W.beforeHandle)W.beforeHandle=r1(W.beforeHandle);if(W.afterHandle)W.afterHandle=r1(W.afterHandle);if(W.mapResponse)W.mapResponse=r1(W.mapResponse);if(W.afterResponse)W.afterResponse=r1(W.afterResponse);if(W.trace)W.trace=r1(W.trace);if(W.error)W.error=r1(W.error);if(W.stop)W.stop=r1(W.stop);return W},hN=(W)=>{let $=Object.create(null);if(W.start?.map)$.start=W.start.map((J)=>J.fn);if(W.request?.map)$.request=W.request.map((J)=>J.fn);if(W.parse?.map)$.parse=W.parse.map((J)=>J.fn);if(W.transform?.map)$.transform=W.transform.map((J)=>J.fn);if(W.beforeHandle?.map)$.beforeHandle=W.beforeHandle.map((J)=>J.fn);if(W.afterHandle?.map)$.afterHandle=W.afterHandle.map((J)=>J.fn);if(W.mapResponse?.map)$.mapResponse=W.mapResponse.map((J)=>J.fn);if(W.afterResponse?.map)$.afterResponse=W.afterResponse.map((J)=>J.fn);if(W.error?.map)$.error=W.error.map((J)=>J.fn);if(W.stop?.map)$.stop=W.stop.map((J)=>J.fn);if(W.trace?.map)$.trace=W.trace.map((J)=>J.fn);else $.trace=[];return $},mN=(W)=>({body:W.body,cookie:W.cookie,headers:W.headers,query:W.query,set:W.set,server:W.server,path:W.path,route:W.route,url:W.url}),IY=(W,$=302)=>Response.redirect(W,$),G9=Symbol("ElysiaFormData"),F$=Symbol("ElysiaRequestId"),KI=(W)=>{let $=new FormData;if($[G9]={},W)for(let[J,Y]of Object.entries(W)){if(Array.isArray(Y)){$[G9][J]=[];for(let X of Y){if(Y instanceof File)$.append(J,Y,Y.name);else if(Y instanceof LY)$.append(J,Y.value,Y.value?.name);else $.append(J,Y);$[G9][J].push(Y)}continue}if(Y instanceof File)$.append(J,Y,Y.name);else if(Y instanceof LY)$.append(J,Y.value,Y.value?.name);else $.append(J,Y);$[G9][J]=Y}return $},xY=()=>{let W=crypto.randomUUID();return W.slice(0,8)+W.slice(24,32)},CI=(W)=>{if(!W.length)return[];let $=[];for(let J=0;J<W.length;J++){let Y=W[J];if(Y.checksum){if($.includes(Y.checksum))W.splice(J,1),J--;$.push(Y.checksum)}}return W},$4=(W,$="scoped")=>{if(!W)return;if($==="scoped"){for(let J of W)if("scope"in J&&J.scope==="local")J.scope="scoped";return}for(let J of W)if("scope"in J)J.scope="global"},H$=(W)=>{if(W.charCodeAt(W.length-1)===47)return W.slice(0,W.length-1);return W+"/"},z1=(W)=>{if(!W)return!1;for(let $ in W)return!0;return!1},G$=(W,{dynamic:$=!1}={})=>{let J=encodeURIComponent(W).replace(/%2F/g,"/");if($)J=J.replace(/%3A/g,":").replace(/%3F/g,"?");return J},Nq=(()=>{if(typeof Bun>"u")return!0;let W=Bun.version.split(".");if(+W[0]<1||+W[1]<2||+W[2]<14)return!1;return!0})();async function VI(W){if(W.bodyUsed||!W.body)return 0;let $=0,J=W.body.getReader();while(!0){let{done:Y,value:X}=await J.read();if(Y)break;$+=X.byteLength}return $}var bI={headers:!0,cookie:!0,query:!0,params:!0,body:!0,response:!0},uN=typeof Bun<"u"?Bun.env:typeof process<"u"?process?.env:void 0,FY=Symbol("ElysiaErrorCode"),Y4=(uN?.NODE_ENV??uN?.ENV)==="production",EI={101:void 0,204:void 0,205:void 0,304:void 0,307:void 0,308:void 0};class N5{code;response;constructor(W,$){let J=$??(W in vN?vN[W]:W);if(this.code=D$[W]??W,W in EI)this.response=void 0;else this.response=J}}var Z$=(W,$)=>new N5(W,$);class xM extends Error{code="NOT_FOUND";status=404;constructor(W){super(W??"NOT_FOUND")}}class qq extends Error{code="PARSE";status=400;constructor(W){super("Bad Request",{cause:W})}}class KM extends Error{key;code="INVALID_COOKIE_SIGNATURE";status=400;constructor(W,$){super($??`"${W}" has invalid cookie signature`);this.key=W}}var A5=(W)=>{if(!W)return{summary:void 0};let{message:$,path:J,value:Y,type:X}=W,Q=J.slice(1).replaceAll("/","."),M=J==="";switch(X){case 42:return{...W,summary:M?"Value should not be provided":`Property '${Q}' should not be provided`};case 45:return{...W,summary:M?"Value is missing":`Property '${Q}' is missing`};case 50:let H=$.indexOf("'"),G=$.slice(H+1,$.indexOf("'",H+1));return{...W,summary:M?"Value should be an email":`Property '${Q}' should be ${G}`};case 54:return{...W,summary:`${$.slice(0,9).trim()} property '${Q}' to be ${$.slice(8).trim()} but found: ${Y}`};case 62:let B=W.schema.anyOf.map((w)=>`'${w?.format??w.type}'`).join(", ");return{...W,summary:M?`Value should be one of ${B}`:`Property '${Q}' should be one of: ${B}`};default:return{summary:$,...W}}};class A$ extends Error{property;expected;message;code="INVALID_FILE_TYPE";status=422;constructor(W,$,J=`"${W}" has invalid file type`){super(J);this.property=W,this.expected=$,this.message=J,Object.setPrototypeOf(this,A$.prototype)}toResponse(W){if(Y4)return new Response(JSON.stringify({type:"validation",on:"body"}),{status:422,headers:{...W,"content-type":"application/json"}});return new Response(JSON.stringify({type:"validation",on:"body",summary:"Invalid file type",message:this.message,property:this.property,expected:this.expected}),{status:422,headers:{...W,"content-type":"application/json"}})}}class d0 extends Error{type;validator;value;code="VALIDATION";status=422;valueError;expected;customError;constructor(W,$,J,Y){let X="",Q,M,H;if($?.provider==="standard"||"~standard"in $||$.schema&&"~standard"in $.schema){let G=("~standard"in $?$:$.schema)["~standard"];if(Q=(Y??G.validate(J).issues)?.[0],Y4)X=JSON.stringify({type:"validation",on:W,found:J});else X=JSON.stringify({type:"validation",on:W,property:Q.path?.[0]||"root",message:Q?.message,summary:Q?.problem,expected:M,found:J,errors:Y},null,2);H=Q?.message}else{if(J&&typeof J==="object"&&J instanceof N5)J=J.response;Q=Y?.First()??("Errors"in $?$.Errors(J).First():s0.Errors($,J).First());let G=Q?.path||"root",B=$?.schema??$;if(!Y4)try{M=s0.Create(B)}catch(w){M={type:"Could not create expected value",message:w?.message,error:w}}if(H=Q?.schema?.message||Q?.schema?.error!==void 0?typeof Q.schema.error==="function"?Q.schema.error(Y4?{type:"validation",on:W,found:J}:{type:"validation",on:W,value:J,property:G,message:Q?.message,summary:A5(Q).summary,found:J,expected:M,errors:"Errors"in $?[...$.Errors(J)].map(A5):[...s0.Errors($,J)].map(A5)},$):Q.schema.error:void 0,H!==void 0)X=typeof H==="object"?JSON.stringify(H):H+"";else if(Y4)X=JSON.stringify({type:"validation",on:W,found:J});else X=JSON.stringify({type:"validation",on:W,property:G,message:Q?.message,summary:A5(Q).summary,expected:M,found:J,errors:"Errors"in $?[...$.Errors(J)].map(A5):[...s0.Errors($,J)].map(A5)},null,2)}super(X);this.type=W,this.validator=$,this.value=J,this.valueError=Q,this.expected=M,this.customError=H,Object.setPrototypeOf(this,d0.prototype)}get all(){return"Errors"in this.validator?[...this.validator.Errors(this.value)].map(A5):[...s0.Errors(this.validator,this.value)].map(A5)}static simplifyModel(W){let $="schema"in W?W.schema:W;try{return s0.Create($)}catch{return $}}get model(){if("~standard"in this.validator)return this.validator;return d0.simplifyModel(this.validator)}toResponse(W){return new Response(this.message,{status:400,headers:{...W,"content-type":"application/json"}})}detail(W){if(!this.customError)return this.message;let $=this.validator,J=this.value,Y=this.expected,X=this.all;return Y4?{type:"validation",on:this.type,found:J,message:W}:{type:"validation",on:this.type,property:this.valueError?.path||"root",message:W,summary:A5(this.valueError).summary,found:J,expected:Y,errors:X}}}var Q$=(W,$)=>{try{return JSON.parse(W)}catch{throw new d0("property",$,W)}};function K$(W,$){if(!o1.Has(W))o1.Set(W,$);return(J={})=>nJ({...J,[K]:W})}var Z6=(W)=>{try{let $=A8.Compile(W);return $.Create=()=>s0.Create(W),$.Error=(J)=>new d0("property",W,J,$.Errors(J)),$}catch{return{Check:($)=>s0.Check(W,$),CheckThrow:($)=>{if(!s0.Check(W,$))throw new d0("property",W,$,s0.Errors(W,$))},Decode:($)=>s0.Decode(W,$),Create:()=>s0.Create(W),Error:($)=>new d0("property",W,$,s0.Errors(W,$))}}},lN=(W)=>{if(typeof W==="string")switch(W.slice(-1)){case"k":return+W.slice(0,W.length-1)*1024;case"m":return+W.slice(0,W.length-1)*1048576;default:return+W}return W},KY=(W,$)=>{if(W.startsWith($))return!0;return $.charCodeAt($.length-1)===42&&$.charCodeAt($.length-2)===47&&W.startsWith($.slice(0,-1))},pN=!1,PI=()=>{if(!pN)console.warn("[Elysia] Attempt to validate file type without 'file-type'. This may lead to security risks. We recommend installing 'file-type' to properly validate file extension."),pN=!0},TM=async()=>Promise.resolve().then(() => (VN(),CN)).then((W)=>{return CY=W.fileTypeFromBlob,CY}).catch(PI),CY,RI=(W)=>{if(CY)return CY(W);return TM().then(($)=>{if($)return $(W)})},zq=async(W,$,J=W?.name??"")=>{if(Array.isArray(W))return await Promise.all(W.map((X)=>zq(X,$,J))),!0;if(!W)return!1;let Y=await RI(W);if(!Y)throw new A$(J,$);if(typeof $==="string"){if(!KY(Y.mime,$))throw new A$(J,$)}for(let X=0;X<$.length;X++)if(KY(Y.mime,$[X]))return!0;throw new A$(J,$)},CM=(W,$)=>{if($ instanceof LY)return!0;if(!($ instanceof Blob))return!1;if(W.minSize&&$.size<lN(W.minSize))return!1;if(W.maxSize&&$.size>lN(W.maxSize))return!1;if(W.extension){if(typeof W.extension==="string")return KY($.type,W.extension);for(let J=0;J<W.extension.length;J++)if(KY($.type,W.extension[J]))return!0;return!1}return!0};var U=Object.assign({},Q8);K$("UnionEnum",(W,$)=>(typeof $==="number"||typeof $==="string"||$===null)&&W.enum.includes($));K$("ArrayBuffer",(W,$)=>$ instanceof ArrayBuffer);var II=K$("Files",(W,$)=>{if(W.minItems&&W.minItems>1&&!Array.isArray($))return!1;if(!Array.isArray($))return CM(W,$);if(W.minItems&&$.length<W.minItems)return!1;if(W.maxItems&&$.length>W.maxItems)return!1;for(let J=0;J<$.length;J++)if(!CM(W,$[J]))return!1;return!0}),xI=K$("ElysiaForm",({compiler:W,...$},J)=>{if(!(J instanceof FormData))return!1;if(W){if(!(G9 in J))throw new d0("property",$,J);if(!W.Check(J[G9]))throw W.Error(J[G9])}return!0}),q5={String:(W)=>Q8.String(W),Numeric:(W)=>{let $=Q8.Number(W),J=Z6($);return U.Transform(U.Union([U.String({format:"numeric",default:0}),U.Number(W)],W)).Decode((Y)=>{let X=+Y;if(isNaN(X))return Y;if(W&&!J.Check(X))throw J.Error(X);return X}).Encode((Y)=>Y)},Integer:(W)=>{let $=Q8.Integer(W),J=Z6($);return U.Transform(U.Union([U.String({format:"integer",default:0}),Q8.Integer(W)],W)).Decode((Y)=>{let X=+Y;if(!J.Check(X))throw J.Error(X);return X}).Encode((Y)=>Y)},Date:(W)=>{let $=Q8.Date(W),J=Z6($),Y=W?.default?new Date(W.default):void 0;return U.Transform(U.Union([Q8.Date(W),U.String({format:"date-time",default:Y?.toISOString()}),U.String({format:"date",default:Y?.toISOString()}),U.Number({default:Y?.getTime()})],W)).Decode((X)=>{if(typeof X==="number"){let M=new Date(X);if(!J.Check(M))throw J.Error(M);return M}if(X instanceof Date)return X;let Q=new Date(LM(X));if(!Q||isNaN(Q.getTime()))throw new d0("property",$,Q);if(!J.Check(Q))throw J.Error(Q);return Q}).Encode((X)=>{if(X instanceof Date)return X.toISOString();if(typeof X==="string"){if(isNaN(new Date(LM(X)).getTime()))throw new d0("property",$,X);return X}if(!J.Check(X))throw J.Error(X);return X})},BooleanString:(W)=>{let $=Q8.Boolean(W),J=Z6($);return U.Transform(U.Union([U.Boolean(W),U.String({format:"boolean",default:!1})],W)).Decode((Y)=>{if(typeof Y==="string")return Y==="true";if(Y!==void 0&&!J.Check(Y))throw J.Error(Y);return Y}).Encode((Y)=>Y)},ObjectString:(W,$)=>{let J=U.Object(W,$),Y=Z6(J);return U.Transform(U.Union([U.String({format:"ObjectString",default:"{}"}),J],{elysiaMeta:"ObjectString"})).Decode((X)=>{if(typeof X==="string"){if(X.charCodeAt(0)!==123)throw new d0("property",J,X);if(!Y.Check(X=Q$(X,J)))throw Y.Error(X);return Y.Decode(X)}return X}).Encode((X)=>{let Q;if(typeof X==="string")X=Q$(Q=X,J);if(!Y.Check(X))throw Y.Error(X);return Q??JSON.stringify(X)})},ArrayString:(W=U.String(),$)=>{let J=U.Array(W,$),Y=Z6(J),X=(Q,M=!1)=>{if(Q.charCodeAt(0)===91){if(!Y.Check(Q=Q$(Q,J)))throw Y.Error(Q);return Y.Decode(Q)}if(M)return Q;throw new d0("property",J,Q)};return U.Transform(U.Union([U.String({format:"ArrayString",default:$?.default}),J])).Decode((Q)=>{if(Array.isArray(Q)){let M=[];for(let H=0;H<Q.length;H++){let G=Q[H];if(typeof G==="string"){let B=X(G,!0);if(Array.isArray(B))M=M.concat(B);else M.push(B);continue}M.push(G)}return M}if(typeof Q==="string")return X(Q);return Q}).Encode((Q)=>{let M;if(typeof Q==="string")Q=Q$(M=Q,J);if(!Y.Check(Q))throw new d0("property",J,Q);return M??JSON.stringify(Q)})},ArrayQuery:(W=U.String(),$)=>{let J=U.Array(W,$),Y=Z6(J),X=(Q)=>{if(Q.indexOf(",")!==-1)return Y.Decode(Q.split(","));return[Q]};return U.Transform(U.Union([U.String({default:$?.default}),J],{elysiaMeta:"ArrayQuery"})).Decode((Q)=>{if(Array.isArray(Q)){let M=[];for(let H=0;H<Q.length;H++){let G=Q[H];if(typeof G==="string"){let B=X(G);if(Array.isArray(B))M=M.concat(B);else M.push(B);continue}M.push(G)}return M}if(typeof Q==="string")return X(Q);return Q}).Encode((Q)=>{let M;if(typeof Q==="string")Q=Q$(M=Q,J);if(!Y.Check(Q))throw new d0("property",J,Q);return M??JSON.stringify(Q)})},File:K$("File",CM),Files:(W={})=>U.Transform(II(W)).Decode(($)=>{if(Array.isArray($))return $;return[$]}).Encode(($)=>$),Nullable:(W,$)=>U.Union([W,U.Null()],{...$,nullable:!0}),MaybeEmpty:(W,$)=>U.Union([W,U.Null(),U.Undefined()],$),Cookie:(W,{domain:$,expires:J,httpOnly:Y,maxAge:X,path:Q,priority:M,sameSite:H,secure:G,secrets:B,sign:w,...A}={})=>{let q=U.Object(W,A);return q.config={domain:$,expires:J,httpOnly:Y,maxAge:X,path:Q,priority:M,sameSite:H,secure:G,secrets:B,sign:w},q},UnionEnum:(W,$={})=>{let J=W.every((Y)=>typeof Y==="string")?{type:"string"}:W.every((Y)=>typeof Y==="number")?{type:"number"}:W.every((Y)=>Y===null)?{type:"null"}:{};if(W.some((Y)=>typeof Y==="object"&&Y!==null))throw Error("This type does not support objects or arrays");return{default:W[0],...$,[K]:"UnionEnum",...J,enum:W}},NoValidate:(W,$=!0)=>{return W.noValidate=$,W},Form:(W,$={})=>{let J=U.Object(W,{default:KI({}),...$}),Y=Z6(J);return U.Union([J,xI({compiler:Y})])},ArrayBuffer(W={}){return{default:[1,2,3],...W,[K]:"ArrayBuffer"}},Uint8Array:(W)=>{let $=Q8.Uint8Array(W),J=Z6($);return U.Transform(U.Union([U.ArrayBuffer(),Q8.Uint8Array(W)])).Decode((Y)=>{if(Y instanceof ArrayBuffer){if(!J.Check(Y=new Uint8Array(Y)))throw J.Error(Y);return Y}return Y}).Encode((Y)=>Y)}};U.BooleanString=q5.BooleanString;U.ObjectString=q5.ObjectString;U.ArrayString=q5.ArrayString;U.ArrayQuery=q5.ArrayQuery;U.Numeric=q5.Numeric;U.Integer=q5.Integer;U.File=(W)=>{if(W?.type)TM();return q5.File({default:"File",...W,extension:W?.type,type:"string",format:"binary"})};U.Files=(W)=>{if(W?.type)TM();return q5.Files({...W,elysiaMeta:"Files",default:"Files",extension:W?.type,type:"array",items:{...W,default:"Files",type:"string",format:"binary"}})};U.Nullable=q5.Nullable;U.MaybeEmpty=q5.MaybeEmpty;U.Cookie=q5.Cookie;U.Date=q5.Date;U.UnionEnum=q5.UnionEnum;U.NoValidate=q5.NoValidate;U.Form=q5.Form;U.ArrayBuffer=q5.ArrayBuffer;U.Uint8Array=q5.Uint8Array;var TI=(W)=>{if(W.startsWith("async"))W=W.slice(5);W=W.trimStart();let $=-1;if(W.charCodeAt(0)===40){if($=W.indexOf("=>",W.indexOf(")")),$!==-1){let X=$;while(X>0)if(W.charCodeAt(--X)===41)break;let Q=W.slice($+2);if(Q.charCodeAt(0)===32)Q=Q.trimStart();return[W.slice(1,X),Q,{isArrowReturn:Q.charCodeAt(0)!==123}]}}if(/^(\w+)=>/g.test(W)){if($=W.indexOf("=>"),$!==-1){let X=W.slice($+2);if(X.charCodeAt(0)===32)X=X.trimStart();return[W.slice(0,$),X,{isArrowReturn:X.charCodeAt(0)!==123}]}}if(W.startsWith("function")){$=W.indexOf("(");let X=W.indexOf(")");return[W.slice($+1,X),W.slice(X+2),{isArrowReturn:!1}]}let J=W.indexOf("(");if(J!==-1){let X=W.indexOf(`
`,2),Q=W.slice(0,X),M=Q.lastIndexOf(")")+1,H=W.slice(X+1);return[Q.slice(J,M),"{"+H,{isArrowReturn:!1}]}let Y=W.split(`
`,2);return[Y[0],Y[1],{isArrowReturn:!1}]},kI=(W)=>{let $=W.indexOf("{");if($===-1)return[-1,0];let J=$+1,Y=1;for(;J<W.length;J++){let X=W.charCodeAt(J);if(X===123)Y++;else if(X===125)Y--;if(Y===0)break}if(Y!==0)return[0,W.length];return[$,J+1]},gI=(W)=>{let $=W.lastIndexOf("}");if($===-1)return[-1,0];let J=$-1,Y=1;for(;J>=0;J--){let X=W.charCodeAt(J);if(X===125)Y++;else if(X===123)Y--;if(Y===0)break}if(Y!==0)return[-1,0];return[J,$+1]},Dq=(W)=>{while(!0){let $=W.indexOf(":");if($===-1)break;let J=W.indexOf(",",$);if(J===-1)J=W.indexOf("}",$)-1;if(J===-2)J=W.length;W=W.slice(0,$)+W.slice(J)}return W},Zq=(W)=>{let $=!1;if(W.charCodeAt(0)===40)W=W.slice(1,-1);if(W.charCodeAt(0)===123)$=!0,W=W.slice(1,-1);W=W.replace(/( |\t|\n)/g,"").trim();let J=[];while(!0){let[X,Q]=kI(W);if(X===-1)break;if(J.push(W.slice(0,X-1)),W.charCodeAt(Q)===44)Q++;W=W.slice(Q)}if(W=Dq(W),W)J=J.concat(W.split(","));let Y=Object.create(null);for(let X of J){if(X.indexOf(",")===-1){Y[X]=!0;continue}for(let Q of X.split(","))Y[Q.trim()]=!0}return{hasParenthesis:$,parameters:Y}},fI=(W,$)=>{let{parameters:J,hasParenthesis:Y}=Zq(W);if(J.query)$.query=!0;if(J.headers)$.headers=!0;if(J.body)$.body=!0;if(J.cookie)$.cookie=!0;if(J.set)$.set=!0;if(J.server)$.server=!0;if(J.route)$.route=!0;if(J.url)$.url=!0;if(J.path)$.path=!0;if(Y)return`{ ${Object.keys(J).join(", ")} }`;return Object.keys(J).join(", ")},iN=(W,$,J)=>{let Y=new RegExp(`${W.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}[\\n\\t,; ]`);if(J!==void 0)Y.lastIndex=J;let X=Y.exec($);return X?X.index:-1},Sq=(W,$,J=0)=>{if(J>5)return[];let Y=[],X=$;while(!0){let Q=iN(" = "+W,X);if(Q===-1)Q=iN("="+W,X);if(Q===-1){let B=X.indexOf(" = "+W);if(B===-1)B=X.indexOf("="+W);if(B+3+W.length!==X.length)break;Q=B}let M=X.slice(0,Q),H=M.lastIndexOf(" "),G=M.slice(H!==-1?H+1:-1);if(G==="}"){let[B,w]=gI(M);Y.push(Dq(X.slice(B,w))),X=X.slice(Q+3+W.length);continue}while(G.charCodeAt(0)===44)G=G.slice(1);while(G.charCodeAt(0)===9)G=G.slice(1);if(!G.includes("("))Y.push(G);X=X.slice(Q+3+W.length)}for(let Q of Y){if(Q.charCodeAt(0)===123)continue;let M=Sq(Q,$);if(M.length>0)Y.push(...M)}return Y},vI=(W)=>{if(!W)return;if(W.charCodeAt(0)!==123)return W;if(W=W.slice(2,-2),!W.includes(",")){if(W.indexOf("...")!==-1)return W.slice(W.indexOf("...")+3);return}let $=W.indexOf("...");if($===-1)return;return W.slice($+3).trimEnd()},yI=(W,$,J)=>{let Y=(X,Q)=>new RegExp(`${Q}\\.(${X})|${Q}\\["${X}"\\]|${Q}\\['${X}'\\]`).test(W);for(let X of $){if(!X)continue;if(X.charCodeAt(0)===123){let Q=Zq(X).parameters;if(Q.query)J.query=!0;if(Q.headers)J.headers=!0;if(Q.body)J.body=!0;if(Q.cookie)J.cookie=!0;if(Q.set)J.set=!0;if(Q.server)J.server=!0;if(Q.url)J.url=!0;if(Q.route)J.route=!0;if(Q.path)J.path=!0;continue}if(!J.query&&(Y("query",X)||W.includes("return "+X)||W.includes("return "+X+".query")))J.query=!0;if(!J.headers&&Y("headers",X))J.headers=!0;if(!J.body&&Y("body",X))J.body=!0;if(!J.cookie&&Y("cookie",X))J.cookie=!0;if(!J.set&&Y("set",X))J.set=!0;if(!J.server&&Y("server",X))J.server=!0;if(!J.route&&Y("route",X))J.route=!0;if(!J.url&&Y("url",X))J.url=!0;if(!J.path&&Y("path",X))J.path=!0;if(J.query&&J.headers&&J.body&&J.cookie&&J.set&&J.server&&J.route&&J.url&&J.path)break}return $},dI=(W,$,J)=>{try{let Y=new RegExp(`\\w\\((.*?)?${W}`,"gs");Y.test($);let X=$.charCodeAt(Y.lastIndex);if(X===41||X===44)return J.query=!0,J.headers=!0,J.body=!0,J.cookie=!0,J.set=!0,J.server=!0,J.url=!0,J.route=!0,J.path=!0,!0;return!1}catch(Y){return console.log("[Sucrose] warning: unexpected isContextPassToFunction error, you may continue development as usual but please report the following to maintainers:"),console.log("--- body ---"),console.log($),console.log("--- context ---"),console.log(W),!0}},ZY,OY={},nN=(W=0)=>{if(ZY)clearTimeout(ZY);ZY=setTimeout(()=>{if(OY={},ZY=void 0,j7)Bun.gc(!1)},W)},VM=(W,$)=>{return{body:W.body||$.body,cookie:W.cookie||$.cookie,headers:W.headers||$.headers,query:W.query||$.query,set:W.set||$.set,server:W.server||$.server,url:W.url||$.url,route:W.route||$.route,path:W.path||$.path}},S$=(W,$={query:!1,headers:!1,body:!1,cookie:!1,set:!1,server:!1,url:!1,route:!1,path:!1})=>{let J=[];if(W.request?.length)J.push(...W.request);if(W.beforeHandle?.length)J.push(...W.beforeHandle);if(W.parse?.length)J.push(...W.parse);if(W.error?.length)J.push(...W.error);if(W.transform?.length)J.push(...W.transform);if(W.afterHandle?.length)J.push(...W.afterHandle);if(W.mapResponse?.length)J.push(...W.mapResponse);if(W.afterResponse?.length)J.push(...W.afterResponse);if(W.handler&&typeof W.handler==="function")J.push(W.handler);for(let Y=0;Y<J.length;Y++){let X=J[Y];if(!X)continue;let Q=typeof X==="object"?X.fn:X;if(typeof Q!=="function")continue;let M=Q.toString(),H=M$(M),G=OY[H];if(G){$=VM($,G);continue}let B={query:!1,headers:!1,body:!1,cookie:!1,set:!1,server:!1,url:!1,route:!1,path:!1},[w,A]=TI(M),q=fI(w,B),N=vI(q);if(N){let z=Sq(N,A.slice(1,-1));z.splice(0,-1,N);let D=A;if(D.charCodeAt(0)===123&&D.charCodeAt(A.length-1)===125)D=D.slice(1,-1);if(!dI(N,D,B))yI(D,z,B);if(!B.query&&D.includes("return "+N+".query"))B.query=!0}if(!OY[H])OY[H]=B;if($=VM($,B),$.query&&$.headers&&$.body&&$.cookie&&$.set&&$.server&&$.url&&$.route&&$.path)break}return $},Oq=j$(aR(),1),cI=j$(RY(),1);class K6{name;jar;initial;constructor(W,$,J={}){this.name=W,this.jar=$,this.initial=J}get cookie(){return this.jar[this.name]??this.initial}set cookie(W){if(!(this.name in this.jar))this.jar[this.name]=this.initial;this.jar[this.name]=W}get setCookie(){if(!(this.name in this.jar))this.jar[this.name]=this.initial;return this.jar[this.name]}set setCookie(W){this.cookie=W}get value(){return this.cookie.value}set value(W){this.setCookie.value=W}get expires(){return this.cookie.expires}set expires(W){this.setCookie.expires=W}get maxAge(){return this.cookie.maxAge}set maxAge(W){this.setCookie.maxAge=W}get domain(){return this.cookie.domain}set domain(W){this.setCookie.domain=W}get path(){return this.cookie.path}set path(W){this.setCookie.path=W}get secure(){return this.cookie.secure}set secure(W){this.setCookie.secure=W}get httpOnly(){return this.cookie.httpOnly}set httpOnly(W){this.setCookie.httpOnly=W}get sameSite(){return this.cookie.sameSite}set sameSite(W){this.setCookie.sameSite=W}get priority(){return this.cookie.priority}set priority(W){this.setCookie.priority=W}get partitioned(){return this.cookie.partitioned}set partitioned(W){this.setCookie.partitioned=W}get secrets(){return this.cookie.secrets}set secrets(W){this.setCookie.secrets=W}update(W){return this.setCookie=Object.assign(this.cookie,typeof W==="function"?W(this.cookie):W),this}set(W){return this.setCookie=Object.assign({...this.initial,value:this.value},typeof W==="function"?W(this.cookie):W),this}remove(){if(this.value===void 0)return;return this.set({expires:new Date(0),maxAge:0,value:""}),this}toString(){return typeof this.value==="object"?JSON.stringify(this.value):this.value?.toString()??""}}var oN=(W,$,J)=>{if(!W.cookie)W.cookie={};return new Proxy($,{get(Y,X){if(X in $)return new K6(X,W.cookie,Object.assign({},J??{},$[X]));return new K6(X,W.cookie,Object.assign({},J))}})},_q=async(W,$,{secrets:J,sign:Y,...X}={})=>{if(!$)return oN(W,{},X);let Q=typeof J==="string";if(Y&&Y!==!0&&!Array.isArray(Y))Y=[Y];let M={},H=Oq.parse($);for(let[G,B]of Object.entries(H)){if(B===void 0)continue;let w=cI.default(B);if(w){let A=w.charCodeAt(0),q=w.charCodeAt(w.length-1);if(A===123&&q===125||A===91&&q===93)try{w=JSON.parse(w)}catch{}}if(Y===!0||Y?.includes(G)){if(!J)throw Error("No secret is provided to cookie plugin");if(Q){let A=await dN(w,J);if(A===!1)throw new KM(G);w=A}else{let A=!0;for(let q=0;q<J.length;q++){let N=await dN(w,J[q]);if(N!==!1){A=!0,w=N;break}}if(!A)throw new KM(G)}}M[G]={value:w}}return oN(W,M,X)},Lq=(W)=>{if(!W||!z1(W))return;let $=[];for(let[J,Y]of Object.entries(W)){if(!J||!Y)continue;let X=Y.value;if(X===void 0||X===null)continue;$.push(Oq.serialize(J,typeof X==="object"?JSON.stringify(X):X+"",Y))}if($.length===0)return;if($.length===1)return $[0];return $},P1=(W,$)=>{if(!j7&&W instanceof Promise)return W.then((Q)=>P1(Q,$));let J=W.size,Y=$&&($.status===206||$.status===304||$.status===412||$.status===416),X=Y?{"transfer-encoding":"chunked"}:{"accept-ranges":"bytes","content-range":J?`bytes 0-${J-1}/${J}`:void 0,"transfer-encoding":"chunked"};if(!$&&!J)return new Response(W);if(!$)return new Response(W,{headers:X});if($.headers instanceof Headers){for(let Q of Object.keys(X))if(Q in $.headers)$.headers.append(Q,X[Q]);if(Y)$.headers.delete("content-length"),$.headers.delete("accept-ranges");return new Response(W,$)}if(z1($.headers))return new Response(W,{status:$.status,headers:Object.assign(X,$.headers)});return new Response(W,{status:$.status,headers:X})},jq=(W,$)=>{if(!W)return W;W.delete("set-cookie");for(let J=0;J<$.length;J++){let Y=$[J].indexOf("=");W.append("set-cookie",`${$[J].slice(0,Y)}=${$[J].slice(Y+1)||""}`)}return W},sN=(W,$)=>{if($?.headers){if(W){if(jM)Object.assign($.headers,W.headers.toJSON());else for(let[J,Y]of W.headers.entries())if(J in $.headers)$.headers[J]=Y}if($.status===200)$.status=W.status;if($.headers["content-encoding"])delete $.headers["content-encoding"];return $}if(!W)return{headers:{},status:$?.status??200};if(jM){if($={headers:W.headers.toJSON(),status:$?.status??200},$.headers["content-encoding"])delete $.headers["content-encoding"];return $}$={headers:{},status:$?.status??200};for(let[J,Y]of W.headers.entries()){if(J==="content-encoding")continue;if(J in $.headers)$.headers[J]=Y}return $},kM=({mapResponse:W,mapCompactResponse:$})=>async(J,Y,X)=>{let Q=J.next?.();if(Q instanceof Promise)Q=await Q;if(Q?.value instanceof ReadableStream)J=Q.value;else if(Q&&(typeof Q?.done>"u"||Q?.done)){if(Y)return W(Q.value,Y,X);return $(Q.value,X)}let M=Q?.value?.sse??J?.sse??Y?.headers["content-type"]?.startsWith("text/event-stream"),H=M?(B)=>`data: ${B}

`:(B)=>B,G=M?"text/event-stream":Q?.value&&typeof Q?.value==="object"?"application/json":"text/plain";if(Y?.headers){if(!Y.headers["transfer-encoding"])Y.headers["transfer-encoding"]="chunked";if(!Y.headers["content-type"])Y.headers["content-type"]=G;if(!Y.headers["cache-control"])Y.headers["cache-control"]="no-cache"}else Y={status:200,headers:{"content-type":G,"transfer-encoding":"chunked","cache-control":"no-cache",connection:"keep-alive"}};return new Response(new ReadableStream({async start(B){let w=!1;if(X?.signal?.addEventListener("abort",()=>{w=!0;try{B.close()}catch{}}),!Q||Q.value instanceof ReadableStream);else if(Q.value!==void 0&&Q.value!==null)if(Q.value.toSSE)B.enqueue(Q.value.toSSE());else if(typeof Q.value==="object")try{B.enqueue(H(JSON.stringify(Q.value)))}catch{B.enqueue(H(Q.value.toString()))}else B.enqueue(H(Q.value.toString()));try{for await(let A of J){if(w)break;if(A===void 0||A===null)continue;if(A.toSSE)B.enqueue(A.toSSE());else{if(typeof A==="object")try{B.enqueue(H(JSON.stringify(A)))}catch{B.enqueue(H(A.toString()))}else B.enqueue(H(A.toString()));if(!M)await new Promise((q)=>setTimeout(()=>q(),0))}}}catch(A){console.warn(A)}try{B.close()}catch{}}}),Y)};async function*aN(W){let $=W.body;if(!$)return;let J=$.getReader(),Y=new TextDecoder;try{while(!0){let{done:X,value:Q}=await J.read();if(X)break;if(typeof Q==="string")yield Q;else yield Y.decode(Q)}}finally{J.releaseLock()}}var TY=(W)=>{if(typeof W.status==="string")W.status=D$[W.status];if(W.cookie&&z1(W.cookie)){let $=Lq(W.cookie);if($)W.headers["set-cookie"]=$}if(W.headers["set-cookie"]&&Array.isArray(W.headers["set-cookie"]))W.headers=jq(new Headers(W.headers),W.headers["set-cookie"])},Fq=(W)=>{let $=kM(W);return(J,Y,X)=>{let Q=!1;if(Y.headers instanceof Headers)for(let H of Y.headers.keys())if(H==="set-cookie"){if(Q)continue;Q=!0;for(let G of Y.headers.getSetCookie())J.headers.append("set-cookie",G)}else J.headers.append(H,Y.headers?.get(H)??"");else for(let H in Y.headers)J.headers.append(H,Y.headers[H]);let M=Y.status??200;if(J.status!==M&&M!==200&&(J.status<=300||J.status>400))return J.text().then((H)=>{let G=new Response(H,{headers:J.headers,status:Y.status});if(!G.headers.has("content-length")&&G.headers.get("transfer-encoding")==="chunked")return $(aN(G),sN(G,Y),X);return G});if(!J.headers.has("content-length")&&J.headers.get("transfer-encoding")==="chunked")return $(aN(J),sN(J,Y),X);return J}},VY=(W,$={headers:{}})=>{let J=W.path,Y=Bq[J.slice(J.lastIndexOf(".")+1)];if(Y)$.headers["content-type"]=Y;if(W.stats&&$.status!==206&&$.status!==304&&$.status!==412&&$.status!==416)return W.stats.then((X)=>{let Q=X.size;if(Q!==void 0)$.headers["content-range"]=`bytes 0-${Q-1}/${Q}`,$.headers["content-length"]=Q;return P1(W.value,$)});return P1(W.value,$)},o5=(W,$,J)=>{if(z1($.headers)||$.status!==200||$.cookie)switch(TY($),W?.constructor?.name){case"String":return $.headers["content-type"]="text/plain",new Response(W,$);case"Array":case"Object":return $.headers["content-type"]="application/json",new Response(JSON.stringify(W),$);case"ElysiaFile":return VY(W,$);case"File":return P1(W,$);case"Blob":return P1(W,$);case"ElysiaCustomStatusResponse":return $.status=W.code,o5(W.response,$,J);case void 0:if(!W)return new Response("",$);return new Response(JSON.stringify(W),$);case"Response":return bY(W,$,J);case"Error":return X4(W,$);case"Promise":return W.then((Y)=>o5(Y,$,J));case"Function":return o5(W(),$,J);case"Number":case"Boolean":return new Response(W.toString(),$);case"Cookie":if(W instanceof K6)return new Response(W.value,$);return new Response(W?.toString(),$);case"FormData":return new Response(W,$);default:if(W instanceof Response)return bY(W,$,J);if(W instanceof Promise)return W.then((Y)=>o5(Y,$));if(W instanceof Error)return X4(W,$);if(W instanceof N5)return $.status=W.code,o5(W.response,$,J);if(typeof W?.next==="function"||W instanceof ReadableStream)return O$(W,$,J);if(typeof W?.then==="function")return W.then((Y)=>o5(Y,$));if(typeof W?.toResponse==="function")return o5(W.toResponse(),$);if("charCodeAt"in W){let Y=W.charCodeAt(0);if(Y===123||Y===91){if(!$.headers["Content-Type"])$.headers["Content-Type"]="application/json";return new Response(JSON.stringify(W),$)}}return new Response(W,$)}if(typeof W?.next==="function"||W instanceof ReadableStream)return O$(W,$,J);return L6(W,J)},n5=(W,$,J)=>{if(W===void 0||W===null)return;if(z1($.headers)||$.status!==200||$.cookie)switch(TY($),W?.constructor?.name){case"String":return $.headers["content-type"]="text/plain",new Response(W,$);case"Array":case"Object":return $.headers["content-type"]="application/json",new Response(JSON.stringify(W),$);case"ElysiaFile":return VY(W,$);case"File":return P1(W,$);case"Blob":return P1(W,$);case"ElysiaCustomStatusResponse":return $.status=W.code,n5(W.response,$,J);case void 0:if(!W)return;return new Response(JSON.stringify(W),$);case"Response":return bY(W,$,J);case"Promise":return W.then((Y)=>n5(Y,$));case"Error":return X4(W,$);case"Function":return n5(W(),$);case"Number":case"Boolean":return new Response(W.toString(),$);case"FormData":return new Response(W);case"Cookie":if(W instanceof K6)return new Response(W.value,$);return new Response(W?.toString(),$);default:if(W instanceof Response)return bY(W,$,J);if(W instanceof Promise)return W.then((Y)=>n5(Y,$));if(W instanceof Error)return X4(W,$);if(W instanceof N5)return $.status=W.code,n5(W.response,$,J);if(typeof W?.next==="function"||W instanceof ReadableStream)return O$(W,$,J);if(typeof W?.then==="function")return W.then((Y)=>n5(Y,$));if(typeof W?.toResponse==="function")return n5(W.toResponse(),$);if("charCodeAt"in W){let Y=W.charCodeAt(0);if(Y===123||Y===91){if(!$.headers["Content-Type"])$.headers["Content-Type"]="application/json";return new Response(JSON.stringify(W),$)}}return new Response(W,$)}else switch(W?.constructor?.name){case"String":return $.headers["content-type"]="text/plain",new Response(W);case"Array":case"Object":return $.headers["content-type"]="application/json",new Response(JSON.stringify(W),$);case"ElysiaFile":return VY(W,$);case"File":return P1(W,$);case"Blob":return P1(W,$);case"ElysiaCustomStatusResponse":return $.status=W.code,n5(W.response,$,J);case void 0:if(!W)return new Response("");return new Response(JSON.stringify(W),{headers:{"content-type":"application/json"}});case"Response":return W;case"Promise":return W.then((Y)=>{let X=n5(Y,$);if(X!==void 0)return X});case"Error":return X4(W,$);case"Function":return L6(W(),J);case"Number":case"Boolean":return new Response(W.toString());case"Cookie":if(W instanceof K6)return new Response(W.value,$);return new Response(W?.toString(),$);case"FormData":return new Response(W);default:if(W instanceof Response)return W;if(W instanceof Promise)return W.then((Y)=>n5(Y,$));if(W instanceof Error)return X4(W,$);if(W instanceof N5)return $.status=W.code,n5(W.response,$,J);if(typeof W?.next==="function"||W instanceof ReadableStream)return O$(W,$,J);if(typeof W?.then==="function")return W.then((Y)=>n5(Y,$));if(typeof W?.toResponse==="function")return n5(W.toResponse(),$);if("charCodeAt"in W){let Y=W.charCodeAt(0);if(Y===123||Y===91){if(!$.headers["Content-Type"])$.headers["Content-Type"]="application/json";return new Response(JSON.stringify(W),$)}}return new Response(W)}},L6=(W,$)=>{switch(W?.constructor?.name){case"String":return new Response(W,{headers:{"Content-Type":"text/plain"}});case"Object":case"Array":return new Response(JSON.stringify(W),{headers:{"Content-Type":"application/json"}});case"ElysiaFile":return VY(W);case"File":return P1(W);case"Blob":return P1(W);case"ElysiaCustomStatusResponse":return o5(W.response,{status:W.code,headers:{}});case void 0:if(!W)return new Response("");return new Response(JSON.stringify(W),{headers:{"content-type":"application/json"}});case"Response":return W;case"Error":return X4(W);case"Promise":return W.then((J)=>L6(J,$));case"Function":return L6(W(),$);case"Number":case"Boolean":return new Response(W.toString());case"FormData":return new Response(W);default:if(W instanceof Response)return W;if(W instanceof Promise)return W.then((J)=>L6(J,$));if(W instanceof Error)return X4(W);if(W instanceof N5)return o5(W.response,{status:W.code,headers:{}});if(typeof W?.next==="function"||W instanceof ReadableStream)return O$(W,void 0,$);if(typeof W?.then==="function")return W.then((J)=>o5(J,set));if(typeof W?.toResponse==="function")return L6(W.toResponse());if("charCodeAt"in W){let J=W.charCodeAt(0);if(J===123||J===91)return new Response(JSON.stringify(W),{headers:{"Content-Type":"application/json"}})}return new Response(W)}},X4=(W,$)=>new Response(JSON.stringify({name:W?.name,message:W?.message,cause:W?.cause}),{status:$?.status!==200?$?.status??500:500,headers:$?.headers}),hI=(W,$,J={})=>{if(typeof W==="function")return;let Y=o5(W,{headers:J});if(!$.parse?.length&&!$.transform?.length&&!$.beforeHandle?.length&&!$.afterHandle?.length)return()=>Y.clone()},bY=Fq({mapResponse:o5,mapCompactResponse:L6}),O$=kM({mapResponse:o5,mapCompactResponse:L6}),bM={name:"web-standard",isWebStandard:!0,handler:{mapResponse:o5,mapEarlyResponse:n5,mapCompactResponse:L6,createStaticHandler:hI},composeHandler:{mapResponseContext:"c.request",preferWebstandardHeaders:!0,headers:`c.headers={}
for(const [k,v] of c.request.headers.entries())c.headers[k]=v
`,parser:{json(W){if(W)return`try{c.body=await c.request.json()}catch{}
`;return`c.body=await c.request.json()
`},text(){return`c.body=await c.request.text()
`},urlencoded(){return`c.body=parseQuery(await c.request.text())
`},arrayBuffer(){return`c.body=await c.request.arrayBuffer()
`},formData(W){let $=`
c.body={}
`;if(W)$+="let form;try{form=await c.request.formData()}catch{}";else $+=`const form=await c.request.formData()
`;return $+`for(const key of form.keys()){if(c.body[key]) continue
const value=form.getAll(key)
if(value.length===1)c.body[key]=value[0]
else c.body[key]=value}`}}},async stop(W,$){if(!W.server)throw Error("Elysia isn't running. Call `app.listen` to start the server.");if(W.server){if(W.server.stop($),W.server=null,W.event.stop?.length)for(let J=0;J<W.event.stop.length;J++)W.event.stop[J].fn(W)}},composeGeneralHandler:{parameters:"r",createContext(W){let $="",J="",Y=W.setHeaders;for(let M of Object.keys(W.decorator))$+=`,'${M}':decorator['${M}']`;let X=W.config.handler?.standardHostname??!0,Q=!!W.event.trace?.length;if(J+=`const u=r.url,s=u.indexOf('/',${X?11:7}),qi=u.indexOf('?',s+1)
let p
if(qi===-1)p=u.substring(s)
else p=u.substring(s, qi)
`,Q)J+=`const id=randomId()
`;if(J+="const c={request:r,store,qi,path:p,url:u,redirect,status,set:{headers:",J+=Object.keys(Y??{}).length?"Object.assign({},app.setHeaders)":"Object.create(null)",J+=",status:200}",W.inference.server)J+=",get server(){return app.getServer()}";if(Q)J+=",[ELYSIA_REQUEST_ID]:id";return J+=$,J+=`}
`,J},error404(W,$,J=""){let Y="if(route===null){"+J+`
return `;if($)Y+=`app.handleError(c,notFound,false,${this.parameters})`;else Y+=W?"new Response(error404Message,{status:c.set.status===200?404:c.set.status,headers:c.set.headers})":"error404.clone()";return Y+="}",{declare:$?"":`const error404Message=notFound.message.toString()
const error404=new Response(error404Message,{status:404})
`,code:Y}}},composeError:{mapResponseContext:"",validationError:"return new Response(error.message,{headers:Object.assign({'content-type':'application/json'},set.headers),status:set.status})",unknownError:"return new Response(error.message,{headers:set.headers,status:error.status??set.status??500})"},listen(){return()=>{throw Error("WebStandard does not support listen, you might want to export default Elysia.fetch instead")}}},g5=(W,$,J)=>{if(z1($.headers)||$.status!==200||$.cookie)switch(TY($),W?.constructor?.name){case"String":return new Response(W,$);case"Array":case"Object":return $.headers["content-type"]="application/json",new Response(JSON.stringify(W),$);case"ElysiaFile":return P1(W.value);case"File":return P1(W,$);case"Blob":return P1(W,$);case"ElysiaCustomStatusResponse":return $.status=W.code,g5(W.response,$,J);case void 0:if(!W)return new Response("",$);return new Response(JSON.stringify(W),$);case"Response":return EY(W,$,J);case"Error":return Q4(W,$);case"Promise":return W.then((Y)=>g5(Y,$,J));case"Function":return g5(W(),$,J);case"Number":case"Boolean":return new Response(W.toString(),$);case"Cookie":if(W instanceof K6)return new Response(W.value,$);return new Response(W?.toString(),$);case"FormData":return new Response(W,$);default:if(W instanceof Response)return EY(W,$,J);if(W instanceof Promise)return W.then((Y)=>g5(Y,$));if(W instanceof Error)return Q4(W,$);if(W instanceof N5)return $.status=W.code,g5(W.response,$,J);if(typeof W?.next==="function"||W instanceof ReadableStream)return _$(W,$,J);if(typeof W?.then==="function")return W.then((Y)=>g5(Y,$));if(typeof W?.toResponse==="function")return g5(W.toResponse(),$);if("charCodeAt"in W){let Y=W.charCodeAt(0);if(Y===123||Y===91){if(!$.headers["Content-Type"])$.headers["Content-Type"]="application/json";return new Response(JSON.stringify(W),$)}}return new Response(W,$)}if(typeof W?.next==="function"||W instanceof ReadableStream)return _$(W,$,J);return j6(W,J)},k5=(W,$,J)=>{if(W===void 0||W===null)return;if(z1($.headers)||$.status!==200||$.cookie)switch(TY($),W?.constructor?.name){case"String":return new Response(W,$);case"Array":case"Object":return $.headers["content-type"]="application/json",new Response(JSON.stringify(W),$);case"ElysiaFile":return P1(W.value);case"File":return P1(W,$);case"Blob":return P1(W,$);case"ElysiaCustomStatusResponse":return $.status=W.code,k5(W.response,$,J);case void 0:if(!W)return;return new Response(JSON.stringify(W),$);case"Response":return EY(W,$,J);case"Promise":return W.then((Y)=>k5(Y,$));case"Error":return Q4(W,$);case"Function":return k5(W(),$);case"Number":case"Boolean":return new Response(W.toString(),$);case"FormData":return new Response(W);case"Cookie":if(W instanceof K6)return new Response(W.value,$);return new Response(W?.toString(),$);default:if(W instanceof Response)return EY(W,$,J);if(W instanceof Promise)return W.then((Y)=>k5(Y,$));if(W instanceof Error)return Q4(W,$);if(W instanceof N5)return $.status=W.code,k5(W.response,$,J);if(typeof W?.next==="function"||W instanceof ReadableStream)return _$(W,$,J);if(typeof W?.then==="function")return W.then((Y)=>k5(Y,$));if(typeof W?.toResponse==="function")return k5(W.toResponse(),$);if("charCodeAt"in W){let Y=W.charCodeAt(0);if(Y===123||Y===91){if(!$.headers["Content-Type"])$.headers["Content-Type"]="application/json";return new Response(JSON.stringify(W),$)}}return new Response(W,$)}else switch(W?.constructor?.name){case"String":return new Response(W);case"Array":case"Object":return $.headers["content-type"]="application/json",new Response(JSON.stringify(W),$);case"ElysiaFile":return P1(W.value);case"File":return P1(W,$);case"Blob":return P1(W,$);case"ElysiaCustomStatusResponse":return $.status=W.code,k5(W.response,$,J);case void 0:if(!W)return new Response("");return new Response(JSON.stringify(W),{headers:{"content-type":"application/json"}});case"Response":return W;case"Promise":return W.then((Y)=>{let X=k5(Y,$);if(X!==void 0)return X});case"Error":return Q4(W,$);case"Function":return j6(W(),J);case"Number":case"Boolean":return new Response(W.toString());case"Cookie":if(W instanceof K6)return new Response(W.value,$);return new Response(W?.toString(),$);case"FormData":return new Response(W);default:if(W instanceof Response)return W;if(W instanceof Promise)return W.then((Y)=>k5(Y,$));if(W instanceof Error)return Q4(W,$);if(W instanceof N5)return $.status=W.code,k5(W.response,$,J);if(typeof W?.next==="function"||W instanceof ReadableStream)return _$(W,$,J);if(typeof W?.then==="function")return W.then((Y)=>k5(Y,$));if(typeof W?.toResponse==="function")return k5(W.toResponse(),$);if("charCodeAt"in W){let Y=W.charCodeAt(0);if(Y===123||Y===91){if(!$.headers["Content-Type"])$.headers["Content-Type"]="application/json";return new Response(JSON.stringify(W),$)}}return new Response(W)}},j6=(W,$)=>{switch(W?.constructor?.name){case"String":return new Response(W);case"Object":case"Array":return new Response(JSON.stringify(W),{headers:{"Content-Type":"application/json"}});case"ElysiaFile":return P1(W.value);case"File":return P1(W);case"Blob":return P1(W);case"ElysiaCustomStatusResponse":return g5(W.response,{status:W.code,headers:{}});case void 0:if(!W)return new Response("");return new Response(JSON.stringify(W),{headers:{"content-type":"application/json"}});case"Response":return W;case"Error":return Q4(W);case"Promise":return W.then((J)=>j6(J,$));case"Function":return j6(W(),$);case"Number":case"Boolean":return new Response(W.toString());case"FormData":return new Response(W);default:if(W instanceof Response)return W;if(W instanceof Promise)return W.then((J)=>j6(J,$));if(W instanceof Error)return Q4(W);if(W instanceof N5)return g5(W.response,{status:W.code,headers:{}});if(typeof W?.next==="function"||W instanceof ReadableStream)return _$(W,void 0,$);if(typeof W?.then==="function")return W.then((J)=>g5(J,set));if(typeof W?.toResponse==="function")return j6(W.toResponse());if("charCodeAt"in W){let J=W.charCodeAt(0);if(J===123||J===91)return new Response(JSON.stringify(W),{headers:{"Content-Type":"application/json"}})}return new Response(W)}},Q4=(W,$)=>new Response(JSON.stringify({name:W?.name,message:W?.message,cause:W?.cause}),{status:$?.status!==200?$?.status??500:500,headers:$?.headers}),mI=(W,$,J={})=>{if(typeof W==="function")return;let Y=g5(W,{headers:J});if(!$.parse?.length&&!$.transform?.length&&!$.beforeHandle?.length&&!$.afterHandle?.length)return()=>Y.clone()},EY=Fq({mapResponse:g5,mapCompactResponse:j6}),_$=kM({mapResponse:g5,mapCompactResponse:j6}),uI=j$(RY(),1),F7=j$(RY(),1),K7=1,C7=2,V7=4,F6=8;function Kq(W,$=0,J,Y){let X=Object.create(null),Q=0,M=W.length,H=$-1,G=H;for(let w=0;w<M;w++)switch(W.charCodeAt(w)){case 38:B(W,w),H=w,G=w,Q=0;break;case 61:if(G<=H)G=w;else Q|=F6;break;case 43:if(G>H)Q|=V7;else Q|=K7;break;case 37:if(G>H)Q|=F6;else Q|=C7;break}if(H<M)B(W,M);return X;function B(w,A){let q=G>H,N=q?G:A,z=w.slice(H+1,N);if(!q&&z.length===0)return;let D=z;if(Q&K7)D=D.replace(/\+/g," ");if(Q&C7)D=F7.default(D)||D;let _="";if(q){let S=w.slice(G+1,A);if(Q&V7)S=S.replace(/\+/g," ");if(Q&F6)S=F7.default(S)||S;_=S}let L=X[D];if(J?.[D])if(_.charCodeAt(0)===91){if(Y?.[D])_=JSON.parse(_);else _=_.slice(1,-1).split(",");if(L===void 0)X[D]=_;else if(Array.isArray(L))L.push(..._);else X[D]=_,X[D].unshift(L)}else if(L===void 0)X[D]=_;else if(Array.isArray(L))L.push(_);else X[D]=[L,_];else X[D]=_}}function lI(W,$=0){let J=Object.create(null),Y=0,X=W.length,Q=$-1,M=Q;for(let G=0;G<X;G++)switch(W.charCodeAt(G)){case 38:H(W,G),Q=G,M=G,Y=0;break;case 61:if(M<=Q)M=G;else Y|=F6;break;case 43:if(M>Q)Y|=V7;else Y|=K7;break;case 37:if(M>Q)Y|=F6;else Y|=C7;break}if(Q<X)H(W,X);return J;function H(G,B){let w=M>Q,A=w?M:B,q=G.slice(Q+1,A);if(!w&&q.length===0)return;let N=q;if(Y&K7)N=N.replace(/\+/g," ");if(Y&C7)N=F7.default(N)||N;let z="";if(w){let _=G.slice(M+1,B);if(Y&V7)_=_.replace(/\+/g," ");if(Y&F6)_=F7.default(_)||_;z=_}let D=J[N];if(z.charCodeAt(0)===91&&z.charCodeAt(z.length-1)===93){try{z=JSON.parse(z)}catch{}if(D===void 0)J[N]=z;else if(Array.isArray(D))D.push(z);else J[N]=[D,z]}else if(z.charCodeAt(0)===123&&z.charCodeAt(z.length-1)===125){try{z=JSON.parse(z)}catch{}if(D===void 0)J[N]=z;else if(Array.isArray(D))D.push(z);else J[N]=[D,z]}else{if(z.includes(","))z=z.split(",");if(D===void 0)J[N]=z;else if(Array.isArray(D))D.push(z);else J[N]=[D,z]}}}function _7(W){let $=Object.create(null),J=0,Y=W.length,X=-1,Q=-1;for(let H=0;H<Y;H++)switch(W.charCodeAt(H)){case 38:M(W,H),X=H,Q=H,J=0;break;case 61:if(Q<=X)Q=H;else J|=F6;break;case 43:if(Q>X)J|=V7;else J|=K7;break;case 37:if(Q>X)J|=F6;else J|=C7;break}if(X<Y)M(W,Y);return $;function M(H,G){let B=Q>X,w=B?Q:G,A=H.slice(X+1,w);if(!B&&A.length===0)return;let q=A;if(J&K7)q=q.replace(/\+/g," ");if(J&C7)q=F7.default(q)||q;let N="";if(B){let D=H.slice(Q+1,G);if(J&V7)D=D.replace(/\+/g," ");if(J&F6)D=F7.default(D)||D;N=D}let z=$[q];if(z===void 0)$[q]=N;else if(Array.isArray(z))z.push(N);else $[q]=[z,N]}}var kY=Symbol("ElysiaTrace"),S6=()=>{let{promise:W,resolve:$}=Promise.withResolvers(),{promise:J,resolve:Y}=Promise.withResolvers(),{promise:X,resolve:Q}=Promise.withResolvers(),M=[],H=[];return[(G)=>{if(G)M.push(G);return W},(G)=>{let B=[],w=[],A=null;for(let N=0;N<(G.total??0);N++){let{promise:z,resolve:D}=Promise.withResolvers(),{promise:_,resolve:L}=Promise.withResolvers(),{promise:S,resolve:P}=Promise.withResolvers(),c=[],e=[];B.push((I)=>{if(I)c.push(I);return z}),w.push((I)=>{let V={...I,end:_,error:S,index:N,onStop(x){if(x)e.push(x);return _}};D(V);for(let x=0;x<c.length;x++)c[x](V);return(x=null)=>{let C=performance.now();if(x)A=x;let k={end:C,error:x,get elapsed(){return C-I.begin}};for(let b=0;b<e.length;b++)e[b](k);L(C),P(x)}})}let q={...G,end:J,error:X,onEvent(N){for(let z=0;z<B.length;z++)B[z](N)},onStop(N){if(N)H.push(N);return J}};$(q);for(let N=0;N<M.length;N++)M[N](q);return{resolveChild:w,resolve(N=null){let z=performance.now();if(!N&&A)N=A;let D={end:z,error:N,get elapsed(){return z-G.begin}};for(let _=0;_<H.length;_++)H[_](D);Y(z),Q(N)}}}]},pI=(W)=>{return($)=>{let[J,Y]=S6(),[X,Q]=S6(),[M,H]=S6(),[G,B]=S6(),[w,A]=S6(),[q,N]=S6(),[z,D]=S6(),[_,L]=S6(),[S,P]=S6();return W({id:$[F$],context:$,set:$.set,onRequest:J,onParse:X,onTransform:M,onBeforeHandle:G,onHandle:w,onAfterHandle:q,onMapResponse:_,onAfterResponse:S,onError:z,time:Date.now(),store:$.store}),{request:Y,parse:Q,transform:H,beforeHandle:B,handle:A,afterHandle:N,error:D,mapResponse:L,afterResponse:P}}},s5=Symbol.for("TypeBox.Kind"),iI=Symbol.for("TypeBox.Hint"),Cq=(W)=>/(\ |-|\t|\n|\.)/.test(W)||!isNaN(+W[0]),Vq=(W,$,J=!1)=>{if(typeof $==="number")return`${W}[${$}]`;if(Cq($))return`${W}${J?"?.":""}["${$}"]`;return`${W}${J?"?":""}.${$}`},nI=(W)=>Cq(W)?`"${W}"`:W,rN=(W,$=0,J)=>{if(J.type!=="string"||J.const||J.trusted)return W;let Y="";for(let X=$-1;X>=0;X--)Y+=`d.h${X}(`;return Y+W+")".repeat($)},bq=(W)=>{if(!W.allOf||s5 in W&&(W[s5]!=="Intersect"||W.type!=="object"))return W;let{allOf:$,...J}=W;if(J.properties={},s5 in J)J[s5]="Object";for(let Y of $){if(Y.type!=="object")continue;let{properties:X,required:Q,type:M,[s5]:H,...G}=Y;if(Q)J.required=J.required?J.required.concat(Q):Q;Object.assign(J,G);for(let B in Y.properties)J.properties[B]=bq(Y.properties[B])}return J},oI=(W,$,J)=>{let Y=W.patternProperties["^(.*)$"]??W.patternProperties[Object.keys(W.patternProperties)[0]];if(!Y)return $;let X=J.array;J.array++;let Q=`(()=>{const ar${X}s=Object.keys(${$}),ar${X}v={};for(let i=0;i<ar${X}s.length;i++){const ar${X}p=${$}[ar${X}s[i]];ar${X}v[ar${X}s[i]]=${O6(Y,`ar${X}p`,J)}`,M=J.optionalsInArray[X+1];if(M)for(let H=0;H<M.length;H++){let G=`ar${X}v[ar${X}s[i]].${M[H]}`;Q+=`;if(${G}===undefined)delete ${G}`}return Q+=`}return ar${X}v})()`,Q},sI=(W,$,J)=>{let Y=J.array;J.array++;let X=$==="v"&&!J.unions.length,Q="";if(!X)Q="(()=>{";Q+=`const ar${Y}v=[`;for(let M=0;M<W.length;M++){if(M!==0)Q+=",";Q+=O6(W[M],Vq($,M,J.parentIsOptional),J)}if(Q+="];",!X)Q+=`return ar${Y}v})()`;return Q};function PY(W,$=new WeakMap){if(W===null||typeof W!=="object"||typeof W==="function")return W;if($.has(W))return $.get(W);if(Array.isArray(W)){let J=Array(W.length);$.set(W,J);for(let Y=0;Y<W.length;Y++)J[Y]=PY(W[Y],$);return J}if(typeof W==="object"){let J=Object.keys(W).concat(Object.getOwnPropertySymbols(W)),Y={};for(let X of J)Y[X]=PY(W[X],$);return Y}return W}var aI=(W,$,J)=>{if(J.TypeCompiler===void 0){if(!J.typeCompilerWanred)console.warn(Error("[exact-mirror] TypeBox's TypeCompiler is required to use Union")),J.typeCompilerWanred=!0;return $}J.unionKeys[$]=1;let Y=J.unions.length,X=J.unions[Y]=[],Q=`(()=>{
`,M=(H)=>{if(!(s5 in H)||!H.$ref)return H;if(H[s5]==="This")return PY(J.definitions[H.$ref]);else if(H[s5]==="Ref")if(!J.modules)console.warn(Error("[exact-mirror] modules is required when using nested cyclic reference"));else return J.modules.Import(H.$ref);return H};for(let H=0;H<W.length;H++){let G=M(W[H]);if(Array.isArray(G.anyOf))for(let B=0;B<G.anyOf.length;B++)G.anyOf[B]=M(G.anyOf[B]);else if(G.items)if(Array.isArray(G.items))for(let B=0;B<G.items.length;B++)G.items[B]=M(G.items[B]);else G.items=M(G.items);X.push(A8.Compile(G)),Q+=`if(d.unions[${Y}][${H}].Check(${$})){return ${O6(G,$,{...J,recursion:J.recursion+1,parentIsOptional:!0})}}
`}return Q+=`return ${J.removeUnknownUnionType?"undefined":$}})()`,Q},O6=(W,$,J)=>{if(!W)return"";let Y=$==="v"&&!J.unions.length;if(s5 in W&&W[s5]==="Import"&&W.$ref in W.$defs)return O6(W.$defs[W.$ref],$,{...J,definitions:Object.assign(J.definitions,W.$defs)});if(Y&&W.type!=="object"&&W.type!=="array"&&!W.anyOf)return`return ${rN("v",J.sanitize?.length,W)}`;if(J.recursion>=J.recursionLimit)return $;let X="";if(W.$id&&iI in W)J.definitions[W.$id]=W;switch(W.type){case"object":if(W[s5]==="Record"){X=oI(W,$,J);break}if(W=bq(W),X+="{",W.additionalProperties)X+=`...${$},`;let Q=Object.keys(W.properties);for(let B=0;B<Q.length;B++){let w=Q[B],A=!W.required||W.required&&!W.required.includes(w)||Array.isArray(W.properties[w].anyOf),q=Vq($,w,J.parentIsOptional);if(A){let z=J.array;if($.startsWith("ar")){let D=q.slice(q.indexOf(".")+1),_=J.optionalsInArray;if(_[z])_[z].push(D);else _[z]=[D]}else J.optionals.push(q)}let N=W.properties[w];if(B!==0)X+=",";X+=`${nI(w)}:${A?`${q}===undefined?undefined:`:""}${O6(N,q,{...J,recursion:J.recursion+1,parentIsOptional:A})}`}X+="}";break;case"array":if(W.items.type!=="object"&&W.items.type!=="array")if(Array.isArray(W.items)){X=sI(W.items,$,J);break}else if(Y)return"return v";else if(s5 in W.items&&W.items.$ref&&(W.items[s5]==="Ref"||W.items[s5]==="This"))X=O6(PY(J.definitions[W.items.$ref]),$,{...J,parentIsOptional:!0,recursion:J.recursion+1});else{X=$;break}let M=J.array;J.array++;let H=$;if(Y)X=`const ar${M}v=new Array(${$}.length);`;else H=`ar${M}s`,X=`((${H})=>{const ar${M}v=new Array(${H}.length);`;X+=`for(let i=0;i<${H}.length;i++){const ar${M}p=${H}[i];ar${M}v[i]=${O6(W.items,`ar${M}p`,J)}`;let G=J.optionalsInArray[M+1];if(G)for(let B=0;B<G.length;B++){let w=`ar${M}v[i].${G[B]}`;X+=`;if(${w}===undefined)delete ${w}`}if(X+="}",!Y)X+=`return ar${M}v})(${$})`;break;default:if(W.$ref&&W.$ref in J.definitions)return O6(J.definitions[W.$ref],$,J);if(Array.isArray(W.anyOf)){X=aI(W.anyOf,$,J);break}X=rN($,J.sanitize?.length,W);break}if(!Y)return X;if(W.type==="array")X=`${X}const x=ar0v;`;else X=`const x=${X}
`;for(let Q=0;Q<J.optionals.length;Q++){let M=J.optionals[Q],H=M.slice(1);if(X+=`if(${M}===undefined`,J.unionKeys[M])X+=`||x${H}===undefined`;let G=H.charCodeAt(0)!==63&&W.type!=="array";X+=`)delete x${G?H.charCodeAt(0)===91?"?.":"?":""}${H}
`}return`${X}return x`},AM=(W,{TypeCompiler:$,modules:J,definitions:Y,sanitize:X,recursionLimit:Q=8,removeUnknownUnionType:M=!1}={})=>{let H=[];if(typeof X==="function")X=[X];let G=O6(W,"v",{optionals:[],optionalsInArray:[],array:0,parentIsOptional:!1,unions:H,unionKeys:{},TypeCompiler:$,modules:J,definitions:Y??J?.$defs??{},sanitize:X,recursion:0,recursionLimit:Q,removeUnknownUnionType:M});if(!H.length&&!X?.length)return Function("v",G);let B;if(X?.length){B={};for(let w=0;w<X.length;w++)B[`h${w}`]=X[w]}return Function("d",`return function mirror(v){${G}}`)({unions:H,...B})},EM=(W)=>{if(!W)return!1;if(W?.[K]==="Import"&&W.References)return W.References().some(EM);if(W.schema)W=W.schema;return!!W&&n1 in W},g8=(W)=>{if(!W)return!1;let $=W?.schema??W;if($[K]==="Import"&&W.References)return W.References().some(g8);if($.anyOf)return $.anyOf.some(g8);if($.someOf)return $.someOf.some(g8);if($.allOf)return $.allOf.some(g8);if($.not)return $.not.some(g8);if($.type==="object"){let J=$.properties;if("additionalProperties"in $)return $.additionalProperties;if("patternProperties"in $)return!1;for(let Y of Object.keys(J)){let X=J[Y];if(X.type==="object"){if(g8(X))return!0}else if(X.anyOf){for(let Q=0;Q<X.anyOf.length;Q++)if(g8(X.anyOf[Q]))return!0}return X.additionalProperties}return!1}if($.type==="array"&&$.items&&!Array.isArray($.items))return g8($.items);return!1},J4=(W,$)=>{if(!$)return!1;if(K in $&&$[K]===W)return!0;if($.type==="object"){let J=$.properties;if(!J)return!1;for(let Y of Object.keys(J)){let X=J[Y];if(X.type==="object"){if(J4(W,X))return!0}else if(X.anyOf){for(let Q=0;Q<X.anyOf.length;Q++)if(J4(W,X.anyOf[Q]))return!0}if(K in X&&X[K]===W)return!0}return!1}return!!$.properties&&K in $.properties&&$.properties[K]===W},f8=(W,$)=>{if(!$)return!1;let J=$?.schema??$;if(J.elysiaMeta===W)return!0;if(J[K]==="Import"&&$.References)return $.References().some((Y)=>f8(W,Y));if(J.anyOf)return J.anyOf.some((Y)=>f8(W,Y));if(J.someOf)return J.someOf.some((Y)=>f8(W,Y));if(J.allOf)return J.allOf.some((Y)=>f8(W,Y));if(J.not)return J.not.some((Y)=>f8(W,Y));if(J.type==="object"){let Y=J.properties;for(let X of Object.keys(Y)){let Q=Y[X];if(Q.type==="object"){if(f8(W,Q))return!0}else if(Q.anyOf){for(let M=0;M<Q.anyOf.length;M++)if(f8(W,Q.anyOf[M]))return!0}return J.elysiaMeta===W}return!1}if(J.type==="array"&&J.items&&!Array.isArray(J.items))return f8(W,J.items);return!1},N$=(W,$)=>{if(!$)return;let J=$.schema??$;if(J[K]==="Import"&&$.References)return $.References().some((Y)=>N$(W,Y));if(J.type==="object"){let Y=J.properties;if(!Y)return!1;for(let X of Object.keys(Y)){let Q=Y[X];if(W in Q)return!0;if(Q.type==="object"){if(N$(W,Q))return!0}else if(Q.anyOf){for(let M=0;M<Q.anyOf.length;M++)if(N$(W,Q.anyOf[M]))return!0}}return!1}return W in J},D8=(W)=>{if(!W)return!1;if(W.oneOf){for(let $=0;$<W.oneOf.length;$++)if(D8(W.oneOf[$]))return!0}if(W.anyOf){for(let $=0;$<W.anyOf.length;$++)if(D8(W.anyOf[$]))return!0}if(W.oneOf){for(let $=0;$<W.oneOf.length;$++)if(D8(W.oneOf[$]))return!0}if(W.allOf){for(let $=0;$<W.allOf.length;$++)if(D8(W.allOf[$]))return!0}if(W.not&&D8(W.not))return!0;if(W.type==="object"&&W.properties){let $=W.properties;for(let J of Object.keys($)){let Y=$[J];if(D8(Y))return!0;if(Y.type==="array"&&Y.items&&D8(Y.items))return!0}}if(W.type==="array"&&W.items&&D8(W.items))return!0;return W[K]==="Ref"&&"$ref"in W},Z8=(W)=>{if(!W)return!1;if(W.$ref&&W.$defs&&W.$ref in W.$defs&&Z8(W.$defs[W.$ref]))return!0;if(W.oneOf){for(let $=0;$<W.oneOf.length;$++)if(Z8(W.oneOf[$]))return!0}if(W.anyOf){for(let $=0;$<W.anyOf.length;$++)if(Z8(W.anyOf[$]))return!0}if(W.allOf){for(let $=0;$<W.allOf.length;$++)if(Z8(W.allOf[$]))return!0}if(W.not&&Z8(W.not))return!0;if(W.type==="object"&&W.properties){let $=W.properties;for(let J of Object.keys($)){let Y=$[J];if(Z8(Y))return!0;if(Y.type==="array"&&Y.items&&Z8(Y.items))return!0}}if(W.type==="array"&&W.items&&Z8(W.items))return!0;return t0 in W},q$=(W,$,J={})=>{let Y=J;if(Y.root=!0,!Array.isArray($))return $.original=W,a1(W,$,Y);for(let X of $)X.original=W,W=a1(W,X,Y);return W},a1=(W,$,J)=>{if(!W)return W;let Y=J.root;if($.onlyFirst&&W.type===$.onlyFirst)return $.to(W)??W;if($.untilObjectFound&&!Y&&W.type==="object")return W;let X=$.from[K];if(W.oneOf){for(let H=0;H<W.oneOf.length;H++)W.oneOf[H]=a1(W.oneOf[H],$,J);return W}if(W.anyOf){for(let H=0;H<W.anyOf.length;H++)W.anyOf[H]=a1(W.anyOf[H],$,J);return W}if(W.allOf){for(let H=0;H<W.allOf.length;H++)W.allOf[H]=a1(W.allOf[H],$,J);return W}if(W.not)return a1(W.not,$,J);let Q=Y&&!!$.excludeRoot;if(W[K]===X){let{anyOf:H,oneOf:G,allOf:B,not:w,properties:A,items:q,...N}=W,z=$.to(N);if(!z)return W;let D,_=(S)=>{let P=L(S);if(P.$id)delete P.$id;return P},L=(S)=>{if(A&&S.type==="object"){let c={};for(let[e,I]of Object.entries(A))c[e]=a1(I,$,{...J,root:!1});return{...N,...S,properties:c}}if(q&&S.type==="array")return{...N,...S,items:a1(q,$,{...J,root:!1})};let P={...N,...S};if(delete P.required,A&&S.type==="string"&&S.format==="ObjectString"&&S.default==="{}")D=U.ObjectString(A,N),P.properties=A;else if(q&&S.type==="string"&&S.format==="ArrayString"&&S.default==="[]")D=U.ArrayString(q,N),P.items=q;return P};if(Q){if(A){let S={};for(let[P,c]of Object.entries(A))S[P]=a1(c,$,{...J,root:!1});return{...N,properties:S}}else if(q?.map)return{...N,items:q.map((S)=>a1(S,$,{...J,root:!1}))};return N}if(z.anyOf)for(let S=0;S<z.anyOf.length;S++)z.anyOf[S]=_(z.anyOf[S]);else if(z.oneOf)for(let S=0;S<z.oneOf.length;S++)z.oneOf[S]=_(z.oneOf[S]);else if(z.allOf)for(let S=0;S<z.allOf.length;S++)z.allOf[S]=_(z.allOf[S]);else if(z.not)z.not=_(z.not);if(D)z[t0]=D[t0];if(z.anyOf||z.oneOf||z.allOf||z.not)return z;if(A){let S={};for(let[P,c]of Object.entries(A))S[P]=a1(c,$,{...J,root:!1});return{...N,...z,properties:S}}else if(q?.map)return{...N,...z,items:q.map((S)=>a1(S,$,{...J,root:!1}))};return{...N,...z}}let M=W?.properties;if(M&&Y&&$.rootOnly!==!0)for(let[H,G]of Object.entries(M))switch(G[K]){case X:let{anyOf:B,oneOf:w,allOf:A,not:q,type:N,...z}=G,D=$.to(z);if(!D)return W;if(D.anyOf)for(let _=0;_<D.anyOf.length;_++)D.anyOf[_]={...z,...D.anyOf[_]};else if(D.oneOf)for(let _=0;_<D.oneOf.length;_++)D.oneOf[_]={...z,...D.oneOf[_]};else if(D.allOf)for(let _=0;_<D.allOf.length;_++)D.allOf[_]={...z,...D.allOf[_]};else if(D.not)D.not={...z,...D.not};M[H]={...z,...a1(z,$,{...J,root:!1})};break;case"Object":case"Union":M[H]=a1(G,$,{...J,root:!1});break;default:if(Array.isArray(G.items))for(let _=0;_<G.items.length;_++)G.items[_]=a1(G.items[_],$,{...J,root:!1});else if(G.anyOf||G.oneOf||G.allOf||G.not)M[H]=a1(G,$,{...J,root:!1});else if(G.type==="array")G.items=a1(G.items,$,{...J,root:!1});break}if(W.type==="array"&&W.items)if(Array.isArray(W.items))W.items=W.items.map((H)=>a1(H,$,{...J,root:!1}));else W.items=a1(W.items,$,{...J,root:!1});return W},D7=(W)=>($)=>{if(typeof $==="object")try{return s0.Clean(W,$)}catch{}return $},y1=(W,{models:$={},dynamic:J=!1,modules:Y,normalize:X=!1,additionalProperties:Q=!1,forceAdditionalProperties:M=!1,coerce:H=!1,additionalCoerce:G=[],validators:B,sanitize:w}={})=>{if(B=B?.filter((L)=>L),!W){if(!B?.length)return;W=B[0],B=B.slice(1)}let A=void 0,q=(L)=>{if(H)return q$(L,[{from:U.Number(),to:(S)=>U.Numeric(S),untilObjectFound:!0},{from:U.Boolean(),to:(S)=>U.BooleanString(S),untilObjectFound:!0},...Array.isArray(G)?G:[G]]);return q$(L,G)},N=(L)=>{if(L&&typeof L!=="string"&&"~standard"in L)return L;if(!L)return;let S;if(typeof L!=="string")S=L;else if(S=Y&&L in Y.$defs?Y.Import(L):$[L],!S)return;if(K in S){if(S[K]==="Import"){if(!D8(S.$defs[S.$ref])){if(S=S.$defs[S.$ref],H||G)S=q(S)}}else if(D8(S)){let P=xY();S=U.Module({...Y?.$defs,[P]:S}).Import(P)}else if(H||G)S=q(S)}return S},z=N(W),D=B;if("~standard"in z||B?.length&&B.some((L)=>L&&typeof L!=="string"&&("~standard"in L))){let L=(I)=>{let V;if(X===!0||X==="exactMirror")try{V=AM(I,{TypeCompiler:A8,sanitize:w?.(),modules:Y})}catch{console.warn("Failed to create exactMirror. Please report the following code to https://github.com/elysiajs/elysia/issues"),console.warn(I),V=D7(I)}let x=y1(I,{models:$,modules:Y,dynamic:J,normalize:X,additionalProperties:!0,forceAdditionalProperties:!0,coerce:H,additionalCoerce:G});return x.Decode=V,(C)=>{if(x.Check(C))return{value:x.Decode(C)};else return{issues:[...x.Errors(C)]}}},S=z["~standard"]?z["~standard"].validate:L(z),P=[];if(B?.length)for(let I of B){if(!I)continue;if(typeof I==="string")continue;if(I?.["~standard"]){P.push(I["~standard"]);continue}if(K in I){P.push(L(I));continue}}async function c(I){let V=S(I);if(V instanceof Promise)V=await V;if(V.issues)return V;let x=[];if(V&&typeof V==="object")x.push(V.value);for(let k=0;k<P.length;k++){if(V=P[k].validate(I),V instanceof Promise)V=await V;if(V.issues)return V;if(V&&typeof V==="object")x.push(V.value)}if(!x.length)return{value:V};if(x.length===1)return{value:x[0]};if(x.length===2)return{value:Y5(x[0],x[1])};let C=Y5(x[0],x[1]);for(let k=2;k<x.length;k++)C=Y5(C,x[k]);return{value:C}}let e={provider:"standard",schema:z,references:"",checkFunc:()=>{},code:"",Check:c,Errors:(I)=>c(I)?.then?.((V)=>V?.issues),Code:()=>"",Decode:c,Encode:(I)=>I,hasAdditionalProperties:!1,hasDefault:!1,isOptional:!1,hasTransform:!1,hasRef:!1};return e.parse=(I)=>{try{return e.Decode(e.Clean?.(I)??I)}catch(V){throw[...e.Errors(I)].map(A5)}},e.safeParse=(I)=>{try{return{success:!0,data:e.Decode(e.Clean?.(I)??I),error:null}}catch(V){let x=[..._.Errors(I)].map(A5);return{success:!1,data:null,error:x[0]?.summary,errors:x}}},e}else if(B?.length){let L=!1,S=D,{schema:P,notObjects:c}=tI([z,...S.map(N)]);if(c){if(z=U.Intersect([...P?[P]:[],...c.map((e)=>{let I=N(e);if(I.type==="object"&&"additionalProperties"in I){if(!L&&I.additionalProperties===!1)L=!0;delete I.additionalProperties}return I})]),z.type==="object"&&L)z.additionalProperties=!1}}else if(z.type==="object"&&(("additionalProperties"in z)===!1||M))z.additionalProperties=Q;else z=q$(z,{onlyFirst:"object",from:U.Object({}),to({properties:L,...S}){if(!L)return;if("additionalProperties"in z)return;return U.Object(L,{...S,additionalProperties:!1})}});if(J)if(K in z){let L={provider:"typebox",schema:z,references:"",checkFunc:()=>{},code:"",Check:(S)=>s0.Check(z,S),Errors:(S)=>s0.Errors(z,S),Code:()=>"",Clean:D7(z),Decode:(S)=>s0.Decode(z,S),Encode:(S)=>s0.Encode(z,S),get hasAdditionalProperties(){if("~hasAdditionalProperties"in this)return this["~hasAdditionalProperties"];return this["~hasAdditionalProperties"]=g8(z)},get hasDefault(){if("~hasDefault"in this)return this["~hasDefault"];return this["~hasDefault"]=N$("default",z)},get isOptional(){if("~isOptional"in this)return this["~isOptional"];return this["~isOptional"]=EM(z)},get hasTransform(){if("~hasTransform"in this)return this["~hasTransform"];return this["~hasTransform"]=Z8(z)},"~hasRef":A,get hasRef(){if("~hasRef"in this)return this["~hasRef"];return this["~hasRef"]=Z8(z)}};if(z.config){if(L.config=z.config,L?.schema?.config)delete L.schema.config}if(X&&z.additionalProperties===!1)if(X===!0||X==="exactMirror")try{L.Clean=AM(z,{TypeCompiler:A8,sanitize:w?.(),modules:Y})}catch{console.warn("Failed to create exactMirror. Please report the following code to https://github.com/elysiajs/elysia/issues"),console.warn(z),L.Clean=D7(z)}else L.Clean=D7(z);return L.parse=(S)=>{try{return L.Decode(L.Clean?.(S)??S)}catch(P){throw[...L.Errors(S)].map(A5)}},L.safeParse=(S)=>{try{return{success:!0,data:L.Decode(L.Clean?.(S)??S),error:null}}catch(P){let c=[..._.Errors(S)].map(A5);return{success:!1,data:null,error:c[0]?.summary,errors:c}}},L}else{let L={provider:"standard",schema:z,references:"",checkFunc:()=>{},code:"",Check:(S)=>z["~standard"].validate(S),Errors(S){let P=z["~standard"].validate(S);if(P instanceof Promise)throw Error("Async validation is not supported in non-dynamic schema");return P.issues},Code:()=>"",Decode(S){let P=z["~standard"].validate(S);if(P instanceof Promise)throw Error("Async validation is not supported in non-dynamic schema");return P},Encode:(S)=>S,hasAdditionalProperties:!1,hasDefault:!1,isOptional:!1,hasTransform:!1,hasRef:!1};return L.parse=(S)=>{try{return L.Decode(L.Clean?.(S)??S)}catch(P){throw[...L.Errors(S)].map(A5)}},L.safeParse=(S)=>{try{return{success:!0,data:L.Decode(L.Clean?.(S)??S),error:null}}catch(P){let c=[..._.Errors(S)].map(A5);return{success:!1,data:null,error:c[0]?.summary,errors:c}}},L}let _;if(K in z){if(_=A8.Compile(z,Object.values($).filter((L)=>(K in L))),_.provider="typebox",z.config){if(_.config=z.config,_?.schema?.config)delete _.schema.config}if(X===!0||X==="exactMirror")try{_.Clean=AM(z,{TypeCompiler:A8,sanitize:w?.(),modules:Y})}catch(L){console.warn("Failed to create exactMirror. Please report the following code to https://github.com/elysiajs/elysia/issues"),console.dir(z,{depth:null}),_.Clean=D7(z)}else if(X==="typebox")_.Clean=D7(z)}else _={provider:"standard",schema:z,references:"",checkFunc(L){let S=z["~standard"].validate(L);if(S instanceof Promise)throw Error("Async validation is not supported in non-dynamic schema");return S},code:"",Check:(L)=>z["~standard"].validate(L),Errors(L){let S=z["~standard"].validate(L);if(S instanceof Promise)throw Error("Async validation is not supported in non-dynamic schema");return S.issues},Code:()=>"",Decode(L){let S=z["~standard"].validate(L);if(S instanceof Promise)throw Error("Async validation is not supported in non-dynamic schema");return S},Encode:(L)=>L,hasAdditionalProperties:!1,hasDefault:!1,isOptional:!1,hasTransform:!1,hasRef:!1};if(_.parse=(L)=>{try{return _.Decode(_.Clean?.(L)??L)}catch(S){throw[..._.Errors(L)].map(A5)}},_.safeParse=(L)=>{try{return{success:!0,data:_.Decode(_.Clean?.(L)??L),error:null}}catch(S){let P=[..._.Errors(L)].map(A5);return{success:!1,data:null,error:P[0]?.summary,errors:P}}},K in z)Object.assign(_,{get hasAdditionalProperties(){if("~hasAdditionalProperties"in this)return this["~hasAdditionalProperties"];return this["~hasAdditionalProperties"]=g8(_)},get hasDefault(){if("~hasDefault"in this)return this["~hasDefault"];return this["~hasDefault"]=N$("default",_)},get isOptional(){if("~isOptional"in this)return this["~isOptional"];return this["~isOptional"]=EM(_)},get hasTransform(){if("~hasTransform"in this)return this["~hasTransform"];return this["~hasTransform"]=Z8(z)},get hasRef(){if("~hasRef"in this)return this["~hasRef"];return this["~hasRef"]=D8(z)},"~hasRef":A});return _},rI=(W)=>W[K]==="Union"||!W.schema&&!!W.anyOf,tI=(W)=>{if(W.length===0)return{schema:void 0,notObjects:[]};if(W.length===1)return W[0].type==="object"?{schema:W[0],notObjects:[]}:{schema:void 0,notObjects:W};let $,J=[],Y=!1,X=!1;for(let Q of W){if(Q.type!=="object"){J.push(Q);continue}if("additionalProperties"in Q){if(Q.additionalProperties===!0)Y=!0;else if(Q.additionalProperties===!1)X=!0}if(!$){$=Q;continue}$={...$,...Q,properties:{...$.properties,...Q.properties},required:[...$?.required??[],...Q.required]}}if($){if($.required)$.required=[...new Set($.required)];if(X)$.additionalProperties=!1;else if(Y)$.additionalProperties=!0}return{schema:$,notObjects:J}},tN=(W,{models:$={},modules:J,dynamic:Y=!1,normalize:X=!1,additionalProperties:Q=!1,validators:M=[],sanitize:H})=>{if(M=M.filter((w)=>w),!W){if(!M?.length)return;W=M[0],M=M.slice(1)}let G;if(typeof W!=="string")G=W;else if(G=J&&W in J.$defs?J.Import(W):$[W],!G)return;if(!G)return;if(K in G||"~standard"in G)return{200:y1(G,{modules:J,models:$,additionalProperties:Q,dynamic:Y,normalize:X,coerce:!1,additionalCoerce:[],validators:M.map((w)=>w[200]),sanitize:H})};let B={};return Object.keys(G).forEach((w)=>{if(isNaN(+w))return;let A=G[+w];if(typeof A==="string"){if(A in $){let q=$[A];if(!q)return;B[+w]=K in q||"~standard"in q?y1(q,{modules:J,models:$,additionalProperties:Q,dynamic:Y,normalize:X,coerce:!1,additionalCoerce:[],validators:M.map((N)=>N[+w]),sanitize:H}):q}return}B[+w]=K in A||"~standard"in A?y1(A,{modules:J,models:$,additionalProperties:Q,dynamic:Y,normalize:X,coerce:!1,additionalCoerce:[],validators:M.map((q)=>q[+w]),sanitize:H}):A}),B},NM,B$=()=>{if(!NM)NM=[{from:U.Object({}),to:()=>U.ObjectString({}),excludeRoot:!0},{from:U.Array(U.Any()),to:()=>U.ArrayString(U.Any())}];return NM},qM,eN=()=>{if(!qM)qM=[{from:U.Object({}),to:()=>U.ObjectString({}),excludeRoot:!0},{from:U.Array(U.Any()),to:()=>U.ArrayQuery(U.Any())}];return qM},zM,PM=()=>{if(!zM)zM=[{from:U.Number(),to:(W)=>U.Numeric(W),rootOnly:!0},{from:U.Boolean(),to:(W)=>U.BooleanString(W),rootOnly:!0}];return zM},eI=({validator:W,modules:$,defaultConfig:J={},config:Y,dynamic:X,normalize:Q=!1,models:M,validators:H,sanitize:G})=>{let B=W?.provider?W:y1(W,{modules:$,dynamic:X,models:M,normalize:Q,additionalProperties:!0,coerce:!0,additionalCoerce:B$(),validators:H,sanitize:G});if(B)B.config=FM(B.config,Y);else B=y1(U.Cookie(U.Any()),{modules:$,dynamic:X,models:M,additionalProperties:!0,validators:H,sanitize:G}),B.config=J;return B},Z7=(W)=>W&&W[K]==="Import"&&W.$defs[W.$ref][K]==="Object"?W.$defs[W.$ref]:W,b1=(W,$)=>$?W:"",Wx=["json","text","urlencoded","arrayBuffer","formdata","application/json","text/plain","application/x-www-form-urlencoded","application/octet-stream","multipart/form-data"],L$=({context:W="c",trace:$=[],addFn:J})=>{if(!$.length)return()=>{return{resolveChild(){return()=>{}},resolve(){}}};for(let Y=0;Y<$.length;Y++)J(`let report${Y},reportChild${Y},reportErr${Y},reportErrChild${Y};let trace${Y}=${W}[ELYSIA_TRACE]?.[${Y}]??trace[${Y}](${W});
`);return(Y,{name:X,total:Q=0}={})=>{if(!X)X="anonymous";let M=Y==="error"?"reportErr":"report";for(let H=0;H<$.length;H++)J(`${M}${H} = trace${H}.${Y}({id,event:'${Y}',name:'${X}',begin:performance.now(),total:${Q}})
`);return{resolve(){for(let H=0;H<$.length;H++)J(`${M}${H}.resolve()
`)},resolveChild(H){for(let G=0;G<$.length;G++)J(`${M}Child${G}=${M}${G}.resolveChild?.shift()?.({id,event:'${Y}',name:'${H}',begin:performance.now()})
`);return(G)=>{for(let B=0;B<$.length;B++)if(G)J(`if(${G} instanceof Error){${M}Child${B}?.(${G}) }else{${M}Child${B}?.()}`);else J(`${M}Child${B}?.()
`)}}}}},U$=({schema:W,name:$,type:J,typeAlias:Y=J,normalize:X,ignoreTryCatch:Q=!1})=>{if(!X||!W.Clean)return"";if(X===!0||X==="exactMirror"){if(Q)return`${$}=validator.${Y}.Clean(${$})
`;return`try{${$}=validator.${Y}.Clean(${$})
}catch{}`}if(X==="typebox")return`${$}=validator.${Y}.Clean(${$})
`;return""},$x=({injectResponse:W="",normalize:$=!1,validator:J,encodeSchema:Y=!1,isStaticResponse:X=!1,hasSanitize:Q=!1})=>({validate:(M,H=`c.${M}`,G)=>`c.set.status=422;throw new ValidationError('${M}',validator.${M},${H}${G?","+G:""})`,response:(M="r")=>{if(X||!J.response)return"";let H=W+`
`;H+=`if(${M} instanceof ElysiaCustomStatusResponse){c.set.status=${M}.code
${M}=${M}.response}if(${M} instanceof Response === false)switch(c.set.status){`;for(let[G,B]of Object.entries(J.response)){if(H+=`
case ${G}:
`,B.provider==="standard"){H+=`let vare${G}=validator.response[${G}].Check(${M})
if(vare${G} instanceof Promise)vare${G}=await vare${G}
if(vare${G}.issues)throw new ValidationError('response',validator.response[${G}],${M},vare${G}.issues)
${M}=vare${G}.value
c.set.status=${G}
break
`;continue}let w=B.schema?.noValidate===!0;if(!w&&B.schema?.$ref&&B.schema?.$defs){let z=B.schema.$ref,D=typeof z==="string"&&z.includes("/")?z.split("/").pop():z;if(B.schema.$defs[D]?.noValidate===!0)w=!0}let A=w||Q,q=({ignoreTryCatch:z=!1}={})=>U$({name:M,schema:B,type:"response",typeAlias:`response[${G}]`,normalize:$,ignoreTryCatch:z});if(A)H+=q();let N=!A&&$&&!w;if(Y&&B.hasTransform&&!w){if(H+=`try{${M}=validator.response[${G}].Encode(${M})
`,!A)H+=q({ignoreTryCatch:!0});H+=`c.set.status=${G}}catch{`+(N?`try{
`+q({ignoreTryCatch:!0})+`${M}=validator.response[${G}].Encode(${M})
}catch{throw new ValidationError('response',validator.response[${G}],${M})}`:`throw new ValidationError('response',validator.response[${G}],${M})`)+"}"}else{if(!A)H+=q();if(!w)H+=`if(validator.response[${G}].Check(${M})===false)throw new ValidationError('response',validator.response[${G}],${M})
c.set.status=${G}
`}H+=`break
`}return H+"}"}}),M4=(W)=>{return(W?.fn??W).constructor.name==="AsyncFunction"},Jx=/=>\s?response\.clone\(/,Yx=/(?:return|=>)\s?\S+\(|a(?:sync|wait)/,L1=(W)=>{let $=typeof W==="object";if($&&W.isAsync!==void 0)return W.isAsync;let J=$?W.fn:W;if(J.constructor.name==="AsyncFunction")return!0;let Y=J.toString();if(Jx.test(Y)){if($)W.isAsync=!1;return!1}let X=Yx.test(Y);if($)W.isAsync=X;return X},z$=(W)=>{let $=typeof W==="object";if($&&W.hasReturn!==void 0)return W.hasReturn;let J=$?W.fn.toString():typeof W==="string"?W.toString():W,Y=J.indexOf(")");if(J.charCodeAt(Y+2)===61&&J.charCodeAt(Y+5)!==123){if($)W.hasReturn=!0;return!0}let X=J.includes("return");if($)W.hasReturn=X;return X},SY=(W)=>{let $=W?.fn??W;return $.constructor.name==="AsyncGeneratorFunction"||$.constructor.name==="GeneratorFunction"},S7=(W,$,J=`c.${$}`)=>`try{${W}}catch(error){if(error.constructor.name === 'TransformDecodeError'){c.set.status=422
throw error.error ?? new ValidationError('${$}',validator.${$},${J})}}`,Xx=({app:W,path:$,method:J,hooks:Y,validator:X,handler:Q,allowMeta:M=!1,inference:H})=>{let G=W["~adapter"].composeHandler,B=W["~adapter"].handler,w=typeof Q==="function";if(!w){Q=B.mapResponse(Q,{headers:W.setHeaders??{}});let s=Q instanceof Response||Q?.constructor?.name==="Response"&&typeof Q?.clone==="function";if(Y.parse?.length&&Y.transform?.length&&Y.beforeHandle?.length&&Y.afterHandle?.length){if(s)return Function("a",`"use strict";
return function(){return a.clone()}`)(Q);return Function("a",`"use strict";
return function(){return a}`)(Q)}if(s){let p=Q;Q=()=>p.clone()}}let A=w?"handler(c)":"handler",q=!!Y.trace?.length,N="";if(H=S$(Y,H),H=S$({handler:Q},H),G.declare){let s=G.declare(H);if(s)N+=s}if(H.server)N+=`Object.defineProperty(c,'server',{get:function(){return getServer()}})
`;X.createBody?.(),X.createQuery?.(),X.createHeaders?.(),X.createParams?.(),X.createCookie?.(),X.createResponse?.();let z=!!X.body||!!X.headers||!!X.params||!!X.query||!!X.cookie||!!X.response,D=H.query||!!X.query,_=Y.parse?.length===1&&Y.parse[0].fn==="none",L=J!==""&&J!=="GET"&&J!=="HEAD"&&(H.body||!!X.body||!!Y.parse?.length)&&!_,S=W.setHeaders,P=S&&!!Object.keys(S).length,c=H.headers||!!X.headers||G.preferWebstandardHeaders!==!0&&H.body,e=H.cookie||!!X.cookie,I=X.cookie?.config?FM(X?.cookie?.config,W.config.cookie):W.config.cookie,V="",x=()=>{if(V)return V;if(I?.sign){if(!I.secrets)throw Error(`t.Cookie required secret which is not set in (${J}) ${$}.`);let s=!I.secrets?void 0:typeof I.secrets==="string"?I.secrets:I.secrets[0];if(V+=`const _setCookie = c.set.cookie
if(_setCookie){`,I.sign===!0)V+=`for(const [key, cookie] of Object.entries(_setCookie)){c.set.cookie[key].value=await signCookie(cookie.value,'${s}')}`;else for(let p of I.sign)V+=`if(_setCookie['${p}']?.value)c.set.cookie['${p}'].value=await signCookie(_setCookie['${p}'].value,'${s}')
`;V+=`}
`}return V},C=W.config.normalize,k=W.config.encodeSchema,b=$x({normalize:C,validator:X,encodeSchema:k,isStaticResponse:Q instanceof Response,hasSanitize:!!W.config.sanitize});if(c)N+=G.headers;if(q)N+=`const id=c[ELYSIA_REQUEST_ID]
`;let y=L$({trace:Y.trace,addFn:(s)=>{N+=s}});if(N+="try{",e){let s=(Z,E)=>{let O=I?.[Z]??E;if(!O)return typeof E==="string"?`${Z}:"${E}",`:`${Z}:${E},`;if(typeof O==="string")return`${Z}:'${O}',`;if(O instanceof Date)return`${Z}: new Date(${O.getTime()}),`;return`${Z}:${O},`},p=I?`{secrets:${I.secrets!==void 0?typeof I.secrets==="string"?`'${I.secrets}'`:"["+I.secrets.reduce((Z,E)=>Z+`'${E}',`,"")+"]":"undefined"},sign:${I.sign===!0?!0:I.sign!==void 0?"["+I.sign.reduce((Z,E)=>Z+`'${E}',`,"")+"]":"undefined"},`+s("domain")+s("expires")+s("httpOnly")+s("maxAge")+s("path","/")+s("priority")+s("sameSite")+s("secure")+"}":"undefined";if(c)N+=`
c.cookie=await parseCookie(c.set,c.headers.cookie,${p})
`;else N+=`
c.cookie=await parseCookie(c.set,c.request.headers.get('cookie'),${p})
`}if(D){let s={},p={},Z=!1,E=!1;if(X.query?.schema){let O=Z7(X.query?.schema);if(K in O&&O.properties)for(let[m,l]of Object.entries(O.properties)){if(f8("ArrayQuery",l))s[m]=1,Z=!0;if(f8("ObjectString",l))p[m]=1,E=!0}}N+=`if(c.qi===-1){c.query=Object.create(null)}else{c.query=parseQueryFromURL(c.url,c.qi+1,${Z?JSON.stringify(s):void 0},${E?JSON.stringify(p):void 0})}`}let u=typeof Q==="function"&&L1(Q),N0=q||Y.afterResponse?.length?"c.response=c.responseValue= ":"",r=Object.keys(X.response??{}),U0=r.length>1,d5=r.length===0||r.length===1&&r[0]==="200",c6=e||L||u||!!Y.parse?.length||!!Y.afterHandle?.some(L1)||!!Y.beforeHandle?.some(L1)||!!Y.transform?.some(L1)||!!Y.mapResponse?.some(L1)||X.body?.provider==="standard"||X.headers?.provider==="standard"||X.query?.provider==="standard"||X.params?.provider==="standard"||X.cookie?.provider==="standard"||Object.values(X.response??{}).find((s)=>s.provider==="standard"),Y2=(typeof Q==="function"?SY(Q):!1)||!!Y.beforeHandle?.some(SY)||!!Y.afterHandle?.some(SY)||!!Y.transform?.some(SY),i2=H.cookie||H.set||c||q||U0||!d5||w&&P||Y2,K1=()=>{if(!Y.afterResponse?.length&&!q)return"";let s="",p=Y.afterResponse?.some(L1)?"async ":"";s+=`
setImmediate(${p}()=>{`;let Z=L$({trace:Y.trace,addFn:(E)=>{s+=E}})("afterResponse",{total:Y.afterResponse?.length});if(Y.afterResponse?.length&&Y.afterResponse)for(let E=0;E<Y.afterResponse.length;E++){let O=Z.resolveChild(Y.afterResponse[E].fn.name),m=L1(Y.afterResponse[E])?"await ":"";s+=`
${m}e.afterResponse[${E}](c)
`,O()}return Z.resolve(),s+=`})
`,s},U1=(s="r")=>{let p=K1(),Z=`${i2?"mapResponse":"mapCompactResponse"}(${N0}${s}${i2?",c.set":""}${G5})
`;if(!p)return`return ${Z}`;return`const _res=${Z}`+p+"return _res"},G5=Y2||G.mapResponseContext?`,${G.mapResponseContext}`:"";if(q||H.route)N+=`c.route=\`${$}\`
`;let n2=y("parse",{total:Y.parse?.length});if(L){let s=!!Y.parse?.length||H.body||X.body;if(G.parser.declare)N+=G.parser.declare;N+=`
try{`;let p=typeof Y.parse==="string"?Y.parse:Array.isArray(Y.parse)&&Y.parse.length===1?typeof Y.parse[0]==="string"?Y.parse[0]:typeof Y.parse[0].fn==="string"?Y.parse[0].fn:void 0:void 0;if(!p&&X.body&&!Y.parse?.length){let Z=X.body.schema;if(Z&&Z.anyOf&&Z[K]==="Union"&&Z.anyOf?.length===2&&Z.anyOf?.find((E)=>E[K]==="ElysiaForm"))p="formdata"}if(p&&Wx.includes(p)){let Z=y("parse",{total:Y.parse?.length}),E=!!X.body?.isOptional;switch(p){case"json":case"application/json":N+=G.parser.json(E);break;case"text":case"text/plain":N+=G.parser.text(E);break;case"urlencoded":case"application/x-www-form-urlencoded":N+=G.parser.urlencoded(E);break;case"arrayBuffer":case"application/octet-stream":N+=G.parser.arrayBuffer(E);break;case"formdata":case"multipart/form-data":N+=G.parser.formData(E);break;default:if(p[0]in W["~parser"])N+=c?"let contentType = c.headers['content-type']":"let contentType = c.request.headers.get('content-type')",N+=`
if(contentType){const index=contentType.indexOf(';')
if(index!==-1)contentType=contentType.substring(0,index)}
else{contentType=''}c.contentType=contentType
let result=parser['${p}'](c, contentType)
if(result instanceof Promise)result=await result
if(result instanceof ElysiaCustomStatusResponse)throw result
if(result!==undefined)c.body=result
delete c.contentType
`;break}Z.resolve()}else if(s){N+=`
`,N+=`let contentType
if(c.request.body)`,N+=c?`contentType=c.headers['content-type']
`:`contentType=c.request.headers.get('content-type')
`;let Z=!1;if(Y.parse?.length)N+=`if(contentType){
const index=contentType.indexOf(';')

if(index!==-1)contentType=contentType.substring(0,index)}else{contentType=''}let used=false
c.contentType=contentType
`;else{Z=!0;let O=!!X.body?.isOptional;N+=`if(contentType)switch(contentType.charCodeAt(12)){
case 106:`+G.parser.json(O)+`break
case 120:`+G.parser.urlencoded(O)+`break
case 111:`+G.parser.arrayBuffer(O)+`break
case 114:`+G.parser.formData(O)+`break
default:if(contentType.charCodeAt(0)===116){`+G.parser.text(O)+`}break
}`}let E=y("parse",{total:Y.parse?.length});if(Y.parse)for(let O=0;O<Y.parse.length;O++){let m=`bo${O}`;if(O!==0)N+=`
if(!used){`;if(typeof Y.parse[O].fn==="string"){let l=E.resolveChild(Y.parse[O].fn),o=!!X.body?.isOptional;switch(Y.parse[O].fn){case"json":case"application/json":Z=!0,N+=G.parser.json(o);break;case"text":case"text/plain":Z=!0,N+=G.parser.text(o);break;case"urlencoded":case"application/x-www-form-urlencoded":Z=!0,N+=G.parser.urlencoded(o);break;case"arrayBuffer":case"application/octet-stream":Z=!0,N+=G.parser.arrayBuffer(o);break;case"formdata":case"multipart/form-data":Z=!0,N+=G.parser.formData(o);break;default:N+=`let ${m}=parser['${Y.parse[O].fn}'](c,contentType)
if(${m} instanceof Promise)${m}=await ${m}
if(${m}!==undefined){c.body=${m};used=true;}
`}l()}else{let l=E.resolveChild(Y.parse[O].fn.name);N+=`let ${m}=e.parse[${O}]
${m}=${m}(c,contentType)
if(${m} instanceof Promise)${m}=await ${m}
if(${m}!==undefined){c.body=${m};used=true}`,l()}if(O!==0)N+="}";if(Z)break}if(E.resolve(),!Z){let O=!!X.body?.isOptional;if(Y.parse?.length)N+=`
if(!used){
`;N+=`switch(contentType){case 'application/json':
`+G.parser.json(O)+`break
case 'text/plain':`+G.parser.text(O)+`break
case 'application/x-www-form-urlencoded':`+G.parser.urlencoded(O)+`break
case 'application/octet-stream':`+G.parser.arrayBuffer(O)+`break
case 'multipart/form-data':`+G.parser.formData(O)+`break
`;for(let m of Object.keys(W["~parser"]))N+=`case '${m}':let bo${m}=parser['${m}'](c,contentType)
if(bo${m} instanceof Promise)bo${m}=await bo${m}
if(bo${m} instanceof ElysiaCustomStatusResponse){`+U1(`bo${m}`)+`}if(bo${m}!==undefined)c.body=bo${m}
break
`;if(Y.parse?.length)N+="}";N+="}"}if(Y.parse?.length)N+=`
delete c.contentType`}N+="}catch(error){throw new ParseError(error)}"}if(n2.resolve(),Y?.transform||q){let s=y("transform",{total:Y.transform?.length});if(Y.transform?.length){N+=`let transformed
`;for(let p=0;p<Y.transform.length;p++){let Z=Y.transform[p],E=s.resolveChild(Z.fn.name);if(N+=L1(Z)?`transformed=await e.transform[${p}](c)
`:`transformed=e.transform[${p}](c)
`,Z.subType==="mapDerive")N+="if(transformed instanceof ElysiaCustomStatusResponse){"+U1("transformed")+`}else{transformed.request=c.request
transformed.store=c.store
transformed.qi=c.qi
transformed.path=c.path
transformed.url=c.url
transformed.redirect=c.redirect
transformed.set=c.set
transformed.error=c.error
c=transformed}`;else N+="if(transformed instanceof ElysiaCustomStatusResponse){"+U1("transformed")+`}else Object.assign(c,transformed)
`;E()}}s.resolve()}let R5=[];if(X){if(X.headers){if(X.headers.hasDefault)for(let[s,p]of Object.entries(s0.Default(X.headers.schema,{}))){let Z=typeof p==="object"?JSON.stringify(p):typeof p==="string"?`'${p}'`:p;if(Z!==void 0)N+=`c.headers['${s}']??=${Z}
`}if(N+=U$({name:"c.headers",schema:X.headers,type:"headers",normalize:C}),X.headers.isOptional)N+="if(isNotEmpty(c.headers)){";if(X.headers?.provider==="standard")N+=`let vah=validator.headers.Check(c.headers)
if(vah instanceof Promise)vah=await vah
if(vah.issues){`+b.validate("headers",void 0,"vah.issues")+`}else{c.headers=vah.value}
`;else if(X.headers?.schema?.noValidate!==!0)N+="if(validator.headers.Check(c.headers) === false){"+b.validate("headers")+"}";if(X.headers.hasTransform)N+=S7(`c.headers=validator.headers.Decode(c.headers)
`,"headers");if(X.headers.isOptional)N+="}"}if(X.params){if(X.params.hasDefault)for(let[s,p]of Object.entries(s0.Default(X.params.schema,{}))){let Z=typeof p==="object"?JSON.stringify(p):typeof p==="string"?`'${p}'`:p;if(Z!==void 0)N+=`c.params['${s}']??=${Z}
`}if(X.params.provider==="standard")N+=`let vap=validator.params.Check(c.params)
if(vap instanceof Promise)vap=await vap
if(vap.issues){`+b.validate("params",void 0,"vap.issues")+`}else{c.params=vap.value}
`;else if(X.params?.schema?.noValidate!==!0)N+="if(validator.params.Check(c.params)===false){"+b.validate("params")+"}";if(X.params.hasTransform)N+=S7(`c.params=validator.params.Decode(c.params)
`,"params")}if(X.query){if(K in X.query?.schema&&X.query.hasDefault)for(let[s,p]of Object.entries(s0.Default(X.query.schema,{}))){let Z=typeof p==="object"?JSON.stringify(p):typeof p==="string"?`'${p}'`:p;if(Z!==void 0)N+=`if(c.query['${s}']===undefined)c.query['${s}']=${Z}
`}if(N+=U$({name:"c.query",schema:X.query,type:"query",normalize:C}),X.query.isOptional)N+="if(isNotEmpty(c.query)){";if(X.query.provider==="standard")N+=`let vaq=validator.query.Check(c.query)
if(vaq instanceof Promise)vaq=await vaq
if(vaq.issues){`+b.validate("query",void 0,"vaq.issues")+`}else{c.query=vaq.value}
`;else if(X.query?.schema?.noValidate!==!0)N+="if(validator.query.Check(c.query)===false){"+b.validate("query")+"}";if(X.query.hasTransform)N+=S7(`c.query=validator.query.Decode(c.query)
`,"query"),N+=S7(`c.query=validator.query.Decode(c.query)
`,"query");if(X.query.isOptional)N+="}"}if(L&&X.body){if(X.body.hasTransform||X.body.isOptional)N+=`const isNotEmptyObject=c.body&&(typeof c.body==="object"&&(isNotEmpty(c.body)||c.body instanceof ArrayBuffer))
`;let s=rI(X.body.schema),p=!1;if(X.body.hasDefault){let Z=s0.Default(X.body.schema,X.body.schema.type==="object"||Z7(X.body.schema)[K]==="Object"?{}:void 0),E=Z7(X.body.schema);if(!s&&Z&&typeof Z==="object"&&(J4("File",E)||J4("Files",E))){p=!0;for(let[m,l]of Object.entries(Z))if(l==="File"||l==="Files")delete Z[m];if(!z1(Z))Z=void 0}let O=typeof Z==="object"?JSON.stringify(Z):typeof Z==="string"?`'${Z}'`:Z;if(Z!==void 0&&Z!==null)if(Array.isArray(Z))N+=`if(!c.body)c.body=${O}
`;else if(typeof Z==="object")N+=`c.body=Object.assign(${O},c.body)
`;else N+=`c.body=${O}
`;if(N+=U$({name:"c.body",schema:X.body,type:"body",normalize:C}),X.body.provider==="standard")N+=`let vab=validator.body.Check(c.body)
if(vab instanceof Promise)vab=await vab
if(vab.issues){`+b.validate("body",void 0,"vab.issues")+`}else{c.body=vab.value}
`;else if(X.body?.schema?.noValidate!==!0)if(X.body.isOptional)N+="if(isNotEmptyObject&&validator.body.Check(c.body)===false){"+b.validate("body")+"}";else N+="if(validator.body.Check(c.body)===false){"+b.validate("body")+"}"}else if(N+=U$({name:"c.body",schema:X.body,type:"body",normalize:C}),X.body.provider==="standard")N+=`let vab=validator.body.Check(c.body)
if(vab instanceof Promise)vab=await vab
if(vab.issues){`+b.validate("body",void 0,"vab.issues")+`}else{c.body=vab.value}
`;else if(X.body?.schema?.noValidate!==!0)if(X.body.isOptional)N+="if(isNotEmptyObject&&validator.body.Check(c.body)===false){"+b.validate("body")+"}";else N+="if(validator.body.Check(c.body)===false){"+b.validate("body")+"}";if(X.body.hasTransform)N+=S7(`if(isNotEmptyObject)c.body=validator.body.Decode(c.body)
`,"body");if(s&&X.body.schema.anyOf?.length){let Z=Object.values(X.body.schema.anyOf);for(let E=0;E<Z.length;E++){let O=Z[E];if(J4("File",O)||J4("Files",O)){let m=y1(O,{modules:W.definitions.typebox,dynamic:!W.config.aot,models:W.definitions.type,normalize:W.config.normalize,additionalCoerce:PM(),sanitize:()=>W.config.sanitize});if(m){let l=R5.length===0,o=Object.entries(O.properties),D0=l?`
`:" else ";D0+=`if(fileUnions[${R5.length}].Check(c.body)){`;let e0="",O5=0;for(let B5=0;B5<o.length;B5++){let[X2,e8]=o[B5];if(!e8.extension||e8[K]!=="File"&&e8[K]!=="Files")continue;if(O5)e0+=",";e0+=`fileType(c.body.${X2},${JSON.stringify(e8.extension)},'body.${X2}')`,O5++}if(e0){if(O5===1)D0+=`await ${e0}
`;else if(O5>1)D0+=`await Promise.all([${e0}])
`;D0+="}",N+=D0,R5.push(m)}}}}}else if(p||!s&&(J4("File",Z7(X.body.schema))||J4("Files",Z7(X.body.schema)))){let Z="",E=0;for(let[O,m]of Object.entries(Z7(X.body.schema).properties)){if(!m.extension||m[K]!=="File"&&m[K]!=="Files")continue;if(E)Z+=",";Z+=`fileType(c.body.${O},${JSON.stringify(m.extension)},'body.${O}')`,E++}if(E)N+=`
`;if(E===1)N+=`await ${Z}
`;else if(E>1)N+=`await Promise.all([${Z}])
`}}if(X.cookie){if(X.cookie.config=FM(X.cookie.config,X.cookie?.config??{}),N+=`let cookieValue={}
for(const [key,value] of Object.entries(c.cookie))cookieValue[key]=value.value
`,X.cookie.isOptional)N+="if(isNotEmpty(c.cookie)){";if(X.cookie.provider==="standard")N+=`let vac=validator.cookie.Check(cookieValue)
if(vac instanceof Promise)vac=await vac
if(vac.issues){`+b.validate("cookie",void 0,"vac.issues")+`}else{cookieValue=vac.value}
`,N+=`for(const k of Object.keys(cookieValue))c.cookie[k].value=cookieValue[k]
`;else if(X.body?.schema?.noValidate!==!0){if(N+="if(validator.cookie.Check(cookieValue)===false){"+b.validate("cookie","cookieValue")+"}",X.cookie.hasTransform)N+=S7("for(const [key,value] of Object.entries(validator.cookie.Decode(cookieValue))){c.cookie[key].value=value}","cookie")}if(X.cookie.isOptional)N+="}"}}if(Y?.beforeHandle||q){let s=y("beforeHandle",{total:Y.beforeHandle?.length}),p=!1;if(Y.beforeHandle?.length)for(let Z=0;Z<Y.beforeHandle.length;Z++){let E=Y.beforeHandle[Z],O=s.resolveChild(E.fn.name),m=z$(E);if(E.subType==="resolve"||E.subType==="mapResolve"){if(!p)p=!0,N+=`
let resolved
`;if(N+=L1(E)?`resolved=await e.beforeHandle[${Z}](c);
`:`resolved=e.beforeHandle[${Z}](c);
`,E.subType==="mapResolve")N+="if(resolved instanceof ElysiaCustomStatusResponse){"+U1("resolved")+`}else{resolved.request=c.request
resolved.store=c.store
resolved.qi=c.qi
resolved.path=c.path
resolved.url=c.url
resolved.redirect=c.redirect
resolved.set=c.set
resolved.error=c.error
c=resolved}`;else N+="if(resolved instanceof ElysiaCustomStatusResponse){"+U1("resolved")+`}else Object.assign(c, resolved)
`;O()}else if(!m)N+=L1(E)?`await e.beforeHandle[${Z}](c)
`:`e.beforeHandle[${Z}](c)
`,O();else{if(N+=L1(E)?`be=await e.beforeHandle[${Z}](c)
`:`be=e.beforeHandle[${Z}](c)
`,O("be"),N+="if(be!==undefined){",s.resolve(),Y.afterHandle?.length||q){y("handle",{name:w?Q.name:void 0}).resolve();let o=y("afterHandle",{total:Y.afterHandle?.length});if(Y.afterHandle?.length)for(let D0=0;D0<Y.afterHandle.length;D0++){let e0=Y.afterHandle[D0],O5=z$(e0),B5=o.resolveChild(e0.fn.name);if(N+=`c.response = be
`,!O5)N+=L1(e0.fn)?`await e.afterHandle[${D0}](c, be)
`:`e.afterHandle[${D0}](c, be)
`;else N+=L1(e0.fn)?`af=await e.afterHandle[${D0}](c)
`:`af=e.afterHandle[${D0}](c)
`,N+=`if(af!==undefined) c.response=c.responseValue=be=af
`;B5("af")}o.resolve()}if(X.response)N+=b.response("be");let l=y("mapResponse",{total:Y.mapResponse?.length});if(Y.mapResponse?.length){N+=`c.response=c.responseValue=be
`;for(let o=0;o<Y.mapResponse.length;o++){let D0=Y.mapResponse[o],e0=l.resolveChild(D0.fn.name);N+=`if(mr===undefined){mr=${M4(D0)?"await ":""}e.mapResponse[${o}](c)
if(mr!==undefined)be=c.response=c.responseValue=mr}`,e0()}}l.resolve(),N+=x(),N+=`return mapEarlyResponse(${N0}be,c.set${G5})}
`}}s.resolve()}if(Y.afterHandle?.length||q){let s=y("handle",{name:w?Q.name:void 0});if(Y.afterHandle?.length)N+=u?`let r=c.response=c.responseValue=await ${A}
`:`let r=c.response=c.responseValue=${A}
`;else N+=u?`let r=await ${A}
`:`let r=${A}
`;s.resolve();let p=y("afterHandle",{total:Y.afterHandle?.length});if(Y.afterHandle?.length)for(let E=0;E<Y.afterHandle.length;E++){let O=Y.afterHandle[E],m=z$(O),l=p.resolveChild(O.fn.name);if(!m)N+=L1(O.fn)?`await e.afterHandle[${E}](c)
`:`e.afterHandle[${E}](c)
`,l();else if(N+=L1(O.fn)?`af=await e.afterHandle[${E}](c)
`:`af=e.afterHandle[${E}](c)
`,l("af"),X.response)N+="if(af!==undefined){",p.resolve(),N+=b.response("af"),N+="c.response=c.responseValue=af}";else N+="if(af!==undefined){",p.resolve(),N+="c.response=c.responseValue=af}"}if(p.resolve(),Y.afterHandle?.length)N+=`r=c.response
`;if(X.response)N+=b.response();N+=x();let Z=y("mapResponse",{total:Y.mapResponse?.length});if(Y.mapResponse?.length)for(let E=0;E<Y.mapResponse.length;E++){let O=Y.mapResponse[E],m=Z.resolveChild(O.fn.name);N+=`mr=${M4(O)?"await ":""}e.mapResponse[${E}](c)
if(mr!==undefined)r=c.response=c.responseValue=mr
`,m()}Z.resolve(),N+=U1()}else{let s=y("handle",{name:w?Q.name:void 0});if(X.response||Y.mapResponse?.length||q){if(N+=u?`let r=await ${A}
`:`let r=${A}
`,s.resolve(),X.response)N+=b.response();let p=y("mapResponse",{total:Y.mapResponse?.length});if(Y.mapResponse?.length){N+=`
c.response=c.responseValue=r
`;for(let Z=0;Z<Y.mapResponse.length;Z++){let E=Y.mapResponse[Z],O=p.resolveChild(E.fn.name);N+=`
if(mr===undefined){mr=${M4(E)?"await ":""}e.mapResponse[${Z}](c)
if(mr!==undefined)r=c.response=c.responseValue=mr}
`,O()}}if(p.resolve(),N+=x(),Q instanceof Response)N+=K1(),N+=H.set?`if(isNotEmpty(c.set.headers)||c.set.status!==200||c.set.redirect||c.set.cookie)return mapResponse(${N0}${A}.clone(),c.set${G5})
else return ${A}.clone()`:`return ${A}.clone()`,N+=`
`;else N+=U1()}else if(e||q){N+=u?`let r=await ${A}
`:`let r=${A}
`,s.resolve();let p=y("mapResponse",{total:Y.mapResponse?.length});if(Y.mapResponse?.length){N+=`c.response=c.responseValue= r
`;for(let Z=0;Z<Y.mapResponse.length;Z++){let E=Y.mapResponse[Z],O=p.resolveChild(E.fn.name);N+=`if(mr===undefined){mr=${M4(E)?"await ":""}e.mapResponse[${Z}](c)
if(mr!==undefined)r=c.response=c.responseValue=mr}`,O()}}p.resolve(),N+=x()+U1()}else{s.resolve();let p=u?`await ${A}`:A;if(Q instanceof Response)N+=K1(),N+=H.set?`if(isNotEmpty(c.set.headers)||c.set.status!==200||c.set.redirect||c.set.cookie)return mapResponse(${N0}${A}.clone(),c.set${G5})
else return ${A}.clone()
`:`return ${A}.clone()
`;else N+=U1(p)}}if(N+=`
}catch(error){`,!c6&&Y.error?.length)N+="return(async()=>{";if(N+=`const set=c.set
if(!set.status||set.status<300)set.status=error?.status||500
`,e)N+=x();if(q&&Y.trace)for(let s=0;s<Y.trace.length;s++)N+=`report${s}?.resolve(error);reportChild${s}?.(error)
`;let K2=y("error",{total:Y.error?.length});if(Y.error?.length){if(N+=`c.error=error
`,z)N+=`if(error instanceof TypeBoxError){c.code="VALIDATION"
c.set.status=422}else{c.code=error.code??error[ERROR_CODE]??"UNKNOWN"}`;else N+=`c.code=error.code??error[ERROR_CODE]??"UNKNOWN"
`;if(N+=`let er
`,Y.mapResponse?.length)N+=`let mep
`;for(let s=0;s<Y.error.length;s++){let p=K2.resolveChild(Y.error[s].fn.name);if(L1(Y.error[s]))N+=`er=await e.error[${s}](c)
`;else N+=`er=e.error[${s}](c)
if(er instanceof Promise)er=await er
`;if(p(),Y.mapResponse?.length){let Z=y("mapResponse",{total:Y.mapResponse?.length});for(let E=0;E<Y.mapResponse.length;E++){let O=Y.mapResponse[E],m=Z.resolveChild(O.fn.name);N+=`c.response=c.responseValue=er
mep=e.mapResponse[${E}](c)
if(mep instanceof Promise)er=await er
if(mep!==undefined)er=mep
`,m()}Z.resolve()}if(N+=`er=mapEarlyResponse(er,set${G5})
`,N+="if(er){",q&&Y.trace){for(let Z=0;Z<Y.trace.length;Z++)N+=`report${Z}.resolve()
`;K2.resolve()}N+="return er}"}}if(K2.resolve(),N+="return handleError(c,error,true)",!c6&&Y.error?.length)N+="})()";N+="}";let h6=G.inject?Object.keys(G.inject).join(",")+",":"",o2="const {handler,handleError,hooks:e, "+b1("validator,",z)+"mapResponse,mapCompactResponse,mapEarlyResponse,isNotEmpty,utils:{"+b1("parseQuery,",L)+b1("parseQueryFromURL,",D)+"},error:{"+b1("ValidationError,",z)+b1("ParseError",L)+"},fileType,schema,definitions,ERROR_CODE,"+b1("parseCookie,",e)+b1("signCookie,",e)+b1("decodeURIComponent,",D)+"ElysiaCustomStatusResponse,"+b1("ELYSIA_TRACE,",q)+b1("ELYSIA_REQUEST_ID,",q)+b1("parser,",Y.parse?.length)+b1("getServer,",H.server)+b1("fileUnions,",R5.length)+h6+b1("TypeBoxError",z)+`}=hooks
const trace=e.trace
return ${c6?"async ":""}function handle(c){`;if(Y.beforeHandle?.length)o2+=`let be
`;if(Y.afterHandle?.length)o2+=`let af
`;if(Y.mapResponse?.length)o2+=`let mr
`;if(M)o2+=`c.schema=schema
c.defs=definitions
`;N=o2+N+"}",o2="";try{return Function("hooks",`"use strict";
`+N)({handler:Q,hooks:hN(Y),validator:z?X:void 0,handleError:W.handleError,mapResponse:B.mapResponse,mapCompactResponse:B.mapCompactResponse,mapEarlyResponse:B.mapEarlyResponse,isNotEmpty:z1,utils:{parseQuery:L?_7:void 0,parseQueryFromURL:D?X.query?.provider==="standard"?lI:Kq:void 0},error:{ValidationError:z?d0:void 0,ParseError:L?qq:void 0},fileType:zq,schema:W.router.history,definitions:W.definitions.type,ERROR_CODE:FY,parseCookie:e?_q:void 0,signCookie:e?jY:void 0,decodeURIComponent:D?uI.default:void 0,ElysiaCustomStatusResponse:N5,ELYSIA_TRACE:q?kY:void 0,ELYSIA_REQUEST_ID:q?F$:void 0,getServer:H.server?()=>W.getServer():void 0,fileUnions:R5.length?R5:void 0,TypeBoxError:z?H0:void 0,parser:W["~parser"],...G.inject})}catch(s){let p=hN(Y);console.log("[Composer] failed to generate optimized handler"),console.log("---"),console.log({handler:typeof Q==="function"?Q.toString():Q,instruction:N,hooks:{...p,transform:p?.transform?.map?.((Z)=>Z.toString()),resolve:p?.resolve?.map?.((Z)=>Z.toString()),beforeHandle:p?.beforeHandle?.map?.((Z)=>Z.toString()),afterHandle:p?.afterHandle?.map?.((Z)=>Z.toString()),mapResponse:p?.mapResponse?.map?.((Z)=>Z.toString()),parse:p?.parse?.map?.((Z)=>Z.toString()),error:p?.error?.map?.((Z)=>Z.toString()),afterResponse:p?.afterResponse?.map?.((Z)=>Z.toString()),stop:p?.stop?.map?.((Z)=>Z.toString())},validator:X,definitions:W.definitions.type,error:s}),console.log("---"),process.exit(1)}},Eq=(W,$)=>{let J="",Y=L$({trace:W.event.trace,addFn:$??((X)=>{J+=X})})("request",{total:W.event.request?.length});if(W.event.request?.length){J+="try{";for(let X=0;X<W.event.request.length;X++){let Q=W.event.request[X],M=z$(Q),H=L1(Q),G=Y.resolveChild(W.event.request[X].fn.name);if(M)J+=`re=mapEarlyResponse(${H?"await ":""}onRequest[${X}](c),c.set)
`,G("re"),J+=`if(re!==undefined)return re
`;else J+=`${H?"await ":""}onRequest[${X}](c)
`,G()}J+="}catch(error){return app.handleError(c,error,false)}"}return Y.resolve(),J},Pq=(W,$="map")=>{let J=W.extender.higherOrderFunctions;if(!J.length)return"return "+$;let Y=W["~adapter"].composeGeneralHandler,X=$;for(let Q=0;Q<J.length;Q++)X=`hoc[${Q}](${X},${Y.parameters})`;return`return function hocMap(${Y.parameters}){return ${X}(${Y.parameters})}`},DM=(W)=>{let $=W["~adapter"].composeGeneralHandler;W.router.http.build();let J=W["~adapter"].isWebStandard,Y=W.event.trace?.length,X="",Q=W.router,M=Q.http.root.WS?"const route=router.find(r.method==='GET'&&r.headers.get('upgrade')==='websocket'?'WS':r.method,p)":"const route=router.find(r.method,p)";if(M+=Q.http.root.ALL?`??router.find('ALL',p)
`:`
`,J)M+=`if(r.method==='HEAD'){const route=router.find('GET',p)
if(route){c.params=route.params
const _res=route.store.handler?route.store.handler(c):route.store.compile()(c)
if(_res)return getResponseLength(_res).then((length)=>{_res.headers.set('content-length', length)
return new Response(null,{status:_res.status,statusText:_res.statusText,headers:_res.headers})
})}}`;let H=`c.error=notFound
`;if(W.event.afterResponse?.length&&!W.event.error){H=`
c.error=notFound
`;let z=W.event.afterResponse.some(L1)?"async":"";H+=`
setImmediate(${z}()=>{`;for(let D=0;D<W.event.afterResponse.length;D++){let _=W.event.afterResponse[D].fn;H+=`
${M4(_)?"await ":""}afterResponse[${D}](c)
`}H+=`})
`}if(W.inference.query)H+=`
if(c.qi===-1){c.query={}}else{c.query=parseQueryFromURL(c.url,c.qi+1)}`;let G=$.error404(!!W.event.request?.length,!!W.event.error?.length,H);M+=G.code,M+=`
c.params=route.params
if(route.store.handler)return route.store.handler(c)
return route.store.compile()(c)
`;let B="";for(let[z,D]of Object.entries(Q.static)){if(B+=`case'${z}':`,W.config.strictPath!==!0)B+=`case'${H$(z)}':`;let _=G$(z);if(z!==_)B+=`case'${_}':`;if(B+="switch(r.method){","GET"in D||"WS"in D){if(B+="case 'GET':","WS"in D){if(B+=`if(r.headers.get('upgrade')==='websocket')return ht[${D.WS}].composed(c)
`,"GET"in D===!1)if("ALL"in D)B+=`return ht[${D.ALL}].composed(c)
`;else B+=`break map
`}if("GET"in D)B+=`return ht[${D.GET}].composed(c)
`}if(J&&(("GET"in D)||("ALL"in D))&&"HEAD"in D===!1)B+=`case 'HEAD':const _res=ht[${D.GET??D.ALL}].composed(c)
return getResponseLength(_res).then((length)=>{_res.headers.set('content-length', length)
return new Response(null,{status:_res.status,statusText:_res.statusText,headers:_res.headers})
})
`;for(let[L,S]of Object.entries(D)){if(L==="ALL"||L==="GET"||L==="WS")continue;B+=`case '${L}':return ht[${S}].composed(c)
`}if("ALL"in D)B+=`default:return ht[${D.ALL}].composed(c)
`;else B+=`default:break map
`;B+="}"}let w=!!W.event.request?.some(L1),A=$.inject?Object.keys($.inject).join(",")+",":"";if(X+=`
const {app,mapEarlyResponse,NotFoundError,randomId,handleError,status,redirect,getResponseLength,`+b1("parseQueryFromURL,",W.inference.query)+b1("ELYSIA_TRACE,",Y)+b1("ELYSIA_REQUEST_ID,",Y)+A+`}=data
const store=app.singleton.store
const decorator=app.singleton.decorator
const staticRouter=app.router.static.http
const ht=app.router.history
const router=app.router.http
const trace=app.event.trace?.map(x=>typeof x==='function'?x:x.fn)??[]
const notFound=new NotFoundError()
const hoc=app.extender.higherOrderFunctions.map(x=>x.fn)
`,W.event.request?.length)X+=`const onRequest=app.event.request.map(x=>x.fn)
`;if(W.event.afterResponse?.length)X+=`const afterResponse=app.event.afterResponse.map(x=>x.fn)
`;if(X+=G.declare,W.event.trace?.length)X+="const "+W.event.trace.map((z,D)=>`tr${D}=app.event.trace[${D}].fn`).join(",")+`
`;if(X+=`${w?"async ":""}function map(${$.parameters}){`,W.event.request?.length)X+=`let re
`;if(X+=$.createContext(W),W.event.trace?.length)X+="c[ELYSIA_TRACE]=["+W.event.trace.map((z,D)=>`tr${D}(c)`).join(",")+`]
`;if(X+=Eq(W),B)X+=`
map: switch(p){
`+B+"}";X+=M+`}
`+Pq(W);let q=Rq(W);W.handleError=q;let N=Function("data",`"use strict";
`+X)({app:W,mapEarlyResponse:W["~adapter"].handler.mapEarlyResponse,NotFoundError:xM,randomId:xY,handleError:q,status:Z$,redirect:IY,getResponseLength:VI,parseQueryFromURL:W.inference.query?Kq:void 0,ELYSIA_TRACE:Y?kY:void 0,ELYSIA_REQUEST_ID:Y?F$:void 0,...$.inject});if(j7)Bun.gc(!1);return N},Rq=(W)=>{let $=W.event,J="",Y=W["~adapter"].composeError,X=Y.inject?Object.keys(Y.inject).join(",")+",":"",Q=!!W.event.trace?.length;if(J+="const {mapResponse,ERROR_CODE,ElysiaCustomStatusResponse,"+b1("onError,",W.event.error)+b1("afterResponse,",W.event.afterResponse)+b1("trace,",W.event.trace)+b1("onMapResponse,",W.event.mapResponse)+b1("ELYSIA_TRACE,",Q)+b1("ELYSIA_REQUEST_ID,",Q)+X+`}=inject
`,J+=`return ${W.event.error?.find(L1)||W.event.mapResponse?.find(L1)?"async ":""}function(context,error,skipGlobal){`,J+="",Q)J+=`const id=context[ELYSIA_REQUEST_ID]
`;let M=L$({context:"context",trace:$.trace,addFn:(A)=>{J+=A}}),H=()=>{if(!$.afterResponse?.length&&!Q)return"";let A="",q=$.afterResponse?.some(L1)?"async":"";A+=`
setImmediate(${q}()=>{`;let N=L$({context:"context",trace:$.trace,addFn:(z)=>{A+=z}})("afterResponse",{total:$.afterResponse?.length,name:"context"});if($.afterResponse?.length&&$.afterResponse)for(let z=0;z<$.afterResponse.length;z++){let D=$.afterResponse[z].fn,_=N.resolveChild(D.name);A+=`
${M4(D)?"await ":""}afterResponse[${z}](context)
`,_()}return N.resolve(),A+=`})
`,A};if(J+=`const set=context.set
let _r
if(!context.code)context.code=error.code??error[ERROR_CODE]
if(!(context.error instanceof Error))context.error=error
if(error instanceof ElysiaCustomStatusResponse){set.status=error.status=error.code
error.message=error.response}`,Y.declare)J+=Y.declare;let G=Q||!!$.afterResponse?.length?"context.response = ":"";if(W.event.error)for(let A=0;A<W.event.error.length;A++){let q=W.event.error[A],N=`${L1(q)?"await ":""}onError[${A}](context)
`;if(J+="if(skipGlobal!==true){",z$(q)){J+=`_r=${N}
if(_r!==undefined){if(_r instanceof Response){`+H()+`return mapResponse(_r,set${Y.mapResponseContext})}if(_r instanceof ElysiaCustomStatusResponse){error.status=error.code
error.message = error.response}if(set.status===200||!set.status)set.status=error.status
`;let z=M("mapResponse",{total:$.mapResponse?.length,name:"context"});if($.mapResponse?.length)for(let D=0;D<$.mapResponse.length;D++){let _=$.mapResponse[D],L=z.resolveChild(_.fn.name);J+=`context.response=context.responseValue=_r_r=${M4(_)?"await ":""}onMapResponse[${D}](context)
`,L()}z.resolve(),J+=H()+`return mapResponse(${G}_r,set${Y.mapResponseContext})}`}else J+=N;J+="}"}J+=`if(error.constructor.name==="ValidationError"||error.constructor.name==="TransformDecodeError"){
if(error.error)error=error.error
set.status=error.status??422
`+H()+Y.validationError+`
}
`,J+="if(error instanceof Error){"+H()+`
if(typeof error.toResponse==='function')return context.response=context.responseValue=error.toResponse()
`+Y.unknownError+`
}`;let B=M("mapResponse",{total:$.mapResponse?.length,name:"context"});if(J+=`
if(!context.response)context.response=context.responseValue=error.message??error
`,$.mapResponse?.length){J+=`let mr
`;for(let A=0;A<$.mapResponse.length;A++){let q=$.mapResponse[A],N=B.resolveChild(q.fn.name);J+=`if(mr===undefined){mr=${M4(q)?"await ":""}onMapResponse[${A}](context)
if(mr!==undefined)error=context.response=context.responseValue=mr}`,N()}}B.resolve(),J+=H()+`
return mapResponse(${G}error,set${Y.mapResponseContext})}`;let w=(A)=>typeof A==="function"?A:A.fn;return Function("inject",`"use strict";
`+J)({mapResponse:W["~adapter"].handler.mapResponse,ERROR_CODE:FY,ElysiaCustomStatusResponse:N5,onError:W.event.error?.map(w),afterResponse:W.event.afterResponse?.map(w),trace:W.event.trace?.map(w),onMapResponse:W.event.mapResponse?.map(w),ELYSIA_TRACE:Q?kY:void 0,ELYSIA_REQUEST_ID:Q?F$:void 0,...Y.inject})},_6=(W,$)=>$?W:"",Wq=(W,$,J,Y=!1)=>{let X="",Q=W.setHeaders,M=!!W.event.trace?.length;if(M)X+=`const id=randomId()
`;let H=/[:*]/.test($.path),G=`const u=request.url,s=u.indexOf('/',${W.config.handler?.standardHostname??!0?11:7}),qi=u.indexOf('?', s + 1)
`,B=J.query||!!$.hooks.query||!!$.hooks.standaloneValidator?.find((A)=>A.query)||W.event.request?.length;if(B)X+=G;let w=!J.path?"":!H?`path:'${$.path}',`:"get path(){"+(B?"":G)+`if(qi===-1)return u.substring(s)
return u.substring(s,qi)
},`;if(X+=_6("const c=",!Y)+"{request,store,"+_6("qi,",B)+_6("params:request.params,",H)+w+_6("url:request.url,",M||J.url||B)+"redirect,status,set:{headers:"+(z1(Q)?"Object.assign({},app.setHeaders)":"Object.create(null)")+",status:200}",J.server)X+=",get server(){return app.getServer()}";if(M)X+=",[ELYSIA_REQUEST_ID]:id";{let A="";for(let q of Object.keys(W.singleton.decorator))A+=`,'${q}':decorator['${q}']`;X+=A}return X+=`}
`,X},ZM=(W,$)=>{let J=!!W.event.trace?.length,Y=!!W.extender.higherOrderFunctions.length,X=S$($.hooks,W.inference);X=S$({handler:$.handler},X);let Q="const handler=data.handler,app=data.app,store=data.store,decorator=data.decorator,redirect=data.redirect,route=data.route,mapEarlyResponse=data.mapEarlyResponse,"+_6("randomId=data.randomId,",J)+_6("ELYSIA_REQUEST_ID=data.ELYSIA_REQUEST_ID,",J)+_6("ELYSIA_TRACE=data.ELYSIA_TRACE,",J)+_6("trace=data.trace,",J)+_6("hoc=data.hoc,",Y)+`status=data.status
`;if(W.event.request?.length)Q+=`const onRequest=app.event.request.map(x=>x.fn)
`;Q+=`${W.event.request?.find(L1)?"async":""} function map(request){`;let M=X.query||!!$.hooks.query||!!$.hooks.standaloneValidator?.find((H)=>H.query);if(J||M||W.event.request?.length)Q+=Wq(W,$,X),Q+=Eq(W),Q+="return handler(c)}";else Q+=`return handler(${Wq(W,$,X,!0)})}`;return Q+=Pq(W),Function("data",Q)({app:W,handler:$.compile?.()??$.composed,redirect:IY,status:Z$,hoc:W.extender.higherOrderFunctions.map((H)=>H.fn),store:W.store,decorator:W.decorator,route:$.path,randomId:J?xY:void 0,ELYSIA_TRACE:J?kY:void 0,ELYSIA_REQUEST_ID:J?F$:void 0,trace:J?W.event.trace?.map((H)=>H?.fn??H):void 0,mapEarlyResponse:k5})},Qx=(W,$,J)=>{if(typeof W==="function"||W instanceof Blob)return;if(RM(W))return()=>W;let Y=g5(W,J??{headers:{}});if(!$.parse?.length&&!$.transform?.length&&!$.beforeHandle?.length&&!$.afterHandle?.length){if(Y instanceof Promise)return Y.then((X)=>{if(!X)return;if(!X.headers.has("content-type"))X.headers.append("content-type","text/plain");return X.clone()});if(!Y.headers.has("content-type"))Y.headers.append("content-type","text/plain");return()=>Y.clone()}},$q={open(W){W.data.open?.(W)},message(W,$){W.data.message?.(W,$)},drain(W){W.data.drain?.(W)},close(W,$,J){W.data.close?.(W,$,J)}};class w${raw;data;body;constructor(W,$,J=void 0){this.raw=W,this.data=$,this.body=J,this.validator=W.data?.validator,this.sendText=W.sendText.bind(W),this.sendBinary=W.sendBinary.bind(W),this.close=W.close.bind(W),this.terminate=W.terminate.bind(W),this.publishText=W.publishText.bind(W),this.publishBinary=W.publishBinary.bind(W),this.subscribe=W.subscribe.bind(W),this.unsubscribe=W.unsubscribe.bind(W),this.isSubscribed=W.isSubscribed.bind(W),this.cork=W.cork.bind(W),this.remoteAddress=W.remoteAddress,this.binaryType=W.binaryType,this.data=W.data,this.send=this.send.bind(this),this.ping=this.ping.bind(this),this.pong=this.pong.bind(this),this.publish=this.publish.bind(this)}send(W,$){if(Buffer.isBuffer(W))return this.raw.send(W,$);if(this.validator?.Check(W)===!1)return this.raw.send(new d0("message",this.validator,W).message);if(typeof W==="object")W=JSON.stringify(W);return this.raw.send(W,$)}ping(W){if(Buffer.isBuffer(W))return this.raw.ping(W);if(this.validator?.Check(W)===!1)return this.raw.send(new d0("message",this.validator,W).message);if(typeof W==="object")W=JSON.stringify(W);return this.raw.ping(W)}pong(W){if(Buffer.isBuffer(W))return this.raw.pong(W);if(this.validator?.Check(W)===!1)return this.raw.send(new d0("message",this.validator,W).message);if(typeof W==="object")W=JSON.stringify(W);return this.raw.pong(W)}publish(W,$,J){if(Buffer.isBuffer($))return this.raw.publish(W,$,J);if(this.validator?.Check($)===!1)return this.raw.send(new d0("message",this.validator,$).message);if(typeof $==="object")$=JSON.stringify($);return this.raw.publish(W,$,J)}sendText;sendBinary;close;terminate;publishText;publishBinary;subscribe;unsubscribe;isSubscribed;cork;remoteAddress;binaryType;get readyState(){return this.raw.readyState}validator;["~types"];get id(){return this.data.id}}var Mx=(W)=>{let $=typeof W==="function"?[W]:W;return async function(J,Y){if(typeof Y==="string"){let X=Y?.charCodeAt(0);if(X===34||X===47||X===91||X===123)try{Y=JSON.parse(Y)}catch{}else if(wq(Y))Y=+Y;else if(Y==="true")Y=!0;else if(Y==="false")Y=!1;else if(Y==="null")Y=null}if($)for(let X=0;X<$.length;X++){let Q=$[X](J,Y);if(Q instanceof Promise)Q=await Q;if(Q!==void 0)return Q}return Y}},Hx=(W)=>{let $=(J,Y)=>{if(Y instanceof Promise)return Y.then((M)=>$(J,M));if(Buffer.isBuffer(Y))return J.send(Y.toString());if(Y===void 0)return;let X=(M)=>{if(W?.Check(M)===!1)return J.send(new d0("message",W,M).message);if(typeof M==="object")return J.send(JSON.stringify(M));J.send(M)};if(typeof Y?.next!=="function")return void X(Y);let Q=Y.next();if(Q instanceof Promise)return(async()=>{let M=await Q;if(W?.Check(M)===!1)return J.send(new d0("message",W,M).message);if(X(M.value),!M.done)for await(let H of Y)X(H)})();if(X(Q.value),!Q.done)for(let M of Y)X(M)};return $},Gx=/:.+?\?(?=\/|$)/,Iq=(W)=>{let $=Gx.exec(W);if(!$)return[W];let J=[],Y=W.slice(0,$.index),X=$[0].slice(0,-1),Q=W.slice($.index+$[0].length);J.push(Y.slice(0,-1)),J.push(Y+X);for(let M of Iq(Q)){if(!M)continue;if(!M.startsWith("/:"))J.push(Y.slice(0,-1)+M);J.push(Y+X+M)}return J},RM=(W)=>{return typeof W==="object"&&W!==null&&(W.toString()==="[object HTMLBundle]"||typeof W.index==="string")},xq={GET:!0,HEAD:!0,OPTIONS:!0,DELETE:!0,PATCH:!0,POST:!0,PUT:!0},SM=(W)=>{if(!W.config.aot||!W.config.systemRouter)return;let $={},J=(X,Q)=>{let M=encodeURI(X.path);if($[M]){if(!$[M][X.method])$[M][X.method]=Q}else $[M]={[X.method]:Q}},Y=W.routeTree;for(let X of W.router.history){if(typeof X.handler!=="function")continue;let Q=X.method;if(Q==="GET"&&`WS_${X.path}`in Y||Q==="WS"||X.path.charCodeAt(X.path.length-1)===42||!(Q in xq))continue;if(Q==="ALL"){if(!(`WS_${X.path}`in Y))$[X.path]=X.hooks?.config?.mount?X.hooks.trace||W.event.trace||W.extender.higherOrderFunctions?ZM(W,X):X.hooks.mount||X.handler:X.handler;continue}let M,H=W.config.precompile?ZM(W,X):(G)=>{if(M)return M(G);return(M=ZM(W,X))(G)};for(let G of Iq(X.path))J({method:Q,path:G},H)}return $},O7=(W,$)=>{if(!$)return W;for(let J of Object.keys($)){if(W[J]===$[J])continue;if(!W[J]){W[J]=$[J];continue}if(W[J]&&$[J]){if(typeof W[J]==="function"||W[J]instanceof Response){W[J]=$[J];continue}W[J]={...W[J],...$[J]}}}return W},Bx={...bM,name:"bun",handler:{mapResponse:g5,mapEarlyResponse:k5,mapCompactResponse:j6,createStaticHandler:mI,createNativeStaticHandler:Qx},composeHandler:{...bM.composeHandler,headers:jM?`c.headers=c.request.headers.toJSON()
`:`c.headers={}
for(const [k,v] of c.request.headers.entries())c.headers[k]=v
`},listen(W){return($,J)=>{if(typeof Bun>"u")throw Error(".listen() is designed to run on Bun only. If you are running Elysia in other environment please use a dedicated plugin or export the handler via Elysia.fetch");if(W.compile(),typeof $==="string"){if(!wq($))throw Error("Port must be a numeric value");$=parseInt($)}let Y=(Q,{withAsync:M=!1}={})=>{let H={},G=[];for(let[B,w]of Object.entries(Q))if(B=encodeURI(B),Nq){if(!w)continue;for(let[A,q]of Object.entries(w)){if(!q||!(A in xq))continue;if(q instanceof Promise){if(M){if(!H[B])H[B]={};G.push(q.then((N)=>{if(N instanceof Response)H[B][A]=N;if(RM(N))H[B][A]=N}))}continue}if(!(q instanceof Response)&&!RM(q))continue;if(!H[B])H[B]={};H[B][A]=q}}else{if(!w)continue;if(w instanceof Promise){if(M){if(!H[B])H[B]={};G.push(w.then((A)=>{if(A instanceof Response)H[B]=A}))}continue}if(!(w instanceof Response))continue;H[B]=w}if(M)return Promise.all(G).then(()=>H);return H},X=typeof $==="object"?{development:!Y4,reusePort:!0,idleTimeout:30,...W.config.serve||{},...$||{},routes:O7(O7(Y(W.router.response),SM(W)),W.config.serve?.routes),websocket:{...W.config.websocket||{},...$q||{},...$.websocket||{}},fetch:W.fetch}:{development:!Y4,reusePort:!0,idleTimeout:30,...W.config.serve||{},routes:O7(O7(Y(W.router.response),SM(W)),W.config.serve?.routes),websocket:{...W.config.websocket||{},...$q||{}},port:$,fetch:W.fetch};if(W.server=Bun.serve(X),W.event.start)for(let Q=0;Q<W.event.start.length;Q++)W.event.start[Q].fn(W);if(J)J(W.server);process.on("beforeExit",()=>{if(W.server){if(W.server.stop?.(),W.server=null,W.event.stop)for(let Q=0;Q<W.event.stop.length;Q++)W.event.stop[Q].fn(W)}}),W.promisedModules.then(async()=>{W.server?.reload({...X,fetch:W.fetch,routes:O7(O7(await Y(W.router.response,{withAsync:!0}),SM(W)),W.config.serve?.routes)}),Bun?.gc(!1)})}},async stop(W,$){if(W.server){if(W.server.stop($),W.server=null,W.event.stop?.length)for(let J=0;J<W.event.stop.length;J++)W.event.stop[J].fn(W)}else console.log("Elysia isn't running. Call `app.listen` to start the server.",Error().stack)},ws(W,$,J){let{parse:Y,body:X,response:Q,...M}=J,H=y1(X,{modules:W.definitions.typebox,models:W.definitions.type,normalize:W.config.normalize}),G=y1(Q,{modules:W.definitions.typebox,models:W.definitions.type,normalize:W.config.normalize});W.route("WS",$,async(B)=>{let w=B.server??W.server,{set:A,path:q,qi:N,headers:z,query:D,params:_}=B;if(B.validator=G,J.upgrade){if(typeof J.upgrade==="function"){let V=J.upgrade(B);if(V instanceof Promise)await V}else if(J.upgrade)Object.assign(A.headers,J.upgrade)}if(A.cookie&&z1(A.cookie)){let V=Lq(A.cookie);if(V)A.headers["set-cookie"]=V}if(A.headers["set-cookie"]&&Array.isArray(A.headers["set-cookie"]))A.headers=jq(new Headers(A.headers),A.headers["set-cookie"]);let L=Hx(G),S=Mx(Y),P;if(typeof J.beforeHandle==="function"){let V=J.beforeHandle(B);if(V instanceof Promise)await V}let c=[...J.error?Array.isArray(J.error)?J.error:[J.error]:[],...(W.event.error??[]).map((V)=>typeof V==="function"?V:V.fn)].filter((V)=>V),e=c.length>0,I=!e?()=>{}:async(V,x)=>{for(let C of c){let k=C(Object.assign(B,{error:x}));if(k instanceof Promise)k=await k;if(await L(V,k),k)break}};if(w?.upgrade(B.request,{headers:z1(A.headers)?A.headers:void 0,data:{...B,get id(){if(P)return P;return P=xY()},validator:G,ping(V){J.ping?.(V)},pong(V){J.pong?.(V)},open:async(V)=>{try{await L(V,J.open?.(new w$(V,B)))}catch(x){I(V,x)}},message:async(V,x)=>{let C=await S(V,x);if(H?.Check(C)===!1){let k=new d0("message",H,C);if(!e)return void V.send(k.message);return I(V,k)}try{await L(V,J.message?.(new w$(V,B,C),C))}catch(k){I(V,k)}},drain:async(V)=>{try{await L(V,J.drain?.(new w$(V,B)))}catch(x){I(V,x)}},close:async(V,x,C)=>{try{await L(V,J.close?.(new w$(V,B),x,C))}catch(k){I(V,k)}}}}))return;return A.status=400,"Expected a websocket connection"},{...M,websocket:J})}},Jq=j7?Bun.env:typeof process<"u"&&process?.env?process.env:{},OM=(W,$)=>{let J=W.schema;if(!J)return;if(J.$defs?.[J.$ref])J=J.$defs[J.$ref];if(!J?.properties)return;for(let[Y,X]of Object.entries(J.properties))$[Y]??=X.default},Yq=(W)=>{let{mapResponse:$,mapEarlyResponse:J}=W["~adapter"].handler,Y=W.setHeaders;return async(X)=>{let Q=X.url,M=Q.indexOf("/",11),H=Q.indexOf("?",M+1),G=H===-1?Q.substring(M):Q.substring(M,H),B={cookie:{},status:200,headers:Y?{...Y}:{}},w=Object.assign({},W.singleton.decorator,{set:B,store:W.singleton.store,request:X,path:G,qi:H,error:Z$,status:Z$,redirect:IY});try{if(W.event.request)for(let C=0;C<W.event.request.length;C++){let k=W.event.request[C].fn,b=k(w);if(b instanceof Promise)b=await b;if(b=J(b,B),b)return w.response=b}let A=X.method==="GET"&&X.headers.get("upgrade")?.toLowerCase()==="websocket"?"WS":X.method,q=W.router.dynamic.find(X.method,G)??W.router.dynamic.find(A,G)??W.router.dynamic.find("ALL",G);if(!q)throw w.query=H===-1?{}:_7(Q.substring(H+1)),new xM;let{handle:N,hooks:z,validator:D,content:_,route:L}=q.store,S;if(X.method!=="GET"&&X.method!=="HEAD")if(_)switch(_){case"application/json":S=await X.json();break;case"text/plain":S=await X.text();break;case"application/x-www-form-urlencoded":S=_7(await X.text());break;case"application/octet-stream":S=await X.arrayBuffer();break;case"multipart/form-data":S={};let C=await X.formData();for(let k of C.keys()){if(S[k])continue;let b=C.getAll(k);if(b.length===1)S[k]=b[0];else S[k]=b}break}else{let C;if(X.body)C=X.headers.get("content-type");if(C){let k=C.indexOf(";");if(k!==-1)C=C.slice(0,k);if(w.contentType=C,z.parse)for(let b=0;b<z.parse.length;b++){let y=z.parse[b].fn;if(typeof y==="string")switch(y){case"json":case"application/json":S=await X.json();break;case"text":case"text/plain":S=await X.text();break;case"urlencoded":case"application/x-www-form-urlencoded":S=_7(await X.text());break;case"arrayBuffer":case"application/octet-stream":S=await X.arrayBuffer();break;case"formdata":case"multipart/form-data":S={};let u=await X.formData();for(let r of u.keys()){if(S[r])continue;let U0=u.getAll(r);if(U0.length===1)S[r]=U0[0];else S[r]=U0}break;default:let N0=W["~parser"][y];if(N0){let r=N0(w,C);if(r instanceof Promise)r=await r;if(r){S=r;break}}break}else{let u=y(w,C);if(u instanceof Promise)u=await u;if(u){S=u;break}}}if(delete w.contentType,S===void 0)switch(C){case"application/json":S=await X.json();break;case"text/plain":S=await X.text();break;case"application/x-www-form-urlencoded":S=_7(await X.text());break;case"application/octet-stream":S=await X.arrayBuffer();break;case"multipart/form-data":S={};let b=await X.formData();for(let y of b.keys()){if(S[y])continue;let u=b.getAll(y);if(u.length===1)S[y]=u[0];else S[y]=u}break}}}w.route=L,w.body=S,w.params=q?.params||void 0,w.query=H===-1?{}:_7(Q.substring(H+1)),w.headers={};for(let[C,k]of X.headers.entries())w.headers[C]=k;let P={domain:W.config.cookie?.domain??D?.cookie?.config.domain,expires:W.config.cookie?.expires??D?.cookie?.config.expires,httpOnly:W.config.cookie?.httpOnly??D?.cookie?.config.httpOnly,maxAge:W.config.cookie?.maxAge??D?.cookie?.config.maxAge,path:W.config.cookie?.path??D?.cookie?.config.path,priority:W.config.cookie?.priority??D?.cookie?.config.priority,partitioned:W.config.cookie?.partitioned??D?.cookie?.config.partitioned,sameSite:W.config.cookie?.sameSite??D?.cookie?.config.sameSite,secure:W.config.cookie?.secure??D?.cookie?.config.secure,secrets:W.config.cookie?.secrets??D?.cookie?.config.secrets,sign:W.config.cookie?.sign??D?.cookie?.config.sign},c=X.headers.get("cookie");w.cookie=await _q(w.set,c,P);let e=D?.createHeaders?.();if(e)OM(e,w.headers);let I=D?.createParams?.();if(I)OM(I,w.params);let V=D?.createQuery?.();if(V)OM(V,w.query);if(z.transform)for(let C=0;C<z.transform.length;C++){let k=z.transform[C],b=k.fn(w);if(b instanceof Promise)b=await b;if(b instanceof N5){let y=J(b,w.set);if(y)return w.response=y}if(k.subType==="derive")Object.assign(w,b)}if(D){if(e){let C=structuredClone(w.headers);for(let[k,b]of X.headers)C[k]=b;if(D.headers.Check(C)===!1)throw new d0("header",D.headers,C)}else if(D.headers?.Decode)w.headers=D.headers.Decode(w.headers);if(I?.Check(w.params)===!1)throw new d0("params",D.params,w.params);else if(D.params?.Decode)w.params=D.params.Decode(w.params);if(D.query?.schema){let C=D.query.schema;if(C.$defs?.[C.$ref])C=C.$defs[C.$ref];let k=C.properties;for(let b of Object.keys(k)){let y=k[b];if((y.type==="array"||y.items?.type==="string")&&typeof w.query[b]==="string"&&w.query[b])w.query[b]=w.query[b].split(",")}}if(V?.Check(w.query)===!1)throw new d0("query",D.query,w.query);else if(D.query?.Decode)w.query=D.query.Decode(w.query);if(D.createCookie?.()){let C={};for(let[k,b]of Object.entries(w.cookie))C[k]=b.value;if(D.cookie.Check(C)===!1)throw new d0("cookie",D.cookie,C);else if(D.cookie?.Decode)C=D.cookie.Decode(C)}if(D.createBody?.()?.Check(S)===!1)throw new d0("body",D.body,S);else if(D.body?.Decode)w.body=D.body.Decode(S)}if(z.beforeHandle)for(let C=0;C<z.beforeHandle.length;C++){let k=z.beforeHandle[C],b=k.fn(w);if(b instanceof Promise)b=await b;if(b instanceof N5){let y=J(b,w.set);if(y)return w.response=y}if(k.subType==="resolve"){Object.assign(w,b);continue}if(b!==void 0){if(w.response=b,z.afterHandle)for(let u=0;u<z.afterHandle.length;u++){let N0=z.afterHandle[u].fn(w);if(N0 instanceof Promise)N0=await N0;if(N0)b=N0}let y=J(b,w.set);if(y)return w.response=y}}let x=typeof N==="function"?N(w):N;if(x instanceof Promise)x=await x;if(!z.afterHandle?.length){let C=x instanceof N5,k=C?x.code:B.status?typeof B.status==="string"?D$[B.status]:B.status:200;if(C)B.status=k,x=x.response;let b=D?.createResponse?.()?.[k];if(b?.Check(x)===!1)if(b?.Clean){let y=b.Clean(x);if(b?.Check(y)===!1)throw new d0("response",b,x);x=y}else throw new d0("response",b,x);if(b?.Encode)x=b.Encode(x);if(b?.Clean)x=b.Clean(x)}else{w.response=x;for(let C=0;C<z.afterHandle.length;C++){let k=z.afterHandle[C].fn(w);if(k instanceof Promise)k=await k;let b=k instanceof N5,y=b?k.code:B.status?typeof B.status==="string"?D$[B.status]:B.status:200;if(b)B.status=y,k=k.response;let u=D?.createResponse?.()?.[y];if(u?.Check(k)===!1)if(u?.Clean){let r=u.Clean(k);if(u?.Check(r)===!1)throw new d0("response",u,k);k=r}else throw new d0("response",u,k);if(u?.Encode)w.response=k=u.Encode(k);if(u?.Clean)w.response=k=u.Clean(k);let N0=J(k,w.set);if(N0!==void 0)return w.response=N0}}if(w.set.cookie&&P?.sign){let C=!P.secrets?void 0:typeof P.secrets==="string"?P.secrets:P.secrets[0];if(P.sign===!0){if(C)for(let[k,b]of Object.entries(w.set.cookie))w.set.cookie[k].value=await jY(b.value,C)}else{let k=D?.cookie?.schema?.properties;if(C)for(let b of P.sign){if(!(b in k))continue;if(w.set.cookie[b]?.value)w.set.cookie[b].value=await jY(w.set.cookie[b].value,C)}}}return $(w.response=x,w.set)}catch(A){let q=A instanceof eJ&&A.error?A.error:A;return W.handleError(w,q)}finally{if(W.event.afterResponse)setImmediate(async()=>{for(let A of W.event.afterResponse)await A.fn(w)})}}},Ux=(W)=>{let{mapResponse:$}=W["~adapter"].handler;return async(J,Y)=>{let X=Object.assign(J,{error:Y,code:Y.code});if(X.set=J.set,W.event.error)for(let Q=0;Q<W.event.error.length;Q++){let M=W.event.error[Q].fn(X);if(M instanceof Promise)M=await M;if(M!==void 0&&M!==null)return J.response=$(M,J.set)}return new Response(typeof Y.cause==="string"?Y.cause:Y.message,{headers:J.set.headers,status:Y.status??500})}};class Z0{config;server=null;dependencies={};"~Prefix"="";"~Singleton"=null;"~Definitions"=null;"~Metadata"=null;"~Ephemeral"=null;"~Volatile"=null;"~Routes"=null;singleton={decorator:{},store:{},derive:{},resolve:{}};get store(){return this.singleton.store}get decorator(){return this.singleton.decorator}definitions={typebox:U.Module({}),type:{},error:{}};extender={macro:{},higherOrderFunctions:[]};validator={global:null,scoped:null,local:null,getCandidate(){if(!this.global&&!this.scoped&&!this.local)return{body:void 0,headers:void 0,params:void 0,query:void 0,cookie:void 0,response:void 0};return X$(X$(this.global,this.scoped),this.local)}};standaloneValidator={global:null,scoped:null,local:null};event={};telemetry;router={"~http":void 0,get http(){if(!this["~http"])this["~http"]=new L7({lazy:!0,onParam:RN.default});return this["~http"]},"~dynamic":void 0,get dynamic(){if(!this["~dynamic"])this["~dynamic"]=new L7({onParam:RN.default});return this["~dynamic"]},static:{},response:{},history:[]};routeTree={};get routes(){return this.router.history}getGlobalRoutes(){return this.router.history}getGlobalDefinitions(){return this.definitions}inference={body:!1,cookie:!1,headers:!1,query:!1,set:!1,server:!1,path:!1,route:!1,url:!1};getServer(){return this.server}getParent(){return null}"~parser"={};_promisedModules;get promisedModules(){if(!this._promisedModules)this._promisedModules=new Aq(console.error,()=>{});return this._promisedModules}constructor(W={}){if(W.tags)if(!W.detail)W.detail={tags:W.tags};else W.detail.tags=W.tags;if(this.config={aot:Jq.ELYSIA_AOT!=="false",nativeStaticResponse:!0,systemRouter:!0,encodeSchema:!0,normalize:!0,...W,prefix:W.prefix?W.prefix.charCodeAt(0)===47?W.prefix:`/${W.prefix}`:void 0,cookie:{path:"/",...W?.cookie},experimental:W?.experimental??{},seed:W?.seed===void 0?"":W?.seed},this["~adapter"]=W.adapter??(typeof Bun<"u"?Bx:bM),W?.analytic&&(W?.name||W?.seed!==void 0))this.telemetry={stack:Error().stack}}"~adapter";env(W,$=Jq){if(y1(W,{modules:this.definitions.typebox,dynamic:!0,additionalProperties:!0,coerce:!0,sanitize:()=>this.config.sanitize}).Check($)===!1){let J=new d0("env",W,$);throw Error(J.all.map((Y)=>Y.summary).join(`
`))}return this}wrap(W){return this.extender.higherOrderFunctions.push({checksum:M$(JSON.stringify({name:this.config.name,seed:this.config.seed,content:W.toString()})),fn:W}),this}get models(){let W={};for(let $ of Object.keys(this.definitions.type))W[$]=y1(this.definitions.typebox.Import($));return W.modules=this.definitions.typebox,W}add(W,$,J,Y,X){let Q=X?.skipPrefix??!1,M=X?.allowMeta??!1;Y??={},this.applyMacro(Y);let H=[];if(Y.standaloneValidator)H=H.concat(Y.standaloneValidator);if(this.standaloneValidator.local)H=H.concat(this.standaloneValidator.local);if(this.standaloneValidator.scoped)H=H.concat(this.standaloneValidator.scoped);if(this.standaloneValidator.global)H=H.concat(this.standaloneValidator.global);if($!==""&&$.charCodeAt(0)!==47)$="/"+$;if(this.config.prefix&&!Q)$=this.config.prefix+$;if(Y?.type)switch(Y.type){case"text":Y.type="text/plain";break;case"json":Y.type="application/json";break;case"formdata":Y.type="multipart/form-data";break;case"urlencoded":Y.type="application/x-www-form-urlencoded";break;case"arrayBuffer":Y.type="application/octet-stream";break;default:break}let G=this.validator.getCandidate(),B={body:Y?.body??G?.body,headers:Y?.headers??G?.headers,params:Y?.params??G?.params,query:Y?.query??G?.query,cookie:Y?.cookie??G?.cookie,response:Y?.response??G?.response},w=this.config.precompile===!0||typeof this.config.precompile==="object"&&this.config.precompile.compose===!0,A=()=>{let C=this.definitions.type,k=!this.config.aot,b=this.config.normalize,y=this.definitions.typebox,u=()=>this.config.sanitize,N0=()=>{if(B.cookie||H.find((r)=>r.cookie))return eI({modules:y,validator:B.cookie,defaultConfig:this.config.cookie,normalize:b,config:B.cookie?.config??{},dynamic:k,models:C,validators:H.map((r)=>r.cookie),sanitize:u})};return w?{body:y1(B.body,{modules:y,dynamic:k,models:C,normalize:b,additionalCoerce:PM(),validators:H.map((r)=>r.body),sanitize:u}),headers:y1(B.headers,{modules:y,dynamic:k,models:C,additionalProperties:!0,coerce:!0,additionalCoerce:B$(),validators:H.map((r)=>r.headers),sanitize:u}),params:y1(B.params,{modules:y,dynamic:k,models:C,coerce:!0,additionalCoerce:B$(),validators:H.map((r)=>r.params),sanitize:u}),query:y1(B.query,{modules:y,dynamic:k,models:C,normalize:b,coerce:!0,additionalCoerce:eN(),validators:H.map((r)=>r.query),sanitize:u}),cookie:N0(),response:tN(B.response,{modules:y,dynamic:k,models:C,normalize:b,validators:H.map((r)=>r.response),sanitize:u})}:{createBody(){if(this.body)return this.body;return this.body=y1(B.body,{modules:y,dynamic:k,models:C,normalize:b,additionalCoerce:PM(),validators:H.map((r)=>r.body),sanitize:u})},createHeaders(){if(this.headers)return this.headers;return this.headers=y1(B.headers,{modules:y,dynamic:k,models:C,normalize:b,additionalProperties:!b,coerce:!0,additionalCoerce:B$(),validators:H.map((r)=>r.headers),sanitize:u})},createParams(){if(this.params)return this.params;return this.params=y1(B.params,{modules:y,dynamic:k,models:C,normalize:b,coerce:!0,additionalCoerce:B$(),validators:H.map((r)=>r.params),sanitize:u})},createQuery(){if(this.query)return this.query;return this.query=y1(B.query,{modules:y,dynamic:k,models:C,normalize:b,coerce:!0,additionalCoerce:eN(),validators:H.map((r)=>r.query),sanitize:u})},createCookie(){if(this.cookie)return this.cookie;return this.cookie=N0()},createResponse(){if(this.response)return this.response;return this.response=tN(B.response,{modules:y,dynamic:k,models:C,normalize:b,validators:H.map((r)=>r.response),sanitize:u})}}};if(G.body||G.cookie||G.headers||G.params||G.query||G.response)Y=H9(Y,G);if(Y.tags)if(!Y.detail)Y.detail={tags:Y.tags};else Y.detail.tags=Y.tags;if(z1(this.config.detail))Y.detail=Y5(Object.assign({},this.config.detail),Y.detail);let q=z1(this.event)?H9(this.event,cN(Y)):{...ZI(cN(Y))};if(H.length)Object.assign(q,{standaloneValidator:H});if(this.config.aot===!1){let C=A();this.router.dynamic.add(W,$,{validator:C,hooks:q,content:Y?.type,handle:J,route:$});let k=G$($,{dynamic:!0});if($!==k)this.router.dynamic.add(W,k,{validator:C,hooks:q,content:Y?.type,handle:J,route:$});if(this.config.strictPath===!1){let b=H$($);this.router.dynamic.add(W,b,{validator:C,hooks:q,content:Y?.type,handle:J,route:$});let y=G$(b);if(b!==y)this.router.dynamic.add(W,b,{validator:C,hooks:q,content:Y?.type,handle:J,route:$})}this.router.history.push({method:W,path:$,composed:null,handler:J,compile:void 0,hooks:q});return}let N=this["~adapter"].handler,z=typeof J!=="function"?()=>{let C={redirect:IY,request:this["~adapter"].isWebStandard?new Request(`http://e.ly${$}`,{method:W}):void 0,server:null,set:{headers:Object.assign({},this.setHeaders)},status:Z$,store:this.store};try{this.event.request?.map((b)=>{if(typeof b.fn==="function")return b.fn(C);if(typeof b==="function")return b(C)})}catch(b){let y;if(C.error=b,this.event.error?.some((u)=>{if(typeof u.fn==="function")return y=u.fn(C);if(typeof u==="function")return y=u(C)}),y!==void 0)J=y}let k=N.createNativeStaticHandler?.(J,q,C.set);return k instanceof Promise?k.then((b)=>{if(b)return b}):k?.()}:void 0,D=this.config.nativeStaticResponse===!0,_=(C)=>{if(!D||!z)return;if(Nq)if(this.router.response[C])this.router.response[C][W]=z();else this.router.response[C]={[W]:z()};else this.router.response[C]=z()};_($);let L,S=()=>{if(L)return L;return L=Xx({app:this,path:$,method:W,hooks:q,validator:A(),handler:typeof J!=="function"&&typeof N.createStaticHandler!=="function"?()=>J:J,allowMeta:M,inference:this.inference})},P;if(`${W}_${$}`in this.routeTree)for(let C=0;C<this.router.history.length;C++){let k=this.router.history[C];if(k.path===$&&k.method===W){P=C;break}}else this.routeTree[`${W}_${$}`]=this.router.history.length;let c=P??this.router.history.length,e=w?S():(C)=>(this.router.history[c].composed=S())(C);if(P!==void 0)this.router.history[P]=Object.assign({method:W,path:$,composed:e,compile:S,handler:J,hooks:q},H.length?{standaloneValidators:H}:void 0,Y.webSocket?{websocket:Y.websocket}:void 0);else this.router.history.push(Object.assign({method:W,path:$,composed:e,compile:S,handler:J,hooks:q},Y.webSocket?{websocket:Y.websocket}:void 0));let I={handler:w?e:void 0,compile(){return this.handler=S()}},V=this.router.static,x=$.indexOf(":")===-1&&$.indexOf("*")===-1;if(W==="WS"){if(x){if($ in V)V[$][W]=c;else V[$]={[W]:c};return}if(this.router.http.add("WS",$,I),!this.config.strictPath)this.router.http.add("WS",H$($),I);let C=G$($,{dynamic:!0});if($!==C)this.router.http.add("WS",C,I);return}if(x){if($ in V)V[$][W]=c;else V[$]={[W]:c};if(!this.config.strictPath)_(H$($))}else{if(this.router.http.add(W,$,I),!this.config.strictPath){let k=H$($);_(k),this.router.http.add(W,k,I)}let C=G$($,{dynamic:!0});if($!==C)this.router.http.add(W,C,I),_(C)}}setHeaders;headers(W){if(!W)return this;if(!this.setHeaders)this.setHeaders={};return this.setHeaders=Y5(this.setHeaders,W),this}onStart(W){return this.on("start",W),this}onRequest(W){return this.on("request",W),this}onParse(W,$){if(!$){if(typeof W==="string")return this.on("parse",this["~parser"][W]);return this.on("parse",W)}return this.on(W,"parse",$)}parser(W,$){return this["~parser"][W]=$,this}onTransform(W,$){if(!$)return this.on("transform",W);return this.on(W,"transform",$)}resolve(W,$){if(!$)$=W,W={as:"local"};let J={subType:"resolve",fn:$};return this.onBeforeHandle(W,J)}mapResolve(W,$){if(!$)$=W,W={as:"local"};let J={subType:"mapResolve",fn:$};return this.onBeforeHandle(W,J)}onBeforeHandle(W,$){if(!$)return this.on("beforeHandle",W);return this.on(W,"beforeHandle",$)}onAfterHandle(W,$){if(!$)return this.on("afterHandle",W);return this.on(W,"afterHandle",$)}mapResponse(W,$){if(!$)return this.on("mapResponse",W);return this.on(W,"mapResponse",$)}onAfterResponse(W,$){if(!$)return this.on("afterResponse",W);return this.on(W,"afterResponse",$)}trace(W,$){if(!$)$=W,W={as:"local"};if(!Array.isArray($))$=[$];for(let J of $)this.on(W,"trace",pI(J));return this}error(W,$){switch(typeof W){case"string":return $.prototype[FY]=W,this.definitions.error[W]=$,this;case"function":return this.definitions.error=W(this.definitions.error),this}for(let[J,Y]of Object.entries(W))Y.prototype[FY]=J,this.definitions.error[J]=Y;return this}onError(W,$){if(!$)return this.on("error",W);return this.on(W,"error",$)}onStop(W){return this.on("stop",W),this}on(W,$,J){let Y;switch(typeof W){case"string":Y=W,J=$;break;case"object":if(Y=$,!Array.isArray($)&&typeof $==="object")J=$;break}if(Array.isArray(J))J=r1(J);else if(typeof J==="function")J=[{fn:J}];else J=[J];let X=J;for(let Q of X)if(Q.scope=typeof W==="string"?"local":W?.as??"local",Y==="resolve"||Y==="derive")Q.subType=Y;if(Y!=="trace")this.inference=S$({[Y]:X.map((Q)=>Q.fn)},this.inference);for(let Q of X){let M=_I(Q,"global",{skipIfHasType:!0});switch(Y){case"start":this.event.start??=[],this.event.start.push(M);break;case"request":this.event.request??=[],this.event.request.push(M);break;case"parse":this.event.parse??=[],this.event.parse.push(M);break;case"transform":this.event.transform??=[],this.event.transform.push(M);break;case"derive":this.event.transform??=[],this.event.transform.push(r1(M,"derive"));break;case"beforeHandle":this.event.beforeHandle??=[],this.event.beforeHandle.push(M);break;case"resolve":this.event.beforeHandle??=[],this.event.beforeHandle.push(r1(M,"resolve"));break;case"afterHandle":this.event.afterHandle??=[],this.event.afterHandle.push(M);break;case"mapResponse":this.event.mapResponse??=[],this.event.mapResponse.push(M);break;case"afterResponse":this.event.afterResponse??=[],this.event.afterResponse.push(M);break;case"trace":this.event.trace??=[],this.event.trace.push(M);break;case"error":this.event.error??=[],this.event.error.push(M);break;case"stop":this.event.stop??=[],this.event.stop.push(M);break}}return this}as(W){if($4(this.event.parse,W),$4(this.event.transform,W),$4(this.event.beforeHandle,W),$4(this.event.afterHandle,W),$4(this.event.mapResponse,W),$4(this.event.afterResponse,W),$4(this.event.trace,W),$4(this.event.error,W),W==="scoped"){if(this.validator.scoped=X$(this.validator.scoped,this.validator.local),this.validator.local=null,this.standaloneValidator.local!==null)this.standaloneValidator.scoped||=[],this.standaloneValidator.scoped.push(...this.standaloneValidator.local),this.standaloneValidator.local=null}else if(W==="global"){if(this.validator.global=X$(this.validator.global,X$(this.validator.scoped,this.validator.local)),this.validator.scoped=null,this.validator.local=null,this.standaloneValidator.local!==null)this.standaloneValidator.scoped||=[],this.standaloneValidator.scoped.push(...this.standaloneValidator.local),this.standaloneValidator.local=null;if(this.standaloneValidator.scoped!==null)this.standaloneValidator.global||=[],this.standaloneValidator.global.push(...this.standaloneValidator.scoped),this.standaloneValidator.scoped=null}return this}group(W,$,J){let Y=new Z0({...this.config,prefix:""});Y.singleton={...this.singleton},Y.definitions={...this.definitions},Y.getServer=()=>this.getServer(),Y.inference=mN(this.inference),Y.extender={...this.extender},Y["~parser"]=this["~parser"],Y.standaloneValidator={local:[...this.standaloneValidator.local??[]],scoped:[...this.standaloneValidator.scoped??[]],global:[...this.standaloneValidator.global??[]]};let X=typeof $==="object",Q=(X?J:$)(Y);if(this.singleton=Y5(this.singleton,Y.singleton),this.definitions=Y5(this.definitions,Y.definitions),Q.event.request?.length)this.event.request=[...this.event.request||[],...Q.event.request||[]];if(Q.event.mapResponse?.length)this.event.mapResponse=[...this.event.mapResponse||[],...Q.event.mapResponse||[]];return this.model(Q.definitions.type),Object.values(Y.router.history).forEach(({method:M,path:H,handler:G,hooks:B})=>{if(H=(X?"":this.config.prefix??"")+W+H,X){let{body:w,headers:A,query:q,params:N,cookie:z,response:D,..._}=$,L=B,S=w||A||q||N||z||D;this.add(M,H,G,H9(_,{...L||{},error:!L.error?Q.event.error:Array.isArray(L.error)?[...L.error??[],...Q.event.error??[]]:[L.error,...Q.event.error??[]],standaloneValidator:!S?L.standaloneValidator:[...L.standaloneValidator??[],{body:w,headers:A,query:q,params:N,cookie:z,response:D}]}),void 0)}else this.add(M,H,G,H9(B,{error:Q.event.error}),{skipPrefix:!0})}),this}guard(W,$){if(!$){if(typeof W==="object"){if(this.applyMacro(W),W.detail)if(this.config.detail)this.config.detail=Y5(Object.assign({},this.config.detail),W.detail);else this.config.detail=W.detail;if(W.tags)if(!this.config.detail)this.config.detail={tags:W.tags};else this.config.detail.tags=W.tags;let X=W.as??"local";if(W.schema==="standalone"){if(!this.standaloneValidator[X])this.standaloneValidator[X]=[];let Q=!W?.response?void 0:typeof W.response==="string"||(K in W.response)||("~standard"in W.response)?{200:W.response}:W?.response;this.standaloneValidator[X].push({body:W.body,headers:W.headers,params:W.params,query:W.query,response:Q,cookie:W.cookie})}else this.validator[X]={body:W.body??this.validator[X]?.body,headers:W.headers??this.validator[X]?.headers,params:W.params??this.validator[X]?.params,query:W.query??this.validator[X]?.query,response:W.response??this.validator[X]?.response,cookie:W.cookie??this.validator[X]?.cookie};if(W.parse)this.on({as:X},"parse",W.parse);if(W.transform)this.on({as:X},"transform",W.transform);if(W.derive)this.on({as:X},"derive",W.derive);if(W.beforeHandle)this.on({as:X},"beforeHandle",W.beforeHandle);if(W.resolve)this.on({as:X},"resolve",W.resolve);if(W.afterHandle)this.on({as:X},"afterHandle",W.afterHandle);if(W.mapResponse)this.on({as:X},"mapResponse",W.mapResponse);if(W.afterResponse)this.on({as:X},"afterResponse",W.afterResponse);if(W.error)this.on({as:X},"error",W.error);return this}return this.guard({},W)}let J=new Z0({...this.config,prefix:""});J.singleton={...this.singleton},J.definitions={...this.definitions},J.inference=mN(this.inference),J.extender={...this.extender},J.getServer=()=>this.getServer();let Y=$(J);if(this.singleton=Y5(this.singleton,J.singleton),this.definitions=Y5(this.definitions,J.definitions),Y.getServer=()=>this.server,Y.event.request?.length)this.event.request=[...this.event.request||[],...Y.event.request||[]];if(Y.event.mapResponse?.length)this.event.mapResponse=[...this.event.mapResponse||[],...Y.event.mapResponse||[]];return this.model(Y.definitions.type),Object.values(J.router.history).forEach(({method:X,path:Q,handler:M,hooks:H})=>{let{body:G,headers:B,query:w,params:A,cookie:q,response:N,...z}=W,D=G||B||w||A||q||N;this.add(X,Q,M,H9(z,{...H||{},error:!H.error?Y.event.error:Array.isArray(H.error)?[...H.error??[],...Y.event.error??[]]:[H.error,...Y.event.error??[]],standaloneValidator:!D?H.standaloneValidator:[...H.standaloneValidator??[],{body:G,headers:B,query:w,params:A,cookie:q,response:N}]}))}),this}use(W){if(!W)return this;if(Array.isArray(W)){let $=this;for(let J of W)$=$.use(J);return $}if(W instanceof Promise)return this.promisedModules.add(W.then(($)=>{if(typeof $==="function")return $(this);if($ instanceof Z0)return this._use($).compile();if($.constructor?.name==="Elysia")return this._use($).compile();if(typeof $.default==="function")return $.default(this);if($.default instanceof Z0)return this._use($.default);if($.constructor?.name==="Elysia")return this._use($.default);if($.constructor?.name==="_Elysia")return this._use($.default);try{return this._use($.default)}catch(J){throw console.error('Invalid plugin type. Expected Elysia instance, function, or module with "default" as Elysia instance or function that returns Elysia instance.'),J}}).then(($)=>{if($&&typeof $.compile==="function")$.compile();return $})),this;return this._use(W)}propagatePromiseModules(W){if(W.promisedModules.size<=0)return this;for(let $ of W.promisedModules.promises)this.promisedModules.add($.then((J)=>{if(!J)return;let Y=this._use(J);if(Y instanceof Promise)return Y.then((X)=>{if(X)X.compile();else J.compile()});return J.compile()}));return this}_use(W){if(typeof W==="function"){let Y=W(this);if(Y instanceof Promise)return this.promisedModules.add(Y.then((X)=>{if(X instanceof Z0){X.getServer=()=>this.getServer(),X.getGlobalRoutes=()=>this.getGlobalRoutes(),X.getGlobalDefinitions=()=>this.getGlobalDefinitions(),X.model(this.definitions.type),X.error(this.definitions.error);for(let{method:Q,path:M,handler:H,hooks:G}of Object.values(X.router.history))this.add(Q,M,H,G,void 0);if(X===this)return;return this.propagatePromiseModules(X),X}if(typeof X==="function")return X(this);if(typeof X.default==="function")return X.default(this);return this._use(X)}).then((X)=>{if(X&&typeof X.compile==="function")X.compile();return X})),this;return Y}this.propagatePromiseModules(W);let $=W.config.name,J=W.config.seed;if(W.getParent=()=>this,W.getServer=()=>this.getServer(),W.getGlobalRoutes=()=>this.getGlobalRoutes(),W.getGlobalDefinitions=()=>this.getGlobalDefinitions(),W.standaloneValidator?.scoped)if(this.standaloneValidator.local)this.standaloneValidator.local=this.standaloneValidator.local.concat(W.standaloneValidator.scoped);else this.standaloneValidator.local=W.standaloneValidator.scoped;if(W.standaloneValidator?.global)if(this.standaloneValidator.global)this.standaloneValidator.global=this.standaloneValidator.global.concat(W.standaloneValidator.global);else this.standaloneValidator.global=W.standaloneValidator.global;if(z1(W["~parser"]))this["~parser"]={...W["~parser"],...this["~parser"]};if(W.setHeaders)this.headers(W.setHeaders);if($){if(!($ in this.dependencies))this.dependencies[$]=[];let Y=J!==void 0?M$($+JSON.stringify(J)):0;if(!this.dependencies[$].some(({checksum:X})=>Y===X))this.extender.macro={...this.extender.macro,...W.extender.macro},this.extender.higherOrderFunctions=this.extender.higherOrderFunctions.concat(W.extender.higherOrderFunctions)}else{if(z1(W.extender.macro))this.extender.macro={...this.extender.macro,...W.extender.macro};if(W.extender.higherOrderFunctions.length)this.extender.higherOrderFunctions=this.extender.higherOrderFunctions.concat(W.extender.higherOrderFunctions)}if(W.extender.higherOrderFunctions.length){CI(this.extender.higherOrderFunctions);let Y=[];for(let X=0;X<this.extender.higherOrderFunctions.length;X++){let Q=this.extender.higherOrderFunctions[X];if(Q.checksum){if(Y.includes(Q.checksum))this.extender.higherOrderFunctions.splice(X,1),X--;Y.push(Q.checksum)}}Y.length=0}if(this.inference=VM(this.inference,W.inference),z1(W.singleton.decorator))this.decorate(W.singleton.decorator);if(z1(W.singleton.store))this.state(W.singleton.store);if(z1(W.definitions.type))this.model(W.definitions.type);if(z1(W.definitions.error))this.error(W.definitions.error);if(z1(W.extender.macro))this.extender.macro={...this.extender.macro,...W.extender.macro};for(let{method:Y,path:X,handler:Q,hooks:M}of Object.values(W.router.history))this.add(Y,X,Q,M);if($){if(!($ in this.dependencies))this.dependencies[$]=[];let Y=J!==void 0?M$($+JSON.stringify(J)):0;if(this.dependencies[$].some(({checksum:X})=>Y===X))return this;if(this.dependencies[$].push(this.config?.analytic?{name:W.config.name,seed:W.config.seed,checksum:Y,dependencies:W.dependencies,stack:W.telemetry?.stack,routes:W.router.history,decorators:W.singleton,store:W.singleton.store,error:W.definitions.error,derive:W.event.transform?.filter((X)=>X?.subType==="derive").map((X)=>({fn:X.toString(),stack:Error().stack??""})),resolve:W.event.transform?.filter((X)=>X?.subType==="resolve").map((X)=>({fn:X.toString(),stack:Error().stack??""}))}:{name:W.config.name,seed:W.config.seed,checksum:Y,dependencies:W.dependencies}),z1(W.event))this.event=gN(this.event,fN(W.event),Y)}else if(z1(W.event))this.event=gN(this.event,fN(W.event));if(W.validator.global)this.validator.global=H9(this.validator.global,{...W.validator.global});if(W.validator.scoped)this.validator.local=H9(this.validator.local,{...W.validator.scoped});return this}macro(W,$){if(typeof W==="string"&&!$)throw Error("Macro function is required");if(typeof W==="string")this.extender.macro[W]=$;else this.extender.macro={...this.extender.macro,...W};return this}applyMacro(W,$=W,{iteration:J=0,applied:Y={}}={}){if(J>=16)return;let X=this.extender.macro;for(let[Q,M]of Object.entries($)){if(Q in X===!1)continue;let H=typeof X[Q]==="function"?X[Q](M):X[Q];if(!H||typeof X[Q]==="object"&&M===!1)return;let G=M$(Q+JSON.stringify(H.seed??M));if(G in Y)continue;Y[G]=!0;for(let[B,w]of Object.entries(H)){if(B==="seed")continue;if(B in bI){jI(W,B,w),delete W[Q];continue}if(B==="detail"){if(!W.detail)W.detail={};W.detail=Y5(W.detail,w,{mergeArray:!0}),delete W[Q];continue}if(B in X){this.applyMacro(W,{[B]:w},{applied:Y,iteration:J+1}),delete W[Q];continue}if((B==="derive"||B==="resolve")&&typeof w==="function")w={fn:w,subType:B};switch(typeof W[B]){case"function":W[B]=[W[B],w];break;case"object":if(Array.isArray(W[B]))W[B].push(w);else W[B]=[W[B],w];break;case"undefined":W[B]=w;break}delete W[Q]}}}mount(W,$,J){if(W instanceof Z0||typeof W==="function"||W.length===0||W==="/"){let M=typeof W==="function"?W:W instanceof Z0?W.compile().fetch:$ instanceof Z0?$.compile().fetch:typeof $==="function"?$:(()=>{throw Error("Invalid handler")})(),H=({request:G,path:B})=>M(new Request(kN(G.url,B),{method:G.method,headers:G.headers,signal:G.signal,credentials:G.credentials,referrerPolicy:G.referrerPolicy,duplex:G.duplex,redirect:G.redirect,mode:G.mode,keepalive:G.keepalive,integrity:G.integrity,body:G.body}));return this.route("ALL","/*",H,{parse:"none",...J,detail:{...J?.detail,hide:!0},config:{mount:M}}),this}let Y=$ instanceof Z0?$.compile().fetch:typeof $==="function"?$:(()=>{throw Error("Invalid handler")})(),X=W.length-(W.endsWith("*")?1:0),Q=({request:M,path:H})=>Y(new Request(kN(M.url,H.slice(X)||"/"),{method:M.method,headers:M.headers,signal:M.signal,credentials:M.credentials,referrerPolicy:M.referrerPolicy,duplex:M.duplex,redirect:M.redirect,mode:M.mode,keepalive:M.keepalive,integrity:M.integrity,body:M.body}));return this.route("ALL",W,Q,{parse:"none",...J,detail:{...J?.detail,hide:!0},config:{mount:Y}}),this.route("ALL",W+(W.endsWith("/")?"*":"/*"),Q,{parse:"none",...J,detail:{...J?.detail,hide:!0},config:{mount:Y}}),this}get(W,$,J){return this.add("GET",W,$,J),this}post(W,$,J){return this.add("POST",W,$,J),this}put(W,$,J){return this.add("PUT",W,$,J),this}patch(W,$,J){return this.add("PATCH",W,$,J),this}delete(W,$,J){return this.add("DELETE",W,$,J),this}options(W,$,J){return this.add("OPTIONS",W,$,J),this}all(W,$,J){return this.add("ALL",W,$,J),this}head(W,$,J){return this.add("HEAD",W,$,J),this}connect(W,$,J){return this.add("CONNECT",W,$,J),this}route(W,$,J,Y){return this.add(W.toUpperCase(),$,J,Y,Y?.config),this}ws(W,$){if(this["~adapter"].ws)this["~adapter"].ws(this,W,$);else console.warn("Current adapter doesn't support WebSocket");return this}state(W,$,J){if($===void 0)J=W,W={as:"append"},$="";else if(J===void 0){if(typeof W==="string")J=$,$=W,W={as:"append"};else if(typeof W==="object")J=$,$=""}let{as:Y}=W;if(typeof $!=="string")return this;switch(typeof J){case"object":if(!J||!z1(J))return this;if($){if($ in this.singleton.store)this.singleton.store[$]=Y5(this.singleton.store[$],J,{override:Y==="override"});else this.singleton.store[$]=J;return this}if(J===null)return this;return this.singleton.store=Y5(this.singleton.store,J,{override:Y==="override"}),this;case"function":if($){if(Y==="override"||!($ in this.singleton.store))this.singleton.store[$]=J}else this.singleton.store=J(this.singleton.store);return this;default:if(Y==="override"||!($ in this.singleton.store))this.singleton.store[$]=J;return this}}decorate(W,$,J){if($===void 0)J=W,W={as:"append"},$="";else if(J===void 0){if(typeof W==="string")J=$,$=W,W={as:"append"};else if(typeof W==="object")J=$,$=""}let{as:Y}=W;if(typeof $!=="string")return this;switch(typeof J){case"object":if($){if($ in this.singleton.decorator)this.singleton.decorator[$]=Y5(this.singleton.decorator[$],J,{override:Y==="override"});else this.singleton.decorator[$]=J;return this}if(J===null)return this;return this.singleton.decorator=Y5(this.singleton.decorator,J,{override:Y==="override"}),this;case"function":if($){if(Y==="override"||!($ in this.singleton.decorator))this.singleton.decorator[$]=J}else this.singleton.decorator=J(this.singleton.decorator);return this;default:if(Y==="override"||!($ in this.singleton.decorator))this.singleton.decorator[$]=J;return this}}derive(W,$){if(!$)$=W,W={as:"local"};let J={subType:"derive",fn:$};return this.onTransform(W,J)}model(W,$){let J=(Y)=>{let X={};for(let Q in Y)if(!("~standard"in Y[Q]))X[Q]=Y[Q];return X};switch(typeof W){case"object":let Y={},X=Object.entries(W);if(!X.length)return this;for(let[H,G]of X){if(H in this.definitions.type)continue;if("~standard"in G)this.definitions.type[H]=G;else Y[H]=this.definitions.type[H]=G,Y[H].$id??=`#/components/schemas/${H}`}return this.definitions.typebox=U.Module({...this.definitions.typebox.$defs,...Y}),this;case"function":let Q=W(this.definitions.type);return this.definitions.type=Q,this.definitions.typebox=U.Module(J(Q)),this;case"string":if(!$)break;if(this.definitions.type[W]=$,"~standard"in $)return this;let M={...$,id:$.$id??`#/components/schemas/${W}`};return this.definitions.typebox=U.Module({...this.definitions.typebox.$defs,...M}),this}if(!$)return this;if(this.definitions.type[W]=$,"~standard"in $)return this;return this.definitions.typebox=U.Module({...this.definitions.typebox.$defs,[W]:$}),this}Ref(W){return U.Ref(W)}mapDerive(W,$){if(!$)$=W,W={as:"local"};let J={subType:"mapDerive",fn:$};return this.onTransform(W,J)}affix(W,$,J){if(J==="")return this;let Y=["_","-"," "],X=(G)=>G[0].toUpperCase()+G.slice(1),Q=W==="prefix"?(G,B)=>Y.includes(G.at(-1)??"")?G+B:G+X(B):Y.includes(J.at(-1)??"")?(G,B)=>B+G:(G,B)=>B+X(G),M=(G)=>{let B={};switch(G){case"decorator":for(let w in this.singleton.decorator)B[Q(J,w)]=this.singleton.decorator[w];this.singleton.decorator=B;break;case"state":for(let w in this.singleton.store)B[Q(J,w)]=this.singleton.store[w];this.singleton.store=B;break;case"model":for(let w in this.definitions.type)B[Q(J,w)]=this.definitions.type[w];this.definitions.type=B;break;case"error":for(let w in this.definitions.error)B[Q(J,w)]=this.definitions.error[w];this.definitions.error=B;break}},H=Array.isArray($)?$:[$];for(let G of H.some((B)=>B==="all")?["decorator","state","model","error"]:H)M(G);return this}prefix(W,$){return this.affix("prefix",W,$)}suffix(W,$){return this.affix("suffix",W,$)}compile(){if(this["~adapter"].beforeCompile?.(this),this["~adapter"].isWebStandard){if(this.fetch=this.config.aot?DM(this):Yq(this),typeof this.server?.reload==="function")this.server.reload({...this.server||{},fetch:this.fetch});return this}if(typeof this.server?.reload==="function")this.server.reload(this.server||{});return this._handle=DM(this),this}handle=async(W)=>this.fetch(W);fetch=(W)=>{return(this.fetch=this.config.aot?DM(this):Yq(this))(W)};handleError=async(W,$)=>{return(this.handleError=this.config.aot?Rq(this):Ux(this))(W,$)};listen=(W,$)=>{if(this["~adapter"].listen(this)(W,$),this.promisedModules.size)nN(5000);return this.promisedModules.then(()=>{nN(1000)}),this};stop=async(W)=>{return await this["~adapter"].stop?.(this,W),this};[Symbol.dispose]=()=>{if(this.server)this.stop()};get modules(){return this.promisedModules}}var Tq=`/* basic theme */
:root {
  --scalar-text-decoration: underline;
  --scalar-text-decoration-hover: underline;
}
.light-mode,
.light-mode .dark-mode {
  --scalar-background-1: #f9f9f9;
  --scalar-background-2: #f1f1f1;
  --scalar-background-3: #e7e7e7;
  --scalar-background-card: #fff;

  --scalar-color-1: #2a2f45;
  --scalar-color-2: #757575;
  --scalar-color-3: #8e8e8e;

  --scalar-color-accent: var(--scalar-color-1);
  --scalar-background-accent: var(--scalar-background-3);

  --scalar-border-color: rgba(0, 0, 0, 0.1);
}
.dark-mode {
  --scalar-background-1: #131313;
  --scalar-background-2: #1d1d1d;
  --scalar-background-3: #272727;
  --scalar-background-card: #1d1d1d;

  --scalar-color-1: rgba(255, 255, 255, 0.9);
  --scalar-color-2: rgba(255, 255, 255, 0.62);
  --scalar-color-3: rgba(255, 255, 255, 0.44);

  --scalar-color-accent: var(--scalar-color-1);
  --scalar-background-accent: var(--scalar-background-3);

  --scalar-border-color: #2a2b2a;
}
/* Document Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-hover-color: currentColor;

  --scalar-sidebar-item-active-background: var(--scalar-background-accent);
  --scalar-sidebar-color-active: var(--scalar-color-accent);

  --scalar-sidebar-search-background: transparent;
  --scalar-sidebar-search-color: var(--scalar-color-3);
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
}
/* advanced */
.light-mode .dark-mode,
.light-mode {
  --scalar-color-green: #069061;
  --scalar-color-red: #ef0006;
  --scalar-color-yellow: #edbe20;
  --scalar-color-blue: #0082d0;
  --scalar-color-orange: #fb892c;
  --scalar-color-purple: #5203d1;

  --scalar-button-1: rgba(0, 0, 0, 1);
  --scalar-button-1-hover: rgba(0, 0, 0, 0.8);
  --scalar-button-1-color: rgba(255, 255, 255, 0.9);
}
.dark-mode {
  --scalar-color-green: #00b648;
  --scalar-color-red: #dd2f2c;
  --scalar-color-yellow: #ffc90d;
  --scalar-color-blue: #4eb3ec;
  --scalar-color-orange: #ff8d4d;
  --scalar-color-purple: #b191f9;

  --scalar-button-1: rgba(255, 255, 255, 1);
  --scalar-button-1-hover: rgba(255, 255, 255, 0.9);
  --scalar-button-1-color: black;
}

.scalar-api-client__item,
.scalar-card,
.dark-mode .dark-mode.scalar-card {
  --scalar-background-1: var(--scalar-background-card);
  --scalar-background-2: var(--scalar-background-1);
  --scalar-background-3: var(--scalar-background-1);
}
.dark-mode .dark-mode.scalar-card {
  --scalar-background-3: var(--scalar-background-3);
}
.t-doc__sidebar {
  --scalar-color-green: var(--scalar-color-1);
  --scalar-color-red: var(--scalar-color-1);
  --scalar-color-yellow: var(--scalar-color-1);
  --scalar-color-blue: var(--scalar-color-1);
  --scalar-color-orange: var(--scalar-color-1);
  --scalar-color-purple: var(--scalar-color-1);
}
.light-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-blue), transparent 70%);
}
.dark-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-blue), transparent 50%);
}
`;var kq=`/* basic theme */
:root {
  --scalar-text-decoration: underline;
  --scalar-text-decoration-hover: underline;
}
.light-mode {
  --scalar-background-1: #f0f2f5;
  --scalar-background-2: #eaecf0;
  --scalar-background-3: #e0e2e6;
  --scalar-border-color: rgb(213 213 213);

  --scalar-color-1: rgb(9, 9, 11);
  --scalar-color-2: rgb(113, 113, 122);
  --scalar-color-3: rgba(25, 25, 28, 0.5);

  --scalar-color-accent: var(--scalar-color-1);
  --scalar-background-accent: #8ab4f81f;
}
.light-mode .scalar-card.dark-mode,
.dark-mode {
  --scalar-background-1: #000e23;
  --scalar-background-2: #01132e;
  --scalar-background-3: #03193b;
  --scalar-border-color: #2e394c;

  --scalar-color-1: #fafafa;
  --scalar-color-2: rgb(161, 161, 170);
  --scalar-color-3: rgba(255, 255, 255, 0.533);

  --scalar-color-accent: var(--scalar-color-1);
  --scalar-background-accent: #8ab4f81f;

  --scalar-code-language-color-supersede: var(--scalar-color-1);
}
/* Document Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-hover-color: currentColor;

  --scalar-sidebar-item-active-background: var(--scalar-background-3);
  --scalar-sidebar-color-active: var(--scalar-color-accent);

  --scalar-sidebar-search-background: rgba(255, 255, 255, 0.1);
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
  --scalar-sidebar-search-color: var(--scalar-color-3);
  z-index: 1;
}
.light-mode .t-doc__sidebar {
  --scalar-sidebar-search-background: white;
}
/* advanced */
.light-mode {
  --scalar-color-green: #069061;
  --scalar-color-red: #ef0006;
  --scalar-color-yellow: #edbe20;
  --scalar-color-blue: #0082d0;
  --scalar-color-orange: #fb892c;
  --scalar-color-purple: #5203d1;

  --scalar-button-1: rgba(0, 0, 0, 1);
  --scalar-button-1-hover: rgba(0, 0, 0, 0.8);
  --scalar-button-1-color: rgba(255, 255, 255, 0.9);
}
.dark-mode {
  --scalar-color-green: rgba(69, 255, 165, 0.823);
  --scalar-color-red: #ff8589;
  --scalar-color-yellow: #ffcc4d;
  --scalar-color-blue: #6bc1fe;
  --scalar-color-orange: #f98943;
  --scalar-color-purple: #b191f9;

  --scalar-button-1: rgba(255, 255, 255, 1);
  --scalar-button-1-hover: rgba(255, 255, 255, 0.9);
  --scalar-button-1-color: black;
}
/* Custom theme */
/* Document header */
@keyframes headerbackground {
  from {
    background: transparent;
    backdrop-filter: none;
  }
  to {
    background: var(--header-background-1);
    backdrop-filter: blur(12px);
  }
}
.dark-mode h2.t-editor__heading,
.dark-mode .t-editor__page-title h1,
.dark-mode h1.section-header:not(::selection),
.dark-mode .markdown h1,
.dark-mode .markdown h2,
.dark-mode .markdown h3,
.dark-mode .markdown h4,
.dark-mode .markdown h5,
.dark-mode .markdown h6 {
  -webkit-text-fill-color: transparent;
  background-image: linear-gradient(to right bottom, rgb(255, 255, 255) 30%, rgba(255, 255, 255, 0.38));
  -webkit-background-clip: text;
  background-clip: text;
}
/* Hero Section Flare */
.section-flare-item:nth-of-type(1) {
  --c1: #ffffff;
  --c2: #babfd8;
  --c3: #2e8bb2;
  --c4: #1a8593;
  --c5: #0a143e;
  --c6: #0a0f52;
  --c7: #2341b8;

  --solid: var(--c1), var(--c2), var(--c3), var(--c4), var(--c5), var(--c6), var(--c7);
  --solid-wrap: var(--solid), var(--c1);
  --trans:
    var(--c1), transparent, var(--c2), transparent, var(--c3),
    transparent, var(--c4), transparent, var(--c5), transparent, var(--c6),
    transparent, var(--c7);
  --trans-wrap: var(--trans), transparent, var(--c1);

  background: radial-gradient(circle, var(--trans)), conic-gradient(from 180deg, var(--trans-wrap)),
    radial-gradient(circle, var(--trans)), conic-gradient(var(--solid-wrap));
  width: 70vw;
  height: 700px;
  border-radius: 50%;
  filter: blur(100px);
  z-index: 0;
  right: 0;
  position: absolute;
  transform: rotate(-45deg);
  top: -300px;
  opacity: 0.3;
}
.section-flare-item:nth-of-type(3) {
  --star-color: #6b9acc;
  --star-color2: #446b8d;
  --star-color3: #3e5879;
  background-image: radial-gradient(2px 2px at 20px 30px, var(--star-color2), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 40px 70px, var(--star-color), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 50px 160px, var(--star-color3), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 90px 40px, var(--star-color), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 130px 80px, var(--star-color), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 160px 120px, var(--star-color3), rgba(0, 0, 0, 0));
  background-repeat: repeat;
  background-size: 200px 200px;
  width: 100%;
  height: 100%;
  mask-image: radial-gradient(ellipse at 100% 0%, black 40%, transparent 70%);
}
.section-flare {
  top: -150px !important;
  height: 100vh;
  background: linear-gradient(#000, var(--scalar-background-1));
  width: 100vw;
  overflow-x: hidden;
}
.light-mode .section-flare {
  display: none;
}
.light-mode .scalar-card {
  --scalar-background-1: #fff;
  --scalar-background-2: #fff;
  --scalar-background-3: #fff;
}

*::selection {
  background-color: color-mix(in srgb, var(--scalar-color-blue), transparent 60%);
}
`;var gq=`/* basic theme */
:root {
  --scalar-text-decoration: underline;
  --scalar-text-decoration-hover: underline;
}
.light-mode {
  --scalar-color-1: rgb(9, 9, 11);
  --scalar-color-2: rgb(113, 113, 122);
  --scalar-color-3: rgba(25, 25, 28, 0.5);
  --scalar-color-accent: var(--scalar-color-1);

  --scalar-background-1: #fff;
  --scalar-background-2: #f4f4f5;
  --scalar-background-3: #e3e3e6;
  --scalar-background-accent: #8ab4f81f;

  --scalar-border-color: rgb(228, 228, 231);
  --scalar-code-language-color-supersede: var(--scalar-color-1);
}
.dark-mode {
  --scalar-color-1: #fafafa;
  --scalar-color-2: rgb(161, 161, 170);
  --scalar-color-3: rgba(255, 255, 255, 0.533);
  --scalar-color-accent: var(--scalar-color-1);

  --scalar-background-1: #09090b;
  --scalar-background-2: #18181b;
  --scalar-background-3: #2c2c30;
  --scalar-background-accent: #8ab4f81f;

  --scalar-border-color: rgba(255, 255, 255, 0.16);
  --scalar-code-language-color-supersede: var(--scalar-color-1);
}

/* Document Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-color: currentColor;
  --scalar-sidebar-item-hover-background: var(--scalar-background-2);

  --scalar-sidebar-item-active-background: var(--scalar-background-3);
  --scalar-sidebar-color-active: var(--scalar-color-accent);

  --scalar-sidebar-search-background: transparent;
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
  --scalar-sidebar-search-color: var(--scalar-color-3);
}
.light-mode .t-doc__sidebar {
  --scalar-sidebar-item-active-background: var(--scalar-background-2);
}
/* advanced */
.light-mode {
  --scalar-color-green: #069061;
  --scalar-color-red: #ef0006;
  --scalar-color-yellow: #edbe20;
  --scalar-color-blue: #0082d0;
  --scalar-color-orange: #fb892c;
  --scalar-color-purple: #5203d1;

  --scalar-button-1: rgba(0, 0, 0, 1);
  --scalar-button-1-hover: rgba(0, 0, 0, 0.8);
  --scalar-button-1-color: rgba(255, 255, 255, 0.9);
}
.dark-mode {
  --scalar-color-green: rgba(69, 255, 165, 0.823);
  --scalar-color-red: #ff8589;
  --scalar-color-yellow: #ffcc4d;
  --scalar-color-blue: #6bc1fe;
  --scalar-color-orange: #f98943;
  --scalar-color-purple: #b191f9;

  --scalar-button-1: rgba(255, 255, 255, 1);
  --scalar-button-1-hover: rgba(255, 255, 255, 0.9);
  --scalar-button-1-color: black;
}
/* Custom theme */
.dark-mode h2.t-editor__heading,
.dark-mode .t-editor__page-title h1,
.dark-mode h1.section-header:not(::selection),
.dark-mode .markdown h1,
.dark-mode .markdown h2,
.dark-mode .markdown h3,
.dark-mode .markdown h4,
.dark-mode .markdown h5,
.dark-mode .markdown h6 {
  -webkit-text-fill-color: transparent;
  background-image: linear-gradient(to right bottom, rgb(255, 255, 255) 30%, rgba(255, 255, 255, 0.38));
  -webkit-background-clip: text;
  background-clip: text;
}
.examples .scalar-card-footer {
  --scalar-background-3: transparent;
  padding-top: 0;
}
/* Hero section flare */
.section-flare {
  width: 100vw;
  height: 550px;
  position: absolute;
}
.section-flare-item:nth-of-type(1) {
  position: absolute;
  width: 100vw;
  height: 550px;
  --stripesDark: repeating-linear-gradient(100deg, #000 0%, #000 7%, transparent 10%, transparent 12%, #000 16%);
  --rainbow: repeating-linear-gradient(100deg, #fff 10%, #fff 16%, #fff 22%, #fff 30%);
  background-image: var(--stripesDark), var(--rainbow);
  background-size: 300%, 200%;
  background-position: 50% 50%, 50% 50%;
  filter: invert(100%);
  -webkit-mask-image: radial-gradient(ellipse at 100% 0%, black 40%, transparent 70%);
  mask-image: radial-gradient(ellipse at 100% 0%, black 40%, transparent 70%);
  pointer-events: none;
  opacity: 0.07;
}
.dark-mode .section-flare-item:nth-of-type(1) {
  background-image: var(--stripesDark), var(--rainbow);
  filter: opacity(50%) saturate(200%);
  opacity: 0.25;
  height: 350px;
}
.section-flare-item:nth-of-type(1):after {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-image: var(--stripesDark), var(--rainbow);
  background-size: 200%, 100%;
  background-attachment: fixed;
  mix-blend-mode: difference;
}
.dark-mode .section-flare:after {
  background-image: var(--stripesDark), var(--rainbow);
}
.section-flare-item:nth-of-type(2) {
  --star-color: #fff;
  --star-color2: #fff;
  --star-color3: #fff;
  width: 100%;
  height: 100%;
  position: absolute;
  background-image: radial-gradient(2px 2px at 20px 30px, var(--star-color2), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 40px 70px, var(--star-color), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 50px 160px, var(--star-color3), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 90px 40px, var(--star-color), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 130px 80px, var(--star-color), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 160px 120px, var(--star-color3), rgba(0, 0, 0, 0));
  background-repeat: repeat;
  background-size: 200px 200px;
  mask-image: radial-gradient(ellipse at 100% 0%, black 40%, transparent 70%);
  opacity: 0.2;
}
.light-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-blue), transparent 70%);
}
.dark-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-blue), transparent 50%);
}
`;var fq=`/* basic theme */
.light-mode {
  --scalar-background-1: #fff;
  --scalar-background-2: #f6f6f6;
  --scalar-background-3: #e7e7e7;
  --scalar-background-accent: #8ab4f81f;

  --scalar-color-1: #2a2f45;
  --scalar-color-2: #757575;
  --scalar-color-3: #8e8e8e;

  --scalar-color-accent: #0099ff;
  --scalar-border-color: #dfdfdf;
}
.dark-mode {
  --scalar-background-1: #0f0f0f;
  --scalar-background-2: #1a1a1a;
  --scalar-background-3: #272727;

  --scalar-color-1: #e7e7e7;
  --scalar-color-2: #a4a4a4;
  --scalar-color-3: #797979;

  --scalar-color-accent: #3ea6ff;
  --scalar-background-accent: #3ea6ff1f;

  --scalar-border-color: #2d2d2d;
}
/* Document Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-hover-color: currentColor;

  --scalar-sidebar-item-active-background: var(--scalar-background-2);
  --scalar-sidebar-color-active: var(--scalar-color-1);

  --scalar-sidebar-indent-border: var(--scalar-sidebar-border-color);
  --scalar-sidebar-indent-border-hover: var(--scalar-sidebar-border-color);
  --scalar-sidebar-indent-border-active: var(--scalar-sidebar-border-color);

  --scalar-sidebar-search-background: transparent;
  --scalar-sidebar-search-color: var(--scalar-color-3);
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
}
/* advanced */
.light-mode {
  --scalar-color-green: #069061;
  --scalar-color-red: #ef0006;
  --scalar-color-yellow: #edbe20;
  --scalar-color-blue: #0082d0;
  --scalar-color-orange: #fb892c;
  --scalar-color-purple: #5203d1;

  --scalar-button-1: rgba(0, 0, 0, 1);
  --scalar-button-1-hover: rgba(0, 0, 0, 0.8);
  --scalar-button-1-color: rgba(255, 255, 255, 0.9);

  --scalar-color-danger: color-mix(in srgb, var(--scalar-color-red), var(--scalar-color-1) 20%);

  --scalar-background-alert: color-mix(in srgb, var(--scalar-color-orange), var(--scalar-background-1) 95%);
  --scalar-background-danger: color-mix(in srgb, var(--scalar-color-red), var(--scalar-background-1) 95%);
}
.dark-mode {
  --scalar-color-green: #00b648;
  --scalar-color-red: #dc1b19;
  --scalar-color-yellow: #ffc90d;
  --scalar-color-blue: #4eb3ec;
  --scalar-color-orange: #ff8d4d;
  --scalar-color-purple: #b191f9;

  --scalar-button-1: rgba(255, 255, 255, 1);
  --scalar-button-1-hover: rgba(255, 255, 255, 0.9);
  --scalar-button-1-color: black;

  --scalar-color-danger: color-mix(in srgb, var(--scalar-color-red), var(--scalar-background-1) 20%);

  --scalar-background-alert: color-mix(in srgb, var(--scalar-color-orange), var(--scalar-background-1) 95%);
  --scalar-background-danger: color-mix(in srgb, var(--scalar-color-red), var(--scalar-background-1) 95%);
}
@supports (color: color(display-p3 1 1 1)) {
  .light-mode {
    --scalar-color-accent: color(display-p3 0.0 0.6 1.0 / 1.0);
    --scalar-color-green: color(display-p3 0.023529 0.564706 0.380392 / 1.0);
    --scalar-color-red: color(display-p3 0.937255 0.0 0.023529 / 1.0);
    --scalar-color-yellow: color(display-p3 0.929412 0.745098 0.12549 / 1.0);
    --scalar-color-blue: color(display-p3 0.0 0.509804 0.815686 / 1.0);
    --scalar-color-orange: color(display-p3 0.984314 0.537255 0.172549 / 1.0);
    --scalar-color-purple: color(display-p3 0.321569 0.011765 0.819608 / 1.0);
  }
  .dark-mode {
    --scalar-color-accent: color(display-p3 0.243137 0.65098 1.0 / 1.0);
    --scalar-color-green: color(display-p3 0.0 0.713725 0.282353 / 1.0);
    --scalar-color-red: color(display-p3 0.862745 0.105882 0.098039 / 1.0);
    --scalar-color-yellow: color(display-p3 1.0 0.788235 0.05098 / 1.0);
    --scalar-color-blue: color(display-p3 0.305882 0.701961 0.92549 / 1.0);
    --scalar-color-orange: color(display-p3 1.0 0.552941 0.301961 / 1.0);
    --scalar-color-purple: color(display-p3 0.694118 0.568627 0.976471 / 1.0);
  }
}
`;var gY=`.light-mode {
  --scalar-color-1: #2a2f45;
  --scalar-color-2: #757575;
  --scalar-color-3: #8e8e8e;
  --scalar-color-accent: #f06292;

  --scalar-background-1: #fff;
  --scalar-background-2: #f6f6f6;
  --scalar-background-3: #e7e7e7;

  --scalar-border-color: rgba(0, 0, 0, 0.1);
}
.dark-mode {
  --scalar-color-1: rgba(255, 255, 255, 0.9);
  --scalar-color-2: rgba(156, 163, 175, 1);
  --scalar-color-3: rgba(255, 255, 255, 0.44);
  --scalar-color-accent: #f06292;

  --scalar-background-1: #111728;
  --scalar-background-2: #1e293b;
  --scalar-background-3: #334155;
  --scalar-background-accent: #f062921f;

  --scalar-border-color: rgba(255, 255, 255, 0.1);
}

/* Document Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-hover-color: currentColor;

  --scalar-sidebar-item-active-background: #f062921f;
  --scalar-sidebar-color-active: var(--scalar-color-accent);

  --scalar-sidebar-search-background: transparent;
  --scalar-sidebar-search-color: var(--scalar-color-3);
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
}

/* advanced */
.light-mode {
  --scalar-button-1: rgb(49 53 56);
  --scalar-button-1-color: #fff;
  --scalar-button-1-hover: rgb(28 31 33);

  --scalar-color-green: #069061;
  --scalar-color-red: #ef0006;
  --scalar-color-yellow: #edbe20;
  --scalar-color-blue: #0082d0;
  --scalar-color-orange: #fb892c;
  --scalar-color-purple: #5203d1;

  --scalar-scrollbar-color: rgba(0, 0, 0, 0.18);
  --scalar-scrollbar-color-active: rgba(0, 0, 0, 0.36);
}
.dark-mode {
  --scalar-button-1: #f6f6f6;
  --scalar-button-1-color: #000;
  --scalar-button-1-hover: #e7e7e7;

  --scalar-color-green: #a3ffa9;
  --scalar-color-red: #ffa3a3;
  --scalar-color-yellow: #fffca3;
  --scalar-color-blue: #a5d6ff;
  --scalar-color-orange: #e2ae83;
  --scalar-color-purple: #d2a8ff;

  --scalar-scrollbar-color: rgba(255, 255, 255, 0.24);
  --scalar-scrollbar-color-active: rgba(255, 255, 255, 0.48);
}
.section-flare {
  width: 100%;
  height: 400px;
  position: absolute;
}
.section-flare-item:first-of-type:before {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  --stripes: repeating-linear-gradient(100deg, #fff 0%, #fff 0%, transparent 2%, transparent 12%, #fff 17%);
  --stripesDark: repeating-linear-gradient(100deg, #000 0%, #000 0%, transparent 10%, transparent 12%, #000 17%);
  --rainbow: repeating-linear-gradient(100deg, #60a5fa 10%, #e879f9 16%, #5eead4 22%, #60a5fa 30%);
  contain: strict;
  contain-intrinsic-size: 100vw 40vh;
  background-image: var(--stripesDark), var(--rainbow);
  background-size: 300%, 200%;
  background-position: 50% 50%, 50% 50%;
  filter: opacity(20%) saturate(200%);
  -webkit-mask-image: radial-gradient(ellipse at 100% 0%, black 40%, transparent 70%);
  mask-image: radial-gradient(ellipse at 100% 0%, black 40%, transparent 70%);
  pointer-events: none;
}
.section-flare-item:first-of-type:after {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-image: var(--stripes), var(--rainbow);
  background-size: 200%, 100%;
  background-attachment: fixed;
  mix-blend-mode: difference;
  background-image: var(--stripesDark), var(--rainbow);
  pointer-events: none;
}
.light-mode .section-flare-item:first-of-type:after,
.light-mode .section-flare-item:first-of-type:before {
  background-image: var(--stripes), var(--rainbow);
  filter: opacity(4%) saturate(200%);
}
`;var vq=`.light-mode {
  color-scheme: light;
  --scalar-color-1: #1c1e21;
  --scalar-color-2: #757575;
  --scalar-color-3: #8e8e8e;
  --scalar-color-disabled: #b4b1b1;
  --scalar-color-ghost: #a7a7a7;
  --scalar-color-accent: #2f8555;
  --scalar-background-1: #fff;
  --scalar-background-2: #f5f5f5;
  --scalar-background-3: #ededed;
  --scalar-background-4: rgba(0, 0, 0, 0.06);
  --scalar-background-accent: #2f85551f;

  --scalar-border-color: rgba(0, 0, 0, 0.1);
  --scalar-scrollbar-color: rgba(0, 0, 0, 0.18);
  --scalar-scrollbar-color-active: rgba(0, 0, 0, 0.36);
  --scalar-lifted-brightness: 1;
  --scalar-backdrop-brightness: 1;

  --scalar-shadow-1: 0 1px 3px 0 rgba(0, 0, 0, 0.11);
  --scalar-shadow-2: rgba(0, 0, 0, 0.08) 0px 13px 20px 0px, rgba(0, 0, 0, 0.08) 0px 3px 8px 0px, #eeeeed 0px 0 0 1px;

  --scalar-button-1: rgb(49 53 56);
  --scalar-button-1-color: #fff;
  --scalar-button-1-hover: rgb(28 31 33);

  --scalar-color-green: #007300;
  --scalar-color-red: #af272b;
  --scalar-color-yellow: #b38200;
  --scalar-color-blue: #3b8ba5;
  --scalar-color-orange: #fb892c;
  --scalar-color-purple: #5203d1;
}

.dark-mode {
  color-scheme: dark;
  --scalar-color-1: rgba(255, 255, 255, 0.9);
  --scalar-color-2: rgba(255, 255, 255, 0.62);
  --scalar-color-3: rgba(255, 255, 255, 0.44);
  --scalar-color-disabled: rgba(255, 255, 255, 0.34);
  --scalar-color-ghost: rgba(255, 255, 255, 0.26);
  --scalar-color-accent: #27c2a0;
  --scalar-background-1: #1b1b1d;
  --scalar-background-2: #242526;
  --scalar-background-3: #3b3b3b;
  --scalar-background-4: rgba(255, 255, 255, 0.06);
  --scalar-background-accent: #27c2a01f;

  --scalar-border-color: rgba(255, 255, 255, 0.1);
  --scalar-scrollbar-color: rgba(255, 255, 255, 0.24);
  --scalar-scrollbar-color-active: rgba(255, 255, 255, 0.48);
  --scalar-lifted-brightness: 1.45;
  --scalar-backdrop-brightness: 0.5;

  --scalar-shadow-1: 0 1px 3px 0 rgb(0, 0, 0, 0.1);
  --scalar-shadow-2: rgba(15, 15, 15, 0.2) 0px 3px 6px, rgba(15, 15, 15, 0.4) 0px 9px 24px, 0 0 0 1px
    rgba(255, 255, 255, 0.1);

  --scalar-button-1: #f6f6f6;
  --scalar-button-1-color: #000;
  --scalar-button-1-hover: #e7e7e7;

  --scalar-color-green: #26b226;
  --scalar-color-red: #fb565b;
  --scalar-color-yellow: #ffc426;
  --scalar-color-blue: #6ecfef;
  --scalar-color-orange: #ff8d4d;
  --scalar-color-purple: #b191f9;
}
`;var yq=`/* basic theme */
.light-mode {
  --scalar-color-1: #2a2f45;
  --scalar-color-2: #757575;
  --scalar-color-3: #8e8e8e;
  --scalar-color-accent: #7070ff;

  --scalar-background-1: #fff;
  --scalar-background-2: #f6f6f6;
  --scalar-background-3: #e7e7e7;
  --scalar-background-accent: #7070ff1f;

  --scalar-border-color: rgba(0, 0, 0, 0.1);

  --scalar-code-language-color-supersede: var(--scalar-color-3);
}
.dark-mode {
  --scalar-color-1: #f7f8f8;
  --scalar-color-2: rgb(180, 188, 208);
  --scalar-color-3: #b4bcd099;
  --scalar-color-accent: #828fff;

  --scalar-background-1: #000212;
  --scalar-background-2: #0d0f1e;
  --scalar-background-3: #232533;
  --scalar-background-accent: #8ab4f81f;

  --scalar-border-color: #313245;
  --scalar-code-language-color-supersede: var(--scalar-color-3);
}
/* Document Sidebar */
.light-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-item-hover-color: currentColor;
  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-active-background: var(--scalar-background-accent);
  --scalar-sidebar-border-color: var(--scalar-border-color);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-color-active: var(--scalar-color-accent);
  --scalar-sidebar-search-background: rgba(0, 0, 0, 0.05);
  --scalar-sidebar-search-border-color: 1px solid rgba(0, 0, 0, 0.05);
  --scalar-sidebar-search-color: var(--scalar-color-3);
  --scalar-background-2: rgba(0, 0, 0, 0.03);
}
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-item-hover-color: currentColor;
  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-active-background: rgba(255, 255, 255, 0.1);
  --scalar-sidebar-border-color: var(--scalar-border-color);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-color-active: var(--scalar-color-accent);
  --scalar-sidebar-search-background: rgba(255, 255, 255, 0.1);
  --scalar-sidebar-search-border-color: 1px solid rgba(255, 255, 255, 0.05);
  --scalar-sidebar-search-color: var(--scalar-color-3);
}
/* advanced */
.light-mode {
  --scalar-color-green: #069061;
  --scalar-color-red: #ef0006;
  --scalar-color-yellow: #edbe20;
  --scalar-color-blue: #0082d0;
  --scalar-color-orange: #fb892c;
  --scalar-color-purple: #5203d1;

  --scalar-button-1: rgba(0, 0, 0, 1);
  --scalar-button-1-hover: rgba(0, 0, 0, 0.8);
  --scalar-button-1-color: rgba(255, 255, 255, 0.9);
}
.dark-mode {
  --scalar-color-green: #00b648;
  --scalar-color-red: #dc1b19;
  --scalar-color-yellow: #ffc90d;
  --scalar-color-blue: #4eb3ec;
  --scalar-color-orange: #ff8d4d;
  --scalar-color-purple: #b191f9;

  --scalar-button-1: rgba(255, 255, 255, 1);
  --scalar-button-1-hover: rgba(255, 255, 255, 0.9);
  --scalar-button-1-color: black;
}
/* Custom Theme */
.dark-mode h2.t-editor__heading,
.dark-mode .t-editor__page-title h1,
.dark-mode h1.section-header:not(::selection),
.dark-mode .markdown h1,
.dark-mode .markdown h2,
.dark-mode .markdown h3,
.dark-mode .markdown h4,
.dark-mode .markdown h5,
.dark-mode .markdown h6 {
  -webkit-text-fill-color: transparent;
  background-image: linear-gradient(to right bottom, rgb(255, 255, 255) 30%, rgba(255, 255, 255, 0.38));
  -webkit-background-clip: text;
  background-clip: text;
}
.sidebar-search {
  backdrop-filter: blur(12px);
}
@keyframes headerbackground {
  from {
    background: transparent;
    backdrop-filter: none;
  }
  to {
    background: var(--header-background-1);
    backdrop-filter: blur(12px);
  }
}
.dark-mode .scalar-card {
  background: rgba(255, 255, 255, 0.05) !important;
}
.dark-mode .scalar-card * {
  --scalar-background-2: transparent !important;
  --scalar-background-1: transparent !important;
}
.light-mode .dark-mode.scalar-card *,
.light-mode .dark-mode.scalar-card {
  --scalar-background-1: #0d0f1e !important;
  --scalar-background-2: #0d0f1e !important;
  --scalar-background-3: #191b29 !important;
}
.light-mode .dark-mode.scalar-card {
  background: #191b29 !important;
}
.badge {
  box-shadow: 0 0 0 1px var(--scalar-border-color);
  margin-right: 6px;
}

.table-row.required-parameter .table-row-item:nth-of-type(2):after {
  background: transparent;
  box-shadow: none;
}
/* Hero Section Flare */
.section-flare {
  width: 100vw;
  background: radial-gradient(ellipse 80% 50% at 50% -20%, rgba(120, 119, 198, 0.3), transparent);
  height: 100vh;
}
.light-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-accent), transparent 70%);
}
.dark-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-accent), transparent 50%);
}
`;var dq=`/* basic theme */
:root {
  --scalar-text-decoration: underline;
  --scalar-text-decoration-hover: underline;
}
.light-mode {
  --scalar-background-1: #f9f6f0;
  --scalar-background-2: #f2efe8;
  --scalar-background-3: #e9e7e2;
  --scalar-border-color: rgba(203, 165, 156, 0.6);

  --scalar-color-1: #c75549;
  --scalar-color-2: #c75549;
  --scalar-color-3: #c75549;

  --scalar-color-accent: #c75549;
  --scalar-background-accent: #dcbfa81f;

  --scalar-code-language-color-supersede: var(--scalar-color-1);
}
.dark-mode {
  --scalar-background-1: #140507;
  --scalar-background-2: #20090c;
  --scalar-background-3: #321116;
  --scalar-border-color: #3c3031;

  --scalar-color-1: rgba(255, 255, 255, 0.9);
  --scalar-color-2: rgba(255, 255, 255, 0.62);
  --scalar-color-3: rgba(255, 255, 255, 0.44);

  --scalar-color-accent: rgba(255, 255, 255, 0.9);
  --scalar-background-accent: #441313;

  --scalar-code-language-color-supersede: var(--scalar-color-1);
}

/* Document Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-color: currentColor;
  --scalar-sidebar-item-hover-background: var(--scalar-background-2);

  --scalar-sidebar-item-active-background: var(--scalar-background-3);
  --scalar-sidebar-color-active: var(--scalar-color-accent);

  --scalar-sidebar-search-background: rgba(255, 255, 255, 0.1);
  --scalar-sidebar-search-color: var(--scalar-color-3);
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
  z-index: 1;
}
/* advanced */
.light-mode {
  --scalar-color-green: #09533a;
  --scalar-color-red: #aa181d;
  --scalar-color-yellow: #ab8d2b;
  --scalar-color-blue: #19689a;
  --scalar-color-orange: #b26c34;
  --scalar-color-purple: #4c2191;

  --scalar-button-1: rgba(0, 0, 0, 1);
  --scalar-button-1-hover: rgba(0, 0, 0, 0.8);
  --scalar-button-1-color: rgba(255, 255, 255, 0.9);
}
.dark-mode {
  --scalar-color-green: rgba(69, 255, 165, 0.823);
  --scalar-color-red: #ff8589;
  --scalar-color-yellow: #ffcc4d;
  --scalar-color-blue: #6bc1fe;
  --scalar-color-orange: #f98943;
  --scalar-color-purple: #b191f9;

  --scalar-button-1: rgba(255, 255, 255, 1);
  --scalar-button-1-hover: rgba(255, 255, 255, 0.9);
  --scalar-button-1-color: black;
}
/* Custom Theme */
.dark-mode h2.t-editor__heading,
.dark-mode .t-editor__page-title h1,
.dark-mode h1.section-header:not(::selection),
.dark-mode .markdown h1,
.dark-mode .markdown h2,
.dark-mode .markdown h3,
.dark-mode .markdown h4,
.dark-mode .markdown h5,
.dark-mode .markdown h6 {
  -webkit-text-fill-color: transparent;
  background-image: linear-gradient(to right bottom, rgb(255, 255, 255) 30%, rgba(255, 255, 255, 0.38));
  -webkit-background-clip: text;
  background-clip: text;
}
.light-mode .t-doc__sidebar {
  --scalar-sidebar-search-background: white;
}
.examples .scalar-card-footer {
  --scalar-background-3: transparent;
  padding-top: 0;
}
/* Hero section flare */
.section-flare {
  overflow-x: hidden;
  height: 100vh;
  left: initial;
}
.section-flare-item:nth-of-type(1) {
  background: #d25019;
  position: relative;
  top: -150px;
  right: -400px;
  width: 80vw;
  height: 500px;
  margin-top: -150px;
  border-radius: 50%;
  filter: blur(100px);
  z-index: 0;
}
.light-mode .section-flare {
  display: none;
}
*::selection {
  background-color: color-mix(in srgb, var(--scalar-color-red), transparent 75%);
}
`;var cq=`.light-mode {
  color-scheme: light;
  --scalar-color-1: #000000;
  --scalar-color-2: #000000;
  --scalar-color-3: #000000;
  --scalar-color-accent: #645b0f;
  --scalar-background-1: #ccc9b3;
  --scalar-background-2: #c2bfaa;
  --scalar-background-3: #b8b5a1;
  --scalar-background-accent: #000000;

  --scalar-border-color: rgba(0, 0, 0, 0.2);
  --scalar-scrollbar-color: rgba(0, 0, 0, 0.18);
  --scalar-scrollbar-color-active: rgba(0, 0, 0, 0.36);
  --scalar-lifted-brightness: 1;
  --scalar-backdrop-brightness: 1;

  --scalar-shadow-1: 0 1px 3px 0 rgba(0, 0, 0, 0.11);
  --scalar-shadow-2: rgba(0, 0, 0, 0.08) 0px 13px 20px 0px, rgba(0, 0, 0, 0.08) 0px 3px 8px 0px,
    var(--scalar-border-color) 0px 0 0 1px;

  --scalar-button-1: rgb(49 53 56);
  --scalar-button-1-color: #fff;
  --scalar-button-1-hover: rgb(28 31 33);

  --scalar-color-red: #b91c1c;
  --scalar-color-orange: #a16207;
  --scalar-color-green: #047857;
  --scalar-color-blue: #1d4ed8;
  --scalar-color-orange: #c2410c;
  --scalar-color-purple: #6d28d9;
}

.dark-mode {
  color-scheme: dark;
  --scalar-color-1: #fffef3;
  --scalar-color-2: #fffef3;
  --scalar-color-3: #fffef3;
  --scalar-color-accent: #c3b531;
  --scalar-background-1: #313332;
  --scalar-background-2: #393b3a;
  --scalar-background-3: #414342;
  --scalar-background-accent: #fffef3;

  --scalar-border-color: #505452;
  --scalar-scrollbar-color: rgba(255, 255, 255, 0.24);
  --scalar-scrollbar-color-active: rgba(255, 255, 255, 0.48);
  --scalar-lifted-brightness: 1.45;
  --scalar-backdrop-brightness: 0.5;

  --scalar-shadow-1: 0 1px 3px 0 rgba(0, 0, 0, 0.11);
  --scalar-shadow-2: rgba(15, 15, 15, 0.2) 0px 3px 6px, rgba(15, 15, 15, 0.4) 0px 9px 24px, 0 0 0 1px
    rgba(255, 255, 255, 0.1);

  --scalar-button-1: #f6f6f6;
  --scalar-button-1-color: #000;
  --scalar-button-1-hover: #e7e7e7;

  --scalar-color-green: #00b648;
  --scalar-color-red: #dc1b19;
  --scalar-color-yellow: #ffc90d;
  --scalar-color-blue: #4eb3ec;
  --scalar-color-orange: #ff8d4d;
  --scalar-color-purple: #b191f9;
}

/* Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-hover-color: currentColor;

  --scalar-sidebar-item-active-background: var(--scalar-background-3);
  --scalar-sidebar-color-active: var(--scalar-color-1);

  --scalar-sidebar-search-background: transparent;
  --scalar-sidebar-search-color: var(--scalar-color-3);
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
}
*::selection {
  background-color: color-mix(in srgb, var(--scalar-color-accent), transparent 80%);
}
`;var hq=`/* basic theme */
.light-mode {
  --scalar-background-1: #fff;
  --scalar-background-2: #f5f6f8;
  --scalar-background-3: #eceef1;

  --scalar-color-1: #2a2f45;
  --scalar-color-2: #757575;
  --scalar-color-3: #8e8e8e;

  --scalar-color-accent: #5469d4;
  --scalar-background-accent: #5469d41f;

  --scalar-border-color: rgba(215, 215, 206, 0.68);
}
.dark-mode {
  --scalar-background-1: #15171c;
  --scalar-background-2: #1c1e24;
  --scalar-background-3: #22252b;

  --scalar-color-1: #fafafa;
  --scalar-color-2: #c9ced8;
  --scalar-color-3: #8c99ad;

  --scalar-color-accent: #5469d4;
  --scalar-background-accent: #5469d41f;

  --scalar-border-color: #3f4145;
}
/* Document Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-color: currentColor;
  --scalar-sidebar-item-hover-background: var(--scalar-background-3);

  --scalar-sidebar-item-active-background: var(--scalar-background-accent);
  --scalar-sidebar-color-active: var(--scalar-color-accent);

  --scalar-sidebar-search-background: var(--scalar-background-1);
  --scalar-sidebar-search-color: var(--scalar-color-3);
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
}

/* advanced */
.light-mode {
  --scalar-color-green: #17803d;
  --scalar-color-red: #e10909;
  --scalar-color-yellow: #edbe20;
  --scalar-color-blue: #1763a6;
  --scalar-color-orange: #e25b09;
  --scalar-color-purple: #5c3993;

  --scalar-button-1: rgba(0, 0, 0, 1);
  --scalar-button-1-hover: rgba(0, 0, 0, 0.8);
  --scalar-button-1-color: rgba(255, 255, 255, 0.9);
}
.dark-mode {
  --scalar-color-green: #30a159;
  --scalar-color-red: #dc1b19;
  --scalar-color-yellow: #eec644;
  --scalar-color-blue: #2b7abf;
  --scalar-color-orange: #f07528;
  --scalar-color-purple: #7a59b1;

  --scalar-button-1: rgba(255, 255, 255, 1);
  --scalar-button-1-hover: rgba(255, 255, 255, 0.9);
  --scalar-button-1-color: black;
}
.light-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-accent), transparent 70%);
}
.dark-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-accent), transparent 50%);
}
`;var mq=`/* basic theme */
.light-mode {
  --scalar-background-1: #f3f3ee;
  --scalar-background-2: #e8e8e3;
  --scalar-background-3: #e4e4df;
  --scalar-border-color: rgba(215, 215, 206, 0.85);

  --scalar-color-1: #2a2f45;
  --scalar-color-2: #757575;
  --scalar-color-3: #8e8e8e;

  --scalar-color-accent: #1763a6;
  --scalar-background-accent: #1f648e1f;
}
.dark-mode {
  --scalar-background-1: #09090b;
  --scalar-background-2: #18181b;
  --scalar-background-3: #2c2c30;
  --scalar-border-color: rgba(255, 255, 255, 0.17);

  --scalar-color-1: #fafafa;
  --scalar-color-2: rgb(161, 161, 170);
  --scalar-color-3: rgba(255, 255, 255, 0.533);

  --scalar-color-accent: #4eb3ec;
  --scalar-background-accent: #8ab4f81f;
}
/* Document Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-hover-color: currentColor;

  --scalar-sidebar-item-active-background: var(--scalar-background-3);
  --scalar-sidebar-color-active: var(--scalar-color-1);

  --scalar-sidebar-search-background: var(--scalar-background-1);
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
  --scalar-sidebar-search-color: var(--scalar-color-3);
}

/* advanced */
.light-mode {
  --scalar-color-green: #17803d;
  --scalar-color-red: #e10909;
  --scalar-color-yellow: #edbe20;
  --scalar-color-blue: #1763a6;
  --scalar-color-orange: #e25b09;
  --scalar-color-purple: #5c3993;

  --scalar-button-1: rgba(0, 0, 0, 1);
  --scalar-button-1-hover: rgba(0, 0, 0, 0.8);
  --scalar-button-1-color: rgba(255, 255, 255, 0.9);
}
.dark-mode {
  --scalar-color-green: #30a159;
  --scalar-color-red: #dc1b19;
  --scalar-color-yellow: #eec644;
  --scalar-color-blue: #2b7abf;
  --scalar-color-orange: #f07528;
  --scalar-color-purple: #7a59b1;

  --scalar-button-1: rgba(255, 255, 255, 1);
  --scalar-button-1-hover: rgba(255, 255, 255, 0.9);
  --scalar-button-1-color: black;
}
.dark-mode h2.t-editor__heading,
.dark-mode .t-editor__page-title h1,
.dark-mode h1.section-header:not(::selection),
.dark-mode .markdown h1,
.dark-mode .markdown h2,
.dark-mode .markdown h3,
.dark-mode .markdown h4,
.dark-mode .markdown h5,
.dark-mode .markdown h6 {
  -webkit-text-fill-color: transparent;
  background-image: linear-gradient(to right bottom, rgb(255, 255, 255) 30%, rgba(255, 255, 255, 0.38));
  -webkit-background-clip: text;
  background-clip: text;
}
.light-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-accent), transparent 70%);
}
.dark-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-accent), transparent 50%);
}
`;var uq=`.light-mode {
  color-scheme: light;
  --scalar-color-1: #584c27;
  --scalar-color-2: #616161;
  --scalar-color-3: #a89f84;
  --scalar-color-accent: #b58900;
  --scalar-background-1: #fdf6e3;
  --scalar-background-2: #eee8d5;
  --scalar-background-3: #ddd6c1;
  --scalar-background-accent: #b589001f;

  --scalar-border-color: #ded8c8;
  --scalar-scrollbar-color: rgba(0, 0, 0, 0.18);
  --scalar-scrollbar-color-active: rgba(0, 0, 0, 0.36);
  --scalar-lifted-brightness: 1;
  --scalar-backdrop-brightness: 1;

  --scalar-shadow-1: 0 1px 3px 0 rgba(0, 0, 0, 0.11);
  --scalar-shadow-2: rgba(0, 0, 0, 0.08) 0px 13px 20px 0px, rgba(0, 0, 0, 0.08) 0px 3px 8px 0px, #eeeeed 0px 0 0 1px;

  --scalar-button-1: rgb(49 53 56);
  --scalar-button-1-color: #fff;
  --scalar-button-1-hover: rgb(28 31 33);

  --scalar-color-red: #b91c1c;
  --scalar-color-orange: #a16207;
  --scalar-color-green: #047857;
  --scalar-color-blue: #1d4ed8;
  --scalar-color-orange: #c2410c;
  --scalar-color-purple: #6d28d9;
}

.dark-mode {
  color-scheme: dark;
  --scalar-color-1: #fff;
  --scalar-color-2: #cccccc;
  --scalar-color-3: #6d8890;
  --scalar-color-accent: #007acc;
  --scalar-background-1: #00212b;
  --scalar-background-2: #012b36;
  --scalar-background-3: #004052;
  --scalar-background-accent: #015a6f;

  --scalar-border-color: #2f4851;
  --scalar-scrollbar-color: rgba(255, 255, 255, 0.24);
  --scalar-scrollbar-color-active: rgba(255, 255, 255, 0.48);
  --scalar-lifted-brightness: 1.45;
  --scalar-backdrop-brightness: 0.5;

  --scalar-shadow-1: 0 1px 3px 0 rgb(0, 0, 0, 0.1);
  --scalar-shadow-2: rgba(15, 15, 15, 0.2) 0px 3px 6px, rgba(15, 15, 15, 0.4) 0px 9px 24px, 0 0 0 1px
    rgba(255, 255, 255, 0.1);

  --scalar-button-1: #f6f6f6;
  --scalar-button-1-color: #000;
  --scalar-button-1-hover: #e7e7e7;

  --scalar-color-green: #00b648;
  --scalar-color-red: #dc1b19;
  --scalar-color-yellow: #ffc90d;
  --scalar-color-blue: #4eb3ec;
  --scalar-color-orange: #ff8d4d;
  --scalar-color-purple: #b191f9;
}

/* Sidebar */
.light-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-item-hover-color: currentColor;
  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-active-background: var(--scalar-background-accent);
  --scalar-sidebar-border-color: var(--scalar-border-color);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-color-active: var(--scalar-color-accent);
  --scalar-sidebar-search-background: var(--scalar-background-2);
  --scalar-sidebar-search-border-color: var(--scalar-sidebar-search-background);
  --scalar-sidebar-search--color: var(--scalar-color-3);
}

.dark-mode .sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-item-hover-color: currentColor;
  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-active-background: var(--scalar-background-accent);
  --scalar-sidebar-border-color: var(--scalar-border-color);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-color-active: var(--scalar-sidebar-color-1);
  --scalar-sidebar-search-background: var(--scalar-background-2);
  --scalar-sidebar-search-border-color: var(--scalar-sidebar-search-background);
  --scalar-sidebar-search--color: var(--scalar-color-3);
}
*::selection {
  background-color: color-mix(in srgb, var(--scalar-color-accent), transparent 70%);
}
`;var R={};W6(R,{void:()=>ox,util:()=>P0,unknown:()=>ix,union:()=>tx,undefined:()=>ux,tuple:()=>$T,transformer:()=>wT,symbol:()=>mx,string:()=>tq,strictObject:()=>rx,setErrorMap:()=>Nx,set:()=>XT,record:()=>JT,quotelessJson:()=>wx,promise:()=>UT,preprocess:()=>qT,pipeline:()=>zT,ostring:()=>DT,optional:()=>AT,onumber:()=>ZT,oboolean:()=>ST,objectUtil:()=>gM,object:()=>ax,number:()=>eq,nullable:()=>NT,null:()=>lx,never:()=>nx,nativeEnum:()=>BT,nan:()=>dx,map:()=>YT,makeIssue:()=>C$,literal:()=>HT,lazy:()=>MT,late:()=>vx,isValid:()=>H4,isDirty:()=>vY,isAsync:()=>E7,isAborted:()=>fY,intersection:()=>WT,instanceof:()=>yx,getParsedType:()=>v8,getErrorMap:()=>b7,function:()=>QT,enum:()=>GT,effect:()=>wT,discriminatedUnion:()=>ex,defaultErrorMap:()=>C6,datetimeRegex:()=>sq,date:()=>hx,custom:()=>rq,coerce:()=>OT,boolean:()=>Wz,bigint:()=>cx,array:()=>sx,any:()=>px,addIssueToContext:()=>t,ZodVoid:()=>b$,ZodUnknown:()=>G4,ZodUnion:()=>k7,ZodUndefined:()=>x7,ZodType:()=>j0,ZodTuple:()=>d8,ZodTransformer:()=>j8,ZodSymbol:()=>V$,ZodString:()=>S8,ZodSet:()=>A9,ZodSchema:()=>j0,ZodRecord:()=>E$,ZodReadonly:()=>h7,ZodPromise:()=>N9,ZodPipeline:()=>I$,ZodParsedType:()=>i,ZodOptional:()=>_8,ZodObject:()=>R1,ZodNumber:()=>B4,ZodNullable:()=>b6,ZodNull:()=>T7,ZodNever:()=>y8,ZodNativeEnum:()=>y7,ZodNaN:()=>R$,ZodMap:()=>P$,ZodLiteral:()=>v7,ZodLazy:()=>f7,ZodIssueCode:()=>h,ZodIntersection:()=>g7,ZodFunction:()=>R7,ZodFirstPartyTypeKind:()=>A0,ZodError:()=>a5,ZodEnum:()=>w4,ZodEffects:()=>j8,ZodDiscriminatedUnion:()=>yY,ZodDefault:()=>d7,ZodDate:()=>U9,ZodCatch:()=>c7,ZodBranded:()=>dY,ZodBoolean:()=>I7,ZodBigInt:()=>U4,ZodArray:()=>O8,ZodAny:()=>w9,Schema:()=>j0,ParseStatus:()=>z5,OK:()=>V5,NEVER:()=>_T,INVALID:()=>G0,EMPTY_PATH:()=>qx,DIRTY:()=>B9,BRAND:()=>fx});var P0;(function(W){W.assertEqual=(X)=>{};function $(X){}W.assertIs=$;function J(X){throw new Error}W.assertNever=J,W.arrayToEnum=(X)=>{let Q={};for(let M of X)Q[M]=M;return Q},W.getValidEnumValues=(X)=>{let Q=W.objectKeys(X).filter((H)=>typeof X[X[H]]!=="number"),M={};for(let H of Q)M[H]=X[H];return W.objectValues(M)},W.objectValues=(X)=>{return W.objectKeys(X).map(function(Q){return X[Q]})},W.objectKeys=typeof Object.keys==="function"?(X)=>Object.keys(X):(X)=>{let Q=[];for(let M in X)if(Object.prototype.hasOwnProperty.call(X,M))Q.push(M);return Q},W.find=(X,Q)=>{for(let M of X)if(Q(M))return M;return},W.isInteger=typeof Number.isInteger==="function"?(X)=>Number.isInteger(X):(X)=>typeof X==="number"&&Number.isFinite(X)&&Math.floor(X)===X;function Y(X,Q=" | "){return X.map((M)=>typeof M==="string"?`'${M}'`:M).join(Q)}W.joinValues=Y,W.jsonStringifyReplacer=(X,Q)=>{if(typeof Q==="bigint")return Q.toString();return Q}})(P0||(P0={}));var gM;(function(W){W.mergeShapes=($,J)=>{return{...$,...J}}})(gM||(gM={}));var i=P0.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),v8=(W)=>{switch(typeof W){case"undefined":return i.undefined;case"string":return i.string;case"number":return Number.isNaN(W)?i.nan:i.number;case"boolean":return i.boolean;case"function":return i.function;case"bigint":return i.bigint;case"symbol":return i.symbol;case"object":if(Array.isArray(W))return i.array;if(W===null)return i.null;if(W.then&&typeof W.then==="function"&&W.catch&&typeof W.catch==="function")return i.promise;if(typeof Map!=="undefined"&&W instanceof Map)return i.map;if(typeof Set!=="undefined"&&W instanceof Set)return i.set;if(typeof Date!=="undefined"&&W instanceof Date)return i.date;return i.object;default:return i.unknown}};var h=P0.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),wx=(W)=>{return JSON.stringify(W,null,2).replace(/"([^"]+)":/g,"$1:")};class a5 extends Error{get errors(){return this.issues}constructor(W){super();this.issues=[],this.addIssue=(J)=>{this.issues=[...this.issues,J]},this.addIssues=(J=[])=>{this.issues=[...this.issues,...J]};let $=new.target.prototype;if(Object.setPrototypeOf)Object.setPrototypeOf(this,$);else this.__proto__=$;this.name="ZodError",this.issues=W}format(W){let $=W||function(X){return X.message},J={_errors:[]},Y=(X)=>{for(let Q of X.issues)if(Q.code==="invalid_union")Q.unionErrors.map(Y);else if(Q.code==="invalid_return_type")Y(Q.returnTypeError);else if(Q.code==="invalid_arguments")Y(Q.argumentsError);else if(Q.path.length===0)J._errors.push($(Q));else{let M=J,H=0;while(H<Q.path.length){let G=Q.path[H];if(H!==Q.path.length-1)M[G]=M[G]||{_errors:[]};else M[G]=M[G]||{_errors:[]},M[G]._errors.push($(Q));M=M[G],H++}}};return Y(this),J}static assert(W){if(!(W instanceof a5))throw new Error(`Not a ZodError: ${W}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,P0.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(W=($)=>$.message){let $={},J=[];for(let Y of this.issues)if(Y.path.length>0){let X=Y.path[0];$[X]=$[X]||[],$[X].push(W(Y))}else J.push(W(Y));return{formErrors:J,fieldErrors:$}}get formErrors(){return this.flatten()}}a5.create=(W)=>{return new a5(W)};var Ax=(W,$)=>{let J;switch(W.code){case h.invalid_type:if(W.received===i.undefined)J="Required";else J=`Expected ${W.expected}, received ${W.received}`;break;case h.invalid_literal:J=`Invalid literal value, expected ${JSON.stringify(W.expected,P0.jsonStringifyReplacer)}`;break;case h.unrecognized_keys:J=`Unrecognized key(s) in object: ${P0.joinValues(W.keys,", ")}`;break;case h.invalid_union:J="Invalid input";break;case h.invalid_union_discriminator:J=`Invalid discriminator value. Expected ${P0.joinValues(W.options)}`;break;case h.invalid_enum_value:J=`Invalid enum value. Expected ${P0.joinValues(W.options)}, received '${W.received}'`;break;case h.invalid_arguments:J="Invalid function arguments";break;case h.invalid_return_type:J="Invalid function return type";break;case h.invalid_date:J="Invalid date";break;case h.invalid_string:if(typeof W.validation==="object")if("includes"in W.validation){if(J=`Invalid input: must include "${W.validation.includes}"`,typeof W.validation.position==="number")J=`${J} at one or more positions greater than or equal to ${W.validation.position}`}else if("startsWith"in W.validation)J=`Invalid input: must start with "${W.validation.startsWith}"`;else if("endsWith"in W.validation)J=`Invalid input: must end with "${W.validation.endsWith}"`;else P0.assertNever(W.validation);else if(W.validation!=="regex")J=`Invalid ${W.validation}`;else J="Invalid";break;case h.too_small:if(W.type==="array")J=`Array must contain ${W.exact?"exactly":W.inclusive?"at least":"more than"} ${W.minimum} element(s)`;else if(W.type==="string")J=`String must contain ${W.exact?"exactly":W.inclusive?"at least":"over"} ${W.minimum} character(s)`;else if(W.type==="number")J=`Number must be ${W.exact?"exactly equal to ":W.inclusive?"greater than or equal to ":"greater than "}${W.minimum}`;else if(W.type==="bigint")J=`Number must be ${W.exact?"exactly equal to ":W.inclusive?"greater than or equal to ":"greater than "}${W.minimum}`;else if(W.type==="date")J=`Date must be ${W.exact?"exactly equal to ":W.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(W.minimum))}`;else J="Invalid input";break;case h.too_big:if(W.type==="array")J=`Array must contain ${W.exact?"exactly":W.inclusive?"at most":"less than"} ${W.maximum} element(s)`;else if(W.type==="string")J=`String must contain ${W.exact?"exactly":W.inclusive?"at most":"under"} ${W.maximum} character(s)`;else if(W.type==="number")J=`Number must be ${W.exact?"exactly":W.inclusive?"less than or equal to":"less than"} ${W.maximum}`;else if(W.type==="bigint")J=`BigInt must be ${W.exact?"exactly":W.inclusive?"less than or equal to":"less than"} ${W.maximum}`;else if(W.type==="date")J=`Date must be ${W.exact?"exactly":W.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(W.maximum))}`;else J="Invalid input";break;case h.custom:J="Invalid input";break;case h.invalid_intersection_types:J="Intersection results could not be merged";break;case h.not_multiple_of:J=`Number must be a multiple of ${W.multipleOf}`;break;case h.not_finite:J="Number must be finite";break;default:J=$.defaultError,P0.assertNever(W)}return{message:J}},C6=Ax;var lq=C6;function Nx(W){lq=W}function b7(){return lq}var C$=(W)=>{let{data:$,path:J,errorMaps:Y,issueData:X}=W,Q=[...J,...X.path||[]],M={...X,path:Q};if(X.message!==void 0)return{...X,path:Q,message:X.message};let H="",G=Y.filter((B)=>!!B).slice().reverse();for(let B of G)H=B(M,{data:$,defaultError:H}).message;return{...X,path:Q,message:H}},qx=[];function t(W,$){let J=b7(),Y=C$({issueData:$,data:W.data,path:W.path,errorMaps:[W.common.contextualErrorMap,W.schemaErrorMap,J,J===C6?void 0:C6].filter((X)=>!!X)});W.common.issues.push(Y)}class z5{constructor(){this.value="valid"}dirty(){if(this.value==="valid")this.value="dirty"}abort(){if(this.value!=="aborted")this.value="aborted"}static mergeArray(W,$){let J=[];for(let Y of $){if(Y.status==="aborted")return G0;if(Y.status==="dirty")W.dirty();J.push(Y.value)}return{status:W.value,value:J}}static async mergeObjectAsync(W,$){let J=[];for(let Y of $){let X=await Y.key,Q=await Y.value;J.push({key:X,value:Q})}return z5.mergeObjectSync(W,J)}static mergeObjectSync(W,$){let J={};for(let Y of $){let{key:X,value:Q}=Y;if(X.status==="aborted")return G0;if(Q.status==="aborted")return G0;if(X.status==="dirty")W.dirty();if(Q.status==="dirty")W.dirty();if(X.value!=="__proto__"&&(typeof Q.value!=="undefined"||Y.alwaysSet))J[X.value]=Q.value}return{status:W.value,value:J}}}var G0=Object.freeze({status:"aborted"}),B9=(W)=>({status:"dirty",value:W}),V5=(W)=>({status:"valid",value:W}),fY=(W)=>W.status==="aborted",vY=(W)=>W.status==="dirty",H4=(W)=>W.status==="valid",E7=(W)=>typeof Promise!=="undefined"&&W instanceof Promise;var $0;(function(W){W.errToObj=($)=>typeof $==="string"?{message:$}:$||{},W.toString=($)=>typeof $==="string"?$:$?.message})($0||($0={}));class L8{constructor(W,$,J,Y){this._cachedPath=[],this.parent=W,this.data=$,this._path=J,this._key=Y}get path(){if(!this._cachedPath.length)if(Array.isArray(this._key))this._cachedPath.push(...this._path,...this._key);else this._cachedPath.push(...this._path,this._key);return this._cachedPath}}var pq=(W,$)=>{if(H4($))return{success:!0,data:$.value};else{if(!W.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let J=new a5(W.common.issues);return this._error=J,this._error}}}};function S0(W){if(!W)return{};let{errorMap:$,invalid_type_error:J,required_error:Y,description:X}=W;if($&&(J||Y))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);if($)return{errorMap:$,description:X};return{errorMap:(M,H)=>{let{message:G}=W;if(M.code==="invalid_enum_value")return{message:G??H.defaultError};if(typeof H.data==="undefined")return{message:G??Y??H.defaultError};if(M.code!=="invalid_type")return{message:H.defaultError};return{message:G??J??H.defaultError}},description:X}}class j0{get description(){return this._def.description}_getType(W){return v8(W.data)}_getOrReturnCtx(W,$){return $||{common:W.parent.common,data:W.data,parsedType:v8(W.data),schemaErrorMap:this._def.errorMap,path:W.path,parent:W.parent}}_processInputParams(W){return{status:new z5,ctx:{common:W.parent.common,data:W.data,parsedType:v8(W.data),schemaErrorMap:this._def.errorMap,path:W.path,parent:W.parent}}}_parseSync(W){let $=this._parse(W);if(E7($))throw new Error("Synchronous parse encountered promise.");return $}_parseAsync(W){let $=this._parse(W);return Promise.resolve($)}parse(W,$){let J=this.safeParse(W,$);if(J.success)return J.data;throw J.error}safeParse(W,$){let J={common:{issues:[],async:$?.async??!1,contextualErrorMap:$?.errorMap},path:$?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:W,parsedType:v8(W)},Y=this._parseSync({data:W,path:J.path,parent:J});return pq(J,Y)}"~validate"(W){let $={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:W,parsedType:v8(W)};if(!this["~standard"].async)try{let J=this._parseSync({data:W,path:[],parent:$});return H4(J)?{value:J.value}:{issues:$.common.issues}}catch(J){if(J?.message?.toLowerCase()?.includes("encountered"))this["~standard"].async=!0;$.common={issues:[],async:!0}}return this._parseAsync({data:W,path:[],parent:$}).then((J)=>H4(J)?{value:J.value}:{issues:$.common.issues})}async parseAsync(W,$){let J=await this.safeParseAsync(W,$);if(J.success)return J.data;throw J.error}async safeParseAsync(W,$){let J={common:{issues:[],contextualErrorMap:$?.errorMap,async:!0},path:$?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:W,parsedType:v8(W)},Y=this._parse({data:W,path:J.path,parent:J}),X=await(E7(Y)?Y:Promise.resolve(Y));return pq(J,X)}refine(W,$){let J=(Y)=>{if(typeof $==="string"||typeof $==="undefined")return{message:$};else if(typeof $==="function")return $(Y);else return $};return this._refinement((Y,X)=>{let Q=W(Y),M=()=>X.addIssue({code:h.custom,...J(Y)});if(typeof Promise!=="undefined"&&Q instanceof Promise)return Q.then((H)=>{if(!H)return M(),!1;else return!0});if(!Q)return M(),!1;else return!0})}refinement(W,$){return this._refinement((J,Y)=>{if(!W(J))return Y.addIssue(typeof $==="function"?$(J,Y):$),!1;else return!0})}_refinement(W){return new j8({schema:this,typeName:A0.ZodEffects,effect:{type:"refinement",refinement:W}})}superRefine(W){return this._refinement(W)}constructor(W){this.spa=this.safeParseAsync,this._def=W,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:($)=>this["~validate"]($)}}optional(){return _8.create(this,this._def)}nullable(){return b6.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return O8.create(this)}promise(){return N9.create(this,this._def)}or(W){return k7.create([this,W],this._def)}and(W){return g7.create(this,W,this._def)}transform(W){return new j8({...S0(this._def),schema:this,typeName:A0.ZodEffects,effect:{type:"transform",transform:W}})}default(W){let $=typeof W==="function"?W:()=>W;return new d7({...S0(this._def),innerType:this,defaultValue:$,typeName:A0.ZodDefault})}brand(){return new dY({typeName:A0.ZodBranded,type:this,...S0(this._def)})}catch(W){let $=typeof W==="function"?W:()=>W;return new c7({...S0(this._def),innerType:this,catchValue:$,typeName:A0.ZodCatch})}describe(W){return new this.constructor({...this._def,description:W})}pipe(W){return I$.create(this,W)}readonly(){return h7.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}var zx=/^c[^\s-]{8,}$/i,Dx=/^[0-9a-z]+$/,Zx=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Sx=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ox=/^[a-z0-9_-]{21}$/i,_x=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Lx=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,jx=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Fx="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",fM,Kx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Cx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Vx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,bx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Px=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nq="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Rx=new RegExp(`^${nq}$`);function oq(W){let $="[0-5]\\d";if(W.precision)$=`${$}\\.\\d{${W.precision}}`;else if(W.precision==null)$=`${$}(\\.\\d+)?`;let J=W.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${$})${J}`}function Ix(W){return new RegExp(`^${oq(W)}$`)}function sq(W){let $=`${nq}T${oq(W)}`,J=[];if(J.push(W.local?"Z?":"Z"),W.offset)J.push("([+-]\\d{2}:?\\d{2})");return $=`${$}(${J.join("|")})`,new RegExp(`^${$}$`)}function xx(W,$){if(($==="v4"||!$)&&Kx.test(W))return!0;if(($==="v6"||!$)&&Vx.test(W))return!0;return!1}function Tx(W,$){if(!_x.test(W))return!1;try{let[J]=W.split(".");if(!J)return!1;let Y=J.replace(/-/g,"+").replace(/_/g,"/").padEnd(J.length+(4-J.length%4)%4,"="),X=JSON.parse(atob(Y));if(typeof X!=="object"||X===null)return!1;if("typ"in X&&X?.typ!=="JWT")return!1;if(!X.alg)return!1;if($&&X.alg!==$)return!1;return!0}catch{return!1}}function kx(W,$){if(($==="v4"||!$)&&Cx.test(W))return!0;if(($==="v6"||!$)&&bx.test(W))return!0;return!1}class S8 extends j0{_parse(W){if(this._def.coerce)W.data=String(W.data);if(this._getType(W)!==i.string){let X=this._getOrReturnCtx(W);return t(X,{code:h.invalid_type,expected:i.string,received:X.parsedType}),G0}let J=new z5,Y=void 0;for(let X of this._def.checks)if(X.kind==="min"){if(W.data.length<X.value)Y=this._getOrReturnCtx(W,Y),t(Y,{code:h.too_small,minimum:X.value,type:"string",inclusive:!0,exact:!1,message:X.message}),J.dirty()}else if(X.kind==="max"){if(W.data.length>X.value)Y=this._getOrReturnCtx(W,Y),t(Y,{code:h.too_big,maximum:X.value,type:"string",inclusive:!0,exact:!1,message:X.message}),J.dirty()}else if(X.kind==="length"){let Q=W.data.length>X.value,M=W.data.length<X.value;if(Q||M){if(Y=this._getOrReturnCtx(W,Y),Q)t(Y,{code:h.too_big,maximum:X.value,type:"string",inclusive:!0,exact:!0,message:X.message});else if(M)t(Y,{code:h.too_small,minimum:X.value,type:"string",inclusive:!0,exact:!0,message:X.message});J.dirty()}}else if(X.kind==="email"){if(!jx.test(W.data))Y=this._getOrReturnCtx(W,Y),t(Y,{validation:"email",code:h.invalid_string,message:X.message}),J.dirty()}else if(X.kind==="emoji"){if(!fM)fM=new RegExp(Fx,"u");if(!fM.test(W.data))Y=this._getOrReturnCtx(W,Y),t(Y,{validation:"emoji",code:h.invalid_string,message:X.message}),J.dirty()}else if(X.kind==="uuid"){if(!Sx.test(W.data))Y=this._getOrReturnCtx(W,Y),t(Y,{validation:"uuid",code:h.invalid_string,message:X.message}),J.dirty()}else if(X.kind==="nanoid"){if(!Ox.test(W.data))Y=this._getOrReturnCtx(W,Y),t(Y,{validation:"nanoid",code:h.invalid_string,message:X.message}),J.dirty()}else if(X.kind==="cuid"){if(!zx.test(W.data))Y=this._getOrReturnCtx(W,Y),t(Y,{validation:"cuid",code:h.invalid_string,message:X.message}),J.dirty()}else if(X.kind==="cuid2"){if(!Dx.test(W.data))Y=this._getOrReturnCtx(W,Y),t(Y,{validation:"cuid2",code:h.invalid_string,message:X.message}),J.dirty()}else if(X.kind==="ulid"){if(!Zx.test(W.data))Y=this._getOrReturnCtx(W,Y),t(Y,{validation:"ulid",code:h.invalid_string,message:X.message}),J.dirty()}else if(X.kind==="url")try{new URL(W.data)}catch{Y=this._getOrReturnCtx(W,Y),t(Y,{validation:"url",code:h.invalid_string,message:X.message}),J.dirty()}else if(X.kind==="regex"){if(X.regex.lastIndex=0,!X.regex.test(W.data))Y=this._getOrReturnCtx(W,Y),t(Y,{validation:"regex",code:h.invalid_string,message:X.message}),J.dirty()}else if(X.kind==="trim")W.data=W.data.trim();else if(X.kind==="includes"){if(!W.data.includes(X.value,X.position))Y=this._getOrReturnCtx(W,Y),t(Y,{code:h.invalid_string,validation:{includes:X.value,position:X.position},message:X.message}),J.dirty()}else if(X.kind==="toLowerCase")W.data=W.data.toLowerCase();else if(X.kind==="toUpperCase")W.data=W.data.toUpperCase();else if(X.kind==="startsWith"){if(!W.data.startsWith(X.value))Y=this._getOrReturnCtx(W,Y),t(Y,{code:h.invalid_string,validation:{startsWith:X.value},message:X.message}),J.dirty()}else if(X.kind==="endsWith"){if(!W.data.endsWith(X.value))Y=this._getOrReturnCtx(W,Y),t(Y,{code:h.invalid_string,validation:{endsWith:X.value},message:X.message}),J.dirty()}else if(X.kind==="datetime"){if(!sq(X).test(W.data))Y=this._getOrReturnCtx(W,Y),t(Y,{code:h.invalid_string,validation:"datetime",message:X.message}),J.dirty()}else if(X.kind==="date"){if(!Rx.test(W.data))Y=this._getOrReturnCtx(W,Y),t(Y,{code:h.invalid_string,validation:"date",message:X.message}),J.dirty()}else if(X.kind==="time"){if(!Ix(X).test(W.data))Y=this._getOrReturnCtx(W,Y),t(Y,{code:h.invalid_string,validation:"time",message:X.message}),J.dirty()}else if(X.kind==="duration"){if(!Lx.test(W.data))Y=this._getOrReturnCtx(W,Y),t(Y,{validation:"duration",code:h.invalid_string,message:X.message}),J.dirty()}else if(X.kind==="ip"){if(!xx(W.data,X.version))Y=this._getOrReturnCtx(W,Y),t(Y,{validation:"ip",code:h.invalid_string,message:X.message}),J.dirty()}else if(X.kind==="jwt"){if(!Tx(W.data,X.alg))Y=this._getOrReturnCtx(W,Y),t(Y,{validation:"jwt",code:h.invalid_string,message:X.message}),J.dirty()}else if(X.kind==="cidr"){if(!kx(W.data,X.version))Y=this._getOrReturnCtx(W,Y),t(Y,{validation:"cidr",code:h.invalid_string,message:X.message}),J.dirty()}else if(X.kind==="base64"){if(!Ex.test(W.data))Y=this._getOrReturnCtx(W,Y),t(Y,{validation:"base64",code:h.invalid_string,message:X.message}),J.dirty()}else if(X.kind==="base64url"){if(!Px.test(W.data))Y=this._getOrReturnCtx(W,Y),t(Y,{validation:"base64url",code:h.invalid_string,message:X.message}),J.dirty()}else P0.assertNever(X);return{status:J.value,value:W.data}}_regex(W,$,J){return this.refinement((Y)=>W.test(Y),{validation:$,code:h.invalid_string,...$0.errToObj(J)})}_addCheck(W){return new S8({...this._def,checks:[...this._def.checks,W]})}email(W){return this._addCheck({kind:"email",...$0.errToObj(W)})}url(W){return this._addCheck({kind:"url",...$0.errToObj(W)})}emoji(W){return this._addCheck({kind:"emoji",...$0.errToObj(W)})}uuid(W){return this._addCheck({kind:"uuid",...$0.errToObj(W)})}nanoid(W){return this._addCheck({kind:"nanoid",...$0.errToObj(W)})}cuid(W){return this._addCheck({kind:"cuid",...$0.errToObj(W)})}cuid2(W){return this._addCheck({kind:"cuid2",...$0.errToObj(W)})}ulid(W){return this._addCheck({kind:"ulid",...$0.errToObj(W)})}base64(W){return this._addCheck({kind:"base64",...$0.errToObj(W)})}base64url(W){return this._addCheck({kind:"base64url",...$0.errToObj(W)})}jwt(W){return this._addCheck({kind:"jwt",...$0.errToObj(W)})}ip(W){return this._addCheck({kind:"ip",...$0.errToObj(W)})}cidr(W){return this._addCheck({kind:"cidr",...$0.errToObj(W)})}datetime(W){if(typeof W==="string")return this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:W});return this._addCheck({kind:"datetime",precision:typeof W?.precision==="undefined"?null:W?.precision,offset:W?.offset??!1,local:W?.local??!1,...$0.errToObj(W?.message)})}date(W){return this._addCheck({kind:"date",message:W})}time(W){if(typeof W==="string")return this._addCheck({kind:"time",precision:null,message:W});return this._addCheck({kind:"time",precision:typeof W?.precision==="undefined"?null:W?.precision,...$0.errToObj(W?.message)})}duration(W){return this._addCheck({kind:"duration",...$0.errToObj(W)})}regex(W,$){return this._addCheck({kind:"regex",regex:W,...$0.errToObj($)})}includes(W,$){return this._addCheck({kind:"includes",value:W,position:$?.position,...$0.errToObj($?.message)})}startsWith(W,$){return this._addCheck({kind:"startsWith",value:W,...$0.errToObj($)})}endsWith(W,$){return this._addCheck({kind:"endsWith",value:W,...$0.errToObj($)})}min(W,$){return this._addCheck({kind:"min",value:W,...$0.errToObj($)})}max(W,$){return this._addCheck({kind:"max",value:W,...$0.errToObj($)})}length(W,$){return this._addCheck({kind:"length",value:W,...$0.errToObj($)})}nonempty(W){return this.min(1,$0.errToObj(W))}trim(){return new S8({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new S8({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new S8({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((W)=>W.kind==="datetime")}get isDate(){return!!this._def.checks.find((W)=>W.kind==="date")}get isTime(){return!!this._def.checks.find((W)=>W.kind==="time")}get isDuration(){return!!this._def.checks.find((W)=>W.kind==="duration")}get isEmail(){return!!this._def.checks.find((W)=>W.kind==="email")}get isURL(){return!!this._def.checks.find((W)=>W.kind==="url")}get isEmoji(){return!!this._def.checks.find((W)=>W.kind==="emoji")}get isUUID(){return!!this._def.checks.find((W)=>W.kind==="uuid")}get isNANOID(){return!!this._def.checks.find((W)=>W.kind==="nanoid")}get isCUID(){return!!this._def.checks.find((W)=>W.kind==="cuid")}get isCUID2(){return!!this._def.checks.find((W)=>W.kind==="cuid2")}get isULID(){return!!this._def.checks.find((W)=>W.kind==="ulid")}get isIP(){return!!this._def.checks.find((W)=>W.kind==="ip")}get isCIDR(){return!!this._def.checks.find((W)=>W.kind==="cidr")}get isBase64(){return!!this._def.checks.find((W)=>W.kind==="base64")}get isBase64url(){return!!this._def.checks.find((W)=>W.kind==="base64url")}get minLength(){let W=null;for(let $ of this._def.checks)if($.kind==="min"){if(W===null||$.value>W)W=$.value}return W}get maxLength(){let W=null;for(let $ of this._def.checks)if($.kind==="max"){if(W===null||$.value<W)W=$.value}return W}}S8.create=(W)=>{return new S8({checks:[],typeName:A0.ZodString,coerce:W?.coerce??!1,...S0(W)})};function gx(W,$){let J=(W.toString().split(".")[1]||"").length,Y=($.toString().split(".")[1]||"").length,X=J>Y?J:Y,Q=Number.parseInt(W.toFixed(X).replace(".","")),M=Number.parseInt($.toFixed(X).replace(".",""));return Q%M/10**X}class B4 extends j0{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(W){if(this._def.coerce)W.data=Number(W.data);if(this._getType(W)!==i.number){let X=this._getOrReturnCtx(W);return t(X,{code:h.invalid_type,expected:i.number,received:X.parsedType}),G0}let J=void 0,Y=new z5;for(let X of this._def.checks)if(X.kind==="int"){if(!P0.isInteger(W.data))J=this._getOrReturnCtx(W,J),t(J,{code:h.invalid_type,expected:"integer",received:"float",message:X.message}),Y.dirty()}else if(X.kind==="min"){if(X.inclusive?W.data<X.value:W.data<=X.value)J=this._getOrReturnCtx(W,J),t(J,{code:h.too_small,minimum:X.value,type:"number",inclusive:X.inclusive,exact:!1,message:X.message}),Y.dirty()}else if(X.kind==="max"){if(X.inclusive?W.data>X.value:W.data>=X.value)J=this._getOrReturnCtx(W,J),t(J,{code:h.too_big,maximum:X.value,type:"number",inclusive:X.inclusive,exact:!1,message:X.message}),Y.dirty()}else if(X.kind==="multipleOf"){if(gx(W.data,X.value)!==0)J=this._getOrReturnCtx(W,J),t(J,{code:h.not_multiple_of,multipleOf:X.value,message:X.message}),Y.dirty()}else if(X.kind==="finite"){if(!Number.isFinite(W.data))J=this._getOrReturnCtx(W,J),t(J,{code:h.not_finite,message:X.message}),Y.dirty()}else P0.assertNever(X);return{status:Y.value,value:W.data}}gte(W,$){return this.setLimit("min",W,!0,$0.toString($))}gt(W,$){return this.setLimit("min",W,!1,$0.toString($))}lte(W,$){return this.setLimit("max",W,!0,$0.toString($))}lt(W,$){return this.setLimit("max",W,!1,$0.toString($))}setLimit(W,$,J,Y){return new B4({...this._def,checks:[...this._def.checks,{kind:W,value:$,inclusive:J,message:$0.toString(Y)}]})}_addCheck(W){return new B4({...this._def,checks:[...this._def.checks,W]})}int(W){return this._addCheck({kind:"int",message:$0.toString(W)})}positive(W){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$0.toString(W)})}negative(W){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$0.toString(W)})}nonpositive(W){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$0.toString(W)})}nonnegative(W){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$0.toString(W)})}multipleOf(W,$){return this._addCheck({kind:"multipleOf",value:W,message:$0.toString($)})}finite(W){return this._addCheck({kind:"finite",message:$0.toString(W)})}safe(W){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$0.toString(W)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$0.toString(W)})}get minValue(){let W=null;for(let $ of this._def.checks)if($.kind==="min"){if(W===null||$.value>W)W=$.value}return W}get maxValue(){let W=null;for(let $ of this._def.checks)if($.kind==="max"){if(W===null||$.value<W)W=$.value}return W}get isInt(){return!!this._def.checks.find((W)=>W.kind==="int"||W.kind==="multipleOf"&&P0.isInteger(W.value))}get isFinite(){let W=null,$=null;for(let J of this._def.checks)if(J.kind==="finite"||J.kind==="int"||J.kind==="multipleOf")return!0;else if(J.kind==="min"){if($===null||J.value>$)$=J.value}else if(J.kind==="max"){if(W===null||J.value<W)W=J.value}return Number.isFinite($)&&Number.isFinite(W)}}B4.create=(W)=>{return new B4({checks:[],typeName:A0.ZodNumber,coerce:W?.coerce||!1,...S0(W)})};class U4 extends j0{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte}_parse(W){if(this._def.coerce)try{W.data=BigInt(W.data)}catch{return this._getInvalidInput(W)}if(this._getType(W)!==i.bigint)return this._getInvalidInput(W);let J=void 0,Y=new z5;for(let X of this._def.checks)if(X.kind==="min"){if(X.inclusive?W.data<X.value:W.data<=X.value)J=this._getOrReturnCtx(W,J),t(J,{code:h.too_small,type:"bigint",minimum:X.value,inclusive:X.inclusive,message:X.message}),Y.dirty()}else if(X.kind==="max"){if(X.inclusive?W.data>X.value:W.data>=X.value)J=this._getOrReturnCtx(W,J),t(J,{code:h.too_big,type:"bigint",maximum:X.value,inclusive:X.inclusive,message:X.message}),Y.dirty()}else if(X.kind==="multipleOf"){if(W.data%X.value!==BigInt(0))J=this._getOrReturnCtx(W,J),t(J,{code:h.not_multiple_of,multipleOf:X.value,message:X.message}),Y.dirty()}else P0.assertNever(X);return{status:Y.value,value:W.data}}_getInvalidInput(W){let $=this._getOrReturnCtx(W);return t($,{code:h.invalid_type,expected:i.bigint,received:$.parsedType}),G0}gte(W,$){return this.setLimit("min",W,!0,$0.toString($))}gt(W,$){return this.setLimit("min",W,!1,$0.toString($))}lte(W,$){return this.setLimit("max",W,!0,$0.toString($))}lt(W,$){return this.setLimit("max",W,!1,$0.toString($))}setLimit(W,$,J,Y){return new U4({...this._def,checks:[...this._def.checks,{kind:W,value:$,inclusive:J,message:$0.toString(Y)}]})}_addCheck(W){return new U4({...this._def,checks:[...this._def.checks,W]})}positive(W){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$0.toString(W)})}negative(W){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$0.toString(W)})}nonpositive(W){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$0.toString(W)})}nonnegative(W){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$0.toString(W)})}multipleOf(W,$){return this._addCheck({kind:"multipleOf",value:W,message:$0.toString($)})}get minValue(){let W=null;for(let $ of this._def.checks)if($.kind==="min"){if(W===null||$.value>W)W=$.value}return W}get maxValue(){let W=null;for(let $ of this._def.checks)if($.kind==="max"){if(W===null||$.value<W)W=$.value}return W}}U4.create=(W)=>{return new U4({checks:[],typeName:A0.ZodBigInt,coerce:W?.coerce??!1,...S0(W)})};class I7 extends j0{_parse(W){if(this._def.coerce)W.data=Boolean(W.data);if(this._getType(W)!==i.boolean){let J=this._getOrReturnCtx(W);return t(J,{code:h.invalid_type,expected:i.boolean,received:J.parsedType}),G0}return V5(W.data)}}I7.create=(W)=>{return new I7({typeName:A0.ZodBoolean,coerce:W?.coerce||!1,...S0(W)})};class U9 extends j0{_parse(W){if(this._def.coerce)W.data=new Date(W.data);if(this._getType(W)!==i.date){let X=this._getOrReturnCtx(W);return t(X,{code:h.invalid_type,expected:i.date,received:X.parsedType}),G0}if(Number.isNaN(W.data.getTime())){let X=this._getOrReturnCtx(W);return t(X,{code:h.invalid_date}),G0}let J=new z5,Y=void 0;for(let X of this._def.checks)if(X.kind==="min"){if(W.data.getTime()<X.value)Y=this._getOrReturnCtx(W,Y),t(Y,{code:h.too_small,message:X.message,inclusive:!0,exact:!1,minimum:X.value,type:"date"}),J.dirty()}else if(X.kind==="max"){if(W.data.getTime()>X.value)Y=this._getOrReturnCtx(W,Y),t(Y,{code:h.too_big,message:X.message,inclusive:!0,exact:!1,maximum:X.value,type:"date"}),J.dirty()}else P0.assertNever(X);return{status:J.value,value:new Date(W.data.getTime())}}_addCheck(W){return new U9({...this._def,checks:[...this._def.checks,W]})}min(W,$){return this._addCheck({kind:"min",value:W.getTime(),message:$0.toString($)})}max(W,$){return this._addCheck({kind:"max",value:W.getTime(),message:$0.toString($)})}get minDate(){let W=null;for(let $ of this._def.checks)if($.kind==="min"){if(W===null||$.value>W)W=$.value}return W!=null?new Date(W):null}get maxDate(){let W=null;for(let $ of this._def.checks)if($.kind==="max"){if(W===null||$.value<W)W=$.value}return W!=null?new Date(W):null}}U9.create=(W)=>{return new U9({checks:[],coerce:W?.coerce||!1,typeName:A0.ZodDate,...S0(W)})};class V$ extends j0{_parse(W){if(this._getType(W)!==i.symbol){let J=this._getOrReturnCtx(W);return t(J,{code:h.invalid_type,expected:i.symbol,received:J.parsedType}),G0}return V5(W.data)}}V$.create=(W)=>{return new V$({typeName:A0.ZodSymbol,...S0(W)})};class x7 extends j0{_parse(W){if(this._getType(W)!==i.undefined){let J=this._getOrReturnCtx(W);return t(J,{code:h.invalid_type,expected:i.undefined,received:J.parsedType}),G0}return V5(W.data)}}x7.create=(W)=>{return new x7({typeName:A0.ZodUndefined,...S0(W)})};class T7 extends j0{_parse(W){if(this._getType(W)!==i.null){let J=this._getOrReturnCtx(W);return t(J,{code:h.invalid_type,expected:i.null,received:J.parsedType}),G0}return V5(W.data)}}T7.create=(W)=>{return new T7({typeName:A0.ZodNull,...S0(W)})};class w9 extends j0{constructor(){super(...arguments);this._any=!0}_parse(W){return V5(W.data)}}w9.create=(W)=>{return new w9({typeName:A0.ZodAny,...S0(W)})};class G4 extends j0{constructor(){super(...arguments);this._unknown=!0}_parse(W){return V5(W.data)}}G4.create=(W)=>{return new G4({typeName:A0.ZodUnknown,...S0(W)})};class y8 extends j0{_parse(W){let $=this._getOrReturnCtx(W);return t($,{code:h.invalid_type,expected:i.never,received:$.parsedType}),G0}}y8.create=(W)=>{return new y8({typeName:A0.ZodNever,...S0(W)})};class b$ extends j0{_parse(W){if(this._getType(W)!==i.undefined){let J=this._getOrReturnCtx(W);return t(J,{code:h.invalid_type,expected:i.void,received:J.parsedType}),G0}return V5(W.data)}}b$.create=(W)=>{return new b$({typeName:A0.ZodVoid,...S0(W)})};class O8 extends j0{_parse(W){let{ctx:$,status:J}=this._processInputParams(W),Y=this._def;if($.parsedType!==i.array)return t($,{code:h.invalid_type,expected:i.array,received:$.parsedType}),G0;if(Y.exactLength!==null){let Q=$.data.length>Y.exactLength.value,M=$.data.length<Y.exactLength.value;if(Q||M)t($,{code:Q?h.too_big:h.too_small,minimum:M?Y.exactLength.value:void 0,maximum:Q?Y.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:Y.exactLength.message}),J.dirty()}if(Y.minLength!==null){if($.data.length<Y.minLength.value)t($,{code:h.too_small,minimum:Y.minLength.value,type:"array",inclusive:!0,exact:!1,message:Y.minLength.message}),J.dirty()}if(Y.maxLength!==null){if($.data.length>Y.maxLength.value)t($,{code:h.too_big,maximum:Y.maxLength.value,type:"array",inclusive:!0,exact:!1,message:Y.maxLength.message}),J.dirty()}if($.common.async)return Promise.all([...$.data].map((Q,M)=>{return Y.type._parseAsync(new L8($,Q,$.path,M))})).then((Q)=>{return z5.mergeArray(J,Q)});let X=[...$.data].map((Q,M)=>{return Y.type._parseSync(new L8($,Q,$.path,M))});return z5.mergeArray(J,X)}get element(){return this._def.type}min(W,$){return new O8({...this._def,minLength:{value:W,message:$0.toString($)}})}max(W,$){return new O8({...this._def,maxLength:{value:W,message:$0.toString($)}})}length(W,$){return new O8({...this._def,exactLength:{value:W,message:$0.toString($)}})}nonempty(W){return this.min(1,W)}}O8.create=(W,$)=>{return new O8({type:W,minLength:null,maxLength:null,exactLength:null,typeName:A0.ZodArray,...S0($)})};function P7(W){if(W instanceof R1){let $={};for(let J in W.shape){let Y=W.shape[J];$[J]=_8.create(P7(Y))}return new R1({...W._def,shape:()=>$})}else if(W instanceof O8)return new O8({...W._def,type:P7(W.element)});else if(W instanceof _8)return _8.create(P7(W.unwrap()));else if(W instanceof b6)return b6.create(P7(W.unwrap()));else if(W instanceof d8)return d8.create(W.items.map(($)=>P7($)));else return W}class R1 extends j0{constructor(){super(...arguments);this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let W=this._def.shape(),$=P0.objectKeys(W);return this._cached={shape:W,keys:$},this._cached}_parse(W){if(this._getType(W)!==i.object){let G=this._getOrReturnCtx(W);return t(G,{code:h.invalid_type,expected:i.object,received:G.parsedType}),G0}let{status:J,ctx:Y}=this._processInputParams(W),{shape:X,keys:Q}=this._getCached(),M=[];if(!(this._def.catchall instanceof y8&&this._def.unknownKeys==="strip")){for(let G in Y.data)if(!Q.includes(G))M.push(G)}let H=[];for(let G of Q){let B=X[G],w=Y.data[G];H.push({key:{status:"valid",value:G},value:B._parse(new L8(Y,w,Y.path,G)),alwaysSet:G in Y.data})}if(this._def.catchall instanceof y8){let G=this._def.unknownKeys;if(G==="passthrough")for(let B of M)H.push({key:{status:"valid",value:B},value:{status:"valid",value:Y.data[B]}});else if(G==="strict"){if(M.length>0)t(Y,{code:h.unrecognized_keys,keys:M}),J.dirty()}else if(G==="strip");else throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let G=this._def.catchall;for(let B of M){let w=Y.data[B];H.push({key:{status:"valid",value:B},value:G._parse(new L8(Y,w,Y.path,B)),alwaysSet:B in Y.data})}}if(Y.common.async)return Promise.resolve().then(async()=>{let G=[];for(let B of H){let w=await B.key,A=await B.value;G.push({key:w,value:A,alwaysSet:B.alwaysSet})}return G}).then((G)=>{return z5.mergeObjectSync(J,G)});else return z5.mergeObjectSync(J,H)}get shape(){return this._def.shape()}strict(W){return $0.errToObj,new R1({...this._def,unknownKeys:"strict",...W!==void 0?{errorMap:($,J)=>{let Y=this._def.errorMap?.($,J).message??J.defaultError;if($.code==="unrecognized_keys")return{message:$0.errToObj(W).message??Y};return{message:Y}}}:{}})}strip(){return new R1({...this._def,unknownKeys:"strip"})}passthrough(){return new R1({...this._def,unknownKeys:"passthrough"})}extend(W){return new R1({...this._def,shape:()=>({...this._def.shape(),...W})})}merge(W){return new R1({unknownKeys:W._def.unknownKeys,catchall:W._def.catchall,shape:()=>({...this._def.shape(),...W._def.shape()}),typeName:A0.ZodObject})}setKey(W,$){return this.augment({[W]:$})}catchall(W){return new R1({...this._def,catchall:W})}pick(W){let $={};for(let J of P0.objectKeys(W))if(W[J]&&this.shape[J])$[J]=this.shape[J];return new R1({...this._def,shape:()=>$})}omit(W){let $={};for(let J of P0.objectKeys(this.shape))if(!W[J])$[J]=this.shape[J];return new R1({...this._def,shape:()=>$})}deepPartial(){return P7(this)}partial(W){let $={};for(let J of P0.objectKeys(this.shape)){let Y=this.shape[J];if(W&&!W[J])$[J]=Y;else $[J]=Y.optional()}return new R1({...this._def,shape:()=>$})}required(W){let $={};for(let J of P0.objectKeys(this.shape))if(W&&!W[J])$[J]=this.shape[J];else{let X=this.shape[J];while(X instanceof _8)X=X._def.innerType;$[J]=X}return new R1({...this._def,shape:()=>$})}keyof(){return aq(P0.objectKeys(this.shape))}}R1.create=(W,$)=>{return new R1({shape:()=>W,unknownKeys:"strip",catchall:y8.create(),typeName:A0.ZodObject,...S0($)})};R1.strictCreate=(W,$)=>{return new R1({shape:()=>W,unknownKeys:"strict",catchall:y8.create(),typeName:A0.ZodObject,...S0($)})};R1.lazycreate=(W,$)=>{return new R1({shape:W,unknownKeys:"strip",catchall:y8.create(),typeName:A0.ZodObject,...S0($)})};class k7 extends j0{_parse(W){let{ctx:$}=this._processInputParams(W),J=this._def.options;function Y(X){for(let M of X)if(M.result.status==="valid")return M.result;for(let M of X)if(M.result.status==="dirty")return $.common.issues.push(...M.ctx.common.issues),M.result;let Q=X.map((M)=>new a5(M.ctx.common.issues));return t($,{code:h.invalid_union,unionErrors:Q}),G0}if($.common.async)return Promise.all(J.map(async(X)=>{let Q={...$,common:{...$.common,issues:[]},parent:null};return{result:await X._parseAsync({data:$.data,path:$.path,parent:Q}),ctx:Q}})).then(Y);else{let X=void 0,Q=[];for(let H of J){let G={...$,common:{...$.common,issues:[]},parent:null},B=H._parseSync({data:$.data,path:$.path,parent:G});if(B.status==="valid")return B;else if(B.status==="dirty"&&!X)X={result:B,ctx:G};if(G.common.issues.length)Q.push(G.common.issues)}if(X)return $.common.issues.push(...X.ctx.common.issues),X.result;let M=Q.map((H)=>new a5(H));return t($,{code:h.invalid_union,unionErrors:M}),G0}}get options(){return this._def.options}}k7.create=(W,$)=>{return new k7({options:W,typeName:A0.ZodUnion,...S0($)})};var V6=(W)=>{if(W instanceof f7)return V6(W.schema);else if(W instanceof j8)return V6(W.innerType());else if(W instanceof v7)return[W.value];else if(W instanceof w4)return W.options;else if(W instanceof y7)return P0.objectValues(W.enum);else if(W instanceof d7)return V6(W._def.innerType);else if(W instanceof x7)return[void 0];else if(W instanceof T7)return[null];else if(W instanceof _8)return[void 0,...V6(W.unwrap())];else if(W instanceof b6)return[null,...V6(W.unwrap())];else if(W instanceof dY)return V6(W.unwrap());else if(W instanceof h7)return V6(W.unwrap());else if(W instanceof c7)return V6(W._def.innerType);else return[]};class yY extends j0{_parse(W){let{ctx:$}=this._processInputParams(W);if($.parsedType!==i.object)return t($,{code:h.invalid_type,expected:i.object,received:$.parsedType}),G0;let J=this.discriminator,Y=$.data[J],X=this.optionsMap.get(Y);if(!X)return t($,{code:h.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[J]}),G0;if($.common.async)return X._parseAsync({data:$.data,path:$.path,parent:$});else return X._parseSync({data:$.data,path:$.path,parent:$})}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(W,$,J){let Y=new Map;for(let X of $){let Q=V6(X.shape[W]);if(!Q.length)throw new Error(`A discriminator value for key \`${W}\` could not be extracted from all schema options`);for(let M of Q){if(Y.has(M))throw new Error(`Discriminator property ${String(W)} has duplicate value ${String(M)}`);Y.set(M,X)}}return new yY({typeName:A0.ZodDiscriminatedUnion,discriminator:W,options:$,optionsMap:Y,...S0(J)})}}function vM(W,$){let J=v8(W),Y=v8($);if(W===$)return{valid:!0,data:W};else if(J===i.object&&Y===i.object){let X=P0.objectKeys($),Q=P0.objectKeys(W).filter((H)=>X.indexOf(H)!==-1),M={...W,...$};for(let H of Q){let G=vM(W[H],$[H]);if(!G.valid)return{valid:!1};M[H]=G.data}return{valid:!0,data:M}}else if(J===i.array&&Y===i.array){if(W.length!==$.length)return{valid:!1};let X=[];for(let Q=0;Q<W.length;Q++){let M=W[Q],H=$[Q],G=vM(M,H);if(!G.valid)return{valid:!1};X.push(G.data)}return{valid:!0,data:X}}else if(J===i.date&&Y===i.date&&+W===+$)return{valid:!0,data:W};else return{valid:!1}}class g7 extends j0{_parse(W){let{status:$,ctx:J}=this._processInputParams(W),Y=(X,Q)=>{if(fY(X)||fY(Q))return G0;let M=vM(X.value,Q.value);if(!M.valid)return t(J,{code:h.invalid_intersection_types}),G0;if(vY(X)||vY(Q))$.dirty();return{status:$.value,value:M.data}};if(J.common.async)return Promise.all([this._def.left._parseAsync({data:J.data,path:J.path,parent:J}),this._def.right._parseAsync({data:J.data,path:J.path,parent:J})]).then(([X,Q])=>Y(X,Q));else return Y(this._def.left._parseSync({data:J.data,path:J.path,parent:J}),this._def.right._parseSync({data:J.data,path:J.path,parent:J}))}}g7.create=(W,$,J)=>{return new g7({left:W,right:$,typeName:A0.ZodIntersection,...S0(J)})};class d8 extends j0{_parse(W){let{status:$,ctx:J}=this._processInputParams(W);if(J.parsedType!==i.array)return t(J,{code:h.invalid_type,expected:i.array,received:J.parsedType}),G0;if(J.data.length<this._def.items.length)return t(J,{code:h.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),G0;if(!this._def.rest&&J.data.length>this._def.items.length)t(J,{code:h.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),$.dirty();let X=[...J.data].map((Q,M)=>{let H=this._def.items[M]||this._def.rest;if(!H)return null;return H._parse(new L8(J,Q,J.path,M))}).filter((Q)=>!!Q);if(J.common.async)return Promise.all(X).then((Q)=>{return z5.mergeArray($,Q)});else return z5.mergeArray($,X)}get items(){return this._def.items}rest(W){return new d8({...this._def,rest:W})}}d8.create=(W,$)=>{if(!Array.isArray(W))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new d8({items:W,typeName:A0.ZodTuple,rest:null,...S0($)})};class E$ extends j0{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(W){let{status:$,ctx:J}=this._processInputParams(W);if(J.parsedType!==i.object)return t(J,{code:h.invalid_type,expected:i.object,received:J.parsedType}),G0;let Y=[],X=this._def.keyType,Q=this._def.valueType;for(let M in J.data)Y.push({key:X._parse(new L8(J,M,J.path,M)),value:Q._parse(new L8(J,J.data[M],J.path,M)),alwaysSet:M in J.data});if(J.common.async)return z5.mergeObjectAsync($,Y);else return z5.mergeObjectSync($,Y)}get element(){return this._def.valueType}static create(W,$,J){if($ instanceof j0)return new E$({keyType:W,valueType:$,typeName:A0.ZodRecord,...S0(J)});return new E$({keyType:S8.create(),valueType:W,typeName:A0.ZodRecord,...S0($)})}}class P$ extends j0{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(W){let{status:$,ctx:J}=this._processInputParams(W);if(J.parsedType!==i.map)return t(J,{code:h.invalid_type,expected:i.map,received:J.parsedType}),G0;let Y=this._def.keyType,X=this._def.valueType,Q=[...J.data.entries()].map(([M,H],G)=>{return{key:Y._parse(new L8(J,M,J.path,[G,"key"])),value:X._parse(new L8(J,H,J.path,[G,"value"]))}});if(J.common.async){let M=new Map;return Promise.resolve().then(async()=>{for(let H of Q){let G=await H.key,B=await H.value;if(G.status==="aborted"||B.status==="aborted")return G0;if(G.status==="dirty"||B.status==="dirty")$.dirty();M.set(G.value,B.value)}return{status:$.value,value:M}})}else{let M=new Map;for(let H of Q){let{key:G,value:B}=H;if(G.status==="aborted"||B.status==="aborted")return G0;if(G.status==="dirty"||B.status==="dirty")$.dirty();M.set(G.value,B.value)}return{status:$.value,value:M}}}}P$.create=(W,$,J)=>{return new P$({valueType:$,keyType:W,typeName:A0.ZodMap,...S0(J)})};class A9 extends j0{_parse(W){let{status:$,ctx:J}=this._processInputParams(W);if(J.parsedType!==i.set)return t(J,{code:h.invalid_type,expected:i.set,received:J.parsedType}),G0;let Y=this._def;if(Y.minSize!==null){if(J.data.size<Y.minSize.value)t(J,{code:h.too_small,minimum:Y.minSize.value,type:"set",inclusive:!0,exact:!1,message:Y.minSize.message}),$.dirty()}if(Y.maxSize!==null){if(J.data.size>Y.maxSize.value)t(J,{code:h.too_big,maximum:Y.maxSize.value,type:"set",inclusive:!0,exact:!1,message:Y.maxSize.message}),$.dirty()}let X=this._def.valueType;function Q(H){let G=new Set;for(let B of H){if(B.status==="aborted")return G0;if(B.status==="dirty")$.dirty();G.add(B.value)}return{status:$.value,value:G}}let M=[...J.data.values()].map((H,G)=>X._parse(new L8(J,H,J.path,G)));if(J.common.async)return Promise.all(M).then((H)=>Q(H));else return Q(M)}min(W,$){return new A9({...this._def,minSize:{value:W,message:$0.toString($)}})}max(W,$){return new A9({...this._def,maxSize:{value:W,message:$0.toString($)}})}size(W,$){return this.min(W,$).max(W,$)}nonempty(W){return this.min(1,W)}}A9.create=(W,$)=>{return new A9({valueType:W,minSize:null,maxSize:null,typeName:A0.ZodSet,...S0($)})};class R7 extends j0{constructor(){super(...arguments);this.validate=this.implement}_parse(W){let{ctx:$}=this._processInputParams(W);if($.parsedType!==i.function)return t($,{code:h.invalid_type,expected:i.function,received:$.parsedType}),G0;function J(M,H){return C$({data:M,path:$.path,errorMaps:[$.common.contextualErrorMap,$.schemaErrorMap,b7(),C6].filter((G)=>!!G),issueData:{code:h.invalid_arguments,argumentsError:H}})}function Y(M,H){return C$({data:M,path:$.path,errorMaps:[$.common.contextualErrorMap,$.schemaErrorMap,b7(),C6].filter((G)=>!!G),issueData:{code:h.invalid_return_type,returnTypeError:H}})}let X={errorMap:$.common.contextualErrorMap},Q=$.data;if(this._def.returns instanceof N9){let M=this;return V5(async function(...H){let G=new a5([]),B=await M._def.args.parseAsync(H,X).catch((q)=>{throw G.addIssue(J(H,q)),G}),w=await Reflect.apply(Q,this,B);return await M._def.returns._def.type.parseAsync(w,X).catch((q)=>{throw G.addIssue(Y(w,q)),G})})}else{let M=this;return V5(function(...H){let G=M._def.args.safeParse(H,X);if(!G.success)throw new a5([J(H,G.error)]);let B=Reflect.apply(Q,this,G.data),w=M._def.returns.safeParse(B,X);if(!w.success)throw new a5([Y(B,w.error)]);return w.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...W){return new R7({...this._def,args:d8.create(W).rest(G4.create())})}returns(W){return new R7({...this._def,returns:W})}implement(W){return this.parse(W)}strictImplement(W){return this.parse(W)}static create(W,$,J){return new R7({args:W?W:d8.create([]).rest(G4.create()),returns:$||G4.create(),typeName:A0.ZodFunction,...S0(J)})}}class f7 extends j0{get schema(){return this._def.getter()}_parse(W){let{ctx:$}=this._processInputParams(W);return this._def.getter()._parse({data:$.data,path:$.path,parent:$})}}f7.create=(W,$)=>{return new f7({getter:W,typeName:A0.ZodLazy,...S0($)})};class v7 extends j0{_parse(W){if(W.data!==this._def.value){let $=this._getOrReturnCtx(W);return t($,{received:$.data,code:h.invalid_literal,expected:this._def.value}),G0}return{status:"valid",value:W.data}}get value(){return this._def.value}}v7.create=(W,$)=>{return new v7({value:W,typeName:A0.ZodLiteral,...S0($)})};function aq(W,$){return new w4({values:W,typeName:A0.ZodEnum,...S0($)})}class w4 extends j0{_parse(W){if(typeof W.data!=="string"){let $=this._getOrReturnCtx(W),J=this._def.values;return t($,{expected:P0.joinValues(J),received:$.parsedType,code:h.invalid_type}),G0}if(!this._cache)this._cache=new Set(this._def.values);if(!this._cache.has(W.data)){let $=this._getOrReturnCtx(W),J=this._def.values;return t($,{received:$.data,code:h.invalid_enum_value,options:J}),G0}return V5(W.data)}get options(){return this._def.values}get enum(){let W={};for(let $ of this._def.values)W[$]=$;return W}get Values(){let W={};for(let $ of this._def.values)W[$]=$;return W}get Enum(){let W={};for(let $ of this._def.values)W[$]=$;return W}extract(W,$=this._def){return w4.create(W,{...this._def,...$})}exclude(W,$=this._def){return w4.create(this.options.filter((J)=>!W.includes(J)),{...this._def,...$})}}w4.create=aq;class y7 extends j0{_parse(W){let $=P0.getValidEnumValues(this._def.values),J=this._getOrReturnCtx(W);if(J.parsedType!==i.string&&J.parsedType!==i.number){let Y=P0.objectValues($);return t(J,{expected:P0.joinValues(Y),received:J.parsedType,code:h.invalid_type}),G0}if(!this._cache)this._cache=new Set(P0.getValidEnumValues(this._def.values));if(!this._cache.has(W.data)){let Y=P0.objectValues($);return t(J,{received:J.data,code:h.invalid_enum_value,options:Y}),G0}return V5(W.data)}get enum(){return this._def.values}}y7.create=(W,$)=>{return new y7({values:W,typeName:A0.ZodNativeEnum,...S0($)})};class N9 extends j0{unwrap(){return this._def.type}_parse(W){let{ctx:$}=this._processInputParams(W);if($.parsedType!==i.promise&&$.common.async===!1)return t($,{code:h.invalid_type,expected:i.promise,received:$.parsedType}),G0;let J=$.parsedType===i.promise?$.data:Promise.resolve($.data);return V5(J.then((Y)=>{return this._def.type.parseAsync(Y,{path:$.path,errorMap:$.common.contextualErrorMap})}))}}N9.create=(W,$)=>{return new N9({type:W,typeName:A0.ZodPromise,...S0($)})};class j8 extends j0{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===A0.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(W){let{status:$,ctx:J}=this._processInputParams(W),Y=this._def.effect||null,X={addIssue:(Q)=>{if(t(J,Q),Q.fatal)$.abort();else $.dirty()},get path(){return J.path}};if(X.addIssue=X.addIssue.bind(X),Y.type==="preprocess"){let Q=Y.transform(J.data,X);if(J.common.async)return Promise.resolve(Q).then(async(M)=>{if($.value==="aborted")return G0;let H=await this._def.schema._parseAsync({data:M,path:J.path,parent:J});if(H.status==="aborted")return G0;if(H.status==="dirty")return B9(H.value);if($.value==="dirty")return B9(H.value);return H});else{if($.value==="aborted")return G0;let M=this._def.schema._parseSync({data:Q,path:J.path,parent:J});if(M.status==="aborted")return G0;if(M.status==="dirty")return B9(M.value);if($.value==="dirty")return B9(M.value);return M}}if(Y.type==="refinement"){let Q=(M)=>{let H=Y.refinement(M,X);if(J.common.async)return Promise.resolve(H);if(H instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return M};if(J.common.async===!1){let M=this._def.schema._parseSync({data:J.data,path:J.path,parent:J});if(M.status==="aborted")return G0;if(M.status==="dirty")$.dirty();return Q(M.value),{status:$.value,value:M.value}}else return this._def.schema._parseAsync({data:J.data,path:J.path,parent:J}).then((M)=>{if(M.status==="aborted")return G0;if(M.status==="dirty")$.dirty();return Q(M.value).then(()=>{return{status:$.value,value:M.value}})})}if(Y.type==="transform")if(J.common.async===!1){let Q=this._def.schema._parseSync({data:J.data,path:J.path,parent:J});if(!H4(Q))return G0;let M=Y.transform(Q.value,X);if(M instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:$.value,value:M}}else return this._def.schema._parseAsync({data:J.data,path:J.path,parent:J}).then((Q)=>{if(!H4(Q))return G0;return Promise.resolve(Y.transform(Q.value,X)).then((M)=>({status:$.value,value:M}))});P0.assertNever(Y)}}j8.create=(W,$,J)=>{return new j8({schema:W,typeName:A0.ZodEffects,effect:$,...S0(J)})};j8.createWithPreprocess=(W,$,J)=>{return new j8({schema:$,effect:{type:"preprocess",transform:W},typeName:A0.ZodEffects,...S0(J)})};class _8 extends j0{_parse(W){if(this._getType(W)===i.undefined)return V5(void 0);return this._def.innerType._parse(W)}unwrap(){return this._def.innerType}}_8.create=(W,$)=>{return new _8({innerType:W,typeName:A0.ZodOptional,...S0($)})};class b6 extends j0{_parse(W){if(this._getType(W)===i.null)return V5(null);return this._def.innerType._parse(W)}unwrap(){return this._def.innerType}}b6.create=(W,$)=>{return new b6({innerType:W,typeName:A0.ZodNullable,...S0($)})};class d7 extends j0{_parse(W){let{ctx:$}=this._processInputParams(W),J=$.data;if($.parsedType===i.undefined)J=this._def.defaultValue();return this._def.innerType._parse({data:J,path:$.path,parent:$})}removeDefault(){return this._def.innerType}}d7.create=(W,$)=>{return new d7({innerType:W,typeName:A0.ZodDefault,defaultValue:typeof $.default==="function"?$.default:()=>$.default,...S0($)})};class c7 extends j0{_parse(W){let{ctx:$}=this._processInputParams(W),J={...$,common:{...$.common,issues:[]}},Y=this._def.innerType._parse({data:J.data,path:J.path,parent:{...J}});if(E7(Y))return Y.then((X)=>{return{status:"valid",value:X.status==="valid"?X.value:this._def.catchValue({get error(){return new a5(J.common.issues)},input:J.data})}});else return{status:"valid",value:Y.status==="valid"?Y.value:this._def.catchValue({get error(){return new a5(J.common.issues)},input:J.data})}}removeCatch(){return this._def.innerType}}c7.create=(W,$)=>{return new c7({innerType:W,typeName:A0.ZodCatch,catchValue:typeof $.catch==="function"?$.catch:()=>$.catch,...S0($)})};class R$ extends j0{_parse(W){if(this._getType(W)!==i.nan){let J=this._getOrReturnCtx(W);return t(J,{code:h.invalid_type,expected:i.nan,received:J.parsedType}),G0}return{status:"valid",value:W.data}}}R$.create=(W)=>{return new R$({typeName:A0.ZodNaN,...S0(W)})};var fx=Symbol("zod_brand");class dY extends j0{_parse(W){let{ctx:$}=this._processInputParams(W),J=$.data;return this._def.type._parse({data:J,path:$.path,parent:$})}unwrap(){return this._def.type}}class I$ extends j0{_parse(W){let{status:$,ctx:J}=this._processInputParams(W);if(J.common.async)return(async()=>{let X=await this._def.in._parseAsync({data:J.data,path:J.path,parent:J});if(X.status==="aborted")return G0;if(X.status==="dirty")return $.dirty(),B9(X.value);else return this._def.out._parseAsync({data:X.value,path:J.path,parent:J})})();else{let Y=this._def.in._parseSync({data:J.data,path:J.path,parent:J});if(Y.status==="aborted")return G0;if(Y.status==="dirty")return $.dirty(),{status:"dirty",value:Y.value};else return this._def.out._parseSync({data:Y.value,path:J.path,parent:J})}}static create(W,$){return new I$({in:W,out:$,typeName:A0.ZodPipeline})}}class h7 extends j0{_parse(W){let $=this._def.innerType._parse(W),J=(Y)=>{if(H4(Y))Y.value=Object.freeze(Y.value);return Y};return E7($)?$.then((Y)=>J(Y)):J($)}unwrap(){return this._def.innerType}}h7.create=(W,$)=>{return new h7({innerType:W,typeName:A0.ZodReadonly,...S0($)})};function iq(W,$){let J=typeof W==="function"?W($):typeof W==="string"?{message:W}:W;return typeof J==="string"?{message:J}:J}function rq(W,$={},J){if(W)return w9.create().superRefine((Y,X)=>{let Q=W(Y);if(Q instanceof Promise)return Q.then((M)=>{if(!M){let H=iq($,Y),G=H.fatal??J??!0;X.addIssue({code:"custom",...H,fatal:G})}});if(!Q){let M=iq($,Y),H=M.fatal??J??!0;X.addIssue({code:"custom",...M,fatal:H})}return});return w9.create()}var vx={object:R1.lazycreate},A0;(function(W){W.ZodString="ZodString",W.ZodNumber="ZodNumber",W.ZodNaN="ZodNaN",W.ZodBigInt="ZodBigInt",W.ZodBoolean="ZodBoolean",W.ZodDate="ZodDate",W.ZodSymbol="ZodSymbol",W.ZodUndefined="ZodUndefined",W.ZodNull="ZodNull",W.ZodAny="ZodAny",W.ZodUnknown="ZodUnknown",W.ZodNever="ZodNever",W.ZodVoid="ZodVoid",W.ZodArray="ZodArray",W.ZodObject="ZodObject",W.ZodUnion="ZodUnion",W.ZodDiscriminatedUnion="ZodDiscriminatedUnion",W.ZodIntersection="ZodIntersection",W.ZodTuple="ZodTuple",W.ZodRecord="ZodRecord",W.ZodMap="ZodMap",W.ZodSet="ZodSet",W.ZodFunction="ZodFunction",W.ZodLazy="ZodLazy",W.ZodLiteral="ZodLiteral",W.ZodEnum="ZodEnum",W.ZodEffects="ZodEffects",W.ZodNativeEnum="ZodNativeEnum",W.ZodOptional="ZodOptional",W.ZodNullable="ZodNullable",W.ZodDefault="ZodDefault",W.ZodCatch="ZodCatch",W.ZodPromise="ZodPromise",W.ZodBranded="ZodBranded",W.ZodPipeline="ZodPipeline",W.ZodReadonly="ZodReadonly"})(A0||(A0={}));var yx=(W,$={message:`Input not instance of ${W.name}`})=>rq((J)=>J instanceof W,$),tq=S8.create,eq=B4.create,dx=R$.create,cx=U4.create,Wz=I7.create,hx=U9.create,mx=V$.create,ux=x7.create,lx=T7.create,px=w9.create,ix=G4.create,nx=y8.create,ox=b$.create,sx=O8.create,ax=R1.create,rx=R1.strictCreate,tx=k7.create,ex=yY.create,WT=g7.create,$T=d8.create,JT=E$.create,YT=P$.create,XT=A9.create,QT=R7.create,MT=f7.create,HT=v7.create,GT=w4.create,BT=y7.create,UT=N9.create,wT=j8.create,AT=_8.create,NT=b6.create,qT=j8.createWithPreprocess,zT=I$.create,DT=()=>tq().optional(),ZT=()=>eq().optional(),ST=()=>Wz().optional(),OT={string:(W)=>S8.create({...W,coerce:!0}),number:(W)=>B4.create({...W,coerce:!0}),boolean:(W)=>I7.create({...W,coerce:!0}),bigint:(W)=>U4.create({...W,coerce:!0}),date:(W)=>U9.create({...W,coerce:!0})};var _T=G0;var LT=R.object({name:R.string().regex(/^x-/),component:R.unknown()}),$z=R.function().returns(R.object({name:R.string(),extensions:R.array(LT)}));var Jz=[["--theme-","--scalar-"],["--sidebar-","--scalar-sidebar-"]],jT=Jz.map(([W])=>W);function cY(W){if(!jT.some((J)=>W.includes(J)))return W;return console.warn("DEPRECATION WARNING: It looks like you're using legacy CSS variables in your custom CSS string. Please migrate them to use the updated prefixes. See https://github.com/scalar/scalar/blob/main/documentation/themes.md#theme-prefix-changes"),Jz.reduce((J,[Y,X])=>J.replaceAll(Y,X),W)}var FT=R.enum(["alternate","default","moon","purple","solarized","bluePlanet","deepSpace","saturn","kepler","elysiajs","fastify","mars","none"]),KT=R.enum(["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"]),CT=R.enum(["adonisjs","docusaurus","dotnet","elysiajs","express","fastapi","fastify","go","hono","html","laravel","litestar","nestjs","nextjs","nitro","nuxt","platformatic","react","rust","vue"]).nullable(),Xz=R.object({url:R.string().optional(),content:R.union([R.string(),R.record(R.any()),R.function().returns(R.record(R.any())),R.null()]).optional(),title:R.string().optional(),slug:R.string().optional()}),VT=R.object({basePath:R.string()}),Qz=R.object({url:R.string().optional(),content:R.union([R.string(),R.record(R.any()),R.function().returns(R.record(R.any())),R.null()]).optional(),title:R.string().optional(),slug:R.string().optional(),spec:Xz.optional(),authentication:R.any().optional(),baseServerURL:R.string().optional(),hideClientButton:R.boolean().optional().default(!1).catch(!1),proxyUrl:R.string().optional(),searchHotKey:KT.optional(),servers:R.array(R.any()).optional(),showSidebar:R.boolean().optional().default(!0).catch(!0),theme:FT.optional().default("default").catch("default"),_integration:CT.optional(),onRequestSent:R.function().args(R.string()).returns(R.void()).optional()}),Yz="https://api.scalar.com/request-proxy",yM="https://proxy.scalar.com",bT=Qz.merge(R.object({layout:R.enum(["modern","classic"]).optional().default("modern").catch("modern"),proxy:R.string().optional(),plugins:R.array($z).optional(),isEditable:R.boolean().optional().default(!1).catch(!1),isLoading:R.boolean().optional().default(!1).catch(!1),hideModels:R.boolean().optional().default(!1).catch(!1),hideDownloadButton:R.boolean().optional().default(!1).catch(!1),hideTestRequestButton:R.boolean().optional().default(!1).catch(!1),hideSearch:R.boolean().optional().default(!1).catch(!1),darkMode:R.boolean().optional(),forceDarkModeState:R.enum(["dark","light"]).optional(),hideDarkModeToggle:R.boolean().optional().default(!1).catch(!1),metaData:R.any().optional(),favicon:R.string().optional(),hiddenClients:R.union([R.record(R.union([R.boolean(),R.array(R.string())])),R.array(R.string()),R.literal(!0)]).optional(),defaultHttpClient:R.object({targetKey:R.custom(),clientKey:R.string()}).optional(),customCss:R.string().optional(),onSpecUpdate:R.function().args(R.string()).returns(R.void()).optional(),onServerChange:R.function().args(R.string()).returns(R.void()).optional(),onDocumentSelect:R.function().returns(R.void().or(R.void().promise())).optional(),onLoaded:R.function().returns(R.void().or(R.void().promise())).optional(),onShowMore:R.function().args(R.string()).returns(R.void().or(R.void().promise())).optional(),onSidebarClick:R.function().args(R.string()).returns(R.void().or(R.void().promise())).optional(),pathRouting:VT.optional(),generateHeadingSlug:R.function().args(R.object({slug:R.string().default("headingSlug")})).returns(R.string()).optional(),generateModelSlug:R.function().args(R.object({name:R.string().default("modelName")})).returns(R.string()).optional(),generateTagSlug:R.function().args(R.object({name:R.string().default("tagName")})).returns(R.string()).optional(),generateOperationSlug:R.function().args(R.object({path:R.string(),operationId:R.string().optional(),method:R.string(),summary:R.string().optional()})).returns(R.string()).optional(),generateWebhookSlug:R.function().args(R.object({name:R.string(),method:R.string().optional()})).returns(R.string()).optional(),redirect:R.function().args(R.string()).returns(R.string().nullable().optional()).optional(),withDefaultFonts:R.boolean().optional().default(!0).catch(!0),defaultOpenAllTags:R.boolean().optional(),tagsSorter:R.union([R.literal("alpha"),R.function().args(R.any(),R.any()).returns(R.number())]).optional(),operationsSorter:R.union([R.literal("alpha"),R.literal("method"),R.function().args(R.any(),R.any()).returns(R.number())]).optional()})),ET=(W)=>{let $={...W};if($.spec?.url)console.warn("[DEPRECATED] You're using the deprecated 'spec.url' attribute. Remove the spec prefix and move the 'url' attribute to the top level."),$.url=$.spec.url,delete $.spec;if($.spec?.content)console.warn("[DEPRECATED] You're using the deprecated 'spec.content' attribute. Remove the spec prefix and move the 'content' attribute to the top level."),$.content=$.spec.content,delete $.spec;if($.customCss)$.customCss=cY($.customCss);if($.proxy){if(console.warn("[DEPRECATED] You're using the deprecated 'proxy' attribute, rename it to 'proxyUrl' or update the package."),!$.proxyUrl)$.proxyUrl=$.proxy;delete $.proxy}if($.proxyUrl===Yz)console.warn(`[DEPRECATED] Warning: configuration.proxyUrl points to our old proxy (${Yz}).`),console.warn(`[DEPRECATED] We are overwriting the value and use the new proxy URL (${yM}) instead.`),console.warn(`[DEPRECATED] Action Required: You should manually update your configuration to use the new URL (${yM}). Read more: https://github.com/scalar/scalar`),$.proxyUrl=yM;return $},PT=bT.transform(ET);var RT=R.object({cdn:R.string().optional().default("https://cdn.jsdelivr.net/npm/@scalar/api-reference"),pageTitle:R.string().optional().default("Scalar API Reference")});var IT={alternate:Tq,default:fq,moon:cq,elysiajs:gY,fastify:vq,purple:hq,solarized:uq,bluePlanet:kq,deepSpace:gq,saturn:mq,kepler:yq,mars:dq};var ZJ0=Object.keys(IT);function dM(W){return"type"in W||"properties"in W||"items"in W}function xT(W,$){return(W==="createdAt"||W==="updatedAt")&&"anyOf"in $&&Array.isArray($.anyOf)}function Gz(W){if(!dM(W)||typeof W!=="object"||W===null)return W;let $={...W};return Object.entries($).forEach(([J,Y])=>{if(dM(Y))if(xT(J,Y)){let X=Y.anyOf?.find((Q)=>dM(Q)&&Q.format==="date-time");if(X){let Q={type:"string",format:"date-time",default:X.default};$[J]=Q}}else $[J]=Gz(Y)}),$}var TT=(W,$,J,Y,X)=>{let Q=JSON.parse(Y);if(Q.components&&Q.components.schemas)Q.components.schemas=Object.fromEntries(Object.entries(Q.components.schemas).map(([H,G])=>[H,Gz(G)]));let M=JSON.stringify(Q);return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>${W.title}</title>
    <meta
        name="description"
        content="${W.description}"
    />
    <meta
        name="og:description"
        content="${W.description}"
    />
    ${X&&typeof J==="string"?`
    <style>
        @media (prefers-color-scheme: dark) {
            body {
                background-color: #222;
                color: #faf9a;
            }
            .swagger-ui {
                filter: invert(92%) hue-rotate(180deg);
            }

            .swagger-ui .microlight {
                filter: invert(100%) hue-rotate(180deg);
            }
        }
    </style>`:""}
    ${typeof J==="string"?`<link rel="stylesheet" href="${J}" />`:`<link rel="stylesheet" media="(prefers-color-scheme: light)" href="${J.light}" />
<link rel="stylesheet" media="(prefers-color-scheme: dark)" href="${J.dark}" />`}
</head>
<body>
    <div id="swagger-ui"></div>
    <script src="https://unpkg.com/swagger-ui-dist@${$}/swagger-ui-bundle.js" crossorigin></script>
    <script>
        window.onload = () => {
            window.ui = SwaggerUIBundle(${M});
        };
    </script>
</body>
</html>`},kT=(W,$,J,Y)=>`<!doctype html>
<html>
  <head>
    <title>${W.title}</title>
    <meta
        name="description"
        content="${W.description}"
    />
    <meta
        name="og:description"
        content="${W.description}"
    />
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1" />
    <style>
      body {
        margin: 0;
      }
    </style>
    <style>
      ${J.customCss??gY}
    </style>
  </head>
  <body>
    <script
      id="api-reference"
      data-url="${J.spec?.url}"
      data-configuration='${JSON.stringify(J)}'
    >
    </script>
    <script src="${Y?Y:`https://cdn.jsdelivr.net/npm/@scalar/api-reference@${$}/dist/browser/standalone.min.js`}" crossorigin></script>
  </body>
</html>`,jJ0=Symbol.for("TypeBox.Transform"),FJ0=Symbol.for("TypeBox.Readonly"),KJ0=Symbol.for("TypeBox.Optional"),CJ0=Symbol.for("TypeBox.Hint"),hM=Symbol.for("TypeBox.Kind"),gT=(W)=>W.split("/").map(($)=>{if($.startsWith(":")){if($=$.slice(1,$.length),$.endsWith("?"))$=$.slice(0,-1);$=`{${$}}`}return $}).join("/"),cM=(W,$,J)=>{if($===void 0)return[];if(typeof $==="string")if($ in J)$=J[$];else throw new Error(`Can't find model ${$}`);return Object.entries($?.properties??[]).map(([Y,X])=>{let{type:Q=void 0,description:M,examples:H,...G}=X;return{description:M,examples:H,schema:{type:Q,...G},in:W,name:Y,required:$.required?.includes(Y)??!1}})},x$=(W,$)=>{if(typeof $==="object"&&["void","undefined","null"].includes($.type))return;let J={};for(let Y of W)J[Y]={schema:typeof $==="string"?{$ref:`#/components/schemas/${$}`}:("$ref"in $)&&(hM in $)&&$[hM]==="Ref"?{...$,$ref:`#/components/schemas/${$.$ref}`}:q$({...$},{from:U.Ref(""),to:({$ref:X,...Q})=>{if(!X.startsWith("#/components/schemas/"))return U.Ref(`#/components/schemas/${X}`,Q);return U.Ref(X,Q)}})};return J},Mz=(W)=>W.charAt(0).toUpperCase()+W.slice(1),fT=(W,$)=>{let J=W.toLowerCase();if($==="/")return J+"Index";for(let Y of $.split("/"))if(Y.charCodeAt(0)===123)J+="By"+Mz(Y.slice(1,-1));else J+=Mz(Y);return J},m7=(W)=>{if(!W)return;if(typeof W==="string")return W;if(Array.isArray(W))return[...W];return{...W}},Hz=({schema:W,path:$,method:J,hook:Y,models:X})=>{if(Y=m7(Y),Y.parse&&!Array.isArray(Y.parse))Y.parse=[Y.parse];let Q=Y.parse?.map((N)=>{switch(typeof N){case"string":return N;case"object":if(N&&typeof N?.fn!=="string")return;switch(N?.fn){case"json":case"application/json":return"application/json";case"text":case"text/plain":return"text/plain";case"urlencoded":case"application/x-www-form-urlencoded":return"application/x-www-form-urlencoded";case"arrayBuffer":case"application/octet-stream":return"application/octet-stream";case"formdata":case"multipart/form-data":return"multipart/form-data"}}}).filter((N)=>N!==void 0);if(!Q||Q.length===0)Q=["application/json","multipart/form-data","text/plain"];$=gT($);let M=typeof Q==="string"?[Q]:Q??["application/json"],H=m7(Y?.body),G=m7(Y?.params),B=m7(Y?.headers),w=m7(Y?.query),A=m7(Y?.response);if(typeof A==="object")if(hM in A){let{type:N,properties:z,required:D,additionalProperties:_,patternProperties:L,$ref:S,...P}=A;A={"200":{...P,description:P.description,content:x$(M,N==="object"||N==="array"?{type:N,properties:z,patternProperties:L,items:A.items,required:D}:A)}}}else Object.entries(A).forEach(([N,z])=>{if(typeof z==="string"){if(!X[z])return;let{type:D,properties:_,required:L,additionalProperties:S,patternProperties:P,...c}=X[z];A[N]={...c,description:c.description,content:x$(M,z)}}else{let{type:D,properties:_,required:L,additionalProperties:S,patternProperties:P,...c}=z;A[N]={...c,description:c.description,content:x$(M,D==="object"||D==="array"?{type:D,properties:_,patternProperties:P,items:z.items,required:L}:z)}}});else if(typeof A==="string"){if(!(A in X))return;let{type:N,properties:z,required:D,$ref:_,additionalProperties:L,patternProperties:S,...P}=X[A];A={"200":{...P,content:x$(M,A)}}}let q=[...cM("header",B,X),...cM("path",G,X),...cM("query",w,X)];W[$]={...W[$]?W[$]:{},[J.toLowerCase()]:{...B||G||w||H?{parameters:q}:{},...A?{responses:A}:{},operationId:Y?.detail?.operationId??fT(J,$),...Y?.detail,...H?{requestBody:{required:!0,content:x$(M,typeof H==="string"?{$ref:`#/components/schemas/${H}`}:H)}}:null}}},vT=(W,{excludeStaticFile:$=!0,exclude:J=[]})=>{let Y={};for(let[X,Q]of Object.entries(W))if(!J.some((M)=>{if(typeof M==="string")return X===M;return M.test(X)})&&!X.includes("*")&&($?!X.includes("."):!0))Object.keys(Q).forEach((M)=>{let H=Q[M];if(X.includes("{")){if(!H.parameters)H.parameters=[];H.parameters=[...X.split("/").filter((G)=>G.startsWith("{")&&!H.parameters.find((B)=>B.in==="path"&&B.name===G.slice(1,G.length-1))).map((G)=>({schema:{type:"string"},in:"path",name:G.slice(1,G.length-1),required:!0})),...H.parameters]}if(!H.responses)H.responses={200:{}}}),Y[X]=Q;return Y},yT=({provider:W="scalar",scalarVersion:$="latest",scalarCDN:J="",scalarConfig:Y={},documentation:X={},version:Q="5.9.0",excludeStaticFile:M=!0,path:H="/swagger",specPath:G=`${H}/json`,exclude:B=[],swaggerOptions:w={},theme:A=`https://unpkg.com/swagger-ui-dist@${Q}/swagger-ui.css`,autoDarkMode:q=!0,excludeMethods:N=["OPTIONS"],excludeTags:z=[]}={})=>{let D={},_=0;if(!Q)Q=`https://unpkg.com/swagger-ui-dist@${Q}/swagger-ui.css`;let L={title:"Elysia Documentation",description:"Development documentation",version:"0.0.0",...X.info},S=G.startsWith("/")?G.slice(1):G,P=new Z0({name:"@elysiajs/swagger"}),c=new Response(W==="swagger-ui"?TT(L,Q,A,JSON.stringify({url:S,dom_id:"#swagger-ui",...w},(e,I)=>typeof I==="function"?void 0:I),q):kT(L,$,{spec:{url:S,...Y.spec},...Y,_integration:"elysiajs"},J),{headers:{"content-type":"text/html; charset=utf8"}});return P.get(H,c,{detail:{hide:!0}}).get(G,function e(){let I=P.getGlobalRoutes();if(I.length!==_){let V=["GET","PUT","POST","DELETE","OPTIONS","HEAD","PATCH","TRACE"];_=I.length,I.forEach((x)=>{if(x.hooks?.detail?.hide===!0)return;if(N.includes(x.method))return;if(V.includes(x.method)===!1&&x.method!=="ALL")return;if(x.method==="ALL")V.forEach((C)=>{Hz({schema:D,hook:x.hooks,method:C,path:x.path,models:P.getGlobalDefinitions?.().type,contentType:x.hooks.type})});else Hz({schema:D,hook:x.hooks,method:x.method,path:x.path,models:P.getGlobalDefinitions?.().type,contentType:x.hooks.type})})}return{openapi:"3.0.3",...{...X,tags:X.tags?.filter((V)=>!z?.includes(V?.name)),info:{title:"Elysia Documentation",description:"Development documentation",version:"0.0.0",...X.info}},paths:{...vT(D,{excludeStaticFile:M,exclude:Array.isArray(B)?B:[B]}),...X.paths},components:{...X.components,schemas:{...P.getGlobalDefinitions?.().type,...X.components?.schemas}}}},{detail:{hide:!0}}),P},Bz=yT;var dT=typeof new Headers()?.toJSON==="function",cT=(W)=>{if(dT)return Object.keys(W.toJSON()).join(", ");let $="",J=0;return W.forEach((Y,X)=>{if(J)$=$+", "+X;else $=X;J++}),$},mM=(W)=>{let{aot:$=!0,origin:J=!0,methods:Y=!0,allowedHeaders:X=!0,exposeHeaders:Q=!0,credentials:M=!0,maxAge:H=5,preflight:G=!0}=W??{};if(Array.isArray(X))X=X.join(", ");if(Array.isArray(Q))Q=Q.join(", ");let B=typeof J==="boolean"?void 0:Array.isArray(J)?J:[J],w=new Z0({name:"@elysiajs/cors",seed:W,aot:$}),A=B?.some((S)=>S==="*"),q={};if(B){for(let S of B)if(typeof S==="string")q[S]=!0}let N=(S,P,c)=>{if(Array.isArray(S))return S.some((e)=>N(e,P,c));switch(typeof S){case"string":if(c in q)return!0;let e=c.indexOf("://");if(e!==-1)c=c.slice(e+3);return S===c;case"function":return S(P)===!0;case"object":if(S instanceof RegExp)return S.test(c)}return!1},z=(S,P)=>{if(J===!0){S.headers.vary="*",S.headers["access-control-allow-origin"]=P.headers.get("Origin")||"*";return}if(A){S.headers.vary="*",S.headers["access-control-allow-origin"]="*";return}if(!B?.length)return;let c=[];if(B.length){let e=P.headers.get("Origin")??"";for(let I=0;I<B.length;I++)if(N(B[I],P,e)===!0){S.headers.vary=J?"Origin":"*",S.headers["access-control-allow-origin"]=e||"*";return}}if(S.headers.vary="Origin",c.length)S.headers["access-control-allow-origin"]=c.join(", ")},D=(S,P)=>{if(!P)return;if(Y===!0)return S.headers["access-control-allow-methods"]=P??"*";if(Y===!1||!Y?.length)return;if(Y==="*")return S.headers["access-control-allow-methods"]="*";if(!Array.isArray(Y))return S.headers["access-control-allow-methods"]=Y;S.headers["access-control-allow-methods"]=Y.join(", ")},_={};if(typeof Q==="string")_["access-control-expose-headers"]=Q;if(typeof X==="string")_["access-control-allow-headers"]=X;if(M===!0)_["access-control-allow-credentials"]="true";w.headers(_);function L({set:S,request:P,headers:c}){if(z(S,P),D(S,P.headers.get("access-control-request-method")),X===!0||Q===!0){if(X===!0)S.headers["access-control-allow-headers"]=c["access-control-request-headers"];if(Q===!0)S.headers["access-control-expose-headers"]=Object.keys(c).join(",")}if(H)S.headers["access-control-max-age"]=H.toString();return new Response(null,{status:204})}if(G)w.options("/",L).options("/*",L);return w.onRequest(function S({set:P,request:c}){if(z(P,c),D(P,c.method),X===!0||Q===!0){let e=cT(c.headers);if(X===!0)P.headers["access-control-allow-headers"]=e;if(Q===!0)P.headers["access-control-expose-headers"]=e}})},Uz=mM;var wz=mM({origin:"*"});var A4=U.Object({id:U.String(),firstname:U.String(),lastname:U.String(),username:U.String(),email:U.Optional(U.String()),password:U.String(),role:U.UnionEnum(["USER","ADMIN","OFFICER","SUPERADMIN"]),createdAt:U.Date(),updatedAt:U.Date()});import*as YS from"process";import*as XJ from"path";import{fileURLToPath as Fh}from"url";import*as XD from"module";import*as QD from"path";import*as J0 from"process";import*as MD from"url";import Pk from"fs";import Tk from"child_process";import ZD from"fs/promises";import WH from"os";import{promisify as dk}from"util";import IH from"process";import Z1 from"path";import Sz from"fs";import uY from"path";import HH from"fs";import n$ from"path";import Uv from"fs";import{AsyncResource as Vy}from"async_hooks";import{EventEmitter as by}from"events";import Ey from"fs";import iM from"path";import Td from"fs";import rY from"path";import mz from"os";import Vc from"path";var __dirname="C:\\Users\\D3C3M\\Desktop\\backend_cake\\node_modules\\@prisma\\client\\runtime",CH=MD.fileURLToPath(import.meta.url);globalThis.__dirname=QD.dirname(CH);var u7=XD.createRequire(import.meta.url),hT=Object.create,VH=Object.defineProperty,mT=Object.getOwnPropertyDescriptor,uT=Object.getOwnPropertyNames,lT=Object.getPrototypeOf,pT=Object.prototype.hasOwnProperty,i7=((W)=>typeof u7<"u"?u7:typeof Proxy<"u"?new Proxy(W,{get:($,J)=>(typeof u7<"u"?u7:$)[J]}):W)(function(W){if(typeof u7<"u")return u7.apply(this,arguments);throw Error('Dynamic require of "'+W+'" is not supported')}),HD=(W,$)=>()=>(W&&($=W(W=0)),$),g2=(W,$)=>()=>($||W(($={exports:{}}).exports,$),$.exports),e7=(W,$)=>{for(var J in $)VH(W,J,{get:$[J],enumerable:!0})},iT=(W,$,J,Y)=>{if($&&typeof $=="object"||typeof $=="function")for(let X of uT($))!pT.call(W,X)&&X!==J&&VH(W,X,{get:()=>$[X],enumerable:!(Y=mT($,X))||Y.enumerable});return W},f2=(W,$,J)=>(J=W!=null?hT(lT(W)):{},iT($||!W||!W.__esModule?VH(J,"default",{value:W,enumerable:!0}):J,W)),GD=g2((W,$)=>{$.exports=(J,Y=J0.argv)=>{let X=J.startsWith("-")?"":J.length===1?"-":"--",Q=Y.indexOf(X+J),M=Y.indexOf("--");return Q!==-1&&(M===-1||Q<M)}}),nT=g2((W,$)=>{var J=i7("node:os"),Y=i7("node:tty"),X=GD(),{env:Q}=J0,M;X("no-color")||X("no-colors")||X("color=false")||X("color=never")?M=0:(X("color")||X("colors")||X("color=true")||X("color=always"))&&(M=1),"FORCE_COLOR"in Q&&(Q.FORCE_COLOR==="true"?M=1:Q.FORCE_COLOR==="false"?M=0:M=Q.FORCE_COLOR.length===0?1:Math.min(parseInt(Q.FORCE_COLOR,10),3));function H(w){return w===0?!1:{level:w,hasBasic:!0,has256:w>=2,has16m:w>=3}}function G(w,A){if(M===0)return 0;if(X("color=16m")||X("color=full")||X("color=truecolor"))return 3;if(X("color=256"))return 2;if(w&&!A&&M===void 0)return 0;let q=M||0;if(Q.TERM==="dumb")return q;if(J0.platform==="win32"){let N=J.release().split(".");return Number(N[0])>=10&&Number(N[2])>=10586?Number(N[2])>=14931?3:2:1}if("CI"in Q)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((N)=>(N in Q))||Q.CI_NAME==="codeship"?1:q;if("TEAMCITY_VERSION"in Q)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Q.TEAMCITY_VERSION)?1:0;if(Q.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Q){let N=parseInt((Q.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Q.TERM_PROGRAM){case"iTerm.app":return N>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Q.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Q.TERM)||("COLORTERM"in Q)?1:q}function B(w){let A=G(w,w&&w.isTTY);return H(A)}$.exports={supportsColor:B,stdout:H(G(!0,Y.isatty(1))),stderr:H(G(!0,Y.isatty(2)))}}),oT=g2((W,$)=>{var J=nT(),Y=GD();function X(M){if(/^\d{3,4}$/.test(M)){let G=/(\d{1,2})(\d{2})/.exec(M)||[];return{major:0,minor:parseInt(G[1],10),patch:parseInt(G[2],10)}}let H=(M||"").split(".").map((G)=>parseInt(G,10));return{major:H[0],minor:H[1],patch:H[2]}}function Q(M){let{CI:H,FORCE_HYPERLINK:G,NETLIFY:B,TEAMCITY_VERSION:w,TERM_PROGRAM:A,TERM_PROGRAM_VERSION:q,VTE_VERSION:N,TERM:z}=J0.env;if(G)return!(G.length>0&&parseInt(G,10)===0);if(Y("no-hyperlink")||Y("no-hyperlinks")||Y("hyperlink=false")||Y("hyperlink=never"))return!1;if(Y("hyperlink=true")||Y("hyperlink=always")||B)return!0;if(!J.supportsColor(M)||M&&!M.isTTY)return!1;if("WT_SESSION"in J0.env)return!0;if(J0.platform==="win32"||H||w)return!1;if(A){let D=X(q||"");switch(A){case"iTerm.app":return D.major===3?D.minor>=1:D.major>3;case"WezTerm":return D.major>=20200620;case"vscode":return D.major>1||D.major===1&&D.minor>=72;case"ghostty":return!0}}if(N){if(N==="0.50.0")return!1;let D=X(N);return D.major>0||D.minor>=50}switch(z){case"alacritty":return!0}return!1}$.exports={supportsHyperlink:Q,stdout:Q(J0.stdout),stderr:Q(J0.stderr)}}),sT=g2((W,$)=>{$.exports={name:"@prisma/internals",version:"6.16.2",description:"This package is intended for Prisma's internal use",main:"dist/index.js",types:"dist/index.d.ts",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/internals"},homepage:"https://www.prisma.io",author:"Tim Suchanek <suchanek@prisma.io>",bugs:"https://github.com/prisma/prisma/issues",license:"Apache-2.0",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",test:"dotenv -e ../../.db.env -- jest --silent",prepublishOnly:"pnpm run build"},files:["README.md","dist","!**/libquery_engine*","!dist/get-generators/engines/*","scripts"],devDependencies:{"@babel/helper-validator-identifier":"7.25.9","@opentelemetry/api":"1.9.0","@swc/core":"1.11.5","@swc/jest":"0.2.37","@types/babel__helper-validator-identifier":"7.15.2","@types/jest":"29.5.14","@types/node":"18.19.76","@types/resolve":"1.20.6",archiver:"6.0.2","checkpoint-client":"1.1.33","cli-truncate":"4.0.0",dotenv:"16.5.0",empathic:"2.0.0","escape-string-regexp":"5.0.0",execa:"5.1.1","fast-glob":"3.3.3","find-up":"7.0.0","fp-ts":"2.16.9","fs-extra":"11.3.0","fs-jetpack":"5.1.0","global-directory":"4.0.0",globby:"11.1.0","identifier-regex":"1.0.0","indent-string":"4.0.0","is-windows":"1.0.2","is-wsl":"3.1.0",jest:"29.7.0","jest-junit":"16.0.0",kleur:"4.1.5","mock-stdin":"1.0.0","new-github-issue-url":"0.2.1","node-fetch":"3.3.2","npm-packlist":"5.1.3",open:"7.4.2","p-map":"4.0.0",resolve:"1.22.10","string-width":"7.2.0","strip-indent":"4.0.0","temp-dir":"2.0.0",tempy:"1.0.1","terminal-link":"4.0.0",tmp:"0.2.3","ts-pattern":"5.6.2","ts-toolbelt":"9.6.0",typescript:"5.4.5",yarn:"1.22.22"},dependencies:{"@prisma/config":"workspace:*","@prisma/debug":"workspace:*","@prisma/dmmf":"workspace:*","@prisma/driver-adapter-utils":"workspace:*","@prisma/engines":"workspace:*","@prisma/fetch-engine":"workspace:*","@prisma/generator":"workspace:*","@prisma/generator-helper":"workspace:*","@prisma/get-platform":"workspace:*","@prisma/prisma-schema-wasm":"6.16.0-7.1c57fdcd7e44b29b9313256c76699e91c3ac3c43","@prisma/schema-engine-wasm":"6.16.0-7.1c57fdcd7e44b29b9313256c76699e91c3ac3c43","@prisma/schema-files-loader":"workspace:*",arg:"5.0.2",prompts:"2.4.2"},peerDependencies:{typescript:">=5.1.0"},peerDependenciesMeta:{typescript:{optional:!0}},sideEffects:!1}}),BD=g2((W,$)=>{$.exports={name:"@prisma/engines-version",version:"6.16.0-7.1c57fdcd7e44b29b9313256c76699e91c3ac3c43",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"1c57fdcd7e44b29b9313256c76699e91c3ac3c43"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}}),bH=g2((W)=>{Object.defineProperty(W,"__esModule",{value:!0}),W.enginesVersion=void 0,W.enginesVersion=BD().prisma.enginesVersion}),aT=g2((W,$)=>{$.exports=(J)=>{let Y=J.match(/^[ \t]*(?=\S)/gm);return Y?Y.reduce((X,Q)=>Math.min(X,Q.length),1/0):0}}),UD=g2((W,$)=>{$.exports=(J,Y=1,X)=>{if(X={indent:" ",includeEmptyLines:!1,...X},typeof J!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof J}\``);if(typeof Y!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof Y}\``);if(typeof X.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof X.indent}\``);if(Y===0)return J;let Q=X.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return J.replace(Q,X.indent.repeat(Y))}}),rT=g2((W,$)=>{$.exports={name:"dotenv",version:"16.5.0",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}}),tT=g2((W,$)=>{var J=i7("node:fs"),Y=i7("node:path"),X=i7("node:os"),Q=i7("node:crypto"),M=rT(),H=M.version,G=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function B(V){let x={},C=V.toString();C=C.replace(/\r\n?/mg,`
`);let k;for(;(k=G.exec(C))!=null;){let b=k[1],y=k[2]||"";y=y.trim();let u=y[0];y=y.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),u==='"'&&(y=y.replace(/\\n/g,`
`),y=y.replace(/\\r/g,"\r")),x[b]=y}return x}function w(V){let x=D(V),C=I.configDotenv({path:x});if(!C.parsed){let u=new Error(`MISSING_DATA: Cannot parse ${x} for an unknown reason`);throw u.code="MISSING_DATA",u}let k=N(V).split(","),b=k.length,y;for(let u=0;u<b;u++)try{let N0=k[u].trim(),r=z(C,N0);y=I.decrypt(r.ciphertext,r.key);break}catch(N0){if(u+1>=b)throw N0}return I.parse(y)}function A(V){console.log(`[dotenv@${H}][WARN] ${V}`)}function q(V){console.log(`[dotenv@${H}][DEBUG] ${V}`)}function N(V){return V&&V.DOTENV_KEY&&V.DOTENV_KEY.length>0?V.DOTENV_KEY:J0.env.DOTENV_KEY&&J0.env.DOTENV_KEY.length>0?J0.env.DOTENV_KEY:""}function z(V,x){let C;try{C=new URL(x)}catch(N0){if(N0.code==="ERR_INVALID_URL"){let r=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw r.code="INVALID_DOTENV_KEY",r}throw N0}let k=C.password;if(!k){let N0=new Error("INVALID_DOTENV_KEY: Missing key part");throw N0.code="INVALID_DOTENV_KEY",N0}let b=C.searchParams.get("environment");if(!b){let N0=new Error("INVALID_DOTENV_KEY: Missing environment part");throw N0.code="INVALID_DOTENV_KEY",N0}let y=`DOTENV_VAULT_${b.toUpperCase()}`,u=V.parsed[y];if(!u){let N0=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${y} in your .env.vault file.`);throw N0.code="NOT_FOUND_DOTENV_ENVIRONMENT",N0}return{ciphertext:u,key:k}}function D(V){let x=null;if(V&&V.path&&V.path.length>0)if(Array.isArray(V.path))for(let C of V.path)J.existsSync(C)&&(x=C.endsWith(".vault")?C:`${C}.vault`);else x=V.path.endsWith(".vault")?V.path:`${V.path}.vault`;else x=Y.resolve(J0.cwd(),".env.vault");return J.existsSync(x)?x:null}function _(V){return V[0]==="~"?Y.join(X.homedir(),V.slice(1)):V}function L(V){!!(V&&V.debug)&&q("Loading env from encrypted .env.vault");let x=I._parseVault(V),C=J0.env;return V&&V.processEnv!=null&&(C=V.processEnv),I.populate(C,x,V),{parsed:x}}function S(V){let x=Y.resolve(J0.cwd(),".env"),C="utf8",k=!!(V&&V.debug);V&&V.encoding?C=V.encoding:k&&q("No encoding is specified. UTF-8 is used by default");let b=[x];if(V&&V.path)if(!Array.isArray(V.path))b=[_(V.path)];else{b=[];for(let r of V.path)b.push(_(r))}let y,u={};for(let r of b)try{let U0=I.parse(J.readFileSync(r,{encoding:C}));I.populate(u,U0,V)}catch(U0){k&&q(`Failed to load ${r} ${U0.message}`),y=U0}let N0=J0.env;return V&&V.processEnv!=null&&(N0=V.processEnv),I.populate(N0,u,V),y?{parsed:u,error:y}:{parsed:u}}function P(V){if(N(V).length===0)return I.configDotenv(V);let x=D(V);return x?I._configVault(V):(A(`You set DOTENV_KEY but you are missing a .env.vault file at ${x}. Did you forget to build it?`),I.configDotenv(V))}function c(V,x){let C=Buffer.from(x.slice(-64),"hex"),k=Buffer.from(V,"base64"),b=k.subarray(0,12),y=k.subarray(-16);k=k.subarray(12,-16);try{let u=Q.createDecipheriv("aes-256-gcm",C,b);return u.setAuthTag(y),`${u.update(k)}${u.final()}`}catch(u){let N0=u instanceof RangeError,r=u.message==="Invalid key length",U0=u.message==="Unsupported state or unable to authenticate data";if(N0||r){let d5=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw d5.code="INVALID_DOTENV_KEY",d5}else if(U0){let d5=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw d5.code="DECRYPTION_FAILED",d5}else throw u}}function e(V,x,C={}){let k=!!(C&&C.debug),b=!!(C&&C.override);if(typeof x!="object"){let y=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw y.code="OBJECT_REQUIRED",y}for(let y of Object.keys(x))Object.prototype.hasOwnProperty.call(V,y)?(b===!0&&(V[y]=x[y]),k&&q(b===!0?`"${y}" is already defined and WAS overwritten`:`"${y}" is already defined and was NOT overwritten`)):V[y]=x[y]}var I={configDotenv:S,_configVault:L,_parseVault:w,config:P,decrypt:c,parse:B,populate:e};$.exports.configDotenv=I.configDotenv,$.exports._configVault=I._configVault,$.exports._parseVault=I._parseVault,$.exports.config=I.config,$.exports.decrypt=I.decrypt,$.exports.parse=I.parse,$.exports.populate=I.populate,$.exports=I}),eT=g2((W,$)=>{$.exports=(J={})=>{let Y;if(J.repoUrl)Y=J.repoUrl;else if(J.user&&J.repo)Y=`https://github.com/${J.user}/${J.repo}`;else throw new Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");let X=new URL(`${Y}/issues/new`),Q=["body","title","labels","template","milestone","assignee","projects"];for(let M of Q){let H=J[M];if(H!==void 0){if(M==="labels"||M==="projects"){if(!Array.isArray(H))throw new TypeError(`The \`${M}\` option should be an array`);H=H.join(",")}X.searchParams.set(M,H)}}return X.toString()},$.exports.default=$.exports}),wD=g2((W,$)=>{$.exports=function(){function J(Y,X,Q,M,H){return Y<X||Q<X?Y>Q?Q+1:Y+1:M===H?X:X+1}return function(Y,X){if(Y===X)return 0;if(Y.length>X.length){var Q=Y;Y=X,X=Q}for(var M=Y.length,H=X.length;M>0&&Y.charCodeAt(M-1)===X.charCodeAt(H-1);)M--,H--;for(var G=0;G<M&&Y.charCodeAt(G)===X.charCodeAt(G);)G++;if(M-=G,H-=G,M===0||H<3)return H;var B=0,w,A,q,N,z,D,_,L,S,P,c,e,I=[];for(w=0;w<M;w++)I.push(w+1),I.push(Y.charCodeAt(G+w));for(var V=I.length-1;B<H-3;)for(S=X.charCodeAt(G+(A=B)),P=X.charCodeAt(G+(q=B+1)),c=X.charCodeAt(G+(N=B+2)),e=X.charCodeAt(G+(z=B+3)),D=B+=4,w=0;w<V;w+=2)_=I[w],L=I[w+1],A=J(_,A,q,S,L),q=J(A,q,N,P,L),N=J(q,N,z,c,L),D=J(N,z,D,e,L),I[w]=D,z=N,N=q,q=A,A=_;for(;B<H;)for(S=X.charCodeAt(G+(A=B)),D=++B,w=0;w<V;w+=2)_=I[w],I[w]=D=J(_,A,D,S,I[w+1]),A=_;return D}}()}),Wk=HD(()=>{}),$k=HD(()=>{}),MX={};e7(MX,{defineExtension:()=>Jk,getExtensionContext:()=>Yk});function Jk(W){return typeof W=="function"?W:($)=>$.$extends(W)}function Yk(W){return W}var Xk={};e7(Xk,{validator:()=>Qk});function Qk(...W){return($)=>$}var rM={};e7(rM,{$:()=>DD,bgBlack:()=>zk,bgBlue:()=>Ok,bgCyan:()=>Lk,bgGreen:()=>Zk,bgMagenta:()=>_k,bgRed:()=>Dk,bgWhite:()=>jk,bgYellow:()=>Sk,black:()=>wk,blue:()=>v$,bold:()=>F8,cyan:()=>z9,dim:()=>a$,gray:()=>EH,green:()=>u$,grey:()=>qk,hidden:()=>Bk,inverse:()=>Gk,italic:()=>Hk,magenta:()=>Ak,red:()=>D9,reset:()=>Mk,strikethrough:()=>Uk,underline:()=>k2,white:()=>Nk,yellow:()=>r$});var tM,AD,ND,qD,zD=!0;typeof J0<"u"&&({FORCE_COLOR:tM,NODE_DISABLE_COLORS:AD,NO_COLOR:ND,TERM:qD}=J0.env||{},zD=J0.stdout&&J0.stdout.isTTY);var DD={enabled:!AD&&ND==null&&qD!=="dumb"&&(tM!=null&&tM!=="0"||zD)};function B1(W,$){let J=new RegExp(`\\x1b\\[${$}m`,"g"),Y=`\x1B[${W}m`,X=`\x1B[${$}m`;return function(Q){return!DD.enabled||Q==null?Q:Y+(~(""+Q).indexOf(X)?Q.replace(J,X+Y):Q)+X}}var Mk=B1(0,0),F8=B1(1,22),a$=B1(2,22),Hk=B1(3,23),k2=B1(4,24),Gk=B1(7,27),Bk=B1(8,28),Uk=B1(9,29),wk=B1(30,39),D9=B1(31,39),u$=B1(32,39),r$=B1(33,39),v$=B1(34,39),Ak=B1(35,39),z9=B1(36,39),Nk=B1(37,39),EH=B1(90,39),qk=B1(90,39),zk=B1(40,49),Dk=B1(41,49),Zk=B1(42,49),Sk=B1(43,49),Ok=B1(44,49),_k=B1(45,49),Lk=B1(46,49),jk=B1(47,49),Fk=100,Az=["green","yellow","blue","magenta","cyan","red"],y$=[],Nz=Date.now(),Kk=0,eM=typeof J0<"u"?J0.env:{};globalThis.DEBUG??=eM.DEBUG??"";globalThis.DEBUG_COLORS??=eM.DEBUG_COLORS?eM.DEBUG_COLORS==="true":!0;var d$={enable(W){typeof W=="string"&&(globalThis.DEBUG=W)},disable(){let W=globalThis.DEBUG;return globalThis.DEBUG="",W},enabled(W){let $=globalThis.DEBUG.split(",").map((X)=>X.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),J=$.some((X)=>X===""||X[0]==="-"?!1:W.match(RegExp(X.split("*").join(".*")+"$"))),Y=$.some((X)=>X===""||X[0]!=="-"?!1:W.match(RegExp(X.slice(1).split("*").join(".*")+"$")));return J&&!Y},log:(...W)=>{let[$,J,...Y]=W;(console.warn??console.log)(`${$} ${J}`,...Y)},formatters:{}};function Ck(W){let $={color:Az[Kk++%Az.length],enabled:d$.enabled(W),namespace:W,log:d$.log,extend:()=>{}};return new Proxy((...Y)=>{let{enabled:X,namespace:Q,color:M,log:H}=$;if(Y.length!==0&&y$.push([Q,...Y]),y$.length>Fk&&y$.shift(),d$.enabled(Q)||X){let G=Y.map((w)=>typeof w=="string"?w:Vk(w)),B=`+${Date.now()-Nz}ms`;Nz=Date.now(),globalThis.DEBUG_COLORS?H(rM[M](F8(Q)),...G,rM[M](B)):H(Q,...G,B)}},{get:(Y,X)=>$[X],set:(Y,X,Q)=>$[X]=Q})}var t5=new Proxy(Ck,{get:(W,$)=>d$[$],set:(W,$,J)=>d$[$]=J});function Vk(W,$=2){let J=new Set;return JSON.stringify(W,(Y,X)=>{if(typeof X=="object"&&X!==null){if(J.has(X))return"[Circular *]";J.add(X)}else if(typeof X=="bigint")return X.toString();return X},$)}function bk(W=7500){let $=y$.map(([J,...Y])=>`${J} ${Y.map((X)=>typeof X=="string"?X:JSON.stringify(X)).join(" ")}`).join(`
`);return $.length<W?$:$.slice(-W)}function Ek(){y$.length=0}var PH=t5;function Rk(){let W=J0.env.PRISMA_QUERY_ENGINE_LIBRARY;if(!(W&&Pk.existsSync(W))&&J0.arch==="ia32")throw new Error('The default query engine type (Node-API, "library") is currently not supported for 32bit Node. Please set `engineType = "binary"` in the "generator" block of your "schema.prisma" file (or use the environment variables "PRISMA_CLIENT_ENGINE_TYPE=binary" and/or "PRISMA_CLI_QUERY_ENGINE_TYPE=binary".)')}var Ik=["darwin","darwin-arm64","debian-openssl-1.0.x","debian-openssl-1.1.x","debian-openssl-3.0.x","rhel-openssl-1.0.x","rhel-openssl-1.1.x","rhel-openssl-3.0.x","linux-arm64-openssl-1.1.x","linux-arm64-openssl-1.0.x","linux-arm64-openssl-3.0.x","linux-arm-openssl-1.1.x","linux-arm-openssl-1.0.x","linux-arm-openssl-3.0.x","linux-musl","linux-musl-openssl-3.0.x","linux-musl-arm64-openssl-1.1.x","linux-musl-arm64-openssl-3.0.x","linux-nixos","linux-static-x64","linux-static-arm64","windows","freebsd11","freebsd12","freebsd13","freebsd14","freebsd15","openbsd","netbsd","arm"],hY="libquery_engine";function xk(W,$){let J=$==="url";return W.includes("windows")?J?"query_engine.dll.node":`query_engine-${W}.dll.node`:W.includes("darwin")?J?`${hY}.dylib.node`:`${hY}-${W}.dylib.node`:J?`${hY}.so.node`:`${hY}-${W}.so.node`}var x6=Symbol.for("@ts-pattern/matcher"),kk=Symbol.for("@ts-pattern/isVariadic"),eY="@ts-pattern/anonymous-select-key",$H=(W)=>!!(W&&typeof W=="object"),nY=(W)=>W&&!!W[x6],l8=(W,$,J)=>{if(nY(W)){let Y=W[x6](),{matched:X,selections:Q}=Y.match($);return X&&Q&&Object.keys(Q).forEach((M)=>J(M,Q[M])),X}if($H(W)){if(!$H($))return!1;if(Array.isArray(W)){if(!Array.isArray($))return!1;let Y=[],X=[],Q=[];for(let M of W.keys()){let H=W[M];nY(H)&&H[kk]?Q.push(H):Q.length?X.push(H):Y.push(H)}if(Q.length){if(Q.length>1)throw new Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if($.length<Y.length+X.length)return!1;let M=$.slice(0,Y.length),H=X.length===0?[]:$.slice(-X.length),G=$.slice(Y.length,X.length===0?1/0:-X.length);return Y.every((B,w)=>l8(B,M[w],J))&&X.every((B,w)=>l8(B,H[w],J))&&(Q.length===0||l8(Q[0],G,J))}return W.length===$.length&&W.every((M,H)=>l8(M,$[H],J))}return Reflect.ownKeys(W).every((Y)=>{let X=W[Y];return((Y in $)||nY(Q=X)&&Q[x6]().matcherType==="optional")&&l8(X,$[Y],J);var Q})}return Object.is($,W)},L4=(W)=>{var $,J,Y;return $H(W)?nY(W)?($=(J=(Y=W[x6]()).getSelectionKeys)==null?void 0:J.call(Y))!=null?$:[]:Array.isArray(W)?l$(W,L4):l$(Object.values(W),L4):[]},l$=(W,$)=>W.reduce((J,Y)=>J.concat($(Y)),[]);function v2(W){return Object.assign(W,{optional:()=>gk(W),and:($)=>j1(W,$),or:($)=>fk(W,$),select:($)=>$===void 0?qz(W):qz($,W)})}function gk(W){return v2({[x6]:()=>({match:($)=>{let J={},Y=(X,Q)=>{J[X]=Q};return $===void 0?(L4(W).forEach((X)=>Y(X,void 0)),{matched:!0,selections:J}):{matched:l8(W,$,Y),selections:J}},getSelectionKeys:()=>L4(W),matcherType:"optional"})})}function j1(...W){return v2({[x6]:()=>({match:($)=>{let J={},Y=(X,Q)=>{J[X]=Q};return{matched:W.every((X)=>l8(X,$,Y)),selections:J}},getSelectionKeys:()=>l$(W,L4),matcherType:"and"})})}function fk(...W){return v2({[x6]:()=>({match:($)=>{let J={},Y=(X,Q)=>{J[X]=Q};return l$(W,L4).forEach((X)=>Y(X,void 0)),{matched:W.some((X)=>l8(X,$,Y)),selections:J}},getSelectionKeys:()=>l$(W,L4),matcherType:"or"})})}function u0(W){return{[x6]:()=>({match:($)=>({matched:!!W($)})})}}function qz(...W){let $=typeof W[0]=="string"?W[0]:void 0,J=W.length===2?W[1]:typeof W[0]=="string"?void 0:W[0];return v2({[x6]:()=>({match:(Y)=>{let X={[$??eY]:Y};return{matched:J===void 0||l8(J,Y,(Q,M)=>{X[Q]=M}),selections:X}},getSelectionKeys:()=>[$??eY].concat(J===void 0?[]:L4(J))})})}function h8(W){return typeof W=="number"}function q4(W){return typeof W=="string"}function z4(W){return typeof W=="bigint"}var vJ0=v2(u0(function(W){return!0})),D4=(W)=>Object.assign(v2(W),{startsWith:($)=>{return D4(j1(W,(J=$,u0((Y)=>q4(Y)&&Y.startsWith(J)))));var J},endsWith:($)=>{return D4(j1(W,(J=$,u0((Y)=>q4(Y)&&Y.endsWith(J)))));var J},minLength:($)=>D4(j1(W,((J)=>u0((Y)=>q4(Y)&&Y.length>=J))($))),length:($)=>D4(j1(W,((J)=>u0((Y)=>q4(Y)&&Y.length===J))($))),maxLength:($)=>D4(j1(W,((J)=>u0((Y)=>q4(Y)&&Y.length<=J))($))),includes:($)=>{return D4(j1(W,(J=$,u0((Y)=>q4(Y)&&Y.includes(J)))));var J},regex:($)=>{return D4(j1(W,(J=$,u0((Y)=>q4(Y)&&!!Y.match(J)))));var J}}),yJ0=D4(u0(q4)),m8=(W)=>Object.assign(v2(W),{between:($,J)=>m8(j1(W,((Y,X)=>u0((Q)=>h8(Q)&&Y<=Q&&X>=Q))($,J))),lt:($)=>m8(j1(W,((J)=>u0((Y)=>h8(Y)&&Y<J))($))),gt:($)=>m8(j1(W,((J)=>u0((Y)=>h8(Y)&&Y>J))($))),lte:($)=>m8(j1(W,((J)=>u0((Y)=>h8(Y)&&Y<=J))($))),gte:($)=>m8(j1(W,((J)=>u0((Y)=>h8(Y)&&Y>=J))($))),int:()=>m8(j1(W,u0(($)=>h8($)&&Number.isInteger($)))),finite:()=>m8(j1(W,u0(($)=>h8($)&&Number.isFinite($)))),positive:()=>m8(j1(W,u0(($)=>h8($)&&$>0))),negative:()=>m8(j1(W,u0(($)=>h8($)&&$<0)))}),dJ0=m8(u0(h8)),Z4=(W)=>Object.assign(v2(W),{between:($,J)=>Z4(j1(W,((Y,X)=>u0((Q)=>z4(Q)&&Y<=Q&&X>=Q))($,J))),lt:($)=>Z4(j1(W,((J)=>u0((Y)=>z4(Y)&&Y<J))($))),gt:($)=>Z4(j1(W,((J)=>u0((Y)=>z4(Y)&&Y>J))($))),lte:($)=>Z4(j1(W,((J)=>u0((Y)=>z4(Y)&&Y<=J))($))),gte:($)=>Z4(j1(W,((J)=>u0((Y)=>z4(Y)&&Y>=J))($))),positive:()=>Z4(j1(W,u0(($)=>z4($)&&$>0))),negative:()=>Z4(j1(W,u0(($)=>z4($)&&$<0)))}),cJ0=Z4(u0(z4)),hJ0=v2(u0(function(W){return typeof W=="boolean"})),mJ0=v2(u0(function(W){return typeof W=="symbol"})),uJ0=v2(u0(function(W){return W==null})),lJ0=v2(u0(function(W){return W!=null})),vk=class extends Error{constructor(W){let $;try{$=JSON.stringify(W)}catch{$=W}super(`Pattern matching error: no pattern matches value ${$}`),this.input=void 0,this.input=W}},JH={matched:!1,value:void 0};function HX(W){return new yk(W,JH)}var yk=class W{constructor($,J){this.input=void 0,this.state=void 0,this.input=$,this.state=J}with(...$){if(this.state.matched)return this;let J=$[$.length-1],Y=[$[0]],X;$.length===3&&typeof $[1]=="function"?X=$[1]:$.length>2&&Y.push(...$.slice(1,$.length-1));let Q=!1,M={},H=(B,w)=>{Q=!0,M[B]=w},G=!Y.some((B)=>l8(B,this.input,H))||X&&!X(this.input)?JH:{matched:!0,value:J(Q?eY in M?M[eY]:M:this.input,this.input)};return new W(this.input,G)}when($,J){if(this.state.matched)return this;let Y=!!$(this.input);return new W(this.input,Y?{matched:!0,value:J(this.input,this.input)}:JH)}otherwise($){return this.state.matched?this.state.value:$(this.input)}exhaustive(){if(this.state.matched)return this.state.value;throw new vk(this.input)}run(){return this.exhaustive()}returnType(){return this}},ck={warn:r$("prisma:warn")},hk={warn:()=>!J0.env.PRISMA_DISABLE_WARNINGS};function uM(W,...$){hk.warn()&&console.warn(`${ck.warn} ${W}`,...$)}var mk=dk(Tk.exec),f5=PH("prisma:get-platform"),uk=["1.0.x","1.1.x","3.0.x"];async function lk(){let W=WH.platform(),$=J0.arch;if(W==="freebsd"){let M=await WX("freebsd-version");if(M&&M.trim().length>0){let H=/^(\d+)\.?/.exec(M);if(H)return{platform:"freebsd",targetDistro:`freebsd${H[1]}`,arch:$}}}if(W!=="linux")return{platform:W,arch:$};let J=await ik(),Y=await $g(),X=ok({arch:$,archFromUname:Y,familyDistro:J.familyDistro}),{libssl:Q}=await sk(X);return{platform:"linux",libssl:Q,arch:$,archFromUname:Y,...J}}function pk(W){let $=/^ID="?([^"\n]*)"?$/im,J=/^ID_LIKE="?([^"\n]*)"?$/im,Y=$.exec(W),X=Y&&Y[1]&&Y[1].toLowerCase()||"",Q=J.exec(W),M=Q&&Q[1]&&Q[1].toLowerCase()||"",H=HX({id:X,idLike:M}).with({id:"alpine"},({id:G})=>({targetDistro:"musl",familyDistro:G,originalDistro:G})).with({id:"raspbian"},({id:G})=>({targetDistro:"arm",familyDistro:"debian",originalDistro:G})).with({id:"nixos"},({id:G})=>({targetDistro:"nixos",originalDistro:G,familyDistro:"nixos"})).with({id:"debian"},{id:"ubuntu"},({id:G})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:G})).with({id:"rhel"},{id:"centos"},{id:"fedora"},({id:G})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:G})).when(({idLike:G})=>G.includes("debian")||G.includes("ubuntu"),({id:G})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:G})).when(({idLike:G})=>X==="arch"||G.includes("arch"),({id:G})=>({targetDistro:"debian",familyDistro:"arch",originalDistro:G})).when(({idLike:G})=>G.includes("centos")||G.includes("fedora")||G.includes("rhel")||G.includes("suse"),({id:G})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:G})).otherwise(({id:G})=>({targetDistro:void 0,familyDistro:void 0,originalDistro:G}));return f5(`Found distro info:
${JSON.stringify(H,null,2)}`),H}async function ik(){let W="/etc/os-release";try{let $=await ZD.readFile(W,{encoding:"utf-8"});return pk($)}catch{return{targetDistro:void 0,familyDistro:void 0,originalDistro:void 0}}}function nk(W){let $=/^OpenSSL\s(\d+\.\d+)\.\d+/.exec(W);if($){let J=`${$[1]}.x`;return SD(J)}}function zz(W){let $=/libssl\.so\.(\d)(\.\d)?/.exec(W);if($){let J=`${$[1]}${$[2]??".0"}.x`;return SD(J)}}function SD(W){let $=(()=>{if(_D(W))return W;let J=W.split(".");return J[1]="0",J.join(".")})();if(uk.includes($))return $}function ok(W){return HX(W).with({familyDistro:"musl"},()=>(f5('Trying platform-specific paths for "alpine"'),["/lib","/usr/lib"])).with({familyDistro:"debian"},({archFromUname:$})=>(f5('Trying platform-specific paths for "debian" (and "ubuntu")'),[`/usr/lib/${$}-linux-gnu`,`/lib/${$}-linux-gnu`])).with({familyDistro:"rhel"},()=>(f5('Trying platform-specific paths for "rhel"'),["/lib64","/usr/lib64"])).otherwise(({familyDistro:$,arch:J,archFromUname:Y})=>(f5(`Don't know any platform-specific paths for "${$}" on ${J} (${Y})`),[]))}async function sk(W){let $='grep -v "libssl.so.0"',J=await Dz(W);if(J){f5(`Found libssl.so file using platform-specific paths: ${J}`);let Q=zz(J);if(f5(`The parsed libssl version is: ${Q}`),Q)return{libssl:Q,strategy:"libssl-specific-path"}}f5('Falling back to "ldconfig" and other generic paths');let Y=await WX(`ldconfig -p | sed "s/.*=>s*//" | sed "s|.*/||" | grep libssl | sort | ${$}`);if(Y||(Y=await Dz(["/lib64","/usr/lib64","/lib","/usr/lib"])),Y){f5(`Found libssl.so file using "ldconfig" or other generic paths: ${Y}`);let Q=zz(Y);if(f5(`The parsed libssl version is: ${Q}`),Q)return{libssl:Q,strategy:"ldconfig"}}let X=await WX("openssl version -v");if(X){f5(`Found openssl binary with version: ${X}`);let Q=nk(X);if(f5(`The parsed openssl version is: ${Q}`),Q)return{libssl:Q,strategy:"openssl-binary"}}return f5("Couldn't find any version of libssl or OpenSSL in the system"),{}}async function Dz(W){for(let $ of W){let J=await ak($);if(J)return J}}async function ak(W){try{return(await ZD.readdir(W)).find(($)=>$.startsWith("libssl.so.")&&!$.startsWith("libssl.so.0"))}catch($){if($.code==="ENOENT")return;throw $}}async function RH(){let{binaryTarget:W}=await OD();return W}function rk(W){return W.binaryTarget!==void 0}async function tk(){let{memoized:W,...$}=await OD();return $}var mY={};async function OD(){if(rk(mY))return Promise.resolve({...mY,memoized:!0});let W=await lk(),$=ek(W);return mY={...W,binaryTarget:$},{...mY,memoized:!1}}function ek(W){let{platform:$,arch:J,archFromUname:Y,libssl:X,targetDistro:Q,familyDistro:M,originalDistro:H}=W;$==="linux"&&!["x64","arm64"].includes(J)&&uM(`Prisma only officially supports Linux on amd64 (x86_64) and arm64 (aarch64) system architectures (detected "${J}" instead). If you are using your own custom Prisma engines, you can ignore this warning, as long as you've compiled the engines for your system architecture "${Y}".`);let G="1.1.x";if($==="linux"&&X===void 0){let w=HX({familyDistro:M}).with({familyDistro:"debian"},()=>"Please manually install OpenSSL via `apt-get update -y && apt-get install -y openssl` and try installing Prisma again. If you're running Prisma on Docker, add this command to your Dockerfile, or switch to an image that already has OpenSSL installed.").otherwise(()=>"Please manually install OpenSSL and try installing Prisma again.");uM(`Prisma failed to detect the libssl/openssl version to use, and may not work as expected. Defaulting to "openssl-${G}".
${w}`)}let B="debian";if($==="linux"&&Q===void 0&&f5(`Distro is "${H}". Falling back to Prisma engines built for "${B}".`),$==="darwin"&&J==="arm64")return"darwin-arm64";if($==="darwin")return"darwin";if($==="win32")return"windows";if($==="freebsd")return Q;if($==="openbsd")return"openbsd";if($==="netbsd")return"netbsd";if($==="linux"&&Q==="nixos")return"linux-nixos";if($==="linux"&&J==="arm64")return`${Q==="musl"?"linux-musl-arm64":"linux-arm64"}-openssl-${X||G}`;if($==="linux"&&J==="arm")return`linux-arm-openssl-${X||G}`;if($==="linux"&&Q==="musl"){let w="linux-musl";return!X||_D(X)?w:`${w}-openssl-${X}`}return $==="linux"&&Q&&X?`${Q}-openssl-${X}`:($!=="linux"&&uM(`Prisma detected unknown OS "${$}" and may not work as expected. Defaulting to "linux".`),X?`${B}-openssl-${X}`:Q?`${Q}-openssl-${G}`:`${B}-openssl-${G}`)}async function Wg(W){try{return await W()}catch{return}}function WX(W){return Wg(async()=>{let $=await mk(W);return f5(`Command "${W}" successfully returned "${$.stdout}"`),$.stdout})}async function $g(){return typeof WH.machine=="function"?WH.machine():(await WX("uname -m"))?.trim()}function _D(W){return W.startsWith("1.")}var LD={};e7(LD,{beep:()=>bg,clearScreen:()=>Fg,clearTerminal:()=>Kg,cursorBackward:()=>Gg,cursorDown:()=>Mg,cursorForward:()=>Hg,cursorGetPosition:()=>wg,cursorHide:()=>qg,cursorLeft:()=>KD,cursorMove:()=>Qg,cursorNextLine:()=>Ag,cursorPrevLine:()=>Ng,cursorRestorePosition:()=>Ug,cursorSavePosition:()=>Bg,cursorShow:()=>zg,cursorTo:()=>Xg,cursorUp:()=>FD,enterAlternativeScreen:()=>Cg,eraseDown:()=>Og,eraseEndLine:()=>Zg,eraseLine:()=>CD,eraseLines:()=>Dg,eraseScreen:()=>YH,eraseStartLine:()=>Sg,eraseUp:()=>_g,exitAlternativeScreen:()=>Vg,iTerm:()=>Rg,image:()=>Pg,link:()=>Eg,scrollDown:()=>jg,scrollUp:()=>Lg});var xH=globalThis.window?.document!==void 0,nJ0=globalThis.process?.versions?.node!==void 0,oJ0=globalThis.process?.versions?.bun!==void 0,sJ0=globalThis.Deno?.version?.deno!==void 0,aJ0=globalThis.process?.versions?.electron!==void 0,rJ0=globalThis.navigator?.userAgent?.includes("jsdom")===!0,tJ0=typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope,eJ0=typeof DedicatedWorkerGlobalScope<"u"&&globalThis instanceof DedicatedWorkerGlobalScope,WY0=typeof SharedWorkerGlobalScope<"u"&&globalThis instanceof SharedWorkerGlobalScope,$Y0=typeof ServiceWorkerGlobalScope<"u"&&globalThis instanceof ServiceWorkerGlobalScope,t$=globalThis.navigator?.userAgentData?.platform,JY0=t$==="macOS"||globalThis.navigator?.platform==="MacIntel"||globalThis.navigator?.userAgent?.includes(" Mac ")===!0||globalThis.process?.platform==="darwin",YY0=t$==="Windows"||globalThis.navigator?.platform==="Win32"||globalThis.process?.platform==="win32",XY0=t$==="Linux"||globalThis.navigator?.platform?.startsWith("Linux")===!0||globalThis.navigator?.userAgent?.includes(" Linux ")===!0||globalThis.process?.platform==="linux",QY0=t$==="iOS"||globalThis.navigator?.platform==="MacIntel"&&globalThis.navigator?.maxTouchPoints>1||/iPad|iPhone|iPod/.test(globalThis.navigator?.platform),MY0=t$==="Android"||globalThis.navigator?.platform==="Android"||globalThis.navigator?.userAgent?.includes(" Android ")===!0||globalThis.process?.platform==="android",l0="\x1B[",p$="\x1B]",o7="\x07",g$=";",jD=!xH&&IH.env.TERM_PROGRAM==="Apple_Terminal",Jg=!xH&&IH.platform==="win32",Yg=xH?()=>{throw new Error("`process.cwd()` only works in Node.js, not the browser.")}:IH.cwd,Xg=(W,$)=>{if(typeof W!="number")throw new TypeError("The `x` argument is required");return typeof $!="number"?l0+(W+1)+"G":l0+($+1)+g$+(W+1)+"H"},Qg=(W,$)=>{if(typeof W!="number")throw new TypeError("The `x` argument is required");let J="";return W<0?J+=l0+-W+"D":W>0&&(J+=l0+W+"C"),$<0?J+=l0+-$+"A":$>0&&(J+=l0+$+"B"),J},FD=(W=1)=>l0+W+"A",Mg=(W=1)=>l0+W+"B",Hg=(W=1)=>l0+W+"C",Gg=(W=1)=>l0+W+"D",KD=l0+"G",Bg=jD?"\x1B7":l0+"s",Ug=jD?"\x1B8":l0+"u",wg=l0+"6n",Ag=l0+"E",Ng=l0+"F",qg=l0+"?25l",zg=l0+"?25h",Dg=(W)=>{let $="";for(let J=0;J<W;J++)$+=CD+(J<W-1?FD():"");return W&&($+=KD),$},Zg=l0+"K",Sg=l0+"1K",CD=l0+"2K",Og=l0+"J",_g=l0+"1J",YH=l0+"2J",Lg=l0+"S",jg=l0+"T",Fg="\x1Bc",Kg=Jg?`${YH}${l0}0f`:`${YH}${l0}3J${l0}H`,Cg=l0+"?1049h",Vg=l0+"?1049l",bg=o7,Eg=(W,$)=>[p$,"8",g$,g$,$,o7,W,p$,"8",g$,g$,o7].join(""),Pg=(W,$={})=>{let J=`${p$}1337;File=inline=1`;return $.width&&(J+=`;width=${$.width}`),$.height&&(J+=`;height=${$.height}`),$.preserveAspectRatio===!1&&(J+=";preserveAspectRatio=0"),J+":"+Buffer.from(W).toString("base64")+o7},Rg={setCwd:(W=Yg())=>`${p$}50;CurrentDir=${W}${o7}`,annotation(W,$={}){let J=`${p$}1337;`,Y=$.x!==void 0,X=$.y!==void 0;if((Y||X)&&!(Y&&X&&$.length!==void 0))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return W=W.replaceAll("|",""),J+=$.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",$.length>0?J+=(Y?[W,$.length,$.x,$.y]:[$.length,W]).join("|"):J+=W,J+o7}},TH=f2(oT(),1);function i$(W,$,{target:J="stdout",...Y}={}){return TH.default[J]?LD.link(W,$):Y.fallback===!1?W:typeof Y.fallback=="function"?Y.fallback(W,$):`${W} (\u200B${$}\u200B)`}i$.isSupported=TH.default.stdout;i$.stderr=(W,$,J={})=>i$(W,$,{target:"stderr",...J});i$.stderr.isSupported=TH.default.stderr;function Ig(W){return i$(W,W,{fallback:k2})}var xg=sT(),Tg=xg.version;function XH(W){return kg()||(W?.config.engineType==="library"?"library":W?.config.engineType==="binary"?"binary":W?.config.engineType==="client"?"client":gg())}function kg(){let W=J0.env.PRISMA_CLIENT_ENGINE_TYPE;return W==="library"?"library":W==="binary"?"binary":W==="client"?"client":void 0}function gg(){return"library"}function VD(W){return W.name==="DriverAdapterError"&&typeof W.cause=="object"}function kH(W){return{ok:!0,value:W,map($){return kH($(W))},flatMap($){return $(W)}}}function s7(W){return{ok:!1,error:W,map(){return s7(W)},flatMap(){return s7(W)}}}var bD=t5("driver-adapter-utils"),fg=class{registeredErrors=[];consumeError(W){return this.registeredErrors[W]}registerNewError(W){let $=0;for(;this.registeredErrors[$]!==void 0;)$++;return this.registeredErrors[$]={error:W},$}},Zz=(W,$=new fg)=>{let J={adapterName:W.adapterName,errorRegistry:$,queryRaw:P6($,W.queryRaw.bind(W)),executeRaw:P6($,W.executeRaw.bind(W)),executeScript:P6($,W.executeScript.bind(W)),dispose:P6($,W.dispose.bind(W)),provider:W.provider,startTransaction:async(...Y)=>(await P6($,W.startTransaction.bind(W))(...Y)).map((X)=>vg($,X))};return W.getConnectionInfo&&(J.getConnectionInfo=yg($,W.getConnectionInfo.bind(W))),J},vg=(W,$)=>({adapterName:$.adapterName,provider:$.provider,options:$.options,queryRaw:P6(W,$.queryRaw.bind($)),executeRaw:P6(W,$.executeRaw.bind($)),commit:P6(W,$.commit.bind($)),rollback:P6(W,$.rollback.bind($))});function P6(W,$){return async(...J)=>{try{return kH(await $(...J))}catch(Y){if(bD("[error@wrapAsync]",Y),VD(Y))return s7(Y.cause);let X=W.registerNewError(Y);return s7({kind:"GenericJs",id:X})}}}function yg(W,$){return(...J)=>{try{return kH($(...J))}catch(Y){if(bD("[error@wrapSync]",Y),VD(Y))return s7(Y.cause);let X=W.registerNewError(Y);return s7({kind:"GenericJs",id:X})}}}var HY0=f2(bH()),GY0=f2(bH()),UY0=t5("prisma:engines");function dg(){return Z1.join(__dirname,"../")}Z1.join(__dirname,"../query-engine-darwin");Z1.join(__dirname,"../query-engine-darwin-arm64");Z1.join(__dirname,"../query-engine-debian-openssl-1.0.x");Z1.join(__dirname,"../query-engine-debian-openssl-1.1.x");Z1.join(__dirname,"../query-engine-debian-openssl-3.0.x");Z1.join(__dirname,"../query-engine-linux-static-x64");Z1.join(__dirname,"../query-engine-linux-static-arm64");Z1.join(__dirname,"../query-engine-rhel-openssl-1.0.x");Z1.join(__dirname,"../query-engine-rhel-openssl-1.1.x");Z1.join(__dirname,"../query-engine-rhel-openssl-3.0.x");Z1.join(__dirname,"../libquery_engine-darwin.dylib.node");Z1.join(__dirname,"../libquery_engine-darwin-arm64.dylib.node");Z1.join(__dirname,"../libquery_engine-debian-openssl-1.0.x.so.node");Z1.join(__dirname,"../libquery_engine-debian-openssl-1.1.x.so.node");Z1.join(__dirname,"../libquery_engine-debian-openssl-3.0.x.so.node");Z1.join(__dirname,"../libquery_engine-linux-arm64-openssl-1.0.x.so.node");Z1.join(__dirname,"../libquery_engine-linux-arm64-openssl-1.1.x.so.node");Z1.join(__dirname,"../libquery_engine-linux-arm64-openssl-3.0.x.so.node");Z1.join(__dirname,"../libquery_engine-linux-musl.so.node");Z1.join(__dirname,"../libquery_engine-linux-musl-openssl-3.0.x.so.node");Z1.join(__dirname,"../libquery_engine-rhel-openssl-1.0.x.so.node");Z1.join(__dirname,"../libquery_engine-rhel-openssl-1.1.x.so.node");Z1.join(__dirname,"../libquery_engine-rhel-openssl-3.0.x.so.node");Z1.join(__dirname,"../query_engine-windows.dll.node");var Oz=PH("chmodPlusX");function cg(W){if(J0.platform==="win32")return;let $=Sz.statSync(W),J=$.mode|64|8|1;if($.mode===J){Oz(`Execution permissions of ${W} are fine`);return}let Y=J.toString(8).slice(-3);Oz(`Have to call chmodPlusX on ${W}`),Sz.chmodSync(W,Y)}function hg(W){let $=W.e,J=(H)=>`Prisma cannot find the required \`${H}\` system library in your system`,Y=$.message.includes("cannot open shared object file"),X=`Please refer to the documentation about Prisma's system requirements: ${Ig("https://pris.ly/d/system-requirements")}`,Q=`Unable to require(\`${a$(W.id)}\`).`,M=HX({message:$.message,code:$.code}).with({code:"ENOENT"},()=>"File does not exist.").when(({message:H})=>Y&&H.includes("libz"),()=>`${J("libz")}. Please install it and try again.`).when(({message:H})=>Y&&H.includes("libgcc_s"),()=>`${J("libgcc_s")}. Please install it and try again.`).when(({message:H})=>Y&&H.includes("libssl"),()=>{let H=W.platformInfo.libssl?`openssl-${W.platformInfo.libssl}`:"openssl";return`${J("libssl")}. Please install ${H} and try again.`}).when(({message:H})=>H.includes("GLIBC"),()=>`Prisma has detected an incompatible version of the \`glibc\` C standard library installed in your system. This probably means your system may be too old to run Prisma. ${X}`).when(({message:H})=>W.platformInfo.platform==="linux"&&H.includes("symbol not found"),()=>`The Prisma engines are not compatible with your system ${W.platformInfo.originalDistro} on (${W.platformInfo.archFromUname}) which uses the \`${W.platformInfo.binaryTarget}\` binaryTarget by default. ${X}`).otherwise(()=>`The Prisma engines do not seem to be compatible with your system. ${X}`);return`${Q}
${M}

Details: ${$.message}`}var mg=f2(aT(),1);function ug(W){let $=mg.default(W);if($===0)return W;let J=new RegExp(`^[ \\t]{${$}}`,"gm");return W.replace(J,"")}var lg="prisma+postgres",ED=`${lg}:`;function PD(W){return W?.toString().startsWith(`${ED}//`)??!1}function pg(W){if(!PD(W))return!1;let{host:$}=new URL(W);return $.includes("localhost")||$.includes("127.0.0.1")||$.includes("[::1]")}var ig=f2(UD());function ng(W){return String(new og(W))}var og=class{constructor(W){this.config=W}toString(){let{config:W}=this,$=W.provider.fromEnvVar?`env("${W.provider.fromEnvVar}")`:W.provider.value,J=JSON.parse(JSON.stringify({provider:$,binaryTargets:sg(W.binaryTargets)}));return`generator ${W.name} {
${ig.default(ag(J),2)}
}`}};function sg(W){let $;if(W.length>0){let J=W.find((Y)=>Y.fromEnvVar!==null);J?$=`env("${J.fromEnvVar}")`:$=W.map((Y)=>Y.native?"native":Y.value)}else $=void 0;return $}function ag(W){let $=Object.keys(W).reduce((J,Y)=>Math.max(J,Y.length),0);return Object.entries(W).map(([J,Y])=>`${J.padEnd($)} = ${rg(Y)}`).join(`
`)}function rg(W){return JSON.parse(JSON.stringify(W,($,J)=>Array.isArray(J)?`[${J.map((Y)=>JSON.stringify(Y)).join(", ")}]`:JSON.stringify(J)))}var QH={};e7(QH,{error:()=>Wf,info:()=>eg,log:()=>tg,query:()=>$f,should:()=>RD,tags:()=>e$,warn:()=>ID});var e$={error:D9("prisma:error"),warn:r$("prisma:warn"),info:z9("prisma:info"),query:v$("prisma:query")},RD={warn:()=>!J0.env.PRISMA_DISABLE_WARNINGS};function tg(...W){console.log(...W)}function ID(W,...$){RD.warn()&&console.warn(`${e$.warn} ${W}`,...$)}function eg(W,...$){console.info(`${e$.info} ${W}`,...$)}function Wf(W,...$){console.error(`${e$.error} ${W}`,...$)}function $f(W,...$){console.log(`${e$.query} ${W}`,...$)}function _z(W,$){if(!W)throw new Error(`${$}. This should never happen. If you see this error, please, open an issue at https://pris.ly/prisma-prisma-bug-report`)}function gH(W,$){throw new Error($)}function Jf({onlyFirst:W=!1}={}){let $=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp($,W?void 0:"g")}var Yf=Jf();function MH(W){if(typeof W!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof W}\``);return W.replace(Yf,"")}function Xf(W){return uY.sep===uY.posix.sep?W:W.split(uY.sep).join(uY.posix.sep)}var xD=f2(tT());function Qf(W){let $=W.ignoreProcessEnv?{}:J0.env,J=(Y)=>Y.match(/(.?\${(?:[a-zA-Z0-9_]+)?})/g)?.reduce(function(X,Q){let M=/(.?)\${([a-zA-Z0-9_]+)?}/g.exec(Q);if(!M)return X;let H=M[1],G,B;if(H==="\\")B=M[0],G=B.replace("\\$","$");else{let w=M[2];B=M[0].substring(H.length),G=Object.hasOwnProperty.call($,w)?$[w]:W.parsed[w]||"",G=J(G)}return X.replace(B,G)},Y)??Y;for(let Y in W.parsed){let X=Object.hasOwnProperty.call($,Y)?$[Y]:W.parsed[Y];W.parsed[Y]=J(X)}for(let Y in W.parsed)$[Y]=W.parsed[Y];return W}var GH=PH("prisma:tryLoadEnv");function Mf({rootEnvPath:W,schemaEnvPath:$},J={conflictCheck:"none"}){let Y=Lz(W);J.conflictCheck!=="none"&&Hf(Y,$,J.conflictCheck);let X=null;return TD(Y?.path,$)||(X=Lz($)),!Y&&!X&&GH("No Environment variables loaded"),X?.dotenvResult.error?console.error(D9(F8("Schema Env Error: "))+X.dotenvResult.error):{message:[Y?.message,X?.message].filter(Boolean).join(`
`),parsed:{...Y?.dotenvResult?.parsed,...X?.dotenvResult?.parsed}}}function Hf(W,$,J){let Y=W?.dotenvResult.parsed,X=!TD(W?.path,$);if(Y&&$&&X&&HH.existsSync($)){let Q=xD.default.parse(HH.readFileSync($)),M=[];for(let H in Q)Y[H]===Q[H]&&M.push(H);if(M.length>0){let H=n$.relative(J0.cwd(),W.path),G=n$.relative(J0.cwd(),$);if(J==="error"){let B=`There is a conflict between env var${M.length>1?"s":""} in ${k2(H)} and ${k2(G)}
Conflicting env vars:
${M.map((w)=>`  ${F8(w)}`).join(`
`)}

We suggest to move the contents of ${k2(G)} to ${k2(H)} to consolidate your env vars.
`;throw new Error(B)}else if(J==="warn"){let B=`Conflict for env var${M.length>1?"s":""} ${M.map((w)=>F8(w)).join(", ")} in ${k2(H)} and ${k2(G)}
Env vars from ${k2(G)} overwrite the ones from ${k2(H)}
      `;console.warn(`${r$("warn(prisma)")} ${B}`)}}}}function Lz(W){if(Gf(W)){GH(`Environment variables loaded from ${W}`);let $=xD.default.config({path:W,debug:J0.env.DOTENV_CONFIG_DEBUG?!0:void 0});return{dotenvResult:Qf($),message:a$(`Environment variables loaded from ${n$.relative(J0.cwd(),W)}`),path:W}}else GH(`Environment variables not found at ${W}`);return null}function TD(W,$){return W&&$&&n$.resolve(W)===n$.resolve($)}function Gf(W){return!!(W&&HH.existsSync(W))}function Bf(W,$){return Object.prototype.hasOwnProperty.call(W,$)}function kD(W,$){let J={};for(let Y of Object.keys(W))J[Y]=$(W[Y],Y);return J}function Uf(W,$){if(W.length===0)return;let J=W[0];for(let Y=1;Y<W.length;Y++)$(J,W[Y])<0&&(J=W[Y]);return J}function x1(W,$){Object.defineProperty(W,"name",{value:$,configurable:!0})}var jz=new Set,wf=(W,$,...J)=>{jz.has(W)||(jz.add(W),ID($,...J))},d1=class W extends Error{clientVersion;errorCode;retryable;constructor($,J,Y){super($),this.name="PrismaClientInitializationError",this.clientVersion=J,this.errorCode=Y,Error.captureStackTrace(W)}get[Symbol.toStringTag](){return"PrismaClientInitializationError"}};x1(d1,"PrismaClientInitializationError");var K0=class extends Error{code;meta;clientVersion;batchRequestIdx;constructor(W,{code:$,clientVersion:J,meta:Y,batchRequestIdx:X}){super(W),this.name="PrismaClientKnownRequestError",this.code=$,this.clientVersion=J,this.meta=Y,Object.defineProperty(this,"batchRequestIdx",{value:X,enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return"PrismaClientKnownRequestError"}};x1(K0,"PrismaClientKnownRequestError");var _4=class extends Error{clientVersion;constructor(W,$){super(W),this.name="PrismaClientRustPanicError",this.clientVersion=$}get[Symbol.toStringTag](){return"PrismaClientRustPanicError"}};x1(_4,"PrismaClientRustPanicError");var Z2=class extends Error{clientVersion;batchRequestIdx;constructor(W,{clientVersion:$,batchRequestIdx:J}){super(W),this.name="PrismaClientUnknownRequestError",this.clientVersion=$,Object.defineProperty(this,"batchRequestIdx",{value:J,writable:!0,enumerable:!1})}get[Symbol.toStringTag](){return"PrismaClientUnknownRequestError"}};x1(Z2,"PrismaClientUnknownRequestError");var R6=class extends Error{name="PrismaClientValidationError";clientVersion;constructor(W,{clientVersion:$}){super(W),this.clientVersion=$}get[Symbol.toStringTag](){return"PrismaClientValidationError"}};x1(R6,"PrismaClientValidationError");var c$=class{_map=new Map;get(W){return this._map.get(W)?.value}set(W,$){this._map.set(W,{value:$})}getOrCreate(W,$){let J=this._map.get(W);if(J)return J.value;let Y=$();return this.set(W,Y),Y}};function GX(W){return W.substring(0,1).toLowerCase()+W.substring(1)}function Af(W,$){let J={};for(let Y of W){let X=Y[$];J[X]=Y}return J}function Fz(W){let $;return{get(){return $||($={value:W()}),$.value}}}function fH(W){return W instanceof Date||Object.prototype.toString.call(W)==="[object Date]"}function gD(W){return W.toString()!=="Invalid Date"}var n7=9000000000000000,F4=1e9,BH="0123456789abcdef",$X="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",JX="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",UH={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-n7,maxE:n7,crypto:!1},fD,I6,q0=!0,BX="[DecimalError] ",j4=BX+"Invalid argument: ",vD=BX+"Precision limit exceeded",yD=BX+"crypto unavailable",dD="[object Decimal]",b5=Math.floor,t1=Math.pow,Nf=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,qf=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,zf=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,cD=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,K8=1e7,B0=7,Df=9007199254740991,Zf=$X.length-1,wH=JX.length-1,d={toStringTag:dD};d.absoluteValue=d.abs=function(){var W=new this.constructor(this);return W.s<0&&(W.s=1),X0(W)};d.ceil=function(){return X0(new this.constructor(this),this.e+1,2)};d.clampedTo=d.clamp=function(W,$){var J,Y=this,X=Y.constructor;if(W=new X(W),$=new X($),!W.s||!$.s)return new X(NaN);if(W.gt($))throw Error(j4+$);return J=Y.cmp(W),J<0?W:Y.cmp($)>0?$:new X(Y)};d.comparedTo=d.cmp=function(W){var $,J,Y,X,Q=this,M=Q.d,H=(W=new Q.constructor(W)).d,G=Q.s,B=W.s;if(!M||!H)return!G||!B?NaN:G!==B?G:M===H?0:!M^G<0?1:-1;if(!M[0]||!H[0])return M[0]?G:H[0]?-B:0;if(G!==B)return G;if(Q.e!==W.e)return Q.e>W.e^G<0?1:-1;for(Y=M.length,X=H.length,$=0,J=Y<X?Y:X;$<J;++$)if(M[$]!==H[$])return M[$]>H[$]^G<0?1:-1;return Y===X?0:Y>X^G<0?1:-1};d.cosine=d.cos=function(){var W,$,J=this,Y=J.constructor;return J.d?J.d[0]?(W=Y.precision,$=Y.rounding,Y.precision=W+Math.max(J.e,J.sd())+B0,Y.rounding=1,J=Sf(Y,pD(Y,J)),Y.precision=W,Y.rounding=$,X0(I6==2||I6==3?J.neg():J,W,$,!0)):new Y(1):new Y(NaN)};d.cubeRoot=d.cbrt=function(){var W,$,J,Y,X,Q,M,H,G,B,w=this,A=w.constructor;if(!w.isFinite()||w.isZero())return new A(w);for(q0=!1,Q=w.s*t1(w.s*w,0.3333333333333333),!Q||Math.abs(Q)==1/0?(J=D5(w.d),W=w.e,(Q=(W-J.length+1)%3)&&(J+=Q==1||Q==-2?"0":"00"),Q=t1(J,0.3333333333333333),W=b5((W+1)/3)-(W%3==(W<0?-1:2)),Q==1/0?J="5e"+W:(J=Q.toExponential(),J=J.slice(0,J.indexOf("e")+1)+W),Y=new A(J),Y.s=w.s):Y=new A(Q.toString()),M=(W=A.precision)+3;;)if(H=Y,G=H.times(H).times(H),B=G.plus(w),Y=Y1(B.plus(w).times(H),B.plus(G),M+2,1),D5(H.d).slice(0,M)===(J=D5(Y.d)).slice(0,M))if(J=J.slice(M-3,M+1),J=="9999"||!X&&J=="4999"){if(!X&&(X0(H,W+1,0),H.times(H).times(H).eq(w))){Y=H;break}M+=4,X=1}else{(!+J||!+J.slice(1)&&J.charAt(0)=="5")&&(X0(Y,W+1,1),$=!Y.times(Y).times(Y).eq(w));break}return q0=!0,X0(Y,W,A.rounding,$)};d.decimalPlaces=d.dp=function(){var W,$=this.d,J=NaN;if($){if(W=$.length-1,J=(W-b5(this.e/B0))*B0,W=$[W],W)for(;W%10==0;W/=10)J--;J<0&&(J=0)}return J};d.dividedBy=d.div=function(W){return Y1(this,new this.constructor(W))};d.dividedToIntegerBy=d.divToInt=function(W){var $=this,J=$.constructor;return X0(Y1($,new J(W),0,1,1),J.precision,J.rounding)};d.equals=d.eq=function(W){return this.cmp(W)===0};d.floor=function(){return X0(new this.constructor(this),this.e+1,3)};d.greaterThan=d.gt=function(W){return this.cmp(W)>0};d.greaterThanOrEqualTo=d.gte=function(W){var $=this.cmp(W);return $==1||$===0};d.hyperbolicCosine=d.cosh=function(){var W,$,J,Y,X,Q=this,M=Q.constructor,H=new M(1);if(!Q.isFinite())return new M(Q.s?1/0:NaN);if(Q.isZero())return H;J=M.precision,Y=M.rounding,M.precision=J+Math.max(Q.e,Q.sd())+4,M.rounding=1,X=Q.d.length,X<32?(W=Math.ceil(X/3),$=(1/wX(4,W)).toString()):(W=16,$="2.3283064365386962890625e-10"),Q=a7(M,1,Q.times($),new M(1),!0);for(var G,B=W,w=new M(8);B--;)G=Q.times(Q),Q=H.minus(G.times(w.minus(G.times(w))));return X0(Q,M.precision=J,M.rounding=Y,!0)};d.hyperbolicSine=d.sinh=function(){var W,$,J,Y,X=this,Q=X.constructor;if(!X.isFinite()||X.isZero())return new Q(X);if($=Q.precision,J=Q.rounding,Q.precision=$+Math.max(X.e,X.sd())+4,Q.rounding=1,Y=X.d.length,Y<3)X=a7(Q,2,X,X,!0);else{W=1.4*Math.sqrt(Y),W=W>16?16:W|0,X=X.times(1/wX(5,W)),X=a7(Q,2,X,X,!0);for(var M,H=new Q(5),G=new Q(16),B=new Q(20);W--;)M=X.times(X),X=X.times(H.plus(M.times(G.times(M).plus(B))))}return Q.precision=$,Q.rounding=J,X0(X,$,J,!0)};d.hyperbolicTangent=d.tanh=function(){var W,$,J=this,Y=J.constructor;return J.isFinite()?J.isZero()?new Y(J):(W=Y.precision,$=Y.rounding,Y.precision=W+7,Y.rounding=1,Y1(J.sinh(),J.cosh(),Y.precision=W,Y.rounding=$)):new Y(J.s)};d.inverseCosine=d.acos=function(){var W=this,$=W.constructor,J=W.abs().cmp(1),Y=$.precision,X=$.rounding;return J!==-1?J===0?W.isNeg()?p8($,Y,X):new $(0):new $(NaN):W.isZero()?p8($,Y+4,X).times(0.5):($.precision=Y+6,$.rounding=1,W=new $(1).minus(W).div(W.plus(1)).sqrt().atan(),$.precision=Y,$.rounding=X,W.times(2))};d.inverseHyperbolicCosine=d.acosh=function(){var W,$,J=this,Y=J.constructor;return J.lte(1)?new Y(J.eq(1)?0:NaN):J.isFinite()?(W=Y.precision,$=Y.rounding,Y.precision=W+Math.max(Math.abs(J.e),J.sd())+4,Y.rounding=1,q0=!1,J=J.times(J).minus(1).sqrt().plus(J),q0=!0,Y.precision=W,Y.rounding=$,J.ln()):new Y(J)};d.inverseHyperbolicSine=d.asinh=function(){var W,$,J=this,Y=J.constructor;return!J.isFinite()||J.isZero()?new Y(J):(W=Y.precision,$=Y.rounding,Y.precision=W+2*Math.max(Math.abs(J.e),J.sd())+6,Y.rounding=1,q0=!1,J=J.times(J).plus(1).sqrt().plus(J),q0=!0,Y.precision=W,Y.rounding=$,J.ln())};d.inverseHyperbolicTangent=d.atanh=function(){var W,$,J,Y,X=this,Q=X.constructor;return X.isFinite()?X.e>=0?new Q(X.abs().eq(1)?X.s/0:X.isZero()?X:NaN):(W=Q.precision,$=Q.rounding,Y=X.sd(),Math.max(Y,W)<2*-X.e-1?X0(new Q(X),W,$,!0):(Q.precision=J=Y-X.e,X=Y1(X.plus(1),new Q(1).minus(X),J+W,1),Q.precision=W+4,Q.rounding=1,X=X.ln(),Q.precision=W,Q.rounding=$,X.times(0.5))):new Q(NaN)};d.inverseSine=d.asin=function(){var W,$,J,Y,X=this,Q=X.constructor;return X.isZero()?new Q(X):($=X.abs().cmp(1),J=Q.precision,Y=Q.rounding,$!==-1?$===0?(W=p8(Q,J+4,Y).times(0.5),W.s=X.s,W):new Q(NaN):(Q.precision=J+6,Q.rounding=1,X=X.div(new Q(1).minus(X.times(X)).sqrt().plus(1)).atan(),Q.precision=J,Q.rounding=Y,X.times(2)))};d.inverseTangent=d.atan=function(){var W,$,J,Y,X,Q,M,H,G,B=this,w=B.constructor,A=w.precision,q=w.rounding;if(B.isFinite()){if(B.isZero())return new w(B);if(B.abs().eq(1)&&A+4<=wH)return M=p8(w,A+4,q).times(0.25),M.s=B.s,M}else{if(!B.s)return new w(NaN);if(A+4<=wH)return M=p8(w,A+4,q).times(0.5),M.s=B.s,M}for(w.precision=H=A+10,w.rounding=1,J=Math.min(28,H/B0+2|0),W=J;W;--W)B=B.div(B.times(B).plus(1).sqrt().plus(1));for(q0=!1,$=Math.ceil(H/B0),Y=1,G=B.times(B),M=new w(B),X=B;W!==-1;)if(X=X.times(G),Q=M.minus(X.div(Y+=2)),X=X.times(G),M=Q.plus(X.div(Y+=2)),M.d[$]!==void 0)for(W=$;M.d[W]===Q.d[W]&&W--;);return J&&(M=M.times(2<<J-1)),q0=!0,X0(M,w.precision=A,w.rounding=q,!0)};d.isFinite=function(){return!!this.d};d.isInteger=d.isInt=function(){return!!this.d&&b5(this.e/B0)>this.d.length-2};d.isNaN=function(){return!this.s};d.isNegative=d.isNeg=function(){return this.s<0};d.isPositive=d.isPos=function(){return this.s>0};d.isZero=function(){return!!this.d&&this.d[0]===0};d.lessThan=d.lt=function(W){return this.cmp(W)<0};d.lessThanOrEqualTo=d.lte=function(W){return this.cmp(W)<1};d.logarithm=d.log=function(W){var $,J,Y,X,Q,M,H,G,B=this,w=B.constructor,A=w.precision,q=w.rounding,N=5;if(W==null)W=new w(10),$=!0;else{if(W=new w(W),J=W.d,W.s<0||!J||!J[0]||W.eq(1))return new w(NaN);$=W.eq(10)}if(J=B.d,B.s<0||!J||!J[0]||B.eq(1))return new w(J&&!J[0]?-1/0:B.s!=1?NaN:J?0:1/0);if($)if(J.length>1)Q=!0;else{for(X=J[0];X%10===0;)X/=10;Q=X!==1}if(q0=!1,H=A+N,M=O4(B,H),Y=$?YX(w,H+10):O4(W,H),G=Y1(M,Y,H,1),o$(G.d,X=A,q))do if(H+=10,M=O4(B,H),Y=$?YX(w,H+10):O4(W,H),G=Y1(M,Y,H,1),!Q){+D5(G.d).slice(X+1,X+15)+1==100000000000000&&(G=X0(G,A+1,0));break}while(o$(G.d,X+=10,q));return q0=!0,X0(G,A,q)};d.minus=d.sub=function(W){var $,J,Y,X,Q,M,H,G,B,w,A,q,N=this,z=N.constructor;if(W=new z(W),!N.d||!W.d)return!N.s||!W.s?W=new z(NaN):N.d?W.s=-W.s:W=new z(W.d||N.s!==W.s?N:NaN),W;if(N.s!=W.s)return W.s=-W.s,N.plus(W);if(B=N.d,q=W.d,H=z.precision,G=z.rounding,!B[0]||!q[0]){if(q[0])W.s=-W.s;else if(B[0])W=new z(N);else return new z(G===3?-0:0);return q0?X0(W,H,G):W}if(J=b5(W.e/B0),w=b5(N.e/B0),B=B.slice(),Q=w-J,Q){for(A=Q<0,A?($=B,Q=-Q,M=q.length):($=q,J=w,M=B.length),Y=Math.max(Math.ceil(H/B0),M)+2,Q>Y&&(Q=Y,$.length=1),$.reverse(),Y=Q;Y--;)$.push(0);$.reverse()}else{for(Y=B.length,M=q.length,A=Y<M,A&&(M=Y),Y=0;Y<M;Y++)if(B[Y]!=q[Y]){A=B[Y]<q[Y];break}Q=0}for(A&&($=B,B=q,q=$,W.s=-W.s),M=B.length,Y=q.length-M;Y>0;--Y)B[M++]=0;for(Y=q.length;Y>Q;){if(B[--Y]<q[Y]){for(X=Y;X&&B[--X]===0;)B[X]=K8-1;--B[X],B[Y]+=K8}B[Y]-=q[Y]}for(;B[--M]===0;)B.pop();for(;B[0]===0;B.shift())--J;return B[0]?(W.d=B,W.e=UX(B,J),q0?X0(W,H,G):W):new z(G===3?-0:0)};d.modulo=d.mod=function(W){var $,J=this,Y=J.constructor;return W=new Y(W),!J.d||!W.s||W.d&&!W.d[0]?new Y(NaN):!W.d||J.d&&!J.d[0]?X0(new Y(J),Y.precision,Y.rounding):(q0=!1,Y.modulo==9?($=Y1(J,W.abs(),0,3,1),$.s*=W.s):$=Y1(J,W,0,Y.modulo,1),$=$.times(W),q0=!0,J.minus($))};d.naturalExponential=d.exp=function(){return AH(this)};d.naturalLogarithm=d.ln=function(){return O4(this)};d.negated=d.neg=function(){var W=new this.constructor(this);return W.s=-W.s,X0(W)};d.plus=d.add=function(W){var $,J,Y,X,Q,M,H,G,B,w,A=this,q=A.constructor;if(W=new q(W),!A.d||!W.d)return!A.s||!W.s?W=new q(NaN):A.d||(W=new q(W.d||A.s===W.s?A:NaN)),W;if(A.s!=W.s)return W.s=-W.s,A.minus(W);if(B=A.d,w=W.d,H=q.precision,G=q.rounding,!B[0]||!w[0])return w[0]||(W=new q(A)),q0?X0(W,H,G):W;if(Q=b5(A.e/B0),Y=b5(W.e/B0),B=B.slice(),X=Q-Y,X){for(X<0?(J=B,X=-X,M=w.length):(J=w,Y=Q,M=B.length),Q=Math.ceil(H/B0),M=Q>M?Q+1:M+1,X>M&&(X=M,J.length=1),J.reverse();X--;)J.push(0);J.reverse()}for(M=B.length,X=w.length,M-X<0&&(X=M,J=w,w=B,B=J),$=0;X;)$=(B[--X]=B[X]+w[X]+$)/K8|0,B[X]%=K8;for($&&(B.unshift($),++Y),M=B.length;B[--M]==0;)B.pop();return W.d=B,W.e=UX(B,Y),q0?X0(W,H,G):W};d.precision=d.sd=function(W){var $,J=this;if(W!==void 0&&W!==!!W&&W!==1&&W!==0)throw Error(j4+W);return J.d?($=hD(J.d),W&&J.e+1>$&&($=J.e+1)):$=NaN,$};d.round=function(){var W=this,$=W.constructor;return X0(new $(W),W.e+1,$.rounding)};d.sine=d.sin=function(){var W,$,J=this,Y=J.constructor;return J.isFinite()?J.isZero()?new Y(J):(W=Y.precision,$=Y.rounding,Y.precision=W+Math.max(J.e,J.sd())+B0,Y.rounding=1,J=_f(Y,pD(Y,J)),Y.precision=W,Y.rounding=$,X0(I6>2?J.neg():J,W,$,!0)):new Y(NaN)};d.squareRoot=d.sqrt=function(){var W,$,J,Y,X,Q,M=this,H=M.d,G=M.e,B=M.s,w=M.constructor;if(B!==1||!H||!H[0])return new w(!B||B<0&&(!H||H[0])?NaN:H?M:1/0);for(q0=!1,B=Math.sqrt(+M),B==0||B==1/0?($=D5(H),($.length+G)%2==0&&($+="0"),B=Math.sqrt($),G=b5((G+1)/2)-(G<0||G%2),B==1/0?$="5e"+G:($=B.toExponential(),$=$.slice(0,$.indexOf("e")+1)+G),Y=new w($)):Y=new w(B.toString()),J=(G=w.precision)+3;;)if(Q=Y,Y=Q.plus(Y1(M,Q,J+2,1)).times(0.5),D5(Q.d).slice(0,J)===($=D5(Y.d)).slice(0,J))if($=$.slice(J-3,J+1),$=="9999"||!X&&$=="4999"){if(!X&&(X0(Q,G+1,0),Q.times(Q).eq(M))){Y=Q;break}J+=4,X=1}else{(!+$||!+$.slice(1)&&$.charAt(0)=="5")&&(X0(Y,G+1,1),W=!Y.times(Y).eq(M));break}return q0=!0,X0(Y,G,w.rounding,W)};d.tangent=d.tan=function(){var W,$,J=this,Y=J.constructor;return J.isFinite()?J.isZero()?new Y(J):(W=Y.precision,$=Y.rounding,Y.precision=W+10,Y.rounding=1,J=J.sin(),J.s=1,J=Y1(J,new Y(1).minus(J.times(J)).sqrt(),W+10,0),Y.precision=W,Y.rounding=$,X0(I6==2||I6==4?J.neg():J,W,$,!0)):new Y(NaN)};d.times=d.mul=function(W){var $,J,Y,X,Q,M,H,G,B,w=this,A=w.constructor,q=w.d,N=(W=new A(W)).d;if(W.s*=w.s,!q||!q[0]||!N||!N[0])return new A(!W.s||q&&!q[0]&&!N||N&&!N[0]&&!q?NaN:!q||!N?W.s/0:W.s*0);for(J=b5(w.e/B0)+b5(W.e/B0),G=q.length,B=N.length,G<B&&(Q=q,q=N,N=Q,M=G,G=B,B=M),Q=[],M=G+B,Y=M;Y--;)Q.push(0);for(Y=B;--Y>=0;){for($=0,X=G+Y;X>Y;)H=Q[X]+N[Y]*q[X-Y-1]+$,Q[X--]=H%K8|0,$=H/K8|0;Q[X]=(Q[X]+$)%K8|0}for(;!Q[--M];)Q.pop();return $?++J:Q.shift(),W.d=Q,W.e=UX(Q,J),q0?X0(W,A.precision,A.rounding):W};d.toBinary=function(W,$){return vH(this,2,W,$)};d.toDecimalPlaces=d.toDP=function(W,$){var J=this,Y=J.constructor;return J=new Y(J),W===void 0?J:(e5(W,0,F4),$===void 0?$=Y.rounding:e5($,0,8),X0(J,W+J.e+1,$))};d.toExponential=function(W,$){var J,Y=this,X=Y.constructor;return W===void 0?J=n8(Y,!0):(e5(W,0,F4),$===void 0?$=X.rounding:e5($,0,8),Y=X0(new X(Y),W+1,$),J=n8(Y,!0,W+1)),Y.isNeg()&&!Y.isZero()?"-"+J:J};d.toFixed=function(W,$){var J,Y,X=this,Q=X.constructor;return W===void 0?J=n8(X):(e5(W,0,F4),$===void 0?$=Q.rounding:e5($,0,8),Y=X0(new Q(X),W+X.e+1,$),J=n8(Y,!1,W+Y.e+1)),X.isNeg()&&!X.isZero()?"-"+J:J};d.toFraction=function(W){var $,J,Y,X,Q,M,H,G,B,w,A,q,N=this,z=N.d,D=N.constructor;if(!z)return new D(N);if(B=J=new D(1),Y=G=new D(0),$=new D(Y),Q=$.e=hD(z)-N.e-1,M=Q%B0,$.d[0]=t1(10,M<0?B0+M:M),W==null)W=Q>0?$:B;else{if(H=new D(W),!H.isInt()||H.lt(B))throw Error(j4+H);W=H.gt($)?Q>0?$:B:H}for(q0=!1,H=new D(D5(z)),w=D.precision,D.precision=Q=z.length*B0*2;A=Y1(H,$,0,1,1),X=J.plus(A.times(Y)),X.cmp(W)!=1;)J=Y,Y=X,X=B,B=G.plus(A.times(X)),G=X,X=$,$=H.minus(A.times(X)),H=X;return X=Y1(W.minus(J),Y,0,1,1),G=G.plus(X.times(B)),J=J.plus(X.times(Y)),G.s=B.s=N.s,q=Y1(B,Y,Q,1).minus(N).abs().cmp(Y1(G,J,Q,1).minus(N).abs())<1?[B,Y]:[G,J],D.precision=w,q0=!0,q};d.toHexadecimal=d.toHex=function(W,$){return vH(this,16,W,$)};d.toNearest=function(W,$){var J=this,Y=J.constructor;if(J=new Y(J),W==null){if(!J.d)return J;W=new Y(1),$=Y.rounding}else{if(W=new Y(W),$===void 0?$=Y.rounding:e5($,0,8),!J.d)return W.s?J:W;if(!W.d)return W.s&&(W.s=J.s),W}return W.d[0]?(q0=!1,J=Y1(J,W,0,$,1).times(W),q0=!0,X0(J)):(W.s=J.s,J=W),J};d.toNumber=function(){return+this};d.toOctal=function(W,$){return vH(this,8,W,$)};d.toPower=d.pow=function(W){var $,J,Y,X,Q,M,H=this,G=H.constructor,B=+(W=new G(W));if(!H.d||!W.d||!H.d[0]||!W.d[0])return new G(t1(+H,B));if(H=new G(H),H.eq(1))return H;if(Y=G.precision,Q=G.rounding,W.eq(1))return X0(H,Y,Q);if($=b5(W.e/B0),$>=W.d.length-1&&(J=B<0?-B:B)<=Df)return X=mD(G,H,J,Y),W.s<0?new G(1).div(X):X0(X,Y,Q);if(M=H.s,M<0){if($<W.d.length-1)return new G(NaN);if((W.d[$]&1)==0&&(M=1),H.e==0&&H.d[0]==1&&H.d.length==1)return H.s=M,H}return J=t1(+H,B),$=J==0||!isFinite(J)?b5(B*(Math.log("0."+D5(H.d))/Math.LN10+H.e+1)):new G(J+"").e,$>G.maxE+1||$<G.minE-1?new G($>0?M/0:0):(q0=!1,G.rounding=H.s=1,J=Math.min(12,($+"").length),X=AH(W.times(O4(H,Y+J)),Y),X.d&&(X=X0(X,Y+5,1),o$(X.d,Y,Q)&&($=Y+10,X=X0(AH(W.times(O4(H,$+J)),$),$+5,1),+D5(X.d).slice(Y+1,Y+15)+1==100000000000000&&(X=X0(X,Y+1,0)))),X.s=M,q0=!0,G.rounding=Q,X0(X,Y,Q))};d.toPrecision=function(W,$){var J,Y=this,X=Y.constructor;return W===void 0?J=n8(Y,Y.e<=X.toExpNeg||Y.e>=X.toExpPos):(e5(W,1,F4),$===void 0?$=X.rounding:e5($,0,8),Y=X0(new X(Y),W,$),J=n8(Y,W<=Y.e||Y.e<=X.toExpNeg,W)),Y.isNeg()&&!Y.isZero()?"-"+J:J};d.toSignificantDigits=d.toSD=function(W,$){var J=this,Y=J.constructor;return W===void 0?(W=Y.precision,$=Y.rounding):(e5(W,1,F4),$===void 0?$=Y.rounding:e5($,0,8)),X0(new Y(J),W,$)};d.toString=function(){var W=this,$=W.constructor,J=n8(W,W.e<=$.toExpNeg||W.e>=$.toExpPos);return W.isNeg()&&!W.isZero()?"-"+J:J};d.truncated=d.trunc=function(){return X0(new this.constructor(this),this.e+1,1)};d.valueOf=d.toJSON=function(){var W=this,$=W.constructor,J=n8(W,W.e<=$.toExpNeg||W.e>=$.toExpPos);return W.isNeg()?"-"+J:J};function D5(W){var $,J,Y,X=W.length-1,Q="",M=W[0];if(X>0){for(Q+=M,$=1;$<X;$++)Y=W[$]+"",J=B0-Y.length,J&&(Q+=S4(J)),Q+=Y;M=W[$],Y=M+"",J=B0-Y.length,J&&(Q+=S4(J))}else if(M===0)return"0";for(;M%10===0;)M/=10;return Q+M}function e5(W,$,J){if(W!==~~W||W<$||W>J)throw Error(j4+W)}function o$(W,$,J,Y){var X,Q,M,H;for(Q=W[0];Q>=10;Q/=10)--$;return--$<0?($+=B0,X=0):(X=Math.ceil(($+1)/B0),$%=B0),Q=t1(10,B0-$),H=W[X]%Q|0,Y==null?$<3?($==0?H=H/100|0:$==1&&(H=H/10|0),M=J<4&&H==99999||J>3&&H==49999||H==50000||H==0):M=(J<4&&H+1==Q||J>3&&H+1==Q/2)&&(W[X+1]/Q/100|0)==t1(10,$-2)-1||(H==Q/2||H==0)&&(W[X+1]/Q/100|0)==0:$<4?($==0?H=H/1000|0:$==1?H=H/100|0:$==2&&(H=H/10|0),M=(Y||J<4)&&H==9999||!Y&&J>3&&H==4999):M=((Y||J<4)&&H+1==Q||!Y&&J>3&&H+1==Q/2)&&(W[X+1]/Q/1000|0)==t1(10,$-3)-1,M}function oY(W,$,J){for(var Y,X=[0],Q,M=0,H=W.length;M<H;){for(Q=X.length;Q--;)X[Q]*=$;for(X[0]+=BH.indexOf(W.charAt(M++)),Y=0;Y<X.length;Y++)X[Y]>J-1&&(X[Y+1]===void 0&&(X[Y+1]=0),X[Y+1]+=X[Y]/J|0,X[Y]%=J)}return X.reverse()}function Sf(W,$){var J,Y,X;if($.isZero())return $;Y=$.d.length,Y<32?(J=Math.ceil(Y/3),X=(1/wX(4,J)).toString()):(J=16,X="2.3283064365386962890625e-10"),W.precision+=J,$=a7(W,1,$.times(X),new W(1));for(var Q=J;Q--;){var M=$.times($);$=M.times(M).minus(M).times(8).plus(1)}return W.precision-=J,$}var Y1=function(){function W(Y,X,Q){var M,H=0,G=Y.length;for(Y=Y.slice();G--;)M=Y[G]*X+H,Y[G]=M%Q|0,H=M/Q|0;return H&&Y.unshift(H),Y}function $(Y,X,Q,M){var H,G;if(Q!=M)G=Q>M?1:-1;else for(H=G=0;H<Q;H++)if(Y[H]!=X[H]){G=Y[H]>X[H]?1:-1;break}return G}function J(Y,X,Q,M){for(var H=0;Q--;)Y[Q]-=H,H=Y[Q]<X[Q]?1:0,Y[Q]=H*M+Y[Q]-X[Q];for(;!Y[0]&&Y.length>1;)Y.shift()}return function(Y,X,Q,M,H,G){var B,w,A,q,N,z,D,_,L,S,P,c,e,I,V,x,C,k,b,y,u=Y.constructor,N0=Y.s==X.s?1:-1,r=Y.d,U0=X.d;if(!r||!r[0]||!U0||!U0[0])return new u(!Y.s||!X.s||(r?U0&&r[0]==U0[0]:!U0)?NaN:r&&r[0]==0||!U0?N0*0:N0/0);for(G?(N=1,w=Y.e-X.e):(G=K8,N=B0,w=b5(Y.e/N)-b5(X.e/N)),b=U0.length,C=r.length,L=new u(N0),S=L.d=[],A=0;U0[A]==(r[A]||0);A++);if(U0[A]>(r[A]||0)&&w--,Q==null?(I=Q=u.precision,M=u.rounding):H?I=Q+(Y.e-X.e)+1:I=Q,I<0)S.push(1),z=!0;else{if(I=I/N+2|0,A=0,b==1){for(q=0,U0=U0[0],I++;(A<C||q)&&I--;A++)V=q*G+(r[A]||0),S[A]=V/U0|0,q=V%U0|0;z=q||A<C}else{for(q=G/(U0[0]+1)|0,q>1&&(U0=W(U0,q,G),r=W(r,q,G),b=U0.length,C=r.length),x=b,P=r.slice(0,b),c=P.length;c<b;)P[c++]=0;y=U0.slice(),y.unshift(0),k=U0[0],U0[1]>=G/2&&++k;do q=0,B=$(U0,P,b,c),B<0?(e=P[0],b!=c&&(e=e*G+(P[1]||0)),q=e/k|0,q>1?(q>=G&&(q=G-1),D=W(U0,q,G),_=D.length,c=P.length,B=$(D,P,_,c),B==1&&(q--,J(D,b<_?y:U0,_,G))):(q==0&&(B=q=1),D=U0.slice()),_=D.length,_<c&&D.unshift(0),J(P,D,c,G),B==-1&&(c=P.length,B=$(U0,P,b,c),B<1&&(q++,J(P,b<c?y:U0,c,G))),c=P.length):B===0&&(q++,P=[0]),S[A++]=q,B&&P[0]?P[c++]=r[x]||0:(P=[r[x]],c=1);while((x++<C||P[0]!==void 0)&&I--);z=P[0]!==void 0}S[0]||S.shift()}if(N==1)L.e=w,fD=z;else{for(A=1,q=S[0];q>=10;q/=10)A++;L.e=A+w*N-1,X0(L,H?Q+L.e+1:Q,M,z)}return L}}();function X0(W,$,J,Y){var X,Q,M,H,G,B,w,A,q,N=W.constructor;W:if($!=null){if(A=W.d,!A)return W;for(X=1,H=A[0];H>=10;H/=10)X++;if(Q=$-X,Q<0)Q+=B0,M=$,w=A[q=0],G=w/t1(10,X-M-1)%10|0;else if(q=Math.ceil((Q+1)/B0),H=A.length,q>=H)if(Y){for(;H++<=q;)A.push(0);w=G=0,X=1,Q%=B0,M=Q-B0+1}else break W;else{for(w=H=A[q],X=1;H>=10;H/=10)X++;Q%=B0,M=Q-B0+X,G=M<0?0:w/t1(10,X-M-1)%10|0}if(Y=Y||$<0||A[q+1]!==void 0||(M<0?w:w%t1(10,X-M-1)),B=J<4?(G||Y)&&(J==0||J==(W.s<0?3:2)):G>5||G==5&&(J==4||Y||J==6&&(Q>0?M>0?w/t1(10,X-M):0:A[q-1])%10&1||J==(W.s<0?8:7)),$<1||!A[0])return A.length=0,B?($-=W.e+1,A[0]=t1(10,(B0-$%B0)%B0),W.e=-$||0):A[0]=W.e=0,W;if(Q==0?(A.length=q,H=1,q--):(A.length=q+1,H=t1(10,B0-Q),A[q]=M>0?(w/t1(10,X-M)%t1(10,M)|0)*H:0),B)for(;;)if(q==0){for(Q=1,M=A[0];M>=10;M/=10)Q++;for(M=A[0]+=H,H=1;M>=10;M/=10)H++;Q!=H&&(W.e++,A[0]==K8&&(A[0]=1));break}else{if(A[q]+=H,A[q]!=K8)break;A[q--]=0,H=1}for(Q=A.length;A[--Q]===0;)A.pop()}return q0&&(W.e>N.maxE?(W.d=null,W.e=NaN):W.e<N.minE&&(W.e=0,W.d=[0])),W}function n8(W,$,J){if(!W.isFinite())return lD(W);var Y,X=W.e,Q=D5(W.d),M=Q.length;return $?(J&&(Y=J-M)>0?Q=Q.charAt(0)+"."+Q.slice(1)+S4(Y):M>1&&(Q=Q.charAt(0)+"."+Q.slice(1)),Q=Q+(W.e<0?"e":"e+")+W.e):X<0?(Q="0."+S4(-X-1)+Q,J&&(Y=J-M)>0&&(Q+=S4(Y))):X>=M?(Q+=S4(X+1-M),J&&(Y=J-X-1)>0&&(Q=Q+"."+S4(Y))):((Y=X+1)<M&&(Q=Q.slice(0,Y)+"."+Q.slice(Y)),J&&(Y=J-M)>0&&(X+1===M&&(Q+="."),Q+=S4(Y))),Q}function UX(W,$){var J=W[0];for($*=B0;J>=10;J/=10)$++;return $}function YX(W,$,J){if($>Zf)throw q0=!0,J&&(W.precision=J),Error(vD);return X0(new W($X),$,1,!0)}function p8(W,$,J){if($>wH)throw Error(vD);return X0(new W(JX),$,J,!0)}function hD(W){var $=W.length-1,J=$*B0+1;if($=W[$],$){for(;$%10==0;$/=10)J--;for($=W[0];$>=10;$/=10)J++}return J}function S4(W){for(var $="";W--;)$+="0";return $}function mD(W,$,J,Y){var X,Q=new W(1),M=Math.ceil(Y/B0+4);for(q0=!1;;){if(J%2&&(Q=Q.times($),Cz(Q.d,M)&&(X=!0)),J=b5(J/2),J===0){J=Q.d.length-1,X&&Q.d[J]===0&&++Q.d[J];break}$=$.times($),Cz($.d,M)}return q0=!0,Q}function Kz(W){return W.d[W.d.length-1]&1}function uD(W,$,J){for(var Y,X,Q=new W($[0]),M=0;++M<$.length;){if(X=new W($[M]),!X.s){Q=X;break}Y=Q.cmp(X),(Y===J||Y===0&&Q.s===J)&&(Q=X)}return Q}function AH(W,$){var J,Y,X,Q,M,H,G,B=0,w=0,A=0,q=W.constructor,N=q.rounding,z=q.precision;if(!W.d||!W.d[0]||W.e>17)return new q(W.d?W.d[0]?W.s<0?0:1/0:1:W.s?W.s<0?0:W:NaN);for($==null?(q0=!1,G=z):G=$,H=new q(0.03125);W.e>-2;)W=W.times(H),A+=5;for(Y=Math.log(t1(2,A))/Math.LN10*2+5|0,G+=Y,J=Q=M=new q(1),q.precision=G;;){if(Q=X0(Q.times(W),G,1),J=J.times(++w),H=M.plus(Y1(Q,J,G,1)),D5(H.d).slice(0,G)===D5(M.d).slice(0,G)){for(X=A;X--;)M=X0(M.times(M),G,1);if($==null)if(B<3&&o$(M.d,G-Y,N,B))q.precision=G+=10,J=Q=H=new q(1),w=0,B++;else return X0(M,q.precision=z,N,q0=!0);else return q.precision=z,M}M=H}}function O4(W,$){var J,Y,X,Q,M,H,G,B,w,A,q,N=1,z=10,D=W,_=D.d,L=D.constructor,S=L.rounding,P=L.precision;if(D.s<0||!_||!_[0]||!D.e&&_[0]==1&&_.length==1)return new L(_&&!_[0]?-1/0:D.s!=1?NaN:_?0:D);if($==null?(q0=!1,w=P):w=$,L.precision=w+=z,J=D5(_),Y=J.charAt(0),Math.abs(Q=D.e)<1500000000000000){for(;Y<7&&Y!=1||Y==1&&J.charAt(1)>3;)D=D.times(W),J=D5(D.d),Y=J.charAt(0),N++;Q=D.e,Y>1?(D=new L("0."+J),Q++):D=new L(Y+"."+J.slice(1))}else return B=YX(L,w+2,P).times(Q+""),D=O4(new L(Y+"."+J.slice(1)),w-z).plus(B),L.precision=P,$==null?X0(D,P,S,q0=!0):D;for(A=D,G=M=D=Y1(D.minus(1),D.plus(1),w,1),q=X0(D.times(D),w,1),X=3;;){if(M=X0(M.times(q),w,1),B=G.plus(Y1(M,new L(X),w,1)),D5(B.d).slice(0,w)===D5(G.d).slice(0,w))if(G=G.times(2),Q!==0&&(G=G.plus(YX(L,w+2,P).times(Q+""))),G=Y1(G,new L(N),w,1),$==null)if(o$(G.d,w-z,S,H))L.precision=w+=z,B=M=D=Y1(A.minus(1),A.plus(1),w,1),q=X0(D.times(D),w,1),X=H=1;else return X0(G,L.precision=P,S,q0=!0);else return L.precision=P,G;G=B,X+=2}}function lD(W){return String(W.s*W.s/0)}function sY(W,$){var J,Y,X;for((J=$.indexOf("."))>-1&&($=$.replace(".","")),(Y=$.search(/e/i))>0?(J<0&&(J=Y),J+=+$.slice(Y+1),$=$.substring(0,Y)):J<0&&(J=$.length),Y=0;$.charCodeAt(Y)===48;Y++);for(X=$.length;$.charCodeAt(X-1)===48;--X);if($=$.slice(Y,X),$){if(X-=Y,W.e=J=J-Y-1,W.d=[],Y=(J+1)%B0,J<0&&(Y+=B0),Y<X){for(Y&&W.d.push(+$.slice(0,Y)),X-=B0;Y<X;)W.d.push(+$.slice(Y,Y+=B0));$=$.slice(Y),Y=B0-$.length}else Y-=X;for(;Y--;)$+="0";W.d.push(+$),q0&&(W.e>W.constructor.maxE?(W.d=null,W.e=NaN):W.e<W.constructor.minE&&(W.e=0,W.d=[0]))}else W.e=0,W.d=[0];return W}function Of(W,$){var J,Y,X,Q,M,H,G,B,w;if($.indexOf("_")>-1){if($=$.replace(/(\d)_(?=\d)/g,"$1"),cD.test($))return sY(W,$)}else if($==="Infinity"||$==="NaN")return+$||(W.s=NaN),W.e=NaN,W.d=null,W;if(qf.test($))J=16,$=$.toLowerCase();else if(Nf.test($))J=2;else if(zf.test($))J=8;else throw Error(j4+$);for(Q=$.search(/p/i),Q>0?(G=+$.slice(Q+1),$=$.substring(2,Q)):$=$.slice(2),Q=$.indexOf("."),M=Q>=0,Y=W.constructor,M&&($=$.replace(".",""),H=$.length,Q=H-Q,X=mD(Y,new Y(J),Q,Q*2)),B=oY($,J,K8),w=B.length-1,Q=w;B[Q]===0;--Q)B.pop();return Q<0?new Y(W.s*0):(W.e=UX(B,w),W.d=B,q0=!1,M&&(W=Y1(W,X,H*4)),G&&(W=W.times(Math.abs(G)<54?t1(2,G):S9.pow(2,G))),q0=!0,W)}function _f(W,$){var J,Y=$.d.length;if(Y<3)return $.isZero()?$:a7(W,2,$,$);J=1.4*Math.sqrt(Y),J=J>16?16:J|0,$=$.times(1/wX(5,J)),$=a7(W,2,$,$);for(var X,Q=new W(5),M=new W(16),H=new W(20);J--;)X=$.times($),$=$.times(Q.plus(X.times(M.times(X).minus(H))));return $}function a7(W,$,J,Y,X){var Q,M,H,G,B=1,w=W.precision,A=Math.ceil(w/B0);for(q0=!1,G=J.times(J),H=new W(Y);;){if(M=Y1(H.times(G),new W($++*$++),w,1),H=X?Y.plus(M):Y.minus(M),Y=Y1(M.times(G),new W($++*$++),w,1),M=H.plus(Y),M.d[A]!==void 0){for(Q=A;M.d[Q]===H.d[Q]&&Q--;);if(Q==-1)break}Q=H,H=Y,Y=M,M=Q,B++}return q0=!0,M.d.length=A+1,M}function wX(W,$){for(var J=W;--$;)J*=W;return J}function pD(W,$){var J,Y=$.s<0,X=p8(W,W.precision,1),Q=X.times(0.5);if($=$.abs(),$.lte(Q))return I6=Y?4:1,$;if(J=$.divToInt(X),J.isZero())I6=Y?3:2;else{if($=$.minus(J.times(X)),$.lte(Q))return I6=Kz(J)?Y?2:3:Y?4:1,$;I6=Kz(J)?Y?1:4:Y?3:2}return $.minus(X).abs()}function vH(W,$,J,Y){var X,Q,M,H,G,B,w,A,q,N=W.constructor,z=J!==void 0;if(z?(e5(J,1,F4),Y===void 0?Y=N.rounding:e5(Y,0,8)):(J=N.precision,Y=N.rounding),!W.isFinite())w=lD(W);else{for(w=n8(W),M=w.indexOf("."),z?(X=2,$==16?J=J*4-3:$==8&&(J=J*3-2)):X=$,M>=0&&(w=w.replace(".",""),q=new N(1),q.e=w.length-M,q.d=oY(n8(q),10,X),q.e=q.d.length),A=oY(w,10,X),Q=G=A.length;A[--G]==0;)A.pop();if(!A[0])w=z?"0p+0":"0";else{if(M<0?Q--:(W=new N(W),W.d=A,W.e=Q,W=Y1(W,q,J,Y,0,X),A=W.d,Q=W.e,B=fD),M=A[J],H=X/2,B=B||A[J+1]!==void 0,B=Y<4?(M!==void 0||B)&&(Y===0||Y===(W.s<0?3:2)):M>H||M===H&&(Y===4||B||Y===6&&A[J-1]&1||Y===(W.s<0?8:7)),A.length=J,B)for(;++A[--J]>X-1;)A[J]=0,J||(++Q,A.unshift(1));for(G=A.length;!A[G-1];--G);for(M=0,w="";M<G;M++)w+=BH.charAt(A[M]);if(z){if(G>1)if($==16||$==8){for(M=$==16?4:3,--G;G%M;G++)w+="0";for(A=oY(w,X,$),G=A.length;!A[G-1];--G);for(M=1,w="1.";M<G;M++)w+=BH.charAt(A[M])}else w=w.charAt(0)+"."+w.slice(1);w=w+(Q<0?"p":"p+")+Q}else if(Q<0){for(;++Q;)w="0"+w;w="0."+w}else if(++Q>G)for(Q-=G;Q--;)w+="0";else Q<G&&(w=w.slice(0,Q)+"."+w.slice(Q))}w=($==16?"0x":$==2?"0b":$==8?"0o":"")+w}return W.s<0?"-"+w:w}function Cz(W,$){if(W.length>$)return W.length=$,!0}function Lf(W){return new this(W).abs()}function jf(W){return new this(W).acos()}function Ff(W){return new this(W).acosh()}function Kf(W,$){return new this(W).plus($)}function Cf(W){return new this(W).asin()}function Vf(W){return new this(W).asinh()}function bf(W){return new this(W).atan()}function Ef(W){return new this(W).atanh()}function Pf(W,$){W=new this(W),$=new this($);var J,Y=this.precision,X=this.rounding,Q=Y+4;return!W.s||!$.s?J=new this(NaN):!W.d&&!$.d?(J=p8(this,Q,1).times($.s>0?0.25:0.75),J.s=W.s):!$.d||W.isZero()?(J=$.s<0?p8(this,Y,X):new this(0),J.s=W.s):!W.d||$.isZero()?(J=p8(this,Q,1).times(0.5),J.s=W.s):$.s<0?(this.precision=Q,this.rounding=1,J=this.atan(Y1(W,$,Q,1)),$=p8(this,Q,1),this.precision=Y,this.rounding=X,J=W.s<0?J.minus($):J.plus($)):J=this.atan(Y1(W,$,Q,1)),J}function Rf(W){return new this(W).cbrt()}function If(W){return X0(W=new this(W),W.e+1,2)}function xf(W,$,J){return new this(W).clamp($,J)}function Tf(W){if(!W||typeof W!="object")throw Error(BX+"Object expected");var $,J,Y,X=W.defaults===!0,Q=["precision",1,F4,"rounding",0,8,"toExpNeg",-n7,0,"toExpPos",0,n7,"maxE",0,n7,"minE",-n7,0,"modulo",0,9];for($=0;$<Q.length;$+=3)if(J=Q[$],X&&(this[J]=UH[J]),(Y=W[J])!==void 0)if(b5(Y)===Y&&Y>=Q[$+1]&&Y<=Q[$+2])this[J]=Y;else throw Error(j4+J+": "+Y);if(J="crypto",X&&(this[J]=UH[J]),(Y=W[J])!==void 0)if(Y===!0||Y===!1||Y===0||Y===1)if(Y)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[J]=!0;else throw Error(yD);else this[J]=!1;else throw Error(j4+J+": "+Y);return this}function kf(W){return new this(W).cos()}function gf(W){return new this(W).cosh()}function iD(W){var $,J,Y;function X(Q){var M,H,G,B=this;if(!(B instanceof X))return new X(Q);if(B.constructor=X,Vz(Q)){B.s=Q.s,q0?!Q.d||Q.e>X.maxE?(B.e=NaN,B.d=null):Q.e<X.minE?(B.e=0,B.d=[0]):(B.e=Q.e,B.d=Q.d.slice()):(B.e=Q.e,B.d=Q.d?Q.d.slice():Q.d);return}if(G=typeof Q,G==="number"){if(Q===0){B.s=1/Q<0?-1:1,B.e=0,B.d=[0];return}if(Q<0?(Q=-Q,B.s=-1):B.s=1,Q===~~Q&&Q<1e7){for(M=0,H=Q;H>=10;H/=10)M++;q0?M>X.maxE?(B.e=NaN,B.d=null):M<X.minE?(B.e=0,B.d=[0]):(B.e=M,B.d=[Q]):(B.e=M,B.d=[Q]);return}if(Q*0!==0){Q||(B.s=NaN),B.e=NaN,B.d=null;return}return sY(B,Q.toString())}if(G==="string")return(H=Q.charCodeAt(0))===45?(Q=Q.slice(1),B.s=-1):(H===43&&(Q=Q.slice(1)),B.s=1),cD.test(Q)?sY(B,Q):Of(B,Q);if(G==="bigint")return Q<0?(Q=-Q,B.s=-1):B.s=1,sY(B,Q.toString());throw Error(j4+Q)}if(X.prototype=d,X.ROUND_UP=0,X.ROUND_DOWN=1,X.ROUND_CEIL=2,X.ROUND_FLOOR=3,X.ROUND_HALF_UP=4,X.ROUND_HALF_DOWN=5,X.ROUND_HALF_EVEN=6,X.ROUND_HALF_CEIL=7,X.ROUND_HALF_FLOOR=8,X.EUCLID=9,X.config=X.set=Tf,X.clone=iD,X.isDecimal=Vz,X.abs=Lf,X.acos=jf,X.acosh=Ff,X.add=Kf,X.asin=Cf,X.asinh=Vf,X.atan=bf,X.atanh=Ef,X.atan2=Pf,X.cbrt=Rf,X.ceil=If,X.clamp=xf,X.cos=kf,X.cosh=gf,X.div=ff,X.exp=vf,X.floor=yf,X.hypot=df,X.ln=cf,X.log=hf,X.log10=uf,X.log2=mf,X.max=lf,X.min=pf,X.mod=nf,X.mul=of,X.pow=sf,X.random=af,X.round=rf,X.sign=tf,X.sin=ef,X.sinh=Wv,X.sqrt=$v,X.sub=Jv,X.sum=Yv,X.tan=Xv,X.tanh=Qv,X.trunc=Mv,W===void 0&&(W={}),W&&W.defaults!==!0)for(Y=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],$=0;$<Y.length;)W.hasOwnProperty(J=Y[$++])||(W[J]=this[J]);return X.config(W),X}function ff(W,$){return new this(W).div($)}function vf(W){return new this(W).exp()}function yf(W){return X0(W=new this(W),W.e+1,3)}function df(){var W,$,J=new this(0);for(q0=!1,W=0;W<arguments.length;)if($=new this(arguments[W++]),$.d)J.d&&(J=J.plus($.times($)));else{if($.s)return q0=!0,new this(1/0);J=$}return q0=!0,J.sqrt()}function Vz(W){return W instanceof S9||W&&W.toStringTag===dD||!1}function cf(W){return new this(W).ln()}function hf(W,$){return new this(W).log($)}function mf(W){return new this(W).log(2)}function uf(W){return new this(W).log(10)}function lf(){return uD(this,arguments,-1)}function pf(){return uD(this,arguments,1)}function nf(W,$){return new this(W).mod($)}function of(W,$){return new this(W).mul($)}function sf(W,$){return new this(W).pow($)}function af(W){var $,J,Y,X,Q=0,M=new this(1),H=[];if(W===void 0?W=this.precision:e5(W,1,F4),Y=Math.ceil(W/B0),this.crypto)if(crypto.getRandomValues)for($=crypto.getRandomValues(new Uint32Array(Y));Q<Y;)X=$[Q],X>=4290000000?$[Q]=crypto.getRandomValues(new Uint32Array(1))[0]:H[Q++]=X%1e7;else if(crypto.randomBytes){for($=crypto.randomBytes(Y*=4);Q<Y;)X=$[Q]+($[Q+1]<<8)+($[Q+2]<<16)+(($[Q+3]&127)<<24),X>=2140000000?crypto.randomBytes(4).copy($,Q):(H.push(X%1e7),Q+=4);Q=Y/4}else throw Error(yD);else for(;Q<Y;)H[Q++]=Math.random()*1e7|0;for(Y=H[--Q],W%=B0,Y&&W&&(X=t1(10,B0-W),H[Q]=(Y/X|0)*X);H[Q]===0;Q--)H.pop();if(Q<0)J=0,H=[0];else{for(J=-1;H[0]===0;J-=B0)H.shift();for(Y=1,X=H[0];X>=10;X/=10)Y++;Y<B0&&(J-=B0-Y)}return M.e=J,M.d=H,M}function rf(W){return X0(W=new this(W),W.e+1,this.rounding)}function tf(W){return W=new this(W),W.d?W.d[0]?W.s:0*W.s:W.s||NaN}function ef(W){return new this(W).sin()}function Wv(W){return new this(W).sinh()}function $v(W){return new this(W).sqrt()}function Jv(W,$){return new this(W).sub($)}function Yv(){var W=0,$=arguments,J=new this($[W]);for(q0=!1;J.s&&++W<$.length;)J=J.plus($[W]);return q0=!0,X0(J,this.precision,this.rounding)}function Xv(W){return new this(W).tan()}function Qv(W){return new this(W).tanh()}function Mv(W){return X0(W=new this(W),W.e+1,1)}d[Symbol.for("nodejs.util.inspect.custom")]=d.toString;d[Symbol.toStringTag]="Decimal";var S9=d.constructor=iD(UH);$X=new S9($X);JX=new S9(JX);var AX=S9;function yH(W){return S9.isDecimal(W)?!0:W!==null&&typeof W=="object"&&typeof W.s=="number"&&typeof W.e=="number"&&typeof W.toFixed=="function"&&Array.isArray(W.d)}var Hv={};e7(Hv,{ModelAction:()=>NX,datamodelEnumToSchemaEnum:()=>Gv});function Gv(W){return{name:W.name,values:W.values.map(($)=>$.name)}}var NX=((W)=>(W.findUnique="findUnique",W.findUniqueOrThrow="findUniqueOrThrow",W.findFirst="findFirst",W.findFirstOrThrow="findFirstOrThrow",W.findMany="findMany",W.create="create",W.createMany="createMany",W.createManyAndReturn="createManyAndReturn",W.update="update",W.updateMany="updateMany",W.updateManyAndReturn="updateManyAndReturn",W.upsert="upsert",W.delete="delete",W.deleteMany="deleteMany",W.groupBy="groupBy",W.count="count",W.aggregate="aggregate",W.findRaw="findRaw",W.aggregateRaw="aggregateRaw",W))(NX||{}),Bv=f2(UD()),wv={keyword:z9,entity:z9,value:(W)=>F8(v$(W)),punctuation:v$,directive:z9,function:z9,variable:(W)=>F8(v$(W)),string:(W)=>F8(u$(W)),boolean:r$,number:z9,comment:EH},Av=(W)=>W,lY={},Nv=0,O0={manual:lY.Prism&&lY.Prism.manual,disableWorkerMessageHandler:lY.Prism&&lY.Prism.disableWorkerMessageHandler,util:{encode:function(W){if(W instanceof u8){let $=W;return new u8($.type,O0.util.encode($.content),$.alias)}else return Array.isArray(W)?W.map(O0.util.encode):W.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(W){return Object.prototype.toString.call(W).slice(8,-1)},objId:function(W){return W.__id||Object.defineProperty(W,"__id",{value:++Nv}),W.__id},clone:function W($,J){let Y,X,Q=O0.util.type($);switch(J=J||{},Q){case"Object":if(X=O0.util.objId($),J[X])return J[X];Y={},J[X]=Y;for(let M in $)$.hasOwnProperty(M)&&(Y[M]=W($[M],J));return Y;case"Array":return X=O0.util.objId($),J[X]?J[X]:(Y=[],J[X]=Y,$.forEach(function(M,H){Y[H]=W(M,J)}),Y);default:return $}}},languages:{extend:function(W,$){let J=O0.util.clone(O0.languages[W]);for(let Y in $)J[Y]=$[Y];return J},insertBefore:function(W,$,J,Y){Y=Y||O0.languages;let X=Y[W],Q={};for(let H in X)if(X.hasOwnProperty(H)){if(H==$)for(let G in J)J.hasOwnProperty(G)&&(Q[G]=J[G]);J.hasOwnProperty(H)||(Q[H]=X[H])}let M=Y[W];return Y[W]=Q,O0.languages.DFS(O0.languages,function(H,G){G===M&&H!=W&&(this[H]=Q)}),Q},DFS:function W($,J,Y,X){X=X||{};let Q=O0.util.objId;for(let M in $)if($.hasOwnProperty(M)){J.call($,M,$[M],Y||M);let H=$[M],G=O0.util.type(H);G==="Object"&&!X[Q(H)]?(X[Q(H)]=!0,W(H,J,null,X)):G==="Array"&&!X[Q(H)]&&(X[Q(H)]=!0,W(H,J,M,X))}}},plugins:{},highlight:function(W,$,J){let Y={code:W,grammar:$,language:J};return O0.hooks.run("before-tokenize",Y),Y.tokens=O0.tokenize(Y.code,Y.grammar),O0.hooks.run("after-tokenize",Y),u8.stringify(O0.util.encode(Y.tokens),Y.language)},matchGrammar:function(W,$,J,Y,X,Q,M){for(let D in J){if(!J.hasOwnProperty(D)||!J[D])continue;if(D==M)return;let _=J[D];_=O0.util.type(_)==="Array"?_:[_];for(let L=0;L<_.length;++L){let S=_[L],P=S.inside,c=!!S.lookbehind,e=!!S.greedy,I=0,V=S.alias;if(e&&!S.pattern.global){let x=S.pattern.toString().match(/[imuy]*$/)[0];S.pattern=RegExp(S.pattern.source,x+"g")}S=S.pattern||S;for(let x=Y,C=X;x<$.length;C+=$[x].length,++x){let k=$[x];if($.length>W.length)return;if(k instanceof u8)continue;if(e&&x!=$.length-1){S.lastIndex=C;var A=S.exec(W);if(!A)break;var w=A.index+(c?A[1].length:0),q=A.index+A[0].length,H=x,G=C;for(let U0=$.length;H<U0&&(G<q||!$[H].type&&!$[H-1].greedy);++H)G+=$[H].length,w>=G&&(++x,C=G);if($[x]instanceof u8)continue;B=H-x,k=W.slice(C,G),A.index-=C}else{S.lastIndex=0;var A=S.exec(k),B=1}if(!A){if(Q)break;continue}c&&(I=A[1]?A[1].length:0);var w=A.index+I,A=A[0].slice(I),q=w+A.length,N=k.slice(0,w),z=k.slice(q);let b=[x,B];N&&(++x,C+=N.length,b.push(N));let y=new u8(D,P?O0.tokenize(A,P):A,V,A,e);if(b.push(y),z&&b.push(z),Array.prototype.splice.apply($,b),B!=1&&O0.matchGrammar(W,$,J,x,C,!0,D),Q)break}}}},tokenize:function(W,$){let J=[W],Y=$.rest;if(Y){for(let X in Y)$[X]=Y[X];delete $.rest}return O0.matchGrammar(W,J,$,0,0,!1),J},hooks:{all:{},add:function(W,$){let J=O0.hooks.all;J[W]=J[W]||[],J[W].push($)},run:function(W,$){let J=O0.hooks.all[W];if(!(!J||!J.length))for(var Y=0,X;X=J[Y++];)X($)}},Token:u8};O0.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};O0.languages.javascript=O0.languages.extend("clike",{"class-name":[O0.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/});O0.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/;O0.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:O0.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:O0.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:O0.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:O0.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});O0.languages.markup&&O0.languages.markup.tag.addInlined("script","javascript");O0.languages.js=O0.languages.javascript;O0.languages.typescript=O0.languages.extend("javascript",{keyword:/\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/});O0.languages.ts=O0.languages.typescript;function u8(W,$,J,Y,X){this.type=W,this.content=$,this.alias=J,this.length=(Y||"").length|0,this.greedy=!!X}u8.stringify=function(W,$){return typeof W=="string"?W:Array.isArray(W)?W.map(function(J){return u8.stringify(J,$)}).join(""):qv(W.type)(W.content)};function qv(W){return wv[W]||Av}function zv(W){return Dv(W,O0.languages.javascript)}function Dv(W,$){return O0.tokenize(W,$).map((J)=>u8.stringify(J)).join("")}function Zv(W){return ug(W)}var Sv=class W{firstLineNumber;lines;static read($){let J;try{J=Uv.readFileSync($,"utf-8")}catch{return null}return W.fromContent(J)}static fromContent($){let J=$.split(/\r?\n/);return new W(1,J)}constructor($,J){this.firstLineNumber=$,this.lines=J}get lastLineNumber(){return this.firstLineNumber+this.lines.length-1}mapLineAt($,J){if($<this.firstLineNumber||$>this.lines.length+this.firstLineNumber)return this;let Y=$-this.firstLineNumber,X=[...this.lines];return X[Y]=J(X[Y]),new W(this.firstLineNumber,X)}mapLines($){return new W(this.firstLineNumber,this.lines.map((J,Y)=>$(J,this.firstLineNumber+Y)))}lineAt($){return this.lines[$-this.firstLineNumber]}prependSymbolAt($,J){return this.mapLines((Y,X)=>X===$?`${J} ${Y}`:`  ${Y}`)}slice($,J){let Y=this.lines.slice($-1,J).join(`
`);return new W($,Zv(Y).split(`
`))}highlight(){let $=zv(this.toString());return new W(this.firstLineNumber,$.split(`
`))}toString(){return this.lines.join(`
`)}},Ov={red:D9,gray:EH,dim:a$,bold:F8,underline:k2,highlightSource:(W)=>W.highlight()},_v={red:(W)=>W,gray:(W)=>W,dim:(W)=>W,bold:(W)=>W,underline:(W)=>W,highlightSource:(W)=>W};function Lv({message:W,originalMethod:$,isPanic:J,callArguments:Y}){return{functionName:`prisma.${$}()`,message:W,isPanic:J??!1,callArguments:Y}}function jv({callsite:W,message:$,originalMethod:J,isPanic:Y,callArguments:X},Q){let M=Lv({message:$,originalMethod:J,isPanic:Y,callArguments:X});if(!W||typeof window<"u"||J0.env.NODE_ENV==="production")return M;let H=W.getLocation();if(!H||!H.lineNumber||!H.columnNumber)return M;let G=Math.max(1,H.lineNumber-3),B=Sv.read(H.fileName)?.slice(G,H.lineNumber),w=B?.lineAt(H.lineNumber);if(B&&w){let A=Kv(w),q=Fv(w);if(!q)return M;M.functionName=`${q.code})`,M.location=H,Y||(B=B.mapLineAt(H.lineNumber,(z)=>z.slice(0,q.openingBraceIndex))),B=Q.highlightSource(B);let N=String(B.lastLineNumber).length;if(M.contextLines=B.mapLines((z,D)=>Q.gray(String(D).padStart(N))+" "+z).mapLines((z)=>Q.dim(z)).prependSymbolAt(H.lineNumber,Q.bold(Q.red("\u2192"))),X){let z=A+N+1;z+=2,M.callArguments=Bv.default(X,z).slice(z)}}return M}function Fv(W){let $=Object.keys(NX).join("|"),J=new RegExp(String.raw`\.(${$})\(`).exec(W);if(J){let Y=J.index+J[0].length,X=W.lastIndexOf(" ",J.index)+1;return{code:W.slice(X,Y),openingBraceIndex:Y}}return null}function Kv(W){let $=0;for(let J=0;J<W.length;J++){if(W.charAt(J)!==" ")return $;$++}return $}function Cv({functionName:W,location:$,message:J,isPanic:Y,contextLines:X,callArguments:Q},M){let H=[""],G=$?" in":":";if(Y?(H.push(M.red(`Oops, an unknown error occurred! This is ${M.bold("on us")}, you did nothing wrong.`)),H.push(M.red(`It occurred in the ${M.bold(`\`${W}\``)} invocation${G}`))):H.push(M.red(`Invalid ${M.bold(`\`${W}\``)} invocation${G}`)),$&&H.push(M.underline(Vv($))),X){H.push("");let B=[X.toString()];Q&&(B.push(Q),B.push(M.dim(")"))),H.push(B.join("")),Q&&H.push("")}else H.push(""),Q&&H.push(Q),H.push("");return H.push(J),H.join(`
`)}function Vv(W){let $=[W.fileName];return W.lineNumber&&$.push(String(W.lineNumber)),W.columnNumber&&$.push(String(W.columnNumber)),$.join(":")}function nD(W){let $=W.showColors?Ov:_v,J;return J=jv(W,$),Cv(J,$)}var bv=f2(wD());function Ev(W,$,J){let Y=oD(W),X=Pv(Y),Q=Iv(X);Q?WZ(Q,$,J):$.addErrorMessage(()=>"Unknown error")}function oD(W){return W.errors.flatMap(($)=>$.kind==="Union"?oD($):[$])}function Pv(W){let $=new Map,J=[];for(let Y of W){if(Y.kind!=="InvalidArgumentType"){J.push(Y);continue}let X=`${Y.selectionPath.join(".")}:${Y.argumentPath.join(".")}`,Q=$.get(X);Q?$.set(X,{...Y,argument:{...Y.argument,typeNames:Rv(Q.argument.typeNames,Y.argument.typeNames)}}):$.set(X,Y)}return J.push(...$.values()),J}function Rv(W,$){return[...new Set(W.concat($))]}function Iv(W){return Uf(W,($,J)=>{let Y=bz($),X=bz(J);return Y!==X?Y-X:Ez($)-Ez(J)})}function bz(W){let $=0;return Array.isArray(W.selectionPath)&&($+=W.selectionPath.length),Array.isArray(W.argumentPath)&&($+=W.argumentPath.length),$}function Ez(W){switch(W.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return-10;default:return 0}}var o8=class{constructor(W,$){this.name=W,this.value=$}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(W){let{colors:{green:$}}=W.context;W.addMarginSymbol($(this.isRequired?"+":"?")),W.write($(this.name)),this.isRequired||W.write($("?")),W.write($(": ")),typeof this.value=="string"?W.write($(this.value)):W.write(this.value)}};$k();var sD=class{constructor(W=0,$){this.context=$,this.currentIndent=W}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(W){return typeof W=="string"?this.currentLine+=W:W.write(this),this}writeJoined(W,$,J=(Y,X)=>X.write(Y)){let Y=$.length-1;for(let X=0;X<$.length;X++)J($[X],this),X!==Y&&this.write(W);return this}writeLine(W){return this.write(W).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let W=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,W?.(),this}withIndent(W){return this.indent(),W(this),this.unindent(),this}afterNextNewline(W){return this.afterNextNewLineCallback=W,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(W){return this.marginSymbol=W,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let W=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+W.slice(1):W}};Wk();var xv=class{constructor(W){this.value=W}write(W){W.write(this.value)}markAsError(){this.value.markAsError()}},pY=(W)=>W,aD={bold:pY,red:pY,green:pY,dim:pY,enabled:!1},Tv={bold:F8,red:D9,green:u$,dim:a$,enabled:!0},dH={write(W){W.writeLine(",")}},qX=class{constructor(W){this.contents=W}isUnderlined=!1;color=(W)=>W;underline(){return this.isUnderlined=!0,this}setColor(W){return this.color=W,this}write(W){let $=W.getCurrentLineLength();W.write(this.color(this.contents)),this.isUnderlined&&W.afterNextNewline(()=>{W.write(" ".repeat($)).writeLine(this.color("~".repeat(this.contents.length)))})}},cH=class{hasError=!1;markAsError(){return this.hasError=!0,this}},rD=class extends cH{items=[];addItem(W){return this.items.push(new xv(W)),this}getField(W){return this.items[W]}getPrintWidth(){return this.items.length===0?2:Math.max(...this.items.map((W)=>W.value.getPrintWidth()))+2}write(W){if(this.items.length===0){this.writeEmpty(W);return}this.writeWithItems(W)}writeEmpty(W){let $=new qX("[]");this.hasError&&$.setColor(W.context.colors.red).underline(),W.write($)}writeWithItems(W){let{colors:$}=W.context;W.writeLine("[").withIndent(()=>W.writeJoined(dH,this.items).newLine()).write("]"),this.hasError&&W.afterNextNewline(()=>{W.writeLine($.red("~".repeat(this.getPrintWidth())))})}asObject(){}},tD=class W extends cH{fields={};suggestions=[];addField($){this.fields[$.name]=$}addSuggestion($){this.suggestions.push($)}getField($){return this.fields[$]}getDeepField($){let[J,...Y]=$,X=this.getField(J);if(!X)return;let Q=X;for(let M of Y){let H;if(Q.value instanceof W?H=Q.value.getField(M):Q.value instanceof rD&&(H=Q.value.getField(Number(M))),!H)return;Q=H}return Q}getDeepFieldValue($){return $.length===0?this:this.getDeepField($)?.value}hasField($){return!!this.getField($)}removeAllFields(){this.fields={}}removeField($){delete this.fields[$]}getFields(){return this.fields}isEmpty(){return Object.keys(this.fields).length===0}getFieldValue($){return this.getField($)?.value}getDeepSubSelectionValue($){let J=this;for(let Y of $){if(!(J instanceof W))return;let X=J.getSubSelectionValue(Y);if(!X)return;J=X}return J}getDeepSelectionParent($){let J=this.getSelectionParent();if(!J)return;let Y=J;for(let X of $){let Q=Y.value.getFieldValue(X);if(!Q||!(Q instanceof W))return;let M=Q.getSelectionParent();if(!M)return;Y=M}return Y}getSelectionParent(){let $=this.getField("select")?.value.asObject();if($)return{kind:"select",value:$};let J=this.getField("include")?.value.asObject();if(J)return{kind:"include",value:J}}getSubSelectionValue($){return this.getSelectionParent()?.value.fields[$].value}getPrintWidth(){let $=Object.values(this.fields);return $.length==0?2:Math.max(...$.map((J)=>J.getPrintWidth()))+2}write($){let J=Object.values(this.fields);if(J.length===0&&this.suggestions.length===0){this.writeEmpty($);return}this.writeWithContents($,J)}asObject(){return this}writeEmpty($){let J=new qX("{}");this.hasError&&J.setColor($.context.colors.red).underline(),$.write(J)}writeWithContents($,J){$.writeLine("{").withIndent(()=>{$.writeJoined(dH,[...J,...this.suggestions]).newLine()}),$.write("}"),this.hasError&&$.afterNextNewline(()=>{$.writeLine($.context.colors.red("~".repeat(this.getPrintWidth())))})}},r5=class extends cH{constructor(W){super();this.text=W}getPrintWidth(){return this.text.length}write(W){let $=new qX(this.text);this.hasError&&$.underline().setColor(W.context.colors.red),W.write($)}asObject(){}},eD=class{fields=[];addField(W,$){return this.fields.push({write(J){let{green:Y,dim:X}=J.context.colors;J.write(Y(X(`${W}: ${$}`))).addMarginSymbol(Y(X("+")))}}),this}write(W){let{colors:{green:$}}=W.context;W.writeLine($("{")).withIndent(()=>{W.writeJoined(dH,this.fields).newLine()}).write($("}")).addMarginSymbol($("+"))}};function WZ(W,$,J){switch(W.kind){case"MutuallyExclusiveFields":kv(W,$);break;case"IncludeOnScalar":gv(W,$);break;case"EmptySelection":fv(W,$,J);break;case"UnknownSelectionField":cv(W,$);break;case"InvalidSelectionValue":hv(W,$);break;case"UnknownArgument":mv(W,$);break;case"UnknownInputField":uv(W,$);break;case"RequiredArgumentMissing":lv(W,$);break;case"InvalidArgumentType":pv(W,$);break;case"InvalidArgumentValue":iv(W,$);break;case"ValueTooLarge":nv(W,$);break;case"SomeFieldsMissing":ov(W,$);break;case"TooManyFieldsGiven":sv(W,$);break;case"Union":Ev(W,$,J);break;default:throw new Error("not implemented: "+W.kind)}}function kv(W,$){let J=$.arguments.getDeepSubSelectionValue(W.selectionPath)?.asObject();J&&(J.getField(W.firstField)?.markAsError(),J.getField(W.secondField)?.markAsError()),$.addErrorMessage((Y)=>`Please ${Y.bold("either")} use ${Y.green(`\`${W.firstField}\``)} or ${Y.green(`\`${W.secondField}\``)}, but ${Y.red("not both")} at the same time.`)}function gv(W,$){let[J,Y]=r7(W.selectionPath),X=W.outputType,Q=$.arguments.getDeepSelectionParent(J)?.value;if(Q&&(Q.getField(Y)?.markAsError(),X))for(let M of X.fields)M.isRelation&&Q.addSuggestion(new o8(M.name,"true"));$.addErrorMessage((M)=>{let H=`Invalid scalar field ${M.red(`\`${Y}\``)} for ${M.bold("include")} statement`;return X?H+=` on model ${M.bold(X.name)}. ${WJ(M)}`:H+=".",H+=`
Note that ${M.bold("include")} statements only accept relation fields.`,H})}function fv(W,$,J){let Y=$.arguments.getDeepSubSelectionValue(W.selectionPath)?.asObject();if(Y){let X=Y.getField("omit")?.value.asObject();if(X){vv(W,$,X);return}if(Y.hasField("select")){yv(W,$);return}}if(J?.[GX(W.outputType.name)]){dv(W,$);return}$.addErrorMessage(()=>`Unknown field at "${W.selectionPath.join(".")} selection"`)}function vv(W,$,J){J.removeAllFields();for(let Y of W.outputType.fields)J.addSuggestion(new o8(Y.name,"false"));$.addErrorMessage((Y)=>`The ${Y.red("omit")} statement includes every field of the model ${Y.bold(W.outputType.name)}. At least one field must be included in the result`)}function yv(W,$){let J=W.outputType,Y=$.arguments.getDeepSelectionParent(W.selectionPath)?.value,X=Y?.isEmpty()??!1;Y&&(Y.removeAllFields(),YZ(Y,J)),$.addErrorMessage((Q)=>X?`The ${Q.red("`select`")} statement for type ${Q.bold(J.name)} must not be empty. ${WJ(Q)}`:`The ${Q.red("`select`")} statement for type ${Q.bold(J.name)} needs ${Q.bold("at least one truthy value")}.`)}function dv(W,$){let J=new eD;for(let X of W.outputType.fields)X.isRelation||J.addField(X.name,"false");let Y=new o8("omit",J).makeRequired();if(W.selectionPath.length===0)$.arguments.addSuggestion(Y);else{let[X,Q]=r7(W.selectionPath),M=$.arguments.getDeepSelectionParent(X)?.value.asObject()?.getField(Q);if(M){let H=M?.value.asObject()??new tD;H.addSuggestion(Y),M.value=H}}$.addErrorMessage((X)=>`The global ${X.red("omit")} configuration excludes every field of the model ${X.bold(W.outputType.name)}. At least one field must be included in the result`)}function cv(W,$){let J=XZ(W.selectionPath,$);if(J.parentKind!=="unknown"){J.field.markAsError();let Y=J.parent;switch(J.parentKind){case"select":YZ(Y,W.outputType);break;case"include":av(Y,W.outputType);break;case"omit":rv(Y,W.outputType);break}}$.addErrorMessage((Y)=>{let X=[`Unknown field ${Y.red(`\`${J.fieldName}\``)}`];return J.parentKind!=="unknown"&&X.push(`for ${Y.bold(J.parentKind)} statement`),X.push(`on model ${Y.bold(`\`${W.outputType.name}\``)}.`),X.push(WJ(Y)),X.join(" ")})}function hv(W,$){let J=XZ(W.selectionPath,$);J.parentKind!=="unknown"&&J.field.value.markAsError(),$.addErrorMessage((Y)=>`Invalid value for selection field \`${Y.red(J.fieldName)}\`: ${W.underlyingError}`)}function mv(W,$){let J=W.argumentPath[0],Y=$.arguments.getDeepSubSelectionValue(W.selectionPath)?.asObject();Y&&(Y.getField(J)?.markAsError(),tv(Y,W.arguments)),$.addErrorMessage((X)=>$Z(X,J,W.arguments.map((Q)=>Q.name)))}function uv(W,$){let[J,Y]=r7(W.argumentPath),X=$.arguments.getDeepSubSelectionValue(W.selectionPath)?.asObject();if(X){X.getDeepField(W.argumentPath)?.markAsError();let Q=X.getDeepFieldValue(J)?.asObject();Q&&QZ(Q,W.inputType)}$.addErrorMessage((Q)=>$Z(Q,Y,W.inputType.fields.map((M)=>M.name)))}function $Z(W,$,J){let Y=[`Unknown argument \`${W.red($)}\`.`],X=Wy($,J);return X&&Y.push(`Did you mean \`${W.green(X)}\`?`),J.length>0&&Y.push(WJ(W)),Y.join(" ")}function lv(W,$){let J;$.addErrorMessage((G)=>J?.value instanceof r5&&J.value.text==="null"?`Argument \`${G.green(Q)}\` must not be ${G.red("null")}.`:`Argument \`${G.green(Q)}\` is missing.`);let Y=$.arguments.getDeepSubSelectionValue(W.selectionPath)?.asObject();if(!Y)return;let[X,Q]=r7(W.argumentPath),M=new eD,H=Y.getDeepFieldValue(X)?.asObject();if(H){if(J=H.getField(Q),J&&H.removeField(Q),W.inputTypes.length===1&&W.inputTypes[0].kind==="object"){for(let G of W.inputTypes[0].fields)M.addField(G.name,G.typeNames.join(" | "));H.addSuggestion(new o8(Q,M).makeRequired())}else{let G=W.inputTypes.map(JZ).join(" | ");H.addSuggestion(new o8(Q,G).makeRequired())}if(W.dependentArgumentPath){Y.getDeepField(W.dependentArgumentPath)?.markAsError();let[,G]=r7(W.dependentArgumentPath);$.addErrorMessage((B)=>`Argument \`${B.green(Q)}\` is required because argument \`${B.green(G)}\` was provided.`)}}}function JZ(W){return W.kind==="list"?`${JZ(W.elementType)}[]`:W.name}function pv(W,$){let J=W.argument.name,Y=$.arguments.getDeepSubSelectionValue(W.selectionPath)?.asObject();Y&&Y.getDeepFieldValue(W.argumentPath)?.markAsError(),$.addErrorMessage((X)=>{let Q=zX("or",W.argument.typeNames.map((M)=>X.green(M)));return`Argument \`${X.bold(J)}\`: Invalid value provided. Expected ${Q}, provided ${X.red(W.inferredType)}.`})}function iv(W,$){let J=W.argument.name,Y=$.arguments.getDeepSubSelectionValue(W.selectionPath)?.asObject();Y&&Y.getDeepFieldValue(W.argumentPath)?.markAsError(),$.addErrorMessage((X)=>{let Q=[`Invalid value for argument \`${X.bold(J)}\``];if(W.underlyingError&&Q.push(`: ${W.underlyingError}`),Q.push("."),W.argument.typeNames.length>0){let M=zX("or",W.argument.typeNames.map((H)=>X.green(H)));Q.push(` Expected ${M}.`)}return Q.join("")})}function nv(W,$){let J=W.argument.name,Y=$.arguments.getDeepSubSelectionValue(W.selectionPath)?.asObject(),X;if(Y){let Q=Y.getDeepField(W.argumentPath)?.value;Q?.markAsError(),Q instanceof r5&&(X=Q.text)}$.addErrorMessage((Q)=>{let M=["Unable to fit value"];return X&&M.push(Q.red(X)),M.push(`into a 64-bit signed integer for field \`${Q.bold(J)}\``),M.join(" ")})}function ov(W,$){let J=W.argumentPath[W.argumentPath.length-1],Y=$.arguments.getDeepSubSelectionValue(W.selectionPath)?.asObject();if(Y){let X=Y.getDeepFieldValue(W.argumentPath)?.asObject();X&&QZ(X,W.inputType)}$.addErrorMessage((X)=>{let Q=[`Argument \`${X.bold(J)}\` of type ${X.bold(W.inputType.name)} needs`];return W.constraints.minFieldCount===1?W.constraints.requiredFields?Q.push(`${X.green("at least one of")} ${zX("or",W.constraints.requiredFields.map((M)=>`\`${X.bold(M)}\``))} arguments.`):Q.push(`${X.green("at least one")} argument.`):Q.push(`${X.green(`at least ${W.constraints.minFieldCount}`)} arguments.`),Q.push(WJ(X)),Q.join(" ")})}function sv(W,$){let J=W.argumentPath[W.argumentPath.length-1],Y=$.arguments.getDeepSubSelectionValue(W.selectionPath)?.asObject(),X=[];if(Y){let Q=Y.getDeepFieldValue(W.argumentPath)?.asObject();Q&&(Q.markAsError(),X=Object.keys(Q.getFields()))}$.addErrorMessage((Q)=>{let M=[`Argument \`${Q.bold(J)}\` of type ${Q.bold(W.inputType.name)} needs`];return W.constraints.minFieldCount===1&&W.constraints.maxFieldCount==1?M.push(`${Q.green("exactly one")} argument,`):W.constraints.maxFieldCount==1?M.push(`${Q.green("at most one")} argument,`):M.push(`${Q.green(`at most ${W.constraints.maxFieldCount}`)} arguments,`),M.push(`but you provided ${zX("and",X.map((H)=>Q.red(H)))}. Please choose`),W.constraints.maxFieldCount===1?M.push("one."):M.push(`${W.constraints.maxFieldCount}.`),M.join(" ")})}function YZ(W,$){for(let J of $.fields)W.hasField(J.name)||W.addSuggestion(new o8(J.name,"true"))}function av(W,$){for(let J of $.fields)J.isRelation&&!W.hasField(J.name)&&W.addSuggestion(new o8(J.name,"true"))}function rv(W,$){for(let J of $.fields)!W.hasField(J.name)&&!J.isRelation&&W.addSuggestion(new o8(J.name,"true"))}function tv(W,$){for(let J of $)W.hasField(J.name)||W.addSuggestion(new o8(J.name,J.typeNames.join(" | ")))}function XZ(W,$){let[J,Y]=r7(W),X=$.arguments.getDeepSubSelectionValue(J)?.asObject();if(!X)return{parentKind:"unknown",fieldName:Y};let Q=X.getFieldValue("select")?.asObject(),M=X.getFieldValue("include")?.asObject(),H=X.getFieldValue("omit")?.asObject(),G=Q?.getField(Y);return Q&&G?{parentKind:"select",parent:Q,field:G,fieldName:Y}:(G=M?.getField(Y),M&&G?{parentKind:"include",field:G,parent:M,fieldName:Y}:(G=H?.getField(Y),H&&G?{parentKind:"omit",field:G,parent:H,fieldName:Y}:{parentKind:"unknown",fieldName:Y}))}function QZ(W,$){if($.kind==="object")for(let J of $.fields)W.hasField(J.name)||W.addSuggestion(new o8(J.name,J.typeNames.join(" | ")))}function r7(W){let $=[...W],J=$.pop();if(!J)throw new Error("unexpected empty path");return[$,J]}function WJ({green:W,enabled:$}){return"Available options are "+($?`listed in ${W("green")}`:"marked with ?")+"."}function zX(W,$){if($.length===1)return $[0];let J=[...$],Y=J.pop();return`${J.join(", ")} ${W} ${Y}`}var ev=3;function Wy(W,$){let J=1/0,Y;for(let X of $){let Q=bv.default(W,X);Q>ev||Q<J&&(J=Q,Y=X)}return Y}var MZ=class{modelName;name;typeName;isList;isEnum;constructor(W,$,J,Y,X){this.modelName=W,this.name=$,this.typeName=J,this.isList=Y,this.isEnum=X}_toGraphQLInputType(){let W=this.isList?"List":"",$=this.isEnum?"Enum":"";return`${W}${$}${this.typeName}FieldRefInput<${this.modelName}>`}};function hH(W){return W instanceof MZ}var aY=Symbol(),lM=new WeakMap,DX=class{constructor(W){W===aY?lM.set(this,`Prisma.${this._getName()}`):lM.set(this,`new Prisma.${this._getNamespace()}.${this._getName()}()`)}_getName(){return this.constructor.name}toString(){return lM.get(this)}},mH=class extends DX{_getNamespace(){return"NullTypes"}},NH=class extends mH{#W};uH(NH,"DbNull");var qH=class extends mH{#W};uH(qH,"JsonNull");var zH=class extends mH{#W};uH(zH,"AnyNull");var K4={classes:{DbNull:NH,JsonNull:qH,AnyNull:zH},instances:{DbNull:new NH(aY),JsonNull:new qH(aY),AnyNull:new zH(aY)}};function uH(W,$){Object.defineProperty(W,"name",{value:$,configurable:!0})}var Pz=": ",$y=class{constructor(W,$){this.name=W,this.value=$}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+Pz.length}write(W){let $=new qX(this.name);this.hasError&&$.underline().setColor(W.context.colors.red),W.write($).write(Pz).write(this.value)}},Jy=class{arguments;errorMessages=[];constructor(W){this.arguments=W}write(W){W.write(this.arguments)}addErrorMessage(W){this.errorMessages.push(W)}renderAllMessages(W){return this.errorMessages.map(($)=>$(W)).join(`
`)}};function lH(W){return new Jy(HZ(W))}function HZ(W){let $=new tD;for(let[J,Y]of Object.entries(W)){let X=new $y(J,GZ(Y));$.addField(X)}return $}function GZ(W){if(typeof W=="string")return new r5(JSON.stringify(W));if(typeof W=="number"||typeof W=="boolean")return new r5(String(W));if(typeof W=="bigint")return new r5(`${W}n`);if(W===null)return new r5("null");if(W===void 0)return new r5("undefined");if(yH(W))return new r5(`new Prisma.Decimal("${W.toFixed()}")`);if(W instanceof Uint8Array)return Buffer.isBuffer(W)?new r5(`Buffer.alloc(${W.byteLength})`):new r5(`new Uint8Array(${W.byteLength})`);if(W instanceof Date){let $=gD(W)?W.toISOString():"Invalid Date";return new r5(`new Date("${$}")`)}return W instanceof DX?new r5(`Prisma.${W._getName()}`):hH(W)?new r5(`prisma.${GX(W.modelName)}.$fields.${W.name}`):Array.isArray(W)?Yy(W):typeof W=="object"?HZ(W):new r5(Object.prototype.toString.call(W))}function Yy(W){let $=new rD;for(let J of W)$.addItem(GZ(J));return $}function BZ(W,$){let J=$==="pretty"?Tv:aD,Y=W.renderAllMessages(J),X=new sD(0,{colors:J}).write(W).toString();return{message:Y,args:X}}function UZ({args:W,errors:$,errorFormat:J,callsite:Y,originalMethod:X,clientVersion:Q,globalOmit:M}){let H=lH(W);for(let A of $)WZ(A,H,M);let{message:G,args:B}=BZ(H,J),w=nD({message:G,callsite:Y,originalMethod:X,showColors:J==="pretty",callArguments:B});throw new R6(w,{clientVersion:Q})}function $J(W){return W.replace(/^./,($)=>$.toLowerCase())}function Xy(W,$,J){let Y=$J(J);return!$.result||!($.result.$allModels||$.result[Y])?W:Qy({...W,...Rz($.name,W,$.result.$allModels),...Rz($.name,W,$.result[Y])})}function Qy(W){let $=new c$,J=(Y,X)=>$.getOrCreate(Y,()=>X.has(Y)?[Y]:(X.add(Y),W[Y]?W[Y].needs.flatMap((Q)=>J(Q,X)):[Y]));return kD(W,(Y)=>({...Y,needs:J(Y.name,new Set)}))}function Rz(W,$,J){return J?kD(J,({needs:Y,compute:X},Q)=>({name:Q,needs:Y?Object.keys(Y).filter((M)=>Y[M]):[],compute:My($,Q,X)})):{}}function My(W,$,J){let Y=W?.[$]?.compute;return Y?(X)=>J({...X,[$]:Y(X)}):J}function Hy(W,$){if(!$)return W;let J={...W};for(let Y of Object.values($))if(W[Y.name])for(let X of Y.needs)J[X]=!0;return J}function Gy(W,$){if(!$)return W;let J={...W};for(let Y of Object.values($))if(!W[Y.name])for(let X of Y.needs)delete J[X];return J}var Iz=class{constructor(W,$){this.extension=W,this.previous=$}computedFieldsCache=new c$;modelExtensionsCache=new c$;queryCallbacksCache=new c$;clientExtensions=Fz(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=Fz(()=>{let W=this.previous?.getAllBatchQueryCallbacks()??[],$=this.extension.query?.$__internalBatch;return $?W.concat($):W});getAllComputedFields(W){return this.computedFieldsCache.getOrCreate(W,()=>Xy(this.previous?.getAllComputedFields(W),this.extension,W))}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(W){return this.modelExtensionsCache.getOrCreate(W,()=>{let $=$J(W);return!this.extension.model||!(this.extension.model[$]||this.extension.model.$allModels)?this.previous?.getAllModelExtensions(W):{...this.previous?.getAllModelExtensions(W),...this.extension.model.$allModels,...this.extension.model[$]}})}getAllQueryCallbacks(W,$){return this.queryCallbacksCache.getOrCreate(`${W}:${$}`,()=>{let J=this.previous?.getAllQueryCallbacks(W,$)??[],Y=[],X=this.extension.query;return!X||!(X[W]||X.$allModels||X[$]||X.$allOperations)?J:(X[W]!==void 0&&(X[W][$]!==void 0&&Y.push(X[W][$]),X[W].$allOperations!==void 0&&Y.push(X[W].$allOperations)),W!=="$none"&&X.$allModels!==void 0&&(X.$allModels[$]!==void 0&&Y.push(X.$allModels[$]),X.$allModels.$allOperations!==void 0&&Y.push(X.$allModels.$allOperations)),X[$]!==void 0&&Y.push(X[$]),X.$allOperations!==void 0&&Y.push(X.$allOperations),J.concat(Y))})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},wZ=class W{constructor($){this.head=$}static empty(){return new W}static single($){return new W(new Iz($))}isEmpty(){return this.head===void 0}append($){return new W(new Iz($,this.head))}getAllComputedFields($){return this.head?.getAllComputedFields($)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions($){return this.head?.getAllModelExtensions($)}getAllQueryCallbacks($,J){return this.head?.getAllQueryCallbacks($,J)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}},By=class{constructor(W){this.name=W}};function Uy(W){return W instanceof By}var AZ=Symbol(),NZ=class{constructor(W){if(W!==AZ)throw new Error("Skip instance can not be constructed directly")}ifUndefined(W){return W===void 0?wy:W}},wy=new NZ(AZ);function Z9(W){return W instanceof NZ}var Ay={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},qZ="explicitly `undefined` values are not allowed";function Ny({modelName:W,action:$,args:J,runtimeDataModel:Y,extensions:X=wZ.empty(),callsite:Q,clientMethod:M,errorFormat:H,clientVersion:G,previewFeatures:B,globalOmit:w}){let A=new jy({runtimeDataModel:Y,modelName:W,action:$,rootArgs:J,callsite:Q,extensions:X,selectionPath:[],argumentPath:[],originalMethod:M,errorFormat:H,clientVersion:G,previewFeatures:B,globalOmit:w});return{modelName:W,action:Ay[$],query:s$(J,A)}}function s$({select:W,include:$,...J}={},Y){let X=J.omit;return delete J.omit,{arguments:DZ(J,Y),selection:qy(W,$,X,Y)}}function qy(W,$,J,Y){return W?($?Y.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:Y.getSelectionPath()}):J&&Y.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:Y.getSelectionPath()}),Sy(W,Y)):zy(Y,$,J)}function zy(W,$,J){let Y={};return W.modelOrType&&!W.isRawAction()&&(Y.$composites=!0,Y.$scalars=!0),$&&Dy(Y,$,W),Zy(Y,J,W),Y}function Dy(W,$,J){for(let[Y,X]of Object.entries($)){if(Z9(X))continue;let Q=J.nestSelection(Y);if(pH(X,Q),X===!1||X===void 0){W[Y]=!1;continue}let M=J.findField(Y);if(M&&M.kind!=="object"&&J.throwValidationError({kind:"IncludeOnScalar",selectionPath:J.getSelectionPath().concat(Y),outputType:J.getOutputTypeDescription()}),M){W[Y]=s$(X===!0?{}:X,Q);continue}if(X===!0){W[Y]=!0;continue}W[Y]=s$(X,Q)}}function Zy(W,$,J){let Y=J.getComputedFields(),X={...J.getGlobalOmit(),...$},Q=Gy(X,Y);for(let[M,H]of Object.entries(Q)){if(Z9(H))continue;pH(H,J.nestSelection(M));let G=J.findField(M);Y?.[M]&&!G||(W[M]=!H)}}function Sy(W,$){let J={},Y=$.getComputedFields(),X=Hy(W,Y);for(let[Q,M]of Object.entries(X)){if(Z9(M))continue;let H=$.nestSelection(Q);pH(M,H);let G=$.findField(Q);if(!(Y?.[Q]&&!G)){if(M===!1||M===void 0||Z9(M)){J[Q]=!1;continue}if(M===!0){G?.kind==="object"?J[Q]=s$({},H):J[Q]=!0;continue}J[Q]=s$(M,H)}}return J}function zZ(W,$){if(W===null)return null;if(typeof W=="string"||typeof W=="number"||typeof W=="boolean")return W;if(typeof W=="bigint")return{$type:"BigInt",value:String(W)};if(fH(W)){if(gD(W))return{$type:"DateTime",value:W.toISOString()};$.throwValidationError({kind:"InvalidArgumentValue",selectionPath:$.getSelectionPath(),argumentPath:$.getArgumentPath(),argument:{name:$.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(Uy(W))return{$type:"Param",value:W.name};if(hH(W))return{$type:"FieldRef",value:{_ref:W.name,_container:W.modelName}};if(Array.isArray(W))return Oy(W,$);if(ArrayBuffer.isView(W)){let{buffer:J,byteOffset:Y,byteLength:X}=W;return{$type:"Bytes",value:Buffer.from(J,Y,X).toString("base64")}}if(_y(W))return W.values;if(yH(W))return{$type:"Decimal",value:W.toFixed()};if(W instanceof DX){if(W!==K4.instances[W._getName()])throw new Error("Invalid ObjectEnumValue");return{$type:"Enum",value:W._getName()}}if(Ly(W))return W.toJSON();if(typeof W=="object")return DZ(W,$);$.throwValidationError({kind:"InvalidArgumentValue",selectionPath:$.getSelectionPath(),argumentPath:$.getArgumentPath(),argument:{name:$.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(W)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}function DZ(W,$){if(W.$type)return{$type:"Raw",value:W};let J={};for(let Y in W){let X=W[Y],Q=$.nestArgument(Y);Z9(X)||(X!==void 0?J[Y]=zZ(X,Q):$.isPreviewFeatureOn("strictUndefinedChecks")&&$.throwValidationError({kind:"InvalidArgumentValue",argumentPath:Q.getArgumentPath(),selectionPath:$.getSelectionPath(),argument:{name:$.getArgumentName(),typeNames:[]},underlyingError:qZ}))}return J}function Oy(W,$){let J=[];for(let Y=0;Y<W.length;Y++){let X=$.nestArgument(String(Y)),Q=W[Y];if(Q===void 0||Z9(Q)){let M=Q===void 0?"undefined":"Prisma.skip";$.throwValidationError({kind:"InvalidArgumentValue",selectionPath:X.getSelectionPath(),argumentPath:X.getArgumentPath(),argument:{name:`${$.getArgumentName()}[${Y}]`,typeNames:[]},underlyingError:`Can not use \`${M}\` value within array. Use \`null\` or filter out \`${M}\` values`})}J.push(zZ(Q,X))}return J}function _y(W){return typeof W=="object"&&W!==null&&W.__prismaRawParameters__===!0}function Ly(W){return typeof W=="object"&&W!==null&&typeof W.toJSON=="function"}function pH(W,$){W===void 0&&$.isPreviewFeatureOn("strictUndefinedChecks")&&$.throwValidationError({kind:"InvalidSelectionValue",selectionPath:$.getSelectionPath(),underlyingError:qZ})}var jy=class W{constructor($){this.params=$,this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError($){UZ({errors:[$],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(($)=>({name:$.name,typeName:"boolean",isRelation:$.kind==="object"}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn($){return this.params.previewFeatures.includes($)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField($){return this.modelOrType?.fields.find((J)=>J.name===$)}nestSelection($){let J=this.findField($),Y=J?.kind==="object"?J.type:void 0;return new W({...this.params,modelName:Y,selectionPath:this.params.selectionPath.concat($)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[GX(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:gH(this.params.action,"Unknown action")}}nestArgument($){return new W({...this.params,argumentPath:this.params.argumentPath.concat($)})}};function xz(W){if(!W._hasPreviewFlag("metrics"))throw new R6("`metrics` preview feature must be enabled in order to access metrics API",{clientVersion:W._clientVersion})}var Fy=class{_client;constructor(W){this._client=W}prometheus(W){return xz(this._client),this._client._engine.metrics({format:"prometheus",...W})}json(W){return xz(this._client),this._client._engine.metrics({format:"json",...W})}};var pM=new WeakMap,XX="$$PrismaTypedSql",Ky=class{constructor(W,$){pM.set(this,{sql:W,values:$}),Object.defineProperty(this,XX,{value:XX})}get sql(){return pM.get(this).sql}get values(){return pM.get(this).values}};function ZZ(W){return W!=null&&W[XX]===XX}var Cy=f2(BD()),WW=class W{constructor($,J){if($.length-1!==J.length)throw $.length===0?new TypeError("Expected at least 1 string"):new TypeError(`Expected ${$.length} strings to have ${$.length-1} values`);let Y=J.reduce((M,H)=>M+(H instanceof W?H.values.length:1),0);this.values=new Array(Y),this.strings=new Array(Y+1),this.strings[0]=$[0];let X=0,Q=0;for(;X<J.length;){let M=J[X++],H=$[X];if(M instanceof W){this.strings[Q]+=M.strings[0];let G=0;for(;G<M.values.length;)this.values[Q++]=M.values[G++],this.strings[Q]=M.strings[G];this.strings[Q]+=H}else this.values[Q++]=M,this.strings[Q]=H}}get sql(){let $=this.strings.length,J=1,Y=this.strings[0];for(;J<$;)Y+=`?${this.strings[J++]}`;return Y}get statement(){let $=this.strings.length,J=1,Y=this.strings[0];for(;J<$;)Y+=`:${J}${this.strings[J++]}`;return Y}get text(){let $=this.strings.length,J=1,Y=this.strings[0];for(;J<$;)Y+=`$${J}${this.strings[J++]}`;return Y}inspect(){return{sql:this.sql,statement:this.statement,text:this.text,values:this.values}}};function SZ(W){return new WW([W],[])}var Py=SZ("");function OZ(W){return{getKeys(){return Object.keys(W)},getPropertyValue($){return W[$]}}}function i8(W,$){return{getKeys(){return[W]},getPropertyValue(){return $()}}}function iH(W){let $=new c$;return{getKeys(){return W.getKeys()},getPropertyValue(J){return $.getOrCreate(J,()=>W.getPropertyValue(J))},getPropertyDescriptor(J){return W.getPropertyDescriptor?.(J)}}}var DH={enumerable:!0,configurable:!0,writable:!0};function _Z(W){let $=new Set(W);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>DH,has:(J,Y)=>$.has(Y),set:(J,Y,X)=>$.add(Y)&&Reflect.set(J,Y,X),ownKeys:()=>[...$]}}var Tz=Symbol.for("nodejs.util.inspect.custom");function t7(W,$){let J=Ry($),Y=new Set,X=new Proxy(W,{get(Q,M){if(Y.has(M))return Q[M];let H=J.get(M);return H?H.getPropertyValue(M):Q[M]},has(Q,M){if(Y.has(M))return!0;let H=J.get(M);return H?H.has?.(M)??!0:Reflect.has(Q,M)},ownKeys(Q){let M=kz(Reflect.ownKeys(Q),J),H=kz(Array.from(J.keys()),J);return[...new Set([...M,...H,...Y])]},set(Q,M,H){return J.get(M)?.getPropertyDescriptor?.(M)?.writable===!1?!1:(Y.add(M),Reflect.set(Q,M,H))},getOwnPropertyDescriptor(Q,M){let H=Reflect.getOwnPropertyDescriptor(Q,M);if(H&&!H.configurable)return H;let G=J.get(M);return G?G.getPropertyDescriptor?{...DH,...G?.getPropertyDescriptor(M)}:DH:H},defineProperty(Q,M,H){return Y.add(M),Reflect.defineProperty(Q,M,H)},getPrototypeOf:()=>Object.prototype});return X[Tz]=function(){let Q={...this};return delete Q[Tz],Q},X}function Ry(W){let $=new Map;for(let J of W){let Y=J.getKeys();for(let X of Y)$.set(X,J)}return $}function kz(W,$){return W.filter((J)=>$.get(J)?.has?.(J)??!0)}function ZH(W){return{getKeys(){return W},has(){return!1},getPropertyValue(){}}}function nH(W,$){return{batch:W,transaction:$?.kind==="batch"?{isolationLevel:$.options.isolationLevel}:void 0}}function Iy(W){if(W===void 0)return"";let $=lH(W);return new sD(0,{colors:aD}).write($).toString()}var xy="P2037";function oH({error:W,user_facing_error:$},J,Y){return $.error_code?new K0(Ty($,Y),{code:$.error_code,clientVersion:J,meta:$.meta,batchRequestIdx:$.batch_request_idx}):new Z2(W,{clientVersion:J,batchRequestIdx:$.batch_request_idx})}function Ty(W,$){let J=W.message;return($==="postgresql"||$==="postgres"||$==="mysql")&&W.error_code===xy&&(J+=`
Prisma Accelerate has built-in connection pooling to prevent such errors: https://pris.ly/client/error-accelerate`),J}var JJ="<unknown>";function ky(W){var $=W.split(`
`);return $.reduce(function(J,Y){var X=vy(Y)||dy(Y)||my(Y)||iy(Y)||ly(Y);return X&&J.push(X),J},[])}var gy=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|rsc|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,fy=/\((\S*)(?::(\d+))(?::(\d+))\)/;function vy(W){var $=gy.exec(W);if(!$)return null;var J=$[2]&&$[2].indexOf("native")===0,Y=$[2]&&$[2].indexOf("eval")===0,X=fy.exec($[2]);return Y&&X!=null&&($[2]=X[1],$[3]=X[2],$[4]=X[3]),{file:J?null:$[2],methodName:$[1]||JJ,arguments:J?[$[2]]:[],lineNumber:$[3]?+$[3]:null,column:$[4]?+$[4]:null}}var yy=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|rsc|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function dy(W){var $=yy.exec(W);return $?{file:$[2],methodName:$[1]||JJ,arguments:[],lineNumber:+$[3],column:$[4]?+$[4]:null}:null}var cy=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|rsc|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,hy=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function my(W){var $=cy.exec(W);if(!$)return null;var J=$[3]&&$[3].indexOf(" > eval")>-1,Y=hy.exec($[3]);return J&&Y!=null&&($[3]=Y[1],$[4]=Y[2],$[5]=null),{file:$[3],methodName:$[1]||JJ,arguments:$[2]?$[2].split(","):[],lineNumber:$[4]?+$[4]:null,column:$[5]?+$[5]:null}}var uy=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function ly(W){var $=uy.exec(W);return $?{file:$[3],methodName:$[1]||JJ,arguments:[],lineNumber:+$[4],column:$[5]?+$[5]:null}:null}var py=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function iy(W){var $=py.exec(W);return $?{file:$[2],methodName:$[1]||JJ,arguments:[],lineNumber:+$[3],column:$[4]?+$[4]:null}:null}var ny=class{getLocation(){return null}},oy=class{_error;constructor(){this._error=new Error}getLocation(){let W=this._error.stack;if(!W)return null;let $=ky(W).find((J)=>{if(!J.file)return!1;let Y=Xf(J.file);return Y!=="<anonymous>"&&!Y.includes("@prisma")&&!Y.includes("/packages/client/src/runtime/")&&!Y.endsWith("/runtime/binary.js")&&!Y.endsWith("/runtime/library.js")&&!Y.endsWith("/runtime/edge.js")&&!Y.endsWith("/runtime/edge-esm.js")&&!Y.startsWith("internal/")&&!J.methodName.includes("new ")&&!J.methodName.includes("getCallSite")&&!J.methodName.includes("Proxy.")&&J.methodName.split(".").length<4});return!$||!$.file?null:{fileName:$.file,lineNumber:$.lineNumber,columnNumber:$.column}}};function h$(W){return W==="minimal"?typeof $EnabledCallSite=="function"&&W!=="minimal"?new $EnabledCallSite:new ny:new oy}var sy={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function QX(W={}){let $=ay(W);return Object.entries($).reduce((J,[Y,X])=>(sy[Y]!==void 0?J.select[Y]={select:X}:J[Y]=X,J),{select:{}})}function ay(W={}){return typeof W._count=="boolean"?{...W,_count:{_all:W._count}}:W}function SH(W={}){return($)=>(typeof W._count=="boolean"&&($._count=$._count._all),$)}function ry(W,$){let J=SH(W);return $({action:"aggregate",unpacker:J,argsMapper:QX})(W)}function ty(W={}){let{select:$,...J}=W;return typeof $=="object"?QX({...J,_count:$}):QX({...J,_count:{_all:!0}})}function ey(W={}){return typeof W.select=="object"?($)=>SH(W)($)._count:($)=>SH(W)($)._count._all}function Wd(W,$){return $({action:"count",unpacker:ey(W),argsMapper:ty})(W)}function $d(W={}){let $=QX(W);if(Array.isArray($.by))for(let J of $.by)typeof J=="string"&&($.select[J]=!0);else typeof $.by=="string"&&($.select[$.by]=!0);return $}function Jd(W={}){return($)=>(typeof W?._count=="boolean"&&$.forEach((J)=>{J._count=J._count._all}),$)}function Yd(W,$){return $({action:"groupBy",unpacker:Jd(W),argsMapper:$d})(W)}function Xd(W,$,J){if($==="aggregate")return(Y)=>ry(Y,J);if($==="count")return(Y)=>Wd(Y,J);if($==="groupBy")return(Y)=>Yd(Y,J)}function Qd(W,$){let J=$.fields.filter((X)=>!X.relationName),Y=Af(J,"name");return new Proxy({},{get(X,Q){if(Q in X||typeof Q=="symbol")return X[Q];let M=Y[Q];if(M)return new MZ(W,Q,M.type,M.isList,M.kind==="enum")},..._Z(Object.keys(Y))})}var LZ=(W)=>Array.isArray(W)?W:W.split("."),jZ=(W,$)=>LZ($).reduce((J,Y)=>J&&J[Y],W),Md=(W,$,J)=>LZ($).reduceRight((Y,X,Q,M)=>Object.assign({},jZ(W,M.slice(0,Q)),{[X]:Y}),J);function Hd(W,$){return W===void 0||$===void 0?[]:[...$,"select",W]}function Gd(W,$,J){return $===void 0?W??{}:Md($,J,W||!0)}function FZ(W,$,J,Y,X,Q){let M=W._runtimeDataModel.models[$].fields.reduce((H,G)=>({...H,[G.name]:G}),{});return(H)=>{let G=h$(W._errorFormat),B=Hd(Y,X),w=Gd(H,Q,B),A=J({dataPath:B,callsite:G})(w),q=Bd(W,$);return new Proxy(A,{get(N,z){if(!q.includes(z))return N[z];let D=[M[z].type,J,z],_=[B,w];return FZ(W,...D,..._)},..._Z([...q,...Object.getOwnPropertyNames(A)])})}}function Bd(W,$){return W._runtimeDataModel.models[$].fields.filter((J)=>J.kind==="object").map((J)=>J.name)}var Ud=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],wd=["aggregate","count","groupBy"];function gz(W,$){let J=W._extensions.getAllModelExtensions($)??{},Y=[Ad(W,$),qd(W,$),OZ(J),i8("name",()=>$),i8("$name",()=>$),i8("$parent",()=>W._appliedParent)];return t7({},Y)}function Ad(W,$){let J=$J($),Y=Object.keys(NX).concat("count");return{getKeys(){return Y},getPropertyValue(X){let Q=X,M=(H)=>(G)=>{let B=h$(W._errorFormat);return W._createPrismaPromise((w)=>{let A={args:G,dataPath:[],action:Q,model:$,clientMethod:`${J}.${X}`,jsModelName:J,transaction:w,callsite:B};return W._request({...A,...H})},{action:Q,args:G,model:$})};return Ud.includes(Q)?FZ(W,$,M):Nd(X)?Xd(W,X,M):M({})}}}function Nd(W){return wd.includes(W)}function qd(W,$){return iH(i8("fields",()=>{let J=W._runtimeDataModel.models[$];return Qd($,J)}))}function zd(W){return W.replace(/^./,($)=>$.toUpperCase())}var OH=Symbol();function _H(W){let $=[Dd(W),Zd(W),i8(OH,()=>W),i8("$parent",()=>W._appliedParent)],J=W._extensions.getAllClientExtensions();return J&&$.push(OZ(J)),t7(W,$)}function Dd(W){let $=Object.getPrototypeOf(W._originalClient),J=[...new Set(Object.getOwnPropertyNames($))];return{getKeys(){return J},getPropertyValue(Y){return W[Y]}}}function Zd(W){let $=Object.keys(W._runtimeDataModel.models),J=$.map($J),Y=[...new Set($.concat(J))];return iH({getKeys(){return Y},getPropertyValue(X){let Q=zd(X);if(W._runtimeDataModel.models[Q]!==void 0)return gz(W,Q);if(W._runtimeDataModel.models[X]!==void 0)return gz(W,X)},getPropertyDescriptor(X){if(!J.includes(X))return{enumerable:!1}}})}function Sd(W){return W[OH]?W[OH]:W}function Od(W){if(typeof W=="function")return W(this);if(W.client?.__AccelerateEngine){let J=W.client.__AccelerateEngine;this._originalClient._engine=new J(this._originalClient._accelerateEngineConfig)}let $=Object.create(this._originalClient,{_extensions:{value:this._extensions.append(W)},_appliedParent:{value:this,configurable:!0},$on:{value:void 0}});return _H($)}function _d({result:W,modelName:$,select:J,omit:Y,extensions:X}){let Q=X.getAllComputedFields($);if(!Q)return W;let M=[],H=[];for(let G of Object.values(Q)){if(Y){if(Y[G.name])continue;let B=G.needs.filter((w)=>Y[w]);B.length>0&&H.push(ZH(B))}else if(J){if(!J[G.name])continue;let B=G.needs.filter((w)=>!J[w]);B.length>0&&H.push(ZH(B))}Ld(W,G.needs)&&M.push(jd(G,t7(W,M)))}return M.length>0||H.length>0?t7(W,[...M,...H]):W}function Ld(W,$){return $.every((J)=>Bf(W,J))}function jd(W,$){return iH(i8(W.name,()=>W.compute($)))}function sH({visitor:W,result:$,args:J,runtimeDataModel:Y,modelName:X}){if(Array.isArray($)){for(let M=0;M<$.length;M++)$[M]=sH({result:$[M],args:J,modelName:X,runtimeDataModel:Y,visitor:W});return $}let Q=W($,X,J)??$;return J.include&&fz({includeOrSelect:J.include,result:Q,parentModelName:X,runtimeDataModel:Y,visitor:W}),J.select&&fz({includeOrSelect:J.select,result:Q,parentModelName:X,runtimeDataModel:Y,visitor:W}),Q}function fz({includeOrSelect:W,result:$,parentModelName:J,runtimeDataModel:Y,visitor:X}){for(let[Q,M]of Object.entries(W)){if(!M||$[Q]==null||Z9(M))continue;let H=Y.models[J].fields.find((B)=>B.name===Q);if(!H||H.kind!=="object"||!H.relationName)continue;let G=typeof M=="object"?M:{};$[Q]=sH({visitor:X,result:$[Q],args:G,modelName:H.type,runtimeDataModel:Y})}}function Fd({result:W,modelName:$,args:J,extensions:Y,runtimeDataModel:X,globalOmit:Q}){return Y.isEmpty()||W==null||typeof W!="object"||!X.models[$]?W:sH({result:W,args:J??{},modelName:$,runtimeDataModel:X,visitor:(M,H,G)=>{let B=$J(H);return _d({result:M,modelName:B,select:G.select,omit:G.select?void 0:{...Q?.[B],...G.omit},extensions:Y})}})}var Kd=["$connect","$disconnect","$on","$transaction","$extends"],Cd=Kd;function Vd(W){if(W instanceof WW)return bd(W);if(ZZ(W))return Ed(W);if(Array.isArray(W)){let J=[W[0]];for(let Y=1;Y<W.length;Y++)J[Y]=m$(W[Y]);return J}let $={};for(let J in W)$[J]=m$(W[J]);return $}function bd(W){return new WW(W.strings,W.values)}function Ed(W){return new Ky(W.sql,W.values)}function m$(W){if(typeof W!="object"||W==null||W instanceof DX||hH(W))return W;if(yH(W))return new AX(W.toFixed());if(fH(W))return new Date(+W);if(ArrayBuffer.isView(W))return W.slice(0);if(Array.isArray(W)){let $=W.length,J;for(J=Array($);$--;)J[$]=m$(W[$]);return J}if(typeof W=="object"){let $={};for(let J in W)J==="__proto__"?Object.defineProperty($,J,{value:m$(W[J]),configurable:!0,enumerable:!0,writable:!0}):$[J]=m$(W[J]);return $}gH(W,"Unknown value")}function KZ(W,$,J,Y=0){return W._createPrismaPromise((X)=>{let Q=$.customDataProxyFetch;return"transaction"in $&&X!==void 0&&($.transaction?.kind==="batch"&&$.transaction.lock.then(),$.transaction=X),Y===J.length?W._executeRequest($):J[Y]({model:$.model,operation:$.model?$.action:$.clientMethod,args:Vd($.args??{}),__internalParams:$,query:(M,H=$)=>{let G=H.customDataProxyFetch;return H.customDataProxyFetch=VZ(Q,G),H.args=M,KZ(W,H,J,Y+1)}})})}function Pd(W,$){let{jsModelName:J,action:Y,clientMethod:X}=$,Q=J?Y:X;if(W._extensions.isEmpty())return W._executeRequest($);let M=W._extensions.getAllQueryCallbacks(J??"$none",Q);return KZ(W,$,M)}function Rd(W){return($)=>{let J={requests:$},Y=$[0].extensions.getAllBatchQueryCallbacks();return Y.length?CZ(J,Y,0,W):W(J)}}function CZ(W,$,J,Y){if(J===$.length)return Y(W);let X=W.customDataProxyFetch,Q=W.requests[0].transaction;return $[J]({args:{queries:W.requests.map((M)=>({model:M.modelName,operation:M.action,args:M.args})),transaction:Q?{isolationLevel:Q.kind==="batch"?Q.isolationLevel:void 0}:void 0},__internalParams:W,query(M,H=W){let G=H.customDataProxyFetch;return H.customDataProxyFetch=VZ(X,G),CZ(H,$,J+1,Y)}})}var vz=(W)=>W;function VZ(W=vz,$=vz){return(J)=>W($(J))}var yz=t5("prisma:client"),dz={Vercel:"vercel","Netlify CI":"netlify"};function Id({postinstall:W,ciName:$,clientVersion:J,generator:Y}){if(yz("checkPlatformCaching:postinstall",W),yz("checkPlatformCaching:ciName",$),W===!0&&!(Y?.output&&typeof(Y.output.fromEnvVar??Y.output.value)=="string")&&$&&$ in dz){let X=`Prisma has detected that this project was built on ${$}, which caches dependencies. This leads to an outdated Prisma Client because Prisma's auto-generation isn't triggered. To fix this, make sure to run the \`prisma generate\` command during the build process.

Learn how: https://pris.ly/d/${dz[$]}-build`;throw console.error(X),new d1(X,J)}}function xd(W,$){return W?W.datasources?W.datasources:W.datasourceUrl?{[$[0]]:{url:W.datasourceUrl}}:{}:{}}function bZ(W){let{runtimeBinaryTarget:$}=W;return`Add "${$}" to \`binaryTargets\` in the "schema.prisma" file and run \`prisma generate\` after saving it:

${kd(W)}`}function kd(W){let{generator:$,generatorBinaryTargets:J,runtimeBinaryTarget:Y}=W,X={fromEnvVar:null,value:Y},Q=[...J,X];return ng({...$,binaryTargets:Q})}function ZX(W){let{runtimeBinaryTarget:$}=W;return`Prisma Client could not locate the Query Engine for runtime "${$}".`}function SX(W){let{searchedLocations:$}=W;return`The following locations have been searched:
${[...new Set($)].map((J)=>`  ${J}`).join(`
`)}`}function gd(W){let{runtimeBinaryTarget:$}=W;return`${ZX(W)}

This happened because \`binaryTargets\` have been pinned, but the actual deployment also required "${$}".
${bZ(W)}

${SX(W)}`}function EZ(W){return`We would appreciate if you could take the time to share some information with us.
Please help us by answering a few questions: https://pris.ly/${W}`}function PZ(W){let{errorStack:$}=W;return $?.match(/\/\.next|\/next@|\/next\//)?`

We detected that you are using Next.js, learn how to fix this: https://pris.ly/d/engine-not-found-nextjs.`:""}function fd(W){let{queryEngineName:$}=W;return`${ZX(W)}${PZ(W)}

This is likely caused by a bundler that has not copied "${$}" next to the resulting bundle.
Ensure that "${$}" has been copied next to the bundle or in "${W.expectedLocation}".

${EZ("engine-not-found-bundler-investigation")}

${SX(W)}`}function vd(W){let{runtimeBinaryTarget:$,generatorBinaryTargets:J}=W,Y=J.find((X)=>X.native);return`${ZX(W)}

This happened because Prisma Client was generated for "${Y?.value??"unknown"}", but the actual deployment required "${$}".
${bZ(W)}

${SX(W)}`}function yd(W){let{queryEngineName:$}=W;return`${ZX(W)}${PZ(W)}

This is likely caused by tooling that has not copied "${$}" to the deployment folder.
Ensure that you ran \`prisma generate\` and that "${$}" has been copied to "${W.expectedLocation}".

${EZ("engine-not-found-tooling-investigation")}

${SX(W)}`}var dd=t5("prisma:client:engines:resolveEnginePath"),cd=()=>new RegExp("runtime[\\\\/]library\\.m?js$");async function hd(W,$){let J={binary:J0.env.PRISMA_QUERY_ENGINE_BINARY,library:J0.env.PRISMA_QUERY_ENGINE_LIBRARY}[W]??$.prismaPath;if(J!==void 0)return J;let{enginePath:Y,searchedLocations:X}=await md(W,$);if(dd("enginePath",Y),Y!==void 0&&W==="binary"&&cg(Y),Y!==void 0)return $.prismaPath=Y;let Q=await RH(),M=$.generator?.binaryTargets??[],H=M.some((q)=>q.native),G=!M.some((q)=>q.value===Q),B=CH.match(cd())===null,w={searchedLocations:X,generatorBinaryTargets:M,generator:$.generator,runtimeBinaryTarget:Q,queryEngineName:RZ(W,Q),expectedLocation:rY.relative(J0.cwd(),$.dirname),errorStack:new Error().stack},A;throw H&&G?A=vd(w):G?A=gd(w):B?A=fd(w):A=yd(w),new d1(A,$.clientVersion)}async function md(W,$){let J=await RH(),Y=[],X=[$.dirname,rY.resolve(__dirname,".."),$.generator?.output?.value??__dirname,rY.resolve(__dirname,"../../../.prisma/client"),"/tmp/prisma-engines",$.cwd];CH.includes("resolveEnginePath")&&X.push(dg());for(let Q of X){let M=RZ(W,J),H=rY.join(Q,M);if(Y.push(Q),Td.existsSync(H))return{enginePath:H,searchedLocations:Y}}return{enginePath:void 0,searchedLocations:Y}}function RZ(W,$){return W==="library"?xk($,"fs"):`query-engine-${$}${$==="windows"?".exe":""}`}function ud(W){return W?W.replace(/".*"/g,'"X"').replace(/[\s:\[]([+-]?([0-9]*[.])?[0-9]+)/g,($)=>`${$[0]}5`):""}function ld(W){return W.split(`
`).map(($)=>$.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`)}var pd=f2(eT());function id({title:W,user:$="prisma",repo:J="prisma",template:Y="bug_report.yml",body:X}){return pd.default({user:$,repo:J,template:Y,title:W,body:X})}function nd({version:W,binaryTarget:$,title:J,description:Y,engineVersion:X,database:Q,query:M}){let H=bk(6000-(M?.length??0)),G=ld(MH(H)),B=Y?`# Description
\`\`\`
${Y}
\`\`\``:"",w=MH(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name            | Version            |
|-----------------|--------------------|
| Node            | ${J0.version?.padEnd(19)}| 
| OS              | ${$?.padEnd(19)}|
| Prisma Client   | ${W?.padEnd(19)}|
| Query Engine    | ${X?.padEnd(19)}|
| Database        | ${Q?.padEnd(19)}|

${B}

## Logs
\`\`\`
${G}
\`\`\`

## Client Snippet
\`\`\`ts
// PLEASE FILL YOUR CODE SNIPPET HERE
\`\`\`

## Schema
\`\`\`prisma
// PLEASE ADD YOUR SCHEMA HERE IF POSSIBLE
\`\`\`

## Prisma Engine Query
\`\`\`
${M?ud(M):""}
\`\`\`
`),A=id({title:J,body:w});return`${J}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${k2(A)}

If you want the Prisma team to look into it, please open the link above \uD83D\uDE4F
To increase the chance of success, please post your schema and a snippet of
how you used Prisma Client in the issue. 
`}function od(W,$){throw new Error($)}function sd(W){return W!==null&&typeof W=="object"&&typeof W.$type=="string"}function ad(W,$){let J={};for(let Y of Object.keys(W))J[Y]=$(W[Y],Y);return J}function LH(W){return W===null?W:Array.isArray(W)?W.map(LH):typeof W=="object"?sd(W)?rd(W):W.constructor!==null&&W.constructor.name!=="Object"?W:ad(W,LH):W}function rd({$type:W,value:$}){switch(W){case"BigInt":return BigInt($);case"Bytes":{let{buffer:J,byteOffset:Y,byteLength:X}=Buffer.from($,"base64");return new Uint8Array(J,Y,X)}case"DateTime":return new Date($);case"Decimal":return new S9($);case"Json":return JSON.parse($);default:od($,"Unknown tagged value")}}var td="6.16.2",ed=()=>globalThis.process?.release?.name==="node",Wc=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,$c=()=>!!globalThis.Deno,Jc=()=>typeof globalThis.Netlify=="object",Yc=()=>typeof globalThis.EdgeRuntime=="object",Xc=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers";function Qc(){return[[Jc,"netlify"],[Yc,"edge-light"],[Xc,"workerd"],[$c,"deno"],[Wc,"bun"],[ed,"node"]].flatMap((W)=>W[0]()?[W[1]]:[]).at(0)??""}var Mc={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function Hc(){let W=Qc();return{id:W,prettyName:Mc[W]||W,isEdge:["workerd","deno","netlify","edge-light"].includes(W)}}function aH({inlineDatasources:W,overrideDatasources:$,env:J,clientVersion:Y}){let X,Q=Object.keys(W)[0],M=W[Q]?.url,H=$[Q]?.url;if(Q===void 0?X=void 0:H?X=H:M?.value?X=M.value:M?.fromEnvVar&&(X=J[M.fromEnvVar]),M?.fromEnvVar!==void 0&&X===void 0)throw new d1(`error: Environment variable not found: ${M.fromEnvVar}.`,Y);if(X===void 0)throw new d1("error: Missing URL environment variable, value, or override.",Y);return X}var Gc=class extends Error{clientVersion;cause;constructor(W,$){super(W),this.clientVersion=$.clientVersion,this.cause=$.cause}get[Symbol.toStringTag](){return this.name}},$W=class extends Gc{isRetryable;constructor(W,$){super(W,$),this.isRetryable=$.isRetryable??!0}};function E5(W,$){return{...W,isRetryable:$}}var tY=class extends $W{name="InvalidDatasourceError";code="P6001";constructor(W,$){super(W,E5($,!1))}};x1(tY,"InvalidDatasourceError");function Bc(W){let $={clientVersion:W.clientVersion},J=Object.keys(W.inlineDatasources)[0],Y=aH({inlineDatasources:W.inlineDatasources,overrideDatasources:W.overrideDatasources,clientVersion:W.clientVersion,env:{...W.env,...typeof J0<"u"?J0.env:{}}}),X;try{X=new URL(Y)}catch{throw new tY(`Error validating datasource \`${J}\`: the URL must start with the protocol \`prisma://\``,$)}let{protocol:Q,searchParams:M}=X;if(Q!=="prisma:"&&Q!==ED)throw new tY(`Error validating datasource \`${J}\`: the URL must start with the protocol \`prisma://\` or \`prisma+postgres://\``,$);let H=M.get("api_key");if(H===null||H.length<1)throw new tY(`Error validating datasource \`${J}\`: the URL must contain a valid API key`,$);let G=pg(X)?"http:":"https:";J0.env.TEST_CLIENT_ENGINE_REMOTE_EXECUTOR&&X.searchParams.has("use_http")&&(G="http:");let B=new URL(X.href.replace(Q,G));return{apiKey:H,url:B}}var Uc=f2(bH()),wc=class{apiKey;tracingHelper;logLevel;logQueries;engineHash;constructor({apiKey:W,tracingHelper:$,logLevel:J,logQueries:Y,engineHash:X}){this.apiKey=W,this.tracingHelper=$,this.logLevel=J,this.logQueries=Y,this.engineHash=X}build({traceparent:W,transactionId:$}={}){let J={Accept:"application/json",Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","Prisma-Engine-Hash":this.engineHash,"Prisma-Engine-Version":Uc.enginesVersion};this.tracingHelper.isEnabled()&&(J.traceparent=W??this.tracingHelper.getTraceParent()),$&&(J["X-Transaction-Id"]=$);let Y=this.#W();return Y.length>0&&(J["X-Capture-Telemetry"]=Y.join(", ")),J}#W(){let W=[];return this.tracingHelper.isEnabled()&&W.push("tracing"),this.logLevel&&W.push(this.logLevel),this.logQueries&&W.push("query"),W}};function Ac(W){return W[0]*1000+W[1]/1e6}function cz(W){return new Date(Ac(W))}var jH=class extends $W{name="ForcedRetryError";code="P5001";constructor(W){super("This request must be retried",E5(W,!0))}};x1(jH,"ForcedRetryError");var rH=class extends $W{name="NotImplementedYetError";code="P5004";constructor(W,$){super(W,E5($,!1))}};x1(rH,"NotImplementedYetError");var y2=class extends $W{response;constructor(W,$){super(W,$),this.response=$.response;let J=this.response.headers.get("prisma-request-id");if(J){let Y=`(The request id was: ${J})`;this.message=this.message+" "+Y}}},tH=class extends y2{name="SchemaMissingError";code="P5005";constructor(W){super("Schema needs to be uploaded",E5(W,!0))}};x1(tH,"SchemaMissingError");var IZ="This request could not be understood by the server",xZ=class extends y2{name="BadRequestError";code="P5000";constructor(W,$,J){super($||IZ,E5(W,!1)),J&&(this.code=J)}};x1(xZ,"BadRequestError");var TZ=class extends y2{name="HealthcheckTimeoutError";code="P5013";logs;constructor(W,$){super("Engine not started: healthcheck timeout",E5(W,!0)),this.logs=$}};x1(TZ,"HealthcheckTimeoutError");var kZ=class extends y2{name="EngineStartupError";code="P5014";logs;constructor(W,$,J){super($,E5(W,!0)),this.logs=J}};x1(kZ,"EngineStartupError");var gZ=class extends y2{name="EngineVersionNotSupportedError";code="P5012";constructor(W){super("Engine version is not supported",E5(W,!1))}};x1(gZ,"EngineVersionNotSupportedError");var fZ="Request timed out",vZ=class extends y2{name="GatewayTimeoutError";code="P5009";constructor(W,$=fZ){super($,E5(W,!1))}};x1(vZ,"GatewayTimeoutError");var Nc="Interactive transaction error",yZ=class extends y2{name="InteractiveTransactionError";code="P5015";constructor(W,$=Nc){super($,E5(W,!1))}};x1(yZ,"InteractiveTransactionError");var qc="Request parameters are invalid",dZ=class extends y2{name="InvalidRequestError";code="P5011";constructor(W,$=qc){super($,E5(W,!1))}};x1(dZ,"InvalidRequestError");var cZ="Requested resource does not exist",hZ=class extends y2{name="NotFoundError";code="P5003";constructor(W,$=cZ){super($,E5(W,!1))}};x1(hZ,"NotFoundError");var mZ="Unknown server error",FH=class extends y2{name="ServerError";code="P5006";logs;constructor(W,$,J){super($||mZ,E5(W,!0)),this.logs=J}};x1(FH,"ServerError");var uZ="Unauthorized, check your connection string",lZ=class extends y2{name="UnauthorizedError";code="P5007";constructor(W,$=uZ){super($,E5(W,!1))}};x1(lZ,"UnauthorizedError");var pZ="Usage exceeded, retry again later",iZ=class extends y2{name="UsageExceededError";code="P5008";constructor(W,$=pZ){super($,E5(W,!0))}};x1(iZ,"UsageExceededError");async function zc(W){let $;try{$=await W.text()}catch{return{type:"EmptyError"}}try{let J=JSON.parse($);if(typeof J=="string")switch(J){case"InternalDataProxyError":return{type:"DataProxyError",body:J};default:return{type:"UnknownTextError",body:J}}if(typeof J=="object"&&J!==null){if("is_panic"in J&&"message"in J&&"error_code"in J)return{type:"QueryEngineError",body:J};if("EngineNotStarted"in J||"InteractiveTransactionMisrouted"in J||"InvalidRequestError"in J){let Y=Object.values(J)[0].reason;return typeof Y=="string"&&!["SchemaMissing","EngineVersionNotSupported"].includes(Y)?{type:"UnknownJsonError",body:J}:{type:"DataProxyError",body:J}}}return{type:"UnknownJsonError",body:J}}catch{return $===""?{type:"EmptyError"}:{type:"UnknownTextError",body:$}}}async function iY(W,$){if(W.ok)return;let J={clientVersion:$,response:W},Y=await zc(W);if(Y.type==="QueryEngineError")throw new K0(Y.body.message,{code:Y.body.error_code,clientVersion:$});if(Y.type==="DataProxyError"){if(Y.body==="InternalDataProxyError")throw new FH(J,"Internal Data Proxy error");if("EngineNotStarted"in Y.body){if(Y.body.EngineNotStarted.reason==="SchemaMissing")return new tH(J);if(Y.body.EngineNotStarted.reason==="EngineVersionNotSupported")throw new gZ(J);if("EngineStartupError"in Y.body.EngineNotStarted.reason){let{msg:X,logs:Q}=Y.body.EngineNotStarted.reason.EngineStartupError;throw new kZ(J,X,Q)}if("KnownEngineStartupError"in Y.body.EngineNotStarted.reason){let{msg:X,error_code:Q}=Y.body.EngineNotStarted.reason.KnownEngineStartupError;throw new d1(X,$,Q)}if("HealthcheckTimeout"in Y.body.EngineNotStarted.reason){let{logs:X}=Y.body.EngineNotStarted.reason.HealthcheckTimeout;throw new TZ(J,X)}}if("InteractiveTransactionMisrouted"in Y.body)throw new yZ(J,{IDParseError:"Could not parse interactive transaction ID",NoQueryEngineFoundError:"Could not find Query Engine for the specified host and transaction ID",TransactionStartError:"Could not start interactive transaction"}[Y.body.InteractiveTransactionMisrouted.reason]);if("InvalidRequestError"in Y.body)throw new dZ(J,Y.body.InvalidRequestError.reason)}if(W.status===401||W.status===403)throw new lZ(J,l7(uZ,Y));if(W.status===404)return new hZ(J,l7(cZ,Y));if(W.status===429)throw new iZ(J,l7(pZ,Y));if(W.status===504)throw new vZ(J,l7(fZ,Y));if(W.status>=500)throw new FH(J,l7(mZ,Y));if(W.status>=400)throw new xZ(J,l7(IZ,Y))}function l7(W,$){return $.type==="EmptyError"?W:`${W}: ${JSON.stringify($)}`}function Dc(W){let $=Math.pow(2,W)*50,J=Math.ceil(Math.random()*$)-Math.ceil($/2),Y=$+J;return new Promise((X)=>setTimeout(()=>X(Y),Y))}var E6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Zc(W){let $=new TextEncoder().encode(W),J="",Y=$.byteLength,X=Y%3,Q=Y-X,M,H,G,B,w;for(let A=0;A<Q;A=A+3)w=$[A]<<16|$[A+1]<<8|$[A+2],M=(w&16515072)>>18,H=(w&258048)>>12,G=(w&4032)>>6,B=w&63,J+=E6[M]+E6[H]+E6[G]+E6[B];return X==1?(w=$[Q],M=(w&252)>>2,H=(w&3)<<4,J+=E6[M]+E6[H]+"=="):X==2&&(w=$[Q]<<8|$[Q+1],M=(w&64512)>>10,H=(w&1008)>>4,G=(w&15)<<2,J+=E6[M]+E6[H]+E6[G]+"="),J}function Sc(W){if(W.generator?.previewFeatures.some(($)=>$.toLowerCase().includes("metrics")))throw new d1("The `metrics` preview feature is not yet available with Accelerate.\nPlease remove `metrics` from the `previewFeatures` in your schema.\n\nMore information about Accelerate: https://pris.ly/d/accelerate",W.clientVersion)}var Oc={"@prisma/debug":"workspace:*","@prisma/engines-version":"6.16.0-7.1c57fdcd7e44b29b9313256c76699e91c3ac3c43","@prisma/fetch-engine":"workspace:*","@prisma/get-platform":"workspace:*"},nZ=class extends $W{name="RequestError";code="P5010";constructor(W,$){super(`Cannot fetch data from service:
${W}`,E5($,!0))}};x1(nZ,"RequestError");async function f$(W,$,J=(Y)=>Y){let{clientVersion:Y,...X}=$,Q=J(fetch);try{return await Q(W,X)}catch(M){let H=M.message??"Unknown error";throw new nZ(H,{clientVersion:Y,cause:M})}}var _c=/^[1-9][0-9]*\.[0-9]+\.[0-9]+$/,oZ=t5("prisma:client:dataproxyEngine");async function Lc(W,$){let J=Oc["@prisma/engines-version"],Y=$.clientVersion??"unknown";if(J0.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION)return J0.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION;if(W.includes("accelerate")&&Y!=="0.0.0"&&Y!=="in-memory")return Y;let[X,Q]=Y?.split("-")??[];if(Q===void 0&&_c.test(X))return X;if(Q!==void 0||Y==="0.0.0"||Y==="in-memory"){let[M]=J.split("-")??[],[H,G,B]=M.split("."),w=Fc(`<=${H}.${G}.${B}`),A=await f$(w,{clientVersion:Y});if(!A.ok)throw new Error(`Failed to fetch stable Prisma version, unpkg.com status ${A.status} ${A.statusText}, response body: ${await A.text()||"<empty body>"}`);let q=await A.text();oZ("length of body fetched from unpkg.com",q.length);let N;try{N=JSON.parse(q)}catch(z){throw console.error("JSON.parse error: body fetched from unpkg.com: ",q),z}return N.version}throw new rH("Only `major.minor.patch` versions are supported by Accelerate.",{clientVersion:Y})}async function jc(W,$){let J=await Lc(W,$);return oZ("version",J),J}function Fc(W){return encodeURI(`https://unpkg.com/prisma@${W}/package.json`)}var hz=3,T$=t5("prisma:client:dataproxyEngine"),Kc=class{name="DataProxyEngine";inlineSchema;inlineSchemaHash;inlineDatasources;config;logEmitter;env;clientVersion;engineHash;tracingHelper;remoteClientVersion;host;headerBuilder;startPromise;protocol;constructor(W){Sc(W),this.config=W,this.env=W.env,this.inlineSchema=Zc(W.inlineSchema),this.inlineDatasources=W.inlineDatasources,this.inlineSchemaHash=W.inlineSchemaHash,this.clientVersion=W.clientVersion,this.engineHash=W.engineVersion,this.logEmitter=W.logEmitter,this.tracingHelper=W.tracingHelper}apiKey(){return this.headerBuilder.apiKey}version(){return this.engineHash}async start(){this.startPromise!==void 0&&await this.startPromise,this.startPromise=(async()=>{let{apiKey:W,url:$}=this.getURLAndAPIKey();this.host=$.host,this.protocol=$.protocol,this.headerBuilder=new wc({apiKey:W,tracingHelper:this.tracingHelper,logLevel:this.config.logLevel??"error",logQueries:this.config.logQueries,engineHash:this.engineHash}),this.remoteClientVersion=await jc(this.host,this.config),T$("host",this.host),T$("protocol",this.protocol)})(),await this.startPromise}async stop(){}propagateResponseExtensions(W){W?.logs?.length&&W.logs.forEach(($)=>{switch($.level){case"debug":case"trace":T$($);break;case"error":case"warn":case"info":{this.logEmitter.emit($.level,{timestamp:cz($.timestamp),message:$.attributes.message??"",target:$.target??"BinaryEngine"});break}case"query":{this.logEmitter.emit("query",{query:$.attributes.query??"",timestamp:cz($.timestamp),duration:$.attributes.duration_ms??0,params:$.attributes.params??"",target:$.target??"BinaryEngine"});break}default:$.level}}),W?.traces?.length&&this.tracingHelper.dispatchEngineSpans(W.traces)}onBeforeExit(){throw new Error('"beforeExit" hook is not applicable to the remote query engine')}async url(W){return await this.start(),`${this.protocol}//${this.host}/${this.remoteClientVersion}/${this.inlineSchemaHash}/${W}`}async uploadSchema(){let W={name:"schemaUpload",internal:!0};return this.tracingHelper.runInChildSpan(W,async()=>{let $=await f$(await this.url("schema"),{method:"PUT",headers:this.headerBuilder.build(),body:this.inlineSchema,clientVersion:this.clientVersion});$.ok||T$("schema response status",$.status);let J=await iY($,this.clientVersion);if(J)throw this.logEmitter.emit("warn",{message:`Error while uploading schema: ${J.message}`,timestamp:new Date,target:""}),J;this.logEmitter.emit("info",{message:`Schema (re)uploaded (hash: ${this.inlineSchemaHash})`,timestamp:new Date,target:""})})}request(W,{traceparent:$,interactiveTransaction:J,customDataProxyFetch:Y}){return this.requestInternal({body:W,traceparent:$,interactiveTransaction:J,customDataProxyFetch:Y})}async requestBatch(W,{traceparent:$,transaction:J,customDataProxyFetch:Y}){let X=J?.kind==="itx"?J.options:void 0,Q=nH(W,J);return(await this.requestInternal({body:Q,customDataProxyFetch:Y,interactiveTransaction:X,traceparent:$})).map((M)=>(M.extensions&&this.propagateResponseExtensions(M.extensions),("errors"in M)?this.convertProtocolErrorsToClientError(M.errors):M))}requestInternal({body:W,traceparent:$,customDataProxyFetch:J,interactiveTransaction:Y}){return this.withRetry({actionGerund:"querying",callback:async({logHttpCall:X})=>{let Q=Y?`${Y.payload.endpoint}/graphql`:await this.url("graphql");X(Q);let M=await f$(Q,{method:"POST",headers:this.headerBuilder.build({traceparent:$,transactionId:Y?.id}),body:JSON.stringify(W),clientVersion:this.clientVersion},J);M.ok||T$("graphql response status",M.status),await this.handleError(await iY(M,this.clientVersion));let H=await M.json();if(H.extensions&&this.propagateResponseExtensions(H.extensions),"errors"in H)throw this.convertProtocolErrorsToClientError(H.errors);return"batchResult"in H?H.batchResult:H}})}async transaction(W,$,J){let Y={start:"starting",commit:"committing",rollback:"rolling back"};return this.withRetry({actionGerund:`${Y[W]} transaction`,callback:async({logHttpCall:X})=>{if(W==="start"){let Q=JSON.stringify({max_wait:J.maxWait,timeout:J.timeout,isolation_level:J.isolationLevel}),M=await this.url("transaction/start");X(M);let H=await f$(M,{method:"POST",headers:this.headerBuilder.build({traceparent:$.traceparent}),body:Q,clientVersion:this.clientVersion});await this.handleError(await iY(H,this.clientVersion));let G=await H.json(),{extensions:B}=G;B&&this.propagateResponseExtensions(B);let w=G.id,A=G["data-proxy"].endpoint;return{id:w,payload:{endpoint:A}}}else{let Q=`${J.payload.endpoint}/${W}`;X(Q);let M=await f$(Q,{method:"POST",headers:this.headerBuilder.build({traceparent:$.traceparent}),clientVersion:this.clientVersion});await this.handleError(await iY(M,this.clientVersion));let H=await M.json(),{extensions:G}=H;G&&this.propagateResponseExtensions(G);return}}})}getURLAndAPIKey(){return Bc({clientVersion:this.clientVersion,env:this.env,inlineDatasources:this.inlineDatasources,overrideDatasources:this.config.overrideDatasources})}metrics(){throw new rH("Metrics are not yet supported for Accelerate",{clientVersion:this.clientVersion})}async withRetry(W){for(let $=0;;$++){let J=(Y)=>{this.logEmitter.emit("info",{message:`Calling ${Y} (n=${$})`,timestamp:new Date,target:""})};try{return await W.callback({logHttpCall:J})}catch(Y){if(!(Y instanceof $W)||!Y.isRetryable)throw Y;if($>=hz)throw Y instanceof jH?Y.cause:Y;this.logEmitter.emit("warn",{message:`Attempt ${$+1}/${hz} failed for ${W.actionGerund}: ${Y.message??"(unknown)"}`,timestamp:new Date,target:""});let X=await Dc($);this.logEmitter.emit("warn",{message:`Retrying after ${X}ms`,timestamp:new Date,target:""})}}}async handleError(W){if(W instanceof tH)throw await this.uploadSchema(),new jH({clientVersion:this.clientVersion,cause:W});if(W)throw W}convertProtocolErrorsToClientError(W){return W.length===1?oH(W[0],this.config.clientVersion,this.config.activeProvider):new Z2(JSON.stringify(W),{clientVersion:this.config.clientVersion})}applyPendingMigrations(){throw new Error("Method not implemented.")}};function Cc(W){if(W?.kind==="itx")return W.options.id}var nM=Symbol("PrismaLibraryEngineCache");function bc(){let W=globalThis;return W[nM]===void 0&&(W[nM]={}),W[nM]}function Ec(W){let $=bc();if($[W]!==void 0)return $[W];let J=Vc.toNamespacedPath(W),Y={exports:{}},X=0;return J0.platform!=="win32"&&(X=mz.constants.dlopen.RTLD_LAZY|mz.constants.dlopen.RTLD_DEEPBIND),J0.dlopen(Y,J,X),$[W]=Y.exports,Y.exports}var Pc={async loadLibrary(W){let $=await tk(),J=await hd("library",W);try{return W.tracingHelper.runInChildSpan({name:"loadLibrary",internal:!0},()=>Ec(J))}catch(Y){let X=hg({e:Y,platformInfo:$,id:J});throw new d1(X,W.clientVersion)}}},oM,Rc={async loadLibrary(W){let{clientVersion:$,adapter:J,engineWasm:Y}=W;if(J===void 0)throw new d1(`The \`adapter\` option for \`PrismaClient\` is required in this context (${Hc().prettyName})`,$);if(Y===void 0)throw new d1("WASM engine was unexpectedly `undefined`",$);oM===void 0&&(oM=(async()=>{let Q=await Y.getRuntime(),M=await Y.getQueryEngineWasmModule();if(M==null)throw new d1("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",$);let H={"./query_engine_bg.js":Q},G=new WebAssembly.Instance(M,H),B=G.exports.__wbindgen_start;return Q.__wbg_set_wasm(G.exports),B(),Q.QueryEngine})());let X=await oM;return{debugPanic(){return Promise.reject("{}")},dmmf(){return Promise.resolve("{}")},version(){return{commit:"unknown",version:"unknown"}},QueryEngine:X}}},Ic="P2036",c8=t5("prisma:client:libraryEngine");function xc(W){return W.item_type==="query"&&"query"in W}function Tc(W){return"level"in W?W.level==="error"&&W.message==="PANIC":!1}var uz=[...Ik,"native"],kc=0xffffffffffffffffn,sM=1n;function gc(){let W=sM++;return sM>kc&&(sM=1n),W}var lz=class{name="LibraryEngine";engine;libraryInstantiationPromise;libraryStartingPromise;libraryStoppingPromise;libraryStarted;executingQueryPromise;config;QueryEngineConstructor;libraryLoader;library;logEmitter;libQueryEnginePath;binaryTarget;datasourceOverrides;datamodel;logQueries;logLevel;lastQuery;loggerRustPanic;tracingHelper;adapterPromise;versionInfo;constructor(W,$){this.libraryLoader=$??Pc,W.engineWasm!==void 0&&(this.libraryLoader=$??Rc),this.config=W,this.libraryStarted=!1,this.logQueries=W.logQueries??!1,this.logLevel=W.logLevel??"error",this.logEmitter=W.logEmitter,this.datamodel=W.inlineSchema,this.tracingHelper=W.tracingHelper,W.enableDebugLogs&&(this.logLevel="debug");let J=Object.keys(W.overrideDatasources)[0],Y=W.overrideDatasources[J]?.url;J!==void 0&&Y!==void 0&&(this.datasourceOverrides={[J]:Y}),this.libraryInstantiationPromise=this.instantiateLibrary()}wrapEngine(W){return{applyPendingMigrations:W.applyPendingMigrations?.bind(W),commitTransaction:this.withRequestId(W.commitTransaction.bind(W)),connect:this.withRequestId(W.connect.bind(W)),disconnect:this.withRequestId(W.disconnect.bind(W)),metrics:W.metrics?.bind(W),query:this.withRequestId(W.query.bind(W)),rollbackTransaction:this.withRequestId(W.rollbackTransaction.bind(W)),sdlSchema:W.sdlSchema?.bind(W),startTransaction:this.withRequestId(W.startTransaction.bind(W)),trace:W.trace.bind(W),free:W.free?.bind(W)}}withRequestId(W){return async(...$)=>{let J=gc().toString();try{return await W(...$,J)}finally{if(this.tracingHelper.isEnabled()){let Y=await this.engine?.trace(J);if(Y){let X=JSON.parse(Y);this.tracingHelper.dispatchEngineSpans(X.spans)}}}}}async applyPendingMigrations(){throw new Error("Cannot call this method from this type of engine instance")}async transaction(W,$,J){await this.start();let Y=await this.adapterPromise,X=JSON.stringify($),Q;if(W==="start"){let H=JSON.stringify({max_wait:J.maxWait,timeout:J.timeout,isolation_level:J.isolationLevel});Q=await this.engine?.startTransaction(H,X)}else W==="commit"?Q=await this.engine?.commitTransaction(J.id,X):W==="rollback"&&(Q=await this.engine?.rollbackTransaction(J.id,X));let M=this.parseEngineResponse(Q);if(fc(M)){let H=this.getExternalAdapterError(M,Y?.errorRegistry);throw H?H.error:new K0(M.message,{code:M.error_code,clientVersion:this.config.clientVersion,meta:M.meta})}else if(typeof M.message=="string")throw new Z2(M.message,{clientVersion:this.config.clientVersion});return M}async instantiateLibrary(){if(c8("internalSetup"),this.libraryInstantiationPromise)return this.libraryInstantiationPromise;Rk(),this.binaryTarget=await this.getCurrentBinaryTarget(),await this.tracingHelper.runInChildSpan("load_engine",()=>this.loadEngine()),this.version()}async getCurrentBinaryTarget(){{if(this.binaryTarget)return this.binaryTarget;let W=await this.tracingHelper.runInChildSpan("detect_platform",()=>RH());if(!uz.includes(W))throw new d1(`Unknown ${D9("PRISMA_QUERY_ENGINE_LIBRARY")} ${D9(F8(W))}. Possible binaryTargets: ${u$(uz.join(", "))} or a path to the query engine library.
You may have to run ${u$("prisma generate")} for your changes to take effect.`,this.config.clientVersion);return W}}parseEngineResponse(W){if(!W)throw new Z2("Response from the Engine was empty",{clientVersion:this.config.clientVersion});try{return JSON.parse(W)}catch{throw new Z2("Unable to JSON.parse response from engine",{clientVersion:this.config.clientVersion})}}async loadEngine(){if(!this.engine){this.QueryEngineConstructor||(this.library=await this.libraryLoader.loadLibrary(this.config),this.QueryEngineConstructor=this.library.QueryEngine);try{let W=new WeakRef(this);this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(Zz));let $=await this.adapterPromise;$&&c8("Using driver adapter: %O",$),this.engine=this.wrapEngine(new this.QueryEngineConstructor({datamodel:this.datamodel,env:J0.env,logQueries:this.config.logQueries??!1,ignoreEnvVarErrors:!0,datasourceOverrides:this.datasourceOverrides??{},logLevel:this.logLevel,configDir:this.config.cwd,engineProtocol:"json",enableTracing:this.tracingHelper.isEnabled()},(J)=>{W.deref()?.logger(J)},$))}catch(W){let $=W,J=this.parseInitError($.message);throw typeof J=="string"?$:new d1(J.message,this.config.clientVersion,J.error_code)}}}logger(W){let $=this.parseEngineResponse(W);$&&($.level=$?.level.toLowerCase()??"unknown",xc($)?this.logEmitter.emit("query",{timestamp:new Date,query:$.query,params:$.params,duration:Number($.duration_ms),target:$.module_path}):Tc($)?this.loggerRustPanic=new _4(aM(this,`${$.message}: ${$.reason} in ${$.file}:${$.line}:${$.column}`),this.config.clientVersion):this.logEmitter.emit($.level,{timestamp:new Date,message:$.message,target:$.module_path}))}parseInitError(W){try{return JSON.parse(W)}catch{}return W}parseRequestError(W){try{return JSON.parse(W)}catch{}return W}onBeforeExit(){throw new Error('"beforeExit" hook is not applicable to the library engine since Prisma 5.0.0, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){if(this.libraryInstantiationPromise||(this.libraryInstantiationPromise=this.instantiateLibrary()),await this.libraryInstantiationPromise,await this.libraryStoppingPromise,this.libraryStartingPromise)return c8(`library already starting, this.libraryStarted: ${this.libraryStarted}`),this.libraryStartingPromise;if(this.libraryStarted)return;let W=async()=>{c8("library starting");try{let $={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.connect(JSON.stringify($)),this.libraryStarted=!0,this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(Zz)),await this.adapterPromise,c8("library started")}catch($){let J=this.parseInitError($.message);throw typeof J=="string"?$:new d1(J.message,this.config.clientVersion,J.error_code)}finally{this.libraryStartingPromise=void 0}};return this.libraryStartingPromise=this.tracingHelper.runInChildSpan("connect",W),this.libraryStartingPromise}async stop(){if(await this.libraryInstantiationPromise,await this.libraryStartingPromise,await this.executingQueryPromise,this.libraryStoppingPromise)return c8("library is already stopping"),this.libraryStoppingPromise;if(!this.libraryStarted){await(await this.adapterPromise)?.dispose(),this.adapterPromise=void 0;return}let W=async()=>{await new Promise((J)=>setImmediate(J)),c8("library stopping");let $={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.disconnect(JSON.stringify($)),this.engine?.free&&this.engine.free(),this.engine=void 0,this.libraryStarted=!1,this.libraryStoppingPromise=void 0,this.libraryInstantiationPromise=void 0,await(await this.adapterPromise)?.dispose(),this.adapterPromise=void 0,c8("library stopped")};return this.libraryStoppingPromise=this.tracingHelper.runInChildSpan("disconnect",W),this.libraryStoppingPromise}version(){return this.versionInfo=this.library?.version(),this.versionInfo?.version??"unknown"}debugPanic(W){return this.library?.debugPanic(W)}async request(W,{traceparent:$,interactiveTransaction:J}){c8(`sending request, this.libraryStarted: ${this.libraryStarted}`);let Y=JSON.stringify({traceparent:$}),X=JSON.stringify(W);try{await this.start();let Q=await this.adapterPromise;this.executingQueryPromise=this.engine?.query(X,Y,J?.id),this.lastQuery=X;let M=this.parseEngineResponse(await this.executingQueryPromise);if(M.errors)throw M.errors.length===1?this.buildQueryError(M.errors[0],Q?.errorRegistry):new Z2(JSON.stringify(M.errors),{clientVersion:this.config.clientVersion});if(this.loggerRustPanic)throw this.loggerRustPanic;return{data:M}}catch(Q){if(Q instanceof d1)throw Q;if(Q.code==="GenericFailure"&&Q.message?.startsWith("PANIC:"))throw new _4(aM(this,Q.message),this.config.clientVersion);let M=this.parseRequestError(Q.message);throw typeof M=="string"?Q:new Z2(`${M.message}
${M.backtrace}`,{clientVersion:this.config.clientVersion})}}async requestBatch(W,{transaction:$,traceparent:J}){c8("requestBatch");let Y=nH(W,$);await this.start();let X=await this.adapterPromise;this.lastQuery=JSON.stringify(Y),this.executingQueryPromise=this.engine?.query(this.lastQuery,JSON.stringify({traceparent:J}),Cc($));let Q=await this.executingQueryPromise,M=this.parseEngineResponse(Q);if(M.errors)throw M.errors.length===1?this.buildQueryError(M.errors[0],X?.errorRegistry):new Z2(JSON.stringify(M.errors),{clientVersion:this.config.clientVersion});let{batchResult:H,errors:G}=M;if(Array.isArray(H))return H.map((B)=>B.errors&&B.errors.length>0?this.loggerRustPanic??this.buildQueryError(B.errors[0],X?.errorRegistry):{data:B});throw G&&G.length===1?new Error(G[0].error):new Error(JSON.stringify(M))}buildQueryError(W,$){if(W.user_facing_error.is_panic)return new _4(aM(this,W.user_facing_error.message),this.config.clientVersion);let J=this.getExternalAdapterError(W.user_facing_error,$);return J?J.error:oH(W,this.config.clientVersion,this.config.activeProvider)}getExternalAdapterError(W,$){if(W.error_code===Ic&&$){let J=W.meta?.id;_z(typeof J=="number","Malformed external JS error received from the engine");let Y=$.consumeError(J);return _z(Y,"External error with reported id was not registered"),Y}}async metrics(W){await this.start();let $=await this.engine.metrics(JSON.stringify(W));return W.format==="prometheus"?$:this.parseEngineResponse($)}};function fc(W){return typeof W=="object"&&W!==null&&W.error_code!==void 0}function aM(W,$){return nd({binaryTarget:W.binaryTarget,title:$,version:W.config.clientVersion,engineVersion:W.versionInfo?.commit,database:W.config.activeProvider,query:W.lastQuery})}function vc({url:W,adapter:$,copyEngine:J,targetBuildType:Y}){let X=[],Q=[],M=(D)=>{X.push({_tag:"warning",value:D})},H=(D)=>{let _=D.join(`
`);Q.push({_tag:"error",value:_})},G=!!W?.startsWith("prisma://"),B=PD(W),w=!!$,A=G||B;!w&&J&&A&&Y!=="client"&&Y!=="wasm-compiler-edge"&&M(["recommend--no-engine","In production, we recommend using `prisma generate --no-engine` (See: `prisma generate --help`)"]);let q=A||!J;w&&(q||Y==="edge")&&(Y==="edge"?H(["Prisma Client was configured to use the `adapter` option but it was imported via its `/edge` endpoint.","Please either remove the `/edge` endpoint or remove the `adapter` from the Prisma Client constructor."]):A?H(["You've provided both a driver adapter and an Accelerate database URL. Driver adapters currently cannot connect to Accelerate.","Please provide either a driver adapter with a direct database URL or an Accelerate URL and no driver adapter."]):J||H(["Prisma Client was configured to use the `adapter` option but `prisma generate` was run with `--no-engine`.","Please run `prisma generate` without `--no-engine` to be able to use Prisma Client with the adapter."]));let N={accelerate:q,ppg:B,driverAdapters:w};function z(D){return D.length>0}return z(Q)?{ok:!1,diagnostics:{warnings:X,errors:Q},isUsing:N}:{ok:!0,diagnostics:{warnings:X},isUsing:N}}function yc({copyEngine:W=!0},$){let J;try{J=aH({inlineDatasources:$.inlineDatasources,overrideDatasources:$.overrideDatasources,env:{...$.env,...J0.env},clientVersion:$.clientVersion})}catch{}let{ok:Y,isUsing:X,diagnostics:Q}=vc({url:J,adapter:$.adapter,copyEngine:W,targetBuildType:"library"});for(let A of Q.warnings)wf(...A.value);if(!Y){let A=Q.errors[0];throw new R6(A.value,{clientVersion:$.clientVersion})}let M=XH($.generator),H=M==="library",G=M==="binary",B=M==="client",w=(X.accelerate||X.ppg)&&!X.driverAdapters;return X.accelerate?new Kc($):(X.driverAdapters,H?new lz($):(X.accelerate,new lz($)))}function dc({generator:W}){return W?.previewFeatures??[]}var cc=(W)=>({command:W}),hc=(W)=>W.strings.reduce(($,J,Y)=>`${$}@P${Y}${J}`);function k$(W){try{return pz(W,"fast")}catch{return pz(W,"slow")}}function pz(W,$){return JSON.stringify(W.map((J)=>sZ(J,$)))}function sZ(W,$){if(Array.isArray(W))return W.map((J)=>sZ(J,$));if(typeof W=="bigint")return{prisma__type:"bigint",prisma__value:W.toString()};if(fH(W))return{prisma__type:"date",prisma__value:W.toJSON()};if(AX.isDecimal(W))return{prisma__type:"decimal",prisma__value:W.toJSON()};if(Buffer.isBuffer(W))return{prisma__type:"bytes",prisma__value:W.toString("base64")};if(mc(W))return{prisma__type:"bytes",prisma__value:Buffer.from(W).toString("base64")};if(ArrayBuffer.isView(W)){let{buffer:J,byteOffset:Y,byteLength:X}=W;return{prisma__type:"bytes",prisma__value:Buffer.from(J,Y,X).toString("base64")}}return typeof W=="object"&&$==="slow"?aZ(W):W}function mc(W){return W instanceof ArrayBuffer||W instanceof SharedArrayBuffer?!0:typeof W=="object"&&W!==null?W[Symbol.toStringTag]==="ArrayBuffer"||W[Symbol.toStringTag]==="SharedArrayBuffer":!1}function aZ(W){if(typeof W!="object"||W===null)return W;if(typeof W.toJSON=="function")return W.toJSON();if(Array.isArray(W))return W.map(iz);let $={};for(let J of Object.keys(W))$[J]=iz(W[J]);return $}function iz(W){return typeof W=="bigint"?W.toString():aZ(W)}var uc=/^(\s*alter\s)/i,nz=t5("prisma:client");function oz(W,$,J,Y){if(!(W!=="postgresql"&&W!=="cockroachdb")&&J.length>0&&uc.exec($))throw new Error(`Running ALTER using ${Y} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var sz=({clientMethod:W,activeProvider:$})=>(J)=>{let Y="",X;if(ZZ(J))Y=J.sql,X={values:k$(J.values),__prismaRawParameters__:!0};else if(Array.isArray(J)){let[Q,...M]=J;Y=Q,X={values:k$(M||[]),__prismaRawParameters__:!0}}else switch($){case"sqlite":case"mysql":{Y=J.sql,X={values:k$(J.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{Y=J.text,X={values:k$(J.values),__prismaRawParameters__:!0};break}case"sqlserver":{Y=hc(J),X={values:k$(J.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${$} provider does not support ${W}`)}return X?.values?nz(`prisma.${W}(${Y}, ${X.values})`):nz(`prisma.${W}(${Y})`),{query:Y,parameters:X}},lc={requestArgsToMiddlewareArgs(W){return[W.strings,...W.values]},middlewareArgsToRequestArgs(W){let[$,...J]=W;return new WW($,J)}},pc={requestArgsToMiddlewareArgs(W){return[W]},middlewareArgsToRequestArgs(W){return W[0]}};function az(W){return function($,J){let Y,X=(Q=W)=>{try{return Q===void 0||Q?.kind==="itx"?Y??=rz($(Q)):rz($(Q))}catch(M){return Promise.reject(M)}};return{get spec(){return J},then(Q,M){return X().then(Q,M)},catch(Q){return X().catch(Q)},finally(Q){return X().finally(Q)},requestTransaction(Q){let M=X(Q);return M.requestTransaction?M.requestTransaction(Q):M},[Symbol.toStringTag]:"PrismaPromise"}}}function rz(W){return typeof W.then=="function"?W:Promise.resolve(W)}var ic=Tg.split(".")[0],nc={isEnabled(){return!1},getTraceParent(){return"00-10-10-00"},dispatchEngineSpans(){},getActiveContext(){},runInChildSpan(W,$){return $()}},oc=class{isEnabled(){return this.getGlobalTracingHelper().isEnabled()}getTraceParent(W){return this.getGlobalTracingHelper().getTraceParent(W)}dispatchEngineSpans(W){return this.getGlobalTracingHelper().dispatchEngineSpans(W)}getActiveContext(){return this.getGlobalTracingHelper().getActiveContext()}runInChildSpan(W,$){return this.getGlobalTracingHelper().runInChildSpan(W,$)}getGlobalTracingHelper(){let W=globalThis[`V${ic}_PRISMA_INSTRUMENTATION`],$=globalThis.PRISMA_INSTRUMENTATION;return W?.helper??$?.helper??nc}};function sc(){return new oc}function ac(W,$=()=>{}){let J,Y=new Promise((X)=>J=X);return{then(X){return--W===0&&J($()),X?.(Y)}}}function rc(W){return typeof W=="string"?W:W.reduce(($,J)=>{let Y=typeof J=="string"?J:J.level;return Y==="query"?$:$&&(J==="info"||$==="info")?"info":Y},void 0)}function rZ(W){return typeof W.batchRequestIdx=="number"}function tc(W){if(W.action!=="findUnique"&&W.action!=="findUniqueOrThrow")return;let $=[];return W.modelName&&$.push(W.modelName),W.query.arguments&&$.push(KH(W.query.arguments)),$.push(KH(W.query.selection)),$.join("")}function KH(W){return`(${Object.keys(W).sort().map(($)=>{let J=W[$];return typeof J=="object"&&J!==null?`(${$} ${KH(J)})`:$}).join(" ")})`}var ec={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0};function tz(W){return ec[W]}var Wh=class{constructor(W){this.options=W,this.batches={}}batches;tickActive=!1;request(W){let $=this.options.batchBy(W);return $?(this.batches[$]||(this.batches[$]=[],this.tickActive||(this.tickActive=!0,J0.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((J,Y)=>{this.batches[$].push({request:W,resolve:J,reject:Y})})):this.options.singleLoader(W)}dispatchBatches(){for(let W in this.batches){let $=this.batches[W];delete this.batches[W],$.length===1?this.options.singleLoader($[0].request).then((J)=>{J instanceof Error?$[0].reject(J):$[0].resolve(J)}).catch((J)=>{$[0].reject(J)}):($.sort((J,Y)=>this.options.batchOrder(J.request,Y.request)),this.options.batchLoader($.map((J)=>J.request)).then((J)=>{if(J instanceof Error)for(let Y=0;Y<$.length;Y++)$[Y].reject(J);else for(let Y=0;Y<$.length;Y++){let X=J[Y];X instanceof Error?$[Y].reject(X):$[Y].resolve(X)}}).catch((J)=>{for(let Y=0;Y<$.length;Y++)$[Y].reject(J)}))}}get[Symbol.toStringTag](){return"DataLoader"}};function q9(W,$){if($===null)return $;switch(W){case"bigint":return BigInt($);case"bytes":{let{buffer:J,byteOffset:Y,byteLength:X}=Buffer.from($,"base64");return new Uint8Array(J,Y,X)}case"decimal":return new AX($);case"datetime":case"date":return new Date($);case"time":return new Date(`1970-01-01T${$}Z`);case"bigint-array":return $.map((J)=>q9("bigint",J));case"bytes-array":return $.map((J)=>q9("bytes",J));case"decimal-array":return $.map((J)=>q9("decimal",J));case"datetime-array":return $.map((J)=>q9("datetime",J));case"date-array":return $.map((J)=>q9("date",J));case"time-array":return $.map((J)=>q9("time",J));default:return $}}function $h(W){let $=[],J=Jh(W);for(let Y=0;Y<W.rows.length;Y++){let X=W.rows[Y],Q={...J};for(let M=0;M<X.length;M++)Q[W.columns[M]]=q9(W.types[M],X[M]);$.push(Q)}return $}function Jh(W){let $={};for(let J=0;J<W.columns.length;J++)$[W.columns[J]]=null;return $}var Yh=t5("prisma:client:request_handler"),Xh=class{client;dataloader;logEmitter;constructor(W,$){this.logEmitter=$,this.client=W,this.dataloader=new Wh({batchLoader:Rd(async({requests:J,customDataProxyFetch:Y})=>{let{transaction:X,otelParentCtx:Q}=J[0],M=J.map((B)=>B.protocolQuery),H=this.client._tracingHelper.getTraceParent(Q),G=J.some((B)=>tz(B.protocolQuery.action));return(await this.client._engine.requestBatch(M,{traceparent:H,transaction:Qh(X),containsWrite:G,customDataProxyFetch:Y})).map((B,w)=>{if(B instanceof Error)return B;try{return this.mapQueryEngineResult(J[w],B)}catch(A){return A}})}),singleLoader:async(J)=>{let Y=J.transaction?.kind==="itx"?tZ(J.transaction):void 0,X=await this.client._engine.request(J.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:Y,isWrite:tz(J.protocolQuery.action),customDataProxyFetch:J.customDataProxyFetch});return this.mapQueryEngineResult(J,X)},batchBy:(J)=>J.transaction?.id?`transaction-${J.transaction.id}`:tc(J.protocolQuery),batchOrder(J,Y){return J.transaction?.kind==="batch"&&Y.transaction?.kind==="batch"?J.transaction.index-Y.transaction.index:0}})}async request(W){try{return await this.dataloader.request(W)}catch($){let{clientMethod:J,callsite:Y,transaction:X,args:Q,modelName:M}=W;this.handleAndLogRequestError({error:$,clientMethod:J,callsite:Y,transaction:X,args:Q,modelName:M,globalOmit:W.globalOmit})}}mapQueryEngineResult({dataPath:W,unpacker:$},J){let Y=J?.data,X=this.unpack(Y,W,$);return J0.env.PRISMA_CLIENT_GET_TIME?{data:X}:X}handleAndLogRequestError(W){try{this.handleRequestError(W)}catch($){throw this.logEmitter&&this.logEmitter.emit("error",{message:$.message,target:W.clientMethod,timestamp:new Date}),$}}handleRequestError({error:W,clientMethod:$,callsite:J,transaction:Y,args:X,modelName:Q,globalOmit:M}){if(Yh(W),Mh(W,Y))throw W;if(W instanceof K0&&Hh(W)){let G=eZ(W.meta);UZ({args:X,errors:[G],callsite:J,errorFormat:this.client._errorFormat,originalMethod:$,clientVersion:this.client._clientVersion,globalOmit:M})}let H=W.message;if(J&&(H=nD({callsite:J,originalMethod:$,isPanic:W.isPanic,showColors:this.client._errorFormat==="pretty",message:H})),H=this.sanitizeMessage(H),W.code){let G=Q?{modelName:Q,...W.meta}:W.meta;throw new K0(H,{code:W.code,clientVersion:this.client._clientVersion,meta:G,batchRequestIdx:W.batchRequestIdx})}else{if(W.isPanic)throw new _4(H,this.client._clientVersion);if(W instanceof Z2)throw new Z2(H,{clientVersion:this.client._clientVersion,batchRequestIdx:W.batchRequestIdx});if(W instanceof d1)throw new d1(H,this.client._clientVersion);if(W instanceof _4)throw new _4(H,this.client._clientVersion)}throw W.clientVersion=this.client._clientVersion,W}sanitizeMessage(W){return this.client._errorFormat&&this.client._errorFormat!=="pretty"?MH(W):W}unpack(W,$,J){if(!W||(W.data&&(W=W.data),!W))return W;let Y=Object.keys(W)[0],X=Object.values(W)[0],Q=$.filter((G)=>G!=="select"&&G!=="include"),M=jZ(X,Q),H=Y==="queryRaw"?$h(M):LH(M);return J?J(H):H}get[Symbol.toStringTag](){return"RequestHandler"}};function Qh(W){if(W){if(W.kind==="batch")return{kind:"batch",options:{isolationLevel:W.isolationLevel}};if(W.kind==="itx")return{kind:"itx",options:tZ(W)};gH(W,"Unknown transaction kind")}}function tZ(W){return{id:W.id,payload:W.payload}}function Mh(W,$){return rZ(W)&&$?.kind==="batch"&&W.batchRequestIdx!==$.index}function Hh(W){return W.code==="P2009"||W.code==="P2012"}function eZ(W){if(W.kind==="Union")return{kind:"Union",errors:W.errors.map(eZ)};if(Array.isArray(W.selectionPath)){let[,...$]=W.selectionPath;return{...W,selectionPath:$}}return W}var Gh=td,Bh=f2(wD()),D1=class extends Error{constructor(W){super(W+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};x1(D1,"PrismaClientConstructorValidationError");var ez=["datasources","datasourceUrl","errorFormat","adapter","log","transactionOptions","omit","__internal"],WD=["pretty","colorless","minimal"],$D=["info","query","warn","error"],Uh={datasources:(W,{datasourceNames:$})=>{if(W){if(typeof W!="object"||Array.isArray(W))throw new D1(`Invalid value ${JSON.stringify(W)} for "datasources" provided to PrismaClient constructor`);for(let[J,Y]of Object.entries(W)){if(!$.includes(J)){let X=p7(J,$)||` Available datasources: ${$.join(", ")}`;throw new D1(`Unknown datasource ${J} provided to PrismaClient constructor.${X}`)}if(typeof Y!="object"||Array.isArray(Y))throw new D1(`Invalid value ${JSON.stringify(W)} for datasource "${J}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(Y&&typeof Y=="object")for(let[X,Q]of Object.entries(Y)){if(X!=="url")throw new D1(`Invalid value ${JSON.stringify(W)} for datasource "${J}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(typeof Q!="string")throw new D1(`Invalid value ${JSON.stringify(Q)} for datasource "${J}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`)}}}},adapter:(W,$)=>{if(!W&&XH($.generator)==="client")throw new D1('Using engine type "client" requires a driver adapter to be provided to PrismaClient constructor.');if(W!==null){if(W===void 0)throw new D1('"adapter" property must not be undefined, use null to conditionally disable driver adapters.');if(XH($.generator)==="binary")throw new D1('Cannot use a driver adapter with the "binary" Query Engine. Please use the "library" Query Engine.')}},datasourceUrl:(W)=>{if(typeof W<"u"&&typeof W!="string")throw new D1(`Invalid value ${JSON.stringify(W)} for "datasourceUrl" provided to PrismaClient constructor.
Expected string or undefined.`)},errorFormat:(W)=>{if(W){if(typeof W!="string")throw new D1(`Invalid value ${JSON.stringify(W)} for "errorFormat" provided to PrismaClient constructor.`);if(!WD.includes(W)){let $=p7(W,WD);throw new D1(`Invalid errorFormat ${W} provided to PrismaClient constructor.${$}`)}}},log:(W)=>{if(!W)return;if(!Array.isArray(W))throw new D1(`Invalid value ${JSON.stringify(W)} for "log" provided to PrismaClient constructor.`);function $(J){if(typeof J=="string"&&!$D.includes(J)){let Y=p7(J,$D);throw new D1(`Invalid log level "${J}" provided to PrismaClient constructor.${Y}`)}}for(let J of W){$(J);let Y={level:$,emit:(X)=>{let Q=["stdout","event"];if(!Q.includes(X)){let M=p7(X,Q);throw new D1(`Invalid value ${JSON.stringify(X)} for "emit" in logLevel provided to PrismaClient constructor.${M}`)}}};if(J&&typeof J=="object")for(let[X,Q]of Object.entries(J))if(Y[X])Y[X](Q);else throw new D1(`Invalid property ${X} for "log" provided to PrismaClient constructor`)}},transactionOptions:(W)=>{if(!W)return;let $=W.maxWait;if($!=null&&$<=0)throw new D1(`Invalid value ${$} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let J=W.timeout;if(J!=null&&J<=0)throw new D1(`Invalid value ${J} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(W,$)=>{if(typeof W!="object")throw new D1('"omit" option is expected to be an object.');if(W===null)throw new D1('"omit" option can not be `null`');let J=[];for(let[Y,X]of Object.entries(W)){let Q=Nh(Y,$.runtimeDataModel);if(!Q){J.push({kind:"UnknownModel",modelKey:Y});continue}for(let[M,H]of Object.entries(X)){let G=Q.fields.find((B)=>B.name===M);if(!G){J.push({kind:"UnknownField",modelKey:Y,fieldName:M});continue}if(G.relationName){J.push({kind:"RelationInOmit",modelKey:Y,fieldName:M});continue}typeof H!="boolean"&&J.push({kind:"InvalidFieldValue",modelKey:Y,fieldName:M})}}if(J.length>0)throw new D1(qh(W,J))},__internal:(W)=>{if(!W)return;let $=["debug","engine","configOverride"];if(typeof W!="object")throw new D1(`Invalid value ${JSON.stringify(W)} for "__internal" to PrismaClient constructor`);for(let[J]of Object.entries(W))if(!$.includes(J)){let Y=p7(J,$);throw new D1(`Invalid property ${JSON.stringify(J)} for "__internal" provided to PrismaClient constructor.${Y}`)}}};function wh(W,$){for(let[J,Y]of Object.entries(W)){if(!ez.includes(J)){let X=p7(J,ez);throw new D1(`Unknown property ${J} provided to PrismaClient constructor.${X}`)}Uh[J](Y,$)}if(W.datasourceUrl&&W.datasources)throw new D1('Can not use "datasourceUrl" and "datasources" options at the same time. Pick one of them')}function p7(W,$){if($.length===0||typeof W!="string")return"";let J=Ah(W,$);return J?` Did you mean "${J}"?`:""}function Ah(W,$){if($.length===0)return null;let J=$.map((X)=>({value:X,distance:Bh.default(W,X)}));J.sort((X,Q)=>X.distance<Q.distance?-1:1);let Y=J[0];return Y.distance<3?Y.value:null}function Nh(W,$){return JD($.models,W)??JD($.types,W)}function JD(W,$){let J=Object.keys(W).find((Y)=>GX(Y)===$);if(J)return W[J]}function qh(W,$){let J=lH(W);for(let Q of $)switch(Q.kind){case"UnknownModel":J.arguments.getField(Q.modelKey)?.markAsError(),J.addErrorMessage(()=>`Unknown model name: ${Q.modelKey}.`);break;case"UnknownField":J.arguments.getDeepField([Q.modelKey,Q.fieldName])?.markAsError(),J.addErrorMessage(()=>`Model "${Q.modelKey}" does not have a field named "${Q.fieldName}".`);break;case"RelationInOmit":J.arguments.getDeepField([Q.modelKey,Q.fieldName])?.markAsError(),J.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":J.arguments.getDeepFieldValue([Q.modelKey,Q.fieldName])?.markAsError(),J.addErrorMessage(()=>"Omit field option value must be a boolean.");break}let{message:Y,args:X}=BZ(J,"colorless");return`Error validating "omit" option:

${X}

${Y}`}function zh(W){return W.length===0?Promise.resolve([]):new Promise(($,J)=>{let Y=new Array(W.length),X=null,Q=!1,M=0,H=()=>{Q||(M++,M===W.length&&(Q=!0,X?J(X):$(Y)))},G=(B)=>{Q||(Q=!0,J(B))};for(let B=0;B<W.length;B++)W[B].then((w)=>{Y[B]=w,H()},(w)=>{if(!rZ(w)){G(w);return}w.batchRequestIdx===B?G(w):(X||(X=w),H())})})}var N4=t5("prisma:client");typeof globalThis=="object"&&(globalThis.NODE_CLIENT=!0);var Dh={requestArgsToMiddlewareArgs:(W)=>W,middlewareArgsToRequestArgs:(W)=>W},Zh=Symbol.for("prisma.client.transaction.id"),Sh={id:0,nextId(){return++this.id}};function WS(W){class ${_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=az();constructor(J){W=J?.__internal?.configOverride?.(W)??W,Id(W),J&&wh(J,W);let Y=new by().on("error",()=>{});this._extensions=wZ.empty(),this._previewFeatures=dc(W),this._clientVersion=W.clientVersion??Gh,this._activeProvider=W.activeProvider,this._globalOmit=J?.omit,this._tracingHelper=sc();let X=W.relativeEnvPaths&&{rootEnvPath:W.relativeEnvPaths.rootEnvPath&&iM.resolve(W.dirname,W.relativeEnvPaths.rootEnvPath),schemaEnvPath:W.relativeEnvPaths.schemaEnvPath&&iM.resolve(W.dirname,W.relativeEnvPaths.schemaEnvPath)},Q;if(J?.adapter){Q=J.adapter;let H=W.activeProvider==="postgresql"||W.activeProvider==="cockroachdb"?"postgres":W.activeProvider;if(Q.provider!==H)throw new d1(`The Driver Adapter \`${Q.adapterName}\`, based on \`${Q.provider}\`, is not compatible with the provider \`${H}\` specified in the Prisma schema.`,this._clientVersion);if(J.datasources||J.datasourceUrl!==void 0)throw new d1("Custom datasource configuration is not compatible with Prisma Driver Adapters. Please define the database connection string directly in the Driver Adapter configuration.",this._clientVersion)}let M=!Q&&X&&Mf(X,{conflictCheck:"none"})||W.injectableEdgeEnv?.();try{let H=J??{},G=H.__internal??{},B=G.debug===!0;B&&t5.enable("prisma:client");let w=iM.resolve(W.dirname,W.relativePath);Ey.existsSync(w)||(w=W.dirname),N4("dirname",W.dirname),N4("relativePath",W.relativePath),N4("cwd",w);let A=G.engine||{};if(H.errorFormat?this._errorFormat=H.errorFormat:J0.env.NODE_ENV==="production"?this._errorFormat="minimal":J0.env.NO_COLOR?this._errorFormat="colorless":this._errorFormat="colorless",this._runtimeDataModel=W.runtimeDataModel,this._engineConfig={cwd:w,dirname:W.dirname,enableDebugLogs:B,allowTriggerPanic:A.allowTriggerPanic,prismaPath:A.binaryPath??void 0,engineEndpoint:A.endpoint,generator:W.generator,showColors:this._errorFormat==="pretty",logLevel:H.log&&rc(H.log),logQueries:H.log&&!!(typeof H.log=="string"?H.log==="query":H.log.find((q)=>typeof q=="string"?q==="query":q.level==="query")),env:M?.parsed??{},flags:[],engineWasm:W.engineWasm,compilerWasm:W.compilerWasm,clientVersion:W.clientVersion,engineVersion:W.engineVersion,previewFeatures:this._previewFeatures,activeProvider:W.activeProvider,inlineSchema:W.inlineSchema,overrideDatasources:xd(H,W.datasourceNames),inlineDatasources:W.inlineDatasources,inlineSchemaHash:W.inlineSchemaHash,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:H.transactionOptions?.maxWait??2000,timeout:H.transactionOptions?.timeout??5000,isolationLevel:H.transactionOptions?.isolationLevel},logEmitter:Y,isBundled:W.isBundled,adapter:Q},this._accelerateEngineConfig={...this._engineConfig,accelerateUtils:{resolveDatasourceUrl:aH,getBatchRequestPayload:nH,prismaGraphQLToJSError:oH,PrismaClientUnknownRequestError:Z2,PrismaClientInitializationError:d1,PrismaClientKnownRequestError:K0,debug:t5("prisma:client:accelerateEngine"),engineVersion:Cy.version,clientVersion:W.clientVersion}},N4("clientVersion",W.clientVersion),this._engine=yc(W,this._engineConfig),this._requestHandler=new Xh(this,Y),H.log)for(let q of H.log){let N=typeof q=="string"?q:q.emit==="stdout"?q.level:null;N&&this.$on(N,(z)=>{QH.log(`${QH.tags[N]??""}`,z.message||z.query)})}}catch(H){throw H.clientVersion=this._clientVersion,H}return this._appliedParent=_H(this)}get[Symbol.toStringTag](){return"PrismaClient"}$on(J,Y){return J==="beforeExit"?this._engine.onBeforeExit(Y):J&&this._engineConfig.logEmitter.on(J,Y),this}$connect(){try{return this._engine.start()}catch(J){throw J.clientVersion=this._clientVersion,J}}async $disconnect(){try{await this._engine.stop()}catch(J){throw J.clientVersion=this._clientVersion,J}finally{Ek()}}$executeRawInternal(J,Y,X,Q){let M=this._activeProvider;return this._request({action:"executeRaw",args:X,transaction:J,clientMethod:Y,argsMapper:sz({clientMethod:Y,activeProvider:M}),callsite:h$(this._errorFormat),dataPath:[],middlewareArgsMapper:Q})}$executeRaw(J,...Y){return this._createPrismaPromise((X)=>{if(J.raw!==void 0||J.sql!==void 0){let[Q,M]=YD(J,Y);return oz(this._activeProvider,Q.text,Q.values,Array.isArray(J)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(X,"$executeRaw",Q,M)}throw new R6("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(J,...Y){return this._createPrismaPromise((X)=>(oz(this._activeProvider,J,Y,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(X,"$executeRawUnsafe",[J,...Y])))}$runCommandRaw(J){if(W.activeProvider!=="mongodb")throw new R6(`The ${W.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise((Y)=>this._request({args:J,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:cc,callsite:h$(this._errorFormat),transaction:Y}))}async $queryRawInternal(J,Y,X,Q){let M=this._activeProvider;return this._request({action:"queryRaw",args:X,transaction:J,clientMethod:Y,argsMapper:sz({clientMethod:Y,activeProvider:M}),callsite:h$(this._errorFormat),dataPath:[],middlewareArgsMapper:Q})}$queryRaw(J,...Y){return this._createPrismaPromise((X)=>{if(J.raw!==void 0||J.sql!==void 0)return this.$queryRawInternal(X,"$queryRaw",...YD(J,Y));throw new R6("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(J){return this._createPrismaPromise((Y)=>{if(!this._hasPreviewFlag("typedSql"))throw new R6("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(Y,"$queryRawTyped",J)})}$queryRawUnsafe(J,...Y){return this._createPrismaPromise((X)=>this.$queryRawInternal(X,"$queryRawUnsafe",[J,...Y]))}_transactionWithArray({promises:J,options:Y}){let X=Sh.nextId(),Q=ac(J.length),M=J.map((H,G)=>{if(H?.[Symbol.toStringTag]!=="PrismaPromise")throw new Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let B=Y?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel,w={kind:"batch",id:X,index:G,isolationLevel:B,lock:Q};return H.requestTransaction?.(w)??H});return zh(M)}async _transactionWithCallback({callback:J,options:Y}){let X={traceparent:this._tracingHelper.getTraceParent()},Q={maxWait:Y?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:Y?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:Y?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},M=await this._engine.transaction("start",X,Q),H;try{let G={kind:"itx",...M};H=await J(this._createItxClient(G)),await this._engine.transaction("commit",X,M)}catch(G){throw await this._engine.transaction("rollback",X,M).catch(()=>{}),G}return H}_createItxClient(J){return t7(_H(t7(Sd(this),[i8("_appliedParent",()=>this._appliedParent._createItxClient(J)),i8("_createPrismaPromise",()=>az(J)),i8(Zh,()=>J.id)])),[ZH(Cd)])}$transaction(J,Y){let X;typeof J=="function"?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?X=()=>{throw new Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:X=()=>this._transactionWithCallback({callback:J,options:Y}):X=()=>this._transactionWithArray({promises:J,options:Y});let Q={name:"transaction",attributes:{method:"$transaction"}};return this._tracingHelper.runInChildSpan(Q,X)}_request(J){J.otelParentCtx=this._tracingHelper.getActiveContext();let Y=J.middlewareArgsMapper??Dh,X={args:Y.requestArgsToMiddlewareArgs(J.args),dataPath:J.dataPath,runInTransaction:!!J.transaction,action:J.action,model:J.model},Q={operation:{name:"operation",attributes:{method:X.action,model:X.model,name:X.model?`${X.model}.${X.action}`:X.action}}},M=async(H)=>{let{runInTransaction:G,args:B,...w}=H,A={...J,...w};B&&(A.args=Y.middlewareArgsToRequestArgs(B)),J.transaction!==void 0&&G===!1&&delete A.transaction;let q=await Pd(this,A);return A.model?Fd({result:q,modelName:A.model,args:A.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):q};return this._tracingHelper.runInChildSpan(Q.operation,()=>new Vy("prisma-client-request").runInAsyncScope(()=>M(X)))}async _executeRequest({args:J,clientMethod:Y,dataPath:X,callsite:Q,action:M,model:H,argsMapper:G,transaction:B,unpacker:w,otelParentCtx:A,customDataProxyFetch:q}){try{J=G?G(J):J;let N={name:"serialize"},z=this._tracingHelper.runInChildSpan(N,()=>Ny({modelName:H,runtimeDataModel:this._runtimeDataModel,action:M,args:J,clientMethod:Y,callsite:Q,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return t5.enabled("prisma:client")&&(N4("Prisma Client call:"),N4(`prisma.${Y}(${Iy(J)})`),N4("Generated request:"),N4(JSON.stringify(z,null,2)+`
`)),B?.kind==="batch"&&await B.lock,this._requestHandler.request({protocolQuery:z,modelName:H,action:M,clientMethod:Y,dataPath:X,callsite:Q,args:J,extensions:this._extensions,transaction:B,unpacker:w,otelParentCtx:A,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:q})}catch(N){throw N.clientVersion=this._clientVersion,N}}$metrics=new Fy(this);_hasPreviewFlag(J){return!!this._engineConfig.previewFeatures?.includes(J)}$applyPendingMigrations(){return this._engine.applyPendingMigrations()}$extends=Od}return $}function YD(W,$){return Oh(W)?[new WW(W,$),lc]:[W,pc]}function Oh(W){return Array.isArray(W)&&Array.isArray(W.raw)}/*! Bundled license information:

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.5.0
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/var YJ={generator:{name:"client",provider:{fromEnvVar:null,value:"prisma-client"},output:{value:"C:\\Users\\D3C3M\\Desktop\\backend_cake\\src\\providers\\database\\generated",fromEnvVar:null},config:{engineType:"library"},binaryTargets:[{fromEnvVar:null,value:"windows",native:!0}],previewFeatures:[],sourceFilePath:"C:\\Users\\D3C3M\\Desktop\\backend_cake\\prisma\\schema.prisma",isCustomOutput:!0},relativePath:"../../../../prisma",clientVersion:"6.16.2",engineVersion:"1c57fdcd7e44b29b9313256c76699e91c3ac3c43",datasourceNames:["db"],activeProvider:"mongodb",inlineDatasources:{db:{url:{fromEnvVar:"DATABASE_URL",value:null}}},inlineSchema:`// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client"
  output   = "../src/providers/database/generated"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

enum Role {
  SUPERADMIN
  ADMIN
  OFFICER
  USER
}

enum GradeLevelType {
  VOCATIONAL // \u0E1B\u0E27\u0E0A.
  HIGHER // \u0E1B\u0E27\u0E2A.
}

enum RequestStatus {
  pending
  approved
  rejected
}

enum OrderStatus {
  pending
  complete
  cancelled
}

model Department {
  id   String @id @default(auto()) @map("_id") @db.ObjectId
  name String @unique

  classroom   Classroom[]
  cakeRequest CakeRequest[]
  teacher     Teacher[]
}

model Classroom {
  id             String   @id @default(auto()) @map("_id") @db.ObjectId
  name           String
  teacher_id     String   @db.ObjectId
  department_id  String   @db.ObjectId
  grade_level_id String   @db.ObjectId
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  teacher     Teacher     @relation(fields: [teacher_id], references: [id])
  department  Department  @relation(fields: [department_id], references: [id])
  grade_level GradeLevel? @relation(fields: [grade_level_id], references: [id])

  orders Order[]

  @@index([department_id], name: "idx_classroom_department_id")
}

model GradeLevel {
  id    String         @id @default(auto()) @map("_id") @db.ObjectId
  level GradeLevelType
  year  Int

  classroom Classroom[]

  @@unique([level, year])
}

model User {
  id        String  @id @default(auto()) @map("_id") @db.ObjectId
  firstname String
  lastname  String
  username  String  @unique
  password  String
  email     String?
  role      Role    @default(USER)

  createdAt   DateTime      @default(now())
  updatedAt   DateTime      @updatedAt
  cakeRequest CakeRequest[]
  tokens      Token[]
}

model Team {
  id            String   @id @default(auto()) @map("_id") @db.ObjectId
  name          String
  classroom_ids String[] @db.ObjectId

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  orders Order[]
}

model Product {
  id    String @id @default(auto()) @map("_id") @db.ObjectId
  name  String
  price Float

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  orderItems OrderItem[]
}

model Order {
  id           String      @id @default(auto()) @map("_id") @db.ObjectId
  customerName String
  classroom_id String?     @db.ObjectId
  team_id      String?     @db.ObjectId
  orderDate    DateTime
  totalPrice   Float
  book_number  Int
  number       Int
  phone        String
  pickup_date  DateTime
  depository   String?
  deposit      Int
  advisor      String
  status       OrderStatus @default(pending)
  createdAt    DateTime    @default(now())
  updatedAt    DateTime    @updatedAt
  order_items  OrderItem[]

  team      Team?      @relation(fields: [team_id], references: [id])
  classroom Classroom? @relation(fields: [classroom_id], references: [id])

  @@unique([book_number, number])
  @@index([classroom_id], name: "idx_order_classroom_id")
  @@index([team_id], name: "idx_order_team_id")
}

model OrderItem {
  id         String   @id @default(auto()) @map("_id") @db.ObjectId
  order_id   String   @db.ObjectId
  product_id String   @db.ObjectId
  pound      Int
  quantity   Int
  unitPrice  Float
  subtotal   Float
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt

  order              Order              @relation(fields: [order_id], references: [id])
  product            Product            @relation(fields: [product_id], references: [id])
  cake_request_items CakeRequestItems[]
}

model CakeRequest {
  id            String        @id @default(auto()) @map("_id") @db.ObjectId
  requestDate   DateTime
  status        RequestStatus @default(pending)
  note          String?
  user_id       String        @db.ObjectId
  department_id String        @db.ObjectId
  createdAt     DateTime      @default(now())
  updatedAt     DateTime      @updatedAt

  department Department         @relation(fields: [department_id], references: [id])
  user       User               @relation(fields: [user_id], references: [id])
  items      CakeRequestItems[]

  @@map("cake_requests")
}

model CakeRequestItems {
  id            String @id @default(auto()) @map("_id") @db.ObjectId
  request_id    String @db.ObjectId
  order_item_id String @db.ObjectId

  request    CakeRequest @relation(fields: [request_id], references: [id])
  order_item OrderItem   @relation(fields: [order_item_id], references: [id])

  @@map("cake_request_items")
}

model Teacher {
  id            String      @id @default(auto()) @map("_id") @db.ObjectId
  name          String
  department_id String      @db.ObjectId
  createdAt     DateTime    @default(now())
  updatedAt     DateTime    @updatedAt
  classroom     Classroom[]
  department    Department  @relation(fields: [department_id], references: [id])
}

model Token {
  id         String   @id @default(auto()) @map("_id") @db.ObjectId
  token      String   @unique
  user_id    String   @db.ObjectId
  expires_at DateTime
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt

  user User @relation(fields: [user_id], references: [id])

  @@index([user_id], name: "idx_token_user_id")
  @@map("tokens")
}
`,inlineSchemaHash:"bc12b59a189c8ab7e135545f3fbbafb0ac939303c36610fa193b479d4eea0828",copyEngine:!0,runtimeDataModel:{models:{},enums:{},types:{}},dirname:""};YJ.runtimeDataModel=JSON.parse('{"models":{"Department":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"classroom","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Classroom","nativeType":null,"relationName":"ClassroomToDepartment","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"cakeRequest","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"CakeRequest","nativeType":null,"relationName":"CakeRequestToDepartment","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"teacher","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Teacher","nativeType":null,"relationName":"DepartmentToTeacher","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Classroom":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"teacher_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"department_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"grade_level_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"teacher","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Teacher","nativeType":null,"relationName":"ClassroomToTeacher","relationFromFields":["teacher_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"department","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Department","nativeType":null,"relationName":"ClassroomToDepartment","relationFromFields":["department_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"grade_level","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"GradeLevel","nativeType":null,"relationName":"ClassroomToGradeLevel","relationFromFields":["grade_level_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"orders","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Order","nativeType":null,"relationName":"ClassroomToOrder","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"GradeLevel":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"level","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"GradeLevelType","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"year","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"classroom","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Classroom","nativeType":null,"relationName":"ClassroomToGradeLevel","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["level","year"]],"uniqueIndexes":[{"name":null,"fields":["level","year"]}],"isGenerated":false},"User":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"firstname","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"lastname","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"username","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"password","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"email","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"role","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Role","nativeType":null,"default":"USER","isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"cakeRequest","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"CakeRequest","nativeType":null,"relationName":"CakeRequestToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"tokens","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Token","nativeType":null,"relationName":"TokenToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Team":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"classroom_ids","kind":"scalar","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"orders","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Order","nativeType":null,"relationName":"OrderToTeam","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Product":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"price","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Float","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"orderItems","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"OrderItem","nativeType":null,"relationName":"OrderItemToProduct","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Order":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"customerName","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"classroom_id","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"team_id","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"orderDate","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"totalPrice","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Float","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"book_number","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"number","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"phone","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"pickup_date","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"depository","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"deposit","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"advisor","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"status","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"OrderStatus","nativeType":null,"default":"pending","isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"order_items","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"OrderItem","nativeType":null,"relationName":"OrderToOrderItem","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"team","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Team","nativeType":null,"relationName":"OrderToTeam","relationFromFields":["team_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"classroom","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Classroom","nativeType":null,"relationName":"ClassroomToOrder","relationFromFields":["classroom_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["book_number","number"]],"uniqueIndexes":[{"name":null,"fields":["book_number","number"]}],"isGenerated":false},"OrderItem":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"order_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"product_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"pound","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"quantity","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"unitPrice","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Float","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"subtotal","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Float","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"order","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Order","nativeType":null,"relationName":"OrderToOrderItem","relationFromFields":["order_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"product","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Product","nativeType":null,"relationName":"OrderItemToProduct","relationFromFields":["product_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"cake_request_items","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"CakeRequestItems","nativeType":null,"relationName":"CakeRequestItemsToOrderItem","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"CakeRequest":{"dbName":"cake_requests","schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"requestDate","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"status","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"RequestStatus","nativeType":null,"default":"pending","isGenerated":false,"isUpdatedAt":false},{"name":"note","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"department_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"department","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Department","nativeType":null,"relationName":"CakeRequestToDepartment","relationFromFields":["department_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"CakeRequestToUser","relationFromFields":["user_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"items","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"CakeRequestItems","nativeType":null,"relationName":"CakeRequestToCakeRequestItems","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"CakeRequestItems":{"dbName":"cake_request_items","schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"request_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"order_item_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"request","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"CakeRequest","nativeType":null,"relationName":"CakeRequestToCakeRequestItems","relationFromFields":["request_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"order_item","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"OrderItem","nativeType":null,"relationName":"CakeRequestItemsToOrderItem","relationFromFields":["order_item_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Teacher":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"department_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"classroom","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Classroom","nativeType":null,"relationName":"ClassroomToTeacher","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"department","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Department","nativeType":null,"relationName":"DepartmentToTeacher","relationFromFields":["department_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Token":{"dbName":"tokens","schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"token","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"expires_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updated_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"TokenToUser","relationFromFields":["user_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false}},"enums":{"Role":{"values":[{"name":"SUPERADMIN","dbName":null},{"name":"ADMIN","dbName":null},{"name":"OFFICER","dbName":null},{"name":"USER","dbName":null}],"dbName":null},"GradeLevelType":{"values":[{"name":"VOCATIONAL","dbName":null},{"name":"HIGHER","dbName":null}],"dbName":null},"RequestStatus":{"values":[{"name":"pending","dbName":null},{"name":"approved","dbName":null},{"name":"rejected","dbName":null}],"dbName":null},"OrderStatus":{"values":[{"name":"pending","dbName":null},{"name":"complete","dbName":null},{"name":"cancelled","dbName":null}],"dbName":null}},"types":{}}');YJ.engineWasm=void 0;YJ.compilerWasm=void 0;function JS(W){return YJ.dirname=W,WS(YJ)}var PX0=MX.getExtensionContext;var RX0={DbNull:K4.classes.DbNull,JsonNull:K4.classes.JsonNull,AnyNull:K4.classes.AnyNull},IX0=K4.instances.DbNull,xX0=K4.instances.JsonNull,TX0=K4.instances.AnyNull;var kX0=MX.defineExtension;var __dirname="C:\\Users\\D3C3M\\Desktop\\backend_cake\\src\\providers\\database\\generated";globalThis.__dirname=XJ.dirname(Fh(import.meta.url));var XS=JS(__dirname);XJ.join(__dirname,"query_engine-windows.dll.node");XJ.join(YS.cwd(),"src/providers/database/generated/query_engine-windows.dll.node");var Kh=new XS,n=Kh;var T6;((hX0)=>{async function W(H){return n.user.create({data:{...H}})}hX0.create=W;async function $(H){let G=H.search?{username:{contains:H.search}}:{};return n.user.findMany({where:G,take:H.take,skip:H.skip,orderBy:{createdAt:"desc"}})}hX0.findAll=$;async function J(H){return await n.user.findUnique({where:{username:H}})}hX0.findUserByUsername=J;async function Y(H){return await n.user.findUnique({where:{id:H}})}hX0.findById=Y;async function X(H,G){return n.user.update({where:{id:H},data:{...G}})}hX0.update=X;async function Q(H){return n.user.delete({where:{id:H}})}hX0.deleteById=Q;async function M(H){let G=H?{username:{contains:H}}:{};return await n.user.count({where:G})}hX0.countAll=M})(T6||={});var X5=(W,$)=>{let J=$;return{skip:(W-1)*$,take:J}};var k6;((pX0)=>{async function W(M){try{return await n.token.create({data:M,include:{user:!0}})}catch(H){throw new Error(H instanceof Error?H.message:"Failed to create token")}}pX0.create=W;async function $(M){try{return await n.token.findUnique({where:{token:M},include:{user:!0}})}catch(H){throw new Error(H instanceof Error?H.message:"Failed to find token")}}pX0.findByToken=$;async function J(M){try{return await n.token.findMany({where:{user_id:M},include:{user:!0}})}catch(H){throw new Error(H instanceof Error?H.message:"Failed to find user tokens")}}pX0.findByUserId=J;async function Y(){try{return await n.token.deleteMany({where:{expires_at:{lt:new Date}}})}catch(M){throw new Error(M instanceof Error?M.message:"Failed to delete expired tokens")}}pX0.deleteExpired=Y;async function X(M){try{return await n.token.delete({where:{token:M},include:{user:!0}})}catch(H){throw new Error(H instanceof Error?H.message:"Failed to delete token")}}pX0.removeToken=X;async function Q(M){try{return await n.token.deleteMany({where:{user_id:M}})}catch(H){throw new Error(H instanceof Error?H.message:"Failed to delete user tokens")}}pX0.deleteAllUserTokens=Q})(k6||={});var QS=R.object({token:R.string(),user_id:R.string(),expires_at:R.date()}),eH=R.object({token:R.string()}),WG=R.object({user_id:R.string()});var S2;((rX0)=>{async function W(M,H=30){try{let G=Bun.randomUUIDv7(),B=new Date;B.setDate(B.getDate()+H);let w={token:G,user_id:M,expires_at:B},A=QS.safeParse(w);if(!A.success)throw new Error(A.error.message);return await k6.create(A.data)}catch(G){throw new Error(G instanceof Error?G.message:"Failed to generate token")}}rX0.generateToken=W;async function $(M){try{let H=eH.safeParse({token:M});if(!H.success)throw new Error(H.error.message);let G=await k6.findByToken(H.data.token);if(!G)return null;if(G.expires_at<new Date)return await k6.removeToken(H.data.token),null;return G}catch(H){throw new Error(H instanceof Error?H.message:"Failed to verify token")}}rX0.verifyToken=$;async function J(M){try{let H=WG.safeParse({user_id:M});if(!H.success)throw new Error(H.error.message);return await k6.findByUserId(H.data.user_id)}catch(H){throw new Error(H instanceof Error?H.message:"Failed to get user tokens")}}rX0.getUserTokens=J;async function Y(M){try{let H=eH.safeParse({token:M});if(!H.success)throw new Error(H.error.message);return await k6.removeToken(H.data.token)}catch(H){throw new Error(H instanceof Error?H.message:"Failed to revoke token")}}rX0.revokeToken=Y;async function X(M){try{let H=WG.safeParse({user_id:M});if(!H.success)throw new Error(H.error.message);return await k6.deleteAllUserTokens(H.data.user_id)}catch(H){throw new Error(H instanceof Error?H.message:"Failed to revoke user tokens")}}rX0.revokeAllUserTokens=X;async function Q(){try{return await k6.deleteExpired()}catch(M){throw new Error(M instanceof Error?M.message:"Failed to cleanup expired tokens")}}rX0.cleanupExpiredTokens=Q})(S2||={});var s8;((YQ0)=>{async function W(M){if(!M.firstname||M.firstname.trim()==="")throw new Error("User firstname is required and cannot be empty.");if(!M.lastname||M.lastname.trim()==="")throw new Error("User lastname is required and cannot be empty.");if(!M.username||M.username.trim()==="")throw new Error("User username is required and cannot be empty.");if(!M.password||M.password.trim()==="")throw new Error("User password is required and cannot be empty.");try{let H=await Bun.password.hash(M.password);return await T6.create({firstname:M.firstname,lastname:M.lastname,username:M.username,email:M.email,password:H})}catch(H){if(H instanceof K0&&H.code==="P2002")throw new Error("Username already exists");throw H}}YQ0.create=W;async function $(M={}){let H=M.page??1,G=M.itemsPerPage??10,B=M.search,{skip:w,take:A}=X5(H,G),q=await T6.findAll({skip:w,take:A,search:B}),N=await T6.countAll(B),z=(N+G-1)/G>>0,D=H<z,_=H>1;return{data:q,meta_data:{page:H,itemsPerPage:G,total:N,totalPages:z,nextPage:D,previousPage:_}}}YQ0.findAll=$;async function J(M){return T6.findById(M)}YQ0.findById=J;async function Y(M,H){try{let G={...H};if(H.password)G.password=await Bun.password.hash(H.password);return await T6.update(M,G)}catch(G){if(G instanceof K0&&G.code==="P2002")throw new Error("Username already exists");throw G}}YQ0.update=Y;async function X(M){return T6.deleteById(M)}YQ0.deleteById=X;async function Q(M,H,G){let B=await T6.findUserByUsername(M);if(!B)throw new Error("User not found");let w=!1;try{w=await Bun.password.verify(H,B.password)}catch(z){throw new Error("Invalid password")}if(!w)throw new Error("Invalid password");let A={role:B.role,username:B.username,sub:B.id},q=await G.sign(A),N=await S2.generateToken(B.id);return{access_token:q,refresh_token:N.token,user:{id:B.id,username:B.username,role:B.role,firstname:B.firstname,lastname:B.lastname,email:B.email}}}YQ0.login=Q})(s8||={});var $G;((MS)=>MS.userController=new Z0({prefix:"/users"}).post("/",async({body:$,set:J})=>{try{let Y=await s8.create($);return J.status=201,{newUser:Y,message:"User has created"}}catch(Y){if(Y.message==="Username already exists")return J.status="Conflict",Y.message;if(J.status="Internal Server Error","message"in Y)return Y.message;return"Internal Server Error"}},{body:U.Omit(A4,["id","role","createdAt","updatedAt"]),response:{201:U.Object({newUser:A4,message:U.String()}),409:U.String(),500:U.String()},tags:["Users"]}).get("/",async({query:$,set:J})=>{let Y=$.page?Number($.page):1,X=$.itemsPerPage?Number($.itemsPerPage):10,Q=$.search,M=await s8.findAll({page:Y,itemsPerPage:X,search:Q});if(M.data.length===0&&Q!==void 0)return J.status="Not Found",{message:"No User found matching your search query."};return M},{query:U.Object({page:U.Optional(U.Numeric()),itemsPerPage:U.Optional(U.Numeric()),search:U.Optional(U.String())}),response:{200:U.Object({data:U.Array(A4),meta_data:U.Object({page:U.Number(),itemsPerPage:U.Number(),total:U.Number(),totalPages:U.Number(),nextPage:U.Boolean(),previousPage:U.Boolean()})}),404:U.Object({message:U.String()}),500:U.String()},tags:["Users"]}).get("/:userId",async({params:$})=>{return await s8.findById($.userId)},{params:U.Object({userId:U.String()}),response:{200:A4,500:U.String()},tags:["Users"]}).patch("/:userId",async({params:$,body:J,set:Y})=>{try{let X=await s8.update($.userId,J);return Y.status="OK",{updateuser:X,message:"User has updated"}}catch(X){if(X.message==="Username already exists")return Y.status="Conflict",X.message;if(Y.status="Internal Server Error","message"in X)return X.message;return"Internal Server Error"}},{body:U.Partial(U.Omit(A4,["id","createdAt","updatedAt"])),params:U.Object({userId:U.String()}),response:{200:A4,409:U.String(),500:U.String()},tags:["Users"]}).delete("/:userId",async({params:$,set:J})=>{try{let Y=await s8.deleteById($.userId);return J.status="OK",{deleteUser:Y,message:"User has deleted"}}catch(Y){if(J.status="Internal Server Error","message"in Y)return Y.message;return"Internal Server Error"}},{params:U.Object({userId:U.String()}),response:{200:A4,500:U.String()},tags:["Users"]}))($G||={});var O9=U.Object({id:U.String(),name:U.String()}),JG=U.Composite([O9,U.Object({classroom:U.Array(U.Object({id:U.String(),name:U.String(),teacher_id:U.String(),department_id:U.String(),grade_level_id:U.String(),grade_level:U.Object({id:U.String(),level:U.UnionEnum(["VOCATIONAL","HIGHER"]),year:U.Number()})})),teacher:U.Array(U.Object({id:U.String(),name:U.String()}))})]);var g6;((AQ0)=>{async function W(H){return n.department.create({data:{...H}})}AQ0.create=W;async function $(H){let G=H.search?{name:{contains:H.search}}:{};return n.department.findMany({where:G,include:{classroom:{include:{grade_level:!0}},teacher:!0},take:H.take,skip:H.skip})}AQ0.findAll=$;async function J(H){return await n.department.findUnique({where:{id:H},include:{classroom:{include:{grade_level:!0}},teacher:!0}})}AQ0.findById=J;async function Y(H,G){return n.department.update({where:{id:H},data:{...G}})}AQ0.update=Y;async function X(H){return n.department.findUnique({where:{name:H}})}AQ0.findByName=X;async function Q(H){return n.department.delete({where:{id:H}})}AQ0.deleteById=Q;async function M(H){let G=H?{name:{contains:H}}:{};return await n.department.count({where:G})}AQ0.countAll=M})(g6||={});var _9;((ZQ0)=>{async function W(Q){if(!Q.name||Q.name.trim()==="")throw new Error("Department name is required and cannot be empty.");let M=await g6.findByName(Q.name);if(console.log("Existing Department:",M),M)throw new Error("Department Name already exists");try{return await g6.create(Q)}catch(H){if(H instanceof K0&&H.code==="P2002")throw new Error("Department Name already exists");throw H}}ZQ0.create=W;async function $(Q={}){let M=Q.page??1,H=Q.itemsPerPage??10,G=Q.search,{skip:B,take:w}=X5(M,H),A=await g6.findAll({skip:B,take:w,search:G}),q=await g6.countAll(G),N=(q+H-1)/H>>0,z=M<N,D=M>1;return{data:A,meta_data:{page:M,itemsPerPage:H,total:q,totalPages:N,nextPage:z,previousPage:D}}}ZQ0.findAll=$;async function J(Q){return g6.findById(Q)}ZQ0.findById=J;async function Y(Q,M){try{let H={...M};return await g6.update(Q,H)}catch(H){if(H instanceof K0&&H.code==="P2002")throw new Error("Department Name already exists");throw H}}ZQ0.update=Y;async function X(Q){return g6.deleteById(Q)}ZQ0.deleteById=X})(_9||={});var YG;((HS)=>HS.departmentController=new Z0({prefix:"/departments"}).post("/",async({body:$,set:J})=>{try{let Y=await _9.create($);return J.status=201,{newDepartment:Y,message:"Department has created"}}catch(Y){if(Y.message==="Department Name already exists")return J.status="Conflict",Y.message;if(J.status="Internal Server Error","message"in Y)return Y.message;return"Internal Server Error"}},{body:U.Omit(O9,["id"]),response:{201:U.Object({newDepartment:O9,message:U.String()}),409:U.String(),500:U.String()},tags:["Departments"]}).get("/",async({query:$,set:J})=>{let Y=$.page?Number($.page):1,X=$.itemsPerPage?Number($.itemsPerPage):10,Q=$.search,M=await _9.findAll({page:Y,itemsPerPage:X,search:Q});if(M.data.length===0&&Q!==void 0)return J.status="Not Found",{message:"No Department found matching your search query."};return M},{query:U.Object({page:U.Optional(U.Numeric()),itemsPerPage:U.Optional(U.Numeric()),search:U.Optional(U.String())}),response:{200:U.Object({data:U.Array(JG),meta_data:U.Object({page:U.Number(),itemsPerPage:U.Number(),total:U.Number(),totalPages:U.Number(),nextPage:U.Boolean(),previousPage:U.Boolean()})}),404:U.Object({message:U.String()}),500:U.String()},tags:["Departments"]}).get("/:DepartmentId",async({params:$})=>{return await _9.findById($.DepartmentId)},{params:U.Object({DepartmentId:U.String()}),response:{200:JG,500:U.String()},tags:["Departments"]}).patch("/:DepartmentId",async({params:$,body:J,set:Y})=>{try{let X=await _9.update($.DepartmentId,J);return Y.status="OK",{updateDepartment:X,message:"Department has updated"}}catch(X){if(X.message==="Department Name already exists")return Y.status="Conflict",X.message;if(Y.status="Internal Server Error","message"in X)return X.message;return"Internal Server Error"}},{body:U.Partial(U.Omit(O9,["id"])),params:U.Object({DepartmentId:U.String()}),response:{200:O9,409:U.String(),500:U.String()},tags:["Departments"]}).delete("/:DepartmentId",async({params:$,set:J})=>{try{let Y=await _9.deleteById($.DepartmentId);return J.status="OK",{deleteDepartment:Y,message:"Department has deleted"}}catch(Y){if(J.status="Internal Server Error","message"in Y)return Y.message;return"Internal Server Error"}},{params:U.Object({DepartmentId:U.String()}),response:{200:O9,500:U.String()},tags:["Departments"]}))(YG||={});var C4=U.Object({id:U.String(),name:U.String(),department_id:U.String(),createdAt:U.Date(),updatedAt:U.Date()}),Ch=U.Object({id:U.String(),name:U.String()}),Vh=U.Object({id:U.String(),level:U.UnionEnum(["VOCATIONAL","HIGHER"]),year:U.Number()}),bh=U.Object({id:U.String(),name:U.String()}),Eh=U.Object({id:U.String()}),Ph=U.Object({id:U.String()}),Rh=U.Object({id:U.String(),name:U.String(),teacher_id:U.String(),department_id:U.String(),grade_level_id:U.String(),department:Ch,grade_level:Vh,teacher:bh,teams:U.Array(Eh),orders:U.Array(Ph)}),GS=U.Composite([C4,U.Object({classroom:U.Array(Rh)})]);var V4;((VQ0)=>{async function W(M){return n.teacher.create({data:{...M}})}VQ0.create=W;async function $(M){let H=M.search?{name:{contains:M.search}}:{},G=await n.teacher.findMany({where:H,include:{classroom:{include:{grade_level:!0,department:!0,teacher:!0,orders:{select:{id:!0}}}}},take:M.take,skip:M.skip});return await Promise.all(G.map(async(w)=>{let A=await Promise.all((w.classroom||[]).map(async(q)=>{let N=await n.team.findMany({where:{classroom_ids:{has:q.id}},select:{id:!0}});return{...q,teams:N}}));return{...w,classroom:A}}))}VQ0.findAll=$;async function J(M){return await n.teacher.findUnique({where:{id:M}})}VQ0.findById=J;async function Y(M,H){return n.teacher.update({where:{id:M},data:{...H}})}VQ0.update=Y;async function X(M){return n.teacher.delete({where:{id:M}})}VQ0.deleteById=X;async function Q(M){let H=M?{name:{contains:M}}:{};return await n.teacher.count({where:H})}VQ0.countAll=Q})(V4||={});var L9;((IQ0)=>{async function W(Q){if(!Q.name||Q.name.trim()==="")throw new Error("Teacher name is required and cannot be empty.");try{return V4.create(Q)}catch(M){if(M instanceof K0&&M.code==="P2002")throw new Error("Teachername already exists");throw M}}IQ0.create=W;async function $(Q={}){let M=Q.page??1,H=Q.itemsPerPage??10,G=Q.search,{skip:B,take:w}=X5(M,H),A=await V4.findAll({skip:B,take:w,search:G}),q=await V4.countAll(G),N=(q+H-1)/H>>0,z=M<N,D=M>1;return{data:A,meta_data:{page:M,itemsPerPage:H,total:q,totalPages:N,nextPage:z,previousPage:D}}}IQ0.findAll=$;async function J(Q){return V4.findById(Q)}IQ0.findById=J;async function Y(Q,M){try{let H={...M};return await V4.update(Q,H)}catch(H){if(H instanceof K0&&H.code==="P2002")throw new Error("Teachername already exists");throw H}}IQ0.update=Y;async function X(Q){return V4.deleteById(Q)}IQ0.deleteById=X})(L9||={});var XG;((BS)=>BS.teacherController=new Z0({prefix:"/teachers"}).post("/",async({body:$,set:J})=>{try{let Y=await L9.create($);return J.status=201,{newTeacher:Y,message:"Teacher has created"}}catch(Y){if(Y.message==="Teachername already exists")return J.status="Conflict",Y.message;if(J.status="Internal Server Error","message"in Y)return Y.message;return"Internal Server Error"}},{body:U.Omit(C4,["id","createdAt","updatedAt"]),response:{201:U.Object({newTeacher:C4,message:U.String()}),409:U.String(),500:U.String()},tags:["Teachers"]}).get("/",async({query:$,set:J})=>{let Y=$.page?Number($.page):1,X=$.itemsPerPage?Number($.itemsPerPage):10,Q=$.search,M=await L9.findAll({page:Y,itemsPerPage:X,search:Q});if(M.data.length===0&&Q!==void 0)return J.status="Not Found",{message:"No Teacher found matching your search query."};return M},{query:U.Object({page:U.Optional(U.Numeric()),itemsPerPage:U.Optional(U.Numeric()),search:U.Optional(U.String())}),response:{200:U.Object({data:U.Array(GS),meta_data:U.Object({page:U.Number(),itemsPerPage:U.Number(),total:U.Number(),totalPages:U.Number(),nextPage:U.Boolean(),previousPage:U.Boolean()})}),404:U.Object({message:U.String()}),500:U.String()},tags:["Teachers"]}).get("/:TeacherId",async({params:$})=>{return await L9.findById($.TeacherId)},{params:U.Object({TeacherId:U.String()}),response:{200:C4,500:U.String()},tags:["Teachers"]}).patch("/:TeacherId",async({params:$,body:J,set:Y})=>{try{let X=await L9.update($.TeacherId,J);return Y.status="OK",{updateTeacher:X,message:"Teacher has updated"}}catch(X){if(X.message==="Teachername already exists")return Y.status="Conflict",X.message;if(Y.status="Internal Server Error","message"in X)return X.message;return"Internal Server Error"}},{body:U.Partial(U.Omit(C4,["id","createdAt","updatedAt"])),params:U.Object({TeacherId:U.String()}),response:{200:C4,409:U.String(),500:U.String()},tags:["Teachers"]}).delete("/:TeacherId",async({params:$,set:J})=>{try{let Y=await L9.deleteById($.TeacherId);return J.status="OK",{deleteTeacher:Y,message:"Teacher has deleted"}}catch(Y){if(J.status="Internal Server Error","message"in Y)return Y.message;return"Internal Server Error"}},{params:U.Object({TeacherId:U.String()}),response:{200:C4,500:U.String()},tags:["Teachers"]}))(XG||={});var b4=U.Object({id:U.String(),level:U.UnionEnum(["VOCATIONAL","HIGHER"]),year:U.Number()}),US=U.Composite([b4,U.Object({classroom:U.Array(U.Object({id:U.String(),name:U.String(),teacher_id:U.String(),department_id:U.String(),grade_level_id:U.String()}))})]);var E4;((cQ0)=>{async function W(M){return n.gradeLevel.create({data:{...M}})}cQ0.create=W;async function $(M){return n.gradeLevel.findMany({include:{classroom:!0},take:M.take,skip:M.skip})}cQ0.findAll=$;async function J(M){return await n.gradeLevel.findUnique({where:{id:M}})}cQ0.findById=J;async function Y(M,H){return n.gradeLevel.update({where:{id:M},data:{...H}})}cQ0.update=Y;async function X(M){return n.gradeLevel.delete({where:{id:M}})}cQ0.deleteById=X;async function Q(M){let H=M?{findAll:{contains:M}}:{};return await n.gradeLevel.count({where:H})}cQ0.countAll=Q})(E4||={});var j9;((pQ0)=>{async function W(Q){if(!Q.level)throw new Error("GradeLevel level is required.");if(Q.year===void 0||Q.year===null)throw new Error("GradeLevel year is required.");try{return E4.create(Q)}catch(M){if(M instanceof K0&&M.code==="P2002")throw new Error("GradeLevelname already exists");throw M}}pQ0.create=W;async function $(Q={}){let M=Q.page??1,H=Q.itemsPerPage??10,G=Q.search,{skip:B,take:w}=X5(M,H),A=await E4.findAll({skip:B,take:w,search:G}),q=await E4.countAll(G),N=(q+H-1)/H>>0,z=M<N,D=M>1;return{data:A,meta_data:{page:M,itemsPerPage:H,total:q,totalPages:N,nextPage:z,previousPage:D}}}pQ0.findAll=$;async function J(Q){return E4.findById(Q)}pQ0.findById=J;async function Y(Q,M){try{let H={...M};return await E4.update(Q,H)}catch(H){if(H instanceof K0&&H.code==="P2002")throw new Error("GradeLevelname already exists");throw H}}pQ0.update=Y;async function X(Q){return E4.deleteById(Q)}pQ0.deleteById=X})(j9||={});var QG;((wS)=>wS.gradeLevelController=new Z0({prefix:"/grade-levels"}).post("/",async({body:$,set:J})=>{try{let Y=await j9.create($);return J.status=201,{newGradeLevel:Y,message:"GradeLevel has created"}}catch(Y){if(Y.message==="GradeLevelname already exists")return J.status="Conflict",Y.message;if(J.status="Internal Server Error","message"in Y)return Y.message;return"Internal Server Error"}},{body:U.Omit(b4,["id"]),response:{201:U.Object({newGradeLevel:b4,message:U.String()}),409:U.String(),500:U.String()},tags:["GradeLevels"]}).get("/",async({query:$,set:J})=>{let Y=$.page?Number($.page):1,X=$.itemsPerPage?Number($.itemsPerPage):10,Q=$.search,M=await j9.findAll({page:Y,itemsPerPage:X,search:Q});if(M.data.length===0&&Q!==void 0)return J.status="Not Found",{message:"No GradeLevel found matching your search query."};return M},{query:U.Object({page:U.Optional(U.Numeric()),itemsPerPage:U.Optional(U.Numeric()),search:U.Optional(U.String())}),response:{200:U.Object({data:U.Array(US),meta_data:U.Object({page:U.Number(),itemsPerPage:U.Number(),total:U.Number(),totalPages:U.Number(),nextPage:U.Boolean(),previousPage:U.Boolean()})}),404:U.Object({message:U.String()}),500:U.String()},tags:["GradeLevels"]}).get("/:GradeLevelId",async({params:$})=>{return await j9.findById($.GradeLevelId)},{params:U.Object({GradeLevelId:U.String()}),response:{200:b4,500:U.String()},tags:["GradeLevels"]}).patch("/:GradeLevelId",async({params:$,body:J,set:Y})=>{try{let X=await j9.update($.GradeLevelId,J);return Y.status="OK",{updateGradeLevel:X,message:"GradeLevel has updated"}}catch(X){if(X.message==="GradeLevelname already exists")return Y.status="Conflict",X.message;if(Y.status="Internal Server Error","message"in X)return X.message;return"Internal Server Error"}},{body:U.Partial(U.Omit(b4,["id"])),params:U.Object({GradeLevelId:U.String()}),response:{200:b4,409:U.String(),500:U.String()},tags:["GradeLevels"]}).delete("/:GradeLevelId",async({params:$,set:J})=>{try{let Y=await j9.deleteById($.GradeLevelId);return J.status="OK",{deleteGradeLevel:Y,message:"GradeLevel has deleted"}}catch(Y){if(J.status="Internal Server Error","message"in Y)return Y.message;return"Internal Server Error"}},{params:U.Object({GradeLevelId:U.String()}),response:{200:b4,500:U.String()},tags:["GradeLevels"]}))(QG||={});var P4=U.Object({id:U.String(),name:U.String(),teacher_id:U.String(),department_id:U.String(),grade_level_id:U.String(),createdAt:U.Date(),updatedAt:U.Date()}),Ih=U.Object({id:U.String(),name:U.String(),department_id:U.String()}),AS=U.Composite([P4,U.Object({teacher:Ih,department:U.Object({id:U.String(),name:U.String()}),grade_level:U.Object({id:U.String(),level:U.UnionEnum(["VOCATIONAL","HIGHER"]),year:U.Number()}),teams:U.Array(U.Object({id:U.String()})),orders:U.Array(U.Object({id:U.String()}))})]);var R4;((WM0)=>{async function W(M){let H=await n.teacher.findUnique({where:{id:M.teacher_id}}),G=await n.department.findUnique({where:{id:M.department_id}});if(!H)throw new Error(`Teacher with id ${M.teacher_id} not found`);if(!G)throw new Error(`Department with id ${M.department_id} not found`);return n.classroom.create({data:{...M}})}WM0.create=W;async function $(M){let H=await n.classroom.findMany({include:{department:!0,grade_level:!0,teacher:!0,orders:!0},take:M.take,skip:M.skip});return await Promise.all(H.map(async(B)=>{let w=await n.team.findMany({where:{classroom_ids:{has:B.id}}});return{...B,teams:w}}))}WM0.findAll=$;async function J(M){return await n.classroom.findUnique({where:{id:M}})}WM0.findById=J;async function Y(M,H){return n.classroom.update({where:{id:M},data:{...H}})}WM0.update=Y;async function X(M){return n.classroom.delete({where:{id:M}})}WM0.deleteById=X;async function Q(M){let H=M?{name:{contains:M}}:{};return await n.classroom.count({where:H})}WM0.countAll=Q})(R4||={});var F9;((QM0)=>{async function W(Q){if(!Q.name||Q.name.trim()==="")throw new Error("Classroom name is required and cannot be empty.");try{return R4.create(Q)}catch(M){if(M instanceof K0&&M.code==="P2002")throw new Error("Classroom name already exists");throw M}}QM0.create=W;async function $(Q={}){let M=Q.page??1,H=Q.itemsPerPage??10,G=Q.search,{skip:B,take:w}=X5(M,H),A=await R4.findAll({skip:B,take:w,search:G}),q=await R4.countAll(G),N=(q+H-1)/H>>0,z=M<N,D=M>1;return{data:A.map((L)=>({...L,teacher:{...L.teacher,classroom:[L]}})),meta_data:{page:M,itemsPerPage:H,total:q,totalPages:N,nextPage:z,previousPage:D}}}QM0.findAll=$;async function J(Q){return R4.findById(Q)}QM0.findById=J;async function Y(Q,M){try{let H={...M};return await R4.update(Q,H)}catch(H){if(H instanceof K0&&H.code==="P2002")throw new Error("Classroomname already exists");throw H}}QM0.update=Y;async function X(Q){return R4.deleteById(Q)}QM0.deleteById=X})(F9||={});var MG;((NS)=>NS.classroomController=new Z0({prefix:"/classrooms"}).post("/",async({body:$,set:J})=>{try{let Y=await F9.create($);return J.status=201,{newClassroom:Y,message:"Classroom has created"}}catch(Y){if(Y.message==="Classroomname already exists")return J.status="Conflict",Y.message;if(J.status="Internal Server Error","message"in Y)return Y.message;return"Internal Server Error"}},{body:U.Omit(P4,["id","createdAt","updatedAt"]),response:{201:U.Object({newClassroom:P4,message:U.String()}),409:U.String(),500:U.String()},tags:["Classrooms"]}).get("/",async({query:$,set:J})=>{let Y=$.page?Number($.page):1,X=$.itemsPerPage?Number($.itemsPerPage):10,Q=$.search,M=await F9.findAll({page:Y,itemsPerPage:X,search:Q});if(M.data.length===0&&Q!==void 0)return J.status="Not Found",{message:"No Classroom found matching your search query."};return M},{query:U.Object({page:U.Optional(U.Numeric()),itemsPerPage:U.Optional(U.Numeric()),search:U.Optional(U.String())}),response:{200:U.Object({data:U.Array(AS),meta_data:U.Object({page:U.Number(),itemsPerPage:U.Number(),total:U.Number(),totalPages:U.Number(),nextPage:U.Boolean(),previousPage:U.Boolean()})}),404:U.Object({message:U.String()}),500:U.String()},tags:["Classrooms"]}).get("/:ClassroomId",async({params:$})=>{return await F9.findById($.ClassroomId)},{params:U.Object({ClassroomId:U.String()}),response:{200:P4,500:U.String()},tags:["Classrooms"]}).patch("/:ClassroomId",async({params:$,body:J,set:Y})=>{try{let X=await F9.update($.ClassroomId,J);return Y.status="OK",{updateClassroom:X,message:"Classroom has updated"}}catch(X){if(X.message==="Classroomname already exists")return Y.status="Conflict",X.message;if(Y.status="Internal Server Error","message"in X)return X.message;return"Internal Server Error"}},{body:U.Partial(U.Omit(P4,["id","createdAt","updatedAt"])),params:U.Object({ClassroomId:U.String()}),response:{200:P4,409:U.String(),500:U.String()},tags:["Classrooms"]}).delete("/:ClassroomId",async({params:$,set:J})=>{try{let Y=await F9.deleteById($.ClassroomId);return J.status="OK",{deleteClassroom:Y,message:"Classroom has deleted"}}catch(Y){if(J.status="Internal Server Error","message"in Y)return Y.message;return"Internal Server Error"}},{params:U.Object({ClassroomId:U.String()}),response:{200:P4,500:U.String()},tags:["Classrooms"]}))(MG||={});var JW=U.Object({id:U.String(),name:U.String(),classroom_ids:U.Array(U.String()),createdAt:U.Date(),updatedAt:U.Date()}),xh=U.Object({id:U.String(),name:U.String(),teacher_id:U.String(),department_id:U.String(),grade_level_id:U.String()}),Th=U.Object({id:U.String(),name:U.String()}),kh=U.Object({id:U.String(),level:U.String(),year:U.Number()}),HG=U.Composite([JW,U.Object({classrooms:U.Optional(U.Array(xh)),departments:U.Optional(U.Array(Th)),gradeLevels:U.Optional(U.Array(kh)),orders:U.Optional(U.Array(U.Object({id:U.String()})))})]);var I4;((qM0)=>{async function W(M){return n.team.create({data:{name:M.name,classroom_ids:M.classroom_ids}})}qM0.create=W;async function $(M){let H=M.search?{name:{contains:M.search}}:{},G=await n.team.findMany({where:H,include:{orders:{select:{id:!0}}},take:M.take,skip:M.skip});return await Promise.all(G.map(async(w)=>{let A=await n.classroom.findMany({where:{id:{in:w.classroom_ids}},include:{department:!0,grade_level:!0}}),q=new Map,N=new Map;return A.forEach((z)=>{if(z.department)q.set(z.department.id,z.department);if(z.grade_level)N.set(z.grade_level.id,z.grade_level)}),{...w,classrooms:A,departments:Array.from(q.values()),gradeLevels:Array.from(N.values())}}))}qM0.findAll=$;async function J(M){let H=await n.team.findUnique({where:{id:M},include:{orders:!0}});if(!H)return null;let G=await n.classroom.findMany({where:{id:{in:H.classroom_ids}},include:{department:!0,grade_level:!0}}),B=new Map,w=new Map;return G.forEach((A)=>{if(A.department)B.set(A.department.id,A.department);if(A.grade_level)w.set(A.grade_level.id,A.grade_level)}),{...H,classrooms:G,departments:Array.from(B.values()),gradeLevels:Array.from(w.values())}}qM0.findById=J;async function Y(M,H){return await n.team.update({where:{id:M},data:{...H.name!==void 0&&{name:H.name},...H.classroom_ids!==void 0&&{classroom_ids:H.classroom_ids}}})}qM0.update=Y;async function X(M){return await n.team.delete({where:{id:M}})}qM0.remove=X;async function Q(M){let H=M?{name:{contains:M}}:{};return n.team.count({where:H})}qM0.countAll=Q})(I4||={});var K9;((OM0)=>{async function W(Q){if(!Q.name||Q.name.trim()==="")throw new Error("Team name is required and cannot be empty.");if(!Q.classroom_ids||Q.classroom_ids.length===0)throw new Error("At least one classroom is required.");try{return await I4.create(Q)}catch(M){if(M instanceof K0&&M.code==="P2002")throw new Error("Team name already exists");throw M}}OM0.create=W;async function $(Q={}){let M=Q.page??1,H=Q.itemsPerPage??10,G=Q.search,{skip:B,take:w}=X5(M,H),A=await I4.findAll({skip:B,take:w,search:G}),q=await I4.countAll(G),N=Math.ceil(q/H),z=M<N,D=M>1;return{data:A,meta_data:{page:M,itemsPerPage:H,total:q,totalPages:N,nextPage:z,previousPage:D}}}OM0.findAll=$;async function J(Q){let M=await I4.findById(Q);if(!M)throw new Error("Team not found");return M}OM0.findById=J;async function Y(Q,M){if(M.classroom_ids&&M.classroom_ids.length===0)throw new Error("At least one classroom is required.");try{return await I4.update(Q,M)}catch(H){if(H instanceof K0){if(H.code==="P2025")throw new Error("Team not found");if(H.code==="P2002")throw new Error("Team name already exists")}throw H}}OM0.update=Y;async function X(Q){try{return await I4.remove(Q)}catch(M){if(M instanceof K0&&M.code==="P2025")throw new Error("Team not found");throw M}}OM0.remove=X})(K9||={});var GG;((qS)=>qS.teamController=new Z0({prefix:"/teams"}).post("/",async({body:$,set:J})=>{try{let Y=await K9.create($);return J.status=201,{newTeam:Y,message:"Team has been created"}}catch(Y){if(Y.message==="Team name already exists")return J.status="Conflict",Y.message;if(J.status="Internal Server Error","message"in Y)return Y.message;return"Internal Server Error"}},{body:U.Omit(JW,["id","createdAt","updatedAt"]),response:{201:U.Object({newTeam:JW,message:U.String()}),409:U.String(),500:U.String()},tags:["Teams"]}).get("/",async({query:$,set:J})=>{let Y=$.page?Number($.page):1,X=$.itemsPerPage?Number($.itemsPerPage):10,Q=$.search,M=await K9.findAll({page:Y,itemsPerPage:X,search:Q});if(M.data.length===0&&Q!==void 0)return J.status="Not Found",{message:"No team found matching your search query."};return M},{query:U.Object({page:U.Optional(U.Numeric()),itemsPerPage:U.Optional(U.Numeric()),search:U.Optional(U.String())}),response:{200:U.Object({data:U.Array(HG),meta_data:U.Object({page:U.Number(),itemsPerPage:U.Number(),total:U.Number(),totalPages:U.Number(),nextPage:U.Boolean(),previousPage:U.Boolean()})}),404:U.Object({message:U.String()}),500:U.String()},tags:["Teams"]}).get("/:teamId",async({params:{teamId:$},set:J})=>{try{return await K9.findById($)}catch(Y){if(Y.message==="Team not found")return J.status="Not Found",Y.message;return J.status="Internal Server Error","Internal Server Error"}},{params:U.Object({teamId:U.String()}),response:{200:HG,404:U.String(),500:U.String()},tags:["Teams"]}).put("/:teamId",async({params:{teamId:$},body:J,set:Y})=>{try{return{updatedTeam:await K9.update($,J),message:"Team has been updated"}}catch(X){if(X.message==="Team not found")return Y.status="Not Found",X.message;if(X.message==="Team name already exists")return Y.status="Conflict",X.message;return Y.status="Internal Server Error","Internal Server Error"}},{params:U.Object({teamId:U.String()}),body:U.Partial(U.Omit(JW,["id","createdAt","updatedAt"])),response:{200:U.Object({updatedTeam:JW,message:U.String()}),404:U.String(),409:U.String(),500:U.String()},tags:["Teams"]}).delete("/:teamId",async({params:{teamId:$},set:J})=>{try{return await K9.remove($),{message:"Team has been deleted"}}catch(Y){if(Y.message==="Team not found")return J.status="Not Found",Y.message;return J.status="Internal Server Error","Internal Server Error"}},{params:U.Object({teamId:U.String()}),response:{200:U.Object({message:U.String()}),404:U.String(),500:U.String()},tags:["Teams"]}))(GG||={});var YW=U.Object({id:U.String(),name:U.String(),price:U.Number(),createdAt:U.Date(),updatedAt:U.Date()}),gh=U.Object({id:U.String(),quantity:U.Number(),order_id:U.String(),product_id:U.String()}),BG=U.Composite([YW,U.Object({orderItems:U.Array(gh)})]);var x4;((EM0)=>{async function W(M){return n.product.create({data:{...M}})}EM0.create=W;async function $(M){let H=M.search?{OR:[{name:{contains:M.search}},{description:{contains:M.search}}]}:{};return n.product.findMany({where:H,include:{orderItems:{select:{id:!0,quantity:!0,order_id:!0,product_id:!0}}},take:M.take,skip:M.skip})}EM0.findAll=$;async function J(M){return await n.product.findUnique({where:{id:M},include:{orderItems:!0}})}EM0.findById=J;async function Y(M,H){return await n.product.update({where:{id:M},data:H})}EM0.update=Y;async function X(M){return await n.product.delete({where:{id:M}})}EM0.remove=X;async function Q(M){let H=M?{OR:[{name:{contains:M}},{description:{contains:M}}]}:{};return n.product.count({where:H})}EM0.countAll=Q})(x4||={});var C9;((TM0)=>{async function W(Q){if(!Q.name||Q.name.trim()==="")throw new Error("Product name is required and cannot be empty.");if(Q.price<0)throw new Error("Product price cannot be negative.");try{return await x4.create(Q)}catch(M){if(M instanceof K0&&M.code==="P2002")throw new Error("Product name already exists");throw M}}TM0.create=W;async function $(Q={}){let M=Q.page??1,H=Q.itemsPerPage??10,G=Q.search,{skip:B,take:w}=X5(M,H),A=await x4.findAll({skip:B,take:w,search:G}),q=await x4.countAll(G),N=Math.ceil(q/H),z=M<N,D=M>1;return{data:A,meta_data:{page:M,itemsPerPage:H,total:q,totalPages:N,nextPage:z,previousPage:D}}}TM0.findAll=$;async function J(Q){let M=await x4.findById(Q);if(!M)throw new Error("Product not found");return M}TM0.findById=J;async function Y(Q,M){if(M.price!==void 0&&M.price<0)throw new Error("Product price cannot be negative.");try{return await x4.update(Q,M)}catch(H){if(H instanceof K0){if(H.code==="P2025")throw new Error("Product not found");if(H.code==="P2002")throw new Error("Product name already exists")}throw H}}TM0.update=Y;async function X(Q){try{return await x4.remove(Q)}catch(M){if(M instanceof K0&&M.code==="P2025")throw new Error("Product not found");throw M}}TM0.remove=X})(C9||={});var UG;((zS)=>zS.productController=new Z0({prefix:"/products"}).post("/",async({body:$,set:J})=>{try{let Y=await C9.create($);return J.status=201,{newProduct:Y,message:"Product has been created"}}catch(Y){if(Y.message==="Product name already exists")return J.status="Conflict",Y.message;if(Y.message.includes("price"))return J.status=400,Y.message;if(J.status="Internal Server Error","message"in Y)return Y.message;return"Internal Server Error"}},{body:U.Omit(YW,["id","createdAt","updatedAt"]),response:{201:U.Object({newProduct:YW,message:U.String()}),400:U.String(),409:U.String(),500:U.String()},tags:["Products"]}).get("/",async({query:$,set:J})=>{let Y=$.page?Number($.page):1,X=$.itemsPerPage?Number($.itemsPerPage):10,Q=$.search,M=await C9.findAll({page:Y,itemsPerPage:X,search:Q});if(M.data.length===0&&Q!==void 0)return J.status="Not Found",{message:"No product found matching your search query."};return M},{query:U.Object({page:U.Optional(U.Numeric()),itemsPerPage:U.Optional(U.Numeric()),search:U.Optional(U.String())}),response:{200:U.Object({data:U.Array(BG),meta_data:U.Object({page:U.Number(),itemsPerPage:U.Number(),total:U.Number(),totalPages:U.Number(),nextPage:U.Boolean(),previousPage:U.Boolean()})}),404:U.Object({message:U.String()}),500:U.String()},tags:["Products"]}).get("/:productId",async({params:{productId:$},set:J})=>{try{return await C9.findById($)}catch(Y){if(Y.message==="Product not found")return J.status="Not Found",Y.message;return J.status="Internal Server Error","Internal Server Error"}},{params:U.Object({productId:U.String()}),response:{200:BG,404:U.String(),500:U.String()},tags:["Products"]}).put("/:productId",async({params:{productId:$},body:J,set:Y})=>{try{return{updatedProduct:await C9.update($,J),message:"Product has been updated"}}catch(X){if(X.message==="Product not found")return Y.status="Not Found",X.message;if(X.message==="Product name already exists")return Y.status="Conflict",X.message;if(X.message.includes("price"))return Y.status=400,X.message;return Y.status="Internal Server Error","Internal Server Error"}},{params:U.Object({productId:U.String()}),body:U.Partial(U.Omit(YW,["id"])),response:{200:U.Object({updatedProduct:YW,message:U.String()}),400:U.String(),404:U.String(),409:U.String(),500:U.String()},tags:["Products"]}).delete("/:productId",async({params:{productId:$},set:J})=>{try{return await C9.remove($),{message:"Product has been deleted"}}catch(Y){if(Y.message==="Product not found")return J.status="Not Found",Y.message;return J.status="Internal Server Error","Internal Server Error"}},{params:U.Object({productId:U.String()}),response:{200:U.Object({message:U.String()}),404:U.String(),500:U.String()},tags:["Products"]}))(UG||={});var fh=U.UnionEnum(["pending","complete","cancelled"]),XW=U.Object({id:U.String(),customerName:U.String(),classroom_id:U.Optional(U.String()),team_id:U.Optional(U.Nullable(U.String())),orderDate:U.Nullable(U.Date()),totalPrice:U.Number(),book_number:U.Number(),number:U.Number(),phone:U.String(),pickup_date:U.Nullable(U.Date()),depository:U.Optional(U.String()),deposit:U.Number(),advisor:U.String(),status:fh,createdAt:U.Date(),updatedAt:U.Date()}),vh=U.Object({id:U.String(),name:U.String(),teacher_id:U.String(),department_id:U.String(),grade_level_id:U.String()}),yh=U.Object({id:U.Optional(U.String()),name:U.Optional(U.String()),classroom_id:U.Optional(U.String())}),dh=U.Object({id:U.String(),order_id:U.String(),product_id:U.String(),pound:U.Number(),quantity:U.Number(),unitPrice:U.Number(),subtotal:U.Number(),createdAt:U.Date(),updatedAt:U.Date()}),wG=U.Composite([XW,U.Object({classroom:U.Optional(vh),team:U.Nullable(yh),order_items:U.Array(dh)})]);var a8;((mM0)=>{async function W(H){return n.order.create({data:{...H},include:{classroom:!0,team:!0,order_items:!0}})}mM0.create=W;async function $(H){let G=H.search?{OR:[{customerName:{contains:H.search}},{advisor:{contains:H.search}}]}:{};return n.order.findMany({where:G,include:{classroom:!0,team:!0,order_items:!0},take:H.take,skip:H.skip,orderBy:{createdAt:"desc"}})}mM0.findAll=$;async function J(H){return await n.order.findUnique({where:{id:H},include:{classroom:!0,team:!0,order_items:!0}})}mM0.findById=J;async function Y(H,G){return await n.order.update({where:{id:H},data:G,include:{classroom:!0,team:!0,order_items:!0}})}mM0.update=Y;async function X(H){return await n.order.delete({where:{id:H}})}mM0.remove=X;async function Q(H){let G=H?{OR:[{customerName:{contains:H}},{advisor:{contains:options.search}}]}:{};return n.order.count({where:G})}mM0.countAll=Q;async function M(H,G){return n.order.findFirst({where:{book_number:H,number:G}})}mM0.findByBookNumberAndNumber=M})(a8||={});var V9;((nM0)=>{async function W(Q){if(!Q.customerName||Q.customerName.trim()==="")throw new Error("Customer name is required and cannot be empty.");if(Q.totalPrice<0)throw new Error("Total price cannot be negative.");if(Q.deposit<0)throw new Error("Deposit cannot be negative.");if(Q.deposit>Q.totalPrice)throw new Error("Deposit cannot be greater than total price.");if(await a8.findByBookNumberAndNumber(Q.book_number,Q.number))throw new Error("Book number and number combination already exists.");try{return await a8.create(Q)}catch(H){if(H instanceof K0){if(H.code==="P2002")throw new Error("Book number and number combination already exists")}throw H}}nM0.create=W;async function $(Q={}){let M=Q.page??1,H=Q.itemsPerPage??10,G=Q.search,{skip:B,take:w}=X5(M,H),A=await a8.findAll({skip:B,take:w,search:G}),q=await a8.countAll(G),N=Math.ceil(q/H),z=M<N,D=M>1;return{data:A,meta_data:{page:M,itemsPerPage:H,total:q,totalPages:N,nextPage:z,previousPage:D}}}nM0.findAll=$;async function J(Q){let M=await a8.findById(Q);if(!M)throw new Error("Order not found");return M}nM0.findById=J;async function Y(Q,M){if(M.totalPrice!==void 0&&M.totalPrice<0)throw new Error("Total price cannot be negative.");if(M.deposit!==void 0&&M.deposit<0)throw new Error("Deposit cannot be negative.");let H=await a8.findById(Q);if(!H)throw new Error("Order not found");if(M.deposit!==void 0&&M.totalPrice===void 0&&M.deposit>H.totalPrice)throw new Error("Deposit cannot be greater than total price.");if(M.totalPrice!==void 0&&M.deposit===void 0&&H.deposit>M.totalPrice)throw new Error("Total price cannot be less than deposit.");if(M.totalPrice!==void 0&&M.deposit!==void 0&&M.deposit>M.totalPrice)throw new Error("Deposit cannot be greater than total price.");try{return await a8.update(Q,M)}catch(G){if(G instanceof K0){if(G.code==="P2025")throw new Error("Order not found");if(G.code==="P2002")throw new Error("Book number and number combination already exists")}throw G}}nM0.update=Y;async function X(Q){try{return await a8.remove(Q)}catch(M){if(M instanceof K0&&M.code==="P2025")throw new Error("Order not found");throw M}}nM0.remove=X})(V9||={});var AG;((DS)=>DS.orderController=new Z0({prefix:"/orders"}).post("/",async({body:$,set:J})=>{try{let Y=await V9.create($);return J.status=201,{newOrder:Y,message:"Order has been created"}}catch(Y){if(Y instanceof Error){if(Y.message.includes("already exists"))return J.status="Conflict",Y.message;if(Y.message.includes("cannot be"))return J.status=400,Y.message}return J.status="Internal Server Error","Internal Server Error"}},{body:U.Omit(XW,["id","createdAt","updatedAt"]),response:{201:U.Object({newOrder:XW,message:U.String()}),400:U.String(),409:U.String(),500:U.String()},tags:["Orders"]}).get("/",async({query:$,set:J})=>{let Y=$.page?Number($.page):1,X=$.itemsPerPage?Number($.itemsPerPage):10,Q=$.search,M=await V9.findAll({page:Y,itemsPerPage:X,search:Q});if(M.data.length===0&&Q!==void 0)return J.status="Not Found",{message:"No order found matching your search query."};return M},{query:U.Object({page:U.Optional(U.Numeric()),itemsPerPage:U.Optional(U.Numeric()),search:U.Optional(U.String())}),response:{200:U.Object({data:U.Array(wG),meta_data:U.Object({page:U.Number(),itemsPerPage:U.Number(),total:U.Number(),totalPages:U.Number(),nextPage:U.Boolean(),previousPage:U.Boolean()})}),404:U.Object({message:U.String()}),500:U.String()},tags:["Orders"]}).get("/:orderId",async({params:{orderId:$},set:J})=>{try{return await V9.findById($)}catch(Y){if(Y instanceof Error){if(Y.message==="Order not found")return J.status="Not Found",Y.message}return J.status="Internal Server Error","Internal Server Error"}},{params:U.Object({orderId:U.String()}),response:{200:wG,404:U.String(),500:U.String()},tags:["Orders"]}).put("/:orderId",async({params:{orderId:$},body:J,set:Y})=>{try{return{updatedOrder:await V9.update($,J),message:"Order has been updated"}}catch(X){if(X instanceof Error){if(X.message==="Order not found")return Y.status="Not Found",X.message;if(X.message.includes("already exists"))return Y.status="Conflict",X.message;if(X.message.includes("cannot be"))return Y.status=400,X.message}return Y.status="Internal Server Error","Internal Server Error"}},{params:U.Object({orderId:U.String()}),body:U.Partial(U.Omit(XW,["id","createdAt","updatedAt"])),response:{200:U.Object({updatedOrder:XW,message:U.String()}),400:U.String(),404:U.String(),409:U.String(),500:U.String()},tags:["Orders"]}).delete("/:orderId",async({params:{orderId:$},set:J})=>{try{return await V9.remove($),{message:"Order has been deleted"}}catch(Y){if(Y instanceof Error){if(Y.message==="Order not found")return J.status="Not Found",Y.message}return J.status="Internal Server Error","Internal Server Error"}},{params:U.Object({orderId:U.String()}),response:{200:U.Object({message:U.String()}),404:U.String(),500:U.String()},tags:["Orders"]}))(AG||={});var O2;((WH0)=>{async function W(H){let G=await n.product.findUnique({where:{id:H.product_id},select:{price:!0}});if(!G)throw new Error("Product not found");let B=G.price*H.pound*H.quantity;return n.orderItem.create({data:{...H,subtotal:B},include:{product:!0,order:!0}})}WH0.create=W;async function $(H){let{skip:G,take:B,orderId:w}=H,A=w?{order_id:w}:void 0;return n.orderItem.findMany({where:A,include:{product:!0,order:!0},take:B,skip:G,orderBy:{createdAt:"desc"}})}WH0.findAll=$;async function J(H){return await n.orderItem.findUnique({where:{id:H},include:{product:!0,order:!0}})}WH0.findById=J;async function Y(H,G){let B={};if(G.pound!==void 0||G.quantity!==void 0||G.product_id!==void 0){let w=await n.orderItem.findUnique({where:{id:H},include:{product:!0}});if(!w)throw new Error("Order item not found");let A=G.product_id||w.product_id,q=A!==w.product_id?await n.product.findUnique({where:{id:A}}):w.product;if(!q)throw new Error("Product not found");let N=G.pound??w.pound,z=G.quantity??w.quantity;B={subtotal:q.price*N*z}}return await n.orderItem.update({where:{id:H},data:{...G,...B},include:{product:!0,order:!0}})}WH0.update=Y;async function X(H){return await n.orderItem.delete({where:{id:H}})}WH0.remove=X;async function Q(H){let G=H?{order_id:H}:void 0;return await n.orderItem.count({where:G})}WH0.countAll=Q;async function M(H){return await n.orderItem.findMany({where:{order_id:H},include:{product:!0,order:!0}})}WH0.findByOrder=M})(O2||={});var T4;((QH0)=>{async function W(M){if(M.pound<=0)throw new Error("Pound must be greater than 0");if(M.quantity<=0)throw new Error("Quantity must be greater than 0");if(M.unitPrice<0)throw new Error("Unit price cannot be negative");try{return await O2.create(M)}catch(H){if(H instanceof K0){if(H.code==="P2003")throw new Error("Referenced order or product does not exist")}throw H}}QH0.create=W;async function $(M={}){let H=M.page??1,G=M.itemsPerPage??10,B=M.orderId,{skip:w,take:A}=X5(H,G),q=await O2.findAll({skip:w,take:A,orderId:B}),N=await O2.countAll(B),z=Math.ceil(N/G),D=H<z,_=H>1;return{data:q,meta_data:{page:H,itemsPerPage:G,total:N,totalPages:z,nextPage:D,previousPage:_}}}QH0.findAll=$;async function J(M){let H=await O2.findById(M);if(!H)throw new Error("Order item not found");return H}QH0.findById=J;async function Y(M){return await O2.findByOrder(M)}QH0.findByOrder=Y;async function X(M,H){if(H.pound!==void 0&&H.pound<=0)throw new Error("Pound must be greater than 0");if(H.quantity!==void 0&&H.quantity<=0)throw new Error("Quantity must be greater than 0");if(H.unitPrice!==void 0&&H.unitPrice<0)throw new Error("Unit price cannot be negative");if(!await O2.findById(M))throw new Error("Order item not found");try{return await O2.update(M,H)}catch(B){if(B instanceof K0){if(B.code==="P2003")throw new Error("Referenced order or product does not exist")}throw B}}QH0.update=X;async function Q(M){if(!await O2.findById(M))throw new Error("Order item not found");return await O2.remove(M)}QH0.remove=Q})(T4||={});var NG=U.Object({id:U.String(),order_id:U.String(),product_id:U.String(),pound:U.Number(),quantity:U.Number(),unitPrice:U.Number(),subtotal:U.Number(),createdAt:U.Date(),updatedAt:U.Date()}),ch=U.Object({id:U.String(),name:U.String(),price:U.Number(),description:U.Optional(U.String())}),hh=U.Object({id:U.String(),customerName:U.String(),totalPrice:U.Number()}),QW=U.Composite([NG,U.Object({product:ch,order:hh})]),ZS=U.Omit(NG,["id","createdAt","updatedAt","subtotal"]),SS=U.Partial(U.Omit(NG,["id","createdAt","updatedAt"]));var qG;((OS)=>OS.orderItemController=new Z0({prefix:"/order-items"}).post("/",async({body:$,set:J})=>{try{let Y=await T4.create($);return J.status=201,{newOrderItem:Y,message:"Order item has been created"}}catch(Y){if(Y instanceof Error){if(Y.message.includes("does not exist"))return J.status=404,Y.message;if(Y.message.includes("must be")||Y.message.includes("cannot be"))return J.status=400,Y.message}return J.status="Internal Server Error","Internal Server Error"}},{body:ZS,response:{201:U.Object({newOrderItem:QW,message:U.String()}),400:U.String(),404:U.String(),500:U.String()},tags:["Order Items"]}).get("/",async({query:$,set:J})=>{let Y=$.page?Number($.page):1,X=$.itemsPerPage?Number($.itemsPerPage):10,Q=$.orderId,M=await T4.findAll({page:Y,itemsPerPage:X,orderId:Q});if(M.data.length===0&&Q!==void 0)return J.status="Not Found",{message:"No order items found for the specified order."};return M},{query:U.Object({page:U.Optional(U.Numeric()),itemsPerPage:U.Optional(U.Numeric()),orderId:U.Optional(U.String())}),response:{200:U.Object({data:U.Array(QW),meta_data:U.Object({page:U.Number(),itemsPerPage:U.Number(),total:U.Number(),totalPages:U.Number(),nextPage:U.Boolean(),previousPage:U.Boolean()})}),404:U.Object({message:U.String()}),500:U.String()},tags:["Order Items"]}).get("/:orderItemId",async({params:{orderItemId:$},set:J})=>{try{return await T4.findById($)}catch(Y){if(Y instanceof Error)return J.status=404,Y.message;return J.status="Internal Server Error","Internal Server Error"}},{params:U.Object({orderItemId:U.String()}),response:{200:QW,404:U.String(),500:U.String()},tags:["Order Items"]}).get("/order/:orderId",async({params:{orderId:$},set:J})=>{try{let Y=await T4.findByOrder($);if(Y.length===0)return J.status=404,"No order items found for this order";return Y}catch{return J.status="Internal Server Error","Internal Server Error"}},{params:U.Object({orderId:U.String()}),response:{200:U.Array(QW),404:U.String(),500:U.String()},tags:["Order Items"]}).put("/:orderItemId",async({params:{orderItemId:$},body:J,set:Y})=>{try{return{updatedOrderItem:await T4.update($,J),message:"Order item has been updated"}}catch(X){if(X instanceof Error){if(X.message.includes("not found"))return Y.status=404,X.message;if(X.message.includes("must be")||X.message.includes("cannot be"))return Y.status=400,X.message;if(X.message.includes("does not exist"))return Y.status=404,X.message}return Y.status="Internal Server Error","Internal Server Error"}},{params:U.Object({orderItemId:U.String()}),body:SS,response:{200:U.Object({updatedOrderItem:QW,message:U.String()}),400:U.String(),404:U.String(),500:U.String()},tags:["Order Items"]}).delete("/:orderItemId",async({params:{orderItemId:$},set:J})=>{try{return await T4.remove($),{message:"Order item has been deleted"}}catch(Y){if(Y instanceof Error)return J.status=404,Y.message;return J.status="Internal Server Error","Internal Server Error"}},{params:U.Object({orderItemId:U.String()}),response:{200:U.Object({message:U.String()}),404:U.String(),500:U.String()},tags:["Order Items"]}))(qG||={});var W2=new TextEncoder,d2=new TextDecoder;function OX(...W){let $=W.reduce((X,{length:Q})=>X+Q,0),J=new Uint8Array($),Y=0;for(let X of W)J.set(X,Y),Y+=X.length;return J}function _S(W){if(Uint8Array.prototype.toBase64)return W.toBase64();let $=32768,J=[];for(let Y=0;Y<W.length;Y+=$)J.push(String.fromCharCode.apply(null,W.subarray(Y,Y+$)));return btoa(J.join(""))}function LS(W){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(W);let $=atob(W),J=new Uint8Array($.length);for(let Y=0;Y<$.length;Y++)J[Y]=$.charCodeAt(Y);return J}function MW(W){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(typeof W==="string"?W:d2.decode(W),{alphabet:"base64url"});let $=W;if($ instanceof Uint8Array)$=d2.decode($);$=$.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return LS($)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}function _X(W){let $=W;if(typeof $==="string")$=W2.encode($);if(Uint8Array.prototype.toBase64)return $.toBase64({alphabet:"base64url",omitPadding:!0});return _S($).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class k4 extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(W,$){super(W,$);this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class c2 extends k4{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(W,$,J="unspecified",Y="unspecified"){super(W,{cause:{claim:J,reason:Y,payload:$}});this.claim=J,this.reason=Y,this.payload=$}}class LX extends k4{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(W,$,J="unspecified",Y="unspecified"){super(W,{cause:{claim:J,reason:Y,payload:$}});this.claim=J,this.reason=Y,this.payload=$}}class zG extends k4{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class C8 extends k4{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class X1 extends k4{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class b9 extends k4{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class DG extends k4{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(W="signature verification failed",$){super(W,$)}}function r8(W,$="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${$} must be ${W}`)}function HW(W,$){return W.name===$}function ZG(W){return parseInt(W.name.slice(4),10)}function lh(W){switch(W){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function ph(W,$){if($&&!W.usages.includes($))throw new TypeError(`CryptoKey does not support this operation, its usages must include ${$}.`)}function jS(W,$,J){switch($){case"HS256":case"HS384":case"HS512":{if(!HW(W.algorithm,"HMAC"))throw r8("HMAC");let Y=parseInt($.slice(2),10);if(ZG(W.algorithm.hash)!==Y)throw r8(`SHA-${Y}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!HW(W.algorithm,"RSASSA-PKCS1-v1_5"))throw r8("RSASSA-PKCS1-v1_5");let Y=parseInt($.slice(2),10);if(ZG(W.algorithm.hash)!==Y)throw r8(`SHA-${Y}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!HW(W.algorithm,"RSA-PSS"))throw r8("RSA-PSS");let Y=parseInt($.slice(2),10);if(ZG(W.algorithm.hash)!==Y)throw r8(`SHA-${Y}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":{if(!HW(W.algorithm,"Ed25519"))throw r8("Ed25519");break}case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":{if(!HW(W.algorithm,$))throw r8($);break}case"ES256":case"ES384":case"ES512":{if(!HW(W.algorithm,"ECDSA"))throw r8("ECDSA");let Y=lh($);if(W.algorithm.namedCurve!==Y)throw r8(Y,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}ph(W,J)}function FS(W,$,...J){if(J=J.filter(Boolean),J.length>2){let Y=J.pop();W+=`one of type ${J.join(", ")}, or ${Y}.`}else if(J.length===2)W+=`one of type ${J[0]} or ${J[1]}.`;else W+=`of type ${J[0]}.`;if($==null)W+=` Received ${$}`;else if(typeof $==="function"&&$.name)W+=` Received function ${$.name}`;else if(typeof $==="object"&&$!=null){if($.constructor?.name)W+=` Received an instance of ${$.constructor.name}`}return W}var KS=(W,...$)=>{return FS("Key must be ",W,...$)};function SG(W,$,...J){return FS(`Key for the ${W} algorithm must be `,$,...J)}function OG(W){return W?.[Symbol.toStringTag]==="CryptoKey"}function _G(W){return W?.[Symbol.toStringTag]==="KeyObject"}var LG=(W)=>{return OG(W)||_G(W)};var jX=(...W)=>{let $=W.filter(Boolean);if($.length===0||$.length===1)return!0;let J;for(let Y of $){let X=Object.keys(Y);if(!J||J.size===0){J=new Set(X);continue}for(let Q of X){if(J.has(Q))return!1;J.add(Q)}}return!0};function ih(W){return typeof W==="object"&&W!==null}var g4=(W)=>{if(!ih(W)||Object.prototype.toString.call(W)!=="[object Object]")return!1;if(Object.getPrototypeOf(W)===null)return!0;let $=W;while(Object.getPrototypeOf($)!==null)$=Object.getPrototypeOf($);return Object.getPrototypeOf(W)===$};var FX=(W,$)=>{if(W.startsWith("RS")||W.startsWith("PS")){let{modulusLength:J}=$.algorithm;if(typeof J!=="number"||J<2048)throw new TypeError(`${W} requires key modulusLength to be 2048 bits or larger`)}};function nh(W){let $,J;switch(W.kty){case"AKP":{switch(W.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":$={name:W.alg},J=W.priv?["sign"]:["verify"];break;default:throw new C8('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"RSA":{switch(W.alg){case"PS256":case"PS384":case"PS512":$={name:"RSA-PSS",hash:`SHA-${W.alg.slice(-3)}`},J=W.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":$={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${W.alg.slice(-3)}`},J=W.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":$={name:"RSA-OAEP",hash:`SHA-${parseInt(W.alg.slice(-3),10)||1}`},J=W.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new C8('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(W.alg){case"ES256":$={name:"ECDSA",namedCurve:"P-256"},J=W.d?["sign"]:["verify"];break;case"ES384":$={name:"ECDSA",namedCurve:"P-384"},J=W.d?["sign"]:["verify"];break;case"ES512":$={name:"ECDSA",namedCurve:"P-521"},J=W.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":$={name:"ECDH",namedCurve:W.crv},J=W.d?["deriveBits"]:[];break;default:throw new C8('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(W.alg){case"Ed25519":case"EdDSA":$={name:"Ed25519"},J=W.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":$={name:W.crv},J=W.d?["deriveBits"]:[];break;default:throw new C8('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new C8('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:$,keyUsages:J}}var CS=async(W)=>{if(!W.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:$,keyUsages:J}=nh(W),Y={...W};if(Y.kty!=="AKP")delete Y.alg;return delete Y.use,crypto.subtle.importKey("jwk",Y,$,W.ext??(W.d||W.priv?!1:!0),W.key_ops??J)};var KX=(W,$,J,Y,X)=>{if(X.crit!==void 0&&Y?.crit===void 0)throw new W('"crit" (Critical) Header Parameter MUST be integrity protected');if(!Y||Y.crit===void 0)return new Set;if(!Array.isArray(Y.crit)||Y.crit.length===0||Y.crit.some((M)=>typeof M!=="string"||M.length===0))throw new W('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let Q;if(J!==void 0)Q=new Map([...Object.entries(J),...$.entries()]);else Q=$;for(let M of Y.crit){if(!Q.has(M))throw new C8(`Extension Header Parameter "${M}" is not recognized`);if(X[M]===void 0)throw new W(`Extension Header Parameter "${M}" is missing`);if(Q.get(M)&&Y[M]===void 0)throw new W(`Extension Header Parameter "${M}" MUST be integrity protected`)}return new Set(Y.crit)};var VS=(W,$)=>{if($!==void 0&&(!Array.isArray($)||$.some((J)=>typeof J!=="string")))throw new TypeError(`"${W}" option must be an array of strings`);if(!$)return;return new Set($)};function QJ(W){return g4(W)&&typeof W.kty==="string"}function bS(W){return W.kty!=="oct"&&(W.kty==="AKP"&&typeof W.priv==="string"||typeof W.d==="string")}function ES(W){return W.kty!=="oct"&&typeof W.d==="undefined"&&typeof W.priv==="undefined"}function PS(W){return W.kty==="oct"&&typeof W.k==="string"}var GW,RS=async(W,$,J,Y=!1)=>{GW||=new WeakMap;let X=GW.get(W);if(X?.[J])return X[J];let Q=await CS({...$,alg:J});if(Y)Object.freeze(W);if(!X)GW.set(W,{[J]:Q});else X[J]=Q;return Q},sh=(W,$)=>{GW||=new WeakMap;let J=GW.get(W);if(J?.[$])return J[$];let Y=W.type==="public",X=Y?!0:!1,Q;if(W.asymmetricKeyType==="x25519"){switch($){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}Q=W.toCryptoKey(W.asymmetricKeyType,X,Y?[]:["deriveBits"])}if(W.asymmetricKeyType==="ed25519"){if($!=="EdDSA"&&$!=="Ed25519")throw new TypeError("given KeyObject instance cannot be used for this algorithm");Q=W.toCryptoKey(W.asymmetricKeyType,X,[Y?"verify":"sign"])}switch(W.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":{if($!==W.asymmetricKeyType.toUpperCase())throw new TypeError("given KeyObject instance cannot be used for this algorithm");Q=W.toCryptoKey(W.asymmetricKeyType,X,[Y?"verify":"sign"])}}if(W.asymmetricKeyType==="rsa"){let M;switch($){case"RSA-OAEP":M="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":M="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":M="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":M="SHA-512";break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}if($.startsWith("RSA-OAEP"))return W.toCryptoKey({name:"RSA-OAEP",hash:M},X,Y?["encrypt"]:["decrypt"]);Q=W.toCryptoKey({name:$.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:M},X,[Y?"verify":"sign"])}if(W.asymmetricKeyType==="ec"){let H=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(W.asymmetricKeyDetails?.namedCurve);if(!H)throw new TypeError("given KeyObject instance cannot be used for this algorithm");if($==="ES256"&&H==="P-256")Q=W.toCryptoKey({name:"ECDSA",namedCurve:H},X,[Y?"verify":"sign"]);if($==="ES384"&&H==="P-384")Q=W.toCryptoKey({name:"ECDSA",namedCurve:H},X,[Y?"verify":"sign"]);if($==="ES512"&&H==="P-521")Q=W.toCryptoKey({name:"ECDSA",namedCurve:H},X,[Y?"verify":"sign"]);if($.startsWith("ECDH-ES"))Q=W.toCryptoKey({name:"ECDH",namedCurve:H},X,Y?[]:["deriveBits"])}if(!Q)throw new TypeError("given KeyObject instance cannot be used for this algorithm");if(!J)GW.set(W,{[$]:Q});else J[$]=Q;return Q},CX=async(W,$)=>{if(W instanceof Uint8Array)return W;if(OG(W))return W;if(_G(W)){if(W.type==="secret")return W.export();if("toCryptoKey"in W&&typeof W.toCryptoKey==="function")try{return sh(W,$)}catch(Y){if(Y instanceof TypeError)throw Y}let J=W.export({format:"jwk"});return RS(W,J,$)}if(QJ(W)){if(W.k)return MW(W.k);return RS(W,W,$,!0)}throw new Error("unreachable")};var BW=(W)=>W?.[Symbol.toStringTag],jG=(W,$,J)=>{if($.use!==void 0){let Y;switch(J){case"sign":case"verify":Y="sig";break;case"encrypt":case"decrypt":Y="enc";break}if($.use!==Y)throw new TypeError(`Invalid key for this operation, its "use" must be "${Y}" when present`)}if($.alg!==void 0&&$.alg!==W)throw new TypeError(`Invalid key for this operation, its "alg" must be "${W}" when present`);if(Array.isArray($.key_ops)){let Y;switch(!0){case(J==="sign"||J==="verify"):case W==="dir":case W.includes("CBC-HS"):Y=J;break;case W.startsWith("PBES2"):Y="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(W):if(!W.includes("GCM")&&W.endsWith("KW"))Y=J==="encrypt"?"wrapKey":"unwrapKey";else Y=J;break;case(J==="encrypt"&&W.startsWith("RSA")):Y="wrapKey";break;case J==="decrypt":Y=W.startsWith("RSA")?"unwrapKey":"deriveBits";break}if(Y&&$.key_ops?.includes?.(Y)===!1)throw new TypeError(`Invalid key for this operation, its "key_ops" must include "${Y}" when present`)}return!0},ah=(W,$,J)=>{if($ instanceof Uint8Array)return;if(QJ($)){if(PS($)&&jG(W,$,J))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!LG($))throw new TypeError(SG(W,$,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if($.type!=="secret")throw new TypeError(`${BW($)} instances for symmetric algorithms must be of type "secret"`)},rh=(W,$,J)=>{if(QJ($))switch(J){case"decrypt":case"sign":if(bS($)&&jG(W,$,J))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if(ES($)&&jG(W,$,J))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!LG($))throw new TypeError(SG(W,$,"CryptoKey","KeyObject","JSON Web Key"));if($.type==="secret")throw new TypeError(`${BW($)} instances for asymmetric algorithms must not be of type "secret"`);if($.type==="public")switch(J){case"sign":throw new TypeError(`${BW($)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw new TypeError(`${BW($)} instances for asymmetric algorithm decryption must be of type "private"`);default:break}if($.type==="private")switch(J){case"verify":throw new TypeError(`${BW($)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw new TypeError(`${BW($)} instances for asymmetric algorithm encryption must be of type "public"`);default:break}},VX=(W,$,J)=>{if(W.startsWith("HS")||W==="dir"||W.startsWith("PBES2")||/^A(?:128|192|256)(?:GCM)?(?:KW)?$/.test(W)||/^A(?:128|192|256)CBC-HS(?:256|384|512)$/.test(W))ah(W,$,J);else rh(W,$,J)};var bX=(W,$)=>{let J=`SHA-${W.slice(-3)}`;switch(W){case"HS256":case"HS384":case"HS512":return{hash:J,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:J,name:"RSA-PSS",saltLength:parseInt(W.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:J,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:J,name:"ECDSA",namedCurve:$.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return{name:W};default:throw new C8(`alg ${W} is not supported either by JOSE or your javascript runtime`)}};var EX=async(W,$,J)=>{if($ instanceof Uint8Array){if(!W.startsWith("HS"))throw new TypeError(KS($,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",$,{hash:`SHA-${W.slice(-3)}`,name:"HMAC"},!1,[J])}return jS($,W,J),$};var IS=async(W,$,J,Y)=>{let X=await EX(W,$,"verify");FX(W,X);let Q=bX(W,X.algorithm);try{return await crypto.subtle.verify(Q,X,J,Y)}catch{return!1}};async function xS(W,$,J){if(!g4(W))throw new X1("Flattened JWS must be an object");if(W.protected===void 0&&W.header===void 0)throw new X1('Flattened JWS must have either of the "protected" or "header" members');if(W.protected!==void 0&&typeof W.protected!=="string")throw new X1("JWS Protected Header incorrect type");if(W.payload===void 0)throw new X1("JWS Payload missing");if(typeof W.signature!=="string")throw new X1("JWS Signature missing or incorrect type");if(W.header!==void 0&&!g4(W.header))throw new X1("JWS Unprotected Header incorrect type");let Y={};if(W.protected)try{let _=MW(W.protected);Y=JSON.parse(d2.decode(_))}catch{throw new X1("JWS Protected Header is invalid")}if(!jX(Y,W.header))throw new X1("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let X={...Y,...W.header},Q=KX(X1,new Map([["b64",!0]]),J?.crit,Y,X),M=!0;if(Q.has("b64")){if(M=Y.b64,typeof M!=="boolean")throw new X1('The "b64" (base64url-encode payload) Header Parameter must be a boolean')}let{alg:H}=X;if(typeof H!=="string"||!H)throw new X1('JWS "alg" (Algorithm) Header Parameter missing or invalid');let G=J&&VS("algorithms",J.algorithms);if(G&&!G.has(H))throw new zG('"alg" (Algorithm) Header Parameter value not allowed');if(M){if(typeof W.payload!=="string")throw new X1("JWS Payload must be a string")}else if(typeof W.payload!=="string"&&!(W.payload instanceof Uint8Array))throw new X1("JWS Payload must be a string or an Uint8Array instance");let B=!1;if(typeof $==="function")$=await $(Y,W),B=!0;VX(H,$,"verify");let w=OX(W2.encode(W.protected??""),W2.encode("."),typeof W.payload==="string"?W2.encode(W.payload):W.payload),A;try{A=MW(W.signature)}catch{throw new X1("Failed to base64url decode the signature")}let q=await CX($,H);if(!await IS(H,q,A,w))throw new DG;let z;if(M)try{z=MW(W.payload)}catch{throw new X1("Failed to base64url decode the payload")}else if(typeof W.payload==="string")z=W2.encode(W.payload);else z=W.payload;let D={payload:z};if(W.protected!==void 0)D.protectedHeader=Y;if(W.header!==void 0)D.unprotectedHeader=W.header;if(B)return{...D,key:q};return D}async function TS(W,$,J){if(W instanceof Uint8Array)W=d2.decode(W);if(typeof W!=="string")throw new X1("Compact JWS must be a string or Uint8Array");let{0:Y,1:X,2:Q,length:M}=W.split(".");if(M!==3)throw new X1("Invalid Compact JWS");let H=await xS({payload:X,protected:Y,signature:Q},$,J),G={payload:H.payload,protectedHeader:H.protectedHeader};if(typeof $==="function")return{...G,key:H.key};return G}var f6=(W)=>Math.floor(W.getTime()/1000);var th=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,UW=(W)=>{let $=th.exec(W);if(!$||$[4]&&$[1])throw new TypeError("Invalid time period format");let J=parseFloat($[2]),Y=$[3].toLowerCase(),X;switch(Y){case"sec":case"secs":case"second":case"seconds":case"s":X=Math.round(J);break;case"minute":case"minutes":case"min":case"mins":case"m":X=Math.round(J*60);break;case"hour":case"hours":case"hr":case"hrs":case"h":X=Math.round(J*3600);break;case"day":case"days":case"d":X=Math.round(J*86400);break;case"week":case"weeks":case"w":X=Math.round(J*604800);break;default:X=Math.round(J*31557600);break}if($[1]==="-"||$[4]==="ago")return-X;return X};function E9(W,$){if(!Number.isFinite($))throw new TypeError(`Invalid ${W} input`);return $}var kS=(W)=>{if(W.includes("/"))return W.toLowerCase();return`application/${W.toLowerCase()}`},eh=(W,$)=>{if(typeof W==="string")return $.includes(W);if(Array.isArray(W))return $.some(Set.prototype.has.bind(new Set(W)));return!1};function gS(W,$,J={}){let Y;try{Y=JSON.parse(d2.decode($))}catch{}if(!g4(Y))throw new b9("JWT Claims Set must be a top-level JSON object");let{typ:X}=J;if(X&&(typeof W.typ!=="string"||kS(W.typ)!==kS(X)))throw new c2('unexpected "typ" JWT header value',Y,"typ","check_failed");let{requiredClaims:Q=[],issuer:M,subject:H,audience:G,maxTokenAge:B}=J,w=[...Q];if(B!==void 0)w.push("iat");if(G!==void 0)w.push("aud");if(H!==void 0)w.push("sub");if(M!==void 0)w.push("iss");for(let z of new Set(w.reverse()))if(!(z in Y))throw new c2(`missing required "${z}" claim`,Y,z,"missing");if(M&&!(Array.isArray(M)?M:[M]).includes(Y.iss))throw new c2('unexpected "iss" claim value',Y,"iss","check_failed");if(H&&Y.sub!==H)throw new c2('unexpected "sub" claim value',Y,"sub","check_failed");if(G&&!eh(Y.aud,typeof G==="string"?[G]:G))throw new c2('unexpected "aud" claim value',Y,"aud","check_failed");let A;switch(typeof J.clockTolerance){case"string":A=UW(J.clockTolerance);break;case"number":A=J.clockTolerance;break;case"undefined":A=0;break;default:throw new TypeError("Invalid clockTolerance option type")}let{currentDate:q}=J,N=f6(q||new Date);if((Y.iat!==void 0||B)&&typeof Y.iat!=="number")throw new c2('"iat" claim must be a number',Y,"iat","invalid");if(Y.nbf!==void 0){if(typeof Y.nbf!=="number")throw new c2('"nbf" claim must be a number',Y,"nbf","invalid");if(Y.nbf>N+A)throw new c2('"nbf" claim timestamp check failed',Y,"nbf","check_failed")}if(Y.exp!==void 0){if(typeof Y.exp!=="number")throw new c2('"exp" claim must be a number',Y,"exp","invalid");if(Y.exp<=N-A)throw new LX('"exp" claim timestamp check failed',Y,"exp","check_failed")}if(B){let z=N-Y.iat,D=typeof B==="number"?B:UW(B);if(z-A>D)throw new LX('"iat" claim timestamp check failed (too far in the past)',Y,"iat","check_failed");if(z<0-A)throw new c2('"iat" claim timestamp check failed (it should be in the past)',Y,"iat","check_failed")}return Y}class FG{#W;constructor(W){if(!g4(W))throw new TypeError("JWT Claims Set MUST be an object");this.#W=structuredClone(W)}data(){return W2.encode(JSON.stringify(this.#W))}get iss(){return this.#W.iss}set iss(W){this.#W.iss=W}get sub(){return this.#W.sub}set sub(W){this.#W.sub=W}get aud(){return this.#W.aud}set aud(W){this.#W.aud=W}set jti(W){this.#W.jti=W}set nbf(W){if(typeof W==="number")this.#W.nbf=E9("setNotBefore",W);else if(W instanceof Date)this.#W.nbf=E9("setNotBefore",f6(W));else this.#W.nbf=f6(new Date)+UW(W)}set exp(W){if(typeof W==="number")this.#W.exp=E9("setExpirationTime",W);else if(W instanceof Date)this.#W.exp=E9("setExpirationTime",f6(W));else this.#W.exp=f6(new Date)+UW(W)}set iat(W){if(typeof W==="undefined")this.#W.iat=f6(new Date);else if(W instanceof Date)this.#W.iat=E9("setIssuedAt",f6(W));else if(typeof W==="string")this.#W.iat=E9("setIssuedAt",f6(new Date)+UW(W));else this.#W.iat=E9("setIssuedAt",W)}}async function PX(W,$,J){let Y=await TS(W,$,J);if(Y.protectedHeader.crit?.includes("b64")&&Y.protectedHeader.b64===!1)throw new b9("JWTs MUST NOT use unencoded payload");let Q={payload:gS(Y.protectedHeader,Y.payload,J),protectedHeader:Y.protectedHeader};if(typeof $==="function")return{...Q,key:Y.key};return Q}var fS=async(W,$,J)=>{let Y=await EX(W,$,"sign");FX(W,Y);let X=await crypto.subtle.sign(bX(W,Y.algorithm),Y,J);return new Uint8Array(X)};class KG{#W;#$;#J;constructor(W){if(!(W instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this.#W=W}setProtectedHeader(W){if(this.#$)throw new TypeError("setProtectedHeader can only be called once");return this.#$=W,this}setUnprotectedHeader(W){if(this.#J)throw new TypeError("setUnprotectedHeader can only be called once");return this.#J=W,this}async sign(W,$){if(!this.#$&&!this.#J)throw new X1("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!jX(this.#$,this.#J))throw new X1("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let J={...this.#$,...this.#J},Y=KX(X1,new Map([["b64",!0]]),$?.crit,this.#$,J),X=!0;if(Y.has("b64")){if(X=this.#$.b64,typeof X!=="boolean")throw new X1('The "b64" (base64url-encode payload) Header Parameter must be a boolean')}let{alg:Q}=J;if(typeof Q!=="string"||!Q)throw new X1('JWS "alg" (Algorithm) Header Parameter missing or invalid');VX(Q,W,"sign");let M=this.#W;if(X)M=W2.encode(_X(M));let H;if(this.#$)H=W2.encode(_X(JSON.stringify(this.#$)));else H=W2.encode("");let G=OX(H,W2.encode("."),M),B=await CX(W,Q),w=await fS(Q,B,G),A={signature:_X(w),payload:""};if(X)A.payload=d2.decode(M);if(this.#J)A.header=this.#J;if(this.#$)A.protected=d2.decode(H);return A}}class CG{#W;constructor(W){this.#W=new KG(W)}setProtectedHeader(W){return this.#W.setProtectedHeader(W),this}async sign(W,$){let J=await this.#W.sign(W,$);if(J.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${J.protected}.${J.payload}.${J.signature}`}}class RX{#W;#$;constructor(W={}){this.#$=new FG(W)}setIssuer(W){return this.#$.iss=W,this}setSubject(W){return this.#$.sub=W,this}setAudience(W){return this.#$.aud=W,this}setJti(W){return this.#$.jti=W,this}setNotBefore(W){return this.#$.nbf=W,this}setExpirationTime(W){return this.#$.exp=W,this}setIssuedAt(W){return this.#$.iat=W,this}setProtectedHeader(W){return this.#W=W,this}async sign(W,$){let J=new CG(this.#$.data());if(J.setProtectedHeader(this.#W),Array.isArray(this.#W?.crit)&&this.#W.crit.includes("b64")&&this.#W.b64===!1)throw new b9("JWTs MUST NOT use unencoded payload");return J.sign(W,$)}}var Wm=Object.defineProperty,kG=(W,$)=>{for(var J in $)Wm(W,J,{get:$[J],enumerable:!0})},v6={};kG(v6,{HasPropertyKey:()=>bG,IsArray:()=>y5,IsAsyncIterator:()=>oS,IsBigInt:()=>gG,IsBoolean:()=>zW,IsDate:()=>fX,IsFunction:()=>sS,IsIterator:()=>aS,IsNull:()=>rS,IsNumber:()=>t8,IsObject:()=>F1,IsRegExp:()=>fG,IsString:()=>T1,IsSymbol:()=>tS,IsUint8Array:()=>DW,IsUndefined:()=>v5});function bG(W,$){return $ in W}function oS(W){return F1(W)&&!y5(W)&&!DW(W)&&Symbol.asyncIterator in W}function y5(W){return Array.isArray(W)}function gG(W){return typeof W==="bigint"}function zW(W){return typeof W==="boolean"}function fX(W){return W instanceof globalThis.Date}function sS(W){return typeof W==="function"}function aS(W){return F1(W)&&!y5(W)&&!DW(W)&&Symbol.iterator in W}function rS(W){return W===null}function t8(W){return typeof W==="number"}function F1(W){return typeof W==="object"&&W!==null}function fG(W){return W instanceof globalThis.RegExp}function T1(W){return typeof W==="string"}function tS(W){return typeof W==="symbol"}function DW(W){return W instanceof globalThis.Uint8Array}function v5(W){return W===void 0}function $m(W){return W.map(($)=>TX($))}function Jm(W){return new Date(W.getTime())}function Ym(W){return new Uint8Array(W)}function Xm(W){return new RegExp(W.source,W.flags)}function Qm(W){let $={};for(let J of Object.getOwnPropertyNames(W))$[J]=TX(W[J]);for(let J of Object.getOwnPropertySymbols(W))$[J]=TX(W[J]);return $}function TX(W){return y5(W)?$m(W):fX(W)?Jm(W):DW(W)?Ym(W):fG(W)?Xm(W):F1(W)?Qm(W):W}function _2(W){return TX(W)}function vG(W,$){return $===void 0?_2(W):_2({...$,...W})}function Mm(W){return W!==null&&typeof W==="object"}function Hm(W){return globalThis.Array.isArray(W)&&!globalThis.ArrayBuffer.isView(W)}function Gm(W){return W===void 0}function Bm(W){return typeof W==="number"}var EG;(function(W){W.InstanceMode="default",W.ExactOptionalPropertyTypes=!1,W.AllowArrayObject=!1,W.AllowNaN=!1,W.AllowNullVoid=!1;function $(M,H){return W.ExactOptionalPropertyTypes?H in M:M[H]!==void 0}W.IsExactOptionalProperty=$;function J(M){let H=Mm(M);return W.AllowArrayObject?H:H&&!Hm(M)}W.IsObjectLike=J;function Y(M){return J(M)&&!(M instanceof Date)&&!(M instanceof Uint8Array)}W.IsRecordLike=Y;function X(M){return W.AllowNaN?Bm(M):Number.isFinite(M)}W.IsNumberLike=X;function Q(M){let H=Gm(M);return W.AllowNullVoid?H||M===null:H}W.IsVoidLike=Q})(EG||(EG={}));function Um(W){return globalThis.Object.freeze(W).map(($)=>kX($))}function wm(W){return W}function Am(W){return W}function Nm(W){return W}function qm(W){let $={};for(let J of Object.getOwnPropertyNames(W))$[J]=kX(W[J]);for(let J of Object.getOwnPropertySymbols(W))$[J]=kX(W[J]);return globalThis.Object.freeze($)}function kX(W){return y5(W)?Um(W):fX(W)?wm(W):DW(W)?Am(W):fG(W)?Nm(W):F1(W)?qm(W):W}function a(W,$){let J=$!==void 0?{...$,...W}:W;switch(EG.InstanceMode){case"freeze":return kX(J);case"clone":return _2(J);default:return J}}var v4=class extends Error{constructor(W){super(W)}},m2=Symbol.for("TypeBox.Transform"),ZW=Symbol.for("TypeBox.Readonly"),d6=Symbol.for("TypeBox.Optional"),wW=Symbol.for("TypeBox.Hint"),M0=Symbol.for("TypeBox.Kind");function yG(W){return F1(W)&&W[ZW]==="Readonly"}function y4(W){return F1(W)&&W[d6]==="Optional"}function eS(W){return x0(W,"Any")}function WO(W){return x0(W,"Argument")}function SW(W){return x0(W,"Array")}function vX(W){return x0(W,"AsyncIterator")}function yX(W){return x0(W,"BigInt")}function wJ(W){return x0(W,"Boolean")}function OW(W){return x0(W,"Computed")}function _W(W){return x0(W,"Constructor")}function zm(W){return x0(W,"Date")}function LW(W){return x0(W,"Function")}function jW(W){return x0(W,"Integer")}function l2(W){return x0(W,"Intersect")}function dX(W){return x0(W,"Iterator")}function x0(W,$){return F1(W)&&M0 in W&&W[M0]===$}function $O(W){return zW(W)||t8(W)||T1(W)}function R9(W){return x0(W,"Literal")}function I9(W){return x0(W,"MappedKey")}function F2(W){return x0(W,"MappedResult")}function AJ(W){return x0(W,"Never")}function Dm(W){return x0(W,"Not")}function dG(W){return x0(W,"Null")}function FW(W){return x0(W,"Number")}function b8(W){return x0(W,"Object")}function cX(W){return x0(W,"Promise")}function hX(W){return x0(W,"Record")}function $2(W){return x0(W,"Ref")}function JO(W){return x0(W,"RegExp")}function NJ(W){return x0(W,"String")}function cG(W){return x0(W,"Symbol")}function x9(W){return x0(W,"TemplateLiteral")}function Zm(W){return x0(W,"This")}function mX(W){return F1(W)&&m2 in W}function T9(W){return x0(W,"Tuple")}function hG(W){return x0(W,"Undefined")}function H5(W){return x0(W,"Union")}function Sm(W){return x0(W,"Uint8Array")}function Om(W){return x0(W,"Unknown")}function _m(W){return x0(W,"Unsafe")}function Lm(W){return x0(W,"Void")}function jm(W){return F1(W)&&M0 in W&&T1(W[M0])}function f4(W){return eS(W)||WO(W)||SW(W)||wJ(W)||yX(W)||vX(W)||OW(W)||_W(W)||zm(W)||LW(W)||jW(W)||l2(W)||dX(W)||R9(W)||I9(W)||F2(W)||AJ(W)||Dm(W)||dG(W)||FW(W)||b8(W)||cX(W)||hX(W)||$2(W)||JO(W)||NJ(W)||cG(W)||x9(W)||Zm(W)||T9(W)||hG(W)||H5(W)||Sm(W)||Om(W)||_m(W)||Lm(W)||jm(W)}var F={};kG(F,{IsAny:()=>MO,IsArgument:()=>HO,IsArray:()=>GO,IsAsyncIterator:()=>BO,IsBigInt:()=>UO,IsBoolean:()=>wO,IsComputed:()=>AO,IsConstructor:()=>NO,IsDate:()=>qO,IsFunction:()=>zO,IsImport:()=>Pm,IsInteger:()=>DO,IsIntersect:()=>ZO,IsIterator:()=>SO,IsKind:()=>lO,IsKindOf:()=>C0,IsLiteral:()=>qJ,IsLiteralBoolean:()=>Rm,IsLiteralNumber:()=>_O,IsLiteralString:()=>OO,IsLiteralValue:()=>LO,IsMappedKey:()=>jO,IsMappedResult:()=>FO,IsNever:()=>KO,IsNot:()=>CO,IsNull:()=>VO,IsNumber:()=>bO,IsObject:()=>EO,IsOptional:()=>Em,IsPromise:()=>PO,IsProperties:()=>uX,IsReadonly:()=>bm,IsRecord:()=>RO,IsRecursive:()=>Im,IsRef:()=>IO,IsRegExp:()=>xO,IsSchema:()=>Q5,IsString:()=>TO,IsSymbol:()=>kO,IsTemplateLiteral:()=>gO,IsThis:()=>fO,IsTransform:()=>vO,IsTuple:()=>yO,IsUint8Array:()=>cO,IsUndefined:()=>dO,IsUnion:()=>lG,IsUnionLiteral:()=>xm,IsUnknown:()=>hO,IsUnsafe:()=>mO,IsVoid:()=>uO,TypeGuardUnknownTypeError:()=>Fm});var Fm=class extends v4{},Km=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function YO(W){try{return new RegExp(W),!0}catch{return!1}}function mG(W){if(!T1(W))return!1;for(let $=0;$<W.length;$++){let J=W.charCodeAt($);if(J>=7&&J<=13||J===27||J===127)return!1}return!0}function XO(W){return uG(W)||Q5(W)}function MJ(W){return v5(W)||gG(W)}function Q1(W){return v5(W)||t8(W)}function uG(W){return v5(W)||zW(W)}function r0(W){return v5(W)||T1(W)}function Cm(W){return v5(W)||T1(W)&&mG(W)&&YO(W)}function Vm(W){return v5(W)||T1(W)&&mG(W)}function QO(W){return v5(W)||Q5(W)}function bm(W){return F1(W)&&W[ZW]==="Readonly"}function Em(W){return F1(W)&&W[d6]==="Optional"}function MO(W){return C0(W,"Any")&&r0(W.$id)}function HO(W){return C0(W,"Argument")&&t8(W.index)}function GO(W){return C0(W,"Array")&&W.type==="array"&&r0(W.$id)&&Q5(W.items)&&Q1(W.minItems)&&Q1(W.maxItems)&&uG(W.uniqueItems)&&QO(W.contains)&&Q1(W.minContains)&&Q1(W.maxContains)}function BO(W){return C0(W,"AsyncIterator")&&W.type==="AsyncIterator"&&r0(W.$id)&&Q5(W.items)}function UO(W){return C0(W,"BigInt")&&W.type==="bigint"&&r0(W.$id)&&MJ(W.exclusiveMaximum)&&MJ(W.exclusiveMinimum)&&MJ(W.maximum)&&MJ(W.minimum)&&MJ(W.multipleOf)}function wO(W){return C0(W,"Boolean")&&W.type==="boolean"&&r0(W.$id)}function AO(W){return C0(W,"Computed")&&T1(W.target)&&y5(W.parameters)&&W.parameters.every(($)=>Q5($))}function NO(W){return C0(W,"Constructor")&&W.type==="Constructor"&&r0(W.$id)&&y5(W.parameters)&&W.parameters.every(($)=>Q5($))&&Q5(W.returns)}function qO(W){return C0(W,"Date")&&W.type==="Date"&&r0(W.$id)&&Q1(W.exclusiveMaximumTimestamp)&&Q1(W.exclusiveMinimumTimestamp)&&Q1(W.maximumTimestamp)&&Q1(W.minimumTimestamp)&&Q1(W.multipleOfTimestamp)}function zO(W){return C0(W,"Function")&&W.type==="Function"&&r0(W.$id)&&y5(W.parameters)&&W.parameters.every(($)=>Q5($))&&Q5(W.returns)}function Pm(W){return C0(W,"Import")&&bG(W,"$defs")&&F1(W.$defs)&&uX(W.$defs)&&bG(W,"$ref")&&T1(W.$ref)&&W.$ref in W.$defs}function DO(W){return C0(W,"Integer")&&W.type==="integer"&&r0(W.$id)&&Q1(W.exclusiveMaximum)&&Q1(W.exclusiveMinimum)&&Q1(W.maximum)&&Q1(W.minimum)&&Q1(W.multipleOf)}function uX(W){return F1(W)&&Object.entries(W).every(([$,J])=>mG($)&&Q5(J))}function ZO(W){return C0(W,"Intersect")&&(T1(W.type)&&W.type!=="object"?!1:!0)&&y5(W.allOf)&&W.allOf.every(($)=>Q5($)&&!vO($))&&r0(W.type)&&(uG(W.unevaluatedProperties)||QO(W.unevaluatedProperties))&&r0(W.$id)}function SO(W){return C0(W,"Iterator")&&W.type==="Iterator"&&r0(W.$id)&&Q5(W.items)}function C0(W,$){return F1(W)&&M0 in W&&W[M0]===$}function OO(W){return qJ(W)&&T1(W.const)}function _O(W){return qJ(W)&&t8(W.const)}function Rm(W){return qJ(W)&&zW(W.const)}function qJ(W){return C0(W,"Literal")&&r0(W.$id)&&LO(W.const)}function LO(W){return zW(W)||t8(W)||T1(W)}function jO(W){return C0(W,"MappedKey")&&y5(W.keys)&&W.keys.every(($)=>t8($)||T1($))}function FO(W){return C0(W,"MappedResult")&&uX(W.properties)}function KO(W){return C0(W,"Never")&&F1(W.not)&&Object.getOwnPropertyNames(W.not).length===0}function CO(W){return C0(W,"Not")&&Q5(W.not)}function VO(W){return C0(W,"Null")&&W.type==="null"&&r0(W.$id)}function bO(W){return C0(W,"Number")&&W.type==="number"&&r0(W.$id)&&Q1(W.exclusiveMaximum)&&Q1(W.exclusiveMinimum)&&Q1(W.maximum)&&Q1(W.minimum)&&Q1(W.multipleOf)}function EO(W){return C0(W,"Object")&&W.type==="object"&&r0(W.$id)&&uX(W.properties)&&XO(W.additionalProperties)&&Q1(W.minProperties)&&Q1(W.maxProperties)}function PO(W){return C0(W,"Promise")&&W.type==="Promise"&&r0(W.$id)&&Q5(W.item)}function RO(W){return C0(W,"Record")&&W.type==="object"&&r0(W.$id)&&XO(W.additionalProperties)&&F1(W.patternProperties)&&(($)=>{let J=Object.getOwnPropertyNames($.patternProperties);return J.length===1&&YO(J[0])&&F1($.patternProperties)&&Q5($.patternProperties[J[0]])})(W)}function Im(W){return F1(W)&&wW in W&&W[wW]==="Recursive"}function IO(W){return C0(W,"Ref")&&r0(W.$id)&&T1(W.$ref)}function xO(W){return C0(W,"RegExp")&&r0(W.$id)&&T1(W.source)&&T1(W.flags)&&Q1(W.maxLength)&&Q1(W.minLength)}function TO(W){return C0(W,"String")&&W.type==="string"&&r0(W.$id)&&Q1(W.minLength)&&Q1(W.maxLength)&&Cm(W.pattern)&&Vm(W.format)}function kO(W){return C0(W,"Symbol")&&W.type==="symbol"&&r0(W.$id)}function gO(W){return C0(W,"TemplateLiteral")&&W.type==="string"&&T1(W.pattern)&&W.pattern[0]==="^"&&W.pattern[W.pattern.length-1]==="$"}function fO(W){return C0(W,"This")&&r0(W.$id)&&T1(W.$ref)}function vO(W){return F1(W)&&m2 in W}function yO(W){return C0(W,"Tuple")&&W.type==="array"&&r0(W.$id)&&t8(W.minItems)&&t8(W.maxItems)&&W.minItems===W.maxItems&&(v5(W.items)&&v5(W.additionalItems)&&W.minItems===0||y5(W.items)&&W.items.every(($)=>Q5($)))}function dO(W){return C0(W,"Undefined")&&W.type==="undefined"&&r0(W.$id)}function xm(W){return lG(W)&&W.anyOf.every(($)=>OO($)||_O($))}function lG(W){return C0(W,"Union")&&r0(W.$id)&&F1(W)&&y5(W.anyOf)&&W.anyOf.every(($)=>Q5($))}function cO(W){return C0(W,"Uint8Array")&&W.type==="Uint8Array"&&r0(W.$id)&&Q1(W.minByteLength)&&Q1(W.maxByteLength)}function hO(W){return C0(W,"Unknown")&&r0(W.$id)}function mO(W){return C0(W,"Unsafe")}function uO(W){return C0(W,"Void")&&W.type==="void"&&r0(W.$id)}function lO(W){return F1(W)&&M0 in W&&T1(W[M0])&&!Km.includes(W[M0])}function Q5(W){return F1(W)&&(MO(W)||HO(W)||GO(W)||wO(W)||UO(W)||BO(W)||AO(W)||NO(W)||qO(W)||zO(W)||DO(W)||ZO(W)||SO(W)||qJ(W)||jO(W)||FO(W)||KO(W)||CO(W)||VO(W)||bO(W)||EO(W)||PO(W)||RO(W)||IO(W)||xO(W)||TO(W)||kO(W)||gO(W)||fO(W)||yO(W)||dO(W)||lG(W)||cO(W)||hO(W)||mO(W)||uO(W)||lO(W))}var pO="(true|false)",xX="(0|[1-9][0-9]*)",iO="(.*)",Tm="(?!.*)",pG0=`^${pO}$`,AW=`^${xX}$`,NW=`^${iO}$`,km=`^${Tm}$`;function gm(W,$){return W.includes($)}function fm(W){return[...new Set(W)]}function vm(W,$){return W.filter((J)=>$.includes(J))}function ym(W,$){return W.reduce((J,Y)=>{return vm(J,Y)},$)}function dm(W){return W.length===1?W[0]:W.length>1?ym(W.slice(1),W[0]):[]}function cm(W){let $=[];for(let J of W)$.push(...J);return $}function GJ(W){return a({[M0]:"Any"},W)}function pG(W,$){return a({[M0]:"Array",type:"array",items:W},$)}function hm(W){return a({[M0]:"Argument",index:W})}function iG(W,$){return a({[M0]:"AsyncIterator",type:"AsyncIterator",items:W},$)}function e1(W,$,J){return a({[M0]:"Computed",target:W,parameters:$},J)}function mm(W,$){let{[$]:J,...Y}=W;return Y}function L2(W,$){return $.reduce((J,Y)=>mm(J,Y),W)}function l1(W){return a({[M0]:"Never",not:{}},W)}function Z5(W){return a({[M0]:"MappedResult",properties:W})}function nG(W,$,J){return a({[M0]:"Constructor",type:"Constructor",parameters:W,returns:$},J)}function zJ(W,$,J){return a({[M0]:"Function",type:"Function",parameters:W,returns:$},J)}function PG(W,$){return a({[M0]:"Union",anyOf:W},$)}function um(W){return W.some(($)=>y4($))}function vS(W){return W.map(($)=>y4($)?lm($):$)}function lm(W){return L2(W,[d6])}function pm(W,$){return um(W)?h4(PG(vS(W),$)):PG(vS(W),$)}function KW(W,$){return W.length===1?a(W[0],$):W.length===0?l1($):pm(W,$)}function S5(W,$){return W.length===0?l1($):W.length===1?a(W[0],$):PG(W,$)}var yS=class extends v4{};function im(W){return W.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}function oG(W,$,J){return W[$]===J&&W.charCodeAt($-1)!==92}function y6(W,$){return oG(W,$,"(")}function BJ(W,$){return oG(W,$,")")}function nO(W,$){return oG(W,$,"|")}function nm(W){if(!(y6(W,0)&&BJ(W,W.length-1)))return!1;let $=0;for(let J=0;J<W.length;J++){if(y6(W,J))$+=1;if(BJ(W,J))$-=1;if($===0&&J!==W.length-1)return!1}return!0}function om(W){return W.slice(1,W.length-1)}function sm(W){let $=0;for(let J=0;J<W.length;J++){if(y6(W,J))$+=1;if(BJ(W,J))$-=1;if(nO(W,J)&&$===0)return!0}return!1}function am(W){for(let $=0;$<W.length;$++)if(y6(W,$))return!0;return!1}function rm(W){let[$,J]=[0,0],Y=[];for(let Q=0;Q<W.length;Q++){if(y6(W,Q))$+=1;if(BJ(W,Q))$-=1;if(nO(W,Q)&&$===0){let M=W.slice(J,Q);if(M.length>0)Y.push(qW(M));J=Q+1}}let X=W.slice(J);if(X.length>0)Y.push(qW(X));if(Y.length===0)return{type:"const",const:""};if(Y.length===1)return Y[0];return{type:"or",expr:Y}}function tm(W){function $(X,Q){if(!y6(X,Q))throw new yS("TemplateLiteralParser: Index must point to open parens");let M=0;for(let H=Q;H<X.length;H++){if(y6(X,H))M+=1;if(BJ(X,H))M-=1;if(M===0)return[Q,H]}throw new yS("TemplateLiteralParser: Unclosed group parens in expression")}function J(X,Q){for(let M=Q;M<X.length;M++)if(y6(X,M))return[Q,M];return[Q,X.length]}let Y=[];for(let X=0;X<W.length;X++)if(y6(W,X)){let[Q,M]=$(W,X),H=W.slice(Q,M+1);Y.push(qW(H)),X=M}else{let[Q,M]=J(W,X),H=W.slice(Q,M);if(H.length>0)Y.push(qW(H));X=M-1}return Y.length===0?{type:"const",const:""}:Y.length===1?Y[0]:{type:"and",expr:Y}}function qW(W){return nm(W)?qW(om(W)):sm(W)?rm(W):am(W)?tm(W):{type:"const",const:im(W)}}function sG(W){return qW(W.slice(1,W.length-1))}var em=class extends v4{};function Wu(W){return W.type==="or"&&W.expr.length===2&&W.expr[0].type==="const"&&W.expr[0].const==="0"&&W.expr[1].type==="const"&&W.expr[1].const==="[1-9][0-9]*"}function $u(W){return W.type==="or"&&W.expr.length===2&&W.expr[0].type==="const"&&W.expr[0].const==="true"&&W.expr[1].type==="const"&&W.expr[1].const==="false"}function Ju(W){return W.type==="const"&&W.const===".*"}function UJ(W){return Wu(W)||Ju(W)?!1:$u(W)?!0:W.type==="and"?W.expr.every(($)=>UJ($)):W.type==="or"?W.expr.every(($)=>UJ($)):W.type==="const"?!0:(()=>{throw new em("Unknown expression type")})()}function Yu(W){let $=sG(W.pattern);return UJ($)}var Xu=class extends v4{};function*oO(W){if(W.length===1)return yield*W[0];for(let $ of W[0])for(let J of oO(W.slice(1)))yield`${$}${J}`}function*Qu(W){return yield*oO(W.expr.map(($)=>[...lX($)]))}function*Mu(W){for(let $ of W.expr)yield*lX($)}function*Hu(W){return yield W.const}function*lX(W){return W.type==="and"?yield*Qu(W):W.type==="or"?yield*Mu(W):W.type==="const"?yield*Hu(W):(()=>{throw new Xu("Unknown expression")})()}function sO(W){let $=sG(W.pattern);return UJ($)?[...lX($)]:[]}function u1(W,$){return a({[M0]:"Literal",const:W,type:typeof W},$)}function aO(W){return a({[M0]:"Boolean",type:"boolean"},W)}function aG(W){return a({[M0]:"BigInt",type:"bigint"},W)}function k9(W){return a({[M0]:"Number",type:"number"},W)}function P9(W){return a({[M0]:"String",type:"string"},W)}function*Gu(W){let $=W.trim().replace(/"|'/g,"");return $==="boolean"?yield aO():$==="number"?yield k9():$==="bigint"?yield aG():$==="string"?yield P9():yield(()=>{let J=$.split("|").map((Y)=>u1(Y.trim()));return J.length===0?l1():J.length===1?J[0]:KW(J)})()}function*Bu(W){if(W[1]!=="{"){let $=u1("$"),J=RG(W.slice(1));return yield*[$,...J]}for(let $=2;$<W.length;$++)if(W[$]==="}"){let J=Gu(W.slice(2,$)),Y=RG(W.slice($+1));return yield*[...J,...Y]}yield u1(W)}function*RG(W){for(let $=0;$<W.length;$++)if(W[$]==="$"){let J=u1(W.slice(0,$)),Y=Bu(W.slice($));return yield*[J,...Y]}yield u1(W)}function Uu(W){return[...RG(W)]}var wu=class extends v4{};function Au(W){return W.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function rO(W,$){return x9(W)?W.pattern.slice(1,W.pattern.length-1):H5(W)?`(${W.anyOf.map((J)=>rO(J,$)).join("|")})`:FW(W)?`${$}${xX}`:jW(W)?`${$}${xX}`:yX(W)?`${$}${xX}`:NJ(W)?`${$}${iO}`:R9(W)?`${$}${Au(W.const.toString())}`:wJ(W)?`${$}${pO}`:(()=>{throw new wu(`Unexpected Kind '${W[M0]}'`)})()}function dS(W){return`^${W.map(($)=>rO($,"")).join("")}$`}function gX(W){let J=sO(W).map((Y)=>u1(Y));return KW(J)}function tO(W,$){let J=T1(W)?dS(Uu(W)):dS(W);return a({[M0]:"TemplateLiteral",type:"string",pattern:J},$)}function Nu(W){return sO(W).map((J)=>J.toString())}function qu(W){let $=[];for(let J of W)$.push(...d4(J));return $}function zu(W){return[W.toString()]}function d4(W){return[...new Set(x9(W)?Nu(W):H5(W)?qu(W.anyOf):R9(W)?zu(W.const):FW(W)?["[number]"]:jW(W)?["[number]"]:[])]}function Du(W,$,J){let Y={};for(let X of Object.getOwnPropertyNames($))Y[X]=pX(W,d4($[X]),J);return Y}function Zu(W,$,J){return Du(W,$.properties,J)}function Su(W,$,J){let Y=Zu(W,$,J);return Z5(Y)}function eO(W,$){return W.map((J)=>W_(J,$))}function Ou(W){return W.filter(($)=>!AJ($))}function _u(W,$){return X_(Ou(eO(W,$)))}function Lu(W){return W.some(($)=>AJ($))?[]:W}function ju(W,$){return KW(Lu(eO(W,$)))}function Fu(W,$){return $ in W?W[$]:$==="[number]"?KW(W):l1()}function Ku(W,$){return $==="[number]"?W:l1()}function Cu(W,$){return $ in W?W[$]:l1()}function W_(W,$){return l2(W)?_u(W.allOf,$):H5(W)?ju(W.anyOf,$):T9(W)?Fu(W.items??[],$):SW(W)?Ku(W.items,$):b8(W)?Cu(W.properties,$):l1()}function $_(W,$){return $.map((J)=>W_(W,J))}function cS(W,$){return KW($_(W,$))}function pX(W,$,J){if($2(W)||$2($)){if(!f4(W)||!f4($))throw new v4("Index types using Ref parameters require both Type and Key to be of TSchema");return e1("Index",[W,$])}if(F2($))return Su(W,$,J);if(I9($))return Pu(W,$,J);return a(f4($)?cS(W,d4($)):cS(W,$),J)}function Vu(W,$,J){return{[$]:pX(W,[$],_2(J))}}function bu(W,$,J){return $.reduce((Y,X)=>{return{...Y,...Vu(W,X,J)}},{})}function Eu(W,$,J){return bu(W,$.keys,J)}function Pu(W,$,J){let Y=Eu(W,$,J);return Z5(Y)}function rG(W,$){return a({[M0]:"Iterator",type:"Iterator",items:W},$)}function Ru(W){let $=[];for(let J in W)if(!y4(W[J]))$.push(J);return $}function Iu(W,$){let J=Ru(W),Y=J.length>0?{[M0]:"Object",type:"object",properties:W,required:J}:{[M0]:"Object",type:"object",properties:W};return a(Y,$)}var M5=Iu;function J_(W,$){return a({[M0]:"Promise",type:"Promise",item:W},$)}function xu(W){return a(L2(W,[ZW]))}function Tu(W){return a({...W,[ZW]:"Readonly"})}function ku(W,$){return $===!1?xu(W):Tu(W)}function c4(W,$){let J=$??!0;return F2(W)?vu(W,J):ku(W,J)}function gu(W,$){let J={};for(let Y of globalThis.Object.getOwnPropertyNames(W))J[Y]=c4(W[Y],$);return J}function fu(W,$){return gu(W.properties,$)}function vu(W,$){let J=fu(W,$);return Z5(J)}function CW(W,$){return a(W.length>0?{[M0]:"Tuple",type:"array",items:W,additionalItems:!1,minItems:W.length,maxItems:W.length}:{[M0]:"Tuple",type:"array",minItems:W.length,maxItems:W.length},$)}function Y_(W,$){return W in $?h2(W,$[W]):Z5($)}function yu(W){return{[W]:u1(W)}}function du(W){let $={};for(let J of W)$[J]=u1(J);return $}function cu(W,$){return gm($,W)?yu(W):du($)}function hu(W,$){let J=cu(W,$);return Y_(W,J)}function HJ(W,$){return $.map((J)=>h2(W,J))}function mu(W,$){let J={};for(let Y of globalThis.Object.getOwnPropertyNames($))J[Y]=h2(W,$[Y]);return J}function h2(W,$){let J={...$};return y4($)?h4(h2(W,L2($,[d6]))):yG($)?c4(h2(W,L2($,[ZW]))):F2($)?Y_(W,$.properties):I9($)?hu(W,$.keys):_W($)?nG(HJ(W,$.parameters),h2(W,$.returns),J):LW($)?zJ(HJ(W,$.parameters),h2(W,$.returns),J):vX($)?iG(h2(W,$.items),J):dX($)?rG(h2(W,$.items),J):l2($)?m4(HJ(W,$.allOf),J):H5($)?S5(HJ(W,$.anyOf),J):T9($)?CW(HJ(W,$.items??[]),J):b8($)?M5(mu(W,$.properties),J):SW($)?pG(h2(W,$.items),J):cX($)?J_(h2(W,$.item),J):$}function uu(W,$){let J={};for(let Y of W)J[Y]=h2(Y,$);return J}function lu(W,$,J){let Y=f4(W)?d4(W):W,X=$({[M0]:"MappedKey",keys:Y}),Q=uu(Y,X);return M5(Q,J)}function pu(W){return a(L2(W,[d6]))}function iu(W){return a({...W,[d6]:"Optional"})}function nu(W,$){return $===!1?pu(W):iu(W)}function h4(W,$){let J=$??!0;return F2(W)?au(W,J):nu(W,J)}function ou(W,$){let J={};for(let Y of globalThis.Object.getOwnPropertyNames(W))J[Y]=h4(W[Y],$);return J}function su(W,$){return ou(W.properties,$)}function au(W,$){let J=su(W,$);return Z5(J)}function IG(W,$={}){let J=W.every((X)=>b8(X)),Y=f4($.unevaluatedProperties)?{unevaluatedProperties:$.unevaluatedProperties}:{};return a($.unevaluatedProperties===!1||f4($.unevaluatedProperties)||J?{...Y,[M0]:"Intersect",type:"object",allOf:W}:{...Y,[M0]:"Intersect",allOf:W},$)}function ru(W){return W.every(($)=>y4($))}function tu(W){return L2(W,[d6])}function hS(W){return W.map(($)=>y4($)?tu($):$)}function eu(W,$){return ru(W)?h4(IG(hS(W),$)):IG(hS(W),$)}function X_(W,$={}){if(W.length===1)return a(W[0],$);if(W.length===0)return l1($);if(W.some((J)=>mX(J)))throw new Error("Cannot intersect transform types");return eu(W,$)}function m4(W,$){if(W.length===1)return a(W[0],$);if(W.length===0)return l1($);if(W.some((J)=>mX(J)))throw new Error("Cannot intersect transform types");return IG(W,$)}function DJ(...W){let[$,J]=typeof W[0]==="string"?[W[0],W[1]]:[W[0].$id,W[1]];if(typeof $!=="string")throw new v4("Ref: $ref must be a string");return a({[M0]:"Ref",$ref:$},J)}function Wl(W,$){return e1("Awaited",[e1(W,$)])}function $l(W){return e1("Awaited",[DJ(W)])}function Jl(W){return m4(Q_(W))}function Yl(W){return S5(Q_(W))}function Xl(W){return iX(W)}function Q_(W){return W.map(($)=>iX($))}function iX(W,$){return a(OW(W)?Wl(W.target,W.parameters):l2(W)?Jl(W.allOf):H5(W)?Yl(W.anyOf):cX(W)?Xl(W.item):$2(W)?$l(W.$ref):W,$)}function M_(W){let $=[];for(let J of W)$.push(tG(J));return $}function Ql(W){let $=M_(W);return cm($)}function Ml(W){let $=M_(W);return dm($)}function Hl(W){return W.map(($,J)=>J.toString())}function Gl(W){return["[number]"]}function Bl(W){return globalThis.Object.getOwnPropertyNames(W)}function Ul(W){if(!wl)return[];return globalThis.Object.getOwnPropertyNames(W).map((J)=>{return J[0]==="^"&&J[J.length-1]==="$"?J.slice(1,J.length-1):J})}function tG(W){return l2(W)?Ql(W.allOf):H5(W)?Ml(W.anyOf):T9(W)?Hl(W.items??[]):SW(W)?Gl(W.items):b8(W)?Bl(W.properties):hX(W)?Ul(W.patternProperties):[]}var wl=!1;function Al(W,$){return e1("KeyOf",[e1(W,$)])}function Nl(W){return e1("KeyOf",[DJ(W)])}function ql(W,$){let J=tG(W),Y=zl(J),X=KW(Y);return a(X,$)}function zl(W){return W.map(($)=>$==="[number]"?k9():u1($))}function eG(W,$){return OW(W)?Al(W.target,W.parameters):$2(W)?Nl(W.$ref):F2(W)?Sl(W,$):ql(W,$)}function Dl(W,$){let J={};for(let Y of globalThis.Object.getOwnPropertyNames(W))J[Y]=eG(W[Y],_2($));return J}function Zl(W,$){return Dl(W.properties,$)}function Sl(W,$){let J=Zl(W,$);return Z5(J)}function Ol(W){let $=[];for(let J of W)$.push(...tG(J));return fm($)}function _l(W){return W.filter(($)=>!AJ($))}function Ll(W,$){let J=[];for(let Y of W)J.push(...$_(Y,[$]));return _l(J)}function jl(W,$){let J={};for(let Y of $)J[Y]=X_(Ll(W,Y));return J}function Fl(W,$){let J=Ol(W),Y=jl(W,J);return M5(Y,$)}function H_(W){return a({[M0]:"Date",type:"Date"},W)}function G_(W){return a({[M0]:"Null",type:"null"},W)}function B_(W){return a({[M0]:"Symbol",type:"symbol"},W)}function U_(W){return a({[M0]:"Undefined",type:"undefined"},W)}function w_(W){return a({[M0]:"Uint8Array",type:"Uint8Array"},W)}function nX(W){return a({[M0]:"Unknown"},W)}function Kl(W){return W.map(($)=>WB($,!1))}function Cl(W){let $={};for(let J of globalThis.Object.getOwnPropertyNames(W))$[J]=c4(WB(W[J],!1));return $}function IX(W,$){return $===!0?W:c4(W)}function WB(W,$){return oS(W)?IX(GJ(),$):aS(W)?IX(GJ(),$):y5(W)?c4(CW(Kl(W))):DW(W)?w_():fX(W)?H_():F1(W)?IX(M5(Cl(W)),$):sS(W)?IX(zJ([],nX()),$):v5(W)?U_():rS(W)?G_():tS(W)?B_():gG(W)?aG():t8(W)?u1(W):zW(W)?u1(W):T1(W)?u1(W):M5({})}function Vl(W,$){return a(WB(W,!0),$)}function bl(W,$){return _W(W)?CW(W.parameters,$):l1($)}function El(W,$){if(v5(W))throw new Error("Enum undefined or empty");let J=globalThis.Object.getOwnPropertyNames(W).filter((Q)=>isNaN(Q)).map((Q)=>W[Q]),X=[...new Set(J)].map((Q)=>u1(Q));return S5(X,{...$,[wW]:"Enum"})}var Pl=class extends v4{},v;(function(W){W[W.Union=0]="Union",W[W.True=1]="True",W[W.False=2]="False"})(v||(v={}));function u2(W){return W===v.False?W:v.True}function VW(W){throw new Pl(W)}function p1(W){return F.IsNever(W)||F.IsIntersect(W)||F.IsUnion(W)||F.IsUnknown(W)||F.IsAny(W)}function i1(W,$){return F.IsNever($)?q_(W,$):F.IsIntersect($)?oX(W,$):F.IsUnion($)?JB(W,$):F.IsUnknown($)?S_(W,$):F.IsAny($)?$B(W,$):VW("StructuralRight")}function $B(W,$){return v.True}function Rl(W,$){return F.IsIntersect($)?oX(W,$):F.IsUnion($)&&$.anyOf.some((J)=>F.IsAny(J)||F.IsUnknown(J))?v.True:F.IsUnion($)?v.Union:F.IsUnknown($)?v.True:F.IsAny($)?v.True:v.Union}function Il(W,$){return F.IsUnknown(W)?v.False:F.IsAny(W)?v.Union:F.IsNever(W)?v.True:v.False}function xl(W,$){return F.IsObject($)&&sX($)?v.True:p1($)?i1(W,$):!F.IsArray($)?v.False:u2(a0(W.items,$.items))}function Tl(W,$){return p1($)?i1(W,$):!F.IsAsyncIterator($)?v.False:u2(a0(W.items,$.items))}function kl(W,$){return p1($)?i1(W,$):F.IsObject($)?P5(W,$):F.IsRecord($)?p2(W,$):F.IsBigInt($)?v.True:v.False}function A_(W,$){return F.IsLiteralBoolean(W)?v.True:F.IsBoolean(W)?v.True:v.False}function gl(W,$){return p1($)?i1(W,$):F.IsObject($)?P5(W,$):F.IsRecord($)?p2(W,$):F.IsBoolean($)?v.True:v.False}function fl(W,$){return p1($)?i1(W,$):F.IsObject($)?P5(W,$):!F.IsConstructor($)?v.False:W.parameters.length>$.parameters.length?v.False:!W.parameters.every((J,Y)=>u2(a0($.parameters[Y],J))===v.True)?v.False:u2(a0(W.returns,$.returns))}function vl(W,$){return p1($)?i1(W,$):F.IsObject($)?P5(W,$):F.IsRecord($)?p2(W,$):F.IsDate($)?v.True:v.False}function yl(W,$){return p1($)?i1(W,$):F.IsObject($)?P5(W,$):!F.IsFunction($)?v.False:W.parameters.length>$.parameters.length?v.False:!W.parameters.every((J,Y)=>u2(a0($.parameters[Y],J))===v.True)?v.False:u2(a0(W.returns,$.returns))}function N_(W,$){return F.IsLiteral(W)&&v6.IsNumber(W.const)?v.True:F.IsNumber(W)||F.IsInteger(W)?v.True:v.False}function dl(W,$){return F.IsInteger($)||F.IsNumber($)?v.True:p1($)?i1(W,$):F.IsObject($)?P5(W,$):F.IsRecord($)?p2(W,$):v.False}function oX(W,$){return $.allOf.every((J)=>a0(W,J)===v.True)?v.True:v.False}function cl(W,$){return W.allOf.some((J)=>a0(J,$)===v.True)?v.True:v.False}function hl(W,$){return p1($)?i1(W,$):!F.IsIterator($)?v.False:u2(a0(W.items,$.items))}function ml(W,$){return F.IsLiteral($)&&$.const===W.const?v.True:p1($)?i1(W,$):F.IsObject($)?P5(W,$):F.IsRecord($)?p2(W,$):F.IsString($)?Z_(W,$):F.IsNumber($)?z_(W,$):F.IsInteger($)?N_(W,$):F.IsBoolean($)?A_(W,$):v.False}function q_(W,$){return v.False}function ul(W,$){return v.True}function mS(W){let[$,J]=[W,0];while(!0){if(!F.IsNot($))break;$=$.not,J+=1}return J%2===0?$:nX()}function ll(W,$){return F.IsNot(W)?a0(mS(W),$):F.IsNot($)?a0(W,mS($)):VW("Invalid fallthrough for Not")}function pl(W,$){return p1($)?i1(W,$):F.IsObject($)?P5(W,$):F.IsRecord($)?p2(W,$):F.IsNull($)?v.True:v.False}function z_(W,$){return F.IsLiteralNumber(W)?v.True:F.IsNumber(W)||F.IsInteger(W)?v.True:v.False}function il(W,$){return p1($)?i1(W,$):F.IsObject($)?P5(W,$):F.IsRecord($)?p2(W,$):F.IsInteger($)||F.IsNumber($)?v.True:v.False}function J2(W,$){return Object.getOwnPropertyNames(W.properties).length===$}function uS(W){return sX(W)}function lS(W){return J2(W,0)||J2(W,1)&&"description"in W.properties&&F.IsUnion(W.properties.description)&&W.properties.description.anyOf.length===2&&(F.IsString(W.properties.description.anyOf[0])&&F.IsUndefined(W.properties.description.anyOf[1])||F.IsString(W.properties.description.anyOf[1])&&F.IsUndefined(W.properties.description.anyOf[0]))}function VG(W){return J2(W,0)}function pS(W){return J2(W,0)}function nl(W){return J2(W,0)}function ol(W){return J2(W,0)}function sl(W){return sX(W)}function al(W){let $=k9();return J2(W,0)||J2(W,1)&&"length"in W.properties&&u2(a0(W.properties.length,$))===v.True}function rl(W){return J2(W,0)}function sX(W){let $=k9();return J2(W,0)||J2(W,1)&&"length"in W.properties&&u2(a0(W.properties.length,$))===v.True}function tl(W){let $=zJ([GJ()],GJ());return J2(W,0)||J2(W,1)&&"then"in W.properties&&u2(a0(W.properties.then,$))===v.True}function D_(W,$){return a0(W,$)===v.False?v.False:F.IsOptional(W)&&!F.IsOptional($)?v.False:v.True}function P5(W,$){return F.IsUnknown(W)?v.False:F.IsAny(W)?v.Union:F.IsNever(W)||F.IsLiteralString(W)&&uS($)||F.IsLiteralNumber(W)&&VG($)||F.IsLiteralBoolean(W)&&pS($)||F.IsSymbol(W)&&lS($)||F.IsBigInt(W)&&nl($)||F.IsString(W)&&uS($)||F.IsSymbol(W)&&lS($)||F.IsNumber(W)&&VG($)||F.IsInteger(W)&&VG($)||F.IsBoolean(W)&&pS($)||F.IsUint8Array(W)&&sl($)||F.IsDate(W)&&ol($)||F.IsConstructor(W)&&rl($)||F.IsFunction(W)&&al($)?v.True:F.IsRecord(W)&&F.IsString(xG(W))?(()=>{return $[wW]==="Record"?v.True:v.False})():F.IsRecord(W)&&F.IsNumber(xG(W))?(()=>{return J2($,0)?v.True:v.False})():v.False}function el(W,$){return p1($)?i1(W,$):F.IsRecord($)?p2(W,$):!F.IsObject($)?v.False:(()=>{for(let J of Object.getOwnPropertyNames($.properties)){if(!(J in W.properties)&&!F.IsOptional($.properties[J]))return v.False;if(F.IsOptional($.properties[J]))return v.True;if(D_(W.properties[J],$.properties[J])===v.False)return v.False}return v.True})()}function Wp(W,$){return p1($)?i1(W,$):F.IsObject($)&&tl($)?v.True:!F.IsPromise($)?v.False:u2(a0(W.item,$.item))}function xG(W){return AW in W.patternProperties?k9():(NW in W.patternProperties)?P9():VW("Unknown record key pattern")}function TG(W){return AW in W.patternProperties?W.patternProperties[AW]:(NW in W.patternProperties)?W.patternProperties[NW]:VW("Unable to get record value schema")}function p2(W,$){let[J,Y]=[xG($),TG($)];return F.IsLiteralString(W)&&F.IsNumber(J)&&u2(a0(W,Y))===v.True?v.True:F.IsUint8Array(W)&&F.IsNumber(J)?a0(W,Y):F.IsString(W)&&F.IsNumber(J)?a0(W,Y):F.IsArray(W)&&F.IsNumber(J)?a0(W,Y):F.IsObject(W)?(()=>{for(let X of Object.getOwnPropertyNames(W.properties))if(D_(Y,W.properties[X])===v.False)return v.False;return v.True})():v.False}function $p(W,$){return p1($)?i1(W,$):F.IsObject($)?P5(W,$):!F.IsRecord($)?v.False:a0(TG(W),TG($))}function Jp(W,$){let J=F.IsRegExp(W)?P9():W,Y=F.IsRegExp($)?P9():$;return a0(J,Y)}function Z_(W,$){return F.IsLiteral(W)&&v6.IsString(W.const)?v.True:F.IsString(W)?v.True:v.False}function Yp(W,$){return p1($)?i1(W,$):F.IsObject($)?P5(W,$):F.IsRecord($)?p2(W,$):F.IsString($)?v.True:v.False}function Xp(W,$){return p1($)?i1(W,$):F.IsObject($)?P5(W,$):F.IsRecord($)?p2(W,$):F.IsSymbol($)?v.True:v.False}function Qp(W,$){return F.IsTemplateLiteral(W)?a0(gX(W),$):F.IsTemplateLiteral($)?a0(W,gX($)):VW("Invalid fallthrough for TemplateLiteral")}function Mp(W,$){return F.IsArray($)&&W.items!==void 0&&W.items.every((J)=>a0(J,$.items)===v.True)}function Hp(W,$){return F.IsNever(W)?v.True:F.IsUnknown(W)?v.False:F.IsAny(W)?v.Union:v.False}function Gp(W,$){return p1($)?i1(W,$):F.IsObject($)&&sX($)?v.True:F.IsArray($)&&Mp(W,$)?v.True:!F.IsTuple($)?v.False:v6.IsUndefined(W.items)&&!v6.IsUndefined($.items)||!v6.IsUndefined(W.items)&&v6.IsUndefined($.items)?v.False:v6.IsUndefined(W.items)&&!v6.IsUndefined($.items)?v.True:W.items.every((J,Y)=>a0(J,$.items[Y])===v.True)?v.True:v.False}function Bp(W,$){return p1($)?i1(W,$):F.IsObject($)?P5(W,$):F.IsRecord($)?p2(W,$):F.IsUint8Array($)?v.True:v.False}function Up(W,$){return p1($)?i1(W,$):F.IsObject($)?P5(W,$):F.IsRecord($)?p2(W,$):F.IsVoid($)?Np(W,$):F.IsUndefined($)?v.True:v.False}function JB(W,$){return $.anyOf.some((J)=>a0(W,J)===v.True)?v.True:v.False}function wp(W,$){return W.anyOf.every((J)=>a0(J,$)===v.True)?v.True:v.False}function S_(W,$){return v.True}function Ap(W,$){return F.IsNever($)?q_(W,$):F.IsIntersect($)?oX(W,$):F.IsUnion($)?JB(W,$):F.IsAny($)?$B(W,$):F.IsString($)?Z_(W,$):F.IsNumber($)?z_(W,$):F.IsInteger($)?N_(W,$):F.IsBoolean($)?A_(W,$):F.IsArray($)?Il(W,$):F.IsTuple($)?Hp(W,$):F.IsObject($)?P5(W,$):F.IsUnknown($)?v.True:v.False}function Np(W,$){return F.IsUndefined(W)?v.True:F.IsUndefined(W)?v.True:v.False}function qp(W,$){return F.IsIntersect($)?oX(W,$):F.IsUnion($)?JB(W,$):F.IsUnknown($)?S_(W,$):F.IsAny($)?$B(W,$):F.IsObject($)?P5(W,$):F.IsVoid($)?v.True:v.False}function a0(W,$){return F.IsTemplateLiteral(W)||F.IsTemplateLiteral($)?Qp(W,$):F.IsRegExp(W)||F.IsRegExp($)?Jp(W,$):F.IsNot(W)||F.IsNot($)?ll(W,$):F.IsAny(W)?Rl(W,$):F.IsArray(W)?xl(W,$):F.IsBigInt(W)?kl(W,$):F.IsBoolean(W)?gl(W,$):F.IsAsyncIterator(W)?Tl(W,$):F.IsConstructor(W)?fl(W,$):F.IsDate(W)?vl(W,$):F.IsFunction(W)?yl(W,$):F.IsInteger(W)?dl(W,$):F.IsIntersect(W)?cl(W,$):F.IsIterator(W)?hl(W,$):F.IsLiteral(W)?ml(W,$):F.IsNever(W)?ul(W,$):F.IsNull(W)?pl(W,$):F.IsNumber(W)?il(W,$):F.IsObject(W)?el(W,$):F.IsRecord(W)?$p(W,$):F.IsString(W)?Yp(W,$):F.IsSymbol(W)?Xp(W,$):F.IsTuple(W)?Gp(W,$):F.IsPromise(W)?Wp(W,$):F.IsUint8Array(W)?Bp(W,$):F.IsUndefined(W)?Up(W,$):F.IsUnion(W)?wp(W,$):F.IsUnknown(W)?Ap(W,$):F.IsVoid(W)?qp(W,$):VW(`Unknown left type operand '${W[M0]}'`)}function ZJ(W,$){return a0(W,$)}function zp(W,$,J,Y,X){let Q={};for(let M of globalThis.Object.getOwnPropertyNames(W))Q[M]=YB(W[M],$,J,Y,_2(X));return Q}function Dp(W,$,J,Y,X){return zp(W.properties,$,J,Y,X)}function Zp(W,$,J,Y,X){let Q=Dp(W,$,J,Y,X);return Z5(Q)}function Sp(W,$,J,Y){let X=ZJ(W,$);return X===v.Union?S5([J,Y]):X===v.True?J:Y}function YB(W,$,J,Y,X){return F2(W)?Zp(W,$,J,Y,X):I9(W)?a(jp(W,$,J,Y,X)):a(Sp(W,$,J,Y),X)}function Op(W,$,J,Y,X){return{[W]:YB(u1(W),$,J,Y,_2(X))}}function _p(W,$,J,Y,X){return W.reduce((Q,M)=>{return{...Q,...Op(M,$,J,Y,X)}},{})}function Lp(W,$,J,Y,X){return _p(W.keys,$,J,Y,X)}function jp(W,$,J,Y,X){let Q=Lp(W,$,J,Y,X);return Z5(Q)}function Fp(W,$){return XB(gX(W),$)}function Kp(W,$){let J=W.filter((Y)=>ZJ(Y,$)===v.False);return J.length===1?J[0]:S5(J)}function XB(W,$,J={}){if(x9(W))return a(Fp(W,$),J);if(F2(W))return a(bp(W,$),J);return a(H5(W)?Kp(W.anyOf,$):ZJ(W,$)!==v.False?l1():W,J)}function Cp(W,$){let J={};for(let Y of globalThis.Object.getOwnPropertyNames(W))J[Y]=XB(W[Y],$);return J}function Vp(W,$){return Cp(W.properties,$)}function bp(W,$){let J=Vp(W,$);return Z5(J)}function Ep(W,$){return QB(gX(W),$)}function Pp(W,$){let J=W.filter((Y)=>ZJ(Y,$)!==v.False);return J.length===1?J[0]:S5(J)}function QB(W,$,J){if(x9(W))return a(Ep(W,$),J);if(F2(W))return a(xp(W,$),J);return a(H5(W)?Pp(W.anyOf,$):ZJ(W,$)!==v.False?W:l1(),J)}function Rp(W,$){let J={};for(let Y of globalThis.Object.getOwnPropertyNames(W))J[Y]=QB(W[Y],$);return J}function Ip(W,$){return Rp(W.properties,$)}function xp(W,$){let J=Ip(W,$);return Z5(J)}function Tp(W,$){return _W(W)?a(W.returns,$):l1($)}function O_(W){return c4(h4(W))}function g9(W,$,J){return a({[M0]:"Record",type:"object",patternProperties:{[W]:$}},J)}function MB(W,$,J){let Y={};for(let X of W)Y[X]=$;return M5(Y,{...J,[wW]:"Record"})}function kp(W,$,J){return Yu(W)?MB(d4(W),$,J):g9(W.pattern,$,J)}function gp(W,$,J){return MB(d4(S5(W)),$,J)}function fp(W,$,J){return MB([W.toString()],$,J)}function vp(W,$,J){return g9(W.source,$,J)}function yp(W,$,J){let Y=v5(W.pattern)?NW:W.pattern;return g9(Y,$,J)}function dp(W,$,J){return g9(NW,$,J)}function cp(W,$,J){return g9(km,$,J)}function hp(W,$,J){return M5({true:$,false:$},J)}function mp(W,$,J){return g9(AW,$,J)}function up(W,$,J){return g9(AW,$,J)}function __(W,$,J={}){return H5(W)?gp(W.anyOf,$,J):x9(W)?kp(W,$,J):R9(W)?fp(W.const,$,J):wJ(W)?hp(W,$,J):jW(W)?mp(W,$,J):FW(W)?up(W,$,J):JO(W)?vp(W,$,J):NJ(W)?yp(W,$,J):eS(W)?dp(W,$,J):AJ(W)?cp(W,$,J):l1(J)}function HB(W){return globalThis.Object.getOwnPropertyNames(W.patternProperties)[0]}function lp(W){let $=HB(W);return $===NW?P9():$===AW?k9():P9({pattern:$})}function L_(W){return W.patternProperties[HB(W)]}function pp(W,$){return $.parameters=SJ(W,$.parameters),$.returns=V8(W,$.returns),$}function ip(W,$){return $.parameters=SJ(W,$.parameters),$.returns=V8(W,$.returns),$}function np(W,$){return $.allOf=SJ(W,$.allOf),$}function op(W,$){return $.anyOf=SJ(W,$.anyOf),$}function sp(W,$){if(v5($.items))return $;return $.items=SJ(W,$.items),$}function ap(W,$){return $.items=V8(W,$.items),$}function rp(W,$){return $.items=V8(W,$.items),$}function tp(W,$){return $.items=V8(W,$.items),$}function ep(W,$){return $.item=V8(W,$.item),$}function Wi(W,$){let J=Xi(W,$.properties);return{...$,...M5(J)}}function $i(W,$){let J=V8(W,lp($)),Y=V8(W,L_($)),X=__(J,Y);return{...$,...X}}function Ji(W,$){return $.index in W?W[$.index]:nX()}function Yi(W,$){let J=yG($),Y=y4($),X=V8(W,$);return J&&Y?O_(X):J&&!Y?c4(X):!J&&Y?h4(X):X}function Xi(W,$){return globalThis.Object.getOwnPropertyNames($).reduce((J,Y)=>{return{...J,[Y]:Yi(W,$[Y])}},{})}function SJ(W,$){return $.map((J)=>V8(W,J))}function V8(W,$){return _W($)?pp(W,$):LW($)?ip(W,$):l2($)?np(W,$):H5($)?op(W,$):T9($)?sp(W,$):SW($)?ap(W,$):vX($)?rp(W,$):dX($)?tp(W,$):cX($)?ep(W,$):b8($)?Wi(W,$):hX($)?$i(W,$):WO($)?Ji(W,$):$}function Qi(W,$){return V8($,vG(W))}function Mi(W){return a({[M0]:"Integer",type:"integer"},W)}function Hi(W,$,J){return{[W]:bW(u1(W),$,_2(J))}}function Gi(W,$,J){return W.reduce((X,Q)=>{return{...X,...Hi(Q,$,J)}},{})}function Bi(W,$,J){return Gi(W.keys,$,J)}function Ui(W,$,J){let Y=Bi(W,$,J);return Z5(Y)}function wi(W){let[$,J]=[W.slice(0,1),W.slice(1)];return[$.toLowerCase(),J].join("")}function Ai(W){let[$,J]=[W.slice(0,1),W.slice(1)];return[$.toUpperCase(),J].join("")}function Ni(W){return W.toUpperCase()}function qi(W){return W.toLowerCase()}function zi(W,$,J){let Y=sG(W.pattern);if(!UJ(Y))return{...W,pattern:j_(W.pattern,$)};let M=[...lX(Y)].map((B)=>u1(B)),H=F_(M,$),G=S5(H);return tO([G],J)}function j_(W,$){return typeof W==="string"?$==="Uncapitalize"?wi(W):$==="Capitalize"?Ai(W):$==="Uppercase"?Ni(W):$==="Lowercase"?qi(W):W:W.toString()}function F_(W,$){return W.map((J)=>bW(J,$))}function bW(W,$,J={}){return I9(W)?Ui(W,$,J):x9(W)?zi(W,$,J):H5(W)?S5(F_(W.anyOf,$),J):R9(W)?u1(j_(W.const,$),J):a(W,J)}function Di(W,$={}){return bW(W,"Capitalize",$)}function Zi(W,$={}){return bW(W,"Lowercase",$)}function Si(W,$={}){return bW(W,"Uncapitalize",$)}function Oi(W,$={}){return bW(W,"Uppercase",$)}function _i(W,$,J){let Y={};for(let X of globalThis.Object.getOwnPropertyNames(W))Y[X]=aX(W[X],$,_2(J));return Y}function Li(W,$,J){return _i(W.properties,$,J)}function ji(W,$,J){let Y=Li(W,$,J);return Z5(Y)}function Fi(W,$){return W.map((J)=>GB(J,$))}function Ki(W,$){return W.map((J)=>GB(J,$))}function Ci(W,$){let{[$]:J,...Y}=W;return Y}function Vi(W,$){return $.reduce((J,Y)=>Ci(J,Y),W)}function bi(W,$){let J=L2(W,[m2,"$id","required","properties"]),Y=Vi(W.properties,$);return M5(Y,J)}function Ei(W){let $=W.reduce((J,Y)=>$O(Y)?[...J,u1(Y)]:J,[]);return S5($)}function GB(W,$){return l2(W)?m4(Fi(W.allOf,$)):H5(W)?S5(Ki(W.anyOf,$)):b8(W)?bi(W,$):M5({})}function aX(W,$,J){let Y=y5($)?Ei($):$,X=f4($)?d4($):$,Q=$2(W),M=$2($);return F2(W)?ji(W,X,J):I9($)?xi(W,$,J):Q&&M?e1("Omit",[W,Y],J):!Q&&M?e1("Omit",[W,Y],J):Q&&!M?e1("Omit",[W,Y],J):a({...GB(W,X),...J})}function Pi(W,$,J){return{[$]:aX(W,[$],_2(J))}}function Ri(W,$,J){return $.reduce((Y,X)=>{return{...Y,...Pi(W,X,J)}},{})}function Ii(W,$,J){return Ri(W,$.keys,J)}function xi(W,$,J){let Y=Ii(W,$,J);return Z5(Y)}function Ti(W,$,J){let Y={};for(let X of globalThis.Object.getOwnPropertyNames(W))Y[X]=rX(W[X],$,_2(J));return Y}function ki(W,$,J){return Ti(W.properties,$,J)}function gi(W,$,J){let Y=ki(W,$,J);return Z5(Y)}function fi(W,$){return W.map((J)=>BB(J,$))}function vi(W,$){return W.map((J)=>BB(J,$))}function yi(W,$){let J={};for(let Y of $)if(Y in W)J[Y]=W[Y];return J}function di(W,$){let J=L2(W,[m2,"$id","required","properties"]),Y=yi(W.properties,$);return M5(Y,J)}function ci(W){let $=W.reduce((J,Y)=>$O(Y)?[...J,u1(Y)]:J,[]);return S5($)}function BB(W,$){return l2(W)?m4(fi(W.allOf,$)):H5(W)?S5(vi(W.anyOf,$)):b8(W)?di(W,$):M5({})}function rX(W,$,J){let Y=y5($)?ci($):$,X=f4($)?d4($):$,Q=$2(W),M=$2($);return F2(W)?gi(W,X,J):I9($)?li(W,$,J):Q&&M?e1("Pick",[W,Y],J):!Q&&M?e1("Pick",[W,Y],J):Q&&!M?e1("Pick",[W,Y],J):a({...BB(W,X),...J})}function hi(W,$,J){return{[$]:rX(W,[$],_2(J))}}function mi(W,$,J){return $.reduce((Y,X)=>{return{...Y,...hi(W,X,J)}},{})}function ui(W,$,J){return mi(W,$.keys,J)}function li(W,$,J){let Y=ui(W,$,J);return Z5(Y)}function pi(W,$){return e1("Partial",[e1(W,$)])}function ii(W){return e1("Partial",[DJ(W)])}function ni(W){let $={};for(let J of globalThis.Object.getOwnPropertyNames(W))$[J]=h4(W[J]);return $}function oi(W){let $=L2(W,[m2,"$id","required","properties"]),J=ni(W.properties);return M5(J,$)}function iS(W){return W.map(($)=>K_($))}function K_(W){return OW(W)?pi(W.target,W.parameters):$2(W)?ii(W.$ref):l2(W)?m4(iS(W.allOf)):H5(W)?S5(iS(W.anyOf)):b8(W)?oi(W):yX(W)?W:wJ(W)?W:jW(W)?W:R9(W)?W:dG(W)?W:FW(W)?W:NJ(W)?W:cG(W)?W:hG(W)?W:M5({})}function UB(W,$){if(F2(W))return ri(W,$);else return a({...K_(W),...$})}function si(W,$){let J={};for(let Y of globalThis.Object.getOwnPropertyNames(W))J[Y]=UB(W[Y],_2($));return J}function ai(W,$){return si(W.properties,$)}function ri(W,$){let J=ai(W,$);return Z5(J)}function ti(W,$){return e1("Required",[e1(W,$)])}function ei(W){return e1("Required",[DJ(W)])}function Wn(W){let $={};for(let J of globalThis.Object.getOwnPropertyNames(W))$[J]=L2(W[J],[d6]);return $}function $n(W){let $=L2(W,[m2,"$id","required","properties"]),J=Wn(W.properties);return M5(J,$)}function nS(W){return W.map(($)=>C_($))}function C_(W){return OW(W)?ti(W.target,W.parameters):$2(W)?ei(W.$ref):l2(W)?m4(nS(W.allOf)):H5(W)?S5(nS(W.anyOf)):b8(W)?$n(W):yX(W)?W:wJ(W)?W:jW(W)?W:R9(W)?W:dG(W)?W:FW(W)?W:NJ(W)?W:cG(W)?W:hG(W)?W:M5({})}function wB(W,$){if(F2(W))return Xn(W,$);else return a({...C_(W),...$})}function Jn(W,$){let J={};for(let Y of globalThis.Object.getOwnPropertyNames(W))J[Y]=wB(W[Y],$);return J}function Yn(W,$){return Jn(W.properties,$)}function Xn(W,$){let J=Yn(W,$);return Z5(J)}function Qn(W,$){return $.map((J)=>{return $2(J)?AB(W,J.$ref):j2(W,J)})}function AB(W,$){return $ in W?$2(W[$])?AB(W,W[$].$ref):j2(W,W[$]):l1()}function Mn(W){return iX(W[0])}function Hn(W){return pX(W[0],W[1])}function Gn(W){return eG(W[0])}function Bn(W){return UB(W[0])}function Un(W){return aX(W[0],W[1])}function wn(W){return rX(W[0],W[1])}function An(W){return wB(W[0])}function Nn(W,$,J){let Y=Qn(W,J);return $==="Awaited"?Mn(Y):$==="Index"?Hn(Y):$==="KeyOf"?Gn(Y):$==="Partial"?Bn(Y):$==="Omit"?Un(Y):$==="Pick"?wn(Y):$==="Required"?An(Y):l1()}function qn(W,$){return pG(j2(W,$))}function zn(W,$){return iG(j2(W,$))}function Dn(W,$,J){return nG(OJ(W,$),j2(W,J))}function Zn(W,$,J){return zJ(OJ(W,$),j2(W,J))}function Sn(W,$){return m4(OJ(W,$))}function On(W,$){return rG(j2(W,$))}function _n(W,$){return M5(globalThis.Object.keys($).reduce((J,Y)=>{return{...J,[Y]:j2(W,$[Y])}},{}))}function Ln(W,$){let[J,Y]=[j2(W,L_($)),HB($)],X=vG($);return X.patternProperties[Y]=J,X}function jn(W,$){return $2($)?{...AB(W,$.$ref),[m2]:$[m2]}:$}function Fn(W,$){return CW(OJ(W,$))}function Kn(W,$){return S5(OJ(W,$))}function OJ(W,$){return $.map((J)=>j2(W,J))}function j2(W,$){return y4($)?a(j2(W,L2($,[d6])),$):yG($)?a(j2(W,L2($,[ZW])),$):mX($)?a(jn(W,$),$):SW($)?a(qn(W,$.items),$):vX($)?a(zn(W,$.items),$):OW($)?a(Nn(W,$.target,$.parameters)):_W($)?a(Dn(W,$.parameters,$.returns),$):LW($)?a(Zn(W,$.parameters,$.returns),$):l2($)?a(Sn(W,$.allOf),$):dX($)?a(On(W,$.items),$):b8($)?a(_n(W,$.properties),$):hX($)?a(Ln(W,$)):T9($)?a(Fn(W,$.items||[]),$):H5($)?a(Kn(W,$.anyOf),$):$}function Cn(W,$){return $ in W?j2(W,W[$]):l1()}function Vn(W){return globalThis.Object.getOwnPropertyNames(W).reduce(($,J)=>{return{...$,[J]:Cn(W,J)}},{})}var bn=class{constructor(W){let $=Vn(W),J=this.WithIdentifiers($);this.$defs=J}Import(W,$){let J={...this.$defs,[W]:a(this.$defs[W],$)};return a({[M0]:"Import",$defs:J,$ref:W})}WithIdentifiers(W){return globalThis.Object.getOwnPropertyNames(W).reduce(($,J)=>{return{...$,[J]:{...W[J],$id:J}}},{})}};function En(W){return new bn(W)}function Pn(W,$){return a({[M0]:"Not",not:W},$)}function Rn(W,$){return LW(W)?CW(W.parameters,$):l1()}var In=0;function xn(W,$={}){if(v5($.$id))$.$id=`T${In++}`;let J=vG(W({[M0]:"This",$ref:`${$.$id}`}));return J.$id=$.$id,a({[wW]:"Recursive",...J},$)}function Tn(W,$){let J=T1(W)?new globalThis.RegExp(W):W;return a({[M0]:"RegExp",type:"RegExp",source:J.source,flags:J.flags},$)}function kn(W){return l2(W)?W.allOf:H5(W)?W.anyOf:T9(W)?W.items??[]:[]}function gn(W){return kn(W)}function fn(W,$){return LW(W)?a(W.returns,$):l1($)}var vn=class{constructor(W){this.schema=W}Decode(W){return new yn(this.schema,W)}},yn=class{constructor(W,$){this.schema=W,this.decode=$}EncodeTransform(W,$){let X={Encode:(Q)=>$[m2].Encode(W(Q)),Decode:(Q)=>this.decode($[m2].Decode(Q))};return{...$,[m2]:X}}EncodeSchema(W,$){let J={Decode:this.decode,Encode:W};return{...$,[m2]:J}}Encode(W){return mX(this.schema)?this.EncodeTransform(W,this.schema):this.EncodeSchema(W,this.schema)}};function dn(W){return new vn(W)}function cn(W={}){return a({[M0]:W[M0]??"Unsafe"},W)}function hn(W){return a({[M0]:"Void",type:"void"},W)}var V_={};kG(V_,{Any:()=>GJ,Argument:()=>hm,Array:()=>pG,AsyncIterator:()=>iG,Awaited:()=>iX,BigInt:()=>aG,Boolean:()=>aO,Capitalize:()=>Di,Composite:()=>Fl,Const:()=>Vl,Constructor:()=>nG,ConstructorParameters:()=>bl,Date:()=>H_,Enum:()=>El,Exclude:()=>XB,Extends:()=>YB,Extract:()=>QB,Function:()=>zJ,Index:()=>pX,InstanceType:()=>Tp,Instantiate:()=>Qi,Integer:()=>Mi,Intersect:()=>m4,Iterator:()=>rG,KeyOf:()=>eG,Literal:()=>u1,Lowercase:()=>Zi,Mapped:()=>lu,Module:()=>En,Never:()=>l1,Not:()=>Pn,Null:()=>G_,Number:()=>k9,Object:()=>M5,Omit:()=>aX,Optional:()=>h4,Parameters:()=>Rn,Partial:()=>UB,Pick:()=>rX,Promise:()=>J_,Readonly:()=>c4,ReadonlyOptional:()=>O_,Record:()=>__,Recursive:()=>xn,Ref:()=>DJ,RegExp:()=>Tn,Required:()=>wB,Rest:()=>gn,ReturnType:()=>fn,String:()=>P9,Symbol:()=>B_,TemplateLiteral:()=>tO,Transform:()=>dn,Tuple:()=>CW,Uint8Array:()=>w_,Uncapitalize:()=>Si,Undefined:()=>U_,Union:()=>S5,Unknown:()=>nX,Unsafe:()=>cn,Uppercase:()=>Oi,Void:()=>hn});var m1=V_,b_=({name:W="jwt",secret:$,schema:J,...Y})=>{if(!$)throw new Error("Secret can't be empty");let X=typeof $==="string"?new TextEncoder().encode($):$,Q=J?y1(m1.Intersect([J,m1.Object({iss:m1.Optional(m1.String()),sub:m1.Optional(m1.String()),aud:m1.Optional(m1.Union([m1.String(),m1.Array(m1.String())])),jti:m1.Optional(m1.String()),nbf:m1.Optional(m1.Number()),exp:m1.Optional(m1.Number()),iat:m1.Optional(m1.Number())})]),{modules:m1.Module({})}):void 0;return new Z0({name:"@elysiajs/jwt",seed:{name:W,secret:$,schema:J,...Y}}).decorate(W,{sign(M){let{nbf:H,exp:G,iat:B,...w}=M,A={alg:Y.alg??"HS256",b64:Y.b64,crit:Y.crit,cty:Y.cty,jku:Y.jku,jwk:Y.jwk,kid:Y.kid,typ:Y.typ??"JWT",x5c:Y.x5c,x5t:Y.x5t,x5u:Y.x5u},q={aud:w.aud??Y.aud,iss:w.iss??Y.iss,jti:w.jti??Y.jti,sub:w.sub??Y.sub,...w},N=new RX({...q}).setProtectedHeader({alg:A.alg,...A}),z="nbf"in M?H:Y.nbf;if(z!==void 0)N=N.setNotBefore(z);let D="exp"in M?G:Y.exp;if(D!==void 0)N=N.setExpirationTime(D);if(("iat"in M?B:Y.iat)!==!1)N=N.setIssuedAt(new Date);return N.sign(X)},async verify(M,H){if(!M)return!1;try{let G=(await(H?PX(M,X,H):PX(M,X))).payload;if(Q&&!Q.Check(G))throw new d0("JWT",Q,G);return G}catch(G){return!1}}})};var NB;((E_)=>{let W={name:"jwt",secret:process.env.JWT_SECRET||"supersecret"};E_.authController=new Z0({prefix:"/auth"}).use(b_(W)).post("/login",async({body:J,set:Y,jwt:X})=>{try{let{username:Q,password:M}=J,H=await s8.login(Q,M,X);return Y.status="OK",H}catch(Q){return console.error(Q),Y.status="Internal Server Error","Login failed"}},{body:U.Object({username:U.String(),password:U.String()}),response:{200:U.Object({access_token:U.String(),refresh_token:U.String(),user:U.Object({id:U.String(),username:U.String(),role:U.String(),firstname:U.String(),lastname:U.String(),email:U.Optional(U.String())})}),500:U.String()},tags:["Authentication"]}).get("/me",async({jwt:J,set:Y,headers:X})=>{try{let Q=X.authorization,M=X["x-refresh-token"];if(!Q)return Y.status=401,{message:"Authorization header missing"};let H=Q.split(" ")[1],G=await J.verify(H);if(!G||typeof G!=="object"){if(M){let w=await S2.verifyToken(M);if(w){let A={role:w.user.role,username:w.user.username,sub:w.user_id},q=await J.sign(A);return Y.status=200,Y.headers["x-user-role"]=w.user.role,Y.headers["x-username"]=w.user.username,{...w.user,access_token:q}}}return Y.status=401,{message:"Invalid token"}}let B=await s8.findById(G.sub);if(!B)return Y.status=401,{message:"User not found"};return Y.status=200,Y.headers["x-user-role"]=B.role,Y.headers["x-username"]=B.username,{id:B.id,username:B.username,role:B.role,firstname:B.firstname,lastname:B.lastname,email:B.email}}catch(Q){return console.error(Q),Y.status="Internal Server Error","Failed"}},{response:{200:U.Object({id:U.String(),username:U.String(),role:U.String(),firstname:U.String(),lastname:U.String(),email:U.Optional(U.String())}),401:U.Object({message:U.String()}),500:U.String()},tags:["Authentication"],detail:{security:[{bearerAuth:[]}]}}).post("/logout",async({headers:J,set:Y})=>{try{let X=J["x-refresh-token"];if(!X)return Y.status=400,{message:"Refresh token missing"};return await S2.revokeToken(X),Y.status=200,{message:"Logged out successfully"}}catch(X){return console.error(X),Y.status="Internal Server Error",{message:"Failed to logout"}}},{response:{200:U.Object({message:U.String()}),400:U.Object({message:U.String()}),500:U.Object({message:U.String()})},tags:["Authentication"]})})(NB||={});var qB;((P_)=>P_.tokenController=new Z0({prefix:"/tokens"}).post("/generate",async({body:$,set:J})=>{try{let{userId:Y,expiresIn:X}=$,Q=await S2.generateToken(Y,X);return J.status=201,Q}catch(Y){return J.status="Bad Request",{error:Y.message}}},{body:U.Object({userId:U.String(),expiresIn:U.Optional(U.Number())}),tags:["Token"]}).get("/verify/:token",async({params:{token:$},set:J})=>{try{let Y=await S2.verifyToken($);if(!Y)return J.status="Not Found",{error:"Token not found or expired"};return Y}catch(Y){return J.status="Bad Request",{error:Y.message}}},{tags:["Token"]}).get("/user/:userId",async({params:{userId:$},set:J})=>{try{return await S2.getUserTokens($)}catch(Y){return J.status="Bad Request",{error:Y.message}}},{tags:["Token"]}).delete("/:token",async({params:{token:$},set:J})=>{try{return await S2.revokeToken($),J.status=204,null}catch(Y){return J.status="Bad Request",{error:Y.message}}},{tags:["Token"]}).delete("/user/:userId",async({params:{userId:$},set:J})=>{try{return await S2.revokeAllUserTokens($),J.status=204,null}catch(Y){return J.status="Bad Request",{error:Y.message}}},{tags:["Token"]}).delete("/cleanup/expired",async({set:$})=>{try{return await S2.cleanupExpiredTokens()}catch(J){return $.status="Bad Request",{error:J.message}}},{tags:["Token"]}))(qB||={});var R_=new Z0().group("/api/v1",(W)=>{return W.use(NB.authController),W.use(qB.tokenController),W.use($G.userController),W.use(YG.departmentController),W.use(XG.teacherController),W.use(QG.gradeLevelController),W.use(MG.classroomController),W.use(GG.teamController),W.use(UG.productController),W.use(AG.orderController),W.use(qG.orderItemController),W});var I_=new Z0().use(R_).use(Uz({methods:["GET","POST","PUT","DELETE","PATCH"],origin:"*"})).use(Bz({path:"/docs"})).use(wz).listen(process.env.PORT??3000);console.log(`\uD83E\uDD8A Elysia is running at http://${I_.server?.hostname}:${I_.server?.port}/docs`);
