// @bun
var KI=Object.create;var{getPrototypeOf:zI,defineProperty:TH,getOwnPropertyNames:LI}=Object;var SI=Object.prototype.hasOwnProperty;var VI=(J,Y,W)=>{W=J!=null?KI(zI(J)):{};let Q=Y||!J||!J.__esModule?TH(W,"default",{value:J,enumerable:!0}):W;for(let X of LI(J))if(!SI.call(Q,X))TH(Q,X,{get:()=>J[X],enumerable:!0});return Q};var m9=(J,Y)=>()=>(Y||J((Y={exports:{}}).exports,Y),Y.exports);var h4=(J,Y)=>{for(var W in Y)TH(J,W,{get:Y[W],enumerable:!0,configurable:!0,set:(Q)=>Y[W]=()=>Q})};var l1=(J,Y)=>()=>(J&&(Y=J(J=0)),Y);var _H=import.meta.require;var u1,e9;var KQ=l1(()=>{u1=class u1 extends Error{constructor(){super("End-Of-Stream");this.name="EndOfStreamError"}};e9=class e9 extends Error{constructor(J="The operation was aborted"){super(J);this.name="AbortError"}}});class LU{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((J,Y)=>{this.reject=Y,this.resolve=J})}}class JJ{constructor(){this.endOfStream=!1,this.interrupted=!1,this.peekQueue=[]}async peek(J,Y=!1){let W=await this.read(J,Y);return this.peekQueue.push(J.subarray(0,W)),W}async read(J,Y=!1){if(J.length===0)return 0;let W=this.readFromPeekBuffer(J);if(!this.endOfStream)W+=await this.readRemainderFromStream(J.subarray(W),Y);if(W===0&&!Y)throw new u1;return W}readFromPeekBuffer(J){let Y=J.length,W=0;while(this.peekQueue.length>0&&Y>0){let Q=this.peekQueue.pop();if(!Q)throw new Error("peekData should be defined");let X=Math.min(Q.length,Y);if(J.set(Q.subarray(0,X),W),W+=X,Y-=X,X<Q.length)this.peekQueue.push(Q.subarray(X))}return W}async readRemainderFromStream(J,Y){let W=0;while(W<J.length&&!this.endOfStream){if(this.interrupted)throw new e9;let Q=await this.readFromStream(J.subarray(W),Y);if(Q===0)break;W+=Q}if(!Y&&W<J.length)throw new u1;return W}}var $M=l1(()=>{KQ()});var XM;var WK=l1(()=>{KQ();$M();XM=class XM extends JJ{constructor(J){super();if(this.s=J,this.deferred=null,!J.read||!J.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>{if(this.endOfStream=!0,this.deferred)this.deferred.resolve(0)}),this.s.once("error",(Y)=>this.reject(Y)),this.s.once("close",()=>this.abort())}async readFromStream(J,Y){if(J.length===0)return 0;let W=this.s.read(J.length);if(W)return J.set(W),W.length;let Q={buffer:J,mayBeLess:Y,deferred:new LU};return this.deferred=Q.deferred,this.s.once("readable",()=>{this.readDeferred(Q)}),Q.deferred.promise}readDeferred(J){let Y=this.s.read(J.buffer.length);if(Y)J.buffer.set(Y),J.deferred.resolve(Y.length),this.deferred=null;else this.s.once("readable",()=>{this.readDeferred(J)})}reject(J){if(this.interrupted=!0,this.deferred)this.deferred.reject(J),this.deferred=null}async abort(){this.reject(new e9)}async close(){return this.abort()}}});var SU;var QK=l1(()=>{$M();SU=class SU extends JJ{constructor(J){super();this.reader=J}async abort(){return this.close()}async close(){this.reader.releaseLock()}}});var MM;var VU=l1(()=>{QK();MM=class MM extends SU{async readFromStream(J,Y){if(J.length===0)return 0;let W=await this.reader.read(new Uint8Array(J.length),{min:Y?void 0:J.length});if(W.done)this.endOfStream=W.done;if(W.value)return J.set(W.value),W.value.length;return 0}}});var zQ;var FU=l1(()=>{KQ();$M();zQ=class zQ extends JJ{constructor(J){super();this.reader=J,this.buffer=null}writeChunk(J,Y){let W=Math.min(Y.length,J.length);if(J.set(Y.subarray(0,W)),W<Y.length)this.buffer=Y.subarray(W);else this.buffer=null;return W}async readFromStream(J,Y){if(J.length===0)return 0;let W=0;if(this.buffer)W+=this.writeChunk(J,this.buffer);while(W<J.length&&!this.endOfStream){let Q=await this.reader.read();if(Q.done){this.endOfStream=!0;break}if(Q.value)W+=this.writeChunk(J.subarray(W),Q.value)}if(!Y&&W===0&&this.endOfStream)throw new u1;return W}abort(){return this.interrupted=!0,this.reader.cancel()}async close(){await this.abort(),this.reader.releaseLock()}}});function EU(J){try{let Y=J.getReader({mode:"byob"});if(Y instanceof ReadableStreamDefaultReader)return new zQ(Y);return new MM(Y)}catch(Y){if(Y instanceof TypeError)return new zQ(J.getReader());throw Y}}var $K=l1(()=>{VU();FU()});var n7=l1(()=>{KQ();WK();VU();FU();$K()});class Y7{constructor(J){if(this.numBuffer=new Uint8Array(8),this.position=0,this.onClose=J?.onClose,J?.abortSignal)J.abortSignal.addEventListener("abort",()=>{this.abort()})}async readToken(J,Y=this.position){let W=new Uint8Array(J.len);if(await this.readBuffer(W,{position:Y})<J.len)throw new u1;return J.get(W,0)}async peekToken(J,Y=this.position){let W=new Uint8Array(J.len);if(await this.peekBuffer(W,{position:Y})<J.len)throw new u1;return J.get(W,0)}async readNumber(J){if(await this.readBuffer(this.numBuffer,{length:J.len})<J.len)throw new u1;return J.get(this.numBuffer,0)}async peekNumber(J){if(await this.peekBuffer(this.numBuffer,{length:J.len})<J.len)throw new u1;return J.get(this.numBuffer,0)}async ignore(J){if(this.fileInfo.size!==void 0){let Y=this.fileInfo.size-this.position;if(J>Y)return this.position+=Y,Y}return this.position+=J,J}async close(){await this.abort(),await this.onClose?.()}normalizeOptions(J,Y){if(!this.supportsRandomAccess()&&Y&&Y.position!==void 0&&Y.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return{...{mayBeLess:!1,offset:0,length:J.length,position:this.position},...Y}}abort(){return Promise.resolve()}}var OY=l1(()=>{n7()});var $v=256000,GM;var XK=l1(()=>{OY();n7();GM=class GM extends Y7{constructor(J,Y){super(Y);this.streamReader=J,this.fileInfo=Y?.fileInfo??{}}async readBuffer(J,Y){let W=this.normalizeOptions(J,Y),Q=W.position-this.position;if(Q>0)return await this.ignore(Q),this.readBuffer(J,Y);if(Q<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(W.length===0)return 0;let X=await this.streamReader.read(J.subarray(0,W.length),W.mayBeLess);if(this.position+=X,(!Y||!Y.mayBeLess)&&X<W.length)throw new u1;return X}async peekBuffer(J,Y){let W=this.normalizeOptions(J,Y),Q=0;if(W.position){let X=W.position-this.position;if(X>0){let M=new Uint8Array(W.length+X);return Q=await this.peekBuffer(M,{mayBeLess:W.mayBeLess}),J.set(M.subarray(X)),Q-X}if(X<0)throw new Error("Cannot peek from a negative offset in a stream")}if(W.length>0){try{Q=await this.streamReader.peek(J.subarray(0,W.length),W.mayBeLess)}catch(X){if(Y?.mayBeLess&&X instanceof u1)return 0;throw X}if(!W.mayBeLess&&Q<W.length)throw new u1}return Q}async ignore(J){let Y=Math.min($v,J),W=new Uint8Array(Y),Q=0;while(Q<J){let X=J-Q,M=await this.readBuffer(W,{length:Math.min(Y,X)});if(M<0)return M;Q+=M}return Q}abort(){return this.streamReader.abort()}async close(){return this.streamReader.close()}supportsRandomAccess(){return!1}}});var jU;var MK=l1(()=>{n7();OY();jU=class jU extends Y7{constructor(J,Y){super(Y);this.uint8Array=J,this.fileInfo={...Y?.fileInfo??{},...{size:J.length}}}async readBuffer(J,Y){if(Y?.position)this.position=Y.position;let W=await this.peekBuffer(J,Y);return this.position+=W,W}async peekBuffer(J,Y){let W=this.normalizeOptions(J,Y),Q=Math.min(this.uint8Array.length-W.position,W.length);if(!W.mayBeLess&&Q<W.length)throw new u1;return J.set(this.uint8Array.subarray(W.position,W.position+Q)),Q}close(){return super.close()}supportsRandomAccess(){return!0}setPosition(J){this.position=J}}});var GK=l1(()=>{n7();OY()});function HK(J,Y){let W=new XM(J),Q=Y??{},X=Q.onClose;return Q.onClose=async()=>{if(await W.close(),X)return X()},new GM(W,Q)}function HM(J,Y){let W=EU(J),Q=Y??{},X=Q.onClose;return Q.onClose=async()=>{if(await W.close(),X)return X()},new GM(W,Q)}function UK(J,Y){return new jU(J,Y)}var UM=l1(()=>{n7();XK();MK();GK();n7();OY()});import{open as Mv}from"fs/promises";var LQ;var PU=l1(()=>{OY();n7();LQ=class LQ extends Y7{static async fromFile(J){let Y=await Mv(J,"r"),W=await Y.stat();return new LQ(Y,{fileInfo:{path:J,size:W.size}})}constructor(J,Y){super(Y);this.fileHandle=J,this.fileInfo=Y.fileInfo}async readBuffer(J,Y){let W=this.normalizeOptions(J,Y);if(this.position=W.position,W.length===0)return 0;let Q=await this.fileHandle.read(J,0,W.length,W.position);if(this.position+=Q.bytesRead,Q.bytesRead<W.length&&(!Y||!Y.mayBeLess))throw new u1;return Q.bytesRead}async peekBuffer(J,Y){let W=this.normalizeOptions(J,Y),Q=await this.fileHandle.read(J,0,W.length,W.position);if(!W.mayBeLess&&Q.bytesRead<W.length)throw new u1;return Q.bytesRead}async close(){return await this.fileHandle.close(),super.close()}setPosition(J){this.position=J}supportsRandomAccess(){return!0}}});import{stat as Gv}from"fs/promises";async function BK(J,Y){let W=HK(J,Y);if(J.path){let Q=await Gv(J.path);W.fileInfo.path=J.path,W.fileInfo.size=Q.size}return W}var AK;var NK=l1(()=>{UM();PU();PU();UM();AK=LQ.fromFile});var qK=l1(()=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */});function DK(J,Y="utf-8"){switch(Y.toLowerCase()){case"utf-8":case"utf8":if(typeof globalThis.TextDecoder!=="undefined")return new globalThis.TextDecoder("utf-8").decode(J);return Av(J);case"utf-16le":return Nv(J);case"ascii":return qv(J);case"latin1":case"iso-8859-1":return Dv(J);case"windows-1252":return Zv(J);default:throw new RangeError(`Encoding '${Y}' not supported`)}}function Av(J){let Y="",W=0;while(W<J.length){let Q=J[W++];if(Q<128)Y+=String.fromCharCode(Q);else if(Q<224){let X=J[W++]&63;Y+=String.fromCharCode((Q&31)<<6|X)}else if(Q<240){let X=J[W++]&63,M=J[W++]&63;Y+=String.fromCharCode((Q&15)<<12|X<<6|M)}else{let X=J[W++]&63,M=J[W++]&63,G=J[W++]&63,H=(Q&7)<<18|X<<12|M<<6|G;H-=65536,Y+=String.fromCharCode(55296+(H>>10&1023),56320+(H&1023))}}return Y}function Nv(J){let Y="";for(let W=0;W<J.length;W+=2)Y+=String.fromCharCode(J[W]|J[W+1]<<8);return Y}function qv(J){return String.fromCharCode(...J.map((Y)=>Y&127))}function Dv(J){return String.fromCharCode(...J)}function Zv(J){let Y="";for(let W of J)if(W>=128&&W<=159&&CU[W])Y+=CU[W];else Y+=String.fromCharCode(W);return Y}var CU,Bv;var ZK=l1(()=>{CU={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},Bv={};for(let[J,Y]of Object.entries(CU))Bv[Y]=Number.parseInt(J)});function A8(J){return new DataView(J.buffer,J.byteOffset)}class x8{constructor(J,Y){this.len=J,this.encoding=Y}get(J,Y=0){let W=J.subarray(Y,Y+this.len);return DK(W,this.encoding)}}var OK,H5,KY,T5,KK,zK,LK;var SQ=l1(()=>{qK();ZK();OK={len:1,get(J,Y){return A8(J).getUint8(Y)},put(J,Y,W){return A8(J).setUint8(Y,W),Y+1}},H5={len:2,get(J,Y){return A8(J).getUint16(Y,!0)},put(J,Y,W){return A8(J).setUint16(Y,W,!0),Y+2}},KY={len:2,get(J,Y){return A8(J).getUint16(Y)},put(J,Y,W){return A8(J).setUint16(Y,W),Y+2}},T5={len:4,get(J,Y){return A8(J).getUint32(Y,!0)},put(J,Y,W){return A8(J).setUint32(Y,W,!0),Y+4}},KK={len:4,get(J,Y){return A8(J).getUint32(Y)},put(J,Y,W){return A8(J).setUint32(Y,W),Y+4}},zK={len:4,get(J,Y){return A8(J).getInt32(Y)},put(J,Y,W){return A8(J).setInt32(Y,W),Y+4}},LK={len:8,get(J,Y){return A8(J).getBigUint64(Y,!0)},put(J,Y,W){return A8(J).setBigUint64(Y,W,!0),Y+8}}});import{createRequire as Kv}from"module";function xv(J,Y){return _U(J,{i:2},Y&&Y.out,Y&&Y.dictionary)}function gv(J,Y){var W=_v(J);if(W+8>J.length)g8(6,"invalid gzip data");return _U(J.subarray(W,-8),{i:2},Y&&Y.out||new y8(wv(J)),Y&&Y.dictionary)}function yv(J,Y){return _U(J.subarray(kv(J,Y&&Y.dictionary),-4),{i:2},Y&&Y.out,Y&&Y.dictionary)}function IK(J,Y){return J[0]==31&&J[1]==139&&J[2]==8?gv(J,Y):(J[0]&15)!=8||J[0]>>4>7||(J[0]<<8|J[1])%31?xv(J,Y):yv(J,Y)}var zv,Lv,y8,zY,Sv,SK,VK,Vv,FK=function(J,Y){var W=new zY(31);for(var Q=0;Q<31;++Q)W[Q]=Y+=1<<J[Q-1];var X=new Sv(W[30]);for(var Q=1;Q<30;++Q)for(var M=W[Q];M<W[Q+1];++M)X[M]=M-W[Q]<<5|Q;return{b:W,r:X}},EK,jK,Fv,PK,Ev,oO0,TU,B4,U1,VQ=function(J,Y,W){var Q=J.length,X=0,M=new zY(Y);for(;X<Q;++X)if(J[X])++M[J[X]-1];var G=new zY(Y);for(X=1;X<Y;++X)G[X]=G[X-1]+M[X-1]<<1;var H;if(W){H=new zY(1<<Y);var U=15-Y;for(X=0;X<Q;++X)if(J[X]){var B=X<<4|J[X],A=Y-J[X],N=G[J[X]-1]++<<A;for(var D=N|(1<<A)-1;N<=D;++N)H[TU[N]>>U]=B}}else{H=new zY(Q);for(X=0;X<Q;++X)if(J[X])H[X]=TU[G[J[X]-1]++]>>15-J[X]}return H},FQ,U1,U1,U1,U1,CK,U1,jv,Pv,IU=function(J){var Y=J[0];for(var W=1;W<J.length;++W)if(J[W]>Y)Y=J[W];return Y},v6=function(J,Y,W){var Q=Y/8|0;return(J[Q]|J[Q+1]<<8)>>(Y&7)&W},RU=function(J,Y){var W=Y/8|0;return(J[W]|J[W+1]<<8|J[W+2]<<16)>>(Y&7)},Cv=function(J){return(J+7)/8|0},Iv=function(J,Y,W){if(Y==null||Y<0)Y=0;if(W==null||W>J.length)W=J.length;return new y8(J.subarray(Y,W))},Rv,g8=function(J,Y,W){var Q=new Error(Y||Rv[J]);if(Q.code=J,Error.captureStackTrace)Error.captureStackTrace(Q,g8);if(!W)throw Q;return Q},_U=function(J,Y,W,Q){var X=J.length,M=Q?Q.length:0;if(!X||Y.f&&!Y.l)return W||new y8(0);var G=!W,H=G||Y.i!=2,U=Y.i;if(G)W=new y8(X*3);var B=function(C){var E=W.length;if(C>E){var y=new y8(Math.max(E*2,C));y.set(W),W=y}},A=Y.f||0,N=Y.p||0,D=Y.b||0,q=Y.l,K=Y.d,O=Y.m,z=Y.n,V=X*8;do{if(!q){A=v6(J,N,1);var L=v6(J,N+1,3);if(N+=3,!L){var S=Cv(N)+4,g=J[S-4]|J[S-3]<<8,d=S+g;if(d>X){if(U)g8(0);break}if(H)B(D+g);W.set(J.subarray(S,d),D),Y.b=D+=g,Y.p=N=d*8,Y.f=A;continue}else if(L==1)q=jv,K=Pv,O=9,z=5;else if(L==2){var I=v6(J,N,31)+257,F=v6(J,N+10,15)+4,R=I+v6(J,N+5,31)+1;N+=14;var j=new y8(R),x=new y8(19);for(var _=0;_<F;++_)x[Vv[_]]=v6(J,N+_*3,7);N+=F*3;var k=IU(x),l=(1<<k)-1,q0=VQ(x,k,1);for(var _=0;_<R;){var r=q0[v6(J,N,l)];N+=r&15;var S=r>>4;if(S<16)j[_++]=S;else{var Z0=0,C0=0;if(S==16)C0=3+v6(J,N,3),N+=2,Z0=j[_-1];else if(S==17)C0=3+v6(J,N,7),N+=3;else if(S==18)C0=11+v6(J,N,127),N+=7;while(C0--)j[_++]=Z0}}var r0=j.subarray(0,I),L0=j.subarray(I);O=IU(r0),z=IU(L0),q=VQ(r0,O,1),K=VQ(L0,z,1)}else g8(1);if(N>V){if(U)g8(0);break}}if(H)B(D+131072);var _0=(1<<O)-1,Q0=(1<<z)-1,h=N;for(;;h=N){var Z0=q[RU(J,N)&_0],o=Z0>>4;if(N+=Z0&15,N>V){if(U)g8(0);break}if(!Z0)g8(2);if(o<256)W[D++]=o;else if(o==256){h=N,q=null;break}else{var c=o-254;if(o>264){var _=o-257,m=SK[_];c=v6(J,N,(1<<m)-1)+jK[_],N+=m}var U0=K[RU(J,N)&Q0],I0=U0>>4;if(!U0)g8(3);N+=U0&15;var L0=Ev[I0];if(I0>3){var m=VK[I0];L0+=RU(J,N)&(1<<m)-1,N+=m}if(N>V){if(U)g8(0);break}if(H)B(D+131072);var z0=D+c;if(D<L0){var s=M-L0,i=Math.min(L0,z0);if(s+D<0)g8(3);for(;D<i;++D)W[D]=Q[s+D]}for(;D<z0;++D)W[D]=W[D-L0]}}if(Y.l=q,Y.p=h,Y.b=D,Y.f=A,q)A=1,Y.m=O,Y.d=K,Y.n=z}while(!A);return D!=W.length&&G?Iv(W,0,D):W.subarray(0,D)},Tv,_v=function(J){if(J[0]!=31||J[1]!=139||J[2]!=8)g8(6,"invalid gzip data");var Y=J[3],W=10;if(Y&4)W+=(J[10]|J[11]<<8)+2;for(var Q=(Y>>3&1)+(Y>>4&1);Q>0;Q-=!J[W++]);return W+(Y&2)},wv=function(J){var Y=J.length;return(J[Y-4]|J[Y-3]<<8|J[Y-2]<<16|J[Y-1]<<24)>>>0},kv=function(J,Y){if((J[0]&15)!=8||J[0]>>4>7||(J[0]<<8|J[1])%31)g8(6,"invalid zlib data");if((J[1]>>5&1)==+!Y)g8(6,"invalid zlib data: "+(J[1]&32?"need":"unexpected")+" dictionary");return(J[1]>>3&4)+2},fv,vv=0;var RK=l1(()=>{zv=Kv("/");try{Lv=zv("worker_threads").Worker}catch(J){}y8=Uint8Array,zY=Uint16Array,Sv=Int32Array,SK=new y8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),VK=new y8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Vv=new y8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),EK=FK(SK,2),jK=EK.b,Fv=EK.r;jK[28]=258,Fv[258]=28;PK=FK(VK,0),Ev=PK.b,oO0=PK.r,TU=new zY(32768);for(U1=0;U1<32768;++U1)B4=(U1&43690)>>1|(U1&21845)<<1,B4=(B4&52428)>>2|(B4&13107)<<2,B4=(B4&61680)>>4|(B4&3855)<<4,TU[U1]=((B4&65280)>>8|(B4&255)<<8)>>1;FQ=new y8(288);for(U1=0;U1<144;++U1)FQ[U1]=8;for(U1=144;U1<256;++U1)FQ[U1]=9;for(U1=256;U1<280;++U1)FQ[U1]=7;for(U1=280;U1<288;++U1)FQ[U1]=8;CK=new y8(32);for(U1=0;U1<32;++U1)CK[U1]=5;jv=VQ(FQ,9,1),Pv=VQ(CK,5,1),Rv=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Tv=new y8(0);fv=typeof TextDecoder!="undefined"&&new TextDecoder;try{fv.decode(Tv,{stream:!0}),vv=1}catch(J){}});var _K=m9((aO0,TK)=>{var LY=1000,SY=LY*60,VY=SY*60,YJ=VY*24,bv=YJ*7,hv=YJ*365.25;TK.exports=function(J,Y){Y=Y||{};var W=typeof J;if(W==="string"&&J.length>0)return mv(J);else if(W==="number"&&isFinite(J))return Y.long?cv(J):dv(J);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(J))};function mv(J){if(J=String(J),J.length>100)return;var Y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(J);if(!Y)return;var W=parseFloat(Y[1]),Q=(Y[2]||"ms").toLowerCase();switch(Q){case"years":case"year":case"yrs":case"yr":case"y":return W*hv;case"weeks":case"week":case"w":return W*bv;case"days":case"day":case"d":return W*YJ;case"hours":case"hour":case"hrs":case"hr":case"h":return W*VY;case"minutes":case"minute":case"mins":case"min":case"m":return W*SY;case"seconds":case"second":case"secs":case"sec":case"s":return W*LY;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return W;default:return}}function dv(J){var Y=Math.abs(J);if(Y>=YJ)return Math.round(J/YJ)+"d";if(Y>=VY)return Math.round(J/VY)+"h";if(Y>=SY)return Math.round(J/SY)+"m";if(Y>=LY)return Math.round(J/LY)+"s";return J+"ms"}function cv(J){var Y=Math.abs(J);if(Y>=YJ)return BM(J,Y,YJ,"day");if(Y>=VY)return BM(J,Y,VY,"hour");if(Y>=SY)return BM(J,Y,SY,"minute");if(Y>=LY)return BM(J,Y,LY,"second");return J+" ms"}function BM(J,Y,W,Q){var X=Y>=W*1.5;return Math.round(J/W)+" "+Q+(X?"s":"")}});var wU=m9((sO0,wK)=>{function uv(J){W.debug=W,W.default=W,W.coerce=U,W.disable=G,W.enable=X,W.enabled=H,W.humanize=_K(),W.destroy=B,Object.keys(J).forEach((A)=>{W[A]=J[A]}),W.names=[],W.skips=[],W.formatters={};function Y(A){let N=0;for(let D=0;D<A.length;D++)N=(N<<5)-N+A.charCodeAt(D),N|=0;return W.colors[Math.abs(N)%W.colors.length]}W.selectColor=Y;function W(A){let N,D=null,q,K;function O(...z){if(!O.enabled)return;let V=O,L=Number(new Date),S=L-(N||L);if(V.diff=S,V.prev=N,V.curr=L,N=L,z[0]=W.coerce(z[0]),typeof z[0]!=="string")z.unshift("%O");let g=0;z[0]=z[0].replace(/%([a-zA-Z%])/g,(I,F)=>{if(I==="%%")return"%";g++;let R=W.formatters[F];if(typeof R==="function"){let j=z[g];I=R.call(V,j),z.splice(g,1),g--}return I}),W.formatArgs.call(V,z),(V.log||W.log).apply(V,z)}if(O.namespace=A,O.useColors=W.useColors(),O.color=W.selectColor(A),O.extend=Q,O.destroy=W.destroy,Object.defineProperty(O,"enabled",{enumerable:!0,configurable:!1,get:()=>{if(D!==null)return D;if(q!==W.namespaces)q=W.namespaces,K=W.enabled(A);return K},set:(z)=>{D=z}}),typeof W.init==="function")W.init(O);return O}function Q(A,N){let D=W(this.namespace+(typeof N==="undefined"?":":N)+A);return D.log=this.log,D}function X(A){W.save(A),W.namespaces=A,W.names=[],W.skips=[];let N=(typeof A==="string"?A:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let D of N)if(D[0]==="-")W.skips.push(D.slice(1));else W.names.push(D)}function M(A,N){let D=0,q=0,K=-1,O=0;while(D<A.length)if(q<N.length&&(N[q]===A[D]||N[q]==="*"))if(N[q]==="*")K=q,O=D,q++;else D++,q++;else if(K!==-1)q=K+1,O++,D=O;else return!1;while(q<N.length&&N[q]==="*")q++;return q===N.length}function G(){let A=[...W.names,...W.skips.map((N)=>"-"+N)].join(",");return W.enable(""),A}function H(A){for(let N of W.skips)if(M(A,N))return!1;for(let N of W.names)if(M(A,N))return!0;return!1}function U(A){if(A instanceof Error)return A.stack||A.message;return A}function B(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return W.enable(W.load()),W}wK.exports=uv});var xK=m9((kK,AM)=>{kK.formatArgs=nv;kK.save=iv;kK.load=lv;kK.useColors=pv;kK.storage=ov();kK.destroy=(()=>{let J=!1;return()=>{if(!J)J=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}})();kK.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function pv(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let J;return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&(J=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(J[1],10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function nv(J){if(J[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+J[0]+(this.useColors?"%c ":" ")+"+"+AM.exports.humanize(this.diff),!this.useColors)return;let Y="color: "+this.color;J.splice(1,0,Y,"color: inherit");let W=0,Q=0;J[0].replace(/%[a-zA-Z%]/g,(X)=>{if(X==="%%")return;if(W++,X==="%c")Q=W}),J.splice(Q,0,Y)}kK.log=console.debug||console.log||(()=>{});function iv(J){try{if(J)kK.storage.setItem("debug",J);else kK.storage.removeItem("debug")}catch(Y){}}function lv(){let J;try{J=kK.storage.getItem("debug")||kK.storage.getItem("DEBUG")}catch(Y){}if(!J&&typeof process!=="undefined"&&"env"in process)J=process.env.DEBUG;return J}function ov(){try{return localStorage}catch(J){}}AM.exports=wU()(kK);var{formatters:rv}=AM.exports;rv.j=function(J){try{return JSON.stringify(J)}catch(Y){return"[UnexpectedJSONParseError]: "+Y.message}}});var yK=m9((eO0,gK)=>{gK.exports=(J,Y)=>{Y=Y||process.argv;let W=J.startsWith("-")?"":J.length===1?"-":"--",Q=Y.indexOf(W+J),X=Y.indexOf("--");return Q!==-1&&(X===-1?!0:Q<X)}});var vK=m9((JK0,fK)=>{var Qb=_H("os"),b6=yK(),_2=process.env,FY;if(b6("no-color")||b6("no-colors")||b6("color=false"))FY=!1;else if(b6("color")||b6("colors")||b6("color=true")||b6("color=always"))FY=!0;if("FORCE_COLOR"in _2)FY=_2.FORCE_COLOR.length===0||parseInt(_2.FORCE_COLOR,10)!==0;function $b(J){if(J===0)return!1;return{level:J,hasBasic:!0,has256:J>=2,has16m:J>=3}}function Xb(J){if(FY===!1)return 0;if(b6("color=16m")||b6("color=full")||b6("color=truecolor"))return 3;if(b6("color=256"))return 2;if(J&&!J.isTTY&&FY!==!0)return 0;let Y=FY?1:0;if(process.platform==="win32"){let W=Qb.release().split(".");if(Number(process.versions.node.split(".")[0])>=8&&Number(W[0])>=10&&Number(W[2])>=10586)return Number(W[2])>=14931?3:2;return 1}if("CI"in _2){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((W)=>(W in _2))||_2.CI_NAME==="codeship")return 1;return Y}if("TEAMCITY_VERSION"in _2)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(_2.TEAMCITY_VERSION)?1:0;if(_2.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in _2){let W=parseInt((_2.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(_2.TERM_PROGRAM){case"iTerm.app":return W>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(_2.TERM))return 2;if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(_2.TERM))return 1;if("COLORTERM"in _2)return 1;if(_2.TERM==="dumb")return Y;return Y}function kU(J){let Y=Xb(J);return $b(Y)}fK.exports={supportsColor:kU,stdout:kU(process.stdout),stderr:kU(process.stderr)}});var dK=m9((hK,qM)=>{var Mb=_H("tty"),NM=_H("util");hK.init=qb;hK.log=Bb;hK.formatArgs=Hb;hK.save=Ab;hK.load=Nb;hK.useColors=Gb;hK.destroy=NM.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");hK.colors=[6,2,3,4,5,1];try{let J=vK();if(J&&(J.stderr||J).level>=2)hK.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}catch(J){}hK.inspectOpts=Object.keys(process.env).filter((J)=>{return/^debug_/i.test(J)}).reduce((J,Y)=>{let W=Y.substring(6).toLowerCase().replace(/_([a-z])/g,(X,M)=>{return M.toUpperCase()}),Q=process.env[Y];if(/^(yes|on|true|enabled)$/i.test(Q))Q=!0;else if(/^(no|off|false|disabled)$/i.test(Q))Q=!1;else if(Q==="null")Q=null;else Q=Number(Q);return J[W]=Q,J},{});function Gb(){return"colors"in hK.inspectOpts?Boolean(hK.inspectOpts.colors):Mb.isatty(process.stderr.fd)}function Hb(J){let{namespace:Y,useColors:W}=this;if(W){let Q=this.color,X="\x1B[3"+(Q<8?Q:"8;5;"+Q),M=`  ${X};1m${Y} \x1B[0m`;J[0]=M+J[0].split(`
`).join(`
`+M),J.push(X+"m+"+qM.exports.humanize(this.diff)+"\x1B[0m")}else J[0]=Ub()+Y+" "+J[0]}function Ub(){if(hK.inspectOpts.hideDate)return"";return new Date().toISOString()+" "}function Bb(...J){return process.stderr.write(NM.formatWithOptions(hK.inspectOpts,...J)+`
`)}function Ab(J){if(J)process.env.DEBUG=J;else delete process.env.DEBUG}function Nb(){return process.env.DEBUG}function qb(J){J.inspectOpts={};let Y=Object.keys(hK.inspectOpts);for(let W=0;W<Y.length;W++)J.inspectOpts[Y[W]]=hK.inspectOpts[Y[W]]}qM.exports=wU()(hK);var{formatters:bK}=qM.exports;bK.o=function(J){return this.inspectOpts.colors=this.useColors,NM.inspect(J,this.inspectOpts).split(`
`).map((Y)=>Y.trim()).join(" ")};bK.O=function(J){return this.inspectOpts.colors=this.useColors,NM.inspect(J,this.inspectOpts)}});var cK=m9((WK0,xU)=>{if(typeof process==="undefined"||process.type==="renderer"||!1||process.__nwjs)xU.exports=xK();else xU.exports=dK()});var QJ,gU,uK,pK,nK;var iK=l1(()=>{SQ();QJ={LocalFileHeader:67324752,DataDescriptor:134695760,CentralFileHeader:33639248,EndOfCentralDirectory:101010256},gU={get(J){let Y=H5.get(J,6);return{signature:T5.get(J,0),compressedSize:T5.get(J,8),uncompressedSize:T5.get(J,12)}},len:16},uK={get(J){let Y=H5.get(J,6);return{signature:T5.get(J,0),minVersion:H5.get(J,4),dataDescriptor:!!(Y&8),compressedMethod:H5.get(J,8),compressedSize:T5.get(J,18),uncompressedSize:T5.get(J,22),filenameLength:H5.get(J,26),extraFieldLength:H5.get(J,28),filename:null}},len:30},pK={get(J){return{signature:T5.get(J,0),nrOfThisDisk:H5.get(J,4),nrOfThisDiskWithTheStart:H5.get(J,6),nrOfEntriesOnThisDisk:H5.get(J,8),nrOfEntriesOfSize:H5.get(J,10),sizeOfCd:T5.get(J,12),offsetOfStartOfCd:T5.get(J,16),zipFileCommentLength:H5.get(J,20)}},len:22},nK={get(J){let Y=H5.get(J,8);return{signature:T5.get(J,0),minVersion:H5.get(J,6),dataDescriptor:!!(Y&8),compressedMethod:H5.get(J,10),compressedSize:T5.get(J,20),uncompressedSize:T5.get(J,24),filenameLength:H5.get(J,28),extraFieldLength:H5.get(J,30),fileCommentLength:H5.get(J,32),relativeOffsetOfLocalHeader:T5.get(J,42),filename:null}},len:46}});function oK(J){let Y=new Uint8Array(T5.len);return T5.put(Y,0,J),Y}class fU{constructor(J){this.tokenizer=J,this.syncBuffer=new Uint8Array(yU)}async isZip(){return await this.peekSignature()===QJ.LocalFileHeader}peekSignature(){return this.tokenizer.peekToken(T5)}async findEndOfCentralDirectoryLocator(){let J=this.tokenizer,Y=Math.min(16384,J.fileInfo.size),W=this.syncBuffer.subarray(0,Y);await this.tokenizer.readBuffer(W,{position:J.fileInfo.size-Y});for(let Q=W.length-4;Q>=0;Q--)if(W[Q]===DM[0]&&W[Q+1]===DM[1]&&W[Q+2]===DM[2]&&W[Q+3]===DM[3])return J.fileInfo.size-Y+Q;return-1}async readCentralDirectory(){if(!this.tokenizer.supportsRandomAccess()){A4("Cannot reading central-directory without random-read support");return}A4("Reading central-directory...");let J=this.tokenizer.position,Y=await this.findEndOfCentralDirectoryLocator();if(Y>0){A4("Central-directory 32-bit signature found");let W=await this.tokenizer.readToken(pK,Y),Q=[];this.tokenizer.setPosition(W.offsetOfStartOfCd);for(let X=0;X<W.nrOfEntriesOfSize;++X){let M=await this.tokenizer.readToken(nK);if(M.signature!==QJ.CentralFileHeader)throw new Error("Expected Central-File-Header signature");M.filename=await this.tokenizer.readToken(new x8(M.filenameLength,"utf-8")),await this.tokenizer.ignore(M.extraFieldLength),await this.tokenizer.ignore(M.fileCommentLength),Q.push(M),A4(`Add central-directory file-entry: n=${X+1}/${Q.length}: filename=${Q[X].filename}`)}return this.tokenizer.setPosition(J),Q}this.tokenizer.setPosition(J)}async unzip(J){let Y=await this.readCentralDirectory();if(Y)return this.iterateOverCentralDirectory(Y,J);let W=!1;do{let Q=await this.readLocalFileHeader();if(!Q)break;let X=J(Q);W=!!X.stop;let M=void 0;if(await this.tokenizer.ignore(Q.extraFieldLength),Q.dataDescriptor&&Q.compressedSize===0){let G=[],H=yU;A4("Compressed-file-size unknown, scanning for next data-descriptor-signature....");let U=-1;while(U<0&&H===yU){H=await this.tokenizer.peekBuffer(this.syncBuffer,{mayBeLess:!0}),U=Fb(this.syncBuffer.subarray(0,H),Vb);let B=U>=0?U:H;if(X.handler){let A=new Uint8Array(B);await this.tokenizer.readBuffer(A),G.push(A)}else await this.tokenizer.ignore(B)}if(A4(`Found data-descriptor-signature at pos=${this.tokenizer.position}`),X.handler)await this.inflate(Q,Eb(G),X.handler)}else if(X.handler)A4(`Reading compressed-file-data: ${Q.compressedSize} bytes`),M=new Uint8Array(Q.compressedSize),await this.tokenizer.readBuffer(M),await this.inflate(Q,M,X.handler);else A4(`Ignoring compressed-file-data: ${Q.compressedSize} bytes`),await this.tokenizer.ignore(Q.compressedSize);if(A4(`Reading data-descriptor at pos=${this.tokenizer.position}`),Q.dataDescriptor){if((await this.tokenizer.readToken(gU)).signature!==134695760)throw new Error(`Expected data-descriptor-signature at position ${this.tokenizer.position-gU.len}`)}}while(!W)}async iterateOverCentralDirectory(J,Y){for(let W of J){let Q=Y(W);if(Q.handler){this.tokenizer.setPosition(W.relativeOffsetOfLocalHeader);let X=await this.readLocalFileHeader();if(X){await this.tokenizer.ignore(X.extraFieldLength);let M=new Uint8Array(W.compressedSize);await this.tokenizer.readBuffer(M),await this.inflate(X,M,Q.handler)}}if(Q.stop)break}}inflate(J,Y,W){if(J.compressedMethod===0)return W(Y);A4(`Decompress filename=${J.filename}, compressed-size=${Y.length}`);let Q=IK(Y);return W(Q)}async readLocalFileHeader(){let J=await this.tokenizer.peekToken(T5);if(J===QJ.LocalFileHeader){let Y=await this.tokenizer.readToken(uK);return Y.filename=await this.tokenizer.readToken(new x8(Y.filenameLength,"utf-8")),Y}if(J===QJ.CentralFileHeader)return!1;if(J===3759263696)throw new Error("Encrypted ZIP");throw new Error("Unexpected signature")}}function Fb(J,Y){let W=J.length,Q=Y.length;if(Q>W)return-1;for(let X=0;X<=W-Q;X++){let M=!0;for(let G=0;G<Q;G++)if(J[X+G]!==Y[G]){M=!1;break}if(M)return X}return-1}function Eb(J){let Y=J.reduce((X,M)=>X+M.length,0),W=new Uint8Array(Y),Q=0;for(let X of J)W.set(X,Q),Q+=X.length;return W}var lK,A4,yU=262144,Vb,DM;var rK=l1(()=>{SQ();RK();lK=VI(cK(),1);iK();A4=lK.default("tokenizer:inflate"),Vb=oK(QJ.DataDescriptor),DM=oK(QJ.EndOfCentralDirectory)});function vU(J){let{byteLength:Y}=J;if(Y===6)return J.getUint16(0)*4294967296+J.getUint32(2);if(Y===5)return J.getUint8(0)*4294967296+J.getUint32(1);if(Y===4)return J.getUint32(0);if(Y===3)return J.getUint8(0)*65536+J.getUint16(1);if(Y===2)return J.getUint16(0);if(Y===1)return J.getUint8(0)}var UK0,BK0,AK0;var aK=l1(()=>{UK0={utf8:new globalThis.TextDecoder("utf8")},BK0=new globalThis.TextEncoder,AK0=Array.from({length:256},(J,Y)=>Y.toString(16).padStart(2,"0"))});function sK(J){return[...J].map((Y)=>Y.charCodeAt(0))}function tK(J,Y=0){let W=Number.parseInt(new x8(6).get(J,148).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(W))return!1;let Q=256;for(let X=Y;X<Y+148;X++)Q+=J[X];for(let X=Y+156;X<Y+512;X++)Q+=J[X];return W===Q}var eK;var Jz=l1(()=>{SQ();eK={get:(J,Y)=>J[Y+3]&127|J[Y+2]<<7|J[Y+1]<<14|J[Y]<<21,len:4}});var Yz,Wz;var Qz=l1(()=>{Yz=["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","elf","macho","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ttc","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","j2c","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf","jls","pst","dwg","parquet","class","arj","cpio","ace","avro","icc","fbx","vsdx","vtt","apk","drc","lz4","potx","xltx","dotx","xltm","ott","ots","otp","odg","otg","xlsm","docm","dotm","potm","pptm","jar","rm","ppsm","ppsx"],Wz=["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/vnd.apache.arrow.file","video/mp4","audio/midi","video/matroska","video/webm","video/quicktime","video/vnd.avi","audio/wav","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","video/ogg","audio/ogg","audio/ogg; codecs=opus","application/ogg","audio/flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-elf","application/x-mach-binary","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","font/collection","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/j2c","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","text/vtt","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd","image/jls","application/vnd.ms-outlook","image/vnd.dwg","application/vnd.apache.parquet","application/java-vm","application/x-arj","application/x-cpio","application/x-ace-compressed","application/avro","application/vnd.iccprofile","application/x.autodesk.fbx","application/vnd.visio","application/vnd.android.package-archive","application/vnd.google.draco","application/x-lz4","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-excel.template.macroenabled.12","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.presentation-template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.graphics-template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/java-archive","application/vnd.rn-realmedia"]});async function $z(J,Y){return new EY(Y).fromBuffer(J)}async function Xz(J,Y){return new EY(Y).fromBlob(J)}function bU(J){switch(J=J.toLowerCase(),J){case"application/epub+zip":return{ext:"epub",mime:J};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:J};case"application/vnd.oasis.opendocument.text-template":return{ext:"ott",mime:J};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:J};case"application/vnd.oasis.opendocument.spreadsheet-template":return{ext:"ots",mime:J};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:J};case"application/vnd.oasis.opendocument.presentation-template":return{ext:"otp",mime:J};case"application/vnd.oasis.opendocument.graphics":return{ext:"odg",mime:J};case"application/vnd.oasis.opendocument.graphics-template":return{ext:"otg",mime:J};case"application/vnd.openxmlformats-officedocument.presentationml.slideshow":return{ext:"ppsx",mime:J};case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return{ext:"xlsx",mime:J};case"application/vnd.ms-excel.sheet.macroenabled":return{ext:"xlsm",mime:"application/vnd.ms-excel.sheet.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.spreadsheetml.template":return{ext:"xltx",mime:J};case"application/vnd.ms-excel.template.macroenabled":return{ext:"xltm",mime:"application/vnd.ms-excel.template.macroenabled.12"};case"application/vnd.ms-powerpoint.slideshow.macroenabled":return{ext:"ppsm",mime:"application/vnd.ms-powerpoint.slideshow.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return{ext:"docx",mime:J};case"application/vnd.ms-word.document.macroenabled":return{ext:"docm",mime:"application/vnd.ms-word.document.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.wordprocessingml.template":return{ext:"dotx",mime:J};case"application/vnd.ms-word.template.macroenabledtemplate":return{ext:"dotm",mime:"application/vnd.ms-word.template.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.presentationml.template":return{ext:"potx",mime:J};case"application/vnd.ms-powerpoint.template.macroenabled":return{ext:"potm",mime:"application/vnd.ms-powerpoint.template.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return{ext:"pptx",mime:J};case"application/vnd.ms-powerpoint.presentation.macroenabled":return{ext:"pptm",mime:"application/vnd.ms-powerpoint.presentation.macroenabled.12"};case"application/vnd.ms-visio.drawing":return{ext:"vsdx",mime:"application/vnd.visio"};case"application/vnd.ms-package.3dmanufacturing-3dmodel+xml":return{ext:"3mf",mime:"model/3mf"};default:}}function N4(J,Y,W){W={offset:0,...W};for(let[Q,X]of Y.entries())if(W.mask){if(X!==(W.mask[Q]&J[Q+W.offset]))return!1}else if(X!==J[Q+W.offset])return!1;return!0}async function Mz(J,Y){return new EY(Y).fromTokenizer(J)}class EY{constructor(J){this.options={mpegOffsetTolerance:0,...J},this.detectors=[...J?.customDetectors??[],{id:"core",detect:this.detectConfident},{id:"core.imprecise",detect:this.detectImprecise}],this.tokenizerOptions={abortSignal:J?.signal}}async fromTokenizer(J){let Y=J.position;for(let W of this.detectors){let Q=await W.detect(J);if(Q)return Q;if(Y!==J.position)return}}async fromBuffer(J){if(!(J instanceof Uint8Array||J instanceof ArrayBuffer))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof J}\``);let Y=J instanceof Uint8Array?J:new Uint8Array(J);if(!(Y?.length>1))return;return this.fromTokenizer(UK(Y,this.tokenizerOptions))}async fromBlob(J){return this.fromStream(J.stream())}async fromStream(J){let Y=await HM(J,this.tokenizerOptions);try{return await this.fromTokenizer(Y)}finally{await Y.close()}}async toDetectionStream(J,Y){let{sampleSize:W=jQ}=Y,Q,X,M=J.getReader({mode:"byob"});try{let{value:U,done:B}=await M.read(new Uint8Array(W));if(X=U,!B&&U)try{Q=await this.fromBuffer(U.subarray(0,W))}catch(A){if(!(A instanceof u1))throw A;Q=void 0}X=U}finally{M.releaseLock()}let G=new TransformStream({async start(U){U.enqueue(X)},transform(U,B){B.enqueue(U)}}),H=J.pipeThrough(G);return H.fileType=Q,H}check(J,Y){return N4(this.buffer,J,Y)}checkString(J,Y){return this.check(sK(J),Y)}detectConfident=async(J)=>{if(this.buffer=new Uint8Array(jQ),J.fileInfo.size===void 0)J.fileInfo.size=Number.MAX_SAFE_INTEGER;if(this.tokenizer=J,await J.peekBuffer(this.buffer,{length:12,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33])){if(await J.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14}))return{ext:"eps",mime:"application/eps"};return{ext:"ps",mime:"application/postscript"}}if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([199,113]))return{ext:"cpio",mime:"application/x-cpio"};if(this.check([96,234]))return{ext:"arj",mime:"application/x-arj"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.detectConfident(J);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await J.ignore(6);let Y=await J.readToken(eK);if(J.position+Y>J.fileInfo.size)return{ext:"mp3",mime:"audio/mpeg"};return await J.ignore(Y),this.fromTokenizer(J)}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((this.buffer[0]===67||this.buffer[0]===70)&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.check([255,216,255])){if(this.check([247],{offset:3}))return{ext:"jls",mime:"image/jls"};return{ext:"jpg",mime:"image/jpeg"}}if(this.check([79,98,106,1]))return{ext:"avro",mime:"application/avro"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){let Y;return await new fU(J).unzip((W)=>{switch(W.filename){case"META-INF/mozilla.rsa":return Y={ext:"xpi",mime:"application/x-xpinstall"},{stop:!0};case"META-INF/MANIFEST.MF":return Y={ext:"jar",mime:"application/java-archive"},{stop:!0};case"mimetype":return{async handler(Q){let X=new TextDecoder("utf-8").decode(Q).trim();Y=bU(X)},stop:!0};case"[Content_Types].xml":return{async handler(Q){let X=new TextDecoder("utf-8").decode(Q),M=X.indexOf('.main+xml"');if(M===-1){if(X.includes('ContentType="application/vnd.ms-package.3dmanufacturing-3dmodel+xml"'))Y=bU("application/vnd.ms-package.3dmanufacturing-3dmodel+xml")}else{X=X.slice(0,Math.max(0,M));let G=X.lastIndexOf('"'),H=X.slice(Math.max(0,G+1));Y=bU(H)}},stop:!0};default:if(/classes\d*\.dex/.test(W.filename))return Y={ext:"apk",mime:"application/vnd.android.package-archive"},{stop:!0};return{}}}),Y??{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await J.ignore(28);let Y=new Uint8Array(8);if(await J.readBuffer(Y),N4(Y,[79,112,117,115,72,101,97,100]))return{ext:"opus",mime:"audio/ogg; codecs=opus"};if(N4(Y,[128,116,104,101,111,114,97]))return{ext:"ogv",mime:"video/ogg"};if(N4(Y,[1,118,105,100,101,111,0]))return{ext:"ogm",mime:"video/ogg"};if(N4(Y,[127,70,76,65,67]))return{ext:"oga",mime:"audio/ogg"};if(N4(Y,[83,112,101,101,120,32,32]))return{ext:"spx",mime:"audio/ogg"};if(N4(Y,[1,118,111,114,98,105,115]))return{ext:"ogg",mime:"audio/ogg"};return{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(this.buffer[2]===3||this.buffer[2]===5||this.buffer[2]===7)&&(this.buffer[3]===4||this.buffer[3]===6||this.buffer[3]===8))return{ext:"zip",mime:"application/zip"};if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF"))return{ext:"pdf",mime:"application/pdf"};if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){let Y=await this.readTiffHeader(!1);if(Y)return Y}if(this.check([77,77])){let Y=await this.readTiffHeader(!0);if(Y)return Y}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function Y(){let G=await J.peekNumber(OK),H=128,U=0;while((G&H)===0&&H!==0)++U,H>>=1;let B=new Uint8Array(U+1);return await J.readBuffer(B),B}async function W(){let G=await Y(),H=await Y();H[0]^=128>>H.length-1;let U=Math.min(6,H.length),B=new DataView(G.buffer),A=new DataView(H.buffer,H.length-U,U);return{id:vU(B),len:vU(A)}}async function Q(G){while(G>0){let H=await W();if(H.id===17026)return(await J.readToken(new x8(H.len))).replaceAll(/\00.*$/g,"");await J.ignore(H.len),--G}}let X=await W();switch(await Q(X.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/matroska"};default:return}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([33,66,68,78]))return{ext:"pst",mime:"application/vnd.ms-outlook"};if(this.checkString("PAR1")||this.checkString("PARE"))return{ext:"parquet",mime:"application/vnd.apache.parquet"};if(this.checkString("ttcf"))return{ext:"ttc",mime:"font/collection"};if(this.check([207,250,237,254]))return{ext:"macho",mime:"application/x-mach-binary"};if(this.check([4,34,77,24]))return{ext:"lz4",mime:"application/x-lz4"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([202,254,186,190]))return{ext:"class",mime:"application/java-vm"};if(this.checkString(".RMF"))return{ext:"rm",mime:"application/vnd.rn-realmedia"};if(this.checkString("DRACO"))return{ext:"drc",mime:"application/vnd.google.draco"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(this.buffer[6]===0||this.buffer[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("AC")){let Y=new x8(4,"latin1").get(this.buffer,2);if(Y.match("^d*")&&Y>=1000&&Y<=1050)return{ext:"dwg",mime:"image/vnd.dwg"}}if(this.checkString("070707"))return{ext:"cpio",mime:"application/x-cpio"};if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>")){if(await J.ignore(8),await J.readToken(new x8(13,"ascii"))==="debian-binary")return{ext:"deb",mime:"application/x-deb"};return{ext:"ar",mime:"application/x-unix-archive"}}if(this.checkString("WEBVTT")&&[`
`,"\r","\t"," ","\x00"].some((Y)=>this.checkString(Y,{offset:6})))return{ext:"vtt",mime:"text/vtt"};if(this.check([137,80,78,71,13,10,26,10])){await J.ignore(8);async function Y(){return{length:await J.readToken(zK),type:await J.readToken(new x8(4,"latin1"))}}do{let W=await Y();if(W.length<0)return;switch(W.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await J.ignore(W.length+4)}}while(J.position+8<J.fileInfo.size);return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/vnd.apache.arrow.file"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.checkString("ftyp",{offset:4})&&(this.buffer[8]&96)!==0){let Y=new x8(4,"latin1").get(this.buffer,8).replace("\x00"," ").trim();switch(Y){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:if(Y.startsWith("3g")){if(Y.startsWith("3g2"))return{ext:"3g2",mime:"video/3gpp2"};return{ext:"3gp",mime:"video/3gpp"}}return{ext:"mp4",mime:"video/mp4"}}}if(this.check([82,73,70,70])){if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/wav"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function Y(){let W=new Uint8Array(16);return await J.readBuffer(W),{id:W,size:Number(await J.readToken(LK))}}await J.ignore(30);while(J.position+24<J.fileInfo.size){let W=await Y(),Q=W.size-24;if(N4(W.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){let X=new Uint8Array(16);if(Q-=await J.readBuffer(X),N4(X,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(N4(X,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await J.ignore(Q)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([255,79,255,81]))return{ext:"j2c",mime:"image/j2c"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await J.ignore(20),await J.readToken(new x8(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255])){if(this.check([0,60,0,63,0,120,0,109,0,108],{offset:2}))return{ext:"xml",mime:"application/xml"};return}if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await J.peekBuffer(this.buffer,{length:Math.min(256,J.fileInfo.size),mayBeLess:!0}),this.check([97,99,115,112],{offset:36}))return{ext:"icc",mime:"application/vnd.iccprofile"};if(this.checkString("**ACE",{offset:7})&&this.checkString("**",{offset:12}))return{ext:"ace",mime:"application/x-ace-compressed"};if(this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){let Y=new DataView(this.buffer.buffer).getUint32(12,!0);if(Y>12&&this.buffer.length>=Y+16)try{let W=new TextDecoder().decode(this.buffer.subarray(16,Y+16));if(JSON.parse(W).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(this.checkString("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(this.check([71])&&this.check([71],{offset:188}))return{ext:"mts",mime:"video/mp2t"};if(this.check([71],{offset:4})&&this.check([71],{offset:196}))return{ext:"mts",mime:"video/mp2t"};if(this.check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(this.check([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(this.checkString("Kaydara FBX Binary  \x00"))return{ext:"fbx",mime:"application/x.autodesk.fbx"};if(this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await J.peekBuffer(this.buffer,{length:Math.min(512,J.fileInfo.size),mayBeLess:!0}),this.checkString("ustar",{offset:257})&&(this.checkString("\x00",{offset:262})||this.checkString(" ",{offset:262}))||this.check([0,0,0,0,0,0],{offset:257})&&tK(this.buffer))return{ext:"tar",mime:"application/x-tar"};if(this.check([255,254])){if(this.check([60,0,63,0,120,0,109,0,108,0],{offset:2}))return{ext:"xml",mime:"application/xml"};if(this.check([255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0],{offset:2}))return{ext:"skp",mime:"application/vnd.sketchup.skp"};return}if(this.checkString("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"}};detectImprecise=async(J)=>{if(this.buffer=new Uint8Array(jQ),await J.peekBuffer(this.buffer,{length:Math.min(8,J.fileInfo.size),mayBeLess:!0}),this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(await J.peekBuffer(this.buffer,{length:Math.min(2+this.options.mpegOffsetTolerance,J.fileInfo.size),mayBeLess:!0}),this.buffer.length>=2+this.options.mpegOffsetTolerance)for(let Y=0;Y<=this.options.mpegOffsetTolerance;++Y){let W=this.scanMpeg(Y);if(W)return W}};async readTiffTag(J){let Y=await this.tokenizer.readToken(J?KY:H5);switch(this.tokenizer.ignore(10),Y){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"};default:}}async readTiffIFD(J){let Y=await this.tokenizer.readToken(J?KY:H5);for(let W=0;W<Y;++W){let Q=await this.readTiffTag(J);if(Q)return Q}}async readTiffHeader(J){let Y=(J?KY:H5).get(this.buffer,2),W=(J?KK:T5).get(this.buffer,4);if(Y===42){if(W>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(W>=8){let X=(J?KY:H5).get(this.buffer,8),M=(J?KY:H5).get(this.buffer,10);if(X===28&&M===254||X===31&&M===11)return{ext:"nef",mime:"image/x-nikon-nef"}}}return await this.tokenizer.ignore(W),await this.readTiffIFD(J)??{ext:"tif",mime:"image/tiff"}}if(Y===43)return{ext:"tif",mime:"image/tiff"}}scanMpeg(J){if(this.check([255,224],{offset:J,mask:[255,224]})){if(this.check([16],{offset:J+1,mask:[22]})){if(this.check([8],{offset:J+1,mask:[8]}))return{ext:"aac",mime:"audio/aac"};return{ext:"aac",mime:"audio/aac"}}if(this.check([2],{offset:J+1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:J+1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:J+1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}}var jQ=4100,Gz,Hz;var hU=l1(()=>{SQ();UM();rK();aK();Jz();Qz();Gz=new Set(Yz),Hz=new Set(Wz)});var Bz={};h4(Bz,{supportedMimeTypes:()=>Hz,supportedExtensions:()=>Gz,fileTypeStream:()=>Tb,fileTypeFromTokenizer:()=>Mz,fileTypeFromStream:()=>Rb,fileTypeFromFile:()=>Ib,fileTypeFromBuffer:()=>$z,fileTypeFromBlob:()=>Xz,FileTypeParser:()=>PQ});import{ReadableStream as jb}from"stream/web";import{pipeline as Uz,PassThrough as Pb,Readable as Cb}from"stream";async function Ib(J,Y){return new PQ(Y).fromFile(J,Y)}async function Rb(J,Y){return new PQ(Y).fromStream(J)}async function Tb(J,Y={}){return new PQ(Y).toDetectionStream(J,Y)}var PQ;var Az=l1(()=>{NK();hU();hU();PQ=class PQ extends EY{async fromStream(J){let Y=await(J instanceof jb?HM(J,this.tokenizerOptions):BK(J,this.tokenizerOptions));try{return await super.fromTokenizer(Y)}finally{await Y.close()}}async fromFile(J){let Y=await AK(J);try{return await super.fromTokenizer(Y)}finally{await Y.close()}}async toDetectionStream(J,Y={}){if(!(J instanceof Cb))return super.toDetectionStream(J,Y);let{sampleSize:W=jQ}=Y;return new Promise((Q,X)=>{J.on("error",X),J.once("readable",()=>{(async()=>{try{let M=new Pb,G=Uz?Uz(J,M,()=>{}):J.pipe(M),H=J.read(W)??J.read()??new Uint8Array(0);try{M.fileType=await this.fromBuffer(H)}catch(U){if(U instanceof u1)M.fileType=void 0;else X(U)}Q(G)}catch(M){X(M)}})()})})}}});var P2={};h4(P2,{IsUndefined:()=>I5,IsUint8Array:()=>d4,IsSymbol:()=>yH,IsString:()=>d1,IsRegExp:()=>sW,IsObject:()=>x1,IsNumber:()=>j8,IsNull:()=>gH,IsIterator:()=>xH,IsFunction:()=>kH,IsDate:()=>d9,IsBoolean:()=>m4,IsBigInt:()=>aW,IsAsyncIterator:()=>wH,IsArray:()=>C5,HasPropertyKey:()=>LX});function LX(J,Y){return Y in J}function wH(J){return x1(J)&&!C5(J)&&!d4(J)&&Symbol.asyncIterator in J}function C5(J){return Array.isArray(J)}function aW(J){return typeof J==="bigint"}function m4(J){return typeof J==="boolean"}function d9(J){return J instanceof globalThis.Date}function kH(J){return typeof J==="function"}function xH(J){return x1(J)&&!C5(J)&&!d4(J)&&Symbol.iterator in J}function gH(J){return J===null}function j8(J){return typeof J==="number"}function x1(J){return typeof J==="object"&&J!==null}function sW(J){return J instanceof globalThis.RegExp}function d1(J){return typeof J==="string"}function yH(J){return typeof J==="symbol"}function d4(J){return J instanceof globalThis.Uint8Array}function I5(J){return J===void 0}function FI(J){return J.map((Y)=>SX(Y))}function EI(J){return new Date(J.getTime())}function jI(J){return new Uint8Array(J)}function PI(J){return new RegExp(J.source,J.flags)}function CI(J){let Y={};for(let W of Object.getOwnPropertyNames(J))Y[W]=SX(J[W]);for(let W of Object.getOwnPropertySymbols(J))Y[W]=SX(J[W]);return Y}function SX(J){return C5(J)?FI(J):d9(J)?EI(J):d4(J)?jI(J):sW(J)?PI(J):x1(J)?CI(J):J}function e1(J){return SX(J)}function nJ(J,Y){return Y===void 0?e1(J):e1({...Y,...J})}function VX(J){return l0(J)&&globalThis.Symbol.asyncIterator in J}function FX(J){return l0(J)&&globalThis.Symbol.iterator in J}function fH(J){return l0(J)&&(globalThis.Object.getPrototypeOf(J)===Object.prototype||globalThis.Object.getPrototypeOf(J)===null)}function EX(J){return J instanceof globalThis.Promise}function i2(J){return J instanceof Date&&globalThis.Number.isFinite(J.getTime())}function JD(J){return J instanceof globalThis.Map}function YD(J){return J instanceof globalThis.Set}function i8(J){return globalThis.ArrayBuffer.isView(J)}function iJ(J){return J instanceof globalThis.Uint8Array}function d0(J,Y){return Y in J}function l0(J){return J!==null&&typeof J==="object"}function f0(J){return globalThis.Array.isArray(J)&&!globalThis.ArrayBuffer.isView(J)}function J5(J){return J===void 0}function c4(J){return J===null}function M4(J){return typeof J==="boolean"}function g0(J){return typeof J==="number"}function jX(J){return globalThis.Number.isInteger(J)}function q2(J){return typeof J==="bigint"}function D1(J){return typeof J==="string"}function g7(J){return typeof J==="function"}function u4(J){return typeof J==="symbol"}function P8(J){return q2(J)||M4(J)||c4(J)||g0(J)||D1(J)||u4(J)||J5(J)}var o1;(function(J){J.InstanceMode="default",J.ExactOptionalPropertyTypes=!1,J.AllowArrayObject=!1,J.AllowNaN=!1,J.AllowNullVoid=!1;function Y(G,H){return J.ExactOptionalPropertyTypes?H in G:G[H]!==void 0}J.IsExactOptionalProperty=Y;function W(G){let H=l0(G);return J.AllowArrayObject?H:H&&!f0(G)}J.IsObjectLike=W;function Q(G){return W(G)&&!(G instanceof Date)&&!(G instanceof Uint8Array)}J.IsRecordLike=Q;function X(G){return J.AllowNaN?g0(G):Number.isFinite(G)}J.IsNumberLike=X;function M(G){let H=J5(G);return J.AllowNullVoid?H||G===null:H}J.IsVoidLike=M})(o1||(o1={}));function II(J){return globalThis.Object.freeze(J).map((Y)=>tW(Y))}function RI(J){return J}function TI(J){return J}function _I(J){return J}function wI(J){let Y={};for(let W of Object.getOwnPropertyNames(J))Y[W]=tW(J[W]);for(let W of Object.getOwnPropertySymbols(J))Y[W]=tW(J[W]);return globalThis.Object.freeze(Y)}function tW(J){return C5(J)?II(J):d9(J)?RI(J):d4(J)?TI(J):sW(J)?_I(J):x1(J)?wI(J):J}function $0(J,Y){let W=Y!==void 0?{...Y,...J}:J;switch(o1.InstanceMode){case"freeze":return tW(W);case"clone":return e1(W);default:return W}}class b0 extends Error{constructor(J){super(J)}}var m1=Symbol.for("TypeBox.Transform"),L6=Symbol.for("TypeBox.Readonly"),l5=Symbol.for("TypeBox.Optional"),l8=Symbol.for("TypeBox.Hint"),n=Symbol.for("TypeBox.Kind");function lJ(J){return x1(J)&&J[L6]==="Readonly"}function X8(J){return x1(J)&&J[l5]==="Optional"}function vH(J){return A1(J,"Any")}function bH(J){return A1(J,"Argument")}function S6(J){return A1(J,"Array")}function c9(J){return A1(J,"AsyncIterator")}function u9(J){return A1(J,"BigInt")}function p4(J){return A1(J,"Boolean")}function V6(J){return A1(J,"Computed")}function F6(J){return A1(J,"Constructor")}function kI(J){return A1(J,"Date")}function E6(J){return A1(J,"Function")}function j6(J){return A1(J,"Integer")}function D5(J){return A1(J,"Intersect")}function p9(J){return A1(J,"Iterator")}function A1(J,Y){return x1(J)&&n in J&&J[n]===Y}function PX(J){return m4(J)||j8(J)||d1(J)}function C8(J){return A1(J,"Literal")}function I8(J){return A1(J,"MappedKey")}function Y5(J){return A1(J,"MappedResult")}function y7(J){return A1(J,"Never")}function xI(J){return A1(J,"Not")}function eW(J){return A1(J,"Null")}function P6(J){return A1(J,"Number")}function R5(J){return A1(J,"Object")}function n9(J){return A1(J,"Promise")}function i9(J){return A1(J,"Record")}function S5(J){return A1(J,"Ref")}function hH(J){return A1(J,"RegExp")}function n4(J){return A1(J,"String")}function JQ(J){return A1(J,"Symbol")}function R8(J){return A1(J,"TemplateLiteral")}function gI(J){return A1(J,"This")}function j1(J){return x1(J)&&m1 in J}function T8(J){return A1(J,"Tuple")}function i4(J){return A1(J,"Undefined")}function Z1(J){return A1(J,"Union")}function yI(J){return A1(J,"Uint8Array")}function fI(J){return A1(J,"Unknown")}function vI(J){return A1(J,"Unsafe")}function bI(J){return A1(J,"Void")}function f7(J){return x1(J)&&n in J&&d1(J[n])}function M5(J){return vH(J)||bH(J)||S6(J)||p4(J)||u9(J)||c9(J)||V6(J)||F6(J)||kI(J)||E6(J)||j6(J)||D5(J)||p9(J)||C8(J)||I8(J)||Y5(J)||y7(J)||xI(J)||eW(J)||P6(J)||R5(J)||n9(J)||i9(J)||S5(J)||hH(J)||n4(J)||JQ(J)||R8(J)||gI(J)||T8(J)||i4(J)||Z1(J)||yI(J)||fI(J)||vI(J)||bI(J)||f7(J)}var u={};h4(u,{TypeGuardUnknownTypeError:()=>WD,IsVoid:()=>uD,IsUnsafe:()=>cD,IsUnknown:()=>dD,IsUnionLiteral:()=>lI,IsUnion:()=>cH,IsUndefined:()=>hD,IsUint8Array:()=>mD,IsTuple:()=>bD,IsTransform:()=>vD,IsThis:()=>fD,IsTemplateLiteral:()=>yD,IsSymbol:()=>gD,IsString:()=>xD,IsSchema:()=>W5,IsRegExp:()=>kD,IsRef:()=>wD,IsRecursive:()=>iI,IsRecord:()=>_D,IsReadonly:()=>cI,IsProperties:()=>CX,IsPromise:()=>TD,IsOptional:()=>uI,IsObject:()=>RD,IsNumber:()=>ID,IsNull:()=>CD,IsNot:()=>PD,IsNever:()=>jD,IsMappedResult:()=>ED,IsMappedKey:()=>FD,IsLiteralValue:()=>VD,IsLiteralString:()=>LD,IsLiteralNumber:()=>SD,IsLiteralBoolean:()=>nI,IsLiteral:()=>WQ,IsKindOf:()=>$1,IsKind:()=>pD,IsIterator:()=>zD,IsIntersect:()=>KD,IsInteger:()=>OD,IsImport:()=>pI,IsFunction:()=>ZD,IsDate:()=>DD,IsConstructor:()=>qD,IsComputed:()=>ND,IsBoolean:()=>AD,IsBigInt:()=>BD,IsAsyncIterator:()=>UD,IsArray:()=>HD,IsArgument:()=>GD,IsAny:()=>MD});class WD extends b0{}var hI=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function QD(J){try{return new RegExp(J),!0}catch{return!1}}function mH(J){if(!d1(J))return!1;for(let Y=0;Y<J.length;Y++){let W=J.charCodeAt(Y);if(W>=7&&W<=13||W===27||W===127)return!1}return!0}function $D(J){return dH(J)||W5(J)}function YQ(J){return I5(J)||aW(J)}function c1(J){return I5(J)||j8(J)}function dH(J){return I5(J)||m4(J)}function g1(J){return I5(J)||d1(J)}function mI(J){return I5(J)||d1(J)&&mH(J)&&QD(J)}function dI(J){return I5(J)||d1(J)&&mH(J)}function XD(J){return I5(J)||W5(J)}function cI(J){return x1(J)&&J[L6]==="Readonly"}function uI(J){return x1(J)&&J[l5]==="Optional"}function MD(J){return $1(J,"Any")&&g1(J.$id)}function GD(J){return $1(J,"Argument")&&j8(J.index)}function HD(J){return $1(J,"Array")&&J.type==="array"&&g1(J.$id)&&W5(J.items)&&c1(J.minItems)&&c1(J.maxItems)&&dH(J.uniqueItems)&&XD(J.contains)&&c1(J.minContains)&&c1(J.maxContains)}function UD(J){return $1(J,"AsyncIterator")&&J.type==="AsyncIterator"&&g1(J.$id)&&W5(J.items)}function BD(J){return $1(J,"BigInt")&&J.type==="bigint"&&g1(J.$id)&&YQ(J.exclusiveMaximum)&&YQ(J.exclusiveMinimum)&&YQ(J.maximum)&&YQ(J.minimum)&&YQ(J.multipleOf)}function AD(J){return $1(J,"Boolean")&&J.type==="boolean"&&g1(J.$id)}function ND(J){return $1(J,"Computed")&&d1(J.target)&&C5(J.parameters)&&J.parameters.every((Y)=>W5(Y))}function qD(J){return $1(J,"Constructor")&&J.type==="Constructor"&&g1(J.$id)&&C5(J.parameters)&&J.parameters.every((Y)=>W5(Y))&&W5(J.returns)}function DD(J){return $1(J,"Date")&&J.type==="Date"&&g1(J.$id)&&c1(J.exclusiveMaximumTimestamp)&&c1(J.exclusiveMinimumTimestamp)&&c1(J.maximumTimestamp)&&c1(J.minimumTimestamp)&&c1(J.multipleOfTimestamp)}function ZD(J){return $1(J,"Function")&&J.type==="Function"&&g1(J.$id)&&C5(J.parameters)&&J.parameters.every((Y)=>W5(Y))&&W5(J.returns)}function pI(J){return $1(J,"Import")&&LX(J,"$defs")&&x1(J.$defs)&&CX(J.$defs)&&LX(J,"$ref")&&d1(J.$ref)&&J.$ref in J.$defs}function OD(J){return $1(J,"Integer")&&J.type==="integer"&&g1(J.$id)&&c1(J.exclusiveMaximum)&&c1(J.exclusiveMinimum)&&c1(J.maximum)&&c1(J.minimum)&&c1(J.multipleOf)}function CX(J){return x1(J)&&Object.entries(J).every(([Y,W])=>mH(Y)&&W5(W))}function KD(J){return $1(J,"Intersect")&&(d1(J.type)&&J.type!=="object"?!1:!0)&&C5(J.allOf)&&J.allOf.every((Y)=>W5(Y)&&!vD(Y))&&g1(J.type)&&(dH(J.unevaluatedProperties)||XD(J.unevaluatedProperties))&&g1(J.$id)}function zD(J){return $1(J,"Iterator")&&J.type==="Iterator"&&g1(J.$id)&&W5(J.items)}function $1(J,Y){return x1(J)&&n in J&&J[n]===Y}function LD(J){return WQ(J)&&d1(J.const)}function SD(J){return WQ(J)&&j8(J.const)}function nI(J){return WQ(J)&&m4(J.const)}function WQ(J){return $1(J,"Literal")&&g1(J.$id)&&VD(J.const)}function VD(J){return m4(J)||j8(J)||d1(J)}function FD(J){return $1(J,"MappedKey")&&C5(J.keys)&&J.keys.every((Y)=>j8(Y)||d1(Y))}function ED(J){return $1(J,"MappedResult")&&CX(J.properties)}function jD(J){return $1(J,"Never")&&x1(J.not)&&Object.getOwnPropertyNames(J.not).length===0}function PD(J){return $1(J,"Not")&&W5(J.not)}function CD(J){return $1(J,"Null")&&J.type==="null"&&g1(J.$id)}function ID(J){return $1(J,"Number")&&J.type==="number"&&g1(J.$id)&&c1(J.exclusiveMaximum)&&c1(J.exclusiveMinimum)&&c1(J.maximum)&&c1(J.minimum)&&c1(J.multipleOf)}function RD(J){return $1(J,"Object")&&J.type==="object"&&g1(J.$id)&&CX(J.properties)&&$D(J.additionalProperties)&&c1(J.minProperties)&&c1(J.maxProperties)}function TD(J){return $1(J,"Promise")&&J.type==="Promise"&&g1(J.$id)&&W5(J.item)}function _D(J){return $1(J,"Record")&&J.type==="object"&&g1(J.$id)&&$D(J.additionalProperties)&&x1(J.patternProperties)&&((Y)=>{let W=Object.getOwnPropertyNames(Y.patternProperties);return W.length===1&&QD(W[0])&&x1(Y.patternProperties)&&W5(Y.patternProperties[W[0]])})(J)}function iI(J){return x1(J)&&l8 in J&&J[l8]==="Recursive"}function wD(J){return $1(J,"Ref")&&g1(J.$id)&&d1(J.$ref)}function kD(J){return $1(J,"RegExp")&&g1(J.$id)&&d1(J.source)&&d1(J.flags)&&c1(J.maxLength)&&c1(J.minLength)}function xD(J){return $1(J,"String")&&J.type==="string"&&g1(J.$id)&&c1(J.minLength)&&c1(J.maxLength)&&mI(J.pattern)&&dI(J.format)}function gD(J){return $1(J,"Symbol")&&J.type==="symbol"&&g1(J.$id)}function yD(J){return $1(J,"TemplateLiteral")&&J.type==="string"&&d1(J.pattern)&&J.pattern[0]==="^"&&J.pattern[J.pattern.length-1]==="$"}function fD(J){return $1(J,"This")&&g1(J.$id)&&d1(J.$ref)}function vD(J){return x1(J)&&m1 in J}function bD(J){return $1(J,"Tuple")&&J.type==="array"&&g1(J.$id)&&j8(J.minItems)&&j8(J.maxItems)&&J.minItems===J.maxItems&&(I5(J.items)&&I5(J.additionalItems)&&J.minItems===0||C5(J.items)&&J.items.every((Y)=>W5(Y)))}function hD(J){return $1(J,"Undefined")&&J.type==="undefined"&&g1(J.$id)}function lI(J){return cH(J)&&J.anyOf.every((Y)=>LD(Y)||SD(Y))}function cH(J){return $1(J,"Union")&&g1(J.$id)&&x1(J)&&C5(J.anyOf)&&J.anyOf.every((Y)=>W5(Y))}function mD(J){return $1(J,"Uint8Array")&&J.type==="Uint8Array"&&g1(J.$id)&&c1(J.minByteLength)&&c1(J.maxByteLength)}function dD(J){return $1(J,"Unknown")&&g1(J.$id)}function cD(J){return $1(J,"Unsafe")}function uD(J){return $1(J,"Void")&&J.type==="void"&&g1(J.$id)}function pD(J){return x1(J)&&n in J&&d1(J[n])&&!hI.includes(J[n])}function W5(J){return x1(J)&&(MD(J)||GD(J)||HD(J)||AD(J)||BD(J)||UD(J)||ND(J)||qD(J)||DD(J)||ZD(J)||OD(J)||KD(J)||zD(J)||WQ(J)||FD(J)||ED(J)||jD(J)||PD(J)||CD(J)||ID(J)||RD(J)||TD(J)||_D(J)||wD(J)||kD(J)||xD(J)||gD(J)||yD(J)||fD(J)||bD(J)||hD(J)||cH(J)||mD(J)||dD(J)||cD(J)||uD(J)||pD(J))}var nD="(true|false)",IX="(0|[1-9][0-9]*)",iD="(.*)";var v7="^(0|[1-9][0-9]*)$",b7="^(.*)$",lD="^(?!.*)$";var _1={};h4(_1,{Set:()=>tI,Has:()=>sI,Get:()=>eI,Entries:()=>oI,Delete:()=>aI,Clear:()=>rI});var oJ=new Map;function oI(){return new Map(oJ)}function rI(){return oJ.clear()}function aI(J){return oJ.delete(J)}function sI(J){return oJ.has(J)}function tI(J,Y){oJ.set(J,Y)}function eI(J){return oJ.get(J)}var o5={};h4(o5,{Set:()=>$R,Has:()=>QR,Get:()=>XR,Entries:()=>JR,Delete:()=>WR,Clear:()=>YR});var rJ=new Map;function JR(){return new Map(rJ)}function YR(){return rJ.clear()}function WR(J){return rJ.delete(J)}function QR(J){return rJ.has(J)}function $R(J,Y){rJ.set(J,Y)}function XR(J){return rJ.get(J)}function oD(J,Y){return J.includes(Y)}function rD(J){return[...new Set(J)]}function MR(J,Y){return J.filter((W)=>Y.includes(W))}function GR(J,Y){return J.reduce((W,Q)=>{return MR(W,Q)},Y)}function aD(J){return J.length===1?J[0]:J.length>1?GR(J.slice(1),J[0]):[]}function sD(J){let Y=[];for(let W of J)Y.push(...W);return Y}function h7(J){return $0({[n]:"Any"},J)}function aJ(J,Y){return $0({[n]:"Array",type:"array",items:J},Y)}function tD(J){return $0({[n]:"Argument",index:J})}function sJ(J,Y){return $0({[n]:"AsyncIterator",type:"AsyncIterator",items:J},Y)}function r1(J,Y,W){return $0({[n]:"Computed",target:J,parameters:Y},W)}function HR(J,Y){let{[Y]:W,...Q}=J;return Q}function Z5(J,Y){return Y.reduce((W,Q)=>HR(W,Q),J)}function J1(J){return $0({[n]:"Never",not:{}},J)}function z1(J){return $0({[n]:"MappedResult",properties:J})}function tJ(J,Y,W){return $0({[n]:"Constructor",type:"Constructor",parameters:J,returns:Y},W)}function G4(J,Y,W){return $0({[n]:"Function",type:"Function",parameters:J,returns:Y},W)}function QQ(J,Y){return $0({[n]:"Union",anyOf:J},Y)}function UR(J){return J.some((Y)=>X8(Y))}function eD(J){return J.map((Y)=>X8(Y)?BR(Y):Y)}function BR(J){return Z5(J,[l5])}function AR(J,Y){return UR(J)?C2(QQ(eD(J),Y)):QQ(eD(J),Y)}function H4(J,Y){return J.length===1?$0(J[0],Y):J.length===0?J1(Y):AR(J,Y)}function P1(J,Y){return J.length===0?J1(Y):J.length===1?$0(J[0],Y):QQ(J,Y)}class uH extends b0{}function NR(J){return J.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}function pH(J,Y,W){return J[Y]===W&&J.charCodeAt(Y-1)!==92}function o4(J,Y){return pH(J,Y,"(")}function $Q(J,Y){return pH(J,Y,")")}function JZ(J,Y){return pH(J,Y,"|")}function qR(J){if(!(o4(J,0)&&$Q(J,J.length-1)))return!1;let Y=0;for(let W=0;W<J.length;W++){if(o4(J,W))Y+=1;if($Q(J,W))Y-=1;if(Y===0&&W!==J.length-1)return!1}return!0}function DR(J){return J.slice(1,J.length-1)}function ZR(J){let Y=0;for(let W=0;W<J.length;W++){if(o4(J,W))Y+=1;if($Q(J,W))Y-=1;if(JZ(J,W)&&Y===0)return!0}return!1}function OR(J){for(let Y=0;Y<J.length;Y++)if(o4(J,Y))return!0;return!1}function KR(J){let[Y,W]=[0,0],Q=[];for(let M=0;M<J.length;M++){if(o4(J,M))Y+=1;if($Q(J,M))Y-=1;if(JZ(J,M)&&Y===0){let G=J.slice(W,M);if(G.length>0)Q.push(eJ(G));W=M+1}}let X=J.slice(W);if(X.length>0)Q.push(eJ(X));if(Q.length===0)return{type:"const",const:""};if(Q.length===1)return Q[0];return{type:"or",expr:Q}}function zR(J){function Y(X,M){if(!o4(X,M))throw new uH("TemplateLiteralParser: Index must point to open parens");let G=0;for(let H=M;H<X.length;H++){if(o4(X,H))G+=1;if($Q(X,H))G-=1;if(G===0)return[M,H]}throw new uH("TemplateLiteralParser: Unclosed group parens in expression")}function W(X,M){for(let G=M;G<X.length;G++)if(o4(X,G))return[M,G];return[M,X.length]}let Q=[];for(let X=0;X<J.length;X++)if(o4(J,X)){let[M,G]=Y(J,X),H=J.slice(M,G+1);Q.push(eJ(H)),X=G}else{let[M,G]=W(J,X),H=J.slice(M,G);if(H.length>0)Q.push(eJ(H));X=G-1}return Q.length===0?{type:"const",const:""}:Q.length===1?Q[0]:{type:"and",expr:Q}}function eJ(J){return qR(J)?eJ(DR(J)):ZR(J)?KR(J):OR(J)?zR(J):{type:"const",const:NR(J)}}function JY(J){return eJ(J.slice(1,J.length-1))}class YZ extends b0{}function LR(J){return J.type==="or"&&J.expr.length===2&&J.expr[0].type==="const"&&J.expr[0].const==="0"&&J.expr[1].type==="const"&&J.expr[1].const==="[1-9][0-9]*"}function SR(J){return J.type==="or"&&J.expr.length===2&&J.expr[0].type==="const"&&J.expr[0].const==="true"&&J.expr[1].type==="const"&&J.expr[1].const==="false"}function VR(J){return J.type==="const"&&J.const===".*"}function l9(J){return LR(J)||VR(J)?!1:SR(J)?!0:J.type==="and"?J.expr.every((Y)=>l9(Y)):J.type==="or"?J.expr.every((Y)=>l9(Y)):J.type==="const"?!0:(()=>{throw new YZ("Unknown expression type")})()}function RX(J){let Y=JY(J.pattern);return l9(Y)}class WZ extends b0{}function*QZ(J){if(J.length===1)return yield*J[0];for(let Y of J[0])for(let W of QZ(J.slice(1)))yield`${Y}${W}`}function*FR(J){return yield*QZ(J.expr.map((Y)=>[...XQ(Y)]))}function*ER(J){for(let Y of J.expr)yield*XQ(Y)}function*jR(J){return yield J.const}function*XQ(J){return J.type==="and"?yield*FR(J):J.type==="or"?yield*ER(J):J.type==="const"?yield*jR(J):(()=>{throw new WZ("Unknown expression")})()}function YY(J){let Y=JY(J.pattern);return l9(Y)?[...XQ(Y)]:[]}function N1(J,Y){return $0({[n]:"Literal",const:J,type:typeof J},Y)}function TX(J){return $0({[n]:"Boolean",type:"boolean"},J)}function WY(J){return $0({[n]:"BigInt",type:"bigint"},J)}function o8(J){return $0({[n]:"Number",type:"number"},J)}function l2(J){return $0({[n]:"String",type:"string"},J)}function*PR(J){let Y=J.trim().replace(/"|'/g,"");return Y==="boolean"?yield TX():Y==="number"?yield o8():Y==="bigint"?yield WY():Y==="string"?yield l2():yield(()=>{let W=Y.split("|").map((Q)=>N1(Q.trim()));return W.length===0?J1():W.length===1?W[0]:H4(W)})()}function*CR(J){if(J[1]!=="{"){let Y=N1("$"),W=nH(J.slice(1));return yield*[Y,...W]}for(let Y=2;Y<J.length;Y++)if(J[Y]==="}"){let W=PR(J.slice(2,Y)),Q=nH(J.slice(Y+1));return yield*[...W,...Q]}yield N1(J)}function*nH(J){for(let Y=0;Y<J.length;Y++)if(J[Y]==="$"){let W=N1(J.slice(0,Y)),Q=CR(J.slice(Y));return yield*[W,...Q]}yield N1(J)}function $Z(J){return[...nH(J)]}class XZ extends b0{}function IR(J){return J.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function MZ(J,Y){return R8(J)?J.pattern.slice(1,J.pattern.length-1):Z1(J)?`(${J.anyOf.map((W)=>MZ(W,Y)).join("|")})`:P6(J)?`${Y}${IX}`:j6(J)?`${Y}${IX}`:u9(J)?`${Y}${IX}`:n4(J)?`${Y}${iD}`:C8(J)?`${Y}${IR(J.const.toString())}`:p4(J)?`${Y}${nD}`:(()=>{throw new XZ(`Unexpected Kind '${J[n]}'`)})()}function iH(J){return`^${J.map((Y)=>MZ(Y,"")).join("")}$`}function o9(J){let W=YY(J).map((Q)=>N1(Q));return H4(W)}function _X(J,Y){let W=d1(J)?iH($Z(J)):iH(J);return $0({[n]:"TemplateLiteral",type:"string",pattern:W},Y)}function RR(J){return YY(J).map((W)=>W.toString())}function TR(J){let Y=[];for(let W of J)Y.push(...M8(W));return Y}function _R(J){return[J.toString()]}function M8(J){return[...new Set(R8(J)?RR(J):Z1(J)?TR(J.anyOf):C8(J)?_R(J.const):P6(J)?["[number]"]:j6(J)?["[number]"]:[])]}function wR(J,Y,W){let Q={};for(let X of Object.getOwnPropertyNames(Y))Q[X]=m7(J,M8(Y[X]),W);return Q}function kR(J,Y,W){return wR(J,Y.properties,W)}function GZ(J,Y,W){let Q=kR(J,Y,W);return z1(Q)}function UZ(J,Y){return J.map((W)=>BZ(W,Y))}function xR(J){return J.filter((Y)=>!y7(Y))}function gR(J,Y){return wX(xR(UZ(J,Y)))}function yR(J){return J.some((Y)=>y7(Y))?[]:J}function fR(J,Y){return H4(yR(UZ(J,Y)))}function vR(J,Y){return Y in J?J[Y]:Y==="[number]"?H4(J):J1()}function bR(J,Y){return Y==="[number]"?J:J1()}function hR(J,Y){return Y in J?J[Y]:J1()}function BZ(J,Y){return D5(J)?gR(J.allOf,Y):Z1(J)?fR(J.anyOf,Y):T8(J)?vR(J.items??[],Y):S6(J)?bR(J.items,Y):R5(J)?hR(J.properties,Y):J1()}function MQ(J,Y){return Y.map((W)=>BZ(J,W))}function HZ(J,Y){return H4(MQ(J,Y))}function m7(J,Y,W){if(S5(J)||S5(Y)){if(!M5(J)||!M5(Y))throw new b0("Index types using Ref parameters require both Type and Key to be of TSchema");return r1("Index",[J,Y])}if(Y5(Y))return GZ(J,Y,W);if(I8(Y))return AZ(J,Y,W);return $0(M5(Y)?HZ(J,M8(Y)):HZ(J,Y),W)}function mR(J,Y,W){return{[Y]:m7(J,[Y],e1(W))}}function dR(J,Y,W){return Y.reduce((Q,X)=>{return{...Q,...mR(J,X,W)}},{})}function cR(J,Y,W){return dR(J,Y.keys,W)}function AZ(J,Y,W){let Q=cR(J,Y,W);return z1(Q)}function QY(J,Y){return $0({[n]:"Iterator",type:"Iterator",items:J},Y)}function uR(J){let Y=[];for(let W in J)if(!X8(J[W]))Y.push(W);return Y}function pR(J,Y){let W=uR(J),Q=W.length>0?{[n]:"Object",type:"object",properties:J,required:W}:{[n]:"Object",type:"object",properties:J};return $0(Q,Y)}var C1=pR;function kX(J,Y){return $0({[n]:"Promise",type:"Promise",item:J},Y)}function nR(J){return $0(Z5(J,[L6]))}function iR(J){return $0({...J,[L6]:"Readonly"})}function lR(J,Y){return Y===!1?nR(J):iR(J)}function G8(J,Y){let W=Y??!0;return Y5(J)?NZ(J,W):lR(J,W)}function oR(J,Y){let W={};for(let Q of globalThis.Object.getOwnPropertyNames(J))W[Q]=G8(J[Q],Y);return W}function rR(J,Y){return oR(J.properties,Y)}function NZ(J,Y){let W=rR(J,Y);return z1(W)}function r8(J,Y){return $0(J.length>0?{[n]:"Tuple",type:"array",items:J,additionalItems:!1,minItems:J.length,maxItems:J.length}:{[n]:"Tuple",type:"array",minItems:J.length,maxItems:J.length},Y)}function qZ(J,Y){return J in Y?a8(J,Y[J]):z1(Y)}function aR(J){return{[J]:N1(J)}}function sR(J){let Y={};for(let W of J)Y[W]=N1(W);return Y}function tR(J,Y){return oD(Y,J)?aR(J):sR(Y)}function eR(J,Y){let W=tR(J,Y);return qZ(J,W)}function GQ(J,Y){return Y.map((W)=>a8(J,W))}function JT(J,Y){let W={};for(let Q of globalThis.Object.getOwnPropertyNames(Y))W[Q]=a8(J,Y[Q]);return W}function a8(J,Y){let W={...Y};return X8(Y)?C2(a8(J,Z5(Y,[l5]))):lJ(Y)?G8(a8(J,Z5(Y,[L6]))):Y5(Y)?qZ(J,Y.properties):I8(Y)?eR(J,Y.keys):F6(Y)?tJ(GQ(J,Y.parameters),a8(J,Y.returns),W):E6(Y)?G4(GQ(J,Y.parameters),a8(J,Y.returns),W):c9(Y)?sJ(a8(J,Y.items),W):p9(Y)?QY(a8(J,Y.items),W):D5(Y)?I2(GQ(J,Y.allOf),W):Z1(Y)?P1(GQ(J,Y.anyOf),W):T8(Y)?r8(GQ(J,Y.items??[]),W):R5(Y)?C1(JT(J,Y.properties),W):S6(Y)?aJ(a8(J,Y.items),W):n9(Y)?kX(a8(J,Y.item),W):Y}function YT(J,Y){let W={};for(let Q of J)W[Q]=a8(Q,Y);return W}function DZ(J,Y,W){let Q=M5(J)?M8(J):J,X=Y({[n]:"MappedKey",keys:Q}),M=YT(Q,X);return C1(M,W)}function WT(J){return $0(Z5(J,[l5]))}function QT(J){return $0({...J,[l5]:"Optional"})}function $T(J,Y){return Y===!1?WT(J):QT(J)}function C2(J,Y){let W=Y??!0;return Y5(J)?ZZ(J,W):$T(J,W)}function XT(J,Y){let W={};for(let Q of globalThis.Object.getOwnPropertyNames(J))W[Q]=C2(J[Q],Y);return W}function MT(J,Y){return XT(J.properties,Y)}function ZZ(J,Y){let W=MT(J,Y);return z1(W)}function HQ(J,Y={}){let W=J.every((X)=>R5(X)),Q=M5(Y.unevaluatedProperties)?{unevaluatedProperties:Y.unevaluatedProperties}:{};return $0(Y.unevaluatedProperties===!1||M5(Y.unevaluatedProperties)||W?{...Q,[n]:"Intersect",type:"object",allOf:J}:{...Q,[n]:"Intersect",allOf:J},Y)}function GT(J){return J.every((Y)=>X8(Y))}function HT(J){return Z5(J,[l5])}function OZ(J){return J.map((Y)=>X8(Y)?HT(Y):Y)}function UT(J,Y){return GT(J)?C2(HQ(OZ(J),Y)):HQ(OZ(J),Y)}function wX(J,Y={}){if(J.length===1)return $0(J[0],Y);if(J.length===0)return J1(Y);if(J.some((W)=>j1(W)))throw new Error("Cannot intersect transform types");return UT(J,Y)}function I2(J,Y){if(J.length===1)return $0(J[0],Y);if(J.length===0)return J1(Y);if(J.some((W)=>j1(W)))throw new Error("Cannot intersect transform types");return HQ(J,Y)}function s8(...J){let[Y,W]=typeof J[0]==="string"?[J[0],J[1]]:[J[0].$id,J[1]];if(typeof Y!=="string")throw new b0("Ref: $ref must be a string");return $0({[n]:"Ref",$ref:Y},W)}function BT(J,Y){return r1("Awaited",[r1(J,Y)])}function AT(J){return r1("Awaited",[s8(J)])}function NT(J){return I2(KZ(J))}function qT(J){return P1(KZ(J))}function DT(J){return $Y(J)}function KZ(J){return J.map((Y)=>$Y(Y))}function $Y(J,Y){return $0(V6(J)?BT(J.target,J.parameters):D5(J)?NT(J.allOf):Z1(J)?qT(J.anyOf):n9(J)?DT(J.item):S5(J)?AT(J.$ref):J,Y)}function zZ(J){let Y=[];for(let W of J)Y.push(H8(W));return Y}function ZT(J){let Y=zZ(J);return sD(Y)}function OT(J){let Y=zZ(J);return aD(Y)}function KT(J){return J.map((Y,W)=>W.toString())}function zT(J){return["[number]"]}function LT(J){return globalThis.Object.getOwnPropertyNames(J)}function ST(J){if(!lH)return[];return globalThis.Object.getOwnPropertyNames(J).map((W)=>{return W[0]==="^"&&W[W.length-1]==="$"?W.slice(1,W.length-1):W})}function H8(J){return D5(J)?ZT(J.allOf):Z1(J)?OT(J.anyOf):T8(J)?KT(J.items??[]):S6(J)?zT(J.items):R5(J)?LT(J.properties):i9(J)?ST(J.patternProperties):[]}var lH=!1;function r4(J){lH=!0;let Y=H8(J);return lH=!1,`^(${Y.map((Q)=>`(${Q})`).join("|")})$`}function VT(J,Y){return r1("KeyOf",[r1(J,Y)])}function FT(J){return r1("KeyOf",[s8(J)])}function ET(J,Y){let W=H8(J),Q=jT(W),X=H4(Q);return $0(X,Y)}function jT(J){return J.map((Y)=>Y==="[number]"?o8():N1(Y))}function XY(J,Y){return V6(J)?VT(J.target,J.parameters):S5(J)?FT(J.$ref):Y5(J)?LZ(J,Y):ET(J,Y)}function PT(J,Y){let W={};for(let Q of globalThis.Object.getOwnPropertyNames(J))W[Q]=XY(J[Q],e1(Y));return W}function CT(J,Y){return PT(J.properties,Y)}function LZ(J,Y){let W=CT(J,Y);return z1(W)}function xX(J){let Y=H8(J),W=MQ(J,Y);return Y.map((Q,X)=>[Y[X],W[X]])}function IT(J){let Y=[];for(let W of J)Y.push(...H8(W));return rD(Y)}function RT(J){return J.filter((Y)=>!y7(Y))}function TT(J,Y){let W=[];for(let Q of J)W.push(...MQ(Q,[Y]));return RT(W)}function _T(J,Y){let W={};for(let Q of Y)W[Q]=wX(TT(J,Q));return W}function SZ(J,Y){let W=IT(J),Q=_T(J,W);return C1(Q,Y)}function gX(J){return $0({[n]:"Date",type:"Date"},J)}function yX(J){return $0({[n]:"Null",type:"null"},J)}function fX(J){return $0({[n]:"Symbol",type:"symbol"},J)}function vX(J){return $0({[n]:"Undefined",type:"undefined"},J)}function bX(J){return $0({[n]:"Uint8Array",type:"Uint8Array"},J)}function C6(J){return $0({[n]:"Unknown"},J)}function wT(J){return J.map((Y)=>oH(Y,!1))}function kT(J){let Y={};for(let W of globalThis.Object.getOwnPropertyNames(J))Y[W]=G8(oH(J[W],!1));return Y}function hX(J,Y){return Y===!0?J:G8(J)}function oH(J,Y){return wH(J)?hX(h7(),Y):xH(J)?hX(h7(),Y):C5(J)?G8(r8(wT(J))):d4(J)?bX():d9(J)?gX():x1(J)?hX(C1(kT(J)),Y):kH(J)?hX(G4([],C6()),Y):I5(J)?vX():gH(J)?yX():yH(J)?fX():aW(J)?WY():j8(J)?N1(J):m4(J)?N1(J):d1(J)?N1(J):C1({})}function VZ(J,Y){return $0(oH(J,!0),Y)}function FZ(J,Y){return F6(J)?r8(J.parameters,Y):J1(Y)}function EZ(J,Y){if(I5(J))throw new Error("Enum undefined or empty");let W=globalThis.Object.getOwnPropertyNames(J).filter((M)=>isNaN(M)).map((M)=>J[M]),X=[...new Set(W)].map((M)=>N1(M));return P1(X,{...Y,[l8]:"Enum"})}class RZ extends b0{}var X0;(function(J){J[J.Union=0]="Union",J[J.True=1]="True",J[J.False=2]="False"})(X0||(X0={}));function t8(J){return J===X0.False?J:X0.True}function MY(J){throw new RZ(J)}function g5(J){return u.IsNever(J)||u.IsIntersect(J)||u.IsUnion(J)||u.IsUnknown(J)||u.IsAny(J)}function y5(J,Y){return u.IsNever(Y)?wZ(J,Y):u.IsIntersect(Y)?mX(J,Y):u.IsUnion(Y)?eH(J,Y):u.IsUnknown(Y)?yZ(J,Y):u.IsAny(Y)?tH(J,Y):MY("StructuralRight")}function tH(J,Y){return X0.True}function xT(J,Y){return u.IsIntersect(Y)?mX(J,Y):u.IsUnion(Y)&&Y.anyOf.some((W)=>u.IsAny(W)||u.IsUnknown(W))?X0.True:u.IsUnion(Y)?X0.Union:u.IsUnknown(Y)?X0.True:u.IsAny(Y)?X0.True:X0.Union}function gT(J,Y){return u.IsUnknown(J)?X0.False:u.IsAny(J)?X0.Union:u.IsNever(J)?X0.True:X0.False}function yT(J,Y){return u.IsObject(Y)&&dX(Y)?X0.True:g5(Y)?y5(J,Y):!u.IsArray(Y)?X0.False:t8(y1(J.items,Y.items))}function fT(J,Y){return g5(Y)?y5(J,Y):!u.IsAsyncIterator(Y)?X0.False:t8(y1(J.items,Y.items))}function vT(J,Y){return g5(Y)?y5(J,Y):u.IsObject(Y)?R2(J,Y):u.IsRecord(Y)?e8(J,Y):u.IsBigInt(Y)?X0.True:X0.False}function TZ(J,Y){return u.IsLiteralBoolean(J)?X0.True:u.IsBoolean(J)?X0.True:X0.False}function bT(J,Y){return g5(Y)?y5(J,Y):u.IsObject(Y)?R2(J,Y):u.IsRecord(Y)?e8(J,Y):u.IsBoolean(Y)?X0.True:X0.False}function hT(J,Y){return g5(Y)?y5(J,Y):u.IsObject(Y)?R2(J,Y):!u.IsConstructor(Y)?X0.False:J.parameters.length>Y.parameters.length?X0.False:!J.parameters.every((W,Q)=>t8(y1(Y.parameters[Q],W))===X0.True)?X0.False:t8(y1(J.returns,Y.returns))}function mT(J,Y){return g5(Y)?y5(J,Y):u.IsObject(Y)?R2(J,Y):u.IsRecord(Y)?e8(J,Y):u.IsDate(Y)?X0.True:X0.False}function dT(J,Y){return g5(Y)?y5(J,Y):u.IsObject(Y)?R2(J,Y):!u.IsFunction(Y)?X0.False:J.parameters.length>Y.parameters.length?X0.False:!J.parameters.every((W,Q)=>t8(y1(Y.parameters[Q],W))===X0.True)?X0.False:t8(y1(J.returns,Y.returns))}function _Z(J,Y){return u.IsLiteral(J)&&P2.IsNumber(J.const)?X0.True:u.IsNumber(J)||u.IsInteger(J)?X0.True:X0.False}function cT(J,Y){return u.IsInteger(Y)||u.IsNumber(Y)?X0.True:g5(Y)?y5(J,Y):u.IsObject(Y)?R2(J,Y):u.IsRecord(Y)?e8(J,Y):X0.False}function mX(J,Y){return Y.allOf.every((W)=>y1(J,W)===X0.True)?X0.True:X0.False}function uT(J,Y){return J.allOf.some((W)=>y1(W,Y)===X0.True)?X0.True:X0.False}function pT(J,Y){return g5(Y)?y5(J,Y):!u.IsIterator(Y)?X0.False:t8(y1(J.items,Y.items))}function nT(J,Y){return u.IsLiteral(Y)&&Y.const===J.const?X0.True:g5(Y)?y5(J,Y):u.IsObject(Y)?R2(J,Y):u.IsRecord(Y)?e8(J,Y):u.IsString(Y)?gZ(J,Y):u.IsNumber(Y)?kZ(J,Y):u.IsInteger(Y)?_Z(J,Y):u.IsBoolean(Y)?TZ(J,Y):X0.False}function wZ(J,Y){return X0.False}function iT(J,Y){return X0.True}function jZ(J){let[Y,W]=[J,0];while(!0){if(!u.IsNot(Y))break;Y=Y.not,W+=1}return W%2===0?Y:C6()}function lT(J,Y){return u.IsNot(J)?y1(jZ(J),Y):u.IsNot(Y)?y1(J,jZ(Y)):MY("Invalid fallthrough for Not")}function oT(J,Y){return g5(Y)?y5(J,Y):u.IsObject(Y)?R2(J,Y):u.IsRecord(Y)?e8(J,Y):u.IsNull(Y)?X0.True:X0.False}function kZ(J,Y){return u.IsLiteralNumber(J)?X0.True:u.IsNumber(J)||u.IsInteger(J)?X0.True:X0.False}function rT(J,Y){return g5(Y)?y5(J,Y):u.IsObject(Y)?R2(J,Y):u.IsRecord(Y)?e8(J,Y):u.IsInteger(Y)||u.IsNumber(Y)?X0.True:X0.False}function U8(J,Y){return Object.getOwnPropertyNames(J.properties).length===Y}function PZ(J){return dX(J)}function CZ(J){return U8(J,0)||U8(J,1)&&"description"in J.properties&&u.IsUnion(J.properties.description)&&J.properties.description.anyOf.length===2&&(u.IsString(J.properties.description.anyOf[0])&&u.IsUndefined(J.properties.description.anyOf[1])||u.IsString(J.properties.description.anyOf[1])&&u.IsUndefined(J.properties.description.anyOf[0]))}function rH(J){return U8(J,0)}function IZ(J){return U8(J,0)}function aT(J){return U8(J,0)}function sT(J){return U8(J,0)}function tT(J){return dX(J)}function eT(J){let Y=o8();return U8(J,0)||U8(J,1)&&"length"in J.properties&&t8(y1(J.properties.length,Y))===X0.True}function J_(J){return U8(J,0)}function dX(J){let Y=o8();return U8(J,0)||U8(J,1)&&"length"in J.properties&&t8(y1(J.properties.length,Y))===X0.True}function Y_(J){let Y=G4([h7()],h7());return U8(J,0)||U8(J,1)&&"then"in J.properties&&t8(y1(J.properties.then,Y))===X0.True}function xZ(J,Y){return y1(J,Y)===X0.False?X0.False:u.IsOptional(J)&&!u.IsOptional(Y)?X0.False:X0.True}function R2(J,Y){return u.IsUnknown(J)?X0.False:u.IsAny(J)?X0.Union:u.IsNever(J)||u.IsLiteralString(J)&&PZ(Y)||u.IsLiteralNumber(J)&&rH(Y)||u.IsLiteralBoolean(J)&&IZ(Y)||u.IsSymbol(J)&&CZ(Y)||u.IsBigInt(J)&&aT(Y)||u.IsString(J)&&PZ(Y)||u.IsSymbol(J)&&CZ(Y)||u.IsNumber(J)&&rH(Y)||u.IsInteger(J)&&rH(Y)||u.IsBoolean(J)&&IZ(Y)||u.IsUint8Array(J)&&tT(Y)||u.IsDate(J)&&sT(Y)||u.IsConstructor(J)&&J_(Y)||u.IsFunction(J)&&eT(Y)?X0.True:u.IsRecord(J)&&u.IsString(aH(J))?(()=>{return Y[l8]==="Record"?X0.True:X0.False})():u.IsRecord(J)&&u.IsNumber(aH(J))?(()=>{return U8(Y,0)?X0.True:X0.False})():X0.False}function W_(J,Y){return g5(Y)?y5(J,Y):u.IsRecord(Y)?e8(J,Y):!u.IsObject(Y)?X0.False:(()=>{for(let W of Object.getOwnPropertyNames(Y.properties)){if(!(W in J.properties)&&!u.IsOptional(Y.properties[W]))return X0.False;if(u.IsOptional(Y.properties[W]))return X0.True;if(xZ(J.properties[W],Y.properties[W])===X0.False)return X0.False}return X0.True})()}function Q_(J,Y){return g5(Y)?y5(J,Y):u.IsObject(Y)&&Y_(Y)?X0.True:!u.IsPromise(Y)?X0.False:t8(y1(J.item,Y.item))}function aH(J){return v7 in J.patternProperties?o8():(b7 in J.patternProperties)?l2():MY("Unknown record key pattern")}function sH(J){return v7 in J.patternProperties?J.patternProperties[v7]:(b7 in J.patternProperties)?J.patternProperties[b7]:MY("Unable to get record value schema")}function e8(J,Y){let[W,Q]=[aH(Y),sH(Y)];return u.IsLiteralString(J)&&u.IsNumber(W)&&t8(y1(J,Q))===X0.True?X0.True:u.IsUint8Array(J)&&u.IsNumber(W)?y1(J,Q):u.IsString(J)&&u.IsNumber(W)?y1(J,Q):u.IsArray(J)&&u.IsNumber(W)?y1(J,Q):u.IsObject(J)?(()=>{for(let X of Object.getOwnPropertyNames(J.properties))if(xZ(Q,J.properties[X])===X0.False)return X0.False;return X0.True})():X0.False}function $_(J,Y){return g5(Y)?y5(J,Y):u.IsObject(Y)?R2(J,Y):!u.IsRecord(Y)?X0.False:y1(sH(J),sH(Y))}function X_(J,Y){let W=u.IsRegExp(J)?l2():J,Q=u.IsRegExp(Y)?l2():Y;return y1(W,Q)}function gZ(J,Y){return u.IsLiteral(J)&&P2.IsString(J.const)?X0.True:u.IsString(J)?X0.True:X0.False}function M_(J,Y){return g5(Y)?y5(J,Y):u.IsObject(Y)?R2(J,Y):u.IsRecord(Y)?e8(J,Y):u.IsString(Y)?X0.True:X0.False}function G_(J,Y){return g5(Y)?y5(J,Y):u.IsObject(Y)?R2(J,Y):u.IsRecord(Y)?e8(J,Y):u.IsSymbol(Y)?X0.True:X0.False}function H_(J,Y){return u.IsTemplateLiteral(J)?y1(o9(J),Y):u.IsTemplateLiteral(Y)?y1(J,o9(Y)):MY("Invalid fallthrough for TemplateLiteral")}function U_(J,Y){return u.IsArray(Y)&&J.items!==void 0&&J.items.every((W)=>y1(W,Y.items)===X0.True)}function B_(J,Y){return u.IsNever(J)?X0.True:u.IsUnknown(J)?X0.False:u.IsAny(J)?X0.Union:X0.False}function A_(J,Y){return g5(Y)?y5(J,Y):u.IsObject(Y)&&dX(Y)?X0.True:u.IsArray(Y)&&U_(J,Y)?X0.True:!u.IsTuple(Y)?X0.False:P2.IsUndefined(J.items)&&!P2.IsUndefined(Y.items)||!P2.IsUndefined(J.items)&&P2.IsUndefined(Y.items)?X0.False:P2.IsUndefined(J.items)&&!P2.IsUndefined(Y.items)?X0.True:J.items.every((W,Q)=>y1(W,Y.items[Q])===X0.True)?X0.True:X0.False}function N_(J,Y){return g5(Y)?y5(J,Y):u.IsObject(Y)?R2(J,Y):u.IsRecord(Y)?e8(J,Y):u.IsUint8Array(Y)?X0.True:X0.False}function q_(J,Y){return g5(Y)?y5(J,Y):u.IsObject(Y)?R2(J,Y):u.IsRecord(Y)?e8(J,Y):u.IsVoid(Y)?O_(J,Y):u.IsUndefined(Y)?X0.True:X0.False}function eH(J,Y){return Y.anyOf.some((W)=>y1(J,W)===X0.True)?X0.True:X0.False}function D_(J,Y){return J.anyOf.every((W)=>y1(W,Y)===X0.True)?X0.True:X0.False}function yZ(J,Y){return X0.True}function Z_(J,Y){return u.IsNever(Y)?wZ(J,Y):u.IsIntersect(Y)?mX(J,Y):u.IsUnion(Y)?eH(J,Y):u.IsAny(Y)?tH(J,Y):u.IsString(Y)?gZ(J,Y):u.IsNumber(Y)?kZ(J,Y):u.IsInteger(Y)?_Z(J,Y):u.IsBoolean(Y)?TZ(J,Y):u.IsArray(Y)?gT(J,Y):u.IsTuple(Y)?B_(J,Y):u.IsObject(Y)?R2(J,Y):u.IsUnknown(Y)?X0.True:X0.False}function O_(J,Y){return u.IsUndefined(J)?X0.True:u.IsUndefined(J)?X0.True:X0.False}function K_(J,Y){return u.IsIntersect(Y)?mX(J,Y):u.IsUnion(Y)?eH(J,Y):u.IsUnknown(Y)?yZ(J,Y):u.IsAny(Y)?tH(J,Y):u.IsObject(Y)?R2(J,Y):u.IsVoid(Y)?X0.True:X0.False}function y1(J,Y){return u.IsTemplateLiteral(J)||u.IsTemplateLiteral(Y)?H_(J,Y):u.IsRegExp(J)||u.IsRegExp(Y)?X_(J,Y):u.IsNot(J)||u.IsNot(Y)?lT(J,Y):u.IsAny(J)?xT(J,Y):u.IsArray(J)?yT(J,Y):u.IsBigInt(J)?vT(J,Y):u.IsBoolean(J)?bT(J,Y):u.IsAsyncIterator(J)?fT(J,Y):u.IsConstructor(J)?hT(J,Y):u.IsDate(J)?mT(J,Y):u.IsFunction(J)?dT(J,Y):u.IsInteger(J)?cT(J,Y):u.IsIntersect(J)?uT(J,Y):u.IsIterator(J)?pT(J,Y):u.IsLiteral(J)?nT(J,Y):u.IsNever(J)?iT(J,Y):u.IsNull(J)?oT(J,Y):u.IsNumber(J)?rT(J,Y):u.IsObject(J)?W_(J,Y):u.IsRecord(J)?$_(J,Y):u.IsString(J)?M_(J,Y):u.IsSymbol(J)?G_(J,Y):u.IsTuple(J)?A_(J,Y):u.IsPromise(J)?Q_(J,Y):u.IsUint8Array(J)?N_(J,Y):u.IsUndefined(J)?q_(J,Y):u.IsUnion(J)?D_(J,Y):u.IsUnknown(J)?Z_(J,Y):u.IsVoid(J)?K_(J,Y):MY(`Unknown left type operand '${J[n]}'`)}function d7(J,Y){return y1(J,Y)}function z_(J,Y,W,Q,X){let M={};for(let G of globalThis.Object.getOwnPropertyNames(J))M[G]=GY(J[G],Y,W,Q,e1(X));return M}function L_(J,Y,W,Q,X){return z_(J.properties,Y,W,Q,X)}function fZ(J,Y,W,Q,X){let M=L_(J,Y,W,Q,X);return z1(M)}function S_(J,Y,W,Q){let X=d7(J,Y);return X===X0.Union?P1([W,Q]):X===X0.True?W:Q}function GY(J,Y,W,Q,X){return Y5(J)?fZ(J,Y,W,Q,X):I8(J)?$0(vZ(J,Y,W,Q,X)):$0(S_(J,Y,W,Q),X)}function V_(J,Y,W,Q,X){return{[J]:GY(N1(J),Y,W,Q,e1(X))}}function F_(J,Y,W,Q,X){return J.reduce((M,G)=>{return{...M,...V_(G,Y,W,Q,X)}},{})}function E_(J,Y,W,Q,X){return F_(J.keys,Y,W,Q,X)}function vZ(J,Y,W,Q,X){let M=E_(J,Y,W,Q,X);return z1(M)}function j_(J){return J.allOf.every((Y)=>a4(Y))}function P_(J){return J.anyOf.some((Y)=>a4(Y))}function C_(J){return!a4(J.not)}function a4(J){return J[n]==="Intersect"?j_(J):J[n]==="Union"?P_(J):J[n]==="Not"?C_(J):J[n]==="Undefined"?!0:!1}function bZ(J,Y){return HY(o9(J),Y)}function I_(J,Y){let W=J.filter((Q)=>d7(Q,Y)===X0.False);return W.length===1?W[0]:P1(W)}function HY(J,Y,W={}){if(R8(J))return $0(bZ(J,Y),W);if(Y5(J))return $0(hZ(J,Y),W);return $0(Z1(J)?I_(J.anyOf,Y):d7(J,Y)!==X0.False?J1():J,W)}function R_(J,Y){let W={};for(let Q of globalThis.Object.getOwnPropertyNames(J))W[Q]=HY(J[Q],Y);return W}function T_(J,Y){return R_(J.properties,Y)}function hZ(J,Y){let W=T_(J,Y);return z1(W)}function mZ(J,Y){return UY(o9(J),Y)}function __(J,Y){let W=J.filter((Q)=>d7(Q,Y)!==X0.False);return W.length===1?W[0]:P1(W)}function UY(J,Y,W){if(R8(J))return $0(mZ(J,Y),W);if(Y5(J))return $0(dZ(J,Y),W);return $0(Z1(J)?__(J.anyOf,Y):d7(J,Y)!==X0.False?J:J1(),W)}function w_(J,Y){let W={};for(let Q of globalThis.Object.getOwnPropertyNames(J))W[Q]=UY(J[Q],Y);return W}function k_(J,Y){return w_(J.properties,Y)}function dZ(J,Y){let W=k_(J,Y);return z1(W)}function cZ(J,Y){return F6(J)?$0(J.returns,Y):J1(Y)}function cX(J){return G8(C2(J))}function r9(J,Y,W){return $0({[n]:"Record",type:"object",patternProperties:{[J]:Y}},W)}function JU(J,Y,W){let Q={};for(let X of J)Q[X]=Y;return C1(Q,{...W,[l8]:"Record"})}function x_(J,Y,W){return RX(J)?JU(M8(J),Y,W):r9(J.pattern,Y,W)}function g_(J,Y,W){return JU(M8(P1(J)),Y,W)}function y_(J,Y,W){return JU([J.toString()],Y,W)}function f_(J,Y,W){return r9(J.source,Y,W)}function v_(J,Y,W){let Q=I5(J.pattern)?b7:J.pattern;return r9(Q,Y,W)}function b_(J,Y,W){return r9(b7,Y,W)}function h_(J,Y,W){return r9(lD,Y,W)}function m_(J,Y,W){return C1({true:Y,false:Y},W)}function d_(J,Y,W){return r9(v7,Y,W)}function c_(J,Y,W){return r9(v7,Y,W)}function uX(J,Y,W={}){return Z1(J)?g_(J.anyOf,Y,W):R8(J)?x_(J,Y,W):C8(J)?y_(J.const,Y,W):p4(J)?m_(J,Y,W):j6(J)?d_(J,Y,W):P6(J)?c_(J,Y,W):hH(J)?f_(J,Y,W):n4(J)?v_(J,Y,W):vH(J)?b_(J,Y,W):y7(J)?h_(J,Y,W):J1(W)}function pX(J){return globalThis.Object.getOwnPropertyNames(J.patternProperties)[0]}function uZ(J){let Y=pX(J);return Y===b7?l2():Y===v7?o8():l2({pattern:Y})}function nX(J){return J.patternProperties[pX(J)]}function u_(J,Y){return Y.parameters=UQ(J,Y.parameters),Y.returns=I6(J,Y.returns),Y}function p_(J,Y){return Y.parameters=UQ(J,Y.parameters),Y.returns=I6(J,Y.returns),Y}function n_(J,Y){return Y.allOf=UQ(J,Y.allOf),Y}function i_(J,Y){return Y.anyOf=UQ(J,Y.anyOf),Y}function l_(J,Y){if(I5(Y.items))return Y;return Y.items=UQ(J,Y.items),Y}function o_(J,Y){return Y.items=I6(J,Y.items),Y}function r_(J,Y){return Y.items=I6(J,Y.items),Y}function a_(J,Y){return Y.items=I6(J,Y.items),Y}function s_(J,Y){return Y.item=I6(J,Y.item),Y}function t_(J,Y){let W=Ww(J,Y.properties);return{...Y,...C1(W)}}function e_(J,Y){let W=I6(J,uZ(Y)),Q=I6(J,nX(Y)),X=uX(W,Q);return{...Y,...X}}function Jw(J,Y){return Y.index in J?J[Y.index]:C6()}function Yw(J,Y){let W=lJ(Y),Q=X8(Y),X=I6(J,Y);return W&&Q?cX(X):W&&!Q?G8(X):!W&&Q?C2(X):X}function Ww(J,Y){return globalThis.Object.getOwnPropertyNames(Y).reduce((W,Q)=>{return{...W,[Q]:Yw(J,Y[Q])}},{})}function UQ(J,Y){return Y.map((W)=>I6(J,W))}function I6(J,Y){return F6(Y)?u_(J,Y):E6(Y)?p_(J,Y):D5(Y)?n_(J,Y):Z1(Y)?i_(J,Y):T8(Y)?l_(J,Y):S6(Y)?o_(J,Y):c9(Y)?r_(J,Y):p9(Y)?a_(J,Y):n9(Y)?s_(J,Y):R5(Y)?t_(J,Y):i9(Y)?e_(J,Y):bH(Y)?Jw(J,Y):Y}function pZ(J,Y){return I6(Y,nJ(J))}function nZ(J){return $0({[n]:"Integer",type:"integer"},J)}function Qw(J,Y,W){return{[J]:R6(N1(J),Y,e1(W))}}function $w(J,Y,W){return J.reduce((X,M)=>{return{...X,...Qw(M,Y,W)}},{})}function Xw(J,Y,W){return $w(J.keys,Y,W)}function iZ(J,Y,W){let Q=Xw(J,Y,W);return z1(Q)}function Mw(J){let[Y,W]=[J.slice(0,1),J.slice(1)];return[Y.toLowerCase(),W].join("")}function Gw(J){let[Y,W]=[J.slice(0,1),J.slice(1)];return[Y.toUpperCase(),W].join("")}function Hw(J){return J.toUpperCase()}function Uw(J){return J.toLowerCase()}function Bw(J,Y,W){let Q=JY(J.pattern);if(!l9(Q))return{...J,pattern:lZ(J.pattern,Y)};let G=[...XQ(Q)].map((B)=>N1(B)),H=oZ(G,Y),U=P1(H);return _X([U],W)}function lZ(J,Y){return typeof J==="string"?Y==="Uncapitalize"?Mw(J):Y==="Capitalize"?Gw(J):Y==="Uppercase"?Hw(J):Y==="Lowercase"?Uw(J):J:J.toString()}function oZ(J,Y){return J.map((W)=>R6(W,Y))}function R6(J,Y,W={}){return I8(J)?iZ(J,Y,W):R8(J)?Bw(J,Y,W):Z1(J)?P1(oZ(J.anyOf,Y),W):C8(J)?N1(lZ(J.const,Y),W):$0(J,W)}function rZ(J,Y={}){return R6(J,"Capitalize",Y)}function aZ(J,Y={}){return R6(J,"Lowercase",Y)}function sZ(J,Y={}){return R6(J,"Uncapitalize",Y)}function tZ(J,Y={}){return R6(J,"Uppercase",Y)}function Aw(J,Y,W){let Q={};for(let X of globalThis.Object.getOwnPropertyNames(J))Q[X]=c7(J[X],Y,e1(W));return Q}function Nw(J,Y,W){return Aw(J.properties,Y,W)}function eZ(J,Y,W){let Q=Nw(J,Y,W);return z1(Q)}function qw(J,Y){return J.map((W)=>YU(W,Y))}function Dw(J,Y){return J.map((W)=>YU(W,Y))}function Zw(J,Y){let{[Y]:W,...Q}=J;return Q}function Ow(J,Y){return Y.reduce((W,Q)=>Zw(W,Q),J)}function Kw(J,Y){let W=Z5(J,[m1,"$id","required","properties"]),Q=Ow(J.properties,Y);return C1(Q,W)}function zw(J){let Y=J.reduce((W,Q)=>PX(Q)?[...W,N1(Q)]:W,[]);return P1(Y)}function YU(J,Y){return D5(J)?I2(qw(J.allOf,Y)):Z1(J)?P1(Dw(J.anyOf,Y)):R5(J)?Kw(J,Y):C1({})}function c7(J,Y,W){let Q=C5(Y)?zw(Y):Y,X=M5(Y)?M8(Y):Y,M=S5(J),G=S5(Y);return Y5(J)?eZ(J,X,W):I8(Y)?JO(J,Y,W):M&&G?r1("Omit",[J,Q],W):!M&&G?r1("Omit",[J,Q],W):M&&!G?r1("Omit",[J,Q],W):$0({...YU(J,X),...W})}function Lw(J,Y,W){return{[Y]:c7(J,[Y],e1(W))}}function Sw(J,Y,W){return Y.reduce((Q,X)=>{return{...Q,...Lw(J,X,W)}},{})}function Vw(J,Y,W){return Sw(J,Y.keys,W)}function JO(J,Y,W){let Q=Vw(J,Y,W);return z1(Q)}function Fw(J,Y,W){let Q={};for(let X of globalThis.Object.getOwnPropertyNames(J))Q[X]=u7(J[X],Y,e1(W));return Q}function Ew(J,Y,W){return Fw(J.properties,Y,W)}function YO(J,Y,W){let Q=Ew(J,Y,W);return z1(Q)}function jw(J,Y){return J.map((W)=>WU(W,Y))}function Pw(J,Y){return J.map((W)=>WU(W,Y))}function Cw(J,Y){let W={};for(let Q of Y)if(Q in J)W[Q]=J[Q];return W}function Iw(J,Y){let W=Z5(J,[m1,"$id","required","properties"]),Q=Cw(J.properties,Y);return C1(Q,W)}function Rw(J){let Y=J.reduce((W,Q)=>PX(Q)?[...W,N1(Q)]:W,[]);return P1(Y)}function WU(J,Y){return D5(J)?I2(jw(J.allOf,Y)):Z1(J)?P1(Pw(J.anyOf,Y)):R5(J)?Iw(J,Y):C1({})}function u7(J,Y,W){let Q=C5(Y)?Rw(Y):Y,X=M5(Y)?M8(Y):Y,M=S5(J),G=S5(Y);return Y5(J)?YO(J,X,W):I8(Y)?WO(J,Y,W):M&&G?r1("Pick",[J,Q],W):!M&&G?r1("Pick",[J,Q],W):M&&!G?r1("Pick",[J,Q],W):$0({...WU(J,X),...W})}function Tw(J,Y,W){return{[Y]:u7(J,[Y],e1(W))}}function _w(J,Y,W){return Y.reduce((Q,X)=>{return{...Q,...Tw(J,X,W)}},{})}function ww(J,Y,W){return _w(J,Y.keys,W)}function WO(J,Y,W){let Q=ww(J,Y,W);return z1(Q)}function kw(J,Y){return r1("Partial",[r1(J,Y)])}function xw(J){return r1("Partial",[s8(J)])}function gw(J){let Y={};for(let W of globalThis.Object.getOwnPropertyNames(J))Y[W]=C2(J[W]);return Y}function yw(J){let Y=Z5(J,[m1,"$id","required","properties"]),W=gw(J.properties);return C1(W,Y)}function QO(J){return J.map((Y)=>$O(Y))}function $O(J){return V6(J)?kw(J.target,J.parameters):S5(J)?xw(J.$ref):D5(J)?I2(QO(J.allOf)):Z1(J)?P1(QO(J.anyOf)):R5(J)?yw(J):u9(J)?J:p4(J)?J:j6(J)?J:C8(J)?J:eW(J)?J:P6(J)?J:n4(J)?J:JQ(J)?J:i4(J)?J:C1({})}function BY(J,Y){if(Y5(J))return XO(J,Y);else return $0({...$O(J),...Y})}function fw(J,Y){let W={};for(let Q of globalThis.Object.getOwnPropertyNames(J))W[Q]=BY(J[Q],e1(Y));return W}function vw(J,Y){return fw(J.properties,Y)}function XO(J,Y){let W=vw(J,Y);return z1(W)}function bw(J,Y){return r1("Required",[r1(J,Y)])}function hw(J){return r1("Required",[s8(J)])}function mw(J){let Y={};for(let W of globalThis.Object.getOwnPropertyNames(J))Y[W]=Z5(J[W],[l5]);return Y}function dw(J){let Y=Z5(J,[m1,"$id","required","properties"]),W=mw(J.properties);return C1(W,Y)}function MO(J){return J.map((Y)=>GO(Y))}function GO(J){return V6(J)?bw(J.target,J.parameters):S5(J)?hw(J.$ref):D5(J)?I2(MO(J.allOf)):Z1(J)?P1(MO(J.anyOf)):R5(J)?dw(J):u9(J)?J:p4(J)?J:j6(J)?J:C8(J)?J:eW(J)?J:P6(J)?J:n4(J)?J:JQ(J)?J:i4(J)?J:C1({})}function AY(J,Y){if(Y5(J))return HO(J,Y);else return $0({...GO(J),...Y})}function cw(J,Y){let W={};for(let Q of globalThis.Object.getOwnPropertyNames(J))W[Q]=AY(J[Q],Y);return W}function uw(J,Y){return cw(J.properties,Y)}function HO(J,Y){let W=uw(J,Y);return z1(W)}function pw(J,Y){return Y.map((W)=>{return S5(W)?QU(J,W.$ref):_8(J,W)})}function QU(J,Y){return Y in J?S5(J[Y])?QU(J,J[Y].$ref):_8(J,J[Y]):J1()}function nw(J){return $Y(J[0])}function iw(J){return m7(J[0],J[1])}function lw(J){return XY(J[0])}function ow(J){return BY(J[0])}function rw(J){return c7(J[0],J[1])}function aw(J){return u7(J[0],J[1])}function sw(J){return AY(J[0])}function tw(J,Y,W){let Q=pw(J,W);return Y==="Awaited"?nw(Q):Y==="Index"?iw(Q):Y==="KeyOf"?lw(Q):Y==="Partial"?ow(Q):Y==="Omit"?rw(Q):Y==="Pick"?aw(Q):Y==="Required"?sw(Q):J1()}function ew(J,Y){return aJ(_8(J,Y))}function Jk(J,Y){return sJ(_8(J,Y))}function Yk(J,Y,W){return tJ(BQ(J,Y),_8(J,W))}function Wk(J,Y,W){return G4(BQ(J,Y),_8(J,W))}function Qk(J,Y){return I2(BQ(J,Y))}function $k(J,Y){return QY(_8(J,Y))}function Xk(J,Y){return C1(globalThis.Object.keys(Y).reduce((W,Q)=>{return{...W,[Q]:_8(J,Y[Q])}},{}))}function Mk(J,Y){let[W,Q]=[_8(J,nX(Y)),pX(Y)],X=nJ(Y);return X.patternProperties[Q]=W,X}function Gk(J,Y){return S5(Y)?{...QU(J,Y.$ref),[m1]:Y[m1]}:Y}function Hk(J,Y){return r8(BQ(J,Y))}function Uk(J,Y){return P1(BQ(J,Y))}function BQ(J,Y){return Y.map((W)=>_8(J,W))}function _8(J,Y){return X8(Y)?$0(_8(J,Z5(Y,[l5])),Y):lJ(Y)?$0(_8(J,Z5(Y,[L6])),Y):j1(Y)?$0(Gk(J,Y),Y):S6(Y)?$0(ew(J,Y.items),Y):c9(Y)?$0(Jk(J,Y.items),Y):V6(Y)?$0(tw(J,Y.target,Y.parameters)):F6(Y)?$0(Yk(J,Y.parameters,Y.returns),Y):E6(Y)?$0(Wk(J,Y.parameters,Y.returns),Y):D5(Y)?$0(Qk(J,Y.allOf),Y):p9(Y)?$0($k(J,Y.items),Y):R5(Y)?$0(Xk(J,Y.properties),Y):i9(Y)?$0(Mk(J,Y)):T8(Y)?$0(Hk(J,Y.items||[]),Y):Z1(Y)?$0(Uk(J,Y.anyOf),Y):Y}function Bk(J,Y){return Y in J?_8(J,J[Y]):J1()}function UO(J){return globalThis.Object.getOwnPropertyNames(J).reduce((Y,W)=>{return{...Y,[W]:Bk(J,W)}},{})}class BO{constructor(J){let Y=UO(J),W=this.WithIdentifiers(Y);this.$defs=W}Import(J,Y){let W={...this.$defs,[J]:$0(this.$defs[J],Y)};return $0({[n]:"Import",$defs:W,$ref:J})}WithIdentifiers(J){return globalThis.Object.getOwnPropertyNames(J).reduce((Y,W)=>{return{...Y,[W]:{...J[W],$id:W}}},{})}}function AO(J){return new BO(J)}function NO(J,Y){return $0({[n]:"Not",not:J},Y)}function qO(J,Y){return E6(J)?r8(J.parameters,Y):J1()}var Ak=0;function DO(J,Y={}){if(I5(Y.$id))Y.$id=`T${Ak++}`;let W=nJ(J({[n]:"This",$ref:`${Y.$id}`}));return W.$id=Y.$id,$0({[l8]:"Recursive",...W},Y)}function ZO(J,Y){let W=d1(J)?new globalThis.RegExp(J):J;return $0({[n]:"RegExp",type:"RegExp",source:W.source,flags:W.flags},Y)}function Nk(J){return D5(J)?J.allOf:Z1(J)?J.anyOf:T8(J)?J.items??[]:[]}function OO(J){return Nk(J)}function KO(J,Y){return E6(J)?$0(J.returns,Y):J1(Y)}class zO{constructor(J){this.schema=J}Decode(J){return new LO(this.schema,J)}}class LO{constructor(J,Y){this.schema=J,this.decode=Y}EncodeTransform(J,Y){let X={Encode:(M)=>Y[m1].Encode(J(M)),Decode:(M)=>this.decode(Y[m1].Decode(M))};return{...Y,[m1]:X}}EncodeSchema(J,Y){let W={Decode:this.decode,Encode:J};return{...Y,[m1]:W}}Encode(J){return j1(this.schema)?this.EncodeTransform(J,this.schema):this.EncodeSchema(J,this.schema)}}function SO(J){return new zO(J)}function iX(J={}){return $0({[n]:J[n]??"Unsafe"},J)}function VO(J){return $0({[n]:"Void",type:"void"},J)}var $U={};h4($U,{Void:()=>VO,Uppercase:()=>tZ,Unsafe:()=>iX,Unknown:()=>C6,Union:()=>P1,Undefined:()=>vX,Uncapitalize:()=>sZ,Uint8Array:()=>bX,Tuple:()=>r8,Transform:()=>SO,TemplateLiteral:()=>_X,Symbol:()=>fX,String:()=>l2,ReturnType:()=>KO,Rest:()=>OO,Required:()=>AY,RegExp:()=>ZO,Ref:()=>s8,Recursive:()=>DO,Record:()=>uX,ReadonlyOptional:()=>cX,Readonly:()=>G8,Promise:()=>kX,Pick:()=>u7,Partial:()=>BY,Parameters:()=>qO,Optional:()=>C2,Omit:()=>c7,Object:()=>C1,Number:()=>o8,Null:()=>yX,Not:()=>NO,Never:()=>J1,Module:()=>AO,Mapped:()=>DZ,Lowercase:()=>aZ,Literal:()=>N1,KeyOf:()=>XY,Iterator:()=>QY,Intersect:()=>I2,Integer:()=>nZ,Instantiate:()=>pZ,InstanceType:()=>cZ,Index:()=>m7,Function:()=>G4,Extract:()=>UY,Extends:()=>GY,Exclude:()=>HY,Enum:()=>EZ,Date:()=>gX,ConstructorParameters:()=>FZ,Constructor:()=>tJ,Const:()=>VZ,Composite:()=>SZ,Capitalize:()=>rZ,Boolean:()=>TX,BigInt:()=>WY,Awaited:()=>$Y,AsyncIterator:()=>sJ,Array:()=>aJ,Argument:()=>tD,Any:()=>h7});var T6=$U;function qk(J){switch(J.errorType){case W0.ArrayContains:return"Expected array to contain at least one matching value";case W0.ArrayMaxContains:return`Expected array to contain no more than ${J.schema.maxContains} matching values`;case W0.ArrayMinContains:return`Expected array to contain at least ${J.schema.minContains} matching values`;case W0.ArrayMaxItems:return`Expected array length to be less or equal to ${J.schema.maxItems}`;case W0.ArrayMinItems:return`Expected array length to be greater or equal to ${J.schema.minItems}`;case W0.ArrayUniqueItems:return"Expected array elements to be unique";case W0.Array:return"Expected array";case W0.AsyncIterator:return"Expected AsyncIterator";case W0.BigIntExclusiveMaximum:return`Expected bigint to be less than ${J.schema.exclusiveMaximum}`;case W0.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${J.schema.exclusiveMinimum}`;case W0.BigIntMaximum:return`Expected bigint to be less or equal to ${J.schema.maximum}`;case W0.BigIntMinimum:return`Expected bigint to be greater or equal to ${J.schema.minimum}`;case W0.BigIntMultipleOf:return`Expected bigint to be a multiple of ${J.schema.multipleOf}`;case W0.BigInt:return"Expected bigint";case W0.Boolean:return"Expected boolean";case W0.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${J.schema.exclusiveMinimumTimestamp}`;case W0.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${J.schema.exclusiveMaximumTimestamp}`;case W0.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${J.schema.minimumTimestamp}`;case W0.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${J.schema.maximumTimestamp}`;case W0.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${J.schema.multipleOfTimestamp}`;case W0.Date:return"Expected Date";case W0.Function:return"Expected function";case W0.IntegerExclusiveMaximum:return`Expected integer to be less than ${J.schema.exclusiveMaximum}`;case W0.IntegerExclusiveMinimum:return`Expected integer to be greater than ${J.schema.exclusiveMinimum}`;case W0.IntegerMaximum:return`Expected integer to be less or equal to ${J.schema.maximum}`;case W0.IntegerMinimum:return`Expected integer to be greater or equal to ${J.schema.minimum}`;case W0.IntegerMultipleOf:return`Expected integer to be a multiple of ${J.schema.multipleOf}`;case W0.Integer:return"Expected integer";case W0.IntersectUnevaluatedProperties:return"Unexpected property";case W0.Intersect:return"Expected all values to match";case W0.Iterator:return"Expected Iterator";case W0.Literal:return`Expected ${typeof J.schema.const==="string"?`'${J.schema.const}'`:J.schema.const}`;case W0.Never:return"Never";case W0.Not:return"Value should not match";case W0.Null:return"Expected null";case W0.NumberExclusiveMaximum:return`Expected number to be less than ${J.schema.exclusiveMaximum}`;case W0.NumberExclusiveMinimum:return`Expected number to be greater than ${J.schema.exclusiveMinimum}`;case W0.NumberMaximum:return`Expected number to be less or equal to ${J.schema.maximum}`;case W0.NumberMinimum:return`Expected number to be greater or equal to ${J.schema.minimum}`;case W0.NumberMultipleOf:return`Expected number to be a multiple of ${J.schema.multipleOf}`;case W0.Number:return"Expected number";case W0.Object:return"Expected object";case W0.ObjectAdditionalProperties:return"Unexpected property";case W0.ObjectMaxProperties:return`Expected object to have no more than ${J.schema.maxProperties} properties`;case W0.ObjectMinProperties:return`Expected object to have at least ${J.schema.minProperties} properties`;case W0.ObjectRequiredProperty:return"Expected required property";case W0.Promise:return"Expected Promise";case W0.RegExp:return"Expected string to match regular expression";case W0.StringFormatUnknown:return`Unknown format '${J.schema.format}'`;case W0.StringFormat:return`Expected string to match '${J.schema.format}' format`;case W0.StringMaxLength:return`Expected string length less or equal to ${J.schema.maxLength}`;case W0.StringMinLength:return`Expected string length greater or equal to ${J.schema.minLength}`;case W0.StringPattern:return`Expected string to match '${J.schema.pattern}'`;case W0.String:return"Expected string";case W0.Symbol:return"Expected symbol";case W0.TupleLength:return`Expected tuple to have ${J.schema.maxItems||0} elements`;case W0.Tuple:return"Expected tuple";case W0.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${J.schema.maxByteLength}`;case W0.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${J.schema.minByteLength}`;case W0.Uint8Array:return"Expected Uint8Array";case W0.Undefined:return"Expected undefined";case W0.Union:return"Expected union value";case W0.Void:return"Expected void";case W0.Kind:return`Expected kind '${J.schema[n]}'`;default:return"Unknown error type"}}var Dk=qk;function FO(){return Dk}class EO extends b0{constructor(J){super(`Unable to dereference schema with $id '${J.$ref}'`);this.schema=J}}function Zk(J,Y){let W=Y.find((Q)=>Q.$id===J.$ref);if(W===void 0)throw new EO(J);return O1(W,Y)}function W2(J,Y){if(!D1(J.$id)||Y.some((W)=>W.$id===J.$id))return Y;return Y.push(J),Y}function O1(J,Y){return J[n]==="This"||J[n]==="Ref"?Zk(J,Y):J}class jO extends b0{constructor(J){super("Unable to hash value");this.value=J}}var w8;(function(J){J[J.Undefined=0]="Undefined",J[J.Null=1]="Null",J[J.Boolean=2]="Boolean",J[J.Number=3]="Number",J[J.String=4]="String",J[J.Object=5]="Object",J[J.Array=6]="Array",J[J.Date=7]="Date",J[J.Uint8Array=8]="Uint8Array",J[J.Symbol=9]="Symbol",J[J.BigInt=10]="BigInt"})(w8||(w8={}));var NY=BigInt("14695981039346656037"),[Ok,Kk]=[BigInt("1099511628211"),BigInt("18446744073709551616")],zk=Array.from({length:256}).map((J,Y)=>BigInt(Y)),PO=new Float64Array(1),CO=new DataView(PO.buffer),IO=new Uint8Array(PO.buffer);function*Lk(J){let Y=J===0?1:Math.ceil(Math.floor(Math.log2(J)+1)/8);for(let W=0;W<Y;W++)yield J>>8*(Y-1-W)&255}function Sk(J){T2(w8.Array);for(let Y of J)qY(Y)}function Vk(J){T2(w8.Boolean),T2(J?1:0)}function Fk(J){T2(w8.BigInt),CO.setBigInt64(0,J);for(let Y of IO)T2(Y)}function Ek(J){T2(w8.Date),qY(J.getTime())}function jk(J){T2(w8.Null)}function Pk(J){T2(w8.Number),CO.setFloat64(0,J);for(let Y of IO)T2(Y)}function Ck(J){T2(w8.Object);for(let Y of globalThis.Object.getOwnPropertyNames(J).sort())qY(Y),qY(J[Y])}function Ik(J){T2(w8.String);for(let Y=0;Y<J.length;Y++)for(let W of Lk(J.charCodeAt(Y)))T2(W)}function Rk(J){T2(w8.Symbol),qY(J.description)}function Tk(J){T2(w8.Uint8Array);for(let Y=0;Y<J.length;Y++)T2(J[Y])}function _k(J){return T2(w8.Undefined)}function qY(J){if(f0(J))return Sk(J);if(M4(J))return Vk(J);if(q2(J))return Fk(J);if(i2(J))return Ek(J);if(c4(J))return jk(J);if(g0(J))return Pk(J);if(l0(J))return Ck(J);if(D1(J))return Ik(J);if(u4(J))return Rk(J);if(iJ(J))return Tk(J);if(J5(J))return _k(J);throw new jO(J)}function T2(J){NY=NY^zk[J],NY=NY*Ok%Kk}function p7(J){return NY=BigInt("14695981039346656037"),qY(J),NY}class RO extends b0{constructor(J){super("Unknown type");this.schema=J}}function wk(J){return J[n]==="Any"||J[n]==="Unknown"}function G1(J){return J!==void 0}function kk(J,Y,W){return!0}function xk(J,Y,W){return!0}function gk(J,Y,W){if(!f0(W))return!1;if(G1(J.minItems)&&!(W.length>=J.minItems))return!1;if(G1(J.maxItems)&&!(W.length<=J.maxItems))return!1;if(!W.every((M)=>Q2(J.items,Y,M)))return!1;if(J.uniqueItems===!0&&!function(){let M=new Set;for(let G of W){let H=p7(G);if(M.has(H))return!1;else M.add(H)}return!0}())return!1;if(!(G1(J.contains)||g0(J.minContains)||g0(J.maxContains)))return!0;let Q=G1(J.contains)?J.contains:J1(),X=W.reduce((M,G)=>Q2(Q,Y,G)?M+1:M,0);if(X===0)return!1;if(g0(J.minContains)&&X<J.minContains)return!1;if(g0(J.maxContains)&&X>J.maxContains)return!1;return!0}function yk(J,Y,W){return VX(W)}function fk(J,Y,W){if(!q2(W))return!1;if(G1(J.exclusiveMaximum)&&!(W<J.exclusiveMaximum))return!1;if(G1(J.exclusiveMinimum)&&!(W>J.exclusiveMinimum))return!1;if(G1(J.maximum)&&!(W<=J.maximum))return!1;if(G1(J.minimum)&&!(W>=J.minimum))return!1;if(G1(J.multipleOf)&&W%J.multipleOf!==BigInt(0))return!1;return!0}function vk(J,Y,W){return M4(W)}function bk(J,Y,W){return Q2(J.returns,Y,W.prototype)}function hk(J,Y,W){if(!i2(W))return!1;if(G1(J.exclusiveMaximumTimestamp)&&!(W.getTime()<J.exclusiveMaximumTimestamp))return!1;if(G1(J.exclusiveMinimumTimestamp)&&!(W.getTime()>J.exclusiveMinimumTimestamp))return!1;if(G1(J.maximumTimestamp)&&!(W.getTime()<=J.maximumTimestamp))return!1;if(G1(J.minimumTimestamp)&&!(W.getTime()>=J.minimumTimestamp))return!1;if(G1(J.multipleOfTimestamp)&&W.getTime()%J.multipleOfTimestamp!==0)return!1;return!0}function mk(J,Y,W){return g7(W)}function dk(J,Y,W){let Q=globalThis.Object.values(J.$defs),X=J.$defs[J.$ref];return Q2(X,[...Y,...Q],W)}function ck(J,Y,W){if(!jX(W))return!1;if(G1(J.exclusiveMaximum)&&!(W<J.exclusiveMaximum))return!1;if(G1(J.exclusiveMinimum)&&!(W>J.exclusiveMinimum))return!1;if(G1(J.maximum)&&!(W<=J.maximum))return!1;if(G1(J.minimum)&&!(W>=J.minimum))return!1;if(G1(J.multipleOf)&&W%J.multipleOf!==0)return!1;return!0}function uk(J,Y,W){let Q=J.allOf.every((X)=>Q2(X,Y,W));if(J.unevaluatedProperties===!1){let X=new RegExp(r4(J)),M=Object.getOwnPropertyNames(W).every((G)=>X.test(G));return Q&&M}else if(M5(J.unevaluatedProperties)){let X=new RegExp(r4(J)),M=Object.getOwnPropertyNames(W).every((G)=>X.test(G)||Q2(J.unevaluatedProperties,Y,W[G]));return Q&&M}else return Q}function pk(J,Y,W){return FX(W)}function nk(J,Y,W){return W===J.const}function ik(J,Y,W){return!1}function lk(J,Y,W){return!Q2(J.not,Y,W)}function ok(J,Y,W){return c4(W)}function rk(J,Y,W){if(!o1.IsNumberLike(W))return!1;if(G1(J.exclusiveMaximum)&&!(W<J.exclusiveMaximum))return!1;if(G1(J.exclusiveMinimum)&&!(W>J.exclusiveMinimum))return!1;if(G1(J.minimum)&&!(W>=J.minimum))return!1;if(G1(J.maximum)&&!(W<=J.maximum))return!1;if(G1(J.multipleOf)&&W%J.multipleOf!==0)return!1;return!0}function ak(J,Y,W){if(!o1.IsObjectLike(W))return!1;if(G1(J.minProperties)&&!(Object.getOwnPropertyNames(W).length>=J.minProperties))return!1;if(G1(J.maxProperties)&&!(Object.getOwnPropertyNames(W).length<=J.maxProperties))return!1;let Q=Object.getOwnPropertyNames(J.properties);for(let X of Q){let M=J.properties[X];if(J.required&&J.required.includes(X)){if(!Q2(M,Y,W[X]))return!1;if((a4(M)||wk(M))&&!(X in W))return!1}else if(o1.IsExactOptionalProperty(W,X)&&!Q2(M,Y,W[X]))return!1}if(J.additionalProperties===!1){let X=Object.getOwnPropertyNames(W);if(J.required&&J.required.length===Q.length&&X.length===Q.length)return!0;else return X.every((M)=>Q.includes(M))}else if(typeof J.additionalProperties==="object")return Object.getOwnPropertyNames(W).every((M)=>Q.includes(M)||Q2(J.additionalProperties,Y,W[M]));else return!0}function sk(J,Y,W){return EX(W)}function tk(J,Y,W){if(!o1.IsRecordLike(W))return!1;if(G1(J.minProperties)&&!(Object.getOwnPropertyNames(W).length>=J.minProperties))return!1;if(G1(J.maxProperties)&&!(Object.getOwnPropertyNames(W).length<=J.maxProperties))return!1;let[Q,X]=Object.entries(J.patternProperties)[0],M=new RegExp(Q),G=Object.entries(W).every(([B,A])=>{return M.test(B)?Q2(X,Y,A):!0}),H=typeof J.additionalProperties==="object"?Object.entries(W).every(([B,A])=>{return!M.test(B)?Q2(J.additionalProperties,Y,A):!0}):!0,U=J.additionalProperties===!1?Object.getOwnPropertyNames(W).every((B)=>{return M.test(B)}):!0;return G&&H&&U}function ek(J,Y,W){return Q2(O1(J,Y),Y,W)}function Jx(J,Y,W){let Q=new RegExp(J.source,J.flags);if(G1(J.minLength)){if(!(W.length>=J.minLength))return!1}if(G1(J.maxLength)){if(!(W.length<=J.maxLength))return!1}return Q.test(W)}function Yx(J,Y,W){if(!D1(W))return!1;if(G1(J.minLength)){if(!(W.length>=J.minLength))return!1}if(G1(J.maxLength)){if(!(W.length<=J.maxLength))return!1}if(G1(J.pattern)){if(!new RegExp(J.pattern).test(W))return!1}if(G1(J.format)){if(!_1.Has(J.format))return!1;return _1.Get(J.format)(W)}return!0}function Wx(J,Y,W){return u4(W)}function Qx(J,Y,W){return D1(W)&&new RegExp(J.pattern).test(W)}function $x(J,Y,W){return Q2(O1(J,Y),Y,W)}function Xx(J,Y,W){if(!f0(W))return!1;if(J.items===void 0&&W.length!==0)return!1;if(W.length!==J.maxItems)return!1;if(!J.items)return!0;for(let Q=0;Q<J.items.length;Q++)if(!Q2(J.items[Q],Y,W[Q]))return!1;return!0}function Mx(J,Y,W){return J5(W)}function Gx(J,Y,W){return J.anyOf.some((Q)=>Q2(Q,Y,W))}function Hx(J,Y,W){if(!iJ(W))return!1;if(G1(J.maxByteLength)&&!(W.length<=J.maxByteLength))return!1;if(G1(J.minByteLength)&&!(W.length>=J.minByteLength))return!1;return!0}function Ux(J,Y,W){return!0}function Bx(J,Y,W){return o1.IsVoidLike(W)}function Ax(J,Y,W){if(!o5.Has(J[n]))return!1;return o5.Get(J[n])(J,W)}function Q2(J,Y,W){let Q=G1(J.$id)?W2(J,Y):Y,X=J;switch(X[n]){case"Any":return kk(X,Q,W);case"Argument":return xk(X,Q,W);case"Array":return gk(X,Q,W);case"AsyncIterator":return yk(X,Q,W);case"BigInt":return fk(X,Q,W);case"Boolean":return vk(X,Q,W);case"Constructor":return bk(X,Q,W);case"Date":return hk(X,Q,W);case"Function":return mk(X,Q,W);case"Import":return dk(X,Q,W);case"Integer":return ck(X,Q,W);case"Intersect":return uk(X,Q,W);case"Iterator":return pk(X,Q,W);case"Literal":return nk(X,Q,W);case"Never":return ik(X,Q,W);case"Not":return lk(X,Q,W);case"Null":return ok(X,Q,W);case"Number":return rk(X,Q,W);case"Object":return ak(X,Q,W);case"Promise":return sk(X,Q,W);case"Record":return tk(X,Q,W);case"Ref":return ek(X,Q,W);case"RegExp":return Jx(X,Q,W);case"String":return Yx(X,Q,W);case"Symbol":return Wx(X,Q,W);case"TemplateLiteral":return Qx(X,Q,W);case"This":return $x(X,Q,W);case"Tuple":return Xx(X,Q,W);case"Undefined":return Mx(X,Q,W);case"Union":return Gx(X,Q,W);case"Uint8Array":return Hx(X,Q,W);case"Unknown":return Ux(X,Q,W);case"Void":return Bx(X,Q,W);default:if(!o5.Has(X[n]))throw new RO(X);return Ax(X,Q,W)}}function Y1(...J){return J.length===3?Q2(J[0],J[1],J[2]):Q2(J[0],[],J[1])}var W0;(function(J){J[J.ArrayContains=0]="ArrayContains",J[J.ArrayMaxContains=1]="ArrayMaxContains",J[J.ArrayMaxItems=2]="ArrayMaxItems",J[J.ArrayMinContains=3]="ArrayMinContains",J[J.ArrayMinItems=4]="ArrayMinItems",J[J.ArrayUniqueItems=5]="ArrayUniqueItems",J[J.Array=6]="Array",J[J.AsyncIterator=7]="AsyncIterator",J[J.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",J[J.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",J[J.BigIntMaximum=10]="BigIntMaximum",J[J.BigIntMinimum=11]="BigIntMinimum",J[J.BigIntMultipleOf=12]="BigIntMultipleOf",J[J.BigInt=13]="BigInt",J[J.Boolean=14]="Boolean",J[J.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",J[J.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",J[J.DateMaximumTimestamp=17]="DateMaximumTimestamp",J[J.DateMinimumTimestamp=18]="DateMinimumTimestamp",J[J.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",J[J.Date=20]="Date",J[J.Function=21]="Function",J[J.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",J[J.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",J[J.IntegerMaximum=24]="IntegerMaximum",J[J.IntegerMinimum=25]="IntegerMinimum",J[J.IntegerMultipleOf=26]="IntegerMultipleOf",J[J.Integer=27]="Integer",J[J.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",J[J.Intersect=29]="Intersect",J[J.Iterator=30]="Iterator",J[J.Kind=31]="Kind",J[J.Literal=32]="Literal",J[J.Never=33]="Never",J[J.Not=34]="Not",J[J.Null=35]="Null",J[J.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",J[J.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",J[J.NumberMaximum=38]="NumberMaximum",J[J.NumberMinimum=39]="NumberMinimum",J[J.NumberMultipleOf=40]="NumberMultipleOf",J[J.Number=41]="Number",J[J.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",J[J.ObjectMaxProperties=43]="ObjectMaxProperties",J[J.ObjectMinProperties=44]="ObjectMinProperties",J[J.ObjectRequiredProperty=45]="ObjectRequiredProperty",J[J.Object=46]="Object",J[J.Promise=47]="Promise",J[J.RegExp=48]="RegExp",J[J.StringFormatUnknown=49]="StringFormatUnknown",J[J.StringFormat=50]="StringFormat",J[J.StringMaxLength=51]="StringMaxLength",J[J.StringMinLength=52]="StringMinLength",J[J.StringPattern=53]="StringPattern",J[J.String=54]="String",J[J.Symbol=55]="Symbol",J[J.TupleLength=56]="TupleLength",J[J.Tuple=57]="Tuple",J[J.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",J[J.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",J[J.Uint8Array=60]="Uint8Array",J[J.Undefined=61]="Undefined",J[J.Union=62]="Union",J[J.Void=63]="Void"})(W0||(W0={}));class TO extends b0{constructor(J){super("Unknown type");this.schema=J}}function s4(J){return J.replace(/~/g,"~0").replace(/\//g,"~1")}function H1(J){return J!==void 0}class a9{constructor(J){this.iterator=J}[Symbol.iterator](){return this.iterator}First(){let J=this.iterator.next();return J.done?void 0:J.value}}function T0(J,Y,W,Q,X=[]){return{type:J,schema:Y,path:W,value:Q,message:FO()({errorType:J,path:W,schema:Y,value:Q,errors:X}),errors:X}}function*Nx(J,Y,W,Q){}function*qx(J,Y,W,Q){}function*Dx(J,Y,W,Q){if(!f0(Q))return yield T0(W0.Array,J,W,Q);if(H1(J.minItems)&&!(Q.length>=J.minItems))yield T0(W0.ArrayMinItems,J,W,Q);if(H1(J.maxItems)&&!(Q.length<=J.maxItems))yield T0(W0.ArrayMaxItems,J,W,Q);for(let G=0;G<Q.length;G++)yield*$2(J.items,Y,`${W}/${G}`,Q[G]);if(J.uniqueItems===!0&&!function(){let G=new Set;for(let H of Q){let U=p7(H);if(G.has(U))return!1;else G.add(U)}return!0}())yield T0(W0.ArrayUniqueItems,J,W,Q);if(!(H1(J.contains)||H1(J.minContains)||H1(J.maxContains)))return;let X=H1(J.contains)?J.contains:J1(),M=Q.reduce((G,H,U)=>$2(X,Y,`${W}${U}`,H).next().done===!0?G+1:G,0);if(M===0)yield T0(W0.ArrayContains,J,W,Q);if(g0(J.minContains)&&M<J.minContains)yield T0(W0.ArrayMinContains,J,W,Q);if(g0(J.maxContains)&&M>J.maxContains)yield T0(W0.ArrayMaxContains,J,W,Q)}function*Zx(J,Y,W,Q){if(!VX(Q))yield T0(W0.AsyncIterator,J,W,Q)}function*Ox(J,Y,W,Q){if(!q2(Q))return yield T0(W0.BigInt,J,W,Q);if(H1(J.exclusiveMaximum)&&!(Q<J.exclusiveMaximum))yield T0(W0.BigIntExclusiveMaximum,J,W,Q);if(H1(J.exclusiveMinimum)&&!(Q>J.exclusiveMinimum))yield T0(W0.BigIntExclusiveMinimum,J,W,Q);if(H1(J.maximum)&&!(Q<=J.maximum))yield T0(W0.BigIntMaximum,J,W,Q);if(H1(J.minimum)&&!(Q>=J.minimum))yield T0(W0.BigIntMinimum,J,W,Q);if(H1(J.multipleOf)&&Q%J.multipleOf!==BigInt(0))yield T0(W0.BigIntMultipleOf,J,W,Q)}function*Kx(J,Y,W,Q){if(!M4(Q))yield T0(W0.Boolean,J,W,Q)}function*zx(J,Y,W,Q){yield*$2(J.returns,Y,W,Q.prototype)}function*Lx(J,Y,W,Q){if(!i2(Q))return yield T0(W0.Date,J,W,Q);if(H1(J.exclusiveMaximumTimestamp)&&!(Q.getTime()<J.exclusiveMaximumTimestamp))yield T0(W0.DateExclusiveMaximumTimestamp,J,W,Q);if(H1(J.exclusiveMinimumTimestamp)&&!(Q.getTime()>J.exclusiveMinimumTimestamp))yield T0(W0.DateExclusiveMinimumTimestamp,J,W,Q);if(H1(J.maximumTimestamp)&&!(Q.getTime()<=J.maximumTimestamp))yield T0(W0.DateMaximumTimestamp,J,W,Q);if(H1(J.minimumTimestamp)&&!(Q.getTime()>=J.minimumTimestamp))yield T0(W0.DateMinimumTimestamp,J,W,Q);if(H1(J.multipleOfTimestamp)&&Q.getTime()%J.multipleOfTimestamp!==0)yield T0(W0.DateMultipleOfTimestamp,J,W,Q)}function*Sx(J,Y,W,Q){if(!g7(Q))yield T0(W0.Function,J,W,Q)}function*Vx(J,Y,W,Q){let X=globalThis.Object.values(J.$defs),M=J.$defs[J.$ref];yield*$2(M,[...Y,...X],W,Q)}function*Fx(J,Y,W,Q){if(!jX(Q))return yield T0(W0.Integer,J,W,Q);if(H1(J.exclusiveMaximum)&&!(Q<J.exclusiveMaximum))yield T0(W0.IntegerExclusiveMaximum,J,W,Q);if(H1(J.exclusiveMinimum)&&!(Q>J.exclusiveMinimum))yield T0(W0.IntegerExclusiveMinimum,J,W,Q);if(H1(J.maximum)&&!(Q<=J.maximum))yield T0(W0.IntegerMaximum,J,W,Q);if(H1(J.minimum)&&!(Q>=J.minimum))yield T0(W0.IntegerMinimum,J,W,Q);if(H1(J.multipleOf)&&Q%J.multipleOf!==0)yield T0(W0.IntegerMultipleOf,J,W,Q)}function*Ex(J,Y,W,Q){let X=!1;for(let M of J.allOf)for(let G of $2(M,Y,W,Q))X=!0,yield G;if(X)return yield T0(W0.Intersect,J,W,Q);if(J.unevaluatedProperties===!1){let M=new RegExp(r4(J));for(let G of Object.getOwnPropertyNames(Q))if(!M.test(G))yield T0(W0.IntersectUnevaluatedProperties,J,`${W}/${G}`,Q)}if(typeof J.unevaluatedProperties==="object"){let M=new RegExp(r4(J));for(let G of Object.getOwnPropertyNames(Q))if(!M.test(G)){let H=$2(J.unevaluatedProperties,Y,`${W}/${G}`,Q[G]).next();if(!H.done)yield H.value}}}function*jx(J,Y,W,Q){if(!FX(Q))yield T0(W0.Iterator,J,W,Q)}function*Px(J,Y,W,Q){if(Q!==J.const)yield T0(W0.Literal,J,W,Q)}function*Cx(J,Y,W,Q){yield T0(W0.Never,J,W,Q)}function*Ix(J,Y,W,Q){if($2(J.not,Y,W,Q).next().done===!0)yield T0(W0.Not,J,W,Q)}function*Rx(J,Y,W,Q){if(!c4(Q))yield T0(W0.Null,J,W,Q)}function*Tx(J,Y,W,Q){if(!o1.IsNumberLike(Q))return yield T0(W0.Number,J,W,Q);if(H1(J.exclusiveMaximum)&&!(Q<J.exclusiveMaximum))yield T0(W0.NumberExclusiveMaximum,J,W,Q);if(H1(J.exclusiveMinimum)&&!(Q>J.exclusiveMinimum))yield T0(W0.NumberExclusiveMinimum,J,W,Q);if(H1(J.maximum)&&!(Q<=J.maximum))yield T0(W0.NumberMaximum,J,W,Q);if(H1(J.minimum)&&!(Q>=J.minimum))yield T0(W0.NumberMinimum,J,W,Q);if(H1(J.multipleOf)&&Q%J.multipleOf!==0)yield T0(W0.NumberMultipleOf,J,W,Q)}function*_x(J,Y,W,Q){if(!o1.IsObjectLike(Q))return yield T0(W0.Object,J,W,Q);if(H1(J.minProperties)&&!(Object.getOwnPropertyNames(Q).length>=J.minProperties))yield T0(W0.ObjectMinProperties,J,W,Q);if(H1(J.maxProperties)&&!(Object.getOwnPropertyNames(Q).length<=J.maxProperties))yield T0(W0.ObjectMaxProperties,J,W,Q);let X=Array.isArray(J.required)?J.required:[],M=Object.getOwnPropertyNames(J.properties),G=Object.getOwnPropertyNames(Q);for(let H of X){if(G.includes(H))continue;yield T0(W0.ObjectRequiredProperty,J.properties[H],`${W}/${s4(H)}`,void 0)}if(J.additionalProperties===!1){for(let H of G)if(!M.includes(H))yield T0(W0.ObjectAdditionalProperties,J,`${W}/${s4(H)}`,Q[H])}if(typeof J.additionalProperties==="object")for(let H of G){if(M.includes(H))continue;yield*$2(J.additionalProperties,Y,`${W}/${s4(H)}`,Q[H])}for(let H of M){let U=J.properties[H];if(J.required&&J.required.includes(H)){if(yield*$2(U,Y,`${W}/${s4(H)}`,Q[H]),a4(J)&&!(H in Q))yield T0(W0.ObjectRequiredProperty,U,`${W}/${s4(H)}`,void 0)}else if(o1.IsExactOptionalProperty(Q,H))yield*$2(U,Y,`${W}/${s4(H)}`,Q[H])}}function*wx(J,Y,W,Q){if(!EX(Q))yield T0(W0.Promise,J,W,Q)}function*kx(J,Y,W,Q){if(!o1.IsRecordLike(Q))return yield T0(W0.Object,J,W,Q);if(H1(J.minProperties)&&!(Object.getOwnPropertyNames(Q).length>=J.minProperties))yield T0(W0.ObjectMinProperties,J,W,Q);if(H1(J.maxProperties)&&!(Object.getOwnPropertyNames(Q).length<=J.maxProperties))yield T0(W0.ObjectMaxProperties,J,W,Q);let[X,M]=Object.entries(J.patternProperties)[0],G=new RegExp(X);for(let[H,U]of Object.entries(Q))if(G.test(H))yield*$2(M,Y,`${W}/${s4(H)}`,U);if(typeof J.additionalProperties==="object"){for(let[H,U]of Object.entries(Q))if(!G.test(H))yield*$2(J.additionalProperties,Y,`${W}/${s4(H)}`,U)}if(J.additionalProperties===!1)for(let[H,U]of Object.entries(Q)){if(G.test(H))continue;return yield T0(W0.ObjectAdditionalProperties,J,`${W}/${s4(H)}`,U)}}function*xx(J,Y,W,Q){yield*$2(O1(J,Y),Y,W,Q)}function*gx(J,Y,W,Q){if(!D1(Q))return yield T0(W0.String,J,W,Q);if(H1(J.minLength)&&!(Q.length>=J.minLength))yield T0(W0.StringMinLength,J,W,Q);if(H1(J.maxLength)&&!(Q.length<=J.maxLength))yield T0(W0.StringMaxLength,J,W,Q);if(!new RegExp(J.source,J.flags).test(Q))return yield T0(W0.RegExp,J,W,Q)}function*yx(J,Y,W,Q){if(!D1(Q))return yield T0(W0.String,J,W,Q);if(H1(J.minLength)&&!(Q.length>=J.minLength))yield T0(W0.StringMinLength,J,W,Q);if(H1(J.maxLength)&&!(Q.length<=J.maxLength))yield T0(W0.StringMaxLength,J,W,Q);if(D1(J.pattern)){if(!new RegExp(J.pattern).test(Q))yield T0(W0.StringPattern,J,W,Q)}if(D1(J.format)){if(!_1.Has(J.format))yield T0(W0.StringFormatUnknown,J,W,Q);else if(!_1.Get(J.format)(Q))yield T0(W0.StringFormat,J,W,Q)}}function*fx(J,Y,W,Q){if(!u4(Q))yield T0(W0.Symbol,J,W,Q)}function*vx(J,Y,W,Q){if(!D1(Q))return yield T0(W0.String,J,W,Q);if(!new RegExp(J.pattern).test(Q))yield T0(W0.StringPattern,J,W,Q)}function*bx(J,Y,W,Q){yield*$2(O1(J,Y),Y,W,Q)}function*hx(J,Y,W,Q){if(!f0(Q))return yield T0(W0.Tuple,J,W,Q);if(J.items===void 0&&Q.length!==0)return yield T0(W0.TupleLength,J,W,Q);if(Q.length!==J.maxItems)return yield T0(W0.TupleLength,J,W,Q);if(!J.items)return;for(let X=0;X<J.items.length;X++)yield*$2(J.items[X],Y,`${W}/${X}`,Q[X])}function*mx(J,Y,W,Q){if(!J5(Q))yield T0(W0.Undefined,J,W,Q)}function*dx(J,Y,W,Q){if(Y1(J,Y,Q))return;let X=J.anyOf.map((M)=>new a9($2(M,Y,W,Q)));yield T0(W0.Union,J,W,Q,X)}function*cx(J,Y,W,Q){if(!iJ(Q))return yield T0(W0.Uint8Array,J,W,Q);if(H1(J.maxByteLength)&&!(Q.length<=J.maxByteLength))yield T0(W0.Uint8ArrayMaxByteLength,J,W,Q);if(H1(J.minByteLength)&&!(Q.length>=J.minByteLength))yield T0(W0.Uint8ArrayMinByteLength,J,W,Q)}function*ux(J,Y,W,Q){}function*px(J,Y,W,Q){if(!o1.IsVoidLike(Q))yield T0(W0.Void,J,W,Q)}function*nx(J,Y,W,Q){if(!o5.Get(J[n])(J,Q))yield T0(W0.Kind,J,W,Q)}function*$2(J,Y,W,Q){let X=H1(J.$id)?[...Y,J]:Y,M=J;switch(M[n]){case"Any":return yield*Nx(M,X,W,Q);case"Argument":return yield*qx(M,X,W,Q);case"Array":return yield*Dx(M,X,W,Q);case"AsyncIterator":return yield*Zx(M,X,W,Q);case"BigInt":return yield*Ox(M,X,W,Q);case"Boolean":return yield*Kx(M,X,W,Q);case"Constructor":return yield*zx(M,X,W,Q);case"Date":return yield*Lx(M,X,W,Q);case"Function":return yield*Sx(M,X,W,Q);case"Import":return yield*Vx(M,X,W,Q);case"Integer":return yield*Fx(M,X,W,Q);case"Intersect":return yield*Ex(M,X,W,Q);case"Iterator":return yield*jx(M,X,W,Q);case"Literal":return yield*Px(M,X,W,Q);case"Never":return yield*Cx(M,X,W,Q);case"Not":return yield*Ix(M,X,W,Q);case"Null":return yield*Rx(M,X,W,Q);case"Number":return yield*Tx(M,X,W,Q);case"Object":return yield*_x(M,X,W,Q);case"Promise":return yield*wx(M,X,W,Q);case"Record":return yield*kx(M,X,W,Q);case"Ref":return yield*xx(M,X,W,Q);case"RegExp":return yield*gx(M,X,W,Q);case"String":return yield*yx(M,X,W,Q);case"Symbol":return yield*fx(M,X,W,Q);case"TemplateLiteral":return yield*vx(M,X,W,Q);case"This":return yield*bx(M,X,W,Q);case"Tuple":return yield*hx(M,X,W,Q);case"Undefined":return yield*mx(M,X,W,Q);case"Union":return yield*dx(M,X,W,Q);case"Uint8Array":return yield*cx(M,X,W,Q);case"Unknown":return yield*ux(M,X,W,Q);case"Void":return yield*px(M,X,W,Q);default:if(!o5.Has(M[n]))throw new TO(J);return yield*nx(M,X,W,Q)}}function U4(...J){let Y=J.length===3?$2(J[0],J[1],"",J[2]):$2(J[0],[],"",J[1]);return new a9(Y)}var ix=function(J,Y,W,Q,X){if(Q==="m")throw new TypeError("Private method is not writable");if(Q==="a"&&!X)throw new TypeError("Private accessor was defined without a setter");if(typeof Y==="function"?J!==Y||!X:!Y.has(J))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Q==="a"?X.call(J,W):X?X.value=W:Y.set(J,W),W},wO=function(J,Y,W,Q){if(W==="a"&&!Q)throw new TypeError("Private accessor was defined without a getter");if(typeof Y==="function"?J!==Y||!Q:!Y.has(J))throw new TypeError("Cannot read private member from an object whose class did not declare it");return W==="m"?Q:W==="a"?Q.call(J):Q?Q.value:Y.get(J)},XU,lX,kO;class xO extends b0{constructor(J){let Y=J.First();super(Y===void 0?"Invalid Value":Y.message);XU.add(this),lX.set(this,void 0),ix(this,lX,J,"f"),this.error=Y}Errors(){return new a9(wO(this,XU,"m",kO).call(this))}}lX=new WeakMap,XU=new WeakSet,kO=function*J(){if(this.error)yield this.error;yield*wO(this,lX,"f")};function _O(J,Y,W){if(Y1(J,Y,W))return;throw new xO(U4(J,Y,W))}function oX(...J){return J.length===3?_O(J[0],J[1],J[2]):_O(J[0],[],J[1])}function lx(J){let Y={};for(let W of Object.getOwnPropertyNames(J))Y[W]=L1(J[W]);for(let W of Object.getOwnPropertySymbols(J))Y[W]=L1(J[W]);return Y}function ox(J){return J.map((Y)=>L1(Y))}function rx(J){return J.slice()}function ax(J){return new Map(L1([...J.entries()]))}function sx(J){return new Set(L1([...J.entries()]))}function tx(J){return new Date(J.toISOString())}function ex(J){return J}function L1(J){if(f0(J))return ox(J);if(i2(J))return tx(J);if(i8(J))return rx(J);if(JD(J))return ax(J);if(YD(J))return sx(J);if(l0(J))return lx(J);if(P8(J))return ex(J);throw new Error("ValueClone: Unable to clone value")}class J6 extends b0{constructor(J,Y){super(Y);this.schema=J}}function S1(J){return g7(J)?J():L1(J)}function Jg(J,Y){if(d0(J,"default"))return S1(J.default);else return{}}function Yg(J,Y){return{}}function Wg(J,Y){if(J.uniqueItems===!0&&!d0(J,"default"))throw new J6(J,"Array with the uniqueItems constraint requires a default value");else if("contains"in J&&!d0(J,"default"))throw new J6(J,"Array with the contains constraint requires a default value");else if("default"in J)return S1(J.default);else if(J.minItems!==void 0)return Array.from({length:J.minItems}).map((W)=>{return k8(J.items,Y)});else return[]}function Qg(J,Y){if(d0(J,"default"))return S1(J.default);else return async function*(){}()}function $g(J,Y){if(d0(J,"default"))return S1(J.default);else return BigInt(0)}function Xg(J,Y){if(d0(J,"default"))return S1(J.default);else return!1}function Mg(J,Y){if(d0(J,"default"))return S1(J.default);else{let W=k8(J.returns,Y);if(typeof W==="object"&&!Array.isArray(W))return class{constructor(){for(let[Q,X]of Object.entries(W)){let M=this;M[Q]=X}}};else return class{}}}function Gg(J,Y){if(d0(J,"default"))return S1(J.default);else if(J.minimumTimestamp!==void 0)return new Date(J.minimumTimestamp);else return new Date}function Hg(J,Y){if(d0(J,"default"))return S1(J.default);else return()=>k8(J.returns,Y)}function Ug(J,Y){let W=globalThis.Object.values(J.$defs),Q=J.$defs[J.$ref];return k8(Q,[...Y,...W])}function Bg(J,Y){if(d0(J,"default"))return S1(J.default);else if(J.minimum!==void 0)return J.minimum;else return 0}function Ag(J,Y){if(d0(J,"default"))return S1(J.default);else{let W=J.allOf.reduce((Q,X)=>{let M=k8(X,Y);return typeof M==="object"?{...Q,...M}:M},{});if(!Y1(J,Y,W))throw new J6(J,"Intersect produced invalid value. Consider using a default value.");return W}}function Ng(J,Y){if(d0(J,"default"))return S1(J.default);else return function*(){}()}function qg(J,Y){if(d0(J,"default"))return S1(J.default);else return J.const}function Dg(J,Y){if(d0(J,"default"))return S1(J.default);else throw new J6(J,"Never types cannot be created. Consider using a default value.")}function Zg(J,Y){if(d0(J,"default"))return S1(J.default);else throw new J6(J,"Not types must have a default value")}function Og(J,Y){if(d0(J,"default"))return S1(J.default);else return null}function Kg(J,Y){if(d0(J,"default"))return S1(J.default);else if(J.minimum!==void 0)return J.minimum;else return 0}function zg(J,Y){if(d0(J,"default"))return S1(J.default);else{let W=new Set(J.required),Q={};for(let[X,M]of Object.entries(J.properties)){if(!W.has(X))continue;Q[X]=k8(M,Y)}return Q}}function Lg(J,Y){if(d0(J,"default"))return S1(J.default);else return Promise.resolve(k8(J.item,Y))}function Sg(J,Y){if(d0(J,"default"))return S1(J.default);else return{}}function Vg(J,Y){if(d0(J,"default"))return S1(J.default);else return k8(O1(J,Y),Y)}function Fg(J,Y){if(d0(J,"default"))return S1(J.default);else throw new J6(J,"RegExp types cannot be created. Consider using a default value.")}function Eg(J,Y){if(J.pattern!==void 0)if(!d0(J,"default"))throw new J6(J,"String types with patterns must specify a default value");else return S1(J.default);else if(J.format!==void 0)if(!d0(J,"default"))throw new J6(J,"String types with formats must specify a default value");else return S1(J.default);else if(d0(J,"default"))return S1(J.default);else if(J.minLength!==void 0)return Array.from({length:J.minLength}).map(()=>" ").join("");else return""}function jg(J,Y){if(d0(J,"default"))return S1(J.default);else if("value"in J)return Symbol.for(J.value);else return Symbol()}function Pg(J,Y){if(d0(J,"default"))return S1(J.default);if(!RX(J))throw new J6(J,"Can only create template literals that produce a finite variants. Consider using a default value.");return YY(J)[0]}function Cg(J,Y){if(gO++>gg)throw new J6(J,"Cannot create recursive type as it appears possibly infinite. Consider using a default.");if(d0(J,"default"))return S1(J.default);else return k8(O1(J,Y),Y)}function Ig(J,Y){if(d0(J,"default"))return S1(J.default);if(J.items===void 0)return[];else return Array.from({length:J.minItems}).map((W,Q)=>k8(J.items[Q],Y))}function Rg(J,Y){if(d0(J,"default"))return S1(J.default);else return}function Tg(J,Y){if(d0(J,"default"))return S1(J.default);else if(J.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");else return k8(J.anyOf[0],Y)}function _g(J,Y){if(d0(J,"default"))return S1(J.default);else if(J.minByteLength!==void 0)return new Uint8Array(J.minByteLength);else return new Uint8Array(0)}function wg(J,Y){if(d0(J,"default"))return S1(J.default);else return{}}function kg(J,Y){if(d0(J,"default"))return S1(J.default);else return}function xg(J,Y){if(d0(J,"default"))return S1(J.default);else throw new Error("User defined types must specify a default value")}function k8(J,Y){let W=W2(J,Y),Q=J;switch(Q[n]){case"Any":return Jg(Q,W);case"Argument":return Yg(Q,W);case"Array":return Wg(Q,W);case"AsyncIterator":return Qg(Q,W);case"BigInt":return $g(Q,W);case"Boolean":return Xg(Q,W);case"Constructor":return Mg(Q,W);case"Date":return Gg(Q,W);case"Function":return Hg(Q,W);case"Import":return Ug(Q,W);case"Integer":return Bg(Q,W);case"Intersect":return Ag(Q,W);case"Iterator":return Ng(Q,W);case"Literal":return qg(Q,W);case"Never":return Dg(Q,W);case"Not":return Zg(Q,W);case"Null":return Og(Q,W);case"Number":return Kg(Q,W);case"Object":return zg(Q,W);case"Promise":return Lg(Q,W);case"Record":return Sg(Q,W);case"Ref":return Vg(Q,W);case"RegExp":return Fg(Q,W);case"String":return Eg(Q,W);case"Symbol":return jg(Q,W);case"TemplateLiteral":return Pg(Q,W);case"This":return Cg(Q,W);case"Tuple":return Ig(Q,W);case"Undefined":return Rg(Q,W);case"Union":return Tg(Q,W);case"Uint8Array":return _g(Q,W);case"Unknown":return wg(Q,W);case"Void":return kg(Q,W);default:if(!o5.Has(Q[n]))throw new J6(Q,"Unknown type");return xg(Q,W)}}var gg=512,gO=0;function _6(...J){return gO=0,J.length===2?k8(J[0],J[1]):k8(J[0],[])}class MU extends b0{constructor(J,Y){super(Y);this.schema=J}}function yO(J,Y,W){if(J[n]==="Object"&&typeof W==="object"&&!c4(W)){let Q=J,X=Object.getOwnPropertyNames(W);return Object.entries(Q.properties).reduce((G,[H,U])=>{let B=U[n]==="Literal"&&U.const===W[H]?100:0,A=Y1(U,Y,W[H])?10:0,N=X.includes(H)?1:0;return G+(B+A+N)},0)}else if(J[n]==="Union"){let X=J.anyOf.map((M)=>O1(M,Y)).map((M)=>yO(M,Y,W));return Math.max(...X)}else return Y1(J,Y,W)?1:0}function yg(J,Y,W){let Q=J.anyOf.map((G)=>O1(G,Y)),[X,M]=[Q[0],0];for(let G of Q){let H=yO(G,Y,W);if(H>M)X=G,M=H}return X}function fg(J,Y,W){if("default"in J)return typeof W==="function"?J.default:L1(J.default);else{let Q=yg(J,Y,W);return AQ(Q,Y,W)}}function vg(J,Y,W){return Y1(J,Y,W)?L1(W):_6(J,Y)}function bg(J,Y,W){return Y1(J,Y,W)?W:_6(J,Y)}function hg(J,Y,W){if(Y1(J,Y,W))return L1(W);let Q=f0(W)?L1(W):_6(J,Y),X=g0(J.minItems)&&Q.length<J.minItems?[...Q,...Array.from({length:J.minItems-Q.length},()=>null)]:Q,G=(g0(J.maxItems)&&X.length>J.maxItems?X.slice(0,J.maxItems):X).map((U)=>w6(J.items,Y,U));if(J.uniqueItems!==!0)return G;let H=[...new Set(G)];if(!Y1(J,Y,H))throw new MU(J,"Array cast produced invalid data due to uniqueItems constraint");return H}function mg(J,Y,W){if(Y1(J,Y,W))return _6(J,Y);let Q=new Set(J.returns.required||[]),X=function(){};for(let[M,G]of Object.entries(J.returns.properties)){if(!Q.has(M)&&W.prototype[M]===void 0)continue;X.prototype[M]=w6(G,Y,W.prototype[M])}return X}function dg(J,Y,W){let Q=globalThis.Object.values(J.$defs),X=J.$defs[J.$ref];return w6(X,[...Y,...Q],W)}function fO(J,Y){if(l0(J)&&!l0(Y)||!l0(J)&&l0(Y))return J;if(!l0(J)||!l0(Y))return Y;return globalThis.Object.getOwnPropertyNames(J).reduce((W,Q)=>{let X=Q in Y?fO(J[Q],Y[Q]):J[Q];return{...W,[Q]:X}},{})}function cg(J,Y,W){if(Y1(J,Y,W))return W;let Q=_6(J,Y),X=fO(Q,W);return Y1(J,Y,X)?X:Q}function ug(J,Y,W){throw new MU(J,"Never types cannot be cast")}function pg(J,Y,W){if(Y1(J,Y,W))return W;if(W===null||typeof W!=="object")return _6(J,Y);let Q=new Set(J.required||[]),X={};for(let[M,G]of Object.entries(J.properties)){if(!Q.has(M)&&W[M]===void 0)continue;X[M]=w6(G,Y,W[M])}if(typeof J.additionalProperties==="object"){let M=Object.getOwnPropertyNames(J.properties);for(let G of Object.getOwnPropertyNames(W)){if(M.includes(G))continue;X[G]=w6(J.additionalProperties,Y,W[G])}}return X}function ng(J,Y,W){if(Y1(J,Y,W))return L1(W);if(W===null||typeof W!=="object"||Array.isArray(W)||W instanceof Date)return _6(J,Y);let Q=Object.getOwnPropertyNames(J.patternProperties)[0],X=J.patternProperties[Q],M={};for(let[G,H]of Object.entries(W))M[G]=w6(X,Y,H);return M}function ig(J,Y,W){return w6(O1(J,Y),Y,W)}function lg(J,Y,W){return w6(O1(J,Y),Y,W)}function og(J,Y,W){if(Y1(J,Y,W))return L1(W);if(!f0(W))return _6(J,Y);if(J.items===void 0)return[];return J.items.map((Q,X)=>w6(Q,Y,W[X]))}function rg(J,Y,W){return Y1(J,Y,W)?L1(W):fg(J,Y,W)}function w6(J,Y,W){let Q=D1(J.$id)?W2(J,Y):Y,X=J;switch(J[n]){case"Array":return hg(X,Q,W);case"Constructor":return mg(X,Q,W);case"Import":return dg(X,Q,W);case"Intersect":return cg(X,Q,W);case"Never":return ug(X,Q,W);case"Object":return pg(X,Q,W);case"Record":return ng(X,Q,W);case"Ref":return ig(X,Q,W);case"This":return lg(X,Q,W);case"Tuple":return og(X,Q,W);case"Union":return rg(X,Q,W);case"Date":case"Symbol":case"Uint8Array":return vg(J,Y,W);default:return bg(X,Q,W)}}function AQ(...J){return J.length===3?w6(J[0],J[1],J[2]):w6(J[0],[],J[1])}function ag(J){return f7(J)&&J[n]!=="Unsafe"}function sg(J,Y,W){if(!f0(W))return W;return W.map((Q)=>B8(J.items,Y,Q))}function tg(J,Y,W){let Q=globalThis.Object.values(J.$defs),X=J.$defs[J.$ref];return B8(X,[...Y,...Q],W)}function eg(J,Y,W){let Q=J.unevaluatedProperties,M=J.allOf.map((H)=>B8(H,Y,L1(W))).reduce((H,U)=>l0(U)?{...H,...U}:U,{});if(!l0(W)||!l0(M)||!f7(Q))return M;let G=H8(J);for(let H of Object.getOwnPropertyNames(W)){if(G.includes(H))continue;if(Y1(Q,Y,W[H]))M[H]=B8(Q,Y,W[H])}return M}function Jy(J,Y,W){if(!l0(W)||f0(W))return W;let Q=J.additionalProperties;for(let X of Object.getOwnPropertyNames(W)){if(d0(J.properties,X)){W[X]=B8(J.properties[X],Y,W[X]);continue}if(f7(Q)&&Y1(Q,Y,W[X])){W[X]=B8(Q,Y,W[X]);continue}delete W[X]}return W}function Yy(J,Y,W){if(!l0(W))return W;let Q=J.additionalProperties,X=Object.getOwnPropertyNames(W),[M,G]=Object.entries(J.patternProperties)[0],H=new RegExp(M);for(let U of X){if(H.test(U)){W[U]=B8(G,Y,W[U]);continue}if(f7(Q)&&Y1(Q,Y,W[U])){W[U]=B8(Q,Y,W[U]);continue}delete W[U]}return W}function Wy(J,Y,W){return B8(O1(J,Y),Y,W)}function Qy(J,Y,W){return B8(O1(J,Y),Y,W)}function $y(J,Y,W){if(!f0(W))return W;if(J5(J.items))return[];let Q=Math.min(W.length,J.items.length);for(let X=0;X<Q;X++)W[X]=B8(J.items[X],Y,W[X]);return W.length>Q?W.slice(0,Q):W}function Xy(J,Y,W){for(let Q of J.anyOf)if(ag(Q)&&Y1(Q,Y,W))return B8(Q,Y,W);return W}function B8(J,Y,W){let Q=D1(J.$id)?W2(J,Y):Y,X=J;switch(X[n]){case"Array":return sg(X,Q,W);case"Import":return tg(X,Q,W);case"Intersect":return eg(X,Q,W);case"Object":return Jy(X,Q,W);case"Record":return Yy(X,Q,W);case"Ref":return Wy(X,Q,W);case"This":return Qy(X,Q,W);case"Tuple":return $y(X,Q,W);case"Union":return Xy(X,Q,W);default:return W}}function rX(...J){return J.length===3?B8(J[0],J[1],J[2]):B8(J[0],[],J[1])}function aX(J){return D1(J)&&!isNaN(J)&&!isNaN(parseFloat(J))}function My(J){return q2(J)||M4(J)||g0(J)}function NQ(J){return J===!0||g0(J)&&J===1||q2(J)&&J===BigInt("1")||D1(J)&&(J.toLowerCase()==="true"||J==="1")}function qQ(J){return J===!1||g0(J)&&(J===0||Object.is(J,-0))||q2(J)&&J===BigInt("0")||D1(J)&&(J.toLowerCase()==="false"||J==="0"||J==="-0")}function Gy(J){return D1(J)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(J)}function Hy(J){return D1(J)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(J)}function Uy(J){return D1(J)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(J)}function By(J){return D1(J)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(J)}function Ay(J){return D1(J)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(J)}function Ny(J,Y){let W=bO(J);return W===Y?W:J}function qy(J,Y){let W=hO(J);return W===Y?W:J}function Dy(J,Y){let W=vO(J);return W===Y?W:J}function Zy(J,Y){return D1(J.const)?Ny(Y,J.const):g0(J.const)?qy(Y,J.const):M4(J.const)?Dy(Y,J.const):Y}function vO(J){return NQ(J)?!0:qQ(J)?!1:J}function Oy(J){let Y=(W)=>W.split(".")[0];return aX(J)?BigInt(Y(J)):g0(J)?BigInt(Math.trunc(J)):qQ(J)?BigInt(0):NQ(J)?BigInt(1):J}function bO(J){return u4(J)&&J.description!==void 0?J.description.toString():My(J)?J.toString():J}function hO(J){return aX(J)?parseFloat(J):NQ(J)?1:qQ(J)?0:J}function Ky(J){return aX(J)?parseInt(J):g0(J)?Math.trunc(J):NQ(J)?1:qQ(J)?0:J}function zy(J){return D1(J)&&J.toLowerCase()==="null"?null:J}function Ly(J){return D1(J)&&J==="undefined"?void 0:J}function Sy(J){return i2(J)?J:g0(J)?new Date(J):NQ(J)?new Date(1):qQ(J)?new Date(0):aX(J)?new Date(parseInt(J)):Hy(J)?new Date(`1970-01-01T${J}.000Z`):Gy(J)?new Date(`1970-01-01T${J}`):By(J)?new Date(`${J}.000Z`):Uy(J)?new Date(J):Ay(J)?new Date(`${J}T00:00:00.000Z`):J}function Vy(J){return J}function Fy(J,Y,W){return(f0(W)?W:[W]).map((X)=>k6(J.items,Y,X))}function Ey(J,Y,W){return Oy(W)}function jy(J,Y,W){return vO(W)}function Py(J,Y,W){return Sy(W)}function Cy(J,Y,W){let Q=globalThis.Object.values(J.$defs),X=J.$defs[J.$ref];return k6(X,[...Y,...Q],W)}function Iy(J,Y,W){return Ky(W)}function Ry(J,Y,W){return J.allOf.reduce((Q,X)=>k6(X,Y,Q),W)}function Ty(J,Y,W){return Zy(J,W)}function _y(J,Y,W){return zy(W)}function wy(J,Y,W){return hO(W)}function ky(J,Y,W){if(!l0(W)||f0(W))return W;for(let Q of Object.getOwnPropertyNames(J.properties)){if(!d0(W,Q))continue;W[Q]=k6(J.properties[Q],Y,W[Q])}return W}function xy(J,Y,W){if(!(l0(W)&&!f0(W)))return W;let X=Object.getOwnPropertyNames(J.patternProperties)[0],M=J.patternProperties[X];for(let[G,H]of Object.entries(W))W[G]=k6(M,Y,H);return W}function gy(J,Y,W){return k6(O1(J,Y),Y,W)}function yy(J,Y,W){return bO(W)}function fy(J,Y,W){return D1(W)||g0(W)?Symbol(W):W}function vy(J,Y,W){return k6(O1(J,Y),Y,W)}function by(J,Y,W){if(!(f0(W)&&!J5(J.items)))return W;return W.map((X,M)=>{return M<J.items.length?k6(J.items[M],Y,X):X})}function hy(J,Y,W){return Ly(W)}function my(J,Y,W){for(let Q of J.anyOf)if(Y1(Q,Y,W))return W;for(let Q of J.anyOf){let X=k6(Q,Y,L1(W));if(!Y1(Q,Y,X))continue;return X}return W}function k6(J,Y,W){let Q=W2(J,Y),X=J;switch(J[n]){case"Array":return Fy(X,Q,W);case"BigInt":return Ey(X,Q,W);case"Boolean":return jy(X,Q,W);case"Date":return Py(X,Q,W);case"Import":return Cy(X,Q,W);case"Integer":return Iy(X,Q,W);case"Intersect":return Ry(X,Q,W);case"Literal":return Ty(X,Q,W);case"Null":return _y(X,Q,W);case"Number":return wy(X,Q,W);case"Object":return ky(X,Q,W);case"Record":return xy(X,Q,W);case"Ref":return gy(X,Q,W);case"String":return yy(X,Q,W);case"Symbol":return fy(X,Q,W);case"This":return vy(X,Q,W);case"Tuple":return by(X,Q,W);case"Undefined":return hy(X,Q,W);case"Union":return my(X,Q,W);default:return Vy(W)}}function sX(...J){return J.length===3?k6(J[0],J[1],J[2]):k6(J[0],[],J[1])}class DQ extends b0{constructor(J,Y,W){super("Unable to decode value as it does not match the expected schema");this.schema=J,this.value=Y,this.error=W}}class tX extends b0{constructor(J,Y,W,Q){super(Q instanceof Error?Q.message:"Unknown error");this.schema=J,this.path=Y,this.value=W,this.error=Q}}function G5(J,Y,W){try{return j1(J)?J[m1].Decode(W):W}catch(Q){throw new tX(J,Y,W,Q)}}function dy(J,Y,W,Q){return f0(Q)?G5(J,W,Q.map((X,M)=>x6(J.items,Y,`${W}/${M}`,X))):G5(J,W,Q)}function cy(J,Y,W,Q){if(!l0(Q)||P8(Q))return G5(J,W,Q);let X=xX(J),M=X.map((A)=>A[0]),G={...Q};for(let[A,N]of X)if(A in G)G[A]=x6(N,Y,`${W}/${A}`,G[A]);if(!j1(J.unevaluatedProperties))return G5(J,W,G);let H=Object.getOwnPropertyNames(G),U=J.unevaluatedProperties,B={...G};for(let A of H)if(!M.includes(A))B[A]=G5(U,`${W}/${A}`,B[A]);return G5(J,W,B)}function uy(J,Y,W,Q){let X=globalThis.Object.values(J.$defs),M=J.$defs[J.$ref],G=x6(M,[...Y,...X],W,Q);return G5(J,W,G)}function py(J,Y,W,Q){return G5(J,W,x6(J.not,Y,W,Q))}function ny(J,Y,W,Q){if(!l0(Q))return G5(J,W,Q);let X=H8(J),M={...Q};for(let B of X){if(!d0(M,B))continue;if(J5(M[B])&&(!i4(J.properties[B])||o1.IsExactOptionalProperty(M,B)))continue;M[B]=x6(J.properties[B],Y,`${W}/${B}`,M[B])}if(!M5(J.additionalProperties))return G5(J,W,M);let G=Object.getOwnPropertyNames(M),H=J.additionalProperties,U={...M};for(let B of G)if(!X.includes(B))U[B]=G5(H,`${W}/${B}`,U[B]);return G5(J,W,U)}function iy(J,Y,W,Q){if(!l0(Q))return G5(J,W,Q);let X=Object.getOwnPropertyNames(J.patternProperties)[0],M=new RegExp(X),G={...Q};for(let A of Object.getOwnPropertyNames(Q))if(M.test(A))G[A]=x6(J.patternProperties[X],Y,`${W}/${A}`,G[A]);if(!M5(J.additionalProperties))return G5(J,W,G);let H=Object.getOwnPropertyNames(G),U=J.additionalProperties,B={...G};for(let A of H)if(!M.test(A))B[A]=G5(U,`${W}/${A}`,B[A]);return G5(J,W,B)}function ly(J,Y,W,Q){let X=O1(J,Y);return G5(J,W,x6(X,Y,W,Q))}function oy(J,Y,W,Q){let X=O1(J,Y);return G5(J,W,x6(X,Y,W,Q))}function ry(J,Y,W,Q){return f0(Q)&&f0(J.items)?G5(J,W,J.items.map((X,M)=>x6(X,Y,`${W}/${M}`,Q[M]))):G5(J,W,Q)}function ay(J,Y,W,Q){for(let X of J.anyOf){if(!Y1(X,Y,Q))continue;let M=x6(X,Y,W,Q);return G5(J,W,M)}return G5(J,W,Q)}function x6(J,Y,W,Q){let X=W2(J,Y),M=J;switch(J[n]){case"Array":return dy(M,X,W,Q);case"Import":return uy(M,X,W,Q);case"Intersect":return cy(M,X,W,Q);case"Not":return py(M,X,W,Q);case"Object":return ny(M,X,W,Q);case"Record":return iy(M,X,W,Q);case"Ref":return ly(M,X,W,Q);case"Symbol":return G5(M,W,Q);case"This":return oy(M,X,W,Q);case"Tuple":return ry(M,X,W,Q);case"Union":return ay(M,X,W,Q);default:return G5(M,W,Q)}}function DY(J,Y,W){return x6(J,Y,"",W)}class ZQ extends b0{constructor(J,Y,W){super("The encoded value does not match the expected schema");this.schema=J,this.value=Y,this.error=W}}class mO extends b0{constructor(J,Y,W,Q){super(`${Q instanceof Error?Q.message:"Unknown error"}`);this.schema=J,this.path=Y,this.value=W,this.error=Q}}function D2(J,Y,W){try{return j1(J)?J[m1].Encode(W):W}catch(Q){throw new mO(J,Y,W,Q)}}function sy(J,Y,W,Q){let X=D2(J,W,Q);return f0(X)?X.map((M,G)=>g6(J.items,Y,`${W}/${G}`,M)):X}function ty(J,Y,W,Q){let X=globalThis.Object.values(J.$defs),M=J.$defs[J.$ref],G=D2(J,W,Q);return g6(M,[...Y,...X],W,G)}function ey(J,Y,W,Q){let X=D2(J,W,Q);if(!l0(Q)||P8(Q))return X;let M=xX(J),G=M.map((N)=>N[0]),H={...X};for(let[N,D]of M)if(N in H)H[N]=g6(D,Y,`${W}/${N}`,H[N]);if(!j1(J.unevaluatedProperties))return H;let U=Object.getOwnPropertyNames(H),B=J.unevaluatedProperties,A={...H};for(let N of U)if(!G.includes(N))A[N]=D2(B,`${W}/${N}`,A[N]);return A}function Jf(J,Y,W,Q){return D2(J.not,W,D2(J,W,Q))}function Yf(J,Y,W,Q){let X=D2(J,W,Q);if(!l0(X))return X;let M=H8(J),G={...X};for(let A of M){if(!d0(G,A))continue;if(J5(G[A])&&(!i4(J.properties[A])||o1.IsExactOptionalProperty(G,A)))continue;G[A]=g6(J.properties[A],Y,`${W}/${A}`,G[A])}if(!M5(J.additionalProperties))return G;let H=Object.getOwnPropertyNames(G),U=J.additionalProperties,B={...G};for(let A of H)if(!M.includes(A))B[A]=D2(U,`${W}/${A}`,B[A]);return B}function Wf(J,Y,W,Q){let X=D2(J,W,Q);if(!l0(Q))return X;let M=Object.getOwnPropertyNames(J.patternProperties)[0],G=new RegExp(M),H={...X};for(let N of Object.getOwnPropertyNames(Q))if(G.test(N))H[N]=g6(J.patternProperties[M],Y,`${W}/${N}`,H[N]);if(!M5(J.additionalProperties))return H;let U=Object.getOwnPropertyNames(H),B=J.additionalProperties,A={...H};for(let N of U)if(!G.test(N))A[N]=D2(B,`${W}/${N}`,A[N]);return A}function Qf(J,Y,W,Q){let X=O1(J,Y),M=g6(X,Y,W,Q);return D2(J,W,M)}function $f(J,Y,W,Q){let X=O1(J,Y),M=g6(X,Y,W,Q);return D2(J,W,M)}function Xf(J,Y,W,Q){let X=D2(J,W,Q);return f0(J.items)?J.items.map((M,G)=>g6(M,Y,`${W}/${G}`,X[G])):[]}function Mf(J,Y,W,Q){for(let X of J.anyOf){if(!Y1(X,Y,Q))continue;let M=g6(X,Y,W,Q);return D2(J,W,M)}for(let X of J.anyOf){let M=g6(X,Y,W,Q);if(!Y1(J,Y,M))continue;return D2(J,W,M)}return D2(J,W,Q)}function g6(J,Y,W,Q){let X=W2(J,Y),M=J;switch(J[n]){case"Array":return sy(M,X,W,Q);case"Import":return ty(M,X,W,Q);case"Intersect":return ey(M,X,W,Q);case"Not":return Jf(M,X,W,Q);case"Object":return Yf(M,X,W,Q);case"Record":return Wf(M,X,W,Q);case"Ref":return Qf(M,X,W,Q);case"This":return $f(M,X,W,Q);case"Tuple":return Xf(M,X,W,Q);case"Union":return Mf(M,X,W,Q);default:return D2(M,W,Q)}}function ZY(J,Y,W){return g6(J,Y,"",W)}function Gf(J,Y){return j1(J)||r5(J.items,Y)}function Hf(J,Y){return j1(J)||r5(J.items,Y)}function Uf(J,Y){return j1(J)||r5(J.returns,Y)||J.parameters.some((W)=>r5(W,Y))}function Bf(J,Y){return j1(J)||r5(J.returns,Y)||J.parameters.some((W)=>r5(W,Y))}function Af(J,Y){return j1(J)||j1(J.unevaluatedProperties)||J.allOf.some((W)=>r5(W,Y))}function Nf(J,Y){let W=globalThis.Object.getOwnPropertyNames(J.$defs).reduce((X,M)=>[...X,J.$defs[M]],[]),Q=J.$defs[J.$ref];return j1(J)||r5(Q,[...W,...Y])}function qf(J,Y){return j1(J)||r5(J.items,Y)}function Df(J,Y){return j1(J)||r5(J.not,Y)}function Zf(J,Y){return j1(J)||Object.values(J.properties).some((W)=>r5(W,Y))||M5(J.additionalProperties)&&r5(J.additionalProperties,Y)}function Of(J,Y){return j1(J)||r5(J.item,Y)}function Kf(J,Y){let W=Object.getOwnPropertyNames(J.patternProperties)[0],Q=J.patternProperties[W];return j1(J)||r5(Q,Y)||M5(J.additionalProperties)&&j1(J.additionalProperties)}function zf(J,Y){if(j1(J))return!0;return r5(O1(J,Y),Y)}function Lf(J,Y){if(j1(J))return!0;return r5(O1(J,Y),Y)}function Sf(J,Y){return j1(J)||!J5(J.items)&&J.items.some((W)=>r5(W,Y))}function Vf(J,Y){return j1(J)||J.anyOf.some((W)=>r5(W,Y))}function r5(J,Y){let W=W2(J,Y),Q=J;if(J.$id&&GU.has(J.$id))return!1;if(J.$id)GU.add(J.$id);switch(J[n]){case"Array":return Gf(Q,W);case"AsyncIterator":return Hf(Q,W);case"Constructor":return Uf(Q,W);case"Function":return Bf(Q,W);case"Import":return Nf(Q,W);case"Intersect":return Af(Q,W);case"Iterator":return qf(Q,W);case"Not":return Df(Q,W);case"Object":return Zf(Q,W);case"Promise":return Of(Q,W);case"Record":return Kf(Q,W);case"Ref":return zf(Q,W);case"This":return Lf(Q,W);case"Tuple":return Sf(Q,W);case"Union":return Vf(Q,W);default:return j1(J)}}var GU=new Set;function t4(J,Y){return GU.clear(),r5(J,Y)}function dO(...J){let[Y,W,Q]=J.length===3?[J[0],J[1],J[2]]:[J[0],[],J[1]];if(!Y1(Y,W,Q))throw new DQ(Y,Q,U4(Y,W,Q).First());return t4(Y,W)?DY(Y,W,Q):Q}function e4(J,Y){let W=d0(J,"default")?J.default:void 0,Q=g7(W)?W():L1(W);return J5(Y)?Q:l0(Y)&&l0(Q)?Object.assign(Q,Y):Y}function HU(J){return f7(J)&&"default"in J}function Ff(J,Y,W){if(f0(W)){for(let X=0;X<W.length;X++)W[X]=o2(J.items,Y,W[X]);return W}let Q=e4(J,W);if(!f0(Q))return Q;for(let X=0;X<Q.length;X++)Q[X]=o2(J.items,Y,Q[X]);return Q}function Ef(J,Y,W){return i2(W)?W:e4(J,W)}function jf(J,Y,W){let Q=globalThis.Object.values(J.$defs),X=J.$defs[J.$ref];return o2(X,[...Y,...Q],W)}function Pf(J,Y,W){let Q=e4(J,W);return J.allOf.reduce((X,M)=>{let G=o2(M,Y,Q);return l0(G)?{...X,...G}:G},{})}function Cf(J,Y,W){let Q=e4(J,W);if(!l0(Q))return Q;let X=Object.getOwnPropertyNames(J.properties);for(let M of X){let G=o2(J.properties[M],Y,Q[M]);if(J5(G))continue;Q[M]=o2(J.properties[M],Y,Q[M])}if(!HU(J.additionalProperties))return Q;for(let M of Object.getOwnPropertyNames(Q)){if(X.includes(M))continue;Q[M]=o2(J.additionalProperties,Y,Q[M])}return Q}function If(J,Y,W){let Q=e4(J,W);if(!l0(Q))return Q;let X=J.additionalProperties,[M,G]=Object.entries(J.patternProperties)[0],H=new RegExp(M);for(let U of Object.getOwnPropertyNames(Q)){if(!(H.test(U)&&HU(G)))continue;Q[U]=o2(G,Y,Q[U])}if(!HU(X))return Q;for(let U of Object.getOwnPropertyNames(Q)){if(H.test(U))continue;Q[U]=o2(X,Y,Q[U])}return Q}function Rf(J,Y,W){return o2(O1(J,Y),Y,e4(J,W))}function Tf(J,Y,W){return o2(O1(J,Y),Y,W)}function _f(J,Y,W){let Q=e4(J,W);if(!f0(Q)||J5(J.items))return Q;let[X,M]=[J.items,Math.max(J.items.length,Q.length)];for(let G=0;G<M;G++)if(G<X.length)Q[G]=o2(X[G],Y,Q[G]);return Q}function wf(J,Y,W){let Q=e4(J,W);for(let X of J.anyOf){let M=o2(X,Y,L1(Q));if(Y1(X,Y,M))return M}return Q}function o2(J,Y,W){let Q=W2(J,Y),X=J;switch(X[n]){case"Array":return Ff(X,Q,W);case"Date":return Ef(X,Q,W);case"Import":return jf(X,Q,W);case"Intersect":return Pf(X,Q,W);case"Object":return Cf(X,Q,W);case"Record":return If(X,Q,W);case"Ref":return Rf(X,Q,W);case"This":return Tf(X,Q,W);case"Tuple":return _f(X,Q,W);case"Union":return wf(X,Q,W);default:return e4(X,W)}}function eX(...J){return J.length===3?o2(J[0],J[1],J[2]):o2(J[0],[],J[1])}var y6={};h4(y6,{ValuePointerRootSetError:()=>UU,ValuePointerRootDeleteError:()=>BU,Set:()=>kf,Has:()=>gf,Get:()=>yf,Format:()=>OQ,Delete:()=>xf});class UU extends b0{constructor(J,Y,W){super("Cannot set root value");this.value=J,this.path=Y,this.update=W}}class BU extends b0{constructor(J,Y){super("Cannot delete root value");this.value=J,this.path=Y}}function cO(J){return J.indexOf("~")===-1?J:J.replace(/~1/g,"/").replace(/~0/g,"~")}function*OQ(J){if(J==="")return;let[Y,W]=[0,0];for(let Q=0;Q<J.length;Q++)if(J.charAt(Q)==="/")if(Q===0)Y=Q+1;else W=Q,yield cO(J.slice(Y,W)),Y=Q+1;else W=Q;yield cO(J.slice(Y))}function kf(J,Y,W){if(Y==="")throw new UU(J,Y,W);let[Q,X,M]=[null,J,""];for(let G of OQ(Y)){if(X[G]===void 0)X[G]={};Q=X,X=X[G],M=G}Q[M]=W}function xf(J,Y){if(Y==="")throw new BU(J,Y);let[W,Q,X]=[null,J,""];for(let M of OQ(Y)){if(Q[M]===void 0||Q[M]===null)return;W=Q,Q=Q[M],X=M}if(Array.isArray(W)){let M=parseInt(X);W.splice(M,1)}else delete W[X]}function gf(J,Y){if(Y==="")return!0;let[W,Q,X]=[null,J,""];for(let M of OQ(Y)){if(Q[M]===void 0)return!1;W=Q,Q=Q[M],X=M}return Object.getOwnPropertyNames(W).includes(X)}function yf(J,Y){if(Y==="")return J;let W=J;for(let Q of OQ(Y)){if(W[Q]===void 0)return;W=W[Q]}return W}function ff(J,Y){if(!l0(Y))return!1;let W=[...Object.keys(J),...Object.getOwnPropertySymbols(J)],Q=[...Object.keys(Y),...Object.getOwnPropertySymbols(Y)];if(W.length!==Q.length)return!1;return W.every((X)=>s9(J[X],Y[X]))}function vf(J,Y){return i2(Y)&&J.getTime()===Y.getTime()}function bf(J,Y){if(!f0(Y)||J.length!==Y.length)return!1;return J.every((W,Q)=>s9(W,Y[Q]))}function hf(J,Y){if(!i8(Y)||J.length!==Y.length||Object.getPrototypeOf(J).constructor.name!==Object.getPrototypeOf(Y).constructor.name)return!1;return J.every((W,Q)=>s9(W,Y[Q]))}function mf(J,Y){return J===Y}function s9(J,Y){if(i2(J))return vf(J,Y);if(i8(J))return hf(J,Y);if(f0(J))return bf(J,Y);if(l0(J))return ff(J,Y);if(P8(J))return mf(J,Y);throw new Error("ValueEquals: Unable to compare value")}var df=C1({type:N1("insert"),path:l2(),value:C6()}),cf=C1({type:N1("update"),path:l2(),value:C6()}),uf=C1({type:N1("delete"),path:l2()}),pO=P1([df,cf,uf]);class AU extends b0{constructor(J,Y){super(Y);this.value=J}}function JM(J,Y){return{type:"update",path:J,value:Y}}function nO(J,Y){return{type:"insert",path:J,value:Y}}function iO(J){return{type:"delete",path:J}}function uO(J){if(globalThis.Object.getOwnPropertySymbols(J).length>0)throw new AU(J,"Cannot diff objects with symbols")}function*pf(J,Y,W){if(uO(Y),uO(W),!fH(W))return yield JM(J,W);let Q=globalThis.Object.getOwnPropertyNames(Y),X=globalThis.Object.getOwnPropertyNames(W);for(let M of X){if(d0(Y,M))continue;yield nO(`${J}/${M}`,W[M])}for(let M of Q){if(!d0(W,M))continue;if(s9(Y,W))continue;yield*YM(`${J}/${M}`,Y[M],W[M])}for(let M of Q){if(d0(W,M))continue;yield iO(`${J}/${M}`)}}function*nf(J,Y,W){if(!f0(W))return yield JM(J,W);for(let Q=0;Q<Math.min(Y.length,W.length);Q++)yield*YM(`${J}/${Q}`,Y[Q],W[Q]);for(let Q=0;Q<W.length;Q++){if(Q<Y.length)continue;yield nO(`${J}/${Q}`,W[Q])}for(let Q=Y.length-1;Q>=0;Q--){if(Q<W.length)continue;yield iO(`${J}/${Q}`)}}function*lf(J,Y,W){if(!i8(W)||Y.length!==W.length||globalThis.Object.getPrototypeOf(Y).constructor.name!==globalThis.Object.getPrototypeOf(W).constructor.name)return yield JM(J,W);for(let Q=0;Q<Math.min(Y.length,W.length);Q++)yield*YM(`${J}/${Q}`,Y[Q],W[Q])}function*of(J,Y,W){if(Y===W)return;yield JM(J,W)}function*YM(J,Y,W){if(fH(Y))return yield*pf(J,Y,W);if(f0(Y))return yield*nf(J,Y,W);if(i8(Y))return yield*lf(J,Y,W);if(P8(Y))return yield*of(J,Y,W);throw new AU(Y,"Unable to diff value")}function lO(J,Y){return[...YM("",J,Y)]}function rf(J){return J.length>0&&J[0].path===""&&J[0].type==="update"}function af(J){return J.length===0}function oO(J,Y){if(rf(Y))return L1(Y[0].value);if(af(Y))return L1(J);let W=L1(J);for(let Q of Y)switch(Q.type){case"insert":{y6.Set(W,Q.path,Q.value);break}case"update":{y6.Set(W,Q.path,Q.value);break}case"delete":{y6.Delete(W,Q.path);break}}return W}function rO(...J){let[Y,W,Q]=J.length===3?[J[0],J[1],J[2]]:[J[0],[],J[1]],X=t4(Y,W)?ZY(Y,W,Q):Q;if(!Y1(Y,W,X))throw new ZQ(Y,X,U4(Y,W,X).First());return X}function WM(J){return l0(J)&&!f0(J)}class NU extends b0{constructor(J){super(J)}}function sf(J,Y,W,Q){if(!WM(W))y6.Set(J,Y,L1(Q));else{let X=Object.getOwnPropertyNames(W),M=Object.getOwnPropertyNames(Q);for(let G of X)if(!M.includes(G))delete W[G];for(let G of M)if(!X.includes(G))W[G]=null;for(let G of M)qU(J,`${Y}/${G}`,W[G],Q[G])}}function tf(J,Y,W,Q){if(!f0(W))y6.Set(J,Y,L1(Q));else{for(let X=0;X<Q.length;X++)qU(J,`${Y}/${X}`,W[X],Q[X]);W.splice(Q.length)}}function ef(J,Y,W,Q){if(i8(W)&&W.length===Q.length)for(let X=0;X<W.length;X++)W[X]=Q[X];else y6.Set(J,Y,L1(Q))}function Jv(J,Y,W,Q){if(W===Q)return;y6.Set(J,Y,Q)}function qU(J,Y,W,Q){if(f0(Q))return tf(J,Y,W,Q);if(i8(Q))return ef(J,Y,W,Q);if(WM(Q))return sf(J,Y,W,Q);if(P8(Q))return Jv(J,Y,W,Q)}function aO(J){return i8(J)||P8(J)}function Yv(J,Y){return WM(J)&&f0(Y)||f0(J)&&WM(Y)}function sO(J,Y){if(aO(J)||aO(Y))throw new NU("Only object and array types can be mutated at the root level");if(Yv(J,Y))throw new NU("Cannot assign due type mismatch of assignable values");qU(J,"",J,Y)}class ZU extends b0{constructor(J){super(J)}}var DU;(function(J){let Y=new Map([["Assert",(M,G,H)=>{return oX(M,G,H),H}],["Cast",(M,G,H)=>AQ(M,G,H)],["Clean",(M,G,H)=>rX(M,G,H)],["Clone",(M,G,H)=>L1(H)],["Convert",(M,G,H)=>sX(M,G,H)],["Decode",(M,G,H)=>t4(M,G)?DY(M,G,H):H],["Default",(M,G,H)=>eX(M,G,H)],["Encode",(M,G,H)=>t4(M,G)?ZY(M,G,H):H]]);function W(M){Y.delete(M)}J.Delete=W;function Q(M,G){Y.set(M,G)}J.Set=Q;function X(M){return Y.get(M)}J.Get=X})(DU||(DU={}));var tO=["Clone","Clean","Default","Convert","Assert","Decode"];function Wv(J,Y,W,Q){return J.reduce((X,M)=>{let G=DU.Get(M);if(J5(G))throw new ZU(`Unable to find Parse operation '${M}'`);return G(Y,W,X)},Q)}function eO(...J){let[Y,W,Q,X]=J.length===4?[J[0],J[1],J[2],J[3]]:J.length===3?f0(J[0])?[J[0],J[1],[],J[2]]:[tO,J[0],J[1],J[2]]:J.length===2?[tO,J[0],[],J[1]]:(()=>{throw new ZU("Invalid Arguments")})();return Wv(Y,W,Q,X)}var f1={};h4(f1,{ValueErrorIterator:()=>a9,Patch:()=>oO,Parse:()=>eO,Mutate:()=>sO,Hash:()=>p7,Errors:()=>U4,Equal:()=>s9,Encode:()=>rO,Edit:()=>pO,Diff:()=>lO,Default:()=>eX,Decode:()=>dO,Create:()=>_6,Convert:()=>sX,Clone:()=>L1,Clean:()=>rX,Check:()=>Y1,Cast:()=>AQ,Assert:()=>oX});class JK{constructor(J,Y,W,Q){this.schema=J,this.references=Y,this.checkFunc=W,this.code=Q,this.hasTransform=t4(J,Y)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors(J){return U4(this.schema,this.references,J)}Check(J){return this.checkFunc(J)}Decode(J){if(!this.checkFunc(J))throw new DQ(this.schema,J,this.Errors(J).First());return this.hasTransform?DY(this.schema,this.references,J):J}Encode(J){let Y=this.hasTransform?ZY(this.schema,this.references,J):J;if(!this.checkFunc(Y))throw new ZQ(this.schema,J,this.Errors(J).First());return Y}}var J7;(function(J){function Y(M){return M===36}J.DollarSign=Y;function W(M){return M===95}J.IsUnderscore=W;function Q(M){return M>=65&&M<=90||M>=97&&M<=122}J.IsAlpha=Q;function X(M){return M>=48&&M<=57}J.IsNumeric=X})(J7||(J7={}));var QM;(function(J){function Y(M){if(M.length===0)return!1;return J7.IsNumeric(M.charCodeAt(0))}function W(M){if(Y(M))return!1;for(let G=0;G<M.length;G++){let H=M.charCodeAt(G);if(!(J7.IsAlpha(H)||J7.IsNumeric(H)||J7.DollarSign(H)||J7.IsUnderscore(H)))return!1}return!0}function Q(M){return M.replace(/'/g,"\\'")}function X(M,G){return W(G)?`${M}.${G}`:`${M}['${Q(G)}']`}J.Encode=X})(QM||(QM={}));var OU;(function(J){function Y(W){let Q=[];for(let X=0;X<W.length;X++){let M=W.charCodeAt(X);if(J7.IsNumeric(M)||J7.IsAlpha(M))Q.push(W.charAt(X));else Q.push(`_${M}_`)}return Q.join("").replace(/__/g,"_")}J.Encode=Y})(OU||(OU={}));var KU;(function(J){function Y(W){return W.replace(/'/g,"\\'")}J.Escape=Y})(KU||(KU={}));class YK extends b0{constructor(J){super("Unknown type");this.schema=J}}class zU extends b0{constructor(J){super("Preflight validation check failed to guard for the given schema");this.schema=J}}var t9;(function(J){function Y(G,H,U){return o1.ExactOptionalPropertyTypes?`('${H}' in ${G} ? ${U} : true)`:`(${QM.Encode(G,H)} !== undefined ? ${U} : true)`}J.IsExactOptionalProperty=Y;function W(G){return!o1.AllowArrayObject?`(typeof ${G} === 'object' && ${G} !== null && !Array.isArray(${G}))`:`(typeof ${G} === 'object' && ${G} !== null)`}J.IsObjectLike=W;function Q(G){return!o1.AllowArrayObject?`(typeof ${G} === 'object' && ${G} !== null && !Array.isArray(${G}) && !(${G} instanceof Date) && !(${G} instanceof Uint8Array))`:`(typeof ${G} === 'object' && ${G} !== null && !(${G} instanceof Date) && !(${G} instanceof Uint8Array))`}J.IsRecordLike=Q;function X(G){return o1.AllowNaN?`typeof ${G} === 'number'`:`Number.isFinite(${G})`}J.IsNumberLike=X;function M(G){return o1.AllowNullVoid?`(${G} === undefined || ${G} === null)`:`${G} === undefined`}J.IsVoidLike=M})(t9||(t9={}));var f6;(function(J){function Y(C){return C[n]==="Any"||C[n]==="Unknown"}function*W(C,E,y){yield"true"}function*Q(C,E,y){yield"true"}function*X(C,E,y){yield`Array.isArray(${y})`;let[G0,N0]=[U0("value","any"),U0("acc","number")];if(g0(C.maxItems))yield`${y}.length <= ${C.maxItems}`;if(g0(C.minItems))yield`${y}.length >= ${C.minItems}`;let B0=h(C.items,E,"value");if(yield`${y}.every((${G0}) => ${B0})`,W5(C.contains)||g0(C.minContains)||g0(C.maxContains)){let A0=W5(C.contains)?C.contains:J1(),c0=h(A0,E,"value"),k1=g0(C.minContains)?[`(count >= ${C.minContains})`]:[],h1=g0(C.maxContains)?[`(count <= ${C.maxContains})`]:[],q5=`const count = value.reduce((${N0}, ${G0}) => ${c0} ? acc + 1 : acc, 0)`,u2=["(count > 0)",...k1,...h1].join(" && ");yield`((${G0}) => { ${q5}; return ${u2}})(${y})`}if(C.uniqueItems===!0)yield`((${G0}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${y})`}function*M(C,E,y){yield`(typeof value === 'object' && Symbol.asyncIterator in ${y})`}function*G(C,E,y){if(yield`(typeof ${y} === 'bigint')`,q2(C.exclusiveMaximum))yield`${y} < BigInt(${C.exclusiveMaximum})`;if(q2(C.exclusiveMinimum))yield`${y} > BigInt(${C.exclusiveMinimum})`;if(q2(C.maximum))yield`${y} <= BigInt(${C.maximum})`;if(q2(C.minimum))yield`${y} >= BigInt(${C.minimum})`;if(q2(C.multipleOf))yield`(${y} % BigInt(${C.multipleOf})) === 0`}function*H(C,E,y){yield`(typeof ${y} === 'boolean')`}function*U(C,E,y){yield*_0(C.returns,E,`${y}.prototype`)}function*B(C,E,y){if(yield`(${y} instanceof Date) && Number.isFinite(${y}.getTime())`,g0(C.exclusiveMaximumTimestamp))yield`${y}.getTime() < ${C.exclusiveMaximumTimestamp}`;if(g0(C.exclusiveMinimumTimestamp))yield`${y}.getTime() > ${C.exclusiveMinimumTimestamp}`;if(g0(C.maximumTimestamp))yield`${y}.getTime() <= ${C.maximumTimestamp}`;if(g0(C.minimumTimestamp))yield`${y}.getTime() >= ${C.minimumTimestamp}`;if(g0(C.multipleOfTimestamp))yield`(${y}.getTime() % ${C.multipleOfTimestamp}) === 0`}function*A(C,E,y){yield`(typeof ${y} === 'function')`}function*N(C,E,y){let G0=globalThis.Object.getOwnPropertyNames(C.$defs).reduce((N0,B0)=>{return[...N0,C.$defs[B0]]},[]);yield*_0(s8(C.$ref),[...E,...G0],y)}function*D(C,E,y){if(yield`Number.isInteger(${y})`,g0(C.exclusiveMaximum))yield`${y} < ${C.exclusiveMaximum}`;if(g0(C.exclusiveMinimum))yield`${y} > ${C.exclusiveMinimum}`;if(g0(C.maximum))yield`${y} <= ${C.maximum}`;if(g0(C.minimum))yield`${y} >= ${C.minimum}`;if(g0(C.multipleOf))yield`(${y} % ${C.multipleOf}) === 0`}function*q(C,E,y){let G0=C.allOf.map((N0)=>h(N0,E,y)).join(" && ");if(C.unevaluatedProperties===!1){let N0=c(`${new RegExp(r4(C))};`),B0=`Object.getOwnPropertyNames(${y}).every(key => ${N0}.test(key))`;yield`(${G0} && ${B0})`}else if(W5(C.unevaluatedProperties)){let N0=c(`${new RegExp(r4(C))};`),B0=`Object.getOwnPropertyNames(${y}).every(key => ${N0}.test(key) || ${h(C.unevaluatedProperties,E,`${y}[key]`)})`;yield`(${G0} && ${B0})`}else yield`(${G0})`}function*K(C,E,y){yield`(typeof value === 'object' && Symbol.iterator in ${y})`}function*O(C,E,y){if(typeof C.const==="number"||typeof C.const==="boolean")yield`(${y} === ${C.const})`;else yield`(${y} === '${KU.Escape(C.const)}')`}function*z(C,E,y){yield"false"}function*V(C,E,y){yield`(!${h(C.not,E,y)})`}function*L(C,E,y){yield`(${y} === null)`}function*S(C,E,y){if(yield t9.IsNumberLike(y),g0(C.exclusiveMaximum))yield`${y} < ${C.exclusiveMaximum}`;if(g0(C.exclusiveMinimum))yield`${y} > ${C.exclusiveMinimum}`;if(g0(C.maximum))yield`${y} <= ${C.maximum}`;if(g0(C.minimum))yield`${y} >= ${C.minimum}`;if(g0(C.multipleOf))yield`(${y} % ${C.multipleOf}) === 0`}function*g(C,E,y){if(yield t9.IsObjectLike(y),g0(C.minProperties))yield`Object.getOwnPropertyNames(${y}).length >= ${C.minProperties}`;if(g0(C.maxProperties))yield`Object.getOwnPropertyNames(${y}).length <= ${C.maxProperties}`;let G0=Object.getOwnPropertyNames(C.properties);for(let N0 of G0){let B0=QM.Encode(y,N0),A0=C.properties[N0];if(C.required&&C.required.includes(N0)){if(yield*_0(A0,E,B0),a4(A0)||Y(A0))yield`('${N0}' in ${y})`}else{let c0=h(A0,E,B0);yield t9.IsExactOptionalProperty(y,N0,c0)}}if(C.additionalProperties===!1)if(C.required&&C.required.length===G0.length)yield`Object.getOwnPropertyNames(${y}).length === ${G0.length}`;else{let N0=`[${G0.map((B0)=>`'${B0}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${y}).every(key => ${N0}.includes(key))`}if(typeof C.additionalProperties==="object"){let N0=h(C.additionalProperties,E,`${y}[key]`),B0=`[${G0.map((A0)=>`'${A0}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${y}).every(key => ${B0}.includes(key) || ${N0}))`}}function*d(C,E,y){yield`${y} instanceof Promise`}function*I(C,E,y){if(yield t9.IsRecordLike(y),g0(C.minProperties))yield`Object.getOwnPropertyNames(${y}).length >= ${C.minProperties}`;if(g0(C.maxProperties))yield`Object.getOwnPropertyNames(${y}).length <= ${C.maxProperties}`;let[G0,N0]=Object.entries(C.patternProperties)[0],B0=c(`${new RegExp(G0)}`),A0=h(N0,E,"value"),c0=W5(C.additionalProperties)?h(C.additionalProperties,E,y):C.additionalProperties===!1?"false":"true",k1=`(${B0}.test(key) ? ${A0} : ${c0})`;yield`(Object.entries(${y}).every(([key, value]) => ${k1}))`}function*F(C,E,y){let G0=O1(C,E);if(Q0.functions.has(C.$ref))return yield`${o(C.$ref)}(${y})`;yield*_0(G0,E,y)}function*R(C,E,y){let G0=c(`${new RegExp(C.source,C.flags)};`);if(yield`(typeof ${y} === 'string')`,g0(C.maxLength))yield`${y}.length <= ${C.maxLength}`;if(g0(C.minLength))yield`${y}.length >= ${C.minLength}`;yield`${G0}.test(${y})`}function*j(C,E,y){if(yield`(typeof ${y} === 'string')`,g0(C.maxLength))yield`${y}.length <= ${C.maxLength}`;if(g0(C.minLength))yield`${y}.length >= ${C.minLength}`;if(C.pattern!==void 0)yield`${c(`${new RegExp(C.pattern)};`)}.test(${y})`;if(C.format!==void 0)yield`format('${C.format}', ${y})`}function*x(C,E,y){yield`(typeof ${y} === 'symbol')`}function*_(C,E,y){yield`(typeof ${y} === 'string')`,yield`${c(`${new RegExp(C.pattern)};`)}.test(${y})`}function*k(C,E,y){yield`${o(C.$ref)}(${y})`}function*l(C,E,y){if(yield`Array.isArray(${y})`,C.items===void 0)return yield`${y}.length === 0`;yield`(${y}.length === ${C.maxItems})`;for(let G0=0;G0<C.items.length;G0++)yield`${h(C.items[G0],E,`${y}[${G0}]`)}`}function*q0(C,E,y){yield`${y} === undefined`}function*r(C,E,y){yield`(${C.anyOf.map((N0)=>h(N0,E,y)).join(" || ")})`}function*Z0(C,E,y){if(yield`${y} instanceof Uint8Array`,g0(C.maxByteLength))yield`(${y}.length <= ${C.maxByteLength})`;if(g0(C.minByteLength))yield`(${y}.length >= ${C.minByteLength})`}function*C0(C,E,y){yield"true"}function*r0(C,E,y){yield t9.IsVoidLike(y)}function*L0(C,E,y){let G0=Q0.instances.size;Q0.instances.set(G0,C),yield`kind('${C[n]}', ${G0}, ${y})`}function*_0(C,E,y,G0=!0){let N0=D1(C.$id)?[...E,C]:E,B0=C;if(G0&&D1(C.$id)){let A0=o(C.$id);if(Q0.functions.has(A0))return yield`${A0}(${y})`;else{Q0.functions.set(A0,"<deferred>");let c0=m(A0,C,E,"value",!1);return Q0.functions.set(A0,c0),yield`${A0}(${y})`}}switch(B0[n]){case"Any":return yield*W(B0,N0,y);case"Argument":return yield*Q(B0,N0,y);case"Array":return yield*X(B0,N0,y);case"AsyncIterator":return yield*M(B0,N0,y);case"BigInt":return yield*G(B0,N0,y);case"Boolean":return yield*H(B0,N0,y);case"Constructor":return yield*U(B0,N0,y);case"Date":return yield*B(B0,N0,y);case"Function":return yield*A(B0,N0,y);case"Import":return yield*N(B0,N0,y);case"Integer":return yield*D(B0,N0,y);case"Intersect":return yield*q(B0,N0,y);case"Iterator":return yield*K(B0,N0,y);case"Literal":return yield*O(B0,N0,y);case"Never":return yield*z(B0,N0,y);case"Not":return yield*V(B0,N0,y);case"Null":return yield*L(B0,N0,y);case"Number":return yield*S(B0,N0,y);case"Object":return yield*g(B0,N0,y);case"Promise":return yield*d(B0,N0,y);case"Record":return yield*I(B0,N0,y);case"Ref":return yield*F(B0,N0,y);case"RegExp":return yield*R(B0,N0,y);case"String":return yield*j(B0,N0,y);case"Symbol":return yield*x(B0,N0,y);case"TemplateLiteral":return yield*_(B0,N0,y);case"This":return yield*k(B0,N0,y);case"Tuple":return yield*l(B0,N0,y);case"Undefined":return yield*q0(B0,N0,y);case"Union":return yield*r(B0,N0,y);case"Uint8Array":return yield*Z0(B0,N0,y);case"Unknown":return yield*C0(B0,N0,y);case"Void":return yield*r0(B0,N0,y);default:if(!o5.Has(B0[n]))throw new YK(C);return yield*L0(B0,N0,y)}}let Q0={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function h(C,E,y,G0=!0){return`(${[..._0(C,E,y,G0)].join(" && ")})`}function o(C){return`check_${OU.Encode(C)}`}function c(C){let E=`local_${Q0.variables.size}`;return Q0.variables.set(E,`const ${E} = ${C}`),E}function m(C,E,y,G0,N0=!0){let[B0,A0]=[`
`,(q5)=>"".padStart(q5," ")],c0=U0("value","any"),k1=I0("boolean"),h1=[..._0(E,y,G0,N0)].map((q5)=>`${A0(4)}${q5}`).join(` &&${B0}`);return`function ${C}(${c0})${k1} {${B0}${A0(2)}return (${B0}${h1}${B0}${A0(2)})
}`}function U0(C,E){let y=Q0.language==="typescript"?`: ${E}`:"";return`${C}${y}`}function I0(C){return Q0.language==="typescript"?`: ${C}`:""}function z0(C,E,y){let G0=m("check",C,E,"value"),N0=U0("value","any"),B0=I0("boolean"),A0=[...Q0.functions.values()],c0=[...Q0.variables.values()],k1=D1(C.$id)?`return function check(${N0})${B0} {
  return ${o(C.$id)}(value)
}`:`return ${G0}`;return[...c0,...A0,k1].join(`
`)}function s(...C){let E={language:"javascript"},[y,G0,N0]=C.length===2&&f0(C[1])?[C[0],C[1],E]:C.length===2&&!f0(C[1])?[C[0],[],C[1]]:C.length===3?[C[0],C[1],C[2]]:C.length===1?[C[0],[],E]:[null,[],E];if(Q0.language=N0.language,Q0.variables.clear(),Q0.functions.clear(),Q0.instances.clear(),!W5(y))throw new zU(y);for(let B0 of G0)if(!W5(B0))throw new zU(B0);return z0(y,G0,N0)}J.Code=s;function i(C,E=[]){let y=s(C,E,{language:"javascript"}),G0=globalThis.Function("kind","format","hash",y),N0=new Map(Q0.instances);function B0(h1,q5,u2){if(!o5.Has(h1)||!N0.has(q5))return!1;let $4=o5.Get(h1),p2=N0.get(q5);return $4(p2,u2)}function A0(h1,q5){if(!_1.Has(h1))return!1;return _1.Get(h1)(q5)}function c0(h1){return p7(h1)}let k1=G0(B0,A0,c0);return new JK(C,E,k1,y)}J.Compile=i})(f6||(f6={}));var _b=Object.create,{getPrototypeOf:wb,defineProperty:Nz,getOwnPropertyNames:kb}=Object,xb=Object.prototype.hasOwnProperty,pQ=(J,Y,W)=>{W=J!=null?_b(wb(J)):{};let Q=Y||!J||!J.__esModule?Nz(W,"default",{value:J,enumerable:!0}):W;for(let X of kb(J))if(!xb.call(Q,X))Nz(Q,X,{get:()=>J[X],enumerable:!0});return Q},uz=(J,Y)=>()=>(Y||J((Y={exports:{}}).exports,Y),Y.exports);var TM=uz((J,Y)=>{var W=12,Q=0,X=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7];function M(U){var B=U.indexOf("%");if(B===-1)return U;var A=U.length,N="",D=0,q=0,K=B,O=W;while(B>-1&&B<A){var z=H(U[B+1],4),V=H(U[B+2],0),L=z|V,S=X[L];if(O=X[256+O+S],q=q<<6|L&X[364+S],O===W)N+=U.slice(D,K),N+=q<=65535?String.fromCharCode(q):String.fromCharCode(55232+(q>>10),56320+(q&1023)),q=0,D=B+3,B=K=U.indexOf("%",D);else if(O===Q)return null;else{if(B+=3,B<A&&U.charCodeAt(B)===37)continue;return null}}return N+U.slice(D)}var G={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};function H(U,B){var A=G[U];return A===void 0?255:A<<B}Y.exports=M}),gb=uz((J)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.parse=H,J.serialize=A;var Y=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,W=/^[\u0021-\u003A\u003C-\u007E]*$/,Q=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,X=/^[\u0020-\u003A\u003D-\u007E]*$/,M=Object.prototype.toString,G=(()=>{let q=function(){};return q.prototype=Object.create(null),q})();function H(q,K){let O=new G,z=q.length;if(z<2)return O;let V=K?.decode||N,L=0;do{let S=q.indexOf("=",L);if(S===-1)break;let g=q.indexOf(";",L),d=g===-1?z:g;if(S>d){L=q.lastIndexOf(";",S-1)+1;continue}let I=U(q,L,S),F=B(q,S,I),R=q.slice(I,F);if(O[R]===void 0){let j=U(q,S+1,d),x=B(q,d,j),_=V(q.slice(j,x));O[R]=_}L=d+1}while(L<z);return O}function U(q,K,O){do{let z=q.charCodeAt(K);if(z!==32&&z!==9)return K}while(++K<O);return O}function B(q,K,O){while(K>O){let z=q.charCodeAt(--K);if(z!==32&&z!==9)return K+1}return O}function A(q,K,O){let z=O?.encode||encodeURIComponent;if(!Y.test(q))throw TypeError(`argument name is invalid: ${q}`);let V=z(K);if(!W.test(V))throw TypeError(`argument val is invalid: ${K}`);let L=q+"="+V;if(!O)return L;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw TypeError(`option maxAge is invalid: ${O.maxAge}`);L+="; Max-Age="+O.maxAge}if(O.domain){if(!Q.test(O.domain))throw TypeError(`option domain is invalid: ${O.domain}`);L+="; Domain="+O.domain}if(O.path){if(!X.test(O.path))throw TypeError(`option path is invalid: ${O.path}`);L+="; Path="+O.path}if(O.expires){if(!D(O.expires)||!Number.isFinite(O.expires.valueOf()))throw TypeError(`option expires is invalid: ${O.expires}`);L+="; Expires="+O.expires.toUTCString()}if(O.httpOnly)L+="; HttpOnly";if(O.secure)L+="; Secure";if(O.partitioned)L+="; Partitioned";if(O.priority)switch(typeof O.priority==="string"?O.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite==="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw TypeError(`option sameSite is invalid: ${O.sameSite}`)}return L}function N(q){if(q.indexOf("%")===-1)return q;try{return decodeURIComponent(q)}catch(K){return q}}function D(q){return M.call(q)==="[object Date]"}}),jY=(J,Y)=>{let W=Y?.length?{}:null;if(W)for(let Q of Y)W[Q.part.charCodeAt(0)]=Q;return{part:J,store:null,inert:W,params:null,wildcardStore:null}},qz=(J,Y)=>({...J,part:Y}),Dz=(J)=>({name:J,store:null,inert:null});class _Y{config;root={};history=[];deferred=[];constructor(J={}){if(this.config=J,J.lazy)this.find=this.lazyFind;if(J.onParam&&!Array.isArray(J.onParam))this.config.onParam=[this.config.onParam]}static regex={static:/:.+?(?=\/|$)/,params:/:.+?(?=\/|$)/g,optionalParams:/(\/:\w+\?)/g};lazyFind=(J,Y)=>{if(!this.config.lazy)return this.find;return this.build(),this.find(J,Y)};build(){if(!this.config.lazy)return;for(let[J,Y,W]of this.deferred)this.add(J,Y,W,{lazy:!1,ignoreHistory:!0});this.deferred=[],this.find=(J,Y)=>{let W=this.root[J];if(!W)return null;return LM(Y,Y.length,W,0,this.config.onParam)}}add(J,Y,W,{ignoreError:Q=!1,ignoreHistory:X=!1,lazy:M=this.config.lazy}={}){if(M)return this.find=this.lazyFind,this.deferred.push([J,Y,W]),W;if(typeof Y!=="string")throw TypeError("Route path must be a string");if(Y==="")Y="/";else if(Y[0]!=="/")Y=`/${Y}`;let G=Y[Y.length-1]==="*",H=Y.match(_Y.regex.optionalParams);if(H){let D=Y.replaceAll("?","");this.add(J,D,W,{ignoreError:Q,ignoreHistory:X,lazy:M});for(let q=0;q<H.length;q++){let K=Y.replace(H[q],"");this.add(J,K,W,{ignoreError:!0,ignoreHistory:X,lazy:M})}return W}if(H)Y=Y.replaceAll("?","");if(this.history.find(([D,q,K])=>D===J&&q===Y))return W;if(G||H&&Y.charCodeAt(Y.length-1)===63)Y=Y.slice(0,-1);if(!X)this.history.push([J,Y,W]);let U=Y.split(_Y.regex.static),B=Y.match(_Y.regex.params)||[];if(U[U.length-1]==="")U.pop();let A;if(!this.root[J])A=this.root[J]=jY("/");else A=this.root[J];let N=0;for(let D=0;D<U.length;++D){let q=U[D];if(D>0){let K=B[N++].slice(1);if(A.params===null)A.params=Dz(K);else if(A.params.name!==K)if(Q)return W;else throw Error(`Cannot create route "${Y}" with parameter "${K}" because a route already exists with a different parameter name ("${A.params.name}") in the same location`);let O=A.params;if(O.inert===null){A=O.inert=jY(q);continue}A=O.inert}for(let K=0;;){if(K===q.length){if(K<A.part.length){let O=qz(A,A.part.slice(K));Object.assign(A,jY(q,[O]))}break}if(K===A.part.length){if(A.inert===null)A.inert={};let O=A.inert[q.charCodeAt(K)];if(O){A=O,q=q.slice(K),K=0;continue}let z=jY(q.slice(K));A.inert[q.charCodeAt(K)]=z,A=z;break}if(q[K]!==A.part[K]){let O=qz(A,A.part.slice(K)),z=jY(q.slice(K));Object.assign(A,jY(A.part.slice(0,K),[O,z])),A=z;break}++K}}if(N<B.length){let D=B[N].slice(1);if(A.params===null)A.params=Dz(D);else if(A.params.name!==D)if(Q)return W;else throw Error(`Cannot create route "${Y}" with parameter "${D}" because a route already exists with a different parameter name ("${A.params.name}") in the same location`);if(A.params.store===null)A.params.store=W;return A.params.store}if(G){if(A.wildcardStore===null)A.wildcardStore=W;return A.wildcardStore}if(A.store===null)A.store=W;return A.store}find(J,Y){let W=this.root[J];if(!W)return null;return LM(Y,Y.length,W,0,this.config.onParam)}}var LM=(J,Y,W,Q,X)=>{let M=W.part,G=M.length,H=Q+G;if(G>1){if(H>Y)return null;if(G<15){for(let U=1,B=Q+1;U<G;++U,++B)if(M.charCodeAt(U)!==J.charCodeAt(B))return null}else if(J.slice(Q,H)!==M)return null}if(H===Y){if(W.store!==null)return{store:W.store,params:{}};if(W.wildcardStore!==null)return{store:W.wildcardStore,params:{"*":""}};return null}if(W.inert!==null){let U=W.inert[J.charCodeAt(H)];if(U!==void 0){let B=LM(J,Y,U,H,X);if(B!==null)return B}}if(W.params!==null){let{store:U,name:B,inert:A}=W.params,N=J.indexOf("/",H);if(N!==H){if(N===-1||N>=Y){if(U!==null){let D={};if(D[B]=J.substring(H,Y),X)for(let q=0;q<X.length;q++){let K=X[q](D[B],B);if(K!==void 0)D[B]=K}return{store:U,params:D}}}else if(A!==null){let D=LM(J,Y,A,N,X);if(D!==null){if(D.params[B]=J.substring(H,N),X)for(let q=0;q<X.length;q++){let K=X[q](D.params[B],B);if(K!==void 0)D.params[B]=K}return D}}}}if(W.wildcardStore!==null)return{store:W.wildcardStore,params:{"*":J.substring(H,Y)}};return null},Zz=pQ(TM(),1),HB={date:pz,time:sU(!0),"date-time":Oz(!0),"iso-time":sU(!1),"iso-date-time":Oz(!1),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:cb,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:rb,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:ub,int32:{type:"number",validate:ib},int64:{type:"number",validate:lb},float:{type:"number",validate:zz},double:{type:"number",validate:zz},password:!0,binary:!0};function yb(J){return J%4===0&&(J%100!==0||J%400===0)}var fb=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,vb=[0,31,28,31,30,31,30,31,31,30,31,30,31];function pz(J){let Y=fb.exec(J);if(!Y)return!1;let W=+Y[1],Q=+Y[2],X=+Y[3];return Q>=1&&Q<=12&&X>=1&&X<=(Q===2&&yb(W)?29:vb[Q])}var bb=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function sU(J){return function(Y){let W=bb.exec(Y);if(!W)return!1;let Q=+W[1],X=+W[2],M=+W[3],G=W[4],H=W[5]==="-"?-1:1,U=+(W[6]||0),B=+(W[7]||0);if(U>23||B>59||J&&!G)return!1;if(Q<=23&&X<=59&&M<60)return!0;let A=X-B*H,N=Q-U*H-(A<0?1:0);return(N===23||N===-1)&&(A===59||A===-1)&&M<61}}var tU=(J)=>{if(J.charCodeAt(J.length-6)===32)return J.slice(0,-6)+"+"+J.slice(-5);return J},hb=/t|\s/i;function Oz(J){let Y=sU(J);return function(W){let Q=W.split(hb);return Q.length===2&&pz(Q[0])&&Y(Q[1])}}var mb=/\/|:/,db=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function cb(J){return mb.test(J)&&db.test(J)}var Kz=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function ub(J){return Kz.lastIndex=0,Kz.test(J)}var pb=-2147483648,nb=2147483647;function ib(J){return Number.isInteger(J)&&J<=nb&&J>=pb}function lb(J){return Number.isInteger(J)}function zz(){return!0}var ob=/[^\\]\\Z/;function rb(J){if(ob.test(J))return!1;try{return new RegExp(J),!0}catch(Y){return!1}}var nz=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,iz=/(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s\d{2}\s\d{4}\s\d{2}:\d{2}:\d{2}\sGMT(?:\+|-)\d{4}\s\([^)]+\)/,lz=/^(?:(?:(?:(?:0?[1-9]|[12][0-9]|3[01])[/\s-](?:0?[1-9]|1[0-2])[/\s-](?:19|20)\d{2})|(?:(?:19|20)\d{2}[/\s-](?:0?[1-9]|1[0-2])[/\s-](?:0?[1-9]|[12][0-9]|3[01]))))(?:\s(?:1[012]|0?[1-9]):[0-5][0-9](?::[0-5][0-9])?(?:\s[AP]M)?)?$/,ab=HB.date,sb=HB["date-time"];if(!_1.Has("date"))_1.Set("date",(J)=>{let Y=tU(J).replace(/"/g,"");if(nz.test(Y)||iz.test(Y)||lz.test(Y)||ab(Y)){let W=new Date(Y);if(!Number.isNaN(W.getTime()))return!0}return!1});if(!_1.Has("date-time"))_1.Set("date-time",(J)=>{let Y=J.replace(/"/g,"");if(nz.test(Y)||iz.test(Y)||lz.test(Y)||sb(Y)){let W=new Date(Y);if(!Number.isNaN(W.getTime()))return!0}return!1});Object.entries(HB).forEach((J)=>{let[Y,W]=J;if(!_1.Has(Y)){if(W instanceof RegExp)_1.Set(Y,(Q)=>W.test(Q));else if(typeof W==="function")_1.Set(Y,W)}});if(!_1.Has("numeric"))_1.Set("numeric",(J)=>!!J&&!isNaN(+J));if(!_1.Has("integer"))_1.Set("integer",(J)=>!!J&&Number.isInteger(+J));if(!_1.Has("boolean"))_1.Set("boolean",(J)=>J==="true"||J==="false");if(!_1.Has("ObjectString"))_1.Set("ObjectString",(J)=>{let Y=J.charCodeAt(0);if(Y===9||Y===10||Y===32)Y=J.trimStart().charCodeAt(0);if(Y!==123&&Y!==91)return!1;try{return JSON.parse(J),!0}catch{return!1}});if(!_1.Has("ArrayString"))_1.Set("ArrayString",(J)=>{let Y=J.charCodeAt(0);if(Y===9||Y===10||Y===32)Y=J.trimStart().charCodeAt(0);if(Y!==123&&Y!==91)return!1;try{return JSON.parse(J),!0}catch{return!1}});var wY=typeof Bun<"u",oz={aac:"audio/aac",abw:"application/x-abiword",ai:"application/postscript",arc:"application/octet-stream",avi:"video/x-msvideo",azw:"application/vnd.amazon.ebook",bin:"application/octet-stream",bz:"application/x-bzip",bz2:"application/x-bzip2",csh:"application/x-csh",css:"text/css",csv:"text/csv",doc:"application/msword",dll:"application/octet-stream",eot:"application/vnd.ms-fontobject",epub:"application/epub+zip",gif:"image/gif",htm:"text/html",html:"text/html",ico:"image/x-icon",ics:"text/calendar",jar:"application/java-archive",jpeg:"image/jpeg",jpg:"image/jpeg",js:"application/javascript",json:"application/json",mid:"audio/midi",midi:"audio/midi",mp2:"audio/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mpa:"video/mpeg",mpe:"video/mpeg",mpeg:"video/mpeg",mpkg:"application/vnd.apple.installer+xml",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",oga:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",otf:"font/otf",png:"image/png",pdf:"application/pdf",ppt:"application/vnd.ms-powerpoint",rar:"application/x-rar-compressed",rtf:"application/rtf",sh:"application/x-sh",svg:"image/svg+xml",swf:"application/x-shockwave-flash",tar:"application/x-tar",tif:"image/tiff",tiff:"image/tiff",ts:"application/typescript",ttf:"font/ttf",txt:"text/plain",vsd:"application/vnd.visio",wav:"audio/x-wav",weba:"audio/webm",webm:"video/webm",webp:"image/webp",woff:"font/woff",woff2:"font/woff2",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xlsx:"application/vnd.ms-excel",xlsx_OLD:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xml:"application/xml",xul:"application/vnd.mozilla.xul+xml",zip:"application/zip","3gp":"video/3gpp","3gp_DOES_NOT_CONTAIN_VIDEO":"audio/3gpp","3gp2":"video/3gpp2","3gp2_DOES_NOT_CONTAIN_VIDEO":"audio/3gpp2","7z":"application/x-7z-compressed"},tb=(J)=>{let Y=J.lastIndexOf(".");if(Y===-1)return"";return J.slice(Y+1)};var mU,dU;class SM{path;value;stats;constructor(J){if(this.path=J,wY)this.value=Bun.file(J);else{if(!mU||!dU){if(typeof window<"u"){console.warn("Browser environment does not support file");return}let Y=(Q)=>console.warn(Error(`[elysia] \`file\` require \`fs${Q?"."+Q:""}\` ${Q?.includes(".")?"module ":""}which is not available in this environment`));if(typeof process>"u"||typeof process.getBuiltinModule!=="function"){Y();return}let W=process.getBuiltinModule("fs");if(!W){Y();return}if(typeof W.createReadStream!=="function"){Y();return}if(typeof W.promises?.stat!=="function"){Y();return}mU=W.createReadStream,dU=W.promises.stat}this.value=mU(J),this.stats=dU(J)}}get type(){return oz[tb(this.path)]||"application/octet-stream"}get length(){if(wY)return this.value.size;return this.stats?.then((J)=>J.size)??0}}var eU="toJSON"in new Headers,Lz=(J,Y)=>{let W=new URL(J);return W.pathname=Y,W.toString()},eb=(J)=>typeof J==="function"&&/^\s*class\s+/.test(J.toString())||J.toString&&J.toString().startsWith("[object ")&&J.toString()!=="[object Object]"||Q5(Object.getPrototypeOf(J)),cU=(J)=>J&&typeof J==="object"&&!Array.isArray(J),X2=(J,Y,W)=>{let Q=W?.skipKeys,X=W?.override??!0,M=W?.mergeArray??!1;if(!cU(J)||!cU(Y))return J;for(let[G,H]of Object.entries(Y)){if(Q?.includes(G))continue;if(M&&Array.isArray(H)){J[G]=Array.isArray(J[G])?[...J[G],...H]:J[G]=H;continue}if(!cU(H)||!(G in J)||eb(H)){if((X||!(G in J))&&!Object.isFrozen(J))try{J[G]=H}catch{}continue}if(!Object.isFrozen(J[G]))try{J[G]=X2(J[G],H,{skipKeys:Q,override:X,mergeArray:M})}catch{}}return J},JB=(J,Y)=>{let W=X2(Object.assign({},J),Y,{skipKeys:["properties"],mergeArray:!1});if(W.properties)delete W.properties;return W},K5=(J,Y)=>{if(!Y)return J;let W=[],Q=[];if(J){if(!Array.isArray(J))J=[J];for(let X of J)if(W.push(X),X.checksum)Q.push(X.checksum)}if(Y){if(!Array.isArray(Y))Y=[Y];for(let X of Y)if(!Q.includes(X.checksum))W.push(X)}return W},Jh=["start","request","parse","transform","resolve","beforeHandle","afterHandle","mapResponse","afterResponse","trace","error","stop","body","headers","params","query","response","type","detail"],kK0=Jh.reduce((J,Y)=>(J[Y]=!0,J),{}),ZM=(J)=>typeof J==="object"&&Object.keys(J).every((Y)=>!isNaN(+Y)),rz=(J,Y)=>{if(ZM(J)&&ZM(Y))return Object.assign({},J,Y);else if(J&&!ZM(J)&&ZM(Y))return Object.assign({200:J},Y);return Y??J},CQ=(J,Y)=>{if(!J&&!Y)return{body:void 0,headers:void 0,params:void 0,query:void 0,cookie:void 0,response:void 0};return{body:Y?.body??J?.body,headers:Y?.headers??J?.headers,params:Y?.params??J?.params,query:Y?.query??J?.query,cookie:Y?.cookie??J?.cookie,response:rz(J?.response,Y?.response)}},$J=(J,Y)=>{if(!Y)return J??{};if(!J)return Y??{};if(!Object.values(Y).find((Q)=>Q!==void 0&&Q!==null))return{...J};let W={...J,...Y,body:Y.body??J.body,headers:Y.headers??J.headers,params:Y.params??J.params,query:Y.query??J.query,cookie:Y.cookie??J.cookie,response:rz(J.response,Y.response),type:J.type||Y.type,detail:X2(Y.detail??{},J.detail??{}),parse:K5(J.parse,Y.parse),transform:K5(J.transform,Y.transform),beforeHandle:K5(K5(s5(J.resolve,"resolve"),J.beforeHandle),K5(s5(Y.resolve,"resolve"),Y.beforeHandle)),afterHandle:K5(J.afterHandle,Y.afterHandle),mapResponse:K5(J.mapResponse,Y.mapResponse),afterResponse:K5(J.afterResponse,Y.afterResponse),trace:K5(J.trace,Y.trace),error:K5(J.error,Y.error),standaloneSchema:J.standaloneSchema||Y.standaloneSchema?J.standaloneSchema&&!Y.standaloneSchema?J.standaloneSchema:Y.standaloneSchema&&!J.standaloneSchema?Y.standaloneSchema:[...J.standaloneSchema??[],...Y.standaloneSchema??[]]:void 0};if(W.resolve)delete W.resolve;return W},Yh=(J)=>{if(J.parse&&!Array.isArray(J.parse))J.parse=[J.parse];if(J.transform&&!Array.isArray(J.transform))J.transform=[J.transform];if(J.afterHandle&&!Array.isArray(J.afterHandle))J.afterHandle=[J.afterHandle];if(J.mapResponse&&!Array.isArray(J.mapResponse))J.mapResponse=[J.mapResponse];if(J.afterResponse&&!Array.isArray(J.afterResponse))J.afterResponse=[J.afterResponse];if(J.trace&&!Array.isArray(J.trace))J.trace=[J.trace];if(J.error&&!Array.isArray(J.error))J.error=[J.error];let Y=[];if(J.resolve)Y=s5(Array.isArray(J.resolve)?J.resolve:[J.resolve],"resolve"),delete J.resolve;if(J.beforeHandle)if(Y.length)Y=Y.concat(Array.isArray(J.beforeHandle)?J.beforeHandle:[J.beforeHandle]);else Y=Array.isArray(J.beforeHandle)?J.beforeHandle:[J.beforeHandle];if(Y.length)J.beforeHandle=Y;return J},Wh=typeof Bun<"u",Qh=Wh&&typeof Bun.hash==="function",RQ=(J)=>{if(Qh)return Bun.hash(J);let Y=9;for(let W=0;W<J.length;)Y=Math.imul(Y^J.charCodeAt(W++),387420489);return Y=Y^Y>>>9},h6=(J,Y)=>{if(!Y)return;if(!Array.isArray(Y)){let Q=Y;if(J&&!Q.checksum)Q.checksum=J;if(Q.scope==="scoped")Q.scope="local";return Q}let W=[...Y];for(let Q of W){if(J&&!Q.checksum)Q.checksum=J;if(Q.scope==="scoped")Q.scope="local"}return W},Sz=(J,Y,W)=>{return{start:K5(J.start,h6(W,Y?.start)),request:K5(J.request,h6(W,Y?.request)),parse:K5(J.parse,h6(W,Y?.parse)),transform:K5(J.transform,h6(W,Y?.transform)),beforeHandle:K5(K5(s5(J.resolve,"resolve"),J.beforeHandle),h6(W,K5(s5(Y?.resolve,"resolve"),Y?.beforeHandle))),afterHandle:K5(J.afterHandle,h6(W,Y?.afterHandle)),mapResponse:K5(J.mapResponse,h6(W,Y?.mapResponse)),afterResponse:K5(J.afterResponse,h6(W,Y?.afterResponse)),trace:K5(J.trace,h6(W,Y?.trace)),error:K5(J.error,h6(W,Y?.error)),stop:K5(J.stop,h6(W,Y?.stop))}},$h=(J,Y,{skipIfHasType:W=!1})=>{if(!J)return J;if(!Array.isArray(J)){if(W)J.scope??=Y;else J.scope=Y;return J}for(let Q of J)if(W)Q.scope??=Y;else Q.scope=Y;return J},i7=(J)=>{if(!J)return J;if(!Array.isArray(J))switch(J.scope){case"global":case"scoped":return{...J};default:return{fn:J}}let Y=[];for(let W of J)switch(W.scope){case"global":case"scoped":Y.push({...W});break}return Y},Vz=(J)=>{return{...J,type:J?.type,detail:J?.detail,parse:i7(J?.parse),transform:i7(J?.transform),beforeHandle:i7(J?.beforeHandle),afterHandle:i7(J?.afterHandle),mapResponse:i7(J?.mapResponse),afterResponse:i7(J?.afterResponse),error:i7(J?.error),trace:i7(J?.trace)}},bQ={Continue:100,"Switching Protocols":101,Processing:102,"Early Hints":103,OK:200,Created:201,Accepted:202,"Non-Authoritative Information":203,"No Content":204,"Reset Content":205,"Partial Content":206,"Multi-Status":207,"Already Reported":208,"Multiple Choices":300,"Moved Permanently":301,Found:302,"See Other":303,"Not Modified":304,"Temporary Redirect":307,"Permanent Redirect":308,"Bad Request":400,Unauthorized:401,"Payment Required":402,Forbidden:403,"Not Found":404,"Method Not Allowed":405,"Not Acceptable":406,"Proxy Authentication Required":407,"Request Timeout":408,Conflict:409,Gone:410,"Length Required":411,"Precondition Failed":412,"Payload Too Large":413,"URI Too Long":414,"Unsupported Media Type":415,"Range Not Satisfiable":416,"Expectation Failed":417,"I'm a teapot":418,"Enhance Your Calm":420,"Misdirected Request":421,"Unprocessable Content":422,Locked:423,"Failed Dependency":424,"Too Early":425,"Upgrade Required":426,"Precondition Required":428,"Too Many Requests":429,"Request Header Fields Too Large":431,"Unavailable For Legal Reasons":451,"Internal Server Error":500,"Not Implemented":501,"Bad Gateway":502,"Service Unavailable":503,"Gateway Timeout":504,"HTTP Version Not Supported":505,"Variant Also Negotiates":506,"Insufficient Storage":507,"Loop Detected":508,"Not Extended":510,"Network Authentication Required":511},Fz=Object.fromEntries(Object.entries(bQ).map(([J,Y])=>[Y,J]));function Xh(J){let Y=J;while(Y.endsWith("="))Y=Y.slice(0,-1);return Y}var Ez=new TextEncoder,VM=async(J,Y)=>{if(typeof J==="object")J=JSON.stringify(J);else if(typeof J!=="string")J=J+"";if(Y===null)throw TypeError("Secret key must be provided.");let W=await crypto.subtle.importKey("raw",Ez.encode(Y),{name:"HMAC",hash:"SHA-256"},!1,["sign"]),Q=await crypto.subtle.sign("HMAC",W,Ez.encode(J));return J+"."+Xh(Buffer.from(Q).toString("base64"))},jz=async(J,Y)=>{if(typeof J!=="string")throw TypeError("Signed cookie string must be provided.");if(Y===null)throw TypeError("Secret key must be provided.");let W=J.slice(0,J.lastIndexOf("."));return await VM(W,Y)===J?W:!1},Mh=(J,Y,W)=>{if(!J.standaloneValidator?.length||!Array.isArray(J.standaloneValidator)){J.standaloneValidator=[{[Y]:W}];return}let Q=J.standaloneValidator[J.standaloneValidator.length-1];if(Y in Q)J.standaloneValidator.push({[Y]:W});else Q[Y]=W},Gh=(J)=>{if(typeof J==="number")return J;if(J.length<16){if(J.trim().length===0)return null;let Y=Number(J);if(Number.isNaN(Y))return null;return Y}if(J.length===16){if(J.trim().length===0)return null;let Y=Number(J);if(Number.isNaN(Y)||Y.toString()!==J)return null;return Y}return null},az=(J)=>Gh(J)!==null;class sz{onError;onFinally;root=null;promises=[];constructor(J=console.error,Y=()=>{}){this.onError=J,this.onFinally=Y}get size(){return this.promises.length}add(J){if(this.promises.push(J),this.root||=this.drain(),this.promises.length===1)this.then(this.onFinally);return J}async drain(){while(this.promises.length>0){try{await this.promises[0]}catch(J){this.onError(J)}this.promises.shift()}this.root=null}then(J,Y){return(this.root??Promise.resolve()).then(J,Y)}}var s5=(J,Y)=>{if(!J)return J;if(!Array.isArray(J)){if(typeof J==="function"||typeof J==="string")return Y?{fn:J,subType:Y}:{fn:J};else if("fn"in J)return J}let W=[];for(let Q of J)if(typeof Q==="function"||typeof Q==="string")W.push(Y?{fn:Q,subType:Y}:{fn:Q});else if("fn"in Q)W.push(Q);return W},Pz=(J)=>{if(J.start)J.start=s5(J.start);if(J.request)J.request=s5(J.request);if(J.parse)J.parse=s5(J.parse);if(J.transform)J.transform=s5(J.transform);if(J.beforeHandle)J.beforeHandle=s5(J.beforeHandle);if(J.afterHandle)J.afterHandle=s5(J.afterHandle);if(J.mapResponse)J.mapResponse=s5(J.mapResponse);if(J.afterResponse)J.afterResponse=s5(J.afterResponse);if(J.trace)J.trace=s5(J.trace);if(J.error)J.error=s5(J.error);if(J.stop)J.stop=s5(J.stop);return J},Cz=(J)=>{let Y=Object.create(null);if(J.start?.map)Y.start=J.start.map((W)=>W.fn);if(J.request?.map)Y.request=J.request.map((W)=>W.fn);if(J.parse?.map)Y.parse=J.parse.map((W)=>W.fn);if(J.transform?.map)Y.transform=J.transform.map((W)=>W.fn);if(J.beforeHandle?.map)Y.beforeHandle=J.beforeHandle.map((W)=>W.fn);if(J.afterHandle?.map)Y.afterHandle=J.afterHandle.map((W)=>W.fn);if(J.mapResponse?.map)Y.mapResponse=J.mapResponse.map((W)=>W.fn);if(J.afterResponse?.map)Y.afterResponse=J.afterResponse.map((W)=>W.fn);if(J.error?.map)Y.error=J.error.map((W)=>W.fn);if(J.stop?.map)Y.stop=J.stop.map((W)=>W.fn);if(J.trace?.map)Y.trace=J.trace.map((W)=>W.fn);else Y.trace=[];return Y},Iz=(J)=>({body:J.body,cookie:J.cookie,headers:J.headers,query:J.query,set:J.set,server:J.server,path:J.path,route:J.route,url:J.url}),_M=(J,Y=302)=>Response.redirect(J,Y),XJ=Symbol("ElysiaFormData"),nQ=Symbol("ElysiaRequestId"),Hh=(J)=>{let Y=new FormData;if(Y[XJ]={},J)for(let[W,Q]of Object.entries(J)){if(Array.isArray(Q)){Y[XJ][W]=[];for(let X of Q){if(Q instanceof File)Y.append(W,Q,Q.name);else if(Q instanceof SM)Y.append(W,Q.value,Q.value?.name);else Y.append(W,Q);Y[XJ][W].push(Q)}continue}if(Q instanceof File)Y.append(W,Q,Q.name);else if(Q instanceof SM)Y.append(W,Q.value,Q.value?.name);else Y.append(W,Q);Y[XJ][W]=Q}return Y},wM=()=>{let J=crypto.randomUUID();return J.slice(0,8)+J.slice(24,32)},Uh=(J)=>{if(!J.length)return[];let Y=[];for(let W=0;W<J.length;W++){let Q=J[W];if(Q.checksum){if(Y.includes(Q.checksum))J.splice(W,1),W--;Y.push(Q.checksum)}}return J},l7=(J,Y="scoped")=>{if(!J)return;if(Y==="scoped"){for(let W of J)if("scope"in W&&W.scope==="local")W.scope="scoped";return}for(let W of J)if("scope"in W)W.scope="global"},TQ=(J)=>{if(J.charCodeAt(J.length-1)===47)return J.slice(0,J.length-1);return J+"/"},Q5=(J)=>{if(!J)return!1;for(let Y in J)return!0;return!1},_Q=(J,{dynamic:Y=!1}={})=>{let W=encodeURIComponent(J).replace(/%2F/g,"/");if(Y)W=W.replace(/%3A/g,":").replace(/%3F/g,"?");return W},tz=(()=>{if(typeof Bun>"u")return!0;let J=Bun.version.split(".");if(+J[0]<1||+J[1]<2||+J[2]<14)return!1;return!0})();async function Bh(J){if(J.bodyUsed||!J.body)return 0;let Y=0,W=J.body.getReader();while(!0){let{done:Q,value:X}=await W.read();if(Q)break;Y+=X.byteLength}return Y}var Ah={headers:!0,cookie:!0,query:!0,params:!0,body:!0,response:!0},Rz=typeof Bun<"u"?Bun.env:typeof process<"u"?process?.env:void 0,FM=Symbol("ElysiaErrorCode"),r7=(Rz?.NODE_ENV??Rz?.ENV)==="production",Nh={101:void 0,204:void 0,205:void 0,304:void 0,307:void 0,308:void 0};class O2{code;response;constructor(J,Y){let W=Y??(J in Fz?Fz[J]:J);if(this.code=bQ[J]??J,J in Nh)this.response=void 0;else this.response=W}}var hQ=(J,Y)=>new O2(J,Y);class UB extends Error{code="NOT_FOUND";status=404;constructor(J){super(J??"NOT_FOUND")}}class ez extends Error{code="PARSE";status=400;constructor(J){super("Bad Request",{cause:J})}}class YB extends Error{key;code="INVALID_COOKIE_SIGNATURE";status=400;constructor(J,Y){super(Y??`"${J}" has invalid cookie signature`);this.key=J}}var Z2=(J)=>{if(!J)return{summary:void 0};let{message:Y,path:W,value:Q,type:X}=J,M=W.slice(1).replaceAll("/","."),G=W==="";switch(X){case 42:return{...J,summary:G?"Value should not be provided":`Property '${M}' should not be provided`};case 45:return{...J,summary:G?"Value is missing":`Property '${M}' is missing`};case 50:let H=Y.indexOf("'"),U=Y.slice(H+1,Y.indexOf("'",H+1));return{...J,summary:G?"Value should be an email":`Property '${M}' should be ${U}`};case 54:return{...J,summary:`${Y.slice(0,9).trim()} property '${M}' to be ${Y.slice(8).trim()} but found: ${Q}`};case 62:let B=J.schema.anyOf.map((A)=>`'${A?.format??A.type}'`).join(", ");return{...J,summary:G?`Value should be one of ${B}`:`Property '${M}' should be one of: ${B}`};default:return{summary:Y,...J}}};class gQ extends Error{property;expected;message;code="INVALID_FILE_TYPE";status=422;constructor(J,Y,W=`"${J}" has invalid file type`){super(W);this.property=J,this.expected=Y,this.message=W,Object.setPrototypeOf(this,gQ.prototype)}toResponse(J){if(r7)return new Response(JSON.stringify({type:"validation",on:"body"}),{status:422,headers:{...J,"content-type":"application/json"}});return new Response(JSON.stringify({type:"validation",on:"body",summary:"Invalid file type",message:this.message,property:this.property,expected:this.expected}),{status:422,headers:{...J,"content-type":"application/json"}})}}class V1 extends Error{type;validator;value;code="VALIDATION";status=422;valueError;expected;customError;constructor(J,Y,W,Q){let X="",M,G,H;if(Y?.provider==="standard"||"~standard"in Y||Y.schema&&"~standard"in Y.schema){let U=("~standard"in Y?Y:Y.schema)["~standard"];if(M=(Q??U.validate(W).issues)?.[0],r7)X=JSON.stringify({type:"validation",on:J,found:W});else X=JSON.stringify({type:"validation",on:J,property:M.path?.[0]||"root",message:M?.message,summary:M?.problem,expected:G,found:W,errors:Q},null,2);H=M?.message}else{if(W&&typeof W==="object"&&W instanceof O2)W=W.response;M=Q?.First()??("Errors"in Y?Y.Errors(W).First():f1.Errors(Y,W).First());let U=M?.path||"root",B=Y?.schema??Y;if(!r7)try{G=f1.Create(B)}catch(A){G={type:"Could not create expected value",message:A?.message,error:A}}if(H=M?.schema?.message||M?.schema?.error!==void 0?typeof M.schema.error==="function"?M.schema.error(r7?{type:"validation",on:J,found:W}:{type:"validation",on:J,value:W,property:U,message:M?.message,summary:Z2(M).summary,found:W,expected:G,errors:"Errors"in Y?[...Y.Errors(W)].map(Z2):[...f1.Errors(Y,W)].map(Z2)},Y):M.schema.error:void 0,H!==void 0)X=typeof H==="object"?JSON.stringify(H):H+"";else if(r7)X=JSON.stringify({type:"validation",on:J,found:W});else X=JSON.stringify({type:"validation",on:J,property:U,message:M?.message,summary:Z2(M).summary,expected:G,found:W,errors:"Errors"in Y?[...Y.Errors(W)].map(Z2):[...f1.Errors(Y,W)].map(Z2)},null,2)}super(X);this.type=J,this.validator=Y,this.value=W,this.valueError=M,this.expected=G,this.customError=H,Object.setPrototypeOf(this,V1.prototype)}get all(){return"Errors"in this.validator?[...this.validator.Errors(this.value)].map(Z2):[...f1.Errors(this.validator,this.value)].map(Z2)}static simplifyModel(J){let Y="schema"in J?J.schema:J;try{return f1.Create(Y)}catch{return Y}}get model(){if("~standard"in this.validator)return this.validator;return V1.simplifyModel(this.validator)}toResponse(J){return new Response(this.message,{status:400,headers:{...J,"content-type":"application/json"}})}detail(J){if(!this.customError)return this.message;let Y=this.validator,W=this.value,Q=this.expected,X=this.all;return r7?{type:"validation",on:this.type,found:W,message:J}:{type:"validation",on:this.type,property:this.valueError?.path||"root",message:J,summary:Z2(this.valueError).summary,found:W,expected:Q,errors:X}}}var IQ=(J,Y)=>{try{return JSON.parse(J)}catch{throw new V1("property",Y,J)}};function iQ(J,Y){if(!o5.Has(J))o5.Set(J,Y);return(W={})=>iX({...W,[n]:J})}var W7=(J)=>{try{let Y=f6.Compile(J);return Y.Create=()=>f1.Create(J),Y.Error=(W)=>new V1("property",J,W,Y.Errors(W)),Y}catch{return{Check:(Y)=>f1.Check(J,Y),CheckThrow:(Y)=>{if(!f1.Check(J,Y))throw new V1("property",J,Y,f1.Errors(J,Y))},Decode:(Y)=>f1.Decode(J,Y),Create:()=>f1.Create(J),Error:(Y)=>new V1("property",J,Y,f1.Errors(J,Y))}}},Tz=(J)=>{if(typeof J==="string")switch(J.slice(-1)){case"k":return+J.slice(0,J.length-1)*1024;case"m":return+J.slice(0,J.length-1)*1048576;default:return+J}return J},EM=(J,Y)=>{if(J.startsWith(Y))return!0;return Y.charCodeAt(Y.length-1)===42&&Y.charCodeAt(Y.length-2)===47&&J.startsWith(Y.slice(0,-1))},_z=!1,qh=()=>{if(!_z)console.warn("[Elysia] Attempt to validate file type without 'file-type'. This may lead to security risks. We recommend installing 'file-type' to properly validate file extension."),_z=!0},BB=async()=>Promise.resolve().then(() => (Az(),Bz)).then((J)=>{return jM=J.fileTypeFromBlob,jM}).catch(qh),jM,Dh=(J)=>{if(jM)return jM(J);return BB().then((Y)=>{if(Y)return Y(J)})},JL=async(J,Y,W=J?.name??"")=>{if(Array.isArray(J))return await Promise.all(J.map((X)=>JL(X,Y,W))),!0;if(!J)return!1;let Q=await Dh(J);if(!Q)throw new gQ(W,Y);if(typeof Y==="string"){if(!EM(Q.mime,Y))throw new gQ(W,Y)}for(let X=0;X<Y.length;X++)if(EM(Q.mime,Y[X]))return!0;throw new gQ(W,Y)},WB=(J,Y)=>{if(Y instanceof SM)return!0;if(!(Y instanceof Blob))return!1;if(J.minSize&&Y.size<Tz(J.minSize))return!1;if(J.maxSize&&Y.size>Tz(J.maxSize))return!1;if(J.extension){if(typeof J.extension==="string")return EM(Y.type,J.extension);for(let W=0;W<J.extension.length;W++)if(EM(Y.type,J.extension[W]))return!0;return!1}return!0};var Z=Object.assign({},T6);iQ("UnionEnum",(J,Y)=>(typeof Y==="number"||typeof Y==="string"||Y===null)&&J.enum.includes(Y));iQ("ArrayBuffer",(J,Y)=>Y instanceof ArrayBuffer);var Zh=iQ("Files",(J,Y)=>{if(J.minItems&&J.minItems>1&&!Array.isArray(Y))return!1;if(!Array.isArray(Y))return WB(J,Y);if(J.minItems&&Y.length<J.minItems)return!1;if(J.maxItems&&Y.length>J.maxItems)return!1;for(let W=0;W<Y.length;W++)if(!WB(J,Y[W]))return!1;return!0}),Oh=iQ("ElysiaForm",({compiler:J,...Y},W)=>{if(!(W instanceof FormData))return!1;if(J){if(!(XJ in W))throw new V1("property",Y,W);if(!J.Check(W[XJ]))throw J.Error(W[XJ])}return!0}),K2={String:(J)=>T6.String(J),Numeric:(J)=>{let Y=T6.Number(J),W=W7(Y);return Z.Transform(Z.Union([Z.String({format:"numeric",default:0}),Z.Number(J)],J)).Decode((Q)=>{let X=+Q;if(isNaN(X))return Q;if(J&&!W.Check(X))throw W.Error(X);return X}).Encode((Q)=>Q)},Integer:(J)=>{let Y=T6.Integer(J),W=W7(Y);return Z.Transform(Z.Union([Z.String({format:"integer",default:0}),T6.Integer(J)],J)).Decode((Q)=>{let X=+Q;if(!W.Check(X))throw W.Error(X);return X}).Encode((Q)=>Q)},Date:(J)=>{let Y=T6.Date(J),W=W7(Y),Q=J?.default?new Date(J.default):void 0;return Z.Transform(Z.Union([T6.Date(J),Z.String({format:"date-time",default:Q?.toISOString()}),Z.String({format:"date",default:Q?.toISOString()}),Z.Number({default:Q?.getTime()})],J)).Decode((X)=>{if(typeof X==="number"){let G=new Date(X);if(!W.Check(G))throw W.Error(G);return G}if(X instanceof Date)return X;let M=new Date(tU(X));if(!M||isNaN(M.getTime()))throw new V1("property",Y,M);if(!W.Check(M))throw W.Error(M);return M}).Encode((X)=>{if(X instanceof Date)return X.toISOString();if(typeof X==="string"){if(isNaN(new Date(tU(X)).getTime()))throw new V1("property",Y,X);return X}if(!W.Check(X))throw W.Error(X);return X})},BooleanString:(J)=>{let Y=T6.Boolean(J),W=W7(Y);return Z.Transform(Z.Union([Z.Boolean(J),Z.String({format:"boolean",default:!1})],J)).Decode((Q)=>{if(typeof Q==="string")return Q==="true";if(Q!==void 0&&!W.Check(Q))throw W.Error(Q);return Q}).Encode((Q)=>Q)},ObjectString:(J,Y)=>{let W=Z.Object(J,Y),Q=W7(W);return Z.Transform(Z.Union([Z.String({format:"ObjectString",default:"{}"}),W],{elysiaMeta:"ObjectString"})).Decode((X)=>{if(typeof X==="string"){if(X.charCodeAt(0)!==123)throw new V1("property",W,X);if(!Q.Check(X=IQ(X,W)))throw Q.Error(X);return Q.Decode(X)}return X}).Encode((X)=>{let M;if(typeof X==="string")X=IQ(M=X,W);if(!Q.Check(X))throw Q.Error(X);return M??JSON.stringify(X)})},ArrayString:(J=Z.String(),Y)=>{let W=Z.Array(J,Y),Q=W7(W),X=(M,G=!1)=>{if(M.charCodeAt(0)===91){if(!Q.Check(M=IQ(M,W)))throw Q.Error(M);return Q.Decode(M)}if(G)return M;throw new V1("property",W,M)};return Z.Transform(Z.Union([Z.String({format:"ArrayString",default:Y?.default}),W])).Decode((M)=>{if(Array.isArray(M)){let G=[];for(let H=0;H<M.length;H++){let U=M[H];if(typeof U==="string"){let B=X(U,!0);if(Array.isArray(B))G=G.concat(B);else G.push(B);continue}G.push(U)}return G}if(typeof M==="string")return X(M);return M}).Encode((M)=>{let G;if(typeof M==="string")M=IQ(G=M,W);if(!Q.Check(M))throw new V1("property",W,M);return G??JSON.stringify(M)})},ArrayQuery:(J=Z.String(),Y)=>{let W=Z.Array(J,Y),Q=W7(W),X=(M)=>{if(M.indexOf(",")!==-1)return Q.Decode(M.split(","));return[M]};return Z.Transform(Z.Union([Z.String({default:Y?.default}),W],{elysiaMeta:"ArrayQuery"})).Decode((M)=>{if(Array.isArray(M)){let G=[];for(let H=0;H<M.length;H++){let U=M[H];if(typeof U==="string"){let B=X(U);if(Array.isArray(B))G=G.concat(B);else G.push(B);continue}G.push(U)}return G}if(typeof M==="string")return X(M);return M}).Encode((M)=>{let G;if(typeof M==="string")M=IQ(G=M,W);if(!Q.Check(M))throw new V1("property",W,M);return G??JSON.stringify(M)})},File:iQ("File",WB),Files:(J={})=>Z.Transform(Zh(J)).Decode((Y)=>{if(Array.isArray(Y))return Y;return[Y]}).Encode((Y)=>Y),Nullable:(J,Y)=>Z.Union([J,Z.Null()],{...Y,nullable:!0}),MaybeEmpty:(J,Y)=>Z.Union([J,Z.Null(),Z.Undefined()],Y),Cookie:(J,{domain:Y,expires:W,httpOnly:Q,maxAge:X,path:M,priority:G,sameSite:H,secure:U,secrets:B,sign:A,...N}={})=>{let D=Z.Object(J,N);return D.config={domain:Y,expires:W,httpOnly:Q,maxAge:X,path:M,priority:G,sameSite:H,secure:U,secrets:B,sign:A},D},UnionEnum:(J,Y={})=>{let W=J.every((Q)=>typeof Q==="string")?{type:"string"}:J.every((Q)=>typeof Q==="number")?{type:"number"}:J.every((Q)=>Q===null)?{type:"null"}:{};if(J.some((Q)=>typeof Q==="object"&&Q!==null))throw Error("This type does not support objects or arrays");return{default:J[0],...Y,[n]:"UnionEnum",...W,enum:J}},NoValidate:(J,Y=!0)=>{return J.noValidate=Y,J},Form:(J,Y={})=>{let W=Z.Object(J,{default:Hh({}),...Y}),Q=W7(W);return Z.Union([W,Oh({compiler:Q})])},ArrayBuffer(J={}){return{default:[1,2,3],...J,[n]:"ArrayBuffer"}},Uint8Array:(J)=>{let Y=T6.Uint8Array(J),W=W7(Y);return Z.Transform(Z.Union([Z.ArrayBuffer(),T6.Uint8Array(J)])).Decode((Q)=>{if(Q instanceof ArrayBuffer){if(!W.Check(Q=new Uint8Array(Q)))throw W.Error(Q);return Q}return Q}).Encode((Q)=>Q)}};Z.BooleanString=K2.BooleanString;Z.ObjectString=K2.ObjectString;Z.ArrayString=K2.ArrayString;Z.ArrayQuery=K2.ArrayQuery;Z.Numeric=K2.Numeric;Z.Integer=K2.Integer;Z.File=(J)=>{if(J?.type)BB();return K2.File({default:"File",...J,extension:J?.type,type:"string",format:"binary"})};Z.Files=(J)=>{if(J?.type)BB();return K2.Files({...J,elysiaMeta:"Files",default:"Files",extension:J?.type,type:"array",items:{...J,default:"Files",type:"string",format:"binary"}})};Z.Nullable=K2.Nullable;Z.MaybeEmpty=K2.MaybeEmpty;Z.Cookie=K2.Cookie;Z.Date=K2.Date;Z.UnionEnum=K2.UnionEnum;Z.NoValidate=K2.NoValidate;Z.Form=K2.Form;Z.ArrayBuffer=K2.ArrayBuffer;Z.Uint8Array=K2.Uint8Array;var Kh=(J)=>{if(J.startsWith("async"))J=J.slice(5);J=J.trimStart();let Y=-1;if(J.charCodeAt(0)===40){if(Y=J.indexOf("=>",J.indexOf(")")),Y!==-1){let X=Y;while(X>0)if(J.charCodeAt(--X)===41)break;let M=J.slice(Y+2);if(M.charCodeAt(0)===32)M=M.trimStart();return[J.slice(1,X),M,{isArrowReturn:M.charCodeAt(0)!==123}]}}if(/^(\w+)=>/g.test(J)){if(Y=J.indexOf("=>"),Y!==-1){let X=J.slice(Y+2);if(X.charCodeAt(0)===32)X=X.trimStart();return[J.slice(0,Y),X,{isArrowReturn:X.charCodeAt(0)!==123}]}}if(J.startsWith("function")){Y=J.indexOf("(");let X=J.indexOf(")");return[J.slice(Y+1,X),J.slice(X+2),{isArrowReturn:!1}]}let W=J.indexOf("(");if(W!==-1){let X=J.indexOf(`
`,2),M=J.slice(0,X),G=M.lastIndexOf(")")+1,H=J.slice(X+1);return[M.slice(W,G),"{"+H,{isArrowReturn:!1}]}let Q=J.split(`
`,2);return[Q[0],Q[1],{isArrowReturn:!1}]},zh=(J)=>{let Y=J.indexOf("{");if(Y===-1)return[-1,0];let W=Y+1,Q=1;for(;W<J.length;W++){let X=J.charCodeAt(W);if(X===123)Q++;else if(X===125)Q--;if(Q===0)break}if(Q!==0)return[0,J.length];return[Y,W+1]},Lh=(J)=>{let Y=J.lastIndexOf("}");if(Y===-1)return[-1,0];let W=Y-1,Q=1;for(;W>=0;W--){let X=J.charCodeAt(W);if(X===125)Q++;else if(X===123)Q--;if(Q===0)break}if(Q!==0)return[-1,0];return[W,Y+1]},YL=(J)=>{while(!0){let Y=J.indexOf(":");if(Y===-1)break;let W=J.indexOf(",",Y);if(W===-1)W=J.indexOf("}",Y)-1;if(W===-2)W=J.length;J=J.slice(0,Y)+J.slice(W)}return J},WL=(J)=>{let Y=!1;if(J.charCodeAt(0)===40)J=J.slice(1,-1);if(J.charCodeAt(0)===123)Y=!0,J=J.slice(1,-1);J=J.replace(/( |\t|\n)/g,"").trim();let W=[];while(!0){let[X,M]=zh(J);if(X===-1)break;if(W.push(J.slice(0,X-1)),J.charCodeAt(M)===44)M++;J=J.slice(M)}if(J=YL(J),J)W=W.concat(J.split(","));let Q=Object.create(null);for(let X of W){if(X.indexOf(",")===-1){Q[X]=!0;continue}for(let M of X.split(","))Q[M.trim()]=!0}return{hasParenthesis:Y,parameters:Q}},Sh=(J,Y)=>{let{parameters:W,hasParenthesis:Q}=WL(J);if(W.query)Y.query=!0;if(W.headers)Y.headers=!0;if(W.body)Y.body=!0;if(W.cookie)Y.cookie=!0;if(W.set)Y.set=!0;if(W.server)Y.server=!0;if(W.route)Y.route=!0;if(W.url)Y.url=!0;if(W.path)Y.path=!0;if(Q)return`{ ${Object.keys(W).join(", ")} }`;return Object.keys(W).join(", ")},wz=(J,Y,W)=>{let Q=new RegExp(`${J.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}[\\n\\t,; ]`);if(W!==void 0)Q.lastIndex=W;let X=Q.exec(Y);return X?X.index:-1},QL=(J,Y,W=0)=>{if(W>5)return[];let Q=[],X=Y;while(!0){let M=wz(" = "+J,X);if(M===-1)M=wz("="+J,X);if(M===-1){let B=X.indexOf(" = "+J);if(B===-1)B=X.indexOf("="+J);if(B+3+J.length!==X.length)break;M=B}let G=X.slice(0,M),H=G.lastIndexOf(" "),U=G.slice(H!==-1?H+1:-1);if(U==="}"){let[B,A]=Lh(G);Q.push(YL(X.slice(B,A))),X=X.slice(M+3+J.length);continue}while(U.charCodeAt(0)===44)U=U.slice(1);while(U.charCodeAt(0)===9)U=U.slice(1);if(!U.includes("("))Q.push(U);X=X.slice(M+3+J.length)}for(let M of Q){if(M.charCodeAt(0)===123)continue;let G=QL(M,Y);if(G.length>0)Q.push(...G)}return Q},Vh=(J)=>{if(!J)return;if(J.charCodeAt(0)!==123)return J;if(J=J.slice(2,-2),!J.includes(",")){if(J.indexOf("...")!==-1)return J.slice(J.indexOf("...")+3);return}let Y=J.indexOf("...");if(Y===-1)return;return J.slice(Y+3).trimEnd()},Fh=(J,Y,W)=>{let Q=(X,M)=>new RegExp(`${M}\\.(${X})|${M}\\["${X}"\\]|${M}\\['${X}'\\]`).test(J);for(let X of Y){if(!X)continue;if(X.charCodeAt(0)===123){let M=WL(X).parameters;if(M.query)W.query=!0;if(M.headers)W.headers=!0;if(M.body)W.body=!0;if(M.cookie)W.cookie=!0;if(M.set)W.set=!0;if(M.server)W.server=!0;if(M.url)W.url=!0;if(M.route)W.route=!0;if(M.path)W.path=!0;continue}if(!W.query&&(Q("query",X)||J.includes("return "+X)||J.includes("return "+X+".query")))W.query=!0;if(!W.headers&&Q("headers",X))W.headers=!0;if(!W.body&&Q("body",X))W.body=!0;if(!W.cookie&&Q("cookie",X))W.cookie=!0;if(!W.set&&Q("set",X))W.set=!0;if(!W.server&&Q("server",X))W.server=!0;if(!W.route&&Q("route",X))W.route=!0;if(!W.url&&Q("url",X))W.url=!0;if(!W.path&&Q("path",X))W.path=!0;if(W.query&&W.headers&&W.body&&W.cookie&&W.set&&W.server&&W.route&&W.url&&W.path)break}return Y},Eh=(J,Y,W)=>{try{let Q=new RegExp(`\\w\\((.*?)?${J}`,"gs");Q.test(Y);let X=Y.charCodeAt(Q.lastIndex);if(X===41||X===44)return W.query=!0,W.headers=!0,W.body=!0,W.cookie=!0,W.set=!0,W.server=!0,W.url=!0,W.route=!0,W.path=!0,!0;return!1}catch(Q){return console.log("[Sucrose] warning: unexpected isContextPassToFunction error, you may continue development as usual but please report the following to maintainers:"),console.log("--- body ---"),console.log(Y),console.log("--- context ---"),console.log(J),!0}},OM,zM={},kz=(J=0)=>{if(OM)clearTimeout(OM);OM=setTimeout(()=>{if(zM={},OM=void 0,wY)Bun.gc(!1)},J)},QB=(J,Y)=>{return{body:J.body||Y.body,cookie:J.cookie||Y.cookie,headers:J.headers||Y.headers,query:J.query||Y.query,set:J.set||Y.set,server:J.server||Y.server,url:J.url||Y.url,route:J.route||Y.route,path:J.path||Y.path}},mQ=(J,Y={query:!1,headers:!1,body:!1,cookie:!1,set:!1,server:!1,url:!1,route:!1,path:!1})=>{let W=[];if(J.request?.length)W.push(...J.request);if(J.beforeHandle?.length)W.push(...J.beforeHandle);if(J.parse?.length)W.push(...J.parse);if(J.error?.length)W.push(...J.error);if(J.transform?.length)W.push(...J.transform);if(J.afterHandle?.length)W.push(...J.afterHandle);if(J.mapResponse?.length)W.push(...J.mapResponse);if(J.afterResponse?.length)W.push(...J.afterResponse);if(J.handler&&typeof J.handler==="function")W.push(J.handler);for(let Q=0;Q<W.length;Q++){let X=W[Q];if(!X)continue;let M=typeof X==="object"?X.fn:X;if(typeof M!=="function")continue;let G=M.toString(),H=RQ(G),U=zM[H];if(U){Y=QB(Y,U);continue}let B={query:!1,headers:!1,body:!1,cookie:!1,set:!1,server:!1,url:!1,route:!1,path:!1},[A,N]=Kh(G),D=Sh(A,B),q=Vh(D);if(q){let K=QL(q,N.slice(1,-1));K.splice(0,-1,q);let O=N;if(O.charCodeAt(0)===123&&O.charCodeAt(N.length-1)===125)O=O.slice(1,-1);if(!Eh(q,O,B))Fh(O,K,B);if(!B.query&&O.includes("return "+q+".query"))B.query=!0}if(!zM[H])zM[H]=B;if(Y=QB(Y,B),Y.query&&Y.headers&&Y.body&&Y.cookie&&Y.set&&Y.server&&Y.url&&Y.route&&Y.path)break}return Y},$L=pQ(gb(),1),jh=pQ(TM(),1);class U7{name;jar;initial;constructor(J,Y,W={}){this.name=J,this.jar=Y,this.initial=W}get cookie(){return this.jar[this.name]??this.initial}set cookie(J){if(!(this.name in this.jar))this.jar[this.name]=this.initial;this.jar[this.name]=J}get setCookie(){if(!(this.name in this.jar))this.jar[this.name]=this.initial;return this.jar[this.name]}set setCookie(J){this.cookie=J}get value(){return this.cookie.value}set value(J){this.setCookie.value=J}get expires(){return this.cookie.expires}set expires(J){this.setCookie.expires=J}get maxAge(){return this.cookie.maxAge}set maxAge(J){this.setCookie.maxAge=J}get domain(){return this.cookie.domain}set domain(J){this.setCookie.domain=J}get path(){return this.cookie.path}set path(J){this.setCookie.path=J}get secure(){return this.cookie.secure}set secure(J){this.setCookie.secure=J}get httpOnly(){return this.cookie.httpOnly}set httpOnly(J){this.setCookie.httpOnly=J}get sameSite(){return this.cookie.sameSite}set sameSite(J){this.setCookie.sameSite=J}get priority(){return this.cookie.priority}set priority(J){this.setCookie.priority=J}get partitioned(){return this.cookie.partitioned}set partitioned(J){this.setCookie.partitioned=J}get secrets(){return this.cookie.secrets}set secrets(J){this.setCookie.secrets=J}update(J){return this.setCookie=Object.assign(this.cookie,typeof J==="function"?J(this.cookie):J),this}set(J){return this.setCookie=Object.assign({...this.initial,value:this.value},typeof J==="function"?J(this.cookie):J),this}remove(){if(this.value===void 0)return;return this.set({expires:new Date(0),maxAge:0,value:""}),this}toString(){return typeof this.value==="object"?JSON.stringify(this.value):this.value?.toString()??""}}var xz=(J,Y,W)=>{if(!J.cookie)J.cookie={};return new Proxy(Y,{get(Q,X){if(X in Y)return new U7(X,J.cookie,Object.assign({},W??{},Y[X]));return new U7(X,J.cookie,Object.assign({},W))}})},XL=async(J,Y,{secrets:W,sign:Q,...X}={})=>{if(!Y)return xz(J,{},X);let M=typeof W==="string";if(Q&&Q!==!0&&!Array.isArray(Q))Q=[Q];let G={},H=$L.parse(Y);for(let[U,B]of Object.entries(H)){if(B===void 0)continue;let A=jh.default(B);if(A){let N=A.charCodeAt(0),D=A.charCodeAt(A.length-1);if(N===123&&D===125||N===91&&D===93)try{A=JSON.parse(A)}catch{}}if(Q===!0||Q?.includes(U)){if(!W)throw Error("No secret is provided to cookie plugin");if(M){let N=await jz(A,W);if(N===!1)throw new YB(U);A=N}else{let N=!0;for(let D=0;D<W.length;D++){let q=await jz(A,W[D]);if(q!==!1){N=!0,A=q;break}}if(!N)throw new YB(U)}}G[U]={value:A}}return xz(J,G,X)},ML=(J)=>{if(!J||!Q5(J))return;let Y=[];for(let[W,Q]of Object.entries(J)){if(!W||!Q)continue;let X=Q.value;if(X===void 0||X===null)continue;Y.push($L.serialize(W,typeof X==="object"?JSON.stringify(X):X+"",Q))}if(Y.length===0)return;if(Y.length===1)return Y[0];return Y},z5=(J,Y)=>{if(!wY&&J instanceof Promise)return J.then((M)=>z5(M,Y));let W=J.size,Q=Y&&(Y.status===206||Y.status===304||Y.status===412||Y.status===416),X=Q?{"transfer-encoding":"chunked"}:{"accept-ranges":"bytes","content-range":W?`bytes 0-${W-1}/${W}`:void 0,"transfer-encoding":"chunked"};if(!Y&&!W)return new Response(J);if(!Y)return new Response(J,{headers:X});if(Y.headers instanceof Headers){for(let M of Object.keys(X))if(M in Y.headers)Y.headers.append(M,X[M]);if(Q)Y.headers.delete("content-length"),Y.headers.delete("accept-ranges");return new Response(J,Y)}if(Q5(Y.headers))return new Response(J,{status:Y.status,headers:Object.assign(X,Y.headers)});return new Response(J,{status:Y.status,headers:X})},GL=(J,Y)=>{if(!J)return J;J.delete("set-cookie");for(let W=0;W<Y.length;W++){let Q=Y[W].indexOf("=");J.append("set-cookie",`${Y[W].slice(0,Q)}=${Y[W].slice(Q+1)||""}`)}return J},gz=(J,Y)=>{if(Y?.headers){if(J){if(eU)Object.assign(Y.headers,J.headers.toJSON());else for(let[W,Q]of J.headers.entries())if(W in Y.headers)Y.headers[W]=Q}if(Y.status===200)Y.status=J.status;if(Y.headers["content-encoding"])delete Y.headers["content-encoding"];return Y}if(!J)return{headers:{},status:Y?.status??200};if(eU){if(Y={headers:J.headers.toJSON(),status:Y?.status??200},Y.headers["content-encoding"])delete Y.headers["content-encoding"];return Y}Y={headers:{},status:Y?.status??200};for(let[W,Q]of J.headers.entries()){if(W==="content-encoding")continue;if(W in Y.headers)Y.headers[W]=Q}return Y},AB=({mapResponse:J,mapCompactResponse:Y})=>async(W,Q,X)=>{let M=W.next?.();if(M instanceof Promise)M=await M;if(M?.value instanceof ReadableStream)W=M.value;else if(M&&(typeof M?.done>"u"||M?.done)){if(Q)return J(M.value,Q,X);return Y(M.value,X)}let G=M?.value?.sse??W?.sse??Q?.headers["content-type"]?.startsWith("text/event-stream"),H=G?(B)=>`data: ${B}

`:(B)=>B,U=G?"text/event-stream":M?.value&&typeof M?.value==="object"?"application/json":"text/plain";if(Q?.headers){if(!Q.headers["transfer-encoding"])Q.headers["transfer-encoding"]="chunked";if(!Q.headers["content-type"])Q.headers["content-type"]=U;if(!Q.headers["cache-control"])Q.headers["cache-control"]="no-cache"}else Q={status:200,headers:{"content-type":U,"transfer-encoding":"chunked","cache-control":"no-cache",connection:"keep-alive"}};return new Response(new ReadableStream({async start(B){let A=!1;if(X?.signal?.addEventListener("abort",()=>{A=!0;try{B.close()}catch{}}),!M||M.value instanceof ReadableStream);else if(M.value!==void 0&&M.value!==null)if(M.value.toSSE)B.enqueue(M.value.toSSE());else if(typeof M.value==="object")try{B.enqueue(H(JSON.stringify(M.value)))}catch{B.enqueue(H(M.value.toString()))}else B.enqueue(H(M.value.toString()));try{for await(let N of W){if(A)break;if(N===void 0||N===null)continue;if(N.toSSE)B.enqueue(N.toSSE());else{if(typeof N==="object")try{B.enqueue(H(JSON.stringify(N)))}catch{B.enqueue(H(N.toString()))}else B.enqueue(H(N.toString()));if(!G)await new Promise((D)=>setTimeout(()=>D(),0))}}}catch(N){console.warn(N)}try{B.close()}catch{}}}),Q)};async function*yz(J){let Y=J.body;if(!Y)return;let W=Y.getReader(),Q=new TextDecoder;try{while(!0){let{done:X,value:M}=await W.read();if(X)break;if(typeof M==="string")yield M;else yield Q.decode(M)}}finally{W.releaseLock()}}var kM=(J)=>{if(typeof J.status==="string")J.status=bQ[J.status];if(J.cookie&&Q5(J.cookie)){let Y=ML(J.cookie);if(Y)J.headers["set-cookie"]=Y}if(J.headers["set-cookie"]&&Array.isArray(J.headers["set-cookie"]))J.headers=GL(new Headers(J.headers),J.headers["set-cookie"])},HL=(J)=>{let Y=AB(J);return(W,Q,X)=>{let M=!1;if(Q.headers instanceof Headers)for(let H of Q.headers.keys())if(H==="set-cookie"){if(M)continue;M=!0;for(let U of Q.headers.getSetCookie())W.headers.append("set-cookie",U)}else W.headers.append(H,Q.headers?.get(H)??"");else for(let H in Q.headers)W.headers.append(H,Q.headers[H]);let G=Q.status??200;if(W.status!==G&&G!==200&&(W.status<=300||W.status>400))return W.text().then((H)=>{let U=new Response(H,{headers:W.headers,status:Q.status});if(!U.headers.has("content-length")&&U.headers.get("transfer-encoding")==="chunked")return Y(yz(U),gz(U,Q),X);return U});if(!W.headers.has("content-length")&&W.headers.get("transfer-encoding")==="chunked")return Y(yz(W),gz(W,Q),X);return W}},PM=(J,Y={headers:{}})=>{let W=J.path,Q=oz[W.slice(W.lastIndexOf(".")+1)];if(Q)Y.headers["content-type"]=Q;if(J.stats&&Y.status!==206&&Y.status!==304&&Y.status!==412&&Y.status!==416)return J.stats.then((X)=>{let M=X.size;if(M!==void 0)Y.headers["content-range"]=`bytes 0-${M-1}/${M}`,Y.headers["content-length"]=M;return z5(J.value,Y)});return z5(J.value,Y)},q8=(J,Y,W)=>{if(Q5(Y.headers)||Y.status!==200||Y.cookie)switch(kM(Y),J?.constructor?.name){case"String":return Y.headers["content-type"]="text/plain",new Response(J,Y);case"Array":case"Object":return Y.headers["content-type"]="application/json",new Response(JSON.stringify(J),Y);case"ElysiaFile":return PM(J,Y);case"File":return z5(J,Y);case"Blob":return z5(J,Y);case"ElysiaCustomStatusResponse":return Y.status=J.code,q8(J.response,Y,W);case void 0:if(!J)return new Response("",Y);return new Response(JSON.stringify(J),Y);case"Response":return CM(J,Y,W);case"Error":return a7(J,Y);case"Promise":return J.then((Q)=>q8(Q,Y,W));case"Function":return q8(J(),Y,W);case"Number":case"Boolean":return new Response(J.toString(),Y);case"Cookie":if(J instanceof U7)return new Response(J.value,Y);return new Response(J?.toString(),Y);case"FormData":return new Response(J,Y);default:if(J instanceof Response)return CM(J,Y,W);if(J instanceof Promise)return J.then((Q)=>q8(Q,Y));if(J instanceof Error)return a7(J,Y);if(J instanceof O2)return Y.status=J.code,q8(J.response,Y,W);if(typeof J?.next==="function"||J instanceof ReadableStream)return dQ(J,Y,W);if(typeof J?.then==="function")return J.then((Q)=>q8(Q,Y));if(typeof J?.toResponse==="function")return q8(J.toResponse(),Y);if("charCodeAt"in J){let Q=J.charCodeAt(0);if(Q===123||Q===91){if(!Y.headers["Content-Type"])Y.headers["Content-Type"]="application/json";return new Response(JSON.stringify(J),Y)}}return new Response(J,Y)}if(typeof J?.next==="function"||J instanceof ReadableStream)return dQ(J,Y,W);return M7(J,W)},N8=(J,Y,W)=>{if(J===void 0||J===null)return;if(Q5(Y.headers)||Y.status!==200||Y.cookie)switch(kM(Y),J?.constructor?.name){case"String":return Y.headers["content-type"]="text/plain",new Response(J,Y);case"Array":case"Object":return Y.headers["content-type"]="application/json",new Response(JSON.stringify(J),Y);case"ElysiaFile":return PM(J,Y);case"File":return z5(J,Y);case"Blob":return z5(J,Y);case"ElysiaCustomStatusResponse":return Y.status=J.code,N8(J.response,Y,W);case void 0:if(!J)return;return new Response(JSON.stringify(J),Y);case"Response":return CM(J,Y,W);case"Promise":return J.then((Q)=>N8(Q,Y));case"Error":return a7(J,Y);case"Function":return N8(J(),Y);case"Number":case"Boolean":return new Response(J.toString(),Y);case"FormData":return new Response(J);case"Cookie":if(J instanceof U7)return new Response(J.value,Y);return new Response(J?.toString(),Y);default:if(J instanceof Response)return CM(J,Y,W);if(J instanceof Promise)return J.then((Q)=>N8(Q,Y));if(J instanceof Error)return a7(J,Y);if(J instanceof O2)return Y.status=J.code,N8(J.response,Y,W);if(typeof J?.next==="function"||J instanceof ReadableStream)return dQ(J,Y,W);if(typeof J?.then==="function")return J.then((Q)=>N8(Q,Y));if(typeof J?.toResponse==="function")return N8(J.toResponse(),Y);if("charCodeAt"in J){let Q=J.charCodeAt(0);if(Q===123||Q===91){if(!Y.headers["Content-Type"])Y.headers["Content-Type"]="application/json";return new Response(JSON.stringify(J),Y)}}return new Response(J,Y)}else switch(J?.constructor?.name){case"String":return Y.headers["content-type"]="text/plain",new Response(J);case"Array":case"Object":return Y.headers["content-type"]="application/json",new Response(JSON.stringify(J),Y);case"ElysiaFile":return PM(J,Y);case"File":return z5(J,Y);case"Blob":return z5(J,Y);case"ElysiaCustomStatusResponse":return Y.status=J.code,N8(J.response,Y,W);case void 0:if(!J)return new Response("");return new Response(JSON.stringify(J),{headers:{"content-type":"application/json"}});case"Response":return J;case"Promise":return J.then((Q)=>{let X=N8(Q,Y);if(X!==void 0)return X});case"Error":return a7(J,Y);case"Function":return M7(J(),W);case"Number":case"Boolean":return new Response(J.toString());case"Cookie":if(J instanceof U7)return new Response(J.value,Y);return new Response(J?.toString(),Y);case"FormData":return new Response(J);default:if(J instanceof Response)return J;if(J instanceof Promise)return J.then((Q)=>N8(Q,Y));if(J instanceof Error)return a7(J,Y);if(J instanceof O2)return Y.status=J.code,N8(J.response,Y,W);if(typeof J?.next==="function"||J instanceof ReadableStream)return dQ(J,Y,W);if(typeof J?.then==="function")return J.then((Q)=>N8(Q,Y));if(typeof J?.toResponse==="function")return N8(J.toResponse(),Y);if("charCodeAt"in J){let Q=J.charCodeAt(0);if(Q===123||Q===91){if(!Y.headers["Content-Type"])Y.headers["Content-Type"]="application/json";return new Response(JSON.stringify(J),Y)}}return new Response(J)}},M7=(J,Y)=>{switch(J?.constructor?.name){case"String":return new Response(J,{headers:{"Content-Type":"text/plain"}});case"Object":case"Array":return new Response(JSON.stringify(J),{headers:{"Content-Type":"application/json"}});case"ElysiaFile":return PM(J);case"File":return z5(J);case"Blob":return z5(J);case"ElysiaCustomStatusResponse":return q8(J.response,{status:J.code,headers:{}});case void 0:if(!J)return new Response("");return new Response(JSON.stringify(J),{headers:{"content-type":"application/json"}});case"Response":return J;case"Error":return a7(J);case"Promise":return J.then((W)=>M7(W,Y));case"Function":return M7(J(),Y);case"Number":case"Boolean":return new Response(J.toString());case"FormData":return new Response(J);default:if(J instanceof Response)return J;if(J instanceof Promise)return J.then((W)=>M7(W,Y));if(J instanceof Error)return a7(J);if(J instanceof O2)return q8(J.response,{status:J.code,headers:{}});if(typeof J?.next==="function"||J instanceof ReadableStream)return dQ(J,void 0,Y);if(typeof J?.then==="function")return J.then((W)=>q8(W,set));if(typeof J?.toResponse==="function")return M7(J.toResponse());if("charCodeAt"in J){let W=J.charCodeAt(0);if(W===123||W===91)return new Response(JSON.stringify(J),{headers:{"Content-Type":"application/json"}})}return new Response(J)}},a7=(J,Y)=>new Response(JSON.stringify({name:J?.name,message:J?.message,cause:J?.cause}),{status:Y?.status!==200?Y?.status??500:500,headers:Y?.headers}),Ph=(J,Y,W={})=>{if(typeof J==="function")return;let Q=q8(J,{headers:W});if(!Y.parse?.length&&!Y.transform?.length&&!Y.beforeHandle?.length&&!Y.afterHandle?.length)return()=>Q.clone()},CM=HL({mapResponse:q8,mapCompactResponse:M7}),dQ=AB({mapResponse:q8,mapCompactResponse:M7}),$B={name:"web-standard",isWebStandard:!0,handler:{mapResponse:q8,mapEarlyResponse:N8,mapCompactResponse:M7,createStaticHandler:Ph},composeHandler:{mapResponseContext:"c.request",preferWebstandardHeaders:!0,headers:`c.headers={}
for(const [k,v] of c.request.headers.entries())c.headers[k]=v
`,parser:{json(J){if(J)return`try{c.body=await c.request.json()}catch{}
`;return`c.body=await c.request.json()
`},text(){return`c.body=await c.request.text()
`},urlencoded(){return`c.body=parseQuery(await c.request.text())
`},arrayBuffer(){return`c.body=await c.request.arrayBuffer()
`},formData(J){let Y=`
c.body={}
`;if(J)Y+="let form;try{form=await c.request.formData()}catch{}";else Y+=`const form=await c.request.formData()
`;return Y+`for(const key of form.keys()){if(c.body[key]) continue
const value=form.getAll(key)
if(value.length===1)c.body[key]=value[0]
else c.body[key]=value}`}}},async stop(J,Y){if(!J.server)throw Error("Elysia isn't running. Call `app.listen` to start the server.");if(J.server){if(J.server.stop(Y),J.server=null,J.event.stop?.length)for(let W=0;W<J.event.stop.length;W++)J.event.stop[W].fn(J)}},composeGeneralHandler:{parameters:"r",createContext(J){let Y="",W="",Q=J.setHeaders;for(let G of Object.keys(J.decorator))Y+=`,'${G}':decorator['${G}']`;let X=J.config.handler?.standardHostname??!0,M=!!J.event.trace?.length;if(W+=`const u=r.url,s=u.indexOf('/',${X?11:7}),qi=u.indexOf('?',s+1)
let p
if(qi===-1)p=u.substring(s)
else p=u.substring(s, qi)
`,M)W+=`const id=randomId()
`;if(W+="const c={request:r,store,qi,path:p,url:u,redirect,status,set:{headers:",W+=Object.keys(Q??{}).length?"Object.assign({},app.setHeaders)":"Object.create(null)",W+=",status:200}",J.inference.server)W+=",get server(){return app.getServer()}";if(M)W+=",[ELYSIA_REQUEST_ID]:id";return W+=Y,W+=`}
`,W},error404(J,Y,W=""){let Q="if(route===null){"+W+`
return `;if(Y)Q+=`app.handleError(c,notFound,false,${this.parameters})`;else Q+=J?"new Response(error404Message,{status:c.set.status===200?404:c.set.status,headers:c.set.headers})":"error404.clone()";return Q+="}",{declare:Y?"":`const error404Message=notFound.message.toString()
const error404=new Response(error404Message,{status:404})
`,code:Q}}},composeError:{mapResponseContext:"",validationError:"return new Response(error.message,{headers:Object.assign({'content-type':'application/json'},set.headers),status:set.status})",unknownError:"return new Response(error.message,{headers:set.headers,status:error.status??set.status??500})"},listen(){return()=>{throw Error("WebStandard does not support listen, you might want to export default Elysia.fetch instead")}}},a2=(J,Y,W)=>{if(Q5(Y.headers)||Y.status!==200||Y.cookie)switch(kM(Y),J?.constructor?.name){case"String":return new Response(J,Y);case"Array":case"Object":return Y.headers["content-type"]="application/json",new Response(JSON.stringify(J),Y);case"ElysiaFile":return z5(J.value);case"File":return z5(J,Y);case"Blob":return z5(J,Y);case"ElysiaCustomStatusResponse":return Y.status=J.code,a2(J.response,Y,W);case void 0:if(!J)return new Response("",Y);return new Response(JSON.stringify(J),Y);case"Response":return IM(J,Y,W);case"Error":return s7(J,Y);case"Promise":return J.then((Q)=>a2(Q,Y,W));case"Function":return a2(J(),Y,W);case"Number":case"Boolean":return new Response(J.toString(),Y);case"Cookie":if(J instanceof U7)return new Response(J.value,Y);return new Response(J?.toString(),Y);case"FormData":return new Response(J,Y);default:if(J instanceof Response)return IM(J,Y,W);if(J instanceof Promise)return J.then((Q)=>a2(Q,Y));if(J instanceof Error)return s7(J,Y);if(J instanceof O2)return Y.status=J.code,a2(J.response,Y,W);if(typeof J?.next==="function"||J instanceof ReadableStream)return cQ(J,Y,W);if(typeof J?.then==="function")return J.then((Q)=>a2(Q,Y));if(typeof J?.toResponse==="function")return a2(J.toResponse(),Y);if("charCodeAt"in J){let Q=J.charCodeAt(0);if(Q===123||Q===91){if(!Y.headers["Content-Type"])Y.headers["Content-Type"]="application/json";return new Response(JSON.stringify(J),Y)}}return new Response(J,Y)}if(typeof J?.next==="function"||J instanceof ReadableStream)return cQ(J,Y,W);return G7(J,W)},r2=(J,Y,W)=>{if(J===void 0||J===null)return;if(Q5(Y.headers)||Y.status!==200||Y.cookie)switch(kM(Y),J?.constructor?.name){case"String":return new Response(J,Y);case"Array":case"Object":return Y.headers["content-type"]="application/json",new Response(JSON.stringify(J),Y);case"ElysiaFile":return z5(J.value);case"File":return z5(J,Y);case"Blob":return z5(J,Y);case"ElysiaCustomStatusResponse":return Y.status=J.code,r2(J.response,Y,W);case void 0:if(!J)return;return new Response(JSON.stringify(J),Y);case"Response":return IM(J,Y,W);case"Promise":return J.then((Q)=>r2(Q,Y));case"Error":return s7(J,Y);case"Function":return r2(J(),Y);case"Number":case"Boolean":return new Response(J.toString(),Y);case"FormData":return new Response(J);case"Cookie":if(J instanceof U7)return new Response(J.value,Y);return new Response(J?.toString(),Y);default:if(J instanceof Response)return IM(J,Y,W);if(J instanceof Promise)return J.then((Q)=>r2(Q,Y));if(J instanceof Error)return s7(J,Y);if(J instanceof O2)return Y.status=J.code,r2(J.response,Y,W);if(typeof J?.next==="function"||J instanceof ReadableStream)return cQ(J,Y,W);if(typeof J?.then==="function")return J.then((Q)=>r2(Q,Y));if(typeof J?.toResponse==="function")return r2(J.toResponse(),Y);if("charCodeAt"in J){let Q=J.charCodeAt(0);if(Q===123||Q===91){if(!Y.headers["Content-Type"])Y.headers["Content-Type"]="application/json";return new Response(JSON.stringify(J),Y)}}return new Response(J,Y)}else switch(J?.constructor?.name){case"String":return new Response(J);case"Array":case"Object":return Y.headers["content-type"]="application/json",new Response(JSON.stringify(J),Y);case"ElysiaFile":return z5(J.value);case"File":return z5(J,Y);case"Blob":return z5(J,Y);case"ElysiaCustomStatusResponse":return Y.status=J.code,r2(J.response,Y,W);case void 0:if(!J)return new Response("");return new Response(JSON.stringify(J),{headers:{"content-type":"application/json"}});case"Response":return J;case"Promise":return J.then((Q)=>{let X=r2(Q,Y);if(X!==void 0)return X});case"Error":return s7(J,Y);case"Function":return G7(J(),W);case"Number":case"Boolean":return new Response(J.toString());case"Cookie":if(J instanceof U7)return new Response(J.value,Y);return new Response(J?.toString(),Y);case"FormData":return new Response(J);default:if(J instanceof Response)return J;if(J instanceof Promise)return J.then((Q)=>r2(Q,Y));if(J instanceof Error)return s7(J,Y);if(J instanceof O2)return Y.status=J.code,r2(J.response,Y,W);if(typeof J?.next==="function"||J instanceof ReadableStream)return cQ(J,Y,W);if(typeof J?.then==="function")return J.then((Q)=>r2(Q,Y));if(typeof J?.toResponse==="function")return r2(J.toResponse(),Y);if("charCodeAt"in J){let Q=J.charCodeAt(0);if(Q===123||Q===91){if(!Y.headers["Content-Type"])Y.headers["Content-Type"]="application/json";return new Response(JSON.stringify(J),Y)}}return new Response(J)}},G7=(J,Y)=>{switch(J?.constructor?.name){case"String":return new Response(J);case"Object":case"Array":return new Response(JSON.stringify(J),{headers:{"Content-Type":"application/json"}});case"ElysiaFile":return z5(J.value);case"File":return z5(J);case"Blob":return z5(J);case"ElysiaCustomStatusResponse":return a2(J.response,{status:J.code,headers:{}});case void 0:if(!J)return new Response("");return new Response(JSON.stringify(J),{headers:{"content-type":"application/json"}});case"Response":return J;case"Error":return s7(J);case"Promise":return J.then((W)=>G7(W,Y));case"Function":return G7(J(),Y);case"Number":case"Boolean":return new Response(J.toString());case"FormData":return new Response(J);default:if(J instanceof Response)return J;if(J instanceof Promise)return J.then((W)=>G7(W,Y));if(J instanceof Error)return s7(J);if(J instanceof O2)return a2(J.response,{status:J.code,headers:{}});if(typeof J?.next==="function"||J instanceof ReadableStream)return cQ(J,void 0,Y);if(typeof J?.then==="function")return J.then((W)=>a2(W,set));if(typeof J?.toResponse==="function")return G7(J.toResponse());if("charCodeAt"in J){let W=J.charCodeAt(0);if(W===123||W===91)return new Response(JSON.stringify(J),{headers:{"Content-Type":"application/json"}})}return new Response(J)}},s7=(J,Y)=>new Response(JSON.stringify({name:J?.name,message:J?.message,cause:J?.cause}),{status:Y?.status!==200?Y?.status??500:500,headers:Y?.headers}),Ch=(J,Y,W={})=>{if(typeof J==="function")return;let Q=a2(J,{headers:W});if(!Y.parse?.length&&!Y.transform?.length&&!Y.beforeHandle?.length&&!Y.afterHandle?.length)return()=>Q.clone()},IM=HL({mapResponse:a2,mapCompactResponse:G7}),cQ=AB({mapResponse:a2,mapCompactResponse:G7}),Ih=pQ(TM(),1),kY=pQ(TM(),1),xY=1,gY=2,yY=4,H7=8;function UL(J,Y=0,W,Q){let X=Object.create(null),M=0,G=J.length,H=Y-1,U=H;for(let A=0;A<G;A++)switch(J.charCodeAt(A)){case 38:B(J,A),H=A,U=A,M=0;break;case 61:if(U<=H)U=A;else M|=H7;break;case 43:if(U>H)M|=yY;else M|=xY;break;case 37:if(U>H)M|=H7;else M|=gY;break}if(H<G)B(J,G);return X;function B(A,N){let D=U>H,q=D?U:N,K=A.slice(H+1,q);if(!D&&K.length===0)return;let O=K;if(M&xY)O=O.replace(/\+/g," ");if(M&gY)O=kY.default(O)||O;let z="";if(D){let L=A.slice(U+1,N);if(M&yY)L=L.replace(/\+/g," ");if(M&H7)L=kY.default(L)||L;z=L}let V=X[O];if(W?.[O])if(z.charCodeAt(0)===91){if(Q?.[O])z=JSON.parse(z);else z=z.slice(1,-1).split(",");if(V===void 0)X[O]=z;else if(Array.isArray(V))V.push(...z);else X[O]=z,X[O].unshift(V)}else if(V===void 0)X[O]=z;else if(Array.isArray(V))V.push(z);else X[O]=[V,z];else X[O]=z}}function Rh(J,Y=0){let W=Object.create(null),Q=0,X=J.length,M=Y-1,G=M;for(let U=0;U<X;U++)switch(J.charCodeAt(U)){case 38:H(J,U),M=U,G=U,Q=0;break;case 61:if(G<=M)G=U;else Q|=H7;break;case 43:if(G>M)Q|=yY;else Q|=xY;break;case 37:if(G>M)Q|=H7;else Q|=gY;break}if(M<X)H(J,X);return W;function H(U,B){let A=G>M,N=A?G:B,D=U.slice(M+1,N);if(!A&&D.length===0)return;let q=D;if(Q&xY)q=q.replace(/\+/g," ");if(Q&gY)q=kY.default(q)||q;let K="";if(A){let z=U.slice(G+1,B);if(Q&yY)z=z.replace(/\+/g," ");if(Q&H7)z=kY.default(z)||z;K=z}let O=W[q];if(K.charCodeAt(0)===91&&K.charCodeAt(K.length-1)===93){try{K=JSON.parse(K)}catch{}if(O===void 0)W[q]=K;else if(Array.isArray(O))O.push(K);else W[q]=[O,K]}else if(K.charCodeAt(0)===123&&K.charCodeAt(K.length-1)===125){try{K=JSON.parse(K)}catch{}if(O===void 0)W[q]=K;else if(Array.isArray(O))O.push(K);else W[q]=[O,K]}else{if(K.includes(","))K=K.split(",");if(O===void 0)W[q]=K;else if(Array.isArray(O))O.push(K);else W[q]=[O,K]}}}function TY(J){let Y=Object.create(null),W=0,Q=J.length,X=-1,M=-1;for(let H=0;H<Q;H++)switch(J.charCodeAt(H)){case 38:G(J,H),X=H,M=H,W=0;break;case 61:if(M<=X)M=H;else W|=H7;break;case 43:if(M>X)W|=yY;else W|=xY;break;case 37:if(M>X)W|=H7;else W|=gY;break}if(X<Q)G(J,Q);return Y;function G(H,U){let B=M>X,A=B?M:U,N=H.slice(X+1,A);if(!B&&N.length===0)return;let D=N;if(W&xY)D=D.replace(/\+/g," ");if(W&gY)D=kY.default(D)||D;let q="";if(B){let O=H.slice(M+1,U);if(W&yY)O=O.replace(/\+/g," ");if(W&H7)O=kY.default(O)||O;q=O}let K=Y[D];if(K===void 0)Y[D]=q;else if(Array.isArray(K))K.push(q);else Y[D]=[K,q]}}var xM=Symbol("ElysiaTrace"),Q7=()=>{let{promise:J,resolve:Y}=Promise.withResolvers(),{promise:W,resolve:Q}=Promise.withResolvers(),{promise:X,resolve:M}=Promise.withResolvers(),G=[],H=[];return[(U)=>{if(U)G.push(U);return J},(U)=>{let B=[],A=[],N=null;for(let q=0;q<(U.total??0);q++){let{promise:K,resolve:O}=Promise.withResolvers(),{promise:z,resolve:V}=Promise.withResolvers(),{promise:L,resolve:S}=Promise.withResolvers(),g=[],d=[];B.push((I)=>{if(I)g.push(I);return K}),A.push((I)=>{let F={...I,end:z,error:L,index:q,onStop(R){if(R)d.push(R);return z}};O(F);for(let R=0;R<g.length;R++)g[R](F);return(R=null)=>{let j=performance.now();if(R)N=R;let x={end:j,error:R,get elapsed(){return j-I.begin}};for(let _=0;_<d.length;_++)d[_](x);V(j),S(R)}})}let D={...U,end:W,error:X,onEvent(q){for(let K=0;K<B.length;K++)B[K](q)},onStop(q){if(q)H.push(q);return W}};Y(D);for(let q=0;q<G.length;q++)G[q](D);return{resolveChild:A,resolve(q=null){let K=performance.now();if(!q&&N)q=N;let O={end:K,error:q,get elapsed(){return K-U.begin}};for(let z=0;z<H.length;z++)H[z](O);Q(K),M(q)}}}]},Th=(J)=>{return(Y)=>{let[W,Q]=Q7(),[X,M]=Q7(),[G,H]=Q7(),[U,B]=Q7(),[A,N]=Q7(),[D,q]=Q7(),[K,O]=Q7(),[z,V]=Q7(),[L,S]=Q7();return J({id:Y[nQ],context:Y,set:Y.set,onRequest:W,onParse:X,onTransform:G,onBeforeHandle:U,onHandle:A,onAfterHandle:D,onMapResponse:z,onAfterResponse:L,onError:K,time:Date.now(),store:Y.store}),{request:Q,parse:M,transform:H,beforeHandle:B,handle:N,afterHandle:q,error:O,mapResponse:V,afterResponse:S}}},D8=Symbol.for("TypeBox.Kind"),_h=Symbol.for("TypeBox.Hint"),BL=(J)=>/(\ |-|\t|\n|\.)/.test(J)||!isNaN(+J[0]),AL=(J,Y,W=!1)=>{if(typeof Y==="number")return`${J}[${Y}]`;if(BL(Y))return`${J}${W?"?.":""}["${Y}"]`;return`${J}${W?"?":""}.${Y}`},wh=(J)=>BL(J)?`"${J}"`:J,fz=(J,Y=0,W)=>{if(W.type!=="string"||W.const||W.trusted)return J;let Q="";for(let X=Y-1;X>=0;X--)Q+=`d.h${X}(`;return Q+J+")".repeat(Y)},NL=(J)=>{if(!J.allOf||D8 in J&&(J[D8]!=="Intersect"||J.type!=="object"))return J;let{allOf:Y,...W}=J;if(W.properties={},D8 in W)W[D8]="Object";for(let Q of Y){if(Q.type!=="object")continue;let{properties:X,required:M,type:G,[D8]:H,...U}=Q;if(M)W.required=W.required?W.required.concat(M):M;Object.assign(W,U);for(let B in Q.properties)W.properties[B]=NL(Q.properties[B])}return W},kh=(J,Y,W)=>{let Q=J.patternProperties["^(.*)$"]??J.patternProperties[Object.keys(J.patternProperties)[0]];if(!Q)return Y;let X=W.array;W.array++;let M=`(()=>{const ar${X}s=Object.keys(${Y}),ar${X}v={};for(let i=0;i<ar${X}s.length;i++){const ar${X}p=${Y}[ar${X}s[i]];ar${X}v[ar${X}s[i]]=${$7(Q,`ar${X}p`,W)}`,G=W.optionalsInArray[X+1];if(G)for(let H=0;H<G.length;H++){let U=`ar${X}v[ar${X}s[i]].${G[H]}`;M+=`;if(${U}===undefined)delete ${U}`}return M+=`}return ar${X}v})()`,M},xh=(J,Y,W)=>{let Q=W.array;W.array++;let X=Y==="v"&&!W.unions.length,M="";if(!X)M="(()=>{";M+=`const ar${Q}v=[`;for(let G=0;G<J.length;G++){if(G!==0)M+=",";M+=$7(J[G],AL(Y,G,W.parentIsOptional),W)}if(M+="];",!X)M+=`return ar${Q}v})()`;return M};function RM(J,Y=new WeakMap){if(J===null||typeof J!=="object"||typeof J==="function")return J;if(Y.has(J))return Y.get(J);if(Array.isArray(J)){let W=Array(J.length);Y.set(J,W);for(let Q=0;Q<J.length;Q++)W[Q]=RM(J[Q],Y);return W}if(typeof J==="object"){let W=Object.keys(J).concat(Object.getOwnPropertySymbols(J)),Q={};for(let X of W)Q[X]=RM(J[X],Y);return Q}return J}var gh=(J,Y,W)=>{if(W.TypeCompiler===void 0){if(!W.typeCompilerWanred)console.warn(Error("[exact-mirror] TypeBox's TypeCompiler is required to use Union")),W.typeCompilerWanred=!0;return Y}W.unionKeys[Y]=1;let Q=W.unions.length,X=W.unions[Q]=[],M=`(()=>{
`,G=(H)=>{if(!(D8 in H)||!H.$ref)return H;if(H[D8]==="This")return RM(W.definitions[H.$ref]);else if(H[D8]==="Ref")if(!W.modules)console.warn(Error("[exact-mirror] modules is required when using nested cyclic reference"));else return W.modules.Import(H.$ref);return H};for(let H=0;H<J.length;H++){let U=G(J[H]);if(Array.isArray(U.anyOf))for(let B=0;B<U.anyOf.length;B++)U.anyOf[B]=G(U.anyOf[B]);else if(U.items)if(Array.isArray(U.items))for(let B=0;B<U.items.length;B++)U.items[B]=G(U.items[B]);else U.items=G(U.items);X.push(f6.Compile(U)),M+=`if(d.unions[${Q}][${H}].Check(${Y})){return ${$7(U,Y,{...W,recursion:W.recursion+1,parentIsOptional:!0})}}
`}return M+=`return ${W.removeUnknownUnionType?"undefined":Y}})()`,M},$7=(J,Y,W)=>{if(!J)return"";let Q=Y==="v"&&!W.unions.length;if(D8 in J&&J[D8]==="Import"&&J.$ref in J.$defs)return $7(J.$defs[J.$ref],Y,{...W,definitions:Object.assign(W.definitions,J.$defs)});if(Q&&J.type!=="object"&&J.type!=="array"&&!J.anyOf)return`return ${fz("v",W.sanitize?.length,J)}`;if(W.recursion>=W.recursionLimit)return Y;let X="";if(J.$id&&_h in J)W.definitions[J.$id]=J;switch(J.type){case"object":if(J[D8]==="Record"){X=kh(J,Y,W);break}if(J=NL(J),X+="{",J.additionalProperties)X+=`...${Y},`;let M=Object.keys(J.properties);for(let B=0;B<M.length;B++){let A=M[B],N=!J.required||J.required&&!J.required.includes(A)||Array.isArray(J.properties[A].anyOf),D=AL(Y,A,W.parentIsOptional);if(N){let K=W.array;if(Y.startsWith("ar")){let O=D.slice(D.indexOf(".")+1),z=W.optionalsInArray;if(z[K])z[K].push(O);else z[K]=[O]}else W.optionals.push(D)}let q=J.properties[A];if(B!==0)X+=",";X+=`${wh(A)}:${N?`${D}===undefined?undefined:`:""}${$7(q,D,{...W,recursion:W.recursion+1,parentIsOptional:N})}`}X+="}";break;case"array":if(J.items.type!=="object"&&J.items.type!=="array")if(Array.isArray(J.items)){X=xh(J.items,Y,W);break}else if(Q)return"return v";else if(D8 in J.items&&J.items.$ref&&(J.items[D8]==="Ref"||J.items[D8]==="This"))X=$7(RM(W.definitions[J.items.$ref]),Y,{...W,parentIsOptional:!0,recursion:W.recursion+1});else{X=Y;break}let G=W.array;W.array++;let H=Y;if(Q)X=`const ar${G}v=new Array(${Y}.length);`;else H=`ar${G}s`,X=`((${H})=>{const ar${G}v=new Array(${H}.length);`;X+=`for(let i=0;i<${H}.length;i++){const ar${G}p=${H}[i];ar${G}v[i]=${$7(J.items,`ar${G}p`,W)}`;let U=W.optionalsInArray[G+1];if(U)for(let B=0;B<U.length;B++){let A=`ar${G}v[i].${U[B]}`;X+=`;if(${A}===undefined)delete ${A}`}if(X+="}",!Q)X+=`return ar${G}v})(${Y})`;break;default:if(J.$ref&&J.$ref in W.definitions)return $7(W.definitions[J.$ref],Y,W);if(Array.isArray(J.anyOf)){X=gh(J.anyOf,Y,W);break}X=fz(Y,W.sanitize?.length,J);break}if(!Q)return X;if(J.type==="array")X=`${X}const x=ar0v;`;else X=`const x=${X}
`;for(let M=0;M<W.optionals.length;M++){let G=W.optionals[M],H=G.slice(1);if(X+=`if(${G}===undefined`,W.unionKeys[G])X+=`||x${H}===undefined`;let U=H.charCodeAt(0)!==63&&J.type!=="array";X+=`)delete x${U?H.charCodeAt(0)===91?"?.":"?":""}${H}
`}return`${X}return x`},uU=(J,{TypeCompiler:Y,modules:W,definitions:Q,sanitize:X,recursionLimit:M=8,removeUnknownUnionType:G=!1}={})=>{let H=[];if(typeof X==="function")X=[X];let U=$7(J,"v",{optionals:[],optionalsInArray:[],array:0,parentIsOptional:!1,unions:H,unionKeys:{},TypeCompiler:Y,modules:W,definitions:Q??W?.$defs??{},sanitize:X,recursion:0,recursionLimit:M,removeUnknownUnionType:G});if(!H.length&&!X?.length)return Function("v",U);let B;if(X?.length){B={};for(let A=0;A<X.length;A++)B[`h${A}`]=X[A]}return Function("d",`return function mirror(v){${U}}`)({unions:H,...B})},XB=(J)=>{if(!J)return!1;if(J?.[n]==="Import"&&J.References)return J.References().some(XB);if(J.schema)J=J.schema;return!!J&&l5 in J},q4=(J)=>{if(!J)return!1;let Y=J?.schema??J;if(Y[n]==="Import"&&J.References)return J.References().some(q4);if(Y.anyOf)return Y.anyOf.some(q4);if(Y.someOf)return Y.someOf.some(q4);if(Y.allOf)return Y.allOf.some(q4);if(Y.not)return Y.not.some(q4);if(Y.type==="object"){let W=Y.properties;if("additionalProperties"in Y)return Y.additionalProperties;if("patternProperties"in Y)return!1;for(let Q of Object.keys(W)){let X=W[Q];if(X.type==="object"){if(q4(X))return!0}else if(X.anyOf){for(let M=0;M<X.anyOf.length;M++)if(q4(X.anyOf[M]))return!0}return X.additionalProperties}return!1}if(Y.type==="array"&&Y.items&&!Array.isArray(Y.items))return q4(Y.items);return!1},o7=(J,Y)=>{if(!Y)return!1;if(n in Y&&Y[n]===J)return!0;if(Y.type==="object"){let W=Y.properties;if(!W)return!1;for(let Q of Object.keys(W)){let X=W[Q];if(X.type==="object"){if(o7(J,X))return!0}else if(X.anyOf){for(let M=0;M<X.anyOf.length;M++)if(o7(J,X.anyOf[M]))return!0}if(n in X&&X[n]===J)return!0}return!1}return!!Y.properties&&n in Y.properties&&Y.properties[n]===J},D4=(J,Y)=>{if(!Y)return!1;let W=Y?.schema??Y;if(W.elysiaMeta===J)return!0;if(W[n]==="Import"&&Y.References)return Y.References().some((Q)=>D4(J,Q));if(W.anyOf)return W.anyOf.some((Q)=>D4(J,Q));if(W.someOf)return W.someOf.some((Q)=>D4(J,Q));if(W.allOf)return W.allOf.some((Q)=>D4(J,Q));if(W.not)return W.not.some((Q)=>D4(J,Q));if(W.type==="object"){let Q=W.properties;for(let X of Object.keys(Q)){let M=Q[X];if(M.type==="object"){if(D4(J,M))return!0}else if(M.anyOf){for(let G=0;G<M.anyOf.length;G++)if(D4(J,M.anyOf[G]))return!0}return W.elysiaMeta===J}return!1}if(W.type==="array"&&W.items&&!Array.isArray(W.items))return D4(J,W.items);return!1},yQ=(J,Y)=>{if(!Y)return;let W=Y.schema??Y;if(W[n]==="Import"&&Y.References)return Y.References().some((Q)=>yQ(J,Q));if(W.type==="object"){let Q=W.properties;if(!Q)return!1;for(let X of Object.keys(Q)){let M=Q[X];if(J in M)return!0;if(M.type==="object"){if(yQ(J,M))return!0}else if(M.anyOf){for(let G=0;G<M.anyOf.length;G++)if(yQ(J,M.anyOf[G]))return!0}}return!1}return J in W},m6=(J)=>{if(!J)return!1;if(J.oneOf){for(let Y=0;Y<J.oneOf.length;Y++)if(m6(J.oneOf[Y]))return!0}if(J.anyOf){for(let Y=0;Y<J.anyOf.length;Y++)if(m6(J.anyOf[Y]))return!0}if(J.oneOf){for(let Y=0;Y<J.oneOf.length;Y++)if(m6(J.oneOf[Y]))return!0}if(J.allOf){for(let Y=0;Y<J.allOf.length;Y++)if(m6(J.allOf[Y]))return!0}if(J.not&&m6(J.not))return!0;if(J.type==="object"&&J.properties){let Y=J.properties;for(let W of Object.keys(Y)){let Q=Y[W];if(m6(Q))return!0;if(Q.type==="array"&&Q.items&&m6(Q.items))return!0}}if(J.type==="array"&&J.items&&m6(J.items))return!0;return J[n]==="Ref"&&"$ref"in J},d6=(J)=>{if(!J)return!1;if(J.$ref&&J.$defs&&J.$ref in J.$defs&&d6(J.$defs[J.$ref]))return!0;if(J.oneOf){for(let Y=0;Y<J.oneOf.length;Y++)if(d6(J.oneOf[Y]))return!0}if(J.anyOf){for(let Y=0;Y<J.anyOf.length;Y++)if(d6(J.anyOf[Y]))return!0}if(J.allOf){for(let Y=0;Y<J.allOf.length;Y++)if(d6(J.allOf[Y]))return!0}if(J.not&&d6(J.not))return!0;if(J.type==="object"&&J.properties){let Y=J.properties;for(let W of Object.keys(Y)){let Q=Y[W];if(d6(Q))return!0;if(Q.type==="array"&&Q.items&&d6(Q.items))return!0}}if(J.type==="array"&&J.items&&d6(J.items))return!0;return m1 in J},fQ=(J,Y,W={})=>{let Q=W;if(Q.root=!0,!Array.isArray(Y))return Y.original=J,a5(J,Y,Q);for(let X of Y)X.original=J,J=a5(J,X,Q);return J},a5=(J,Y,W)=>{if(!J)return J;let Q=W.root;if(Y.onlyFirst&&J.type===Y.onlyFirst)return Y.to(J)??J;if(Y.untilObjectFound&&!Q&&J.type==="object")return J;let X=Y.from[n];if(J.oneOf){for(let H=0;H<J.oneOf.length;H++)J.oneOf[H]=a5(J.oneOf[H],Y,W);return J}if(J.anyOf){for(let H=0;H<J.anyOf.length;H++)J.anyOf[H]=a5(J.anyOf[H],Y,W);return J}if(J.allOf){for(let H=0;H<J.allOf.length;H++)J.allOf[H]=a5(J.allOf[H],Y,W);return J}if(J.not)return a5(J.not,Y,W);let M=Q&&!!Y.excludeRoot;if(J[n]===X){let{anyOf:H,oneOf:U,allOf:B,not:A,properties:N,items:D,...q}=J,K=Y.to(q);if(!K)return J;let O,z=(L)=>{let S=V(L);if(S.$id)delete S.$id;return S},V=(L)=>{if(N&&L.type==="object"){let g={};for(let[d,I]of Object.entries(N))g[d]=a5(I,Y,{...W,root:!1});return{...q,...L,properties:g}}if(D&&L.type==="array")return{...q,...L,items:a5(D,Y,{...W,root:!1})};let S={...q,...L};if(delete S.required,N&&L.type==="string"&&L.format==="ObjectString"&&L.default==="{}")O=Z.ObjectString(N,q),S.properties=N;else if(D&&L.type==="string"&&L.format==="ArrayString"&&L.default==="[]")O=Z.ArrayString(D,q),S.items=D;return S};if(M){if(N){let L={};for(let[S,g]of Object.entries(N))L[S]=a5(g,Y,{...W,root:!1});return{...q,properties:L}}else if(D?.map)return{...q,items:D.map((L)=>a5(L,Y,{...W,root:!1}))};return q}if(K.anyOf)for(let L=0;L<K.anyOf.length;L++)K.anyOf[L]=z(K.anyOf[L]);else if(K.oneOf)for(let L=0;L<K.oneOf.length;L++)K.oneOf[L]=z(K.oneOf[L]);else if(K.allOf)for(let L=0;L<K.allOf.length;L++)K.allOf[L]=z(K.allOf[L]);else if(K.not)K.not=z(K.not);if(O)K[m1]=O[m1];if(K.anyOf||K.oneOf||K.allOf||K.not)return K;if(N){let L={};for(let[S,g]of Object.entries(N))L[S]=a5(g,Y,{...W,root:!1});return{...q,...K,properties:L}}else if(D?.map)return{...q,...K,items:D.map((L)=>a5(L,Y,{...W,root:!1}))};return{...q,...K}}let G=J?.properties;if(G&&Q&&Y.rootOnly!==!0)for(let[H,U]of Object.entries(G))switch(U[n]){case X:let{anyOf:B,oneOf:A,allOf:N,not:D,type:q,...K}=U,O=Y.to(K);if(!O)return J;if(O.anyOf)for(let z=0;z<O.anyOf.length;z++)O.anyOf[z]={...K,...O.anyOf[z]};else if(O.oneOf)for(let z=0;z<O.oneOf.length;z++)O.oneOf[z]={...K,...O.oneOf[z]};else if(O.allOf)for(let z=0;z<O.allOf.length;z++)O.allOf[z]={...K,...O.allOf[z]};else if(O.not)O.not={...K,...O.not};G[H]={...K,...a5(K,Y,{...W,root:!1})};break;case"Object":case"Union":G[H]=a5(U,Y,{...W,root:!1});break;default:if(Array.isArray(U.items))for(let z=0;z<U.items.length;z++)U.items[z]=a5(U.items[z],Y,{...W,root:!1});else if(U.anyOf||U.oneOf||U.allOf||U.not)G[H]=a5(U,Y,{...W,root:!1});else if(U.type==="array")U.items=a5(U.items,Y,{...W,root:!1});break}if(J.type==="array"&&J.items)if(Array.isArray(J.items))J.items=J.items.map((H)=>a5(H,Y,{...W,root:!1}));else J.items=a5(J.items,Y,{...W,root:!1});return J},PY=(J)=>(Y)=>{if(typeof Y==="object")try{return f1.Clean(J,Y)}catch{}return Y},_5=(J,{models:Y={},dynamic:W=!1,modules:Q,normalize:X=!1,additionalProperties:M=!1,forceAdditionalProperties:G=!1,coerce:H=!1,additionalCoerce:U=[],validators:B,sanitize:A}={})=>{if(B=B?.filter((V)=>V),!J){if(!B?.length)return;J=B[0],B=B.slice(1)}let N=void 0,D=(V)=>{if(H)return fQ(V,[{from:Z.Number(),to:(L)=>Z.Numeric(L),untilObjectFound:!0},{from:Z.Boolean(),to:(L)=>Z.BooleanString(L),untilObjectFound:!0},...Array.isArray(U)?U:[U]]);return fQ(V,U)},q=(V)=>{if(V&&typeof V!=="string"&&"~standard"in V)return V;if(!V)return;let L;if(typeof V!=="string")L=V;else if(L=Q&&V in Q.$defs?Q.Import(V):Y[V],!L)return;if(n in L){if(L[n]==="Import"){if(!m6(L.$defs[L.$ref])){if(L=L.$defs[L.$ref],H||U)L=D(L)}}else if(m6(L)){let S=wM();L=Z.Module({...Q?.$defs,[S]:L}).Import(S)}else if(H||U)L=D(L)}return L},K=q(J),O=B;if("~standard"in K||B?.length&&B.some((V)=>V&&typeof V!=="string"&&("~standard"in V))){let V=(I)=>{let F;if(X===!0||X==="exactMirror")try{F=uU(I,{TypeCompiler:f6,sanitize:A?.(),modules:Q})}catch{console.warn("Failed to create exactMirror. Please report the following code to https://github.com/elysiajs/elysia/issues"),console.warn(I),F=PY(I)}let R=_5(I,{models:Y,modules:Q,dynamic:W,normalize:X,additionalProperties:!0,forceAdditionalProperties:!0,coerce:H,additionalCoerce:U});return R.Decode=F,(j)=>{if(R.Check(j))return{value:R.Decode(j)};else return{issues:[...R.Errors(j)]}}},L=K["~standard"]?K["~standard"].validate:V(K),S=[];if(B?.length)for(let I of B){if(!I)continue;if(typeof I==="string")continue;if(I?.["~standard"]){S.push(I["~standard"]);continue}if(n in I){S.push(V(I));continue}}async function g(I){let F=L(I);if(F instanceof Promise)F=await F;if(F.issues)return F;let R=[];if(F&&typeof F==="object")R.push(F.value);for(let x=0;x<S.length;x++){if(F=S[x].validate(I),F instanceof Promise)F=await F;if(F.issues)return F;if(F&&typeof F==="object")R.push(F.value)}if(!R.length)return{value:F};if(R.length===1)return{value:R[0]};if(R.length===2)return{value:X2(R[0],R[1])};let j=X2(R[0],R[1]);for(let x=2;x<R.length;x++)j=X2(j,R[x]);return{value:j}}let d={provider:"standard",schema:K,references:"",checkFunc:()=>{},code:"",Check:g,Errors:(I)=>g(I)?.then?.((F)=>F?.issues),Code:()=>"",Decode:g,Encode:(I)=>I,hasAdditionalProperties:!1,hasDefault:!1,isOptional:!1,hasTransform:!1,hasRef:!1};return d.parse=(I)=>{try{return d.Decode(d.Clean?.(I)??I)}catch(F){throw[...d.Errors(I)].map(Z2)}},d.safeParse=(I)=>{try{return{success:!0,data:d.Decode(d.Clean?.(I)??I),error:null}}catch(F){let R=[...z.Errors(I)].map(Z2);return{success:!1,data:null,error:R[0]?.summary,errors:R}}},d}else if(B?.length){let V=!1,L=O,{schema:S,notObjects:g}=fh([K,...L.map(q)]);if(g){if(K=Z.Intersect([...S?[S]:[],...g.map((d)=>{let I=q(d);if(I.type==="object"&&"additionalProperties"in I){if(!V&&I.additionalProperties===!1)V=!0;delete I.additionalProperties}return I})]),K.type==="object"&&V)K.additionalProperties=!1}}else if(K.type==="object"&&(("additionalProperties"in K)===!1||G))K.additionalProperties=M;else K=fQ(K,{onlyFirst:"object",from:Z.Object({}),to({properties:V,...L}){if(!V)return;if("additionalProperties"in K)return;return Z.Object(V,{...L,additionalProperties:!1})}});if(W)if(n in K){let V={provider:"typebox",schema:K,references:"",checkFunc:()=>{},code:"",Check:(L)=>f1.Check(K,L),Errors:(L)=>f1.Errors(K,L),Code:()=>"",Clean:PY(K),Decode:(L)=>f1.Decode(K,L),Encode:(L)=>f1.Encode(K,L),get hasAdditionalProperties(){if("~hasAdditionalProperties"in this)return this["~hasAdditionalProperties"];return this["~hasAdditionalProperties"]=q4(K)},get hasDefault(){if("~hasDefault"in this)return this["~hasDefault"];return this["~hasDefault"]=yQ("default",K)},get isOptional(){if("~isOptional"in this)return this["~isOptional"];return this["~isOptional"]=XB(K)},get hasTransform(){if("~hasTransform"in this)return this["~hasTransform"];return this["~hasTransform"]=d6(K)},"~hasRef":N,get hasRef(){if("~hasRef"in this)return this["~hasRef"];return this["~hasRef"]=d6(K)}};if(K.config){if(V.config=K.config,V?.schema?.config)delete V.schema.config}if(X&&K.additionalProperties===!1)if(X===!0||X==="exactMirror")try{V.Clean=uU(K,{TypeCompiler:f6,sanitize:A?.(),modules:Q})}catch{console.warn("Failed to create exactMirror. Please report the following code to https://github.com/elysiajs/elysia/issues"),console.warn(K),V.Clean=PY(K)}else V.Clean=PY(K);return V.parse=(L)=>{try{return V.Decode(V.Clean?.(L)??L)}catch(S){throw[...V.Errors(L)].map(Z2)}},V.safeParse=(L)=>{try{return{success:!0,data:V.Decode(V.Clean?.(L)??L),error:null}}catch(S){let g=[...z.Errors(L)].map(Z2);return{success:!1,data:null,error:g[0]?.summary,errors:g}}},V}else{let V={provider:"standard",schema:K,references:"",checkFunc:()=>{},code:"",Check:(L)=>K["~standard"].validate(L),Errors(L){let S=K["~standard"].validate(L);if(S instanceof Promise)throw Error("Async validation is not supported in non-dynamic schema");return S.issues},Code:()=>"",Decode(L){let S=K["~standard"].validate(L);if(S instanceof Promise)throw Error("Async validation is not supported in non-dynamic schema");return S},Encode:(L)=>L,hasAdditionalProperties:!1,hasDefault:!1,isOptional:!1,hasTransform:!1,hasRef:!1};return V.parse=(L)=>{try{return V.Decode(V.Clean?.(L)??L)}catch(S){throw[...V.Errors(L)].map(Z2)}},V.safeParse=(L)=>{try{return{success:!0,data:V.Decode(V.Clean?.(L)??L),error:null}}catch(S){let g=[...z.Errors(L)].map(Z2);return{success:!1,data:null,error:g[0]?.summary,errors:g}}},V}let z;if(n in K){if(z=f6.Compile(K,Object.values(Y).filter((V)=>(n in V))),z.provider="typebox",K.config){if(z.config=K.config,z?.schema?.config)delete z.schema.config}if(X===!0||X==="exactMirror")try{z.Clean=uU(K,{TypeCompiler:f6,sanitize:A?.(),modules:Q})}catch(V){console.warn("Failed to create exactMirror. Please report the following code to https://github.com/elysiajs/elysia/issues"),console.dir(K,{depth:null}),z.Clean=PY(K)}else if(X==="typebox")z.Clean=PY(K)}else z={provider:"standard",schema:K,references:"",checkFunc(V){let L=K["~standard"].validate(V);if(L instanceof Promise)throw Error("Async validation is not supported in non-dynamic schema");return L},code:"",Check:(V)=>K["~standard"].validate(V),Errors(V){let L=K["~standard"].validate(V);if(L instanceof Promise)throw Error("Async validation is not supported in non-dynamic schema");return L.issues},Code:()=>"",Decode(V){let L=K["~standard"].validate(V);if(L instanceof Promise)throw Error("Async validation is not supported in non-dynamic schema");return L},Encode:(V)=>V,hasAdditionalProperties:!1,hasDefault:!1,isOptional:!1,hasTransform:!1,hasRef:!1};if(z.parse=(V)=>{try{return z.Decode(z.Clean?.(V)??V)}catch(L){throw[...z.Errors(V)].map(Z2)}},z.safeParse=(V)=>{try{return{success:!0,data:z.Decode(z.Clean?.(V)??V),error:null}}catch(L){let S=[...z.Errors(V)].map(Z2);return{success:!1,data:null,error:S[0]?.summary,errors:S}}},n in K)Object.assign(z,{get hasAdditionalProperties(){if("~hasAdditionalProperties"in this)return this["~hasAdditionalProperties"];return this["~hasAdditionalProperties"]=q4(z)},get hasDefault(){if("~hasDefault"in this)return this["~hasDefault"];return this["~hasDefault"]=yQ("default",z)},get isOptional(){if("~isOptional"in this)return this["~isOptional"];return this["~isOptional"]=XB(z)},get hasTransform(){if("~hasTransform"in this)return this["~hasTransform"];return this["~hasTransform"]=d6(K)},get hasRef(){if("~hasRef"in this)return this["~hasRef"];return this["~hasRef"]=m6(K)},"~hasRef":N});return z},yh=(J)=>J[n]==="Union"||!J.schema&&!!J.anyOf,fh=(J)=>{if(J.length===0)return{schema:void 0,notObjects:[]};if(J.length===1)return J[0].type==="object"?{schema:J[0],notObjects:[]}:{schema:void 0,notObjects:J};let Y,W=[],Q=!1,X=!1;for(let M of J){if(M.type!=="object"){W.push(M);continue}if("additionalProperties"in M){if(M.additionalProperties===!0)Q=!0;else if(M.additionalProperties===!1)X=!0}if(!Y){Y=M;continue}Y={...Y,...M,properties:{...Y.properties,...M.properties},required:[...Y?.required??[],...M.required]}}if(Y){if(Y.required)Y.required=[...new Set(Y.required)];if(X)Y.additionalProperties=!1;else if(Q)Y.additionalProperties=!0}return{schema:Y,notObjects:W}},vz=(J,{models:Y={},modules:W,dynamic:Q=!1,normalize:X=!1,additionalProperties:M=!1,validators:G=[],sanitize:H})=>{if(G=G.filter((A)=>A),!J){if(!G?.length)return;J=G[0],G=G.slice(1)}let U;if(typeof J!=="string")U=J;else if(U=W&&J in W.$defs?W.Import(J):Y[J],!U)return;if(!U)return;if(n in U||"~standard"in U)return{200:_5(U,{modules:W,models:Y,additionalProperties:M,dynamic:Q,normalize:X,coerce:!1,additionalCoerce:[],validators:G.map((A)=>A[200]),sanitize:H})};let B={};return Object.keys(U).forEach((A)=>{if(isNaN(+A))return;let N=U[+A];if(typeof N==="string"){if(N in Y){let D=Y[N];if(!D)return;B[+A]=n in D||"~standard"in D?_5(D,{modules:W,models:Y,additionalProperties:M,dynamic:Q,normalize:X,coerce:!1,additionalCoerce:[],validators:G.map((q)=>q[+A]),sanitize:H}):D}return}B[+A]=n in N||"~standard"in N?_5(N,{modules:W,models:Y,additionalProperties:M,dynamic:Q,normalize:X,coerce:!1,additionalCoerce:[],validators:G.map((D)=>D[+A]),sanitize:H}):N}),B},pU,wQ=()=>{if(!pU)pU=[{from:Z.Object({}),to:()=>Z.ObjectString({}),excludeRoot:!0},{from:Z.Array(Z.Any()),to:()=>Z.ArrayString(Z.Any())}];return pU},nU,bz=()=>{if(!nU)nU=[{from:Z.Object({}),to:()=>Z.ObjectString({}),excludeRoot:!0},{from:Z.Array(Z.Any()),to:()=>Z.ArrayQuery(Z.Any())}];return nU},iU,MB=()=>{if(!iU)iU=[{from:Z.Number(),to:(J)=>Z.Numeric(J),rootOnly:!0},{from:Z.Boolean(),to:(J)=>Z.BooleanString(J),rootOnly:!0}];return iU},vh=({validator:J,modules:Y,defaultConfig:W={},config:Q,dynamic:X,normalize:M=!1,models:G,validators:H,sanitize:U})=>{let B=J?.provider?J:_5(J,{modules:Y,dynamic:X,models:G,normalize:M,additionalProperties:!0,coerce:!0,additionalCoerce:wQ(),validators:H,sanitize:U});if(B)B.config=JB(B.config,Q);else B=_5(Z.Cookie(Z.Any()),{modules:Y,dynamic:X,models:G,additionalProperties:!0,validators:H,sanitize:U}),B.config=W;return B},CY=(J)=>J&&J[n]==="Import"&&J.$defs[J.$ref][n]==="Object"?J.$defs[J.$ref]:J,O5=(J,Y)=>Y?J:"",bh=["json","text","urlencoded","arrayBuffer","formdata","application/json","text/plain","application/x-www-form-urlencoded","application/octet-stream","multipart/form-data"],uQ=({context:J="c",trace:Y=[],addFn:W})=>{if(!Y.length)return()=>{return{resolveChild(){return()=>{}},resolve(){}}};for(let Q=0;Q<Y.length;Q++)W(`let report${Q},reportChild${Q},reportErr${Q},reportErrChild${Q};let trace${Q}=${J}[ELYSIA_TRACE]?.[${Q}]??trace[${Q}](${J});
`);return(Q,{name:X,total:M=0}={})=>{if(!X)X="anonymous";let G=Q==="error"?"reportErr":"report";for(let H=0;H<Y.length;H++)W(`${G}${H} = trace${H}.${Q}({id,event:'${Q}',name:'${X}',begin:performance.now(),total:${M}})
`);return{resolve(){for(let H=0;H<Y.length;H++)W(`${G}${H}.resolve()
`)},resolveChild(H){for(let U=0;U<Y.length;U++)W(`${G}Child${U}=${G}${U}.resolveChild?.shift()?.({id,event:'${Q}',name:'${H}',begin:performance.now()})
`);return(U)=>{for(let B=0;B<Y.length;B++)if(U)W(`if(${U} instanceof Error){${G}Child${B}?.(${U}) }else{${G}Child${B}?.()}`);else W(`${G}Child${B}?.()
`)}}}}},kQ=({schema:J,name:Y,type:W,typeAlias:Q=W,normalize:X,ignoreTryCatch:M=!1})=>{if(!X||!J.Clean)return"";if(X===!0||X==="exactMirror"){if(M)return`${Y}=validator.${Q}.Clean(${Y})
`;return`try{${Y}=validator.${Q}.Clean(${Y})
}catch{}`}if(X==="typebox")return`${Y}=validator.${Q}.Clean(${Y})
`;return""},hh=({injectResponse:J="",normalize:Y=!1,validator:W,encodeSchema:Q=!1,isStaticResponse:X=!1,hasSanitize:M=!1})=>({validate:(G,H=`c.${G}`,U)=>`c.set.status=422;throw new ValidationError('${G}',validator.${G},${H}${U?","+U:""})`,response:(G="r")=>{if(X||!W.response)return"";let H=J+`
`;H+=`if(${G} instanceof ElysiaCustomStatusResponse){c.set.status=${G}.code
${G}=${G}.response}if(${G} instanceof Response === false)switch(c.set.status){`;for(let[U,B]of Object.entries(W.response)){if(H+=`
case ${U}:
`,B.provider==="standard"){H+=`let vare${U}=validator.response[${U}].Check(${G})
if(vare${U} instanceof Promise)vare${U}=await vare${U}
if(vare${U}.issues)throw new ValidationError('response',validator.response[${U}],${G},vare${U}.issues)
${G}=vare${U}.value
c.set.status=${U}
break
`;continue}let A=B.schema?.noValidate===!0;if(!A&&B.schema?.$ref&&B.schema?.$defs){let K=B.schema.$ref,O=typeof K==="string"&&K.includes("/")?K.split("/").pop():K;if(B.schema.$defs[O]?.noValidate===!0)A=!0}let N=A||M,D=({ignoreTryCatch:K=!1}={})=>kQ({name:G,schema:B,type:"response",typeAlias:`response[${U}]`,normalize:Y,ignoreTryCatch:K});if(N)H+=D();let q=!N&&Y&&!A;if(Q&&B.hasTransform&&!A){if(H+=`try{${G}=validator.response[${U}].Encode(${G})
`,!N)H+=D({ignoreTryCatch:!0});H+=`c.set.status=${U}}catch{`+(q?`try{
`+D({ignoreTryCatch:!0})+`${G}=validator.response[${U}].Encode(${G})
}catch{throw new ValidationError('response',validator.response[${U}],${G})}`:`throw new ValidationError('response',validator.response[${U}],${G})`)+"}"}else{if(!N)H+=D();if(!A)H+=`if(validator.response[${U}].Check(${G})===false)throw new ValidationError('response',validator.response[${U}],${G})
c.set.status=${U}
`}H+=`break
`}return H+"}"}}),t7=(J)=>{return(J?.fn??J).constructor.name==="AsyncFunction"},mh=/=>\s?response\.clone\(/,dh=/(?:return|=>)\s?\S+\(|a(?:sync|wait)/,U5=(J)=>{let Y=typeof J==="object";if(Y&&J.isAsync!==void 0)return J.isAsync;let W=Y?J.fn:J;if(W.constructor.name==="AsyncFunction")return!0;let Q=W.toString();if(mh.test(Q)){if(Y)J.isAsync=!1;return!1}let X=dh.test(Q);if(Y)J.isAsync=X;return X},vQ=(J)=>{let Y=typeof J==="object";if(Y&&J.hasReturn!==void 0)return J.hasReturn;let W=Y?J.fn.toString():typeof J==="string"?J.toString():J,Q=W.indexOf(")");if(W.charCodeAt(Q+2)===61&&W.charCodeAt(Q+5)!==123){if(Y)J.hasReturn=!0;return!0}let X=W.includes("return");if(Y)J.hasReturn=X;return X},KM=(J)=>{let Y=J?.fn??J;return Y.constructor.name==="AsyncGeneratorFunction"||Y.constructor.name==="GeneratorFunction"},IY=(J,Y,W=`c.${Y}`)=>`try{${J}}catch(error){if(error.constructor.name === 'TransformDecodeError'){c.set.status=422
throw error.error ?? new ValidationError('${Y}',validator.${Y},${W})}}`,ch=({app:J,path:Y,method:W,hooks:Q,validator:X,handler:M,allowMeta:G=!1,inference:H})=>{let U=J["~adapter"].composeHandler,B=J["~adapter"].handler,A=typeof M==="function";if(!A){M=B.mapResponse(M,{headers:J.setHeaders??{}});let s=M instanceof Response||M?.constructor?.name==="Response"&&typeof M?.clone==="function";if(Q.parse?.length&&Q.transform?.length&&Q.beforeHandle?.length&&Q.afterHandle?.length){if(s)return Function("a",`"use strict";
return function(){return a.clone()}`)(M);return Function("a",`"use strict";
return function(){return a}`)(M)}if(s){let i=M;M=()=>i.clone()}}let N=A?"handler(c)":"handler",D=!!Q.trace?.length,q="";if(H=mQ(Q,H),H=mQ({handler:M},H),U.declare){let s=U.declare(H);if(s)q+=s}if(H.server)q+=`Object.defineProperty(c,'server',{get:function(){return getServer()}})
`;X.createBody?.(),X.createQuery?.(),X.createHeaders?.(),X.createParams?.(),X.createCookie?.(),X.createResponse?.();let K=!!X.body||!!X.headers||!!X.params||!!X.query||!!X.cookie||!!X.response,O=H.query||!!X.query,z=Q.parse?.length===1&&Q.parse[0].fn==="none",V=W!==""&&W!=="GET"&&W!=="HEAD"&&(H.body||!!X.body||!!Q.parse?.length)&&!z,L=J.setHeaders,S=L&&!!Object.keys(L).length,g=H.headers||!!X.headers||U.preferWebstandardHeaders!==!0&&H.body,d=H.cookie||!!X.cookie,I=X.cookie?.config?JB(X?.cookie?.config,J.config.cookie):J.config.cookie,F="",R=()=>{if(F)return F;if(I?.sign){if(!I.secrets)throw Error(`t.Cookie required secret which is not set in (${W}) ${Y}.`);let s=!I.secrets?void 0:typeof I.secrets==="string"?I.secrets:I.secrets[0];if(F+=`const _setCookie = c.set.cookie
if(_setCookie){`,I.sign===!0)F+=`for(const [key, cookie] of Object.entries(_setCookie)){c.set.cookie[key].value=await signCookie(cookie.value,'${s}')}`;else for(let i of I.sign)F+=`if(_setCookie['${i}']?.value)c.set.cookie['${i}'].value=await signCookie(_setCookie['${i}'].value,'${s}')
`;F+=`}
`}return F},j=J.config.normalize,x=J.config.encodeSchema,_=hh({normalize:j,validator:X,encodeSchema:x,isStaticResponse:M instanceof Response,hasSanitize:!!J.config.sanitize});if(g)q+=U.headers;if(D)q+=`const id=c[ELYSIA_REQUEST_ID]
`;let k=uQ({trace:Q.trace,addFn:(s)=>{q+=s}});if(q+="try{",d){let s=(C,E)=>{let y=I?.[C]??E;if(!y)return typeof E==="string"?`${C}:"${E}",`:`${C}:${E},`;if(typeof y==="string")return`${C}:'${y}',`;if(y instanceof Date)return`${C}: new Date(${y.getTime()}),`;return`${C}:${y},`},i=I?`{secrets:${I.secrets!==void 0?typeof I.secrets==="string"?`'${I.secrets}'`:"["+I.secrets.reduce((C,E)=>C+`'${E}',`,"")+"]":"undefined"},sign:${I.sign===!0?!0:I.sign!==void 0?"["+I.sign.reduce((C,E)=>C+`'${E}',`,"")+"]":"undefined"},`+s("domain")+s("expires")+s("httpOnly")+s("maxAge")+s("path","/")+s("priority")+s("sameSite")+s("secure")+"}":"undefined";if(g)q+=`
c.cookie=await parseCookie(c.set,c.headers.cookie,${i})
`;else q+=`
c.cookie=await parseCookie(c.set,c.request.headers.get('cookie'),${i})
`}if(O){let s={},i={},C=!1,E=!1;if(X.query?.schema){let y=CY(X.query?.schema);if(n in y&&y.properties)for(let[G0,N0]of Object.entries(y.properties)){if(D4("ArrayQuery",N0))s[G0]=1,C=!0;if(D4("ObjectString",N0))i[G0]=1,E=!0}}q+=`if(c.qi===-1){c.query=Object.create(null)}else{c.query=parseQueryFromURL(c.url,c.qi+1,${C?JSON.stringify(s):void 0},${E?JSON.stringify(i):void 0})}`}let l=typeof M==="function"&&U5(M),q0=D||Q.afterResponse?.length?"c.response=c.responseValue= ":"",r=Object.keys(X.response??{}),Z0=r.length>1,C0=r.length===0||r.length===1&&r[0]==="200",r0=d||V||l||!!Q.parse?.length||!!Q.afterHandle?.some(U5)||!!Q.beforeHandle?.some(U5)||!!Q.transform?.some(U5)||!!Q.mapResponse?.some(U5)||X.body?.provider==="standard"||X.headers?.provider==="standard"||X.query?.provider==="standard"||X.params?.provider==="standard"||X.cookie?.provider==="standard"||Object.values(X.response??{}).find((s)=>s.provider==="standard"),L0=(typeof M==="function"?KM(M):!1)||!!Q.beforeHandle?.some(KM)||!!Q.afterHandle?.some(KM)||!!Q.transform?.some(KM),_0=H.cookie||H.set||g||D||Z0||!C0||A&&S||L0,Q0=()=>{if(!Q.afterResponse?.length&&!D)return"";let s="",i=Q.afterResponse?.some(U5)?"async ":"";s+=`
setImmediate(${i}()=>{`;let C=uQ({trace:Q.trace,addFn:(E)=>{s+=E}})("afterResponse",{total:Q.afterResponse?.length});if(Q.afterResponse?.length&&Q.afterResponse)for(let E=0;E<Q.afterResponse.length;E++){let y=C.resolveChild(Q.afterResponse[E].fn.name),G0=U5(Q.afterResponse[E])?"await ":"";s+=`
${G0}e.afterResponse[${E}](c)
`,y()}return C.resolve(),s+=`})
`,s},h=(s="r")=>{let i=Q0(),C=`${_0?"mapResponse":"mapCompactResponse"}(${q0}${s}${_0?",c.set":""}${o})
`;if(!i)return`return ${C}`;return`const _res=${C}`+i+"return _res"},o=L0||U.mapResponseContext?`,${U.mapResponseContext}`:"";if(D||H.route)q+=`c.route=\`${Y}\`
`;let c=k("parse",{total:Q.parse?.length});if(V){let s=!!Q.parse?.length||H.body||X.body;if(U.parser.declare)q+=U.parser.declare;q+=`
try{`;let i=typeof Q.parse==="string"?Q.parse:Array.isArray(Q.parse)&&Q.parse.length===1?typeof Q.parse[0]==="string"?Q.parse[0]:typeof Q.parse[0].fn==="string"?Q.parse[0].fn:void 0:void 0;if(!i&&X.body&&!Q.parse?.length){let C=X.body.schema;if(C&&C.anyOf&&C[n]==="Union"&&C.anyOf?.length===2&&C.anyOf?.find((E)=>E[n]==="ElysiaForm"))i="formdata"}if(i&&bh.includes(i)){let C=k("parse",{total:Q.parse?.length}),E=!!X.body?.isOptional;switch(i){case"json":case"application/json":q+=U.parser.json(E);break;case"text":case"text/plain":q+=U.parser.text(E);break;case"urlencoded":case"application/x-www-form-urlencoded":q+=U.parser.urlencoded(E);break;case"arrayBuffer":case"application/octet-stream":q+=U.parser.arrayBuffer(E);break;case"formdata":case"multipart/form-data":q+=U.parser.formData(E);break;default:if(i[0]in J["~parser"])q+=g?"let contentType = c.headers['content-type']":"let contentType = c.request.headers.get('content-type')",q+=`
if(contentType){const index=contentType.indexOf(';')
if(index!==-1)contentType=contentType.substring(0,index)}
else{contentType=''}c.contentType=contentType
let result=parser['${i}'](c, contentType)
if(result instanceof Promise)result=await result
if(result instanceof ElysiaCustomStatusResponse)throw result
if(result!==undefined)c.body=result
delete c.contentType
`;break}C.resolve()}else if(s){q+=`
`,q+=`let contentType
if(c.request.body)`,q+=g?`contentType=c.headers['content-type']
`:`contentType=c.request.headers.get('content-type')
`;let C=!1;if(Q.parse?.length)q+=`if(contentType){
const index=contentType.indexOf(';')

if(index!==-1)contentType=contentType.substring(0,index)}else{contentType=''}let used=false
c.contentType=contentType
`;else{C=!0;let y=!!X.body?.isOptional;q+=`if(contentType)switch(contentType.charCodeAt(12)){
case 106:`+U.parser.json(y)+`break
case 120:`+U.parser.urlencoded(y)+`break
case 111:`+U.parser.arrayBuffer(y)+`break
case 114:`+U.parser.formData(y)+`break
default:if(contentType.charCodeAt(0)===116){`+U.parser.text(y)+`}break
}`}let E=k("parse",{total:Q.parse?.length});if(Q.parse)for(let y=0;y<Q.parse.length;y++){let G0=`bo${y}`;if(y!==0)q+=`
if(!used){`;if(typeof Q.parse[y].fn==="string"){let N0=E.resolveChild(Q.parse[y].fn),B0=!!X.body?.isOptional;switch(Q.parse[y].fn){case"json":case"application/json":C=!0,q+=U.parser.json(B0);break;case"text":case"text/plain":C=!0,q+=U.parser.text(B0);break;case"urlencoded":case"application/x-www-form-urlencoded":C=!0,q+=U.parser.urlencoded(B0);break;case"arrayBuffer":case"application/octet-stream":C=!0,q+=U.parser.arrayBuffer(B0);break;case"formdata":case"multipart/form-data":C=!0,q+=U.parser.formData(B0);break;default:q+=`let ${G0}=parser['${Q.parse[y].fn}'](c,contentType)
if(${G0} instanceof Promise)${G0}=await ${G0}
if(${G0}!==undefined){c.body=${G0};used=true;}
`}N0()}else{let N0=E.resolveChild(Q.parse[y].fn.name);q+=`let ${G0}=e.parse[${y}]
${G0}=${G0}(c,contentType)
if(${G0} instanceof Promise)${G0}=await ${G0}
if(${G0}!==undefined){c.body=${G0};used=true}`,N0()}if(y!==0)q+="}";if(C)break}if(E.resolve(),!C){let y=!!X.body?.isOptional;if(Q.parse?.length)q+=`
if(!used){
`;q+=`switch(contentType){case 'application/json':
`+U.parser.json(y)+`break
case 'text/plain':`+U.parser.text(y)+`break
case 'application/x-www-form-urlencoded':`+U.parser.urlencoded(y)+`break
case 'application/octet-stream':`+U.parser.arrayBuffer(y)+`break
case 'multipart/form-data':`+U.parser.formData(y)+`break
`;for(let G0 of Object.keys(J["~parser"]))q+=`case '${G0}':let bo${G0}=parser['${G0}'](c,contentType)
if(bo${G0} instanceof Promise)bo${G0}=await bo${G0}
if(bo${G0} instanceof ElysiaCustomStatusResponse){`+h(`bo${G0}`)+`}if(bo${G0}!==undefined)c.body=bo${G0}
break
`;if(Q.parse?.length)q+="}";q+="}"}if(Q.parse?.length)q+=`
delete c.contentType`}q+="}catch(error){throw new ParseError(error)}"}if(c.resolve(),Q?.transform||D){let s=k("transform",{total:Q.transform?.length});if(Q.transform?.length){q+=`let transformed
`;for(let i=0;i<Q.transform.length;i++){let C=Q.transform[i],E=s.resolveChild(C.fn.name);if(q+=U5(C)?`transformed=await e.transform[${i}](c)
`:`transformed=e.transform[${i}](c)
`,C.subType==="mapDerive")q+="if(transformed instanceof ElysiaCustomStatusResponse){"+h("transformed")+`}else{transformed.request=c.request
transformed.store=c.store
transformed.qi=c.qi
transformed.path=c.path
transformed.url=c.url
transformed.redirect=c.redirect
transformed.set=c.set
transformed.error=c.error
c=transformed}`;else q+="if(transformed instanceof ElysiaCustomStatusResponse){"+h("transformed")+`}else Object.assign(c,transformed)
`;E()}}s.resolve()}let m=[];if(X){if(X.headers){if(X.headers.hasDefault)for(let[s,i]of Object.entries(f1.Default(X.headers.schema,{}))){let C=typeof i==="object"?JSON.stringify(i):typeof i==="string"?`'${i}'`:i;if(C!==void 0)q+=`c.headers['${s}']??=${C}
`}if(q+=kQ({name:"c.headers",schema:X.headers,type:"headers",normalize:j}),X.headers.isOptional)q+="if(isNotEmpty(c.headers)){";if(X.headers?.provider==="standard")q+=`let vah=validator.headers.Check(c.headers)
if(vah instanceof Promise)vah=await vah
if(vah.issues){`+_.validate("headers",void 0,"vah.issues")+`}else{c.headers=vah.value}
`;else if(X.headers?.schema?.noValidate!==!0)q+="if(validator.headers.Check(c.headers) === false){"+_.validate("headers")+"}";if(X.headers.hasTransform)q+=IY(`c.headers=validator.headers.Decode(c.headers)
`,"headers");if(X.headers.isOptional)q+="}"}if(X.params){if(X.params.hasDefault)for(let[s,i]of Object.entries(f1.Default(X.params.schema,{}))){let C=typeof i==="object"?JSON.stringify(i):typeof i==="string"?`'${i}'`:i;if(C!==void 0)q+=`c.params['${s}']??=${C}
`}if(X.params.provider==="standard")q+=`let vap=validator.params.Check(c.params)
if(vap instanceof Promise)vap=await vap
if(vap.issues){`+_.validate("params",void 0,"vap.issues")+`}else{c.params=vap.value}
`;else if(X.params?.schema?.noValidate!==!0)q+="if(validator.params.Check(c.params)===false){"+_.validate("params")+"}";if(X.params.hasTransform)q+=IY(`c.params=validator.params.Decode(c.params)
`,"params")}if(X.query){if(n in X.query?.schema&&X.query.hasDefault)for(let[s,i]of Object.entries(f1.Default(X.query.schema,{}))){let C=typeof i==="object"?JSON.stringify(i):typeof i==="string"?`'${i}'`:i;if(C!==void 0)q+=`if(c.query['${s}']===undefined)c.query['${s}']=${C}
`}if(q+=kQ({name:"c.query",schema:X.query,type:"query",normalize:j}),X.query.isOptional)q+="if(isNotEmpty(c.query)){";if(X.query.provider==="standard")q+=`let vaq=validator.query.Check(c.query)
if(vaq instanceof Promise)vaq=await vaq
if(vaq.issues){`+_.validate("query",void 0,"vaq.issues")+`}else{c.query=vaq.value}
`;else if(X.query?.schema?.noValidate!==!0)q+="if(validator.query.Check(c.query)===false){"+_.validate("query")+"}";if(X.query.hasTransform)q+=IY(`c.query=validator.query.Decode(c.query)
`,"query"),q+=IY(`c.query=validator.query.Decode(c.query)
`,"query");if(X.query.isOptional)q+="}"}if(V&&X.body){if(X.body.hasTransform||X.body.isOptional)q+=`const isNotEmptyObject=c.body&&(typeof c.body==="object"&&(isNotEmpty(c.body)||c.body instanceof ArrayBuffer))
`;let s=yh(X.body.schema),i=!1;if(X.body.hasDefault){let C=f1.Default(X.body.schema,X.body.schema.type==="object"||CY(X.body.schema)[n]==="Object"?{}:void 0),E=CY(X.body.schema);if(!s&&C&&typeof C==="object"&&(o7("File",E)||o7("Files",E))){i=!0;for(let[G0,N0]of Object.entries(C))if(N0==="File"||N0==="Files")delete C[G0];if(!Q5(C))C=void 0}let y=typeof C==="object"?JSON.stringify(C):typeof C==="string"?`'${C}'`:C;if(C!==void 0&&C!==null)if(Array.isArray(C))q+=`if(!c.body)c.body=${y}
`;else if(typeof C==="object")q+=`c.body=Object.assign(${y},c.body)
`;else q+=`c.body=${y}
`;if(q+=kQ({name:"c.body",schema:X.body,type:"body",normalize:j}),X.body.provider==="standard")q+=`let vab=validator.body.Check(c.body)
if(vab instanceof Promise)vab=await vab
if(vab.issues){`+_.validate("body",void 0,"vab.issues")+`}else{c.body=vab.value}
`;else if(X.body?.schema?.noValidate!==!0)if(X.body.isOptional)q+="if(isNotEmptyObject&&validator.body.Check(c.body)===false){"+_.validate("body")+"}";else q+="if(validator.body.Check(c.body)===false){"+_.validate("body")+"}"}else if(q+=kQ({name:"c.body",schema:X.body,type:"body",normalize:j}),X.body.provider==="standard")q+=`let vab=validator.body.Check(c.body)
if(vab instanceof Promise)vab=await vab
if(vab.issues){`+_.validate("body",void 0,"vab.issues")+`}else{c.body=vab.value}
`;else if(X.body?.schema?.noValidate!==!0)if(X.body.isOptional)q+="if(isNotEmptyObject&&validator.body.Check(c.body)===false){"+_.validate("body")+"}";else q+="if(validator.body.Check(c.body)===false){"+_.validate("body")+"}";if(X.body.hasTransform)q+=IY(`if(isNotEmptyObject)c.body=validator.body.Decode(c.body)
`,"body");if(s&&X.body.schema.anyOf?.length){let C=Object.values(X.body.schema.anyOf);for(let E=0;E<C.length;E++){let y=C[E];if(o7("File",y)||o7("Files",y)){let G0=_5(y,{modules:J.definitions.typebox,dynamic:!J.config.aot,models:J.definitions.type,normalize:J.config.normalize,additionalCoerce:MB(),sanitize:()=>J.config.sanitize});if(G0){let N0=m.length===0,B0=Object.entries(y.properties),A0=N0?`
`:" else ";A0+=`if(fileUnions[${m.length}].Check(c.body)){`;let c0="",k1=0;for(let h1=0;h1<B0.length;h1++){let[q5,u2]=B0[h1];if(!u2.extension||u2[n]!=="File"&&u2[n]!=="Files")continue;if(k1)c0+=",";c0+=`fileType(c.body.${q5},${JSON.stringify(u2.extension)},'body.${q5}')`,k1++}if(c0){if(k1===1)A0+=`await ${c0}
`;else if(k1>1)A0+=`await Promise.all([${c0}])
`;A0+="}",q+=A0,m.push(G0)}}}}}else if(i||!s&&(o7("File",CY(X.body.schema))||o7("Files",CY(X.body.schema)))){let C="",E=0;for(let[y,G0]of Object.entries(CY(X.body.schema).properties)){if(!G0.extension||G0[n]!=="File"&&G0[n]!=="Files")continue;if(E)C+=",";C+=`fileType(c.body.${y},${JSON.stringify(G0.extension)},'body.${y}')`,E++}if(E)q+=`
`;if(E===1)q+=`await ${C}
`;else if(E>1)q+=`await Promise.all([${C}])
`}}if(X.cookie){if(X.cookie.config=JB(X.cookie.config,X.cookie?.config??{}),q+=`let cookieValue={}
for(const [key,value] of Object.entries(c.cookie))cookieValue[key]=value.value
`,X.cookie.isOptional)q+="if(isNotEmpty(c.cookie)){";if(X.cookie.provider==="standard")q+=`let vac=validator.cookie.Check(cookieValue)
if(vac instanceof Promise)vac=await vac
if(vac.issues){`+_.validate("cookie",void 0,"vac.issues")+`}else{cookieValue=vac.value}
`,q+=`for(const k of Object.keys(cookieValue))c.cookie[k].value=cookieValue[k]
`;else if(X.body?.schema?.noValidate!==!0){if(q+="if(validator.cookie.Check(cookieValue)===false){"+_.validate("cookie","cookieValue")+"}",X.cookie.hasTransform)q+=IY("for(const [key,value] of Object.entries(validator.cookie.Decode(cookieValue))){c.cookie[key].value=value}","cookie")}if(X.cookie.isOptional)q+="}"}}if(Q?.beforeHandle||D){let s=k("beforeHandle",{total:Q.beforeHandle?.length}),i=!1;if(Q.beforeHandle?.length)for(let C=0;C<Q.beforeHandle.length;C++){let E=Q.beforeHandle[C],y=s.resolveChild(E.fn.name),G0=vQ(E);if(E.subType==="resolve"||E.subType==="mapResolve"){if(!i)i=!0,q+=`
let resolved
`;if(q+=U5(E)?`resolved=await e.beforeHandle[${C}](c);
`:`resolved=e.beforeHandle[${C}](c);
`,E.subType==="mapResolve")q+="if(resolved instanceof ElysiaCustomStatusResponse){"+h("resolved")+`}else{resolved.request=c.request
resolved.store=c.store
resolved.qi=c.qi
resolved.path=c.path
resolved.url=c.url
resolved.redirect=c.redirect
resolved.set=c.set
resolved.error=c.error
c=resolved}`;else q+="if(resolved instanceof ElysiaCustomStatusResponse){"+h("resolved")+`}else Object.assign(c, resolved)
`;y()}else if(!G0)q+=U5(E)?`await e.beforeHandle[${C}](c)
`:`e.beforeHandle[${C}](c)
`,y();else{if(q+=U5(E)?`be=await e.beforeHandle[${C}](c)
`:`be=e.beforeHandle[${C}](c)
`,y("be"),q+="if(be!==undefined){",s.resolve(),Q.afterHandle?.length||D){k("handle",{name:A?M.name:void 0}).resolve();let B0=k("afterHandle",{total:Q.afterHandle?.length});if(Q.afterHandle?.length)for(let A0=0;A0<Q.afterHandle.length;A0++){let c0=Q.afterHandle[A0],k1=vQ(c0),h1=B0.resolveChild(c0.fn.name);if(q+=`c.response = be
`,!k1)q+=U5(c0.fn)?`await e.afterHandle[${A0}](c, be)
`:`e.afterHandle[${A0}](c, be)
`;else q+=U5(c0.fn)?`af=await e.afterHandle[${A0}](c)
`:`af=e.afterHandle[${A0}](c)
`,q+=`if(af!==undefined) c.response=c.responseValue=be=af
`;h1("af")}B0.resolve()}if(X.response)q+=_.response("be");let N0=k("mapResponse",{total:Q.mapResponse?.length});if(Q.mapResponse?.length){q+=`c.response=c.responseValue=be
`;for(let B0=0;B0<Q.mapResponse.length;B0++){let A0=Q.mapResponse[B0],c0=N0.resolveChild(A0.fn.name);q+=`if(mr===undefined){mr=${t7(A0)?"await ":""}e.mapResponse[${B0}](c)
if(mr!==undefined)be=c.response=c.responseValue=mr}`,c0()}}N0.resolve(),q+=R(),q+=`return mapEarlyResponse(${q0}be,c.set${o})}
`}}s.resolve()}if(Q.afterHandle?.length||D){let s=k("handle",{name:A?M.name:void 0});if(Q.afterHandle?.length)q+=l?`let r=c.response=c.responseValue=await ${N}
`:`let r=c.response=c.responseValue=${N}
`;else q+=l?`let r=await ${N}
`:`let r=${N}
`;s.resolve();let i=k("afterHandle",{total:Q.afterHandle?.length});if(Q.afterHandle?.length)for(let E=0;E<Q.afterHandle.length;E++){let y=Q.afterHandle[E],G0=vQ(y),N0=i.resolveChild(y.fn.name);if(!G0)q+=U5(y.fn)?`await e.afterHandle[${E}](c)
`:`e.afterHandle[${E}](c)
`,N0();else if(q+=U5(y.fn)?`af=await e.afterHandle[${E}](c)
`:`af=e.afterHandle[${E}](c)
`,N0("af"),X.response)q+="if(af!==undefined){",i.resolve(),q+=_.response("af"),q+="c.response=c.responseValue=af}";else q+="if(af!==undefined){",i.resolve(),q+="c.response=c.responseValue=af}"}if(i.resolve(),Q.afterHandle?.length)q+=`r=c.response
`;if(X.response)q+=_.response();q+=R();let C=k("mapResponse",{total:Q.mapResponse?.length});if(Q.mapResponse?.length)for(let E=0;E<Q.mapResponse.length;E++){let y=Q.mapResponse[E],G0=C.resolveChild(y.fn.name);q+=`mr=${t7(y)?"await ":""}e.mapResponse[${E}](c)
if(mr!==undefined)r=c.response=c.responseValue=mr
`,G0()}C.resolve(),q+=h()}else{let s=k("handle",{name:A?M.name:void 0});if(X.response||Q.mapResponse?.length||D){if(q+=l?`let r=await ${N}
`:`let r=${N}
`,s.resolve(),X.response)q+=_.response();let i=k("mapResponse",{total:Q.mapResponse?.length});if(Q.mapResponse?.length){q+=`
c.response=c.responseValue=r
`;for(let C=0;C<Q.mapResponse.length;C++){let E=Q.mapResponse[C],y=i.resolveChild(E.fn.name);q+=`
if(mr===undefined){mr=${t7(E)?"await ":""}e.mapResponse[${C}](c)
if(mr!==undefined)r=c.response=c.responseValue=mr}
`,y()}}if(i.resolve(),q+=R(),M instanceof Response)q+=Q0(),q+=H.set?`if(isNotEmpty(c.set.headers)||c.set.status!==200||c.set.redirect||c.set.cookie)return mapResponse(${q0}${N}.clone(),c.set${o})
else return ${N}.clone()`:`return ${N}.clone()`,q+=`
`;else q+=h()}else if(d||D){q+=l?`let r=await ${N}
`:`let r=${N}
`,s.resolve();let i=k("mapResponse",{total:Q.mapResponse?.length});if(Q.mapResponse?.length){q+=`c.response=c.responseValue= r
`;for(let C=0;C<Q.mapResponse.length;C++){let E=Q.mapResponse[C],y=i.resolveChild(E.fn.name);q+=`if(mr===undefined){mr=${t7(E)?"await ":""}e.mapResponse[${C}](c)
if(mr!==undefined)r=c.response=c.responseValue=mr}`,y()}}i.resolve(),q+=R()+h()}else{s.resolve();let i=l?`await ${N}`:N;if(M instanceof Response)q+=Q0(),q+=H.set?`if(isNotEmpty(c.set.headers)||c.set.status!==200||c.set.redirect||c.set.cookie)return mapResponse(${q0}${N}.clone(),c.set${o})
else return ${N}.clone()
`:`return ${N}.clone()
`;else q+=h(i)}}if(q+=`
}catch(error){`,!r0&&Q.error?.length)q+="return(async()=>{";if(q+=`const set=c.set
if(!set.status||set.status<300)set.status=error?.status||500
`,d)q+=R();if(D&&Q.trace)for(let s=0;s<Q.trace.length;s++)q+=`report${s}?.resolve(error);reportChild${s}?.(error)
`;let U0=k("error",{total:Q.error?.length});if(Q.error?.length){if(q+=`c.error=error
`,K)q+=`if(error instanceof TypeBoxError){c.code="VALIDATION"
c.set.status=422}else{c.code=error.code??error[ERROR_CODE]??"UNKNOWN"}`;else q+=`c.code=error.code??error[ERROR_CODE]??"UNKNOWN"
`;if(q+=`let er
`,Q.mapResponse?.length)q+=`let mep
`;for(let s=0;s<Q.error.length;s++){let i=U0.resolveChild(Q.error[s].fn.name);if(U5(Q.error[s]))q+=`er=await e.error[${s}](c)
`;else q+=`er=e.error[${s}](c)
if(er instanceof Promise)er=await er
`;if(i(),Q.mapResponse?.length){let C=k("mapResponse",{total:Q.mapResponse?.length});for(let E=0;E<Q.mapResponse.length;E++){let y=Q.mapResponse[E],G0=C.resolveChild(y.fn.name);q+=`c.response=c.responseValue=er
mep=e.mapResponse[${E}](c)
if(mep instanceof Promise)er=await er
if(mep!==undefined)er=mep
`,G0()}C.resolve()}if(q+=`er=mapEarlyResponse(er,set${o})
`,q+="if(er){",D&&Q.trace){for(let C=0;C<Q.trace.length;C++)q+=`report${C}.resolve()
`;U0.resolve()}q+="return er}"}}if(U0.resolve(),q+="return handleError(c,error,true)",!r0&&Q.error?.length)q+="})()";q+="}";let I0=U.inject?Object.keys(U.inject).join(",")+",":"",z0="const {handler,handleError,hooks:e, "+O5("validator,",K)+"mapResponse,mapCompactResponse,mapEarlyResponse,isNotEmpty,utils:{"+O5("parseQuery,",V)+O5("parseQueryFromURL,",O)+"},error:{"+O5("ValidationError,",K)+O5("ParseError",V)+"},fileType,schema,definitions,ERROR_CODE,"+O5("parseCookie,",d)+O5("signCookie,",d)+O5("decodeURIComponent,",O)+"ElysiaCustomStatusResponse,"+O5("ELYSIA_TRACE,",D)+O5("ELYSIA_REQUEST_ID,",D)+O5("parser,",Q.parse?.length)+O5("getServer,",H.server)+O5("fileUnions,",m.length)+I0+O5("TypeBoxError",K)+`}=hooks
const trace=e.trace
return ${r0?"async ":""}function handle(c){`;if(Q.beforeHandle?.length)z0+=`let be
`;if(Q.afterHandle?.length)z0+=`let af
`;if(Q.mapResponse?.length)z0+=`let mr
`;if(G)z0+=`c.schema=schema
c.defs=definitions
`;q=z0+q+"}",z0="";try{return Function("hooks",`"use strict";
`+q)({handler:M,hooks:Cz(Q),validator:K?X:void 0,handleError:J.handleError,mapResponse:B.mapResponse,mapCompactResponse:B.mapCompactResponse,mapEarlyResponse:B.mapEarlyResponse,isNotEmpty:Q5,utils:{parseQuery:V?TY:void 0,parseQueryFromURL:O?X.query?.provider==="standard"?Rh:UL:void 0},error:{ValidationError:K?V1:void 0,ParseError:V?ez:void 0},fileType:JL,schema:J.router.history,definitions:J.definitions.type,ERROR_CODE:FM,parseCookie:d?XL:void 0,signCookie:d?VM:void 0,decodeURIComponent:O?Ih.default:void 0,ElysiaCustomStatusResponse:O2,ELYSIA_TRACE:D?xM:void 0,ELYSIA_REQUEST_ID:D?nQ:void 0,getServer:H.server?()=>J.getServer():void 0,fileUnions:m.length?m:void 0,TypeBoxError:K?b0:void 0,parser:J["~parser"],...U.inject})}catch(s){let i=Cz(Q);console.log("[Composer] failed to generate optimized handler"),console.log("---"),console.log({handler:typeof M==="function"?M.toString():M,instruction:q,hooks:{...i,transform:i?.transform?.map?.((C)=>C.toString()),resolve:i?.resolve?.map?.((C)=>C.toString()),beforeHandle:i?.beforeHandle?.map?.((C)=>C.toString()),afterHandle:i?.afterHandle?.map?.((C)=>C.toString()),mapResponse:i?.mapResponse?.map?.((C)=>C.toString()),parse:i?.parse?.map?.((C)=>C.toString()),error:i?.error?.map?.((C)=>C.toString()),afterResponse:i?.afterResponse?.map?.((C)=>C.toString()),stop:i?.stop?.map?.((C)=>C.toString())},validator:X,definitions:J.definitions.type,error:s}),console.log("---"),process.exit(1)}},qL=(J,Y)=>{let W="",Q=uQ({trace:J.event.trace,addFn:Y??((X)=>{W+=X})})("request",{total:J.event.request?.length});if(J.event.request?.length){W+="try{";for(let X=0;X<J.event.request.length;X++){let M=J.event.request[X],G=vQ(M),H=U5(M),U=Q.resolveChild(J.event.request[X].fn.name);if(G)W+=`re=mapEarlyResponse(${H?"await ":""}onRequest[${X}](c),c.set)
`,U("re"),W+=`if(re!==undefined)return re
`;else W+=`${H?"await ":""}onRequest[${X}](c)
`,U()}W+="}catch(error){return app.handleError(c,error,false)}"}return Q.resolve(),W},DL=(J,Y="map")=>{let W=J.extender.higherOrderFunctions;if(!W.length)return"return "+Y;let Q=J["~adapter"].composeGeneralHandler,X=Y;for(let M=0;M<W.length;M++)X=`hoc[${M}](${X},${Q.parameters})`;return`return function hocMap(${Q.parameters}){return ${X}(${Q.parameters})}`},lU=(J)=>{let Y=J["~adapter"].composeGeneralHandler;J.router.http.build();let W=J["~adapter"].isWebStandard,Q=J.event.trace?.length,X="",M=J.router,G=M.http.root.WS?"const route=router.find(r.method==='GET'&&r.headers.get('upgrade')==='websocket'?'WS':r.method,p)":"const route=router.find(r.method,p)";if(G+=M.http.root.ALL?`??router.find('ALL',p)
`:`
`,W)G+=`if(r.method==='HEAD'){const route=router.find('GET',p)
if(route){c.params=route.params
const _res=route.store.handler?route.store.handler(c):route.store.compile()(c)
if(_res)return getResponseLength(_res).then((length)=>{_res.headers.set('content-length', length)
return new Response(null,{status:_res.status,statusText:_res.statusText,headers:_res.headers})
})}}`;let H=`c.error=notFound
`;if(J.event.afterResponse?.length&&!J.event.error){H=`
c.error=notFound
`;let K=J.event.afterResponse.some(U5)?"async":"";H+=`
setImmediate(${K}()=>{`;for(let O=0;O<J.event.afterResponse.length;O++){let z=J.event.afterResponse[O].fn;H+=`
${t7(z)?"await ":""}afterResponse[${O}](c)
`}H+=`})
`}if(J.inference.query)H+=`
if(c.qi===-1){c.query={}}else{c.query=parseQueryFromURL(c.url,c.qi+1)}`;let U=Y.error404(!!J.event.request?.length,!!J.event.error?.length,H);G+=U.code,G+=`
c.params=route.params
if(route.store.handler)return route.store.handler(c)
return route.store.compile()(c)
`;let B="";for(let[K,O]of Object.entries(M.static)){if(B+=`case'${K}':`,J.config.strictPath!==!0)B+=`case'${TQ(K)}':`;let z=_Q(K);if(K!==z)B+=`case'${z}':`;if(B+="switch(r.method){","GET"in O||"WS"in O){if(B+="case 'GET':","WS"in O){if(B+=`if(r.headers.get('upgrade')==='websocket')return ht[${O.WS}].composed(c)
`,"GET"in O===!1)if("ALL"in O)B+=`return ht[${O.ALL}].composed(c)
`;else B+=`break map
`}if("GET"in O)B+=`return ht[${O.GET}].composed(c)
`}if(W&&(("GET"in O)||("ALL"in O))&&"HEAD"in O===!1)B+=`case 'HEAD':const _res=ht[${O.GET??O.ALL}].composed(c)
return getResponseLength(_res).then((length)=>{_res.headers.set('content-length', length)
return new Response(null,{status:_res.status,statusText:_res.statusText,headers:_res.headers})
})
`;for(let[V,L]of Object.entries(O)){if(V==="ALL"||V==="GET"||V==="WS")continue;B+=`case '${V}':return ht[${L}].composed(c)
`}if("ALL"in O)B+=`default:return ht[${O.ALL}].composed(c)
`;else B+=`default:break map
`;B+="}"}let A=!!J.event.request?.some(U5),N=Y.inject?Object.keys(Y.inject).join(",")+",":"";if(X+=`
const {app,mapEarlyResponse,NotFoundError,randomId,handleError,status,redirect,getResponseLength,`+O5("parseQueryFromURL,",J.inference.query)+O5("ELYSIA_TRACE,",Q)+O5("ELYSIA_REQUEST_ID,",Q)+N+`}=data
const store=app.singleton.store
const decorator=app.singleton.decorator
const staticRouter=app.router.static.http
const ht=app.router.history
const router=app.router.http
const trace=app.event.trace?.map(x=>typeof x==='function'?x:x.fn)??[]
const notFound=new NotFoundError()
const hoc=app.extender.higherOrderFunctions.map(x=>x.fn)
`,J.event.request?.length)X+=`const onRequest=app.event.request.map(x=>x.fn)
`;if(J.event.afterResponse?.length)X+=`const afterResponse=app.event.afterResponse.map(x=>x.fn)
`;if(X+=U.declare,J.event.trace?.length)X+="const "+J.event.trace.map((K,O)=>`tr${O}=app.event.trace[${O}].fn`).join(",")+`
`;if(X+=`${A?"async ":""}function map(${Y.parameters}){`,J.event.request?.length)X+=`let re
`;if(X+=Y.createContext(J),J.event.trace?.length)X+="c[ELYSIA_TRACE]=["+J.event.trace.map((K,O)=>`tr${O}(c)`).join(",")+`]
`;if(X+=qL(J),B)X+=`
map: switch(p){
`+B+"}";X+=G+`}
`+DL(J);let D=ZL(J);J.handleError=D;let q=Function("data",`"use strict";
`+X)({app:J,mapEarlyResponse:J["~adapter"].handler.mapEarlyResponse,NotFoundError:UB,randomId:wM,handleError:D,status:hQ,redirect:_M,getResponseLength:Bh,parseQueryFromURL:J.inference.query?UL:void 0,ELYSIA_TRACE:Q?xM:void 0,ELYSIA_REQUEST_ID:Q?nQ:void 0,...Y.inject});if(wY)Bun.gc(!1);return q},ZL=(J)=>{let Y=J.event,W="",Q=J["~adapter"].composeError,X=Q.inject?Object.keys(Q.inject).join(",")+",":"",M=!!J.event.trace?.length;if(W+="const {mapResponse,ERROR_CODE,ElysiaCustomStatusResponse,"+O5("onError,",J.event.error)+O5("afterResponse,",J.event.afterResponse)+O5("trace,",J.event.trace)+O5("onMapResponse,",J.event.mapResponse)+O5("ELYSIA_TRACE,",M)+O5("ELYSIA_REQUEST_ID,",M)+X+`}=inject
`,W+=`return ${J.event.error?.find(U5)||J.event.mapResponse?.find(U5)?"async ":""}function(context,error,skipGlobal){`,W+="",M)W+=`const id=context[ELYSIA_REQUEST_ID]
`;let G=uQ({context:"context",trace:Y.trace,addFn:(N)=>{W+=N}}),H=()=>{if(!Y.afterResponse?.length&&!M)return"";let N="",D=Y.afterResponse?.some(U5)?"async":"";N+=`
setImmediate(${D}()=>{`;let q=uQ({context:"context",trace:Y.trace,addFn:(K)=>{N+=K}})("afterResponse",{total:Y.afterResponse?.length,name:"context"});if(Y.afterResponse?.length&&Y.afterResponse)for(let K=0;K<Y.afterResponse.length;K++){let O=Y.afterResponse[K].fn,z=q.resolveChild(O.name);N+=`
${t7(O)?"await ":""}afterResponse[${K}](context)
`,z()}return q.resolve(),N+=`})
`,N};if(W+=`const set=context.set
let _r
if(!context.code)context.code=error.code??error[ERROR_CODE]
if(!(context.error instanceof Error))context.error=error
if(error instanceof ElysiaCustomStatusResponse){set.status=error.status=error.code
error.message=error.response}`,Q.declare)W+=Q.declare;let U=M||!!Y.afterResponse?.length?"context.response = ":"";if(J.event.error)for(let N=0;N<J.event.error.length;N++){let D=J.event.error[N],q=`${U5(D)?"await ":""}onError[${N}](context)
`;if(W+="if(skipGlobal!==true){",vQ(D)){W+=`_r=${q}
if(_r!==undefined){if(_r instanceof Response){`+H()+`return mapResponse(_r,set${Q.mapResponseContext})}if(_r instanceof ElysiaCustomStatusResponse){error.status=error.code
error.message = error.response}if(set.status===200||!set.status)set.status=error.status
`;let K=G("mapResponse",{total:Y.mapResponse?.length,name:"context"});if(Y.mapResponse?.length)for(let O=0;O<Y.mapResponse.length;O++){let z=Y.mapResponse[O],V=K.resolveChild(z.fn.name);W+=`context.response=context.responseValue=_r_r=${t7(z)?"await ":""}onMapResponse[${O}](context)
`,V()}K.resolve(),W+=H()+`return mapResponse(${U}_r,set${Q.mapResponseContext})}`}else W+=q;W+="}"}W+=`if(error.constructor.name==="ValidationError"||error.constructor.name==="TransformDecodeError"){
if(error.error)error=error.error
set.status=error.status??422
`+H()+Q.validationError+`
}
`,W+="if(error instanceof Error){"+H()+`
if(typeof error.toResponse==='function')return context.response=context.responseValue=error.toResponse()
`+Q.unknownError+`
}`;let B=G("mapResponse",{total:Y.mapResponse?.length,name:"context"});if(W+=`
if(!context.response)context.response=context.responseValue=error.message??error
`,Y.mapResponse?.length){W+=`let mr
`;for(let N=0;N<Y.mapResponse.length;N++){let D=Y.mapResponse[N],q=B.resolveChild(D.fn.name);W+=`if(mr===undefined){mr=${t7(D)?"await ":""}onMapResponse[${N}](context)
if(mr!==undefined)error=context.response=context.responseValue=mr}`,q()}}B.resolve(),W+=H()+`
return mapResponse(${U}error,set${Q.mapResponseContext})}`;let A=(N)=>typeof N==="function"?N:N.fn;return Function("inject",`"use strict";
`+W)({mapResponse:J["~adapter"].handler.mapResponse,ERROR_CODE:FM,ElysiaCustomStatusResponse:O2,onError:J.event.error?.map(A),afterResponse:J.event.afterResponse?.map(A),trace:J.event.trace?.map(A),onMapResponse:J.event.mapResponse?.map(A),ELYSIA_TRACE:M?xM:void 0,ELYSIA_REQUEST_ID:M?nQ:void 0,...Q.inject})},X7=(J,Y)=>Y?J:"",hz=(J,Y,W,Q=!1)=>{let X="",M=J.setHeaders,G=!!J.event.trace?.length;if(G)X+=`const id=randomId()
`;let H=/[:*]/.test(Y.path),U=`const u=request.url,s=u.indexOf('/',${J.config.handler?.standardHostname??!0?11:7}),qi=u.indexOf('?', s + 1)
`,B=W.query||!!Y.hooks.query||!!Y.hooks.standaloneValidator?.find((N)=>N.query)||J.event.request?.length;if(B)X+=U;let A=!W.path?"":!H?`path:'${Y.path}',`:"get path(){"+(B?"":U)+`if(qi===-1)return u.substring(s)
return u.substring(s,qi)
},`;if(X+=X7("const c=",!Q)+"{request,store,"+X7("qi,",B)+X7("params:request.params,",H)+A+X7("url:request.url,",G||W.url||B)+"redirect,status,set:{headers:"+(Q5(M)?"Object.assign({},app.setHeaders)":"Object.create(null)")+",status:200}",W.server)X+=",get server(){return app.getServer()}";if(G)X+=",[ELYSIA_REQUEST_ID]:id";{let N="";for(let D of Object.keys(J.singleton.decorator))N+=`,'${D}':decorator['${D}']`;X+=N}return X+=`}
`,X},oU=(J,Y)=>{let W=!!J.event.trace?.length,Q=!!J.extender.higherOrderFunctions.length,X=mQ(Y.hooks,J.inference);X=mQ({handler:Y.handler},X);let M="const handler=data.handler,app=data.app,store=data.store,decorator=data.decorator,redirect=data.redirect,route=data.route,mapEarlyResponse=data.mapEarlyResponse,"+X7("randomId=data.randomId,",W)+X7("ELYSIA_REQUEST_ID=data.ELYSIA_REQUEST_ID,",W)+X7("ELYSIA_TRACE=data.ELYSIA_TRACE,",W)+X7("trace=data.trace,",W)+X7("hoc=data.hoc,",Q)+`status=data.status
`;if(J.event.request?.length)M+=`const onRequest=app.event.request.map(x=>x.fn)
`;M+=`${J.event.request?.find(U5)?"async":""} function map(request){`;let G=X.query||!!Y.hooks.query||!!Y.hooks.standaloneValidator?.find((H)=>H.query);if(W||G||J.event.request?.length)M+=hz(J,Y,X),M+=qL(J),M+="return handler(c)}";else M+=`return handler(${hz(J,Y,X,!0)})}`;return M+=DL(J),Function("data",M)({app:J,handler:Y.compile?.()??Y.composed,redirect:_M,status:hQ,hoc:J.extender.higherOrderFunctions.map((H)=>H.fn),store:J.store,decorator:J.decorator,route:Y.path,randomId:W?wM:void 0,ELYSIA_TRACE:W?xM:void 0,ELYSIA_REQUEST_ID:W?nQ:void 0,trace:W?J.event.trace?.map((H)=>H?.fn??H):void 0,mapEarlyResponse:r2})},uh=(J,Y,W)=>{if(typeof J==="function"||J instanceof Blob)return;if(GB(J))return()=>J;let Q=a2(J,W??{headers:{}});if(!Y.parse?.length&&!Y.transform?.length&&!Y.beforeHandle?.length&&!Y.afterHandle?.length){if(Q instanceof Promise)return Q.then((X)=>{if(!X)return;if(!X.headers.has("content-type"))X.headers.append("content-type","text/plain");return X.clone()});if(!Q.headers.has("content-type"))Q.headers.append("content-type","text/plain");return()=>Q.clone()}},mz={open(J){J.data.open?.(J)},message(J,Y){J.data.message?.(J,Y)},drain(J){J.data.drain?.(J)},close(J,Y,W){J.data.close?.(J,Y,W)}};class xQ{raw;data;body;constructor(J,Y,W=void 0){this.raw=J,this.data=Y,this.body=W,this.validator=J.data?.validator,this.sendText=J.sendText.bind(J),this.sendBinary=J.sendBinary.bind(J),this.close=J.close.bind(J),this.terminate=J.terminate.bind(J),this.publishText=J.publishText.bind(J),this.publishBinary=J.publishBinary.bind(J),this.subscribe=J.subscribe.bind(J),this.unsubscribe=J.unsubscribe.bind(J),this.isSubscribed=J.isSubscribed.bind(J),this.cork=J.cork.bind(J),this.remoteAddress=J.remoteAddress,this.binaryType=J.binaryType,this.data=J.data,this.send=this.send.bind(this),this.ping=this.ping.bind(this),this.pong=this.pong.bind(this),this.publish=this.publish.bind(this)}send(J,Y){if(Buffer.isBuffer(J))return this.raw.send(J,Y);if(this.validator?.Check(J)===!1)return this.raw.send(new V1("message",this.validator,J).message);if(typeof J==="object")J=JSON.stringify(J);return this.raw.send(J,Y)}ping(J){if(Buffer.isBuffer(J))return this.raw.ping(J);if(this.validator?.Check(J)===!1)return this.raw.send(new V1("message",this.validator,J).message);if(typeof J==="object")J=JSON.stringify(J);return this.raw.ping(J)}pong(J){if(Buffer.isBuffer(J))return this.raw.pong(J);if(this.validator?.Check(J)===!1)return this.raw.send(new V1("message",this.validator,J).message);if(typeof J==="object")J=JSON.stringify(J);return this.raw.pong(J)}publish(J,Y,W){if(Buffer.isBuffer(Y))return this.raw.publish(J,Y,W);if(this.validator?.Check(Y)===!1)return this.raw.send(new V1("message",this.validator,Y).message);if(typeof Y==="object")Y=JSON.stringify(Y);return this.raw.publish(J,Y,W)}sendText;sendBinary;close;terminate;publishText;publishBinary;subscribe;unsubscribe;isSubscribed;cork;remoteAddress;binaryType;get readyState(){return this.raw.readyState}validator;["~types"];get id(){return this.data.id}}var ph=(J)=>{let Y=typeof J==="function"?[J]:J;return async function(W,Q){if(typeof Q==="string"){let X=Q?.charCodeAt(0);if(X===34||X===47||X===91||X===123)try{Q=JSON.parse(Q)}catch{}else if(az(Q))Q=+Q;else if(Q==="true")Q=!0;else if(Q==="false")Q=!1;else if(Q==="null")Q=null}if(Y)for(let X=0;X<Y.length;X++){let M=Y[X](W,Q);if(M instanceof Promise)M=await M;if(M!==void 0)return M}return Q}},nh=(J)=>{let Y=(W,Q)=>{if(Q instanceof Promise)return Q.then((G)=>Y(W,G));if(Buffer.isBuffer(Q))return W.send(Q.toString());if(Q===void 0)return;let X=(G)=>{if(J?.Check(G)===!1)return W.send(new V1("message",J,G).message);if(typeof G==="object")return W.send(JSON.stringify(G));W.send(G)};if(typeof Q?.next!=="function")return void X(Q);let M=Q.next();if(M instanceof Promise)return(async()=>{let G=await M;if(J?.Check(G)===!1)return W.send(new V1("message",J,G).message);if(X(G.value),!G.done)for await(let H of Q)X(H)})();if(X(M.value),!M.done)for(let G of Q)X(G)};return Y},ih=/:.+?\?(?=\/|$)/,OL=(J)=>{let Y=ih.exec(J);if(!Y)return[J];let W=[],Q=J.slice(0,Y.index),X=Y[0].slice(0,-1),M=J.slice(Y.index+Y[0].length);W.push(Q.slice(0,-1)),W.push(Q+X);for(let G of OL(M)){if(!G)continue;if(!G.startsWith("/:"))W.push(Q.slice(0,-1)+G);W.push(Q+X+G)}return W},GB=(J)=>{return typeof J==="object"&&J!==null&&(J.toString()==="[object HTMLBundle]"||typeof J.index==="string")},KL={GET:!0,HEAD:!0,OPTIONS:!0,DELETE:!0,PATCH:!0,POST:!0,PUT:!0},rU=(J)=>{if(!J.config.aot||!J.config.systemRouter)return;let Y={},W=(X,M)=>{let G=encodeURI(X.path);if(Y[G]){if(!Y[G][X.method])Y[G][X.method]=M}else Y[G]={[X.method]:M}},Q=J.routeTree;for(let X of J.router.history){if(typeof X.handler!=="function")continue;let M=X.method;if(M==="GET"&&`WS_${X.path}`in Q||M==="WS"||X.path.charCodeAt(X.path.length-1)===42||!(M in KL))continue;if(M==="ALL"){if(!(`WS_${X.path}`in Q))Y[X.path]=X.hooks?.config?.mount?X.hooks.trace||J.event.trace||J.extender.higherOrderFunctions?oU(J,X):X.hooks.mount||X.handler:X.handler;continue}let G,H=J.config.precompile?oU(J,X):(U)=>{if(G)return G(U);return(G=oU(J,X))(U)};for(let U of OL(X.path))W({method:M,path:U},H)}return Y},RY=(J,Y)=>{if(!Y)return J;for(let W of Object.keys(Y)){if(J[W]===Y[W])continue;if(!J[W]){J[W]=Y[W];continue}if(J[W]&&Y[W]){if(typeof J[W]==="function"||J[W]instanceof Response){J[W]=Y[W];continue}J[W]={...J[W],...Y[W]}}}return J},lh={...$B,name:"bun",handler:{mapResponse:a2,mapEarlyResponse:r2,mapCompactResponse:G7,createStaticHandler:Ch,createNativeStaticHandler:uh},composeHandler:{...$B.composeHandler,headers:eU?`c.headers=c.request.headers.toJSON()
`:`c.headers={}
for(const [k,v] of c.request.headers.entries())c.headers[k]=v
`},listen(J){return(Y,W)=>{if(typeof Bun>"u")throw Error(".listen() is designed to run on Bun only. If you are running Elysia in other environment please use a dedicated plugin or export the handler via Elysia.fetch");if(J.compile(),typeof Y==="string"){if(!az(Y))throw Error("Port must be a numeric value");Y=parseInt(Y)}let Q=(M,{withAsync:G=!1}={})=>{let H={},U=[];for(let[B,A]of Object.entries(M))if(B=encodeURI(B),tz){if(!A)continue;for(let[N,D]of Object.entries(A)){if(!D||!(N in KL))continue;if(D instanceof Promise){if(G){if(!H[B])H[B]={};U.push(D.then((q)=>{if(q instanceof Response)H[B][N]=q;if(GB(q))H[B][N]=q}))}continue}if(!(D instanceof Response)&&!GB(D))continue;if(!H[B])H[B]={};H[B][N]=D}}else{if(!A)continue;if(A instanceof Promise){if(G){if(!H[B])H[B]={};U.push(A.then((N)=>{if(N instanceof Response)H[B]=N}))}continue}if(!(A instanceof Response))continue;H[B]=A}if(G)return Promise.all(U).then(()=>H);return H},X=typeof Y==="object"?{development:!r7,reusePort:!0,idleTimeout:30,...J.config.serve||{},...Y||{},routes:RY(RY(Q(J.router.response),rU(J)),J.config.serve?.routes),websocket:{...J.config.websocket||{},...mz||{},...Y.websocket||{}},fetch:J.fetch}:{development:!r7,reusePort:!0,idleTimeout:30,...J.config.serve||{},routes:RY(RY(Q(J.router.response),rU(J)),J.config.serve?.routes),websocket:{...J.config.websocket||{},...mz||{}},port:Y,fetch:J.fetch};if(J.server=Bun.serve(X),J.event.start)for(let M=0;M<J.event.start.length;M++)J.event.start[M].fn(J);if(W)W(J.server);process.on("beforeExit",()=>{if(J.server){if(J.server.stop?.(),J.server=null,J.event.stop)for(let M=0;M<J.event.stop.length;M++)J.event.stop[M].fn(J)}}),J.promisedModules.then(async()=>{J.server?.reload({...X,fetch:J.fetch,routes:RY(RY(await Q(J.router.response,{withAsync:!0}),rU(J)),J.config.serve?.routes)}),Bun?.gc(!1)})}},async stop(J,Y){if(J.server){if(J.server.stop(Y),J.server=null,J.event.stop?.length)for(let W=0;W<J.event.stop.length;W++)J.event.stop[W].fn(J)}else console.log("Elysia isn't running. Call `app.listen` to start the server.",Error().stack)},ws(J,Y,W){let{parse:Q,body:X,response:M,...G}=W,H=_5(X,{modules:J.definitions.typebox,models:J.definitions.type,normalize:J.config.normalize}),U=_5(M,{modules:J.definitions.typebox,models:J.definitions.type,normalize:J.config.normalize});J.route("WS",Y,async(B)=>{let A=B.server??J.server,{set:N,path:D,qi:q,headers:K,query:O,params:z}=B;if(B.validator=U,W.upgrade){if(typeof W.upgrade==="function"){let F=W.upgrade(B);if(F instanceof Promise)await F}else if(W.upgrade)Object.assign(N.headers,W.upgrade)}if(N.cookie&&Q5(N.cookie)){let F=ML(N.cookie);if(F)N.headers["set-cookie"]=F}if(N.headers["set-cookie"]&&Array.isArray(N.headers["set-cookie"]))N.headers=GL(new Headers(N.headers),N.headers["set-cookie"]);let V=nh(U),L=ph(Q),S;if(typeof W.beforeHandle==="function"){let F=W.beforeHandle(B);if(F instanceof Promise)await F}let g=[...W.error?Array.isArray(W.error)?W.error:[W.error]:[],...(J.event.error??[]).map((F)=>typeof F==="function"?F:F.fn)].filter((F)=>F),d=g.length>0,I=!d?()=>{}:async(F,R)=>{for(let j of g){let x=j(Object.assign(B,{error:R}));if(x instanceof Promise)x=await x;if(await V(F,x),x)break}};if(A?.upgrade(B.request,{headers:Q5(N.headers)?N.headers:void 0,data:{...B,get id(){if(S)return S;return S=wM()},validator:U,ping(F){W.ping?.(F)},pong(F){W.pong?.(F)},open:async(F)=>{try{await V(F,W.open?.(new xQ(F,B)))}catch(R){I(F,R)}},message:async(F,R)=>{let j=await L(F,R);if(H?.Check(j)===!1){let x=new V1("message",H,j);if(!d)return void F.send(x.message);return I(F,x)}try{await V(F,W.message?.(new xQ(F,B,j),j))}catch(x){I(F,x)}},drain:async(F)=>{try{await V(F,W.drain?.(new xQ(F,B)))}catch(R){I(F,R)}},close:async(F,R,j)=>{try{await V(F,W.close?.(new xQ(F,B),R,j))}catch(x){I(F,x)}}}}))return;return N.status=400,"Expected a websocket connection"},{...G,websocket:W})}},dz=wY?Bun.env:typeof process<"u"&&process?.env?process.env:{},aU=(J,Y)=>{let W=J.schema;if(!W)return;if(W.$defs?.[W.$ref])W=W.$defs[W.$ref];if(!W?.properties)return;for(let[Q,X]of Object.entries(W.properties))Y[Q]??=X.default},cz=(J)=>{let{mapResponse:Y,mapEarlyResponse:W}=J["~adapter"].handler,Q=J.setHeaders;return async(X)=>{let M=X.url,G=M.indexOf("/",11),H=M.indexOf("?",G+1),U=H===-1?M.substring(G):M.substring(G,H),B={cookie:{},status:200,headers:Q?{...Q}:{}},A=Object.assign({},J.singleton.decorator,{set:B,store:J.singleton.store,request:X,path:U,qi:H,error:hQ,status:hQ,redirect:_M});try{if(J.event.request)for(let j=0;j<J.event.request.length;j++){let x=J.event.request[j].fn,_=x(A);if(_ instanceof Promise)_=await _;if(_=W(_,B),_)return A.response=_}let N=X.method==="GET"&&X.headers.get("upgrade")?.toLowerCase()==="websocket"?"WS":X.method,D=J.router.dynamic.find(X.method,U)??J.router.dynamic.find(N,U)??J.router.dynamic.find("ALL",U);if(!D)throw A.query=H===-1?{}:TY(M.substring(H+1)),new UB;let{handle:q,hooks:K,validator:O,content:z,route:V}=D.store,L;if(X.method!=="GET"&&X.method!=="HEAD")if(z)switch(z){case"application/json":L=await X.json();break;case"text/plain":L=await X.text();break;case"application/x-www-form-urlencoded":L=TY(await X.text());break;case"application/octet-stream":L=await X.arrayBuffer();break;case"multipart/form-data":L={};let j=await X.formData();for(let x of j.keys()){if(L[x])continue;let _=j.getAll(x);if(_.length===1)L[x]=_[0];else L[x]=_}break}else{let j;if(X.body)j=X.headers.get("content-type");if(j){let x=j.indexOf(";");if(x!==-1)j=j.slice(0,x);if(A.contentType=j,K.parse)for(let _=0;_<K.parse.length;_++){let k=K.parse[_].fn;if(typeof k==="string")switch(k){case"json":case"application/json":L=await X.json();break;case"text":case"text/plain":L=await X.text();break;case"urlencoded":case"application/x-www-form-urlencoded":L=TY(await X.text());break;case"arrayBuffer":case"application/octet-stream":L=await X.arrayBuffer();break;case"formdata":case"multipart/form-data":L={};let l=await X.formData();for(let r of l.keys()){if(L[r])continue;let Z0=l.getAll(r);if(Z0.length===1)L[r]=Z0[0];else L[r]=Z0}break;default:let q0=J["~parser"][k];if(q0){let r=q0(A,j);if(r instanceof Promise)r=await r;if(r){L=r;break}}break}else{let l=k(A,j);if(l instanceof Promise)l=await l;if(l){L=l;break}}}if(delete A.contentType,L===void 0)switch(j){case"application/json":L=await X.json();break;case"text/plain":L=await X.text();break;case"application/x-www-form-urlencoded":L=TY(await X.text());break;case"application/octet-stream":L=await X.arrayBuffer();break;case"multipart/form-data":L={};let _=await X.formData();for(let k of _.keys()){if(L[k])continue;let l=_.getAll(k);if(l.length===1)L[k]=l[0];else L[k]=l}break}}}A.route=V,A.body=L,A.params=D?.params||void 0,A.query=H===-1?{}:TY(M.substring(H+1)),A.headers={};for(let[j,x]of X.headers.entries())A.headers[j]=x;let S={domain:J.config.cookie?.domain??O?.cookie?.config.domain,expires:J.config.cookie?.expires??O?.cookie?.config.expires,httpOnly:J.config.cookie?.httpOnly??O?.cookie?.config.httpOnly,maxAge:J.config.cookie?.maxAge??O?.cookie?.config.maxAge,path:J.config.cookie?.path??O?.cookie?.config.path,priority:J.config.cookie?.priority??O?.cookie?.config.priority,partitioned:J.config.cookie?.partitioned??O?.cookie?.config.partitioned,sameSite:J.config.cookie?.sameSite??O?.cookie?.config.sameSite,secure:J.config.cookie?.secure??O?.cookie?.config.secure,secrets:J.config.cookie?.secrets??O?.cookie?.config.secrets,sign:J.config.cookie?.sign??O?.cookie?.config.sign},g=X.headers.get("cookie");A.cookie=await XL(A.set,g,S);let d=O?.createHeaders?.();if(d)aU(d,A.headers);let I=O?.createParams?.();if(I)aU(I,A.params);let F=O?.createQuery?.();if(F)aU(F,A.query);if(K.transform)for(let j=0;j<K.transform.length;j++){let x=K.transform[j],_=x.fn(A);if(_ instanceof Promise)_=await _;if(_ instanceof O2){let k=W(_,A.set);if(k)return A.response=k}if(x.subType==="derive")Object.assign(A,_)}if(O){if(d){let j=structuredClone(A.headers);for(let[x,_]of X.headers)j[x]=_;if(O.headers.Check(j)===!1)throw new V1("header",O.headers,j)}else if(O.headers?.Decode)A.headers=O.headers.Decode(A.headers);if(I?.Check(A.params)===!1)throw new V1("params",O.params,A.params);else if(O.params?.Decode)A.params=O.params.Decode(A.params);if(O.query?.schema){let j=O.query.schema;if(j.$defs?.[j.$ref])j=j.$defs[j.$ref];let x=j.properties;for(let _ of Object.keys(x)){let k=x[_];if((k.type==="array"||k.items?.type==="string")&&typeof A.query[_]==="string"&&A.query[_])A.query[_]=A.query[_].split(",")}}if(F?.Check(A.query)===!1)throw new V1("query",O.query,A.query);else if(O.query?.Decode)A.query=O.query.Decode(A.query);if(O.createCookie?.()){let j={};for(let[x,_]of Object.entries(A.cookie))j[x]=_.value;if(O.cookie.Check(j)===!1)throw new V1("cookie",O.cookie,j);else if(O.cookie?.Decode)j=O.cookie.Decode(j)}if(O.createBody?.()?.Check(L)===!1)throw new V1("body",O.body,L);else if(O.body?.Decode)A.body=O.body.Decode(L)}if(K.beforeHandle)for(let j=0;j<K.beforeHandle.length;j++){let x=K.beforeHandle[j],_=x.fn(A);if(_ instanceof Promise)_=await _;if(_ instanceof O2){let k=W(_,A.set);if(k)return A.response=k}if(x.subType==="resolve"){Object.assign(A,_);continue}if(_!==void 0){if(A.response=_,K.afterHandle)for(let l=0;l<K.afterHandle.length;l++){let q0=K.afterHandle[l].fn(A);if(q0 instanceof Promise)q0=await q0;if(q0)_=q0}let k=W(_,A.set);if(k)return A.response=k}}let R=typeof q==="function"?q(A):q;if(R instanceof Promise)R=await R;if(!K.afterHandle?.length){let j=R instanceof O2,x=j?R.code:B.status?typeof B.status==="string"?bQ[B.status]:B.status:200;if(j)B.status=x,R=R.response;let _=O?.createResponse?.()?.[x];if(_?.Check(R)===!1)if(_?.Clean){let k=_.Clean(R);if(_?.Check(k)===!1)throw new V1("response",_,R);R=k}else throw new V1("response",_,R);if(_?.Encode)R=_.Encode(R);if(_?.Clean)R=_.Clean(R)}else{A.response=R;for(let j=0;j<K.afterHandle.length;j++){let x=K.afterHandle[j].fn(A);if(x instanceof Promise)x=await x;let _=x instanceof O2,k=_?x.code:B.status?typeof B.status==="string"?bQ[B.status]:B.status:200;if(_)B.status=k,x=x.response;let l=O?.createResponse?.()?.[k];if(l?.Check(x)===!1)if(l?.Clean){let r=l.Clean(x);if(l?.Check(r)===!1)throw new V1("response",l,x);x=r}else throw new V1("response",l,x);if(l?.Encode)A.response=x=l.Encode(x);if(l?.Clean)A.response=x=l.Clean(x);let q0=W(x,A.set);if(q0!==void 0)return A.response=q0}}if(A.set.cookie&&S?.sign){let j=!S.secrets?void 0:typeof S.secrets==="string"?S.secrets:S.secrets[0];if(S.sign===!0){if(j)for(let[x,_]of Object.entries(A.set.cookie))A.set.cookie[x].value=await VM(_.value,j)}else{let x=O?.cookie?.schema?.properties;if(j)for(let _ of S.sign){if(!(_ in x))continue;if(A.set.cookie[_]?.value)A.set.cookie[_].value=await VM(A.set.cookie[_].value,j)}}}return Y(A.response=R,A.set)}catch(N){let D=N instanceof tX&&N.error?N.error:N;return J.handleError(A,D)}finally{if(J.event.afterResponse)setImmediate(async()=>{for(let N of J.event.afterResponse)await N.fn(A)})}}},oh=(J)=>{let{mapResponse:Y}=J["~adapter"].handler;return async(W,Q)=>{let X=Object.assign(W,{error:Q,code:Q.code});if(X.set=W.set,J.event.error)for(let M=0;M<J.event.error.length;M++){let G=J.event.error[M].fn(X);if(G instanceof Promise)G=await G;if(G!==void 0&&G!==null)return W.response=Y(G,W.set)}return new Response(typeof Q.cause==="string"?Q.cause:Q.message,{headers:W.set.headers,status:Q.status??500})}};class a0{config;server=null;dependencies={};"~Prefix"="";"~Singleton"=null;"~Definitions"=null;"~Metadata"=null;"~Ephemeral"=null;"~Volatile"=null;"~Routes"=null;singleton={decorator:{},store:{},derive:{},resolve:{}};get store(){return this.singleton.store}get decorator(){return this.singleton.decorator}definitions={typebox:Z.Module({}),type:{},error:{}};extender={macro:{},higherOrderFunctions:[]};validator={global:null,scoped:null,local:null,getCandidate(){if(!this.global&&!this.scoped&&!this.local)return{body:void 0,headers:void 0,params:void 0,query:void 0,cookie:void 0,response:void 0};return CQ(CQ(this.global,this.scoped),this.local)}};standaloneValidator={global:null,scoped:null,local:null};event={};telemetry;router={"~http":void 0,get http(){if(!this["~http"])this["~http"]=new _Y({lazy:!0,onParam:Zz.default});return this["~http"]},"~dynamic":void 0,get dynamic(){if(!this["~dynamic"])this["~dynamic"]=new _Y({onParam:Zz.default});return this["~dynamic"]},static:{},response:{},history:[]};routeTree={};get routes(){return this.router.history}getGlobalRoutes(){return this.router.history}getGlobalDefinitions(){return this.definitions}inference={body:!1,cookie:!1,headers:!1,query:!1,set:!1,server:!1,path:!1,route:!1,url:!1};getServer(){return this.server}getParent(){return null}"~parser"={};_promisedModules;get promisedModules(){if(!this._promisedModules)this._promisedModules=new sz(console.error,()=>{});return this._promisedModules}constructor(J={}){if(J.tags)if(!J.detail)J.detail={tags:J.tags};else J.detail.tags=J.tags;if(this.config={aot:dz.ELYSIA_AOT!=="false",nativeStaticResponse:!0,systemRouter:!0,encodeSchema:!0,normalize:!0,...J,prefix:J.prefix?J.prefix.charCodeAt(0)===47?J.prefix:`/${J.prefix}`:void 0,cookie:{path:"/",...J?.cookie},experimental:J?.experimental??{},seed:J?.seed===void 0?"":J?.seed},this["~adapter"]=J.adapter??(typeof Bun<"u"?lh:$B),J?.analytic&&(J?.name||J?.seed!==void 0))this.telemetry={stack:Error().stack}}"~adapter";env(J,Y=dz){if(_5(J,{modules:this.definitions.typebox,dynamic:!0,additionalProperties:!0,coerce:!0,sanitize:()=>this.config.sanitize}).Check(Y)===!1){let W=new V1("env",J,Y);throw Error(W.all.map((Q)=>Q.summary).join(`
`))}return this}wrap(J){return this.extender.higherOrderFunctions.push({checksum:RQ(JSON.stringify({name:this.config.name,seed:this.config.seed,content:J.toString()})),fn:J}),this}get models(){let J={};for(let Y of Object.keys(this.definitions.type))J[Y]=_5(this.definitions.typebox.Import(Y));return J.modules=this.definitions.typebox,J}add(J,Y,W,Q,X){let M=X?.skipPrefix??!1,G=X?.allowMeta??!1;Q??={},this.applyMacro(Q);let H=[];if(Q.standaloneValidator)H=H.concat(Q.standaloneValidator);if(this.standaloneValidator.local)H=H.concat(this.standaloneValidator.local);if(this.standaloneValidator.scoped)H=H.concat(this.standaloneValidator.scoped);if(this.standaloneValidator.global)H=H.concat(this.standaloneValidator.global);if(Y!==""&&Y.charCodeAt(0)!==47)Y="/"+Y;if(this.config.prefix&&!M)Y=this.config.prefix+Y;if(Q?.type)switch(Q.type){case"text":Q.type="text/plain";break;case"json":Q.type="application/json";break;case"formdata":Q.type="multipart/form-data";break;case"urlencoded":Q.type="application/x-www-form-urlencoded";break;case"arrayBuffer":Q.type="application/octet-stream";break;default:break}let U=this.validator.getCandidate(),B={body:Q?.body??U?.body,headers:Q?.headers??U?.headers,params:Q?.params??U?.params,query:Q?.query??U?.query,cookie:Q?.cookie??U?.cookie,response:Q?.response??U?.response},A=this.config.precompile===!0||typeof this.config.precompile==="object"&&this.config.precompile.compose===!0,N=()=>{let j=this.definitions.type,x=!this.config.aot,_=this.config.normalize,k=this.definitions.typebox,l=()=>this.config.sanitize,q0=()=>{if(B.cookie||H.find((r)=>r.cookie))return vh({modules:k,validator:B.cookie,defaultConfig:this.config.cookie,normalize:_,config:B.cookie?.config??{},dynamic:x,models:j,validators:H.map((r)=>r.cookie),sanitize:l})};return A?{body:_5(B.body,{modules:k,dynamic:x,models:j,normalize:_,additionalCoerce:MB(),validators:H.map((r)=>r.body),sanitize:l}),headers:_5(B.headers,{modules:k,dynamic:x,models:j,additionalProperties:!0,coerce:!0,additionalCoerce:wQ(),validators:H.map((r)=>r.headers),sanitize:l}),params:_5(B.params,{modules:k,dynamic:x,models:j,coerce:!0,additionalCoerce:wQ(),validators:H.map((r)=>r.params),sanitize:l}),query:_5(B.query,{modules:k,dynamic:x,models:j,normalize:_,coerce:!0,additionalCoerce:bz(),validators:H.map((r)=>r.query),sanitize:l}),cookie:q0(),response:vz(B.response,{modules:k,dynamic:x,models:j,normalize:_,validators:H.map((r)=>r.response),sanitize:l})}:{createBody(){if(this.body)return this.body;return this.body=_5(B.body,{modules:k,dynamic:x,models:j,normalize:_,additionalCoerce:MB(),validators:H.map((r)=>r.body),sanitize:l})},createHeaders(){if(this.headers)return this.headers;return this.headers=_5(B.headers,{modules:k,dynamic:x,models:j,normalize:_,additionalProperties:!_,coerce:!0,additionalCoerce:wQ(),validators:H.map((r)=>r.headers),sanitize:l})},createParams(){if(this.params)return this.params;return this.params=_5(B.params,{modules:k,dynamic:x,models:j,normalize:_,coerce:!0,additionalCoerce:wQ(),validators:H.map((r)=>r.params),sanitize:l})},createQuery(){if(this.query)return this.query;return this.query=_5(B.query,{modules:k,dynamic:x,models:j,normalize:_,coerce:!0,additionalCoerce:bz(),validators:H.map((r)=>r.query),sanitize:l})},createCookie(){if(this.cookie)return this.cookie;return this.cookie=q0()},createResponse(){if(this.response)return this.response;return this.response=vz(B.response,{modules:k,dynamic:x,models:j,normalize:_,validators:H.map((r)=>r.response),sanitize:l})}}};if(U.body||U.cookie||U.headers||U.params||U.query||U.response)Q=$J(Q,U);if(Q.tags)if(!Q.detail)Q.detail={tags:Q.tags};else Q.detail.tags=Q.tags;if(Q5(this.config.detail))Q.detail=X2(Object.assign({},this.config.detail),Q.detail);let D=Q5(this.event)?$J(this.event,Pz(Q)):{...Yh(Pz(Q))};if(H.length)Object.assign(D,{standaloneValidator:H});if(this.config.aot===!1){let j=N();this.router.dynamic.add(J,Y,{validator:j,hooks:D,content:Q?.type,handle:W,route:Y});let x=_Q(Y,{dynamic:!0});if(Y!==x)this.router.dynamic.add(J,x,{validator:j,hooks:D,content:Q?.type,handle:W,route:Y});if(this.config.strictPath===!1){let _=TQ(Y);this.router.dynamic.add(J,_,{validator:j,hooks:D,content:Q?.type,handle:W,route:Y});let k=_Q(_);if(_!==k)this.router.dynamic.add(J,_,{validator:j,hooks:D,content:Q?.type,handle:W,route:Y})}this.router.history.push({method:J,path:Y,composed:null,handler:W,compile:void 0,hooks:D});return}let q=this["~adapter"].handler,K=typeof W!=="function"?()=>{let j={redirect:_M,request:this["~adapter"].isWebStandard?new Request(`http://e.ly${Y}`,{method:J}):void 0,server:null,set:{headers:Object.assign({},this.setHeaders)},status:hQ,store:this.store};try{this.event.request?.map((_)=>{if(typeof _.fn==="function")return _.fn(j);if(typeof _==="function")return _(j)})}catch(_){let k;if(j.error=_,this.event.error?.some((l)=>{if(typeof l.fn==="function")return k=l.fn(j);if(typeof l==="function")return k=l(j)}),k!==void 0)W=k}let x=q.createNativeStaticHandler?.(W,D,j.set);return x instanceof Promise?x.then((_)=>{if(_)return _}):x?.()}:void 0,O=this.config.nativeStaticResponse===!0,z=(j)=>{if(!O||!K)return;if(tz)if(this.router.response[j])this.router.response[j][J]=K();else this.router.response[j]={[J]:K()};else this.router.response[j]=K()};z(Y);let V,L=()=>{if(V)return V;return V=ch({app:this,path:Y,method:J,hooks:D,validator:N(),handler:typeof W!=="function"&&typeof q.createStaticHandler!=="function"?()=>W:W,allowMeta:G,inference:this.inference})},S;if(`${J}_${Y}`in this.routeTree)for(let j=0;j<this.router.history.length;j++){let x=this.router.history[j];if(x.path===Y&&x.method===J){S=j;break}}else this.routeTree[`${J}_${Y}`]=this.router.history.length;let g=S??this.router.history.length,d=A?L():(j)=>(this.router.history[g].composed=L())(j);if(S!==void 0)this.router.history[S]=Object.assign({method:J,path:Y,composed:d,compile:L,handler:W,hooks:D},H.length?{standaloneValidators:H}:void 0,Q.webSocket?{websocket:Q.websocket}:void 0);else this.router.history.push(Object.assign({method:J,path:Y,composed:d,compile:L,handler:W,hooks:D},Q.webSocket?{websocket:Q.websocket}:void 0));let I={handler:A?d:void 0,compile(){return this.handler=L()}},F=this.router.static,R=Y.indexOf(":")===-1&&Y.indexOf("*")===-1;if(J==="WS"){if(R){if(Y in F)F[Y][J]=g;else F[Y]={[J]:g};return}if(this.router.http.add("WS",Y,I),!this.config.strictPath)this.router.http.add("WS",TQ(Y),I);let j=_Q(Y,{dynamic:!0});if(Y!==j)this.router.http.add("WS",j,I);return}if(R){if(Y in F)F[Y][J]=g;else F[Y]={[J]:g};if(!this.config.strictPath)z(TQ(Y))}else{if(this.router.http.add(J,Y,I),!this.config.strictPath){let x=TQ(Y);z(x),this.router.http.add(J,x,I)}let j=_Q(Y,{dynamic:!0});if(Y!==j)this.router.http.add(J,j,I),z(j)}}setHeaders;headers(J){if(!J)return this;if(!this.setHeaders)this.setHeaders={};return this.setHeaders=X2(this.setHeaders,J),this}onStart(J){return this.on("start",J),this}onRequest(J){return this.on("request",J),this}onParse(J,Y){if(!Y){if(typeof J==="string")return this.on("parse",this["~parser"][J]);return this.on("parse",J)}return this.on(J,"parse",Y)}parser(J,Y){return this["~parser"][J]=Y,this}onTransform(J,Y){if(!Y)return this.on("transform",J);return this.on(J,"transform",Y)}resolve(J,Y){if(!Y)Y=J,J={as:"local"};let W={subType:"resolve",fn:Y};return this.onBeforeHandle(J,W)}mapResolve(J,Y){if(!Y)Y=J,J={as:"local"};let W={subType:"mapResolve",fn:Y};return this.onBeforeHandle(J,W)}onBeforeHandle(J,Y){if(!Y)return this.on("beforeHandle",J);return this.on(J,"beforeHandle",Y)}onAfterHandle(J,Y){if(!Y)return this.on("afterHandle",J);return this.on(J,"afterHandle",Y)}mapResponse(J,Y){if(!Y)return this.on("mapResponse",J);return this.on(J,"mapResponse",Y)}onAfterResponse(J,Y){if(!Y)return this.on("afterResponse",J);return this.on(J,"afterResponse",Y)}trace(J,Y){if(!Y)Y=J,J={as:"local"};if(!Array.isArray(Y))Y=[Y];for(let W of Y)this.on(J,"trace",Th(W));return this}error(J,Y){switch(typeof J){case"string":return Y.prototype[FM]=J,this.definitions.error[J]=Y,this;case"function":return this.definitions.error=J(this.definitions.error),this}for(let[W,Q]of Object.entries(J))Q.prototype[FM]=W,this.definitions.error[W]=Q;return this}onError(J,Y){if(!Y)return this.on("error",J);return this.on(J,"error",Y)}onStop(J){return this.on("stop",J),this}on(J,Y,W){let Q;switch(typeof J){case"string":Q=J,W=Y;break;case"object":if(Q=Y,!Array.isArray(Y)&&typeof Y==="object")W=Y;break}if(Array.isArray(W))W=s5(W);else if(typeof W==="function")W=[{fn:W}];else W=[W];let X=W;for(let M of X)if(M.scope=typeof J==="string"?"local":J?.as??"local",Q==="resolve"||Q==="derive")M.subType=Q;if(Q!=="trace")this.inference=mQ({[Q]:X.map((M)=>M.fn)},this.inference);for(let M of X){let G=$h(M,"global",{skipIfHasType:!0});switch(Q){case"start":this.event.start??=[],this.event.start.push(G);break;case"request":this.event.request??=[],this.event.request.push(G);break;case"parse":this.event.parse??=[],this.event.parse.push(G);break;case"transform":this.event.transform??=[],this.event.transform.push(G);break;case"derive":this.event.transform??=[],this.event.transform.push(s5(G,"derive"));break;case"beforeHandle":this.event.beforeHandle??=[],this.event.beforeHandle.push(G);break;case"resolve":this.event.beforeHandle??=[],this.event.beforeHandle.push(s5(G,"resolve"));break;case"afterHandle":this.event.afterHandle??=[],this.event.afterHandle.push(G);break;case"mapResponse":this.event.mapResponse??=[],this.event.mapResponse.push(G);break;case"afterResponse":this.event.afterResponse??=[],this.event.afterResponse.push(G);break;case"trace":this.event.trace??=[],this.event.trace.push(G);break;case"error":this.event.error??=[],this.event.error.push(G);break;case"stop":this.event.stop??=[],this.event.stop.push(G);break}}return this}as(J){if(l7(this.event.parse,J),l7(this.event.transform,J),l7(this.event.beforeHandle,J),l7(this.event.afterHandle,J),l7(this.event.mapResponse,J),l7(this.event.afterResponse,J),l7(this.event.trace,J),l7(this.event.error,J),J==="scoped"){if(this.validator.scoped=CQ(this.validator.scoped,this.validator.local),this.validator.local=null,this.standaloneValidator.local!==null)this.standaloneValidator.scoped||=[],this.standaloneValidator.scoped.push(...this.standaloneValidator.local),this.standaloneValidator.local=null}else if(J==="global"){if(this.validator.global=CQ(this.validator.global,CQ(this.validator.scoped,this.validator.local)),this.validator.scoped=null,this.validator.local=null,this.standaloneValidator.local!==null)this.standaloneValidator.scoped||=[],this.standaloneValidator.scoped.push(...this.standaloneValidator.local),this.standaloneValidator.local=null;if(this.standaloneValidator.scoped!==null)this.standaloneValidator.global||=[],this.standaloneValidator.global.push(...this.standaloneValidator.scoped),this.standaloneValidator.scoped=null}return this}group(J,Y,W){let Q=new a0({...this.config,prefix:""});Q.singleton={...this.singleton},Q.definitions={...this.definitions},Q.getServer=()=>this.getServer(),Q.inference=Iz(this.inference),Q.extender={...this.extender},Q["~parser"]=this["~parser"],Q.standaloneValidator={local:[...this.standaloneValidator.local??[]],scoped:[...this.standaloneValidator.scoped??[]],global:[...this.standaloneValidator.global??[]]};let X=typeof Y==="object",M=(X?W:Y)(Q);if(this.singleton=X2(this.singleton,Q.singleton),this.definitions=X2(this.definitions,Q.definitions),M.event.request?.length)this.event.request=[...this.event.request||[],...M.event.request||[]];if(M.event.mapResponse?.length)this.event.mapResponse=[...this.event.mapResponse||[],...M.event.mapResponse||[]];return this.model(M.definitions.type),Object.values(Q.router.history).forEach(({method:G,path:H,handler:U,hooks:B})=>{if(H=(X?"":this.config.prefix??"")+J+H,X){let{body:A,headers:N,query:D,params:q,cookie:K,response:O,...z}=Y,V=B,L=A||N||D||q||K||O;this.add(G,H,U,$J(z,{...V||{},error:!V.error?M.event.error:Array.isArray(V.error)?[...V.error??[],...M.event.error??[]]:[V.error,...M.event.error??[]],standaloneValidator:!L?V.standaloneValidator:[...V.standaloneValidator??[],{body:A,headers:N,query:D,params:q,cookie:K,response:O}]}),void 0)}else this.add(G,H,U,$J(B,{error:M.event.error}),{skipPrefix:!0})}),this}guard(J,Y){if(!Y){if(typeof J==="object"){if(this.applyMacro(J),J.detail)if(this.config.detail)this.config.detail=X2(Object.assign({},this.config.detail),J.detail);else this.config.detail=J.detail;if(J.tags)if(!this.config.detail)this.config.detail={tags:J.tags};else this.config.detail.tags=J.tags;let X=J.as??"local";if(J.schema==="standalone"){if(!this.standaloneValidator[X])this.standaloneValidator[X]=[];let M=!J?.response?void 0:typeof J.response==="string"||(n in J.response)||("~standard"in J.response)?{200:J.response}:J?.response;this.standaloneValidator[X].push({body:J.body,headers:J.headers,params:J.params,query:J.query,response:M,cookie:J.cookie})}else this.validator[X]={body:J.body??this.validator[X]?.body,headers:J.headers??this.validator[X]?.headers,params:J.params??this.validator[X]?.params,query:J.query??this.validator[X]?.query,response:J.response??this.validator[X]?.response,cookie:J.cookie??this.validator[X]?.cookie};if(J.parse)this.on({as:X},"parse",J.parse);if(J.transform)this.on({as:X},"transform",J.transform);if(J.derive)this.on({as:X},"derive",J.derive);if(J.beforeHandle)this.on({as:X},"beforeHandle",J.beforeHandle);if(J.resolve)this.on({as:X},"resolve",J.resolve);if(J.afterHandle)this.on({as:X},"afterHandle",J.afterHandle);if(J.mapResponse)this.on({as:X},"mapResponse",J.mapResponse);if(J.afterResponse)this.on({as:X},"afterResponse",J.afterResponse);if(J.error)this.on({as:X},"error",J.error);return this}return this.guard({},J)}let W=new a0({...this.config,prefix:""});W.singleton={...this.singleton},W.definitions={...this.definitions},W.inference=Iz(this.inference),W.extender={...this.extender},W.getServer=()=>this.getServer();let Q=Y(W);if(this.singleton=X2(this.singleton,W.singleton),this.definitions=X2(this.definitions,W.definitions),Q.getServer=()=>this.server,Q.event.request?.length)this.event.request=[...this.event.request||[],...Q.event.request||[]];if(Q.event.mapResponse?.length)this.event.mapResponse=[...this.event.mapResponse||[],...Q.event.mapResponse||[]];return this.model(Q.definitions.type),Object.values(W.router.history).forEach(({method:X,path:M,handler:G,hooks:H})=>{let{body:U,headers:B,query:A,params:N,cookie:D,response:q,...K}=J,O=U||B||A||N||D||q;this.add(X,M,G,$J(K,{...H||{},error:!H.error?Q.event.error:Array.isArray(H.error)?[...H.error??[],...Q.event.error??[]]:[H.error,...Q.event.error??[]],standaloneValidator:!O?H.standaloneValidator:[...H.standaloneValidator??[],{body:U,headers:B,query:A,params:N,cookie:D,response:q}]}))}),this}use(J){if(!J)return this;if(Array.isArray(J)){let Y=this;for(let W of J)Y=Y.use(W);return Y}if(J instanceof Promise)return this.promisedModules.add(J.then((Y)=>{if(typeof Y==="function")return Y(this);if(Y instanceof a0)return this._use(Y).compile();if(Y.constructor?.name==="Elysia")return this._use(Y).compile();if(typeof Y.default==="function")return Y.default(this);if(Y.default instanceof a0)return this._use(Y.default);if(Y.constructor?.name==="Elysia")return this._use(Y.default);if(Y.constructor?.name==="_Elysia")return this._use(Y.default);try{return this._use(Y.default)}catch(W){throw console.error('Invalid plugin type. Expected Elysia instance, function, or module with "default" as Elysia instance or function that returns Elysia instance.'),W}}).then((Y)=>{if(Y&&typeof Y.compile==="function")Y.compile();return Y})),this;return this._use(J)}propagatePromiseModules(J){if(J.promisedModules.size<=0)return this;for(let Y of J.promisedModules.promises)this.promisedModules.add(Y.then((W)=>{if(!W)return;let Q=this._use(W);if(Q instanceof Promise)return Q.then((X)=>{if(X)X.compile();else W.compile()});return W.compile()}));return this}_use(J){if(typeof J==="function"){let Q=J(this);if(Q instanceof Promise)return this.promisedModules.add(Q.then((X)=>{if(X instanceof a0){X.getServer=()=>this.getServer(),X.getGlobalRoutes=()=>this.getGlobalRoutes(),X.getGlobalDefinitions=()=>this.getGlobalDefinitions(),X.model(this.definitions.type),X.error(this.definitions.error);for(let{method:M,path:G,handler:H,hooks:U}of Object.values(X.router.history))this.add(M,G,H,U,void 0);if(X===this)return;return this.propagatePromiseModules(X),X}if(typeof X==="function")return X(this);if(typeof X.default==="function")return X.default(this);return this._use(X)}).then((X)=>{if(X&&typeof X.compile==="function")X.compile();return X})),this;return Q}this.propagatePromiseModules(J);let Y=J.config.name,W=J.config.seed;if(J.getParent=()=>this,J.getServer=()=>this.getServer(),J.getGlobalRoutes=()=>this.getGlobalRoutes(),J.getGlobalDefinitions=()=>this.getGlobalDefinitions(),J.standaloneValidator?.scoped)if(this.standaloneValidator.local)this.standaloneValidator.local=this.standaloneValidator.local.concat(J.standaloneValidator.scoped);else this.standaloneValidator.local=J.standaloneValidator.scoped;if(J.standaloneValidator?.global)if(this.standaloneValidator.global)this.standaloneValidator.global=this.standaloneValidator.global.concat(J.standaloneValidator.global);else this.standaloneValidator.global=J.standaloneValidator.global;if(Q5(J["~parser"]))this["~parser"]={...J["~parser"],...this["~parser"]};if(J.setHeaders)this.headers(J.setHeaders);if(Y){if(!(Y in this.dependencies))this.dependencies[Y]=[];let Q=W!==void 0?RQ(Y+JSON.stringify(W)):0;if(!this.dependencies[Y].some(({checksum:X})=>Q===X))this.extender.macro={...this.extender.macro,...J.extender.macro},this.extender.higherOrderFunctions=this.extender.higherOrderFunctions.concat(J.extender.higherOrderFunctions)}else{if(Q5(J.extender.macro))this.extender.macro={...this.extender.macro,...J.extender.macro};if(J.extender.higherOrderFunctions.length)this.extender.higherOrderFunctions=this.extender.higherOrderFunctions.concat(J.extender.higherOrderFunctions)}if(J.extender.higherOrderFunctions.length){Uh(this.extender.higherOrderFunctions);let Q=[];for(let X=0;X<this.extender.higherOrderFunctions.length;X++){let M=this.extender.higherOrderFunctions[X];if(M.checksum){if(Q.includes(M.checksum))this.extender.higherOrderFunctions.splice(X,1),X--;Q.push(M.checksum)}}Q.length=0}if(this.inference=QB(this.inference,J.inference),Q5(J.singleton.decorator))this.decorate(J.singleton.decorator);if(Q5(J.singleton.store))this.state(J.singleton.store);if(Q5(J.definitions.type))this.model(J.definitions.type);if(Q5(J.definitions.error))this.error(J.definitions.error);if(Q5(J.extender.macro))this.extender.macro={...this.extender.macro,...J.extender.macro};for(let{method:Q,path:X,handler:M,hooks:G}of Object.values(J.router.history))this.add(Q,X,M,G);if(Y){if(!(Y in this.dependencies))this.dependencies[Y]=[];let Q=W!==void 0?RQ(Y+JSON.stringify(W)):0;if(this.dependencies[Y].some(({checksum:X})=>Q===X))return this;if(this.dependencies[Y].push(this.config?.analytic?{name:J.config.name,seed:J.config.seed,checksum:Q,dependencies:J.dependencies,stack:J.telemetry?.stack,routes:J.router.history,decorators:J.singleton,store:J.singleton.store,error:J.definitions.error,derive:J.event.transform?.filter((X)=>X?.subType==="derive").map((X)=>({fn:X.toString(),stack:Error().stack??""})),resolve:J.event.transform?.filter((X)=>X?.subType==="resolve").map((X)=>({fn:X.toString(),stack:Error().stack??""}))}:{name:J.config.name,seed:J.config.seed,checksum:Q,dependencies:J.dependencies}),Q5(J.event))this.event=Sz(this.event,Vz(J.event),Q)}else if(Q5(J.event))this.event=Sz(this.event,Vz(J.event));if(J.validator.global)this.validator.global=$J(this.validator.global,{...J.validator.global});if(J.validator.scoped)this.validator.local=$J(this.validator.local,{...J.validator.scoped});return this}macro(J,Y){if(typeof J==="string"&&!Y)throw Error("Macro function is required");if(typeof J==="string")this.extender.macro[J]=Y;else this.extender.macro={...this.extender.macro,...J};return this}applyMacro(J,Y=J,{iteration:W=0,applied:Q={}}={}){if(W>=16)return;let X=this.extender.macro;for(let[M,G]of Object.entries(Y)){if(M in X===!1)continue;let H=typeof X[M]==="function"?X[M](G):X[M];if(!H||typeof X[M]==="object"&&G===!1)return;let U=RQ(M+JSON.stringify(H.seed??G));if(U in Q)continue;Q[U]=!0;for(let[B,A]of Object.entries(H)){if(B==="seed")continue;if(B in Ah){Mh(J,B,A),delete J[M];continue}if(B==="detail"){if(!J.detail)J.detail={};J.detail=X2(J.detail,A,{mergeArray:!0}),delete J[M];continue}if(B in X){this.applyMacro(J,{[B]:A},{applied:Q,iteration:W+1}),delete J[M];continue}if((B==="derive"||B==="resolve")&&typeof A==="function")A={fn:A,subType:B};switch(typeof J[B]){case"function":J[B]=[J[B],A];break;case"object":if(Array.isArray(J[B]))J[B].push(A);else J[B]=[J[B],A];break;case"undefined":J[B]=A;break}delete J[M]}}}mount(J,Y,W){if(J instanceof a0||typeof J==="function"||J.length===0||J==="/"){let G=typeof J==="function"?J:J instanceof a0?J.compile().fetch:Y instanceof a0?Y.compile().fetch:typeof Y==="function"?Y:(()=>{throw Error("Invalid handler")})(),H=({request:U,path:B})=>G(new Request(Lz(U.url,B),{method:U.method,headers:U.headers,signal:U.signal,credentials:U.credentials,referrerPolicy:U.referrerPolicy,duplex:U.duplex,redirect:U.redirect,mode:U.mode,keepalive:U.keepalive,integrity:U.integrity,body:U.body}));return this.route("ALL","/*",H,{parse:"none",...W,detail:{...W?.detail,hide:!0},config:{mount:G}}),this}let Q=Y instanceof a0?Y.compile().fetch:typeof Y==="function"?Y:(()=>{throw Error("Invalid handler")})(),X=J.length-(J.endsWith("*")?1:0),M=({request:G,path:H})=>Q(new Request(Lz(G.url,H.slice(X)||"/"),{method:G.method,headers:G.headers,signal:G.signal,credentials:G.credentials,referrerPolicy:G.referrerPolicy,duplex:G.duplex,redirect:G.redirect,mode:G.mode,keepalive:G.keepalive,integrity:G.integrity,body:G.body}));return this.route("ALL",J,M,{parse:"none",...W,detail:{...W?.detail,hide:!0},config:{mount:Q}}),this.route("ALL",J+(J.endsWith("/")?"*":"/*"),M,{parse:"none",...W,detail:{...W?.detail,hide:!0},config:{mount:Q}}),this}get(J,Y,W){return this.add("GET",J,Y,W),this}post(J,Y,W){return this.add("POST",J,Y,W),this}put(J,Y,W){return this.add("PUT",J,Y,W),this}patch(J,Y,W){return this.add("PATCH",J,Y,W),this}delete(J,Y,W){return this.add("DELETE",J,Y,W),this}options(J,Y,W){return this.add("OPTIONS",J,Y,W),this}all(J,Y,W){return this.add("ALL",J,Y,W),this}head(J,Y,W){return this.add("HEAD",J,Y,W),this}connect(J,Y,W){return this.add("CONNECT",J,Y,W),this}route(J,Y,W,Q){return this.add(J.toUpperCase(),Y,W,Q,Q?.config),this}ws(J,Y){if(this["~adapter"].ws)this["~adapter"].ws(this,J,Y);else console.warn("Current adapter doesn't support WebSocket");return this}state(J,Y,W){if(Y===void 0)W=J,J={as:"append"},Y="";else if(W===void 0){if(typeof J==="string")W=Y,Y=J,J={as:"append"};else if(typeof J==="object")W=Y,Y=""}let{as:Q}=J;if(typeof Y!=="string")return this;switch(typeof W){case"object":if(!W||!Q5(W))return this;if(Y){if(Y in this.singleton.store)this.singleton.store[Y]=X2(this.singleton.store[Y],W,{override:Q==="override"});else this.singleton.store[Y]=W;return this}if(W===null)return this;return this.singleton.store=X2(this.singleton.store,W,{override:Q==="override"}),this;case"function":if(Y){if(Q==="override"||!(Y in this.singleton.store))this.singleton.store[Y]=W}else this.singleton.store=W(this.singleton.store);return this;default:if(Q==="override"||!(Y in this.singleton.store))this.singleton.store[Y]=W;return this}}decorate(J,Y,W){if(Y===void 0)W=J,J={as:"append"},Y="";else if(W===void 0){if(typeof J==="string")W=Y,Y=J,J={as:"append"};else if(typeof J==="object")W=Y,Y=""}let{as:Q}=J;if(typeof Y!=="string")return this;switch(typeof W){case"object":if(Y){if(Y in this.singleton.decorator)this.singleton.decorator[Y]=X2(this.singleton.decorator[Y],W,{override:Q==="override"});else this.singleton.decorator[Y]=W;return this}if(W===null)return this;return this.singleton.decorator=X2(this.singleton.decorator,W,{override:Q==="override"}),this;case"function":if(Y){if(Q==="override"||!(Y in this.singleton.decorator))this.singleton.decorator[Y]=W}else this.singleton.decorator=W(this.singleton.decorator);return this;default:if(Q==="override"||!(Y in this.singleton.decorator))this.singleton.decorator[Y]=W;return this}}derive(J,Y){if(!Y)Y=J,J={as:"local"};let W={subType:"derive",fn:Y};return this.onTransform(J,W)}model(J,Y){let W=(Q)=>{let X={};for(let M in Q)if(!("~standard"in Q[M]))X[M]=Q[M];return X};switch(typeof J){case"object":let Q={},X=Object.entries(J);if(!X.length)return this;for(let[H,U]of X){if(H in this.definitions.type)continue;if("~standard"in U)this.definitions.type[H]=U;else Q[H]=this.definitions.type[H]=U,Q[H].$id??=`#/components/schemas/${H}`}return this.definitions.typebox=Z.Module({...this.definitions.typebox.$defs,...Q}),this;case"function":let M=J(this.definitions.type);return this.definitions.type=M,this.definitions.typebox=Z.Module(W(M)),this;case"string":if(!Y)break;if(this.definitions.type[J]=Y,"~standard"in Y)return this;let G={...Y,id:Y.$id??`#/components/schemas/${J}`};return this.definitions.typebox=Z.Module({...this.definitions.typebox.$defs,...G}),this}if(!Y)return this;if(this.definitions.type[J]=Y,"~standard"in Y)return this;return this.definitions.typebox=Z.Module({...this.definitions.typebox.$defs,[J]:Y}),this}Ref(J){return Z.Ref(J)}mapDerive(J,Y){if(!Y)Y=J,J={as:"local"};let W={subType:"mapDerive",fn:Y};return this.onTransform(J,W)}affix(J,Y,W){if(W==="")return this;let Q=["_","-"," "],X=(U)=>U[0].toUpperCase()+U.slice(1),M=J==="prefix"?(U,B)=>Q.includes(U.at(-1)??"")?U+B:U+X(B):Q.includes(W.at(-1)??"")?(U,B)=>B+U:(U,B)=>B+X(U),G=(U)=>{let B={};switch(U){case"decorator":for(let A in this.singleton.decorator)B[M(W,A)]=this.singleton.decorator[A];this.singleton.decorator=B;break;case"state":for(let A in this.singleton.store)B[M(W,A)]=this.singleton.store[A];this.singleton.store=B;break;case"model":for(let A in this.definitions.type)B[M(W,A)]=this.definitions.type[A];this.definitions.type=B;break;case"error":for(let A in this.definitions.error)B[M(W,A)]=this.definitions.error[A];this.definitions.error=B;break}},H=Array.isArray(Y)?Y:[Y];for(let U of H.some((B)=>B==="all")?["decorator","state","model","error"]:H)G(U);return this}prefix(J,Y){return this.affix("prefix",J,Y)}suffix(J,Y){return this.affix("suffix",J,Y)}compile(){if(this["~adapter"].beforeCompile?.(this),this["~adapter"].isWebStandard){if(this.fetch=this.config.aot?lU(this):cz(this),typeof this.server?.reload==="function")this.server.reload({...this.server||{},fetch:this.fetch});return this}if(typeof this.server?.reload==="function")this.server.reload(this.server||{});return this._handle=lU(this),this}handle=async(J)=>this.fetch(J);fetch=(J)=>{return(this.fetch=this.config.aot?lU(this):cz(this))(J)};handleError=async(J,Y)=>{return(this.handleError=this.config.aot?ZL(this):oh(this))(J,Y)};listen=(J,Y)=>{if(this["~adapter"].listen(this)(J,Y),this.promisedModules.size)kz(5000);return this.promisedModules.then(()=>{kz(1000)}),this};stop=async(J)=>{return await this["~adapter"].stop?.(this,J),this};[Symbol.dispose]=()=>{if(this.server)this.stop()};get modules(){return this.promisedModules}}var zL=`/* basic theme */
:root {
  --scalar-text-decoration: underline;
  --scalar-text-decoration-hover: underline;
}
.light-mode,
.light-mode .dark-mode {
  --scalar-background-1: #f9f9f9;
  --scalar-background-2: #f1f1f1;
  --scalar-background-3: #e7e7e7;
  --scalar-background-card: #fff;

  --scalar-color-1: #2a2f45;
  --scalar-color-2: #757575;
  --scalar-color-3: #8e8e8e;

  --scalar-color-accent: var(--scalar-color-1);
  --scalar-background-accent: var(--scalar-background-3);

  --scalar-border-color: rgba(0, 0, 0, 0.1);
}
.dark-mode {
  --scalar-background-1: #131313;
  --scalar-background-2: #1d1d1d;
  --scalar-background-3: #272727;
  --scalar-background-card: #1d1d1d;

  --scalar-color-1: rgba(255, 255, 255, 0.9);
  --scalar-color-2: rgba(255, 255, 255, 0.62);
  --scalar-color-3: rgba(255, 255, 255, 0.44);

  --scalar-color-accent: var(--scalar-color-1);
  --scalar-background-accent: var(--scalar-background-3);

  --scalar-border-color: #2a2b2a;
}
/* Document Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-hover-color: currentColor;

  --scalar-sidebar-item-active-background: var(--scalar-background-accent);
  --scalar-sidebar-color-active: var(--scalar-color-accent);

  --scalar-sidebar-search-background: transparent;
  --scalar-sidebar-search-color: var(--scalar-color-3);
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
}
/* advanced */
.light-mode .dark-mode,
.light-mode {
  --scalar-color-green: #069061;
  --scalar-color-red: #ef0006;
  --scalar-color-yellow: #edbe20;
  --scalar-color-blue: #0082d0;
  --scalar-color-orange: #fb892c;
  --scalar-color-purple: #5203d1;

  --scalar-button-1: rgba(0, 0, 0, 1);
  --scalar-button-1-hover: rgba(0, 0, 0, 0.8);
  --scalar-button-1-color: rgba(255, 255, 255, 0.9);
}
.dark-mode {
  --scalar-color-green: #00b648;
  --scalar-color-red: #dd2f2c;
  --scalar-color-yellow: #ffc90d;
  --scalar-color-blue: #4eb3ec;
  --scalar-color-orange: #ff8d4d;
  --scalar-color-purple: #b191f9;

  --scalar-button-1: rgba(255, 255, 255, 1);
  --scalar-button-1-hover: rgba(255, 255, 255, 0.9);
  --scalar-button-1-color: black;
}

.scalar-api-client__item,
.scalar-card,
.dark-mode .dark-mode.scalar-card {
  --scalar-background-1: var(--scalar-background-card);
  --scalar-background-2: var(--scalar-background-1);
  --scalar-background-3: var(--scalar-background-1);
}
.dark-mode .dark-mode.scalar-card {
  --scalar-background-3: var(--scalar-background-3);
}
.t-doc__sidebar {
  --scalar-color-green: var(--scalar-color-1);
  --scalar-color-red: var(--scalar-color-1);
  --scalar-color-yellow: var(--scalar-color-1);
  --scalar-color-blue: var(--scalar-color-1);
  --scalar-color-orange: var(--scalar-color-1);
  --scalar-color-purple: var(--scalar-color-1);
}
.light-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-blue), transparent 70%);
}
.dark-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-blue), transparent 50%);
}
`;var LL=`/* basic theme */
:root {
  --scalar-text-decoration: underline;
  --scalar-text-decoration-hover: underline;
}
.light-mode {
  --scalar-background-1: #f0f2f5;
  --scalar-background-2: #eaecf0;
  --scalar-background-3: #e0e2e6;
  --scalar-border-color: rgb(213 213 213);

  --scalar-color-1: rgb(9, 9, 11);
  --scalar-color-2: rgb(113, 113, 122);
  --scalar-color-3: rgba(25, 25, 28, 0.5);

  --scalar-color-accent: var(--scalar-color-1);
  --scalar-background-accent: #8ab4f81f;
}
.light-mode .scalar-card.dark-mode,
.dark-mode {
  --scalar-background-1: #000e23;
  --scalar-background-2: #01132e;
  --scalar-background-3: #03193b;
  --scalar-border-color: #2e394c;

  --scalar-color-1: #fafafa;
  --scalar-color-2: rgb(161, 161, 170);
  --scalar-color-3: rgba(255, 255, 255, 0.533);

  --scalar-color-accent: var(--scalar-color-1);
  --scalar-background-accent: #8ab4f81f;

  --scalar-code-language-color-supersede: var(--scalar-color-1);
}
/* Document Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-hover-color: currentColor;

  --scalar-sidebar-item-active-background: var(--scalar-background-3);
  --scalar-sidebar-color-active: var(--scalar-color-accent);

  --scalar-sidebar-search-background: rgba(255, 255, 255, 0.1);
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
  --scalar-sidebar-search-color: var(--scalar-color-3);
  z-index: 1;
}
.light-mode .t-doc__sidebar {
  --scalar-sidebar-search-background: white;
}
/* advanced */
.light-mode {
  --scalar-color-green: #069061;
  --scalar-color-red: #ef0006;
  --scalar-color-yellow: #edbe20;
  --scalar-color-blue: #0082d0;
  --scalar-color-orange: #fb892c;
  --scalar-color-purple: #5203d1;

  --scalar-button-1: rgba(0, 0, 0, 1);
  --scalar-button-1-hover: rgba(0, 0, 0, 0.8);
  --scalar-button-1-color: rgba(255, 255, 255, 0.9);
}
.dark-mode {
  --scalar-color-green: rgba(69, 255, 165, 0.823);
  --scalar-color-red: #ff8589;
  --scalar-color-yellow: #ffcc4d;
  --scalar-color-blue: #6bc1fe;
  --scalar-color-orange: #f98943;
  --scalar-color-purple: #b191f9;

  --scalar-button-1: rgba(255, 255, 255, 1);
  --scalar-button-1-hover: rgba(255, 255, 255, 0.9);
  --scalar-button-1-color: black;
}
/* Custom theme */
/* Document header */
@keyframes headerbackground {
  from {
    background: transparent;
    backdrop-filter: none;
  }
  to {
    background: var(--header-background-1);
    backdrop-filter: blur(12px);
  }
}
.dark-mode h2.t-editor__heading,
.dark-mode .t-editor__page-title h1,
.dark-mode h1.section-header:not(::selection),
.dark-mode .markdown h1,
.dark-mode .markdown h2,
.dark-mode .markdown h3,
.dark-mode .markdown h4,
.dark-mode .markdown h5,
.dark-mode .markdown h6 {
  -webkit-text-fill-color: transparent;
  background-image: linear-gradient(to right bottom, rgb(255, 255, 255) 30%, rgba(255, 255, 255, 0.38));
  -webkit-background-clip: text;
  background-clip: text;
}
/* Hero Section Flare */
.section-flare-item:nth-of-type(1) {
  --c1: #ffffff;
  --c2: #babfd8;
  --c3: #2e8bb2;
  --c4: #1a8593;
  --c5: #0a143e;
  --c6: #0a0f52;
  --c7: #2341b8;

  --solid: var(--c1), var(--c2), var(--c3), var(--c4), var(--c5), var(--c6), var(--c7);
  --solid-wrap: var(--solid), var(--c1);
  --trans:
    var(--c1), transparent, var(--c2), transparent, var(--c3),
    transparent, var(--c4), transparent, var(--c5), transparent, var(--c6),
    transparent, var(--c7);
  --trans-wrap: var(--trans), transparent, var(--c1);

  background: radial-gradient(circle, var(--trans)), conic-gradient(from 180deg, var(--trans-wrap)),
    radial-gradient(circle, var(--trans)), conic-gradient(var(--solid-wrap));
  width: 70vw;
  height: 700px;
  border-radius: 50%;
  filter: blur(100px);
  z-index: 0;
  right: 0;
  position: absolute;
  transform: rotate(-45deg);
  top: -300px;
  opacity: 0.3;
}
.section-flare-item:nth-of-type(3) {
  --star-color: #6b9acc;
  --star-color2: #446b8d;
  --star-color3: #3e5879;
  background-image: radial-gradient(2px 2px at 20px 30px, var(--star-color2), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 40px 70px, var(--star-color), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 50px 160px, var(--star-color3), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 90px 40px, var(--star-color), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 130px 80px, var(--star-color), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 160px 120px, var(--star-color3), rgba(0, 0, 0, 0));
  background-repeat: repeat;
  background-size: 200px 200px;
  width: 100%;
  height: 100%;
  mask-image: radial-gradient(ellipse at 100% 0%, black 40%, transparent 70%);
}
.section-flare {
  top: -150px !important;
  height: 100vh;
  background: linear-gradient(#000, var(--scalar-background-1));
  width: 100vw;
  overflow-x: hidden;
}
.light-mode .section-flare {
  display: none;
}
.light-mode .scalar-card {
  --scalar-background-1: #fff;
  --scalar-background-2: #fff;
  --scalar-background-3: #fff;
}

*::selection {
  background-color: color-mix(in srgb, var(--scalar-color-blue), transparent 60%);
}
`;var SL=`/* basic theme */
:root {
  --scalar-text-decoration: underline;
  --scalar-text-decoration-hover: underline;
}
.light-mode {
  --scalar-color-1: rgb(9, 9, 11);
  --scalar-color-2: rgb(113, 113, 122);
  --scalar-color-3: rgba(25, 25, 28, 0.5);
  --scalar-color-accent: var(--scalar-color-1);

  --scalar-background-1: #fff;
  --scalar-background-2: #f4f4f5;
  --scalar-background-3: #e3e3e6;
  --scalar-background-accent: #8ab4f81f;

  --scalar-border-color: rgb(228, 228, 231);
  --scalar-code-language-color-supersede: var(--scalar-color-1);
}
.dark-mode {
  --scalar-color-1: #fafafa;
  --scalar-color-2: rgb(161, 161, 170);
  --scalar-color-3: rgba(255, 255, 255, 0.533);
  --scalar-color-accent: var(--scalar-color-1);

  --scalar-background-1: #09090b;
  --scalar-background-2: #18181b;
  --scalar-background-3: #2c2c30;
  --scalar-background-accent: #8ab4f81f;

  --scalar-border-color: rgba(255, 255, 255, 0.16);
  --scalar-code-language-color-supersede: var(--scalar-color-1);
}

/* Document Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-color: currentColor;
  --scalar-sidebar-item-hover-background: var(--scalar-background-2);

  --scalar-sidebar-item-active-background: var(--scalar-background-3);
  --scalar-sidebar-color-active: var(--scalar-color-accent);

  --scalar-sidebar-search-background: transparent;
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
  --scalar-sidebar-search-color: var(--scalar-color-3);
}
.light-mode .t-doc__sidebar {
  --scalar-sidebar-item-active-background: var(--scalar-background-2);
}
/* advanced */
.light-mode {
  --scalar-color-green: #069061;
  --scalar-color-red: #ef0006;
  --scalar-color-yellow: #edbe20;
  --scalar-color-blue: #0082d0;
  --scalar-color-orange: #fb892c;
  --scalar-color-purple: #5203d1;

  --scalar-button-1: rgba(0, 0, 0, 1);
  --scalar-button-1-hover: rgba(0, 0, 0, 0.8);
  --scalar-button-1-color: rgba(255, 255, 255, 0.9);
}
.dark-mode {
  --scalar-color-green: rgba(69, 255, 165, 0.823);
  --scalar-color-red: #ff8589;
  --scalar-color-yellow: #ffcc4d;
  --scalar-color-blue: #6bc1fe;
  --scalar-color-orange: #f98943;
  --scalar-color-purple: #b191f9;

  --scalar-button-1: rgba(255, 255, 255, 1);
  --scalar-button-1-hover: rgba(255, 255, 255, 0.9);
  --scalar-button-1-color: black;
}
/* Custom theme */
.dark-mode h2.t-editor__heading,
.dark-mode .t-editor__page-title h1,
.dark-mode h1.section-header:not(::selection),
.dark-mode .markdown h1,
.dark-mode .markdown h2,
.dark-mode .markdown h3,
.dark-mode .markdown h4,
.dark-mode .markdown h5,
.dark-mode .markdown h6 {
  -webkit-text-fill-color: transparent;
  background-image: linear-gradient(to right bottom, rgb(255, 255, 255) 30%, rgba(255, 255, 255, 0.38));
  -webkit-background-clip: text;
  background-clip: text;
}
.examples .scalar-card-footer {
  --scalar-background-3: transparent;
  padding-top: 0;
}
/* Hero section flare */
.section-flare {
  width: 100vw;
  height: 550px;
  position: absolute;
}
.section-flare-item:nth-of-type(1) {
  position: absolute;
  width: 100vw;
  height: 550px;
  --stripesDark: repeating-linear-gradient(100deg, #000 0%, #000 7%, transparent 10%, transparent 12%, #000 16%);
  --rainbow: repeating-linear-gradient(100deg, #fff 10%, #fff 16%, #fff 22%, #fff 30%);
  background-image: var(--stripesDark), var(--rainbow);
  background-size: 300%, 200%;
  background-position: 50% 50%, 50% 50%;
  filter: invert(100%);
  -webkit-mask-image: radial-gradient(ellipse at 100% 0%, black 40%, transparent 70%);
  mask-image: radial-gradient(ellipse at 100% 0%, black 40%, transparent 70%);
  pointer-events: none;
  opacity: 0.07;
}
.dark-mode .section-flare-item:nth-of-type(1) {
  background-image: var(--stripesDark), var(--rainbow);
  filter: opacity(50%) saturate(200%);
  opacity: 0.25;
  height: 350px;
}
.section-flare-item:nth-of-type(1):after {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-image: var(--stripesDark), var(--rainbow);
  background-size: 200%, 100%;
  background-attachment: fixed;
  mix-blend-mode: difference;
}
.dark-mode .section-flare:after {
  background-image: var(--stripesDark), var(--rainbow);
}
.section-flare-item:nth-of-type(2) {
  --star-color: #fff;
  --star-color2: #fff;
  --star-color3: #fff;
  width: 100%;
  height: 100%;
  position: absolute;
  background-image: radial-gradient(2px 2px at 20px 30px, var(--star-color2), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 40px 70px, var(--star-color), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 50px 160px, var(--star-color3), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 90px 40px, var(--star-color), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 130px 80px, var(--star-color), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 160px 120px, var(--star-color3), rgba(0, 0, 0, 0));
  background-repeat: repeat;
  background-size: 200px 200px;
  mask-image: radial-gradient(ellipse at 100% 0%, black 40%, transparent 70%);
  opacity: 0.2;
}
.light-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-blue), transparent 70%);
}
.dark-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-blue), transparent 50%);
}
`;var VL=`/* basic theme */
.light-mode {
  --scalar-background-1: #fff;
  --scalar-background-2: #f6f6f6;
  --scalar-background-3: #e7e7e7;
  --scalar-background-accent: #8ab4f81f;

  --scalar-color-1: #2a2f45;
  --scalar-color-2: #757575;
  --scalar-color-3: #8e8e8e;

  --scalar-color-accent: #0099ff;
  --scalar-border-color: #dfdfdf;
}
.dark-mode {
  --scalar-background-1: #0f0f0f;
  --scalar-background-2: #1a1a1a;
  --scalar-background-3: #272727;

  --scalar-color-1: #e7e7e7;
  --scalar-color-2: #a4a4a4;
  --scalar-color-3: #797979;

  --scalar-color-accent: #3ea6ff;
  --scalar-background-accent: #3ea6ff1f;

  --scalar-border-color: #2d2d2d;
}
/* Document Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-hover-color: currentColor;

  --scalar-sidebar-item-active-background: var(--scalar-background-2);
  --scalar-sidebar-color-active: var(--scalar-color-1);

  --scalar-sidebar-indent-border: var(--scalar-sidebar-border-color);
  --scalar-sidebar-indent-border-hover: var(--scalar-sidebar-border-color);
  --scalar-sidebar-indent-border-active: var(--scalar-sidebar-border-color);

  --scalar-sidebar-search-background: transparent;
  --scalar-sidebar-search-color: var(--scalar-color-3);
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
}
/* advanced */
.light-mode {
  --scalar-color-green: #069061;
  --scalar-color-red: #ef0006;
  --scalar-color-yellow: #edbe20;
  --scalar-color-blue: #0082d0;
  --scalar-color-orange: #fb892c;
  --scalar-color-purple: #5203d1;

  --scalar-button-1: rgba(0, 0, 0, 1);
  --scalar-button-1-hover: rgba(0, 0, 0, 0.8);
  --scalar-button-1-color: rgba(255, 255, 255, 0.9);

  --scalar-color-danger: color-mix(in srgb, var(--scalar-color-red), var(--scalar-color-1) 20%);

  --scalar-background-alert: color-mix(in srgb, var(--scalar-color-orange), var(--scalar-background-1) 95%);
  --scalar-background-danger: color-mix(in srgb, var(--scalar-color-red), var(--scalar-background-1) 95%);
}
.dark-mode {
  --scalar-color-green: #00b648;
  --scalar-color-red: #dc1b19;
  --scalar-color-yellow: #ffc90d;
  --scalar-color-blue: #4eb3ec;
  --scalar-color-orange: #ff8d4d;
  --scalar-color-purple: #b191f9;

  --scalar-button-1: rgba(255, 255, 255, 1);
  --scalar-button-1-hover: rgba(255, 255, 255, 0.9);
  --scalar-button-1-color: black;

  --scalar-color-danger: color-mix(in srgb, var(--scalar-color-red), var(--scalar-background-1) 20%);

  --scalar-background-alert: color-mix(in srgb, var(--scalar-color-orange), var(--scalar-background-1) 95%);
  --scalar-background-danger: color-mix(in srgb, var(--scalar-color-red), var(--scalar-background-1) 95%);
}
@supports (color: color(display-p3 1 1 1)) {
  .light-mode {
    --scalar-color-accent: color(display-p3 0.0 0.6 1.0 / 1.0);
    --scalar-color-green: color(display-p3 0.023529 0.564706 0.380392 / 1.0);
    --scalar-color-red: color(display-p3 0.937255 0.0 0.023529 / 1.0);
    --scalar-color-yellow: color(display-p3 0.929412 0.745098 0.12549 / 1.0);
    --scalar-color-blue: color(display-p3 0.0 0.509804 0.815686 / 1.0);
    --scalar-color-orange: color(display-p3 0.984314 0.537255 0.172549 / 1.0);
    --scalar-color-purple: color(display-p3 0.321569 0.011765 0.819608 / 1.0);
  }
  .dark-mode {
    --scalar-color-accent: color(display-p3 0.243137 0.65098 1.0 / 1.0);
    --scalar-color-green: color(display-p3 0.0 0.713725 0.282353 / 1.0);
    --scalar-color-red: color(display-p3 0.862745 0.105882 0.098039 / 1.0);
    --scalar-color-yellow: color(display-p3 1.0 0.788235 0.05098 / 1.0);
    --scalar-color-blue: color(display-p3 0.305882 0.701961 0.92549 / 1.0);
    --scalar-color-orange: color(display-p3 1.0 0.552941 0.301961 / 1.0);
    --scalar-color-purple: color(display-p3 0.694118 0.568627 0.976471 / 1.0);
  }
}
`;var gM=`.light-mode {
  --scalar-color-1: #2a2f45;
  --scalar-color-2: #757575;
  --scalar-color-3: #8e8e8e;
  --scalar-color-accent: #f06292;

  --scalar-background-1: #fff;
  --scalar-background-2: #f6f6f6;
  --scalar-background-3: #e7e7e7;

  --scalar-border-color: rgba(0, 0, 0, 0.1);
}
.dark-mode {
  --scalar-color-1: rgba(255, 255, 255, 0.9);
  --scalar-color-2: rgba(156, 163, 175, 1);
  --scalar-color-3: rgba(255, 255, 255, 0.44);
  --scalar-color-accent: #f06292;

  --scalar-background-1: #111728;
  --scalar-background-2: #1e293b;
  --scalar-background-3: #334155;
  --scalar-background-accent: #f062921f;

  --scalar-border-color: rgba(255, 255, 255, 0.1);
}

/* Document Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-hover-color: currentColor;

  --scalar-sidebar-item-active-background: #f062921f;
  --scalar-sidebar-color-active: var(--scalar-color-accent);

  --scalar-sidebar-search-background: transparent;
  --scalar-sidebar-search-color: var(--scalar-color-3);
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
}

/* advanced */
.light-mode {
  --scalar-button-1: rgb(49 53 56);
  --scalar-button-1-color: #fff;
  --scalar-button-1-hover: rgb(28 31 33);

  --scalar-color-green: #069061;
  --scalar-color-red: #ef0006;
  --scalar-color-yellow: #edbe20;
  --scalar-color-blue: #0082d0;
  --scalar-color-orange: #fb892c;
  --scalar-color-purple: #5203d1;

  --scalar-scrollbar-color: rgba(0, 0, 0, 0.18);
  --scalar-scrollbar-color-active: rgba(0, 0, 0, 0.36);
}
.dark-mode {
  --scalar-button-1: #f6f6f6;
  --scalar-button-1-color: #000;
  --scalar-button-1-hover: #e7e7e7;

  --scalar-color-green: #a3ffa9;
  --scalar-color-red: #ffa3a3;
  --scalar-color-yellow: #fffca3;
  --scalar-color-blue: #a5d6ff;
  --scalar-color-orange: #e2ae83;
  --scalar-color-purple: #d2a8ff;

  --scalar-scrollbar-color: rgba(255, 255, 255, 0.24);
  --scalar-scrollbar-color-active: rgba(255, 255, 255, 0.48);
}
.section-flare {
  width: 100%;
  height: 400px;
  position: absolute;
}
.section-flare-item:first-of-type:before {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  --stripes: repeating-linear-gradient(100deg, #fff 0%, #fff 0%, transparent 2%, transparent 12%, #fff 17%);
  --stripesDark: repeating-linear-gradient(100deg, #000 0%, #000 0%, transparent 10%, transparent 12%, #000 17%);
  --rainbow: repeating-linear-gradient(100deg, #60a5fa 10%, #e879f9 16%, #5eead4 22%, #60a5fa 30%);
  contain: strict;
  contain-intrinsic-size: 100vw 40vh;
  background-image: var(--stripesDark), var(--rainbow);
  background-size: 300%, 200%;
  background-position: 50% 50%, 50% 50%;
  filter: opacity(20%) saturate(200%);
  -webkit-mask-image: radial-gradient(ellipse at 100% 0%, black 40%, transparent 70%);
  mask-image: radial-gradient(ellipse at 100% 0%, black 40%, transparent 70%);
  pointer-events: none;
}
.section-flare-item:first-of-type:after {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-image: var(--stripes), var(--rainbow);
  background-size: 200%, 100%;
  background-attachment: fixed;
  mix-blend-mode: difference;
  background-image: var(--stripesDark), var(--rainbow);
  pointer-events: none;
}
.light-mode .section-flare-item:first-of-type:after,
.light-mode .section-flare-item:first-of-type:before {
  background-image: var(--stripes), var(--rainbow);
  filter: opacity(4%) saturate(200%);
}
`;var FL=`.light-mode {
  color-scheme: light;
  --scalar-color-1: #1c1e21;
  --scalar-color-2: #757575;
  --scalar-color-3: #8e8e8e;
  --scalar-color-disabled: #b4b1b1;
  --scalar-color-ghost: #a7a7a7;
  --scalar-color-accent: #2f8555;
  --scalar-background-1: #fff;
  --scalar-background-2: #f5f5f5;
  --scalar-background-3: #ededed;
  --scalar-background-4: rgba(0, 0, 0, 0.06);
  --scalar-background-accent: #2f85551f;

  --scalar-border-color: rgba(0, 0, 0, 0.1);
  --scalar-scrollbar-color: rgba(0, 0, 0, 0.18);
  --scalar-scrollbar-color-active: rgba(0, 0, 0, 0.36);
  --scalar-lifted-brightness: 1;
  --scalar-backdrop-brightness: 1;

  --scalar-shadow-1: 0 1px 3px 0 rgba(0, 0, 0, 0.11);
  --scalar-shadow-2: rgba(0, 0, 0, 0.08) 0px 13px 20px 0px, rgba(0, 0, 0, 0.08) 0px 3px 8px 0px, #eeeeed 0px 0 0 1px;

  --scalar-button-1: rgb(49 53 56);
  --scalar-button-1-color: #fff;
  --scalar-button-1-hover: rgb(28 31 33);

  --scalar-color-green: #007300;
  --scalar-color-red: #af272b;
  --scalar-color-yellow: #b38200;
  --scalar-color-blue: #3b8ba5;
  --scalar-color-orange: #fb892c;
  --scalar-color-purple: #5203d1;
}

.dark-mode {
  color-scheme: dark;
  --scalar-color-1: rgba(255, 255, 255, 0.9);
  --scalar-color-2: rgba(255, 255, 255, 0.62);
  --scalar-color-3: rgba(255, 255, 255, 0.44);
  --scalar-color-disabled: rgba(255, 255, 255, 0.34);
  --scalar-color-ghost: rgba(255, 255, 255, 0.26);
  --scalar-color-accent: #27c2a0;
  --scalar-background-1: #1b1b1d;
  --scalar-background-2: #242526;
  --scalar-background-3: #3b3b3b;
  --scalar-background-4: rgba(255, 255, 255, 0.06);
  --scalar-background-accent: #27c2a01f;

  --scalar-border-color: rgba(255, 255, 255, 0.1);
  --scalar-scrollbar-color: rgba(255, 255, 255, 0.24);
  --scalar-scrollbar-color-active: rgba(255, 255, 255, 0.48);
  --scalar-lifted-brightness: 1.45;
  --scalar-backdrop-brightness: 0.5;

  --scalar-shadow-1: 0 1px 3px 0 rgb(0, 0, 0, 0.1);
  --scalar-shadow-2: rgba(15, 15, 15, 0.2) 0px 3px 6px, rgba(15, 15, 15, 0.4) 0px 9px 24px, 0 0 0 1px
    rgba(255, 255, 255, 0.1);

  --scalar-button-1: #f6f6f6;
  --scalar-button-1-color: #000;
  --scalar-button-1-hover: #e7e7e7;

  --scalar-color-green: #26b226;
  --scalar-color-red: #fb565b;
  --scalar-color-yellow: #ffc426;
  --scalar-color-blue: #6ecfef;
  --scalar-color-orange: #ff8d4d;
  --scalar-color-purple: #b191f9;
}
`;var EL=`/* basic theme */
.light-mode {
  --scalar-color-1: #2a2f45;
  --scalar-color-2: #757575;
  --scalar-color-3: #8e8e8e;
  --scalar-color-accent: #7070ff;

  --scalar-background-1: #fff;
  --scalar-background-2: #f6f6f6;
  --scalar-background-3: #e7e7e7;
  --scalar-background-accent: #7070ff1f;

  --scalar-border-color: rgba(0, 0, 0, 0.1);

  --scalar-code-language-color-supersede: var(--scalar-color-3);
}
.dark-mode {
  --scalar-color-1: #f7f8f8;
  --scalar-color-2: rgb(180, 188, 208);
  --scalar-color-3: #b4bcd099;
  --scalar-color-accent: #828fff;

  --scalar-background-1: #000212;
  --scalar-background-2: #0d0f1e;
  --scalar-background-3: #232533;
  --scalar-background-accent: #8ab4f81f;

  --scalar-border-color: #313245;
  --scalar-code-language-color-supersede: var(--scalar-color-3);
}
/* Document Sidebar */
.light-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-item-hover-color: currentColor;
  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-active-background: var(--scalar-background-accent);
  --scalar-sidebar-border-color: var(--scalar-border-color);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-color-active: var(--scalar-color-accent);
  --scalar-sidebar-search-background: rgba(0, 0, 0, 0.05);
  --scalar-sidebar-search-border-color: 1px solid rgba(0, 0, 0, 0.05);
  --scalar-sidebar-search-color: var(--scalar-color-3);
  --scalar-background-2: rgba(0, 0, 0, 0.03);
}
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-item-hover-color: currentColor;
  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-active-background: rgba(255, 255, 255, 0.1);
  --scalar-sidebar-border-color: var(--scalar-border-color);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-color-active: var(--scalar-color-accent);
  --scalar-sidebar-search-background: rgba(255, 255, 255, 0.1);
  --scalar-sidebar-search-border-color: 1px solid rgba(255, 255, 255, 0.05);
  --scalar-sidebar-search-color: var(--scalar-color-3);
}
/* advanced */
.light-mode {
  --scalar-color-green: #069061;
  --scalar-color-red: #ef0006;
  --scalar-color-yellow: #edbe20;
  --scalar-color-blue: #0082d0;
  --scalar-color-orange: #fb892c;
  --scalar-color-purple: #5203d1;

  --scalar-button-1: rgba(0, 0, 0, 1);
  --scalar-button-1-hover: rgba(0, 0, 0, 0.8);
  --scalar-button-1-color: rgba(255, 255, 255, 0.9);
}
.dark-mode {
  --scalar-color-green: #00b648;
  --scalar-color-red: #dc1b19;
  --scalar-color-yellow: #ffc90d;
  --scalar-color-blue: #4eb3ec;
  --scalar-color-orange: #ff8d4d;
  --scalar-color-purple: #b191f9;

  --scalar-button-1: rgba(255, 255, 255, 1);
  --scalar-button-1-hover: rgba(255, 255, 255, 0.9);
  --scalar-button-1-color: black;
}
/* Custom Theme */
.dark-mode h2.t-editor__heading,
.dark-mode .t-editor__page-title h1,
.dark-mode h1.section-header:not(::selection),
.dark-mode .markdown h1,
.dark-mode .markdown h2,
.dark-mode .markdown h3,
.dark-mode .markdown h4,
.dark-mode .markdown h5,
.dark-mode .markdown h6 {
  -webkit-text-fill-color: transparent;
  background-image: linear-gradient(to right bottom, rgb(255, 255, 255) 30%, rgba(255, 255, 255, 0.38));
  -webkit-background-clip: text;
  background-clip: text;
}
.sidebar-search {
  backdrop-filter: blur(12px);
}
@keyframes headerbackground {
  from {
    background: transparent;
    backdrop-filter: none;
  }
  to {
    background: var(--header-background-1);
    backdrop-filter: blur(12px);
  }
}
.dark-mode .scalar-card {
  background: rgba(255, 255, 255, 0.05) !important;
}
.dark-mode .scalar-card * {
  --scalar-background-2: transparent !important;
  --scalar-background-1: transparent !important;
}
.light-mode .dark-mode.scalar-card *,
.light-mode .dark-mode.scalar-card {
  --scalar-background-1: #0d0f1e !important;
  --scalar-background-2: #0d0f1e !important;
  --scalar-background-3: #191b29 !important;
}
.light-mode .dark-mode.scalar-card {
  background: #191b29 !important;
}
.badge {
  box-shadow: 0 0 0 1px var(--scalar-border-color);
  margin-right: 6px;
}

.table-row.required-parameter .table-row-item:nth-of-type(2):after {
  background: transparent;
  box-shadow: none;
}
/* Hero Section Flare */
.section-flare {
  width: 100vw;
  background: radial-gradient(ellipse 80% 50% at 50% -20%, rgba(120, 119, 198, 0.3), transparent);
  height: 100vh;
}
.light-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-accent), transparent 70%);
}
.dark-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-accent), transparent 50%);
}
`;var jL=`/* basic theme */
:root {
  --scalar-text-decoration: underline;
  --scalar-text-decoration-hover: underline;
}
.light-mode {
  --scalar-background-1: #f9f6f0;
  --scalar-background-2: #f2efe8;
  --scalar-background-3: #e9e7e2;
  --scalar-border-color: rgba(203, 165, 156, 0.6);

  --scalar-color-1: #c75549;
  --scalar-color-2: #c75549;
  --scalar-color-3: #c75549;

  --scalar-color-accent: #c75549;
  --scalar-background-accent: #dcbfa81f;

  --scalar-code-language-color-supersede: var(--scalar-color-1);
}
.dark-mode {
  --scalar-background-1: #140507;
  --scalar-background-2: #20090c;
  --scalar-background-3: #321116;
  --scalar-border-color: #3c3031;

  --scalar-color-1: rgba(255, 255, 255, 0.9);
  --scalar-color-2: rgba(255, 255, 255, 0.62);
  --scalar-color-3: rgba(255, 255, 255, 0.44);

  --scalar-color-accent: rgba(255, 255, 255, 0.9);
  --scalar-background-accent: #441313;

  --scalar-code-language-color-supersede: var(--scalar-color-1);
}

/* Document Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-color: currentColor;
  --scalar-sidebar-item-hover-background: var(--scalar-background-2);

  --scalar-sidebar-item-active-background: var(--scalar-background-3);
  --scalar-sidebar-color-active: var(--scalar-color-accent);

  --scalar-sidebar-search-background: rgba(255, 255, 255, 0.1);
  --scalar-sidebar-search-color: var(--scalar-color-3);
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
  z-index: 1;
}
/* advanced */
.light-mode {
  --scalar-color-green: #09533a;
  --scalar-color-red: #aa181d;
  --scalar-color-yellow: #ab8d2b;
  --scalar-color-blue: #19689a;
  --scalar-color-orange: #b26c34;
  --scalar-color-purple: #4c2191;

  --scalar-button-1: rgba(0, 0, 0, 1);
  --scalar-button-1-hover: rgba(0, 0, 0, 0.8);
  --scalar-button-1-color: rgba(255, 255, 255, 0.9);
}
.dark-mode {
  --scalar-color-green: rgba(69, 255, 165, 0.823);
  --scalar-color-red: #ff8589;
  --scalar-color-yellow: #ffcc4d;
  --scalar-color-blue: #6bc1fe;
  --scalar-color-orange: #f98943;
  --scalar-color-purple: #b191f9;

  --scalar-button-1: rgba(255, 255, 255, 1);
  --scalar-button-1-hover: rgba(255, 255, 255, 0.9);
  --scalar-button-1-color: black;
}
/* Custom Theme */
.dark-mode h2.t-editor__heading,
.dark-mode .t-editor__page-title h1,
.dark-mode h1.section-header:not(::selection),
.dark-mode .markdown h1,
.dark-mode .markdown h2,
.dark-mode .markdown h3,
.dark-mode .markdown h4,
.dark-mode .markdown h5,
.dark-mode .markdown h6 {
  -webkit-text-fill-color: transparent;
  background-image: linear-gradient(to right bottom, rgb(255, 255, 255) 30%, rgba(255, 255, 255, 0.38));
  -webkit-background-clip: text;
  background-clip: text;
}
.light-mode .t-doc__sidebar {
  --scalar-sidebar-search-background: white;
}
.examples .scalar-card-footer {
  --scalar-background-3: transparent;
  padding-top: 0;
}
/* Hero section flare */
.section-flare {
  overflow-x: hidden;
  height: 100vh;
  left: initial;
}
.section-flare-item:nth-of-type(1) {
  background: #d25019;
  position: relative;
  top: -150px;
  right: -400px;
  width: 80vw;
  height: 500px;
  margin-top: -150px;
  border-radius: 50%;
  filter: blur(100px);
  z-index: 0;
}
.light-mode .section-flare {
  display: none;
}
*::selection {
  background-color: color-mix(in srgb, var(--scalar-color-red), transparent 75%);
}
`;var PL=`.light-mode {
  color-scheme: light;
  --scalar-color-1: #000000;
  --scalar-color-2: #000000;
  --scalar-color-3: #000000;
  --scalar-color-accent: #645b0f;
  --scalar-background-1: #ccc9b3;
  --scalar-background-2: #c2bfaa;
  --scalar-background-3: #b8b5a1;
  --scalar-background-accent: #000000;

  --scalar-border-color: rgba(0, 0, 0, 0.2);
  --scalar-scrollbar-color: rgba(0, 0, 0, 0.18);
  --scalar-scrollbar-color-active: rgba(0, 0, 0, 0.36);
  --scalar-lifted-brightness: 1;
  --scalar-backdrop-brightness: 1;

  --scalar-shadow-1: 0 1px 3px 0 rgba(0, 0, 0, 0.11);
  --scalar-shadow-2: rgba(0, 0, 0, 0.08) 0px 13px 20px 0px, rgba(0, 0, 0, 0.08) 0px 3px 8px 0px,
    var(--scalar-border-color) 0px 0 0 1px;

  --scalar-button-1: rgb(49 53 56);
  --scalar-button-1-color: #fff;
  --scalar-button-1-hover: rgb(28 31 33);

  --scalar-color-red: #b91c1c;
  --scalar-color-orange: #a16207;
  --scalar-color-green: #047857;
  --scalar-color-blue: #1d4ed8;
  --scalar-color-orange: #c2410c;
  --scalar-color-purple: #6d28d9;
}

.dark-mode {
  color-scheme: dark;
  --scalar-color-1: #fffef3;
  --scalar-color-2: #fffef3;
  --scalar-color-3: #fffef3;
  --scalar-color-accent: #c3b531;
  --scalar-background-1: #313332;
  --scalar-background-2: #393b3a;
  --scalar-background-3: #414342;
  --scalar-background-accent: #fffef3;

  --scalar-border-color: #505452;
  --scalar-scrollbar-color: rgba(255, 255, 255, 0.24);
  --scalar-scrollbar-color-active: rgba(255, 255, 255, 0.48);
  --scalar-lifted-brightness: 1.45;
  --scalar-backdrop-brightness: 0.5;

  --scalar-shadow-1: 0 1px 3px 0 rgba(0, 0, 0, 0.11);
  --scalar-shadow-2: rgba(15, 15, 15, 0.2) 0px 3px 6px, rgba(15, 15, 15, 0.4) 0px 9px 24px, 0 0 0 1px
    rgba(255, 255, 255, 0.1);

  --scalar-button-1: #f6f6f6;
  --scalar-button-1-color: #000;
  --scalar-button-1-hover: #e7e7e7;

  --scalar-color-green: #00b648;
  --scalar-color-red: #dc1b19;
  --scalar-color-yellow: #ffc90d;
  --scalar-color-blue: #4eb3ec;
  --scalar-color-orange: #ff8d4d;
  --scalar-color-purple: #b191f9;
}

/* Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-hover-color: currentColor;

  --scalar-sidebar-item-active-background: var(--scalar-background-3);
  --scalar-sidebar-color-active: var(--scalar-color-1);

  --scalar-sidebar-search-background: transparent;
  --scalar-sidebar-search-color: var(--scalar-color-3);
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
}
*::selection {
  background-color: color-mix(in srgb, var(--scalar-color-accent), transparent 80%);
}
`;var CL=`/* basic theme */
.light-mode {
  --scalar-background-1: #fff;
  --scalar-background-2: #f5f6f8;
  --scalar-background-3: #eceef1;

  --scalar-color-1: #2a2f45;
  --scalar-color-2: #757575;
  --scalar-color-3: #8e8e8e;

  --scalar-color-accent: #5469d4;
  --scalar-background-accent: #5469d41f;

  --scalar-border-color: rgba(215, 215, 206, 0.68);
}
.dark-mode {
  --scalar-background-1: #15171c;
  --scalar-background-2: #1c1e24;
  --scalar-background-3: #22252b;

  --scalar-color-1: #fafafa;
  --scalar-color-2: #c9ced8;
  --scalar-color-3: #8c99ad;

  --scalar-color-accent: #5469d4;
  --scalar-background-accent: #5469d41f;

  --scalar-border-color: #3f4145;
}
/* Document Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-color: currentColor;
  --scalar-sidebar-item-hover-background: var(--scalar-background-3);

  --scalar-sidebar-item-active-background: var(--scalar-background-accent);
  --scalar-sidebar-color-active: var(--scalar-color-accent);

  --scalar-sidebar-search-background: var(--scalar-background-1);
  --scalar-sidebar-search-color: var(--scalar-color-3);
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
}

/* advanced */
.light-mode {
  --scalar-color-green: #17803d;
  --scalar-color-red: #e10909;
  --scalar-color-yellow: #edbe20;
  --scalar-color-blue: #1763a6;
  --scalar-color-orange: #e25b09;
  --scalar-color-purple: #5c3993;

  --scalar-button-1: rgba(0, 0, 0, 1);
  --scalar-button-1-hover: rgba(0, 0, 0, 0.8);
  --scalar-button-1-color: rgba(255, 255, 255, 0.9);
}
.dark-mode {
  --scalar-color-green: #30a159;
  --scalar-color-red: #dc1b19;
  --scalar-color-yellow: #eec644;
  --scalar-color-blue: #2b7abf;
  --scalar-color-orange: #f07528;
  --scalar-color-purple: #7a59b1;

  --scalar-button-1: rgba(255, 255, 255, 1);
  --scalar-button-1-hover: rgba(255, 255, 255, 0.9);
  --scalar-button-1-color: black;
}
.light-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-accent), transparent 70%);
}
.dark-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-accent), transparent 50%);
}
`;var IL=`/* basic theme */
.light-mode {
  --scalar-background-1: #f3f3ee;
  --scalar-background-2: #e8e8e3;
  --scalar-background-3: #e4e4df;
  --scalar-border-color: rgba(215, 215, 206, 0.85);

  --scalar-color-1: #2a2f45;
  --scalar-color-2: #757575;
  --scalar-color-3: #8e8e8e;

  --scalar-color-accent: #1763a6;
  --scalar-background-accent: #1f648e1f;
}
.dark-mode {
  --scalar-background-1: #09090b;
  --scalar-background-2: #18181b;
  --scalar-background-3: #2c2c30;
  --scalar-border-color: rgba(255, 255, 255, 0.17);

  --scalar-color-1: #fafafa;
  --scalar-color-2: rgb(161, 161, 170);
  --scalar-color-3: rgba(255, 255, 255, 0.533);

  --scalar-color-accent: #4eb3ec;
  --scalar-background-accent: #8ab4f81f;
}
/* Document Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-hover-color: currentColor;

  --scalar-sidebar-item-active-background: var(--scalar-background-3);
  --scalar-sidebar-color-active: var(--scalar-color-1);

  --scalar-sidebar-search-background: var(--scalar-background-1);
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
  --scalar-sidebar-search-color: var(--scalar-color-3);
}

/* advanced */
.light-mode {
  --scalar-color-green: #17803d;
  --scalar-color-red: #e10909;
  --scalar-color-yellow: #edbe20;
  --scalar-color-blue: #1763a6;
  --scalar-color-orange: #e25b09;
  --scalar-color-purple: #5c3993;

  --scalar-button-1: rgba(0, 0, 0, 1);
  --scalar-button-1-hover: rgba(0, 0, 0, 0.8);
  --scalar-button-1-color: rgba(255, 255, 255, 0.9);
}
.dark-mode {
  --scalar-color-green: #30a159;
  --scalar-color-red: #dc1b19;
  --scalar-color-yellow: #eec644;
  --scalar-color-blue: #2b7abf;
  --scalar-color-orange: #f07528;
  --scalar-color-purple: #7a59b1;

  --scalar-button-1: rgba(255, 255, 255, 1);
  --scalar-button-1-hover: rgba(255, 255, 255, 0.9);
  --scalar-button-1-color: black;
}
.dark-mode h2.t-editor__heading,
.dark-mode .t-editor__page-title h1,
.dark-mode h1.section-header:not(::selection),
.dark-mode .markdown h1,
.dark-mode .markdown h2,
.dark-mode .markdown h3,
.dark-mode .markdown h4,
.dark-mode .markdown h5,
.dark-mode .markdown h6 {
  -webkit-text-fill-color: transparent;
  background-image: linear-gradient(to right bottom, rgb(255, 255, 255) 30%, rgba(255, 255, 255, 0.38));
  -webkit-background-clip: text;
  background-clip: text;
}
.light-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-accent), transparent 70%);
}
.dark-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-accent), transparent 50%);
}
`;var RL=`.light-mode {
  color-scheme: light;
  --scalar-color-1: #584c27;
  --scalar-color-2: #616161;
  --scalar-color-3: #a89f84;
  --scalar-color-accent: #b58900;
  --scalar-background-1: #fdf6e3;
  --scalar-background-2: #eee8d5;
  --scalar-background-3: #ddd6c1;
  --scalar-background-accent: #b589001f;

  --scalar-border-color: #ded8c8;
  --scalar-scrollbar-color: rgba(0, 0, 0, 0.18);
  --scalar-scrollbar-color-active: rgba(0, 0, 0, 0.36);
  --scalar-lifted-brightness: 1;
  --scalar-backdrop-brightness: 1;

  --scalar-shadow-1: 0 1px 3px 0 rgba(0, 0, 0, 0.11);
  --scalar-shadow-2: rgba(0, 0, 0, 0.08) 0px 13px 20px 0px, rgba(0, 0, 0, 0.08) 0px 3px 8px 0px, #eeeeed 0px 0 0 1px;

  --scalar-button-1: rgb(49 53 56);
  --scalar-button-1-color: #fff;
  --scalar-button-1-hover: rgb(28 31 33);

  --scalar-color-red: #b91c1c;
  --scalar-color-orange: #a16207;
  --scalar-color-green: #047857;
  --scalar-color-blue: #1d4ed8;
  --scalar-color-orange: #c2410c;
  --scalar-color-purple: #6d28d9;
}

.dark-mode {
  color-scheme: dark;
  --scalar-color-1: #fff;
  --scalar-color-2: #cccccc;
  --scalar-color-3: #6d8890;
  --scalar-color-accent: #007acc;
  --scalar-background-1: #00212b;
  --scalar-background-2: #012b36;
  --scalar-background-3: #004052;
  --scalar-background-accent: #015a6f;

  --scalar-border-color: #2f4851;
  --scalar-scrollbar-color: rgba(255, 255, 255, 0.24);
  --scalar-scrollbar-color-active: rgba(255, 255, 255, 0.48);
  --scalar-lifted-brightness: 1.45;
  --scalar-backdrop-brightness: 0.5;

  --scalar-shadow-1: 0 1px 3px 0 rgb(0, 0, 0, 0.1);
  --scalar-shadow-2: rgba(15, 15, 15, 0.2) 0px 3px 6px, rgba(15, 15, 15, 0.4) 0px 9px 24px, 0 0 0 1px
    rgba(255, 255, 255, 0.1);

  --scalar-button-1: #f6f6f6;
  --scalar-button-1-color: #000;
  --scalar-button-1-hover: #e7e7e7;

  --scalar-color-green: #00b648;
  --scalar-color-red: #dc1b19;
  --scalar-color-yellow: #ffc90d;
  --scalar-color-blue: #4eb3ec;
  --scalar-color-orange: #ff8d4d;
  --scalar-color-purple: #b191f9;
}

/* Sidebar */
.light-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-item-hover-color: currentColor;
  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-active-background: var(--scalar-background-accent);
  --scalar-sidebar-border-color: var(--scalar-border-color);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-color-active: var(--scalar-color-accent);
  --scalar-sidebar-search-background: var(--scalar-background-2);
  --scalar-sidebar-search-border-color: var(--scalar-sidebar-search-background);
  --scalar-sidebar-search--color: var(--scalar-color-3);
}

.dark-mode .sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-item-hover-color: currentColor;
  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-active-background: var(--scalar-background-accent);
  --scalar-sidebar-border-color: var(--scalar-border-color);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-color-active: var(--scalar-sidebar-color-1);
  --scalar-sidebar-search-background: var(--scalar-background-2);
  --scalar-sidebar-search-border-color: var(--scalar-sidebar-search-background);
  --scalar-sidebar-search--color: var(--scalar-color-3);
}
*::selection {
  background-color: color-mix(in srgb, var(--scalar-color-accent), transparent 70%);
}
`;var Y0={};h4(Y0,{void:()=>km,util:()=>B1,unknown:()=>_m,union:()=>fm,undefined:()=>Im,tuple:()=>hm,transformer:()=>rm,symbol:()=>Cm,string:()=>vL,strictObject:()=>ym,setErrorMap:()=>sh,set:()=>cm,record:()=>mm,quotelessJson:()=>rh,promise:()=>om,preprocess:()=>tm,pipeline:()=>em,ostring:()=>Jd,optional:()=>am,onumber:()=>Yd,oboolean:()=>Wd,objectUtil:()=>NB,object:()=>gm,number:()=>bL,nullable:()=>sm,null:()=>Rm,never:()=>wm,nativeEnum:()=>lm,nan:()=>Em,map:()=>dm,makeIssue:()=>lQ,literal:()=>nm,lazy:()=>pm,late:()=>Vm,isValid:()=>e7,isDirty:()=>fM,isAsync:()=>vY,isAborted:()=>yM,intersection:()=>bm,instanceof:()=>Fm,getParsedType:()=>Z4,getErrorMap:()=>fY,function:()=>um,enum:()=>im,effect:()=>rm,discriminatedUnion:()=>vm,defaultErrorMap:()=>B7,datetimeRegex:()=>gL,date:()=>Pm,custom:()=>fL,coerce:()=>Qd,boolean:()=>hL,bigint:()=>jm,array:()=>xm,any:()=>Tm,addIssueToContext:()=>R0,ZodVoid:()=>rQ,ZodUnknown:()=>J9,ZodUnion:()=>uY,ZodUndefined:()=>dY,ZodType:()=>W1,ZodTuple:()=>K4,ZodTransformer:()=>i6,ZodSymbol:()=>oQ,ZodString:()=>c6,ZodSet:()=>UJ,ZodSchema:()=>W1,ZodRecord:()=>aQ,ZodReadonly:()=>aY,ZodPromise:()=>BJ,ZodPipeline:()=>eQ,ZodParsedType:()=>V0,ZodOptional:()=>p6,ZodObject:()=>L5,ZodNumber:()=>Y9,ZodNullable:()=>N7,ZodNull:()=>cY,ZodNever:()=>O4,ZodNativeEnum:()=>lY,ZodNaN:()=>tQ,ZodMap:()=>sQ,ZodLiteral:()=>iY,ZodLazy:()=>nY,ZodIssueCode:()=>O0,ZodIntersection:()=>pY,ZodFunction:()=>hY,ZodFirstPartyTypeKind:()=>u0,ZodError:()=>Z8,ZodEnum:()=>Q9,ZodEffects:()=>i6,ZodDiscriminatedUnion:()=>vM,ZodDefault:()=>oY,ZodDate:()=>GJ,ZodCatch:()=>rY,ZodBranded:()=>bM,ZodBoolean:()=>mY,ZodBigInt:()=>W9,ZodArray:()=>u6,ZodAny:()=>HJ,Schema:()=>W1,ParseStatus:()=>z2,OK:()=>w2,NEVER:()=>$d,INVALID:()=>h0,EMPTY_PATH:()=>th,DIRTY:()=>MJ,BRAND:()=>Sm});var B1;(function(J){J.assertEqual=(X)=>{};function Y(X){}J.assertIs=Y;function W(X){throw new Error}J.assertNever=W,J.arrayToEnum=(X)=>{let M={};for(let G of X)M[G]=G;return M},J.getValidEnumValues=(X)=>{let M=J.objectKeys(X).filter((H)=>typeof X[X[H]]!=="number"),G={};for(let H of M)G[H]=X[H];return J.objectValues(G)},J.objectValues=(X)=>{return J.objectKeys(X).map(function(M){return X[M]})},J.objectKeys=typeof Object.keys==="function"?(X)=>Object.keys(X):(X)=>{let M=[];for(let G in X)if(Object.prototype.hasOwnProperty.call(X,G))M.push(G);return M},J.find=(X,M)=>{for(let G of X)if(M(G))return G;return},J.isInteger=typeof Number.isInteger==="function"?(X)=>Number.isInteger(X):(X)=>typeof X==="number"&&Number.isFinite(X)&&Math.floor(X)===X;function Q(X,M=" | "){return X.map((G)=>typeof G==="string"?`'${G}'`:G).join(M)}J.joinValues=Q,J.jsonStringifyReplacer=(X,M)=>{if(typeof M==="bigint")return M.toString();return M}})(B1||(B1={}));var NB;(function(J){J.mergeShapes=(Y,W)=>{return{...Y,...W}}})(NB||(NB={}));var V0=B1.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Z4=(J)=>{switch(typeof J){case"undefined":return V0.undefined;case"string":return V0.string;case"number":return Number.isNaN(J)?V0.nan:V0.number;case"boolean":return V0.boolean;case"function":return V0.function;case"bigint":return V0.bigint;case"symbol":return V0.symbol;case"object":if(Array.isArray(J))return V0.array;if(J===null)return V0.null;if(J.then&&typeof J.then==="function"&&J.catch&&typeof J.catch==="function")return V0.promise;if(typeof Map!=="undefined"&&J instanceof Map)return V0.map;if(typeof Set!=="undefined"&&J instanceof Set)return V0.set;if(typeof Date!=="undefined"&&J instanceof Date)return V0.date;return V0.object;default:return V0.unknown}};var O0=B1.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),rh=(J)=>{return JSON.stringify(J,null,2).replace(/"([^"]+)":/g,"$1:")};class Z8 extends Error{get errors(){return this.issues}constructor(J){super();this.issues=[],this.addIssue=(W)=>{this.issues=[...this.issues,W]},this.addIssues=(W=[])=>{this.issues=[...this.issues,...W]};let Y=new.target.prototype;if(Object.setPrototypeOf)Object.setPrototypeOf(this,Y);else this.__proto__=Y;this.name="ZodError",this.issues=J}format(J){let Y=J||function(X){return X.message},W={_errors:[]},Q=(X)=>{for(let M of X.issues)if(M.code==="invalid_union")M.unionErrors.map(Q);else if(M.code==="invalid_return_type")Q(M.returnTypeError);else if(M.code==="invalid_arguments")Q(M.argumentsError);else if(M.path.length===0)W._errors.push(Y(M));else{let G=W,H=0;while(H<M.path.length){let U=M.path[H];if(H!==M.path.length-1)G[U]=G[U]||{_errors:[]};else G[U]=G[U]||{_errors:[]},G[U]._errors.push(Y(M));G=G[U],H++}}};return Q(this),W}static assert(J){if(!(J instanceof Z8))throw new Error(`Not a ZodError: ${J}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,B1.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(J=(Y)=>Y.message){let Y={},W=[];for(let Q of this.issues)if(Q.path.length>0){let X=Q.path[0];Y[X]=Y[X]||[],Y[X].push(J(Q))}else W.push(J(Q));return{formErrors:W,fieldErrors:Y}}get formErrors(){return this.flatten()}}Z8.create=(J)=>{return new Z8(J)};var ah=(J,Y)=>{let W;switch(J.code){case O0.invalid_type:if(J.received===V0.undefined)W="Required";else W=`Expected ${J.expected}, received ${J.received}`;break;case O0.invalid_literal:W=`Invalid literal value, expected ${JSON.stringify(J.expected,B1.jsonStringifyReplacer)}`;break;case O0.unrecognized_keys:W=`Unrecognized key(s) in object: ${B1.joinValues(J.keys,", ")}`;break;case O0.invalid_union:W="Invalid input";break;case O0.invalid_union_discriminator:W=`Invalid discriminator value. Expected ${B1.joinValues(J.options)}`;break;case O0.invalid_enum_value:W=`Invalid enum value. Expected ${B1.joinValues(J.options)}, received '${J.received}'`;break;case O0.invalid_arguments:W="Invalid function arguments";break;case O0.invalid_return_type:W="Invalid function return type";break;case O0.invalid_date:W="Invalid date";break;case O0.invalid_string:if(typeof J.validation==="object")if("includes"in J.validation){if(W=`Invalid input: must include "${J.validation.includes}"`,typeof J.validation.position==="number")W=`${W} at one or more positions greater than or equal to ${J.validation.position}`}else if("startsWith"in J.validation)W=`Invalid input: must start with "${J.validation.startsWith}"`;else if("endsWith"in J.validation)W=`Invalid input: must end with "${J.validation.endsWith}"`;else B1.assertNever(J.validation);else if(J.validation!=="regex")W=`Invalid ${J.validation}`;else W="Invalid";break;case O0.too_small:if(J.type==="array")W=`Array must contain ${J.exact?"exactly":J.inclusive?"at least":"more than"} ${J.minimum} element(s)`;else if(J.type==="string")W=`String must contain ${J.exact?"exactly":J.inclusive?"at least":"over"} ${J.minimum} character(s)`;else if(J.type==="number")W=`Number must be ${J.exact?"exactly equal to ":J.inclusive?"greater than or equal to ":"greater than "}${J.minimum}`;else if(J.type==="bigint")W=`Number must be ${J.exact?"exactly equal to ":J.inclusive?"greater than or equal to ":"greater than "}${J.minimum}`;else if(J.type==="date")W=`Date must be ${J.exact?"exactly equal to ":J.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(J.minimum))}`;else W="Invalid input";break;case O0.too_big:if(J.type==="array")W=`Array must contain ${J.exact?"exactly":J.inclusive?"at most":"less than"} ${J.maximum} element(s)`;else if(J.type==="string")W=`String must contain ${J.exact?"exactly":J.inclusive?"at most":"under"} ${J.maximum} character(s)`;else if(J.type==="number")W=`Number must be ${J.exact?"exactly":J.inclusive?"less than or equal to":"less than"} ${J.maximum}`;else if(J.type==="bigint")W=`BigInt must be ${J.exact?"exactly":J.inclusive?"less than or equal to":"less than"} ${J.maximum}`;else if(J.type==="date")W=`Date must be ${J.exact?"exactly":J.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(J.maximum))}`;else W="Invalid input";break;case O0.custom:W="Invalid input";break;case O0.invalid_intersection_types:W="Intersection results could not be merged";break;case O0.not_multiple_of:W=`Number must be a multiple of ${J.multipleOf}`;break;case O0.not_finite:W="Number must be finite";break;default:W=Y.defaultError,B1.assertNever(J)}return{message:W}},B7=ah;var TL=B7;function sh(J){TL=J}function fY(){return TL}var lQ=(J)=>{let{data:Y,path:W,errorMaps:Q,issueData:X}=J,M=[...W,...X.path||[]],G={...X,path:M};if(X.message!==void 0)return{...X,path:M,message:X.message};let H="",U=Q.filter((B)=>!!B).slice().reverse();for(let B of U)H=B(G,{data:Y,defaultError:H}).message;return{...X,path:M,message:H}},th=[];function R0(J,Y){let W=fY(),Q=lQ({issueData:Y,data:J.data,path:J.path,errorMaps:[J.common.contextualErrorMap,J.schemaErrorMap,W,W===B7?void 0:B7].filter((X)=>!!X)});J.common.issues.push(Q)}class z2{constructor(){this.value="valid"}dirty(){if(this.value==="valid")this.value="dirty"}abort(){if(this.value!=="aborted")this.value="aborted"}static mergeArray(J,Y){let W=[];for(let Q of Y){if(Q.status==="aborted")return h0;if(Q.status==="dirty")J.dirty();W.push(Q.value)}return{status:J.value,value:W}}static async mergeObjectAsync(J,Y){let W=[];for(let Q of Y){let X=await Q.key,M=await Q.value;W.push({key:X,value:M})}return z2.mergeObjectSync(J,W)}static mergeObjectSync(J,Y){let W={};for(let Q of Y){let{key:X,value:M}=Q;if(X.status==="aborted")return h0;if(M.status==="aborted")return h0;if(X.status==="dirty")J.dirty();if(M.status==="dirty")J.dirty();if(X.value!=="__proto__"&&(typeof M.value!=="undefined"||Q.alwaysSet))W[X.value]=M.value}return{status:J.value,value:W}}}var h0=Object.freeze({status:"aborted"}),MJ=(J)=>({status:"dirty",value:J}),w2=(J)=>({status:"valid",value:J}),yM=(J)=>J.status==="aborted",fM=(J)=>J.status==="dirty",e7=(J)=>J.status==="valid",vY=(J)=>typeof Promise!=="undefined"&&J instanceof Promise;var k0;(function(J){J.errToObj=(Y)=>typeof Y==="string"?{message:Y}:Y||{},J.toString=(Y)=>typeof Y==="string"?Y:Y?.message})(k0||(k0={}));class n6{constructor(J,Y,W,Q){this._cachedPath=[],this.parent=J,this.data=Y,this._path=W,this._key=Q}get path(){if(!this._cachedPath.length)if(Array.isArray(this._key))this._cachedPath.push(...this._path,...this._key);else this._cachedPath.push(...this._path,this._key);return this._cachedPath}}var _L=(J,Y)=>{if(e7(Y))return{success:!0,data:Y.value};else{if(!J.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let W=new Z8(J.common.issues);return this._error=W,this._error}}}};function s0(J){if(!J)return{};let{errorMap:Y,invalid_type_error:W,required_error:Q,description:X}=J;if(Y&&(W||Q))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);if(Y)return{errorMap:Y,description:X};return{errorMap:(G,H)=>{let{message:U}=J;if(G.code==="invalid_enum_value")return{message:U??H.defaultError};if(typeof H.data==="undefined")return{message:U??Q??H.defaultError};if(G.code!=="invalid_type")return{message:H.defaultError};return{message:U??W??H.defaultError}},description:X}}class W1{get description(){return this._def.description}_getType(J){return Z4(J.data)}_getOrReturnCtx(J,Y){return Y||{common:J.parent.common,data:J.data,parsedType:Z4(J.data),schemaErrorMap:this._def.errorMap,path:J.path,parent:J.parent}}_processInputParams(J){return{status:new z2,ctx:{common:J.parent.common,data:J.data,parsedType:Z4(J.data),schemaErrorMap:this._def.errorMap,path:J.path,parent:J.parent}}}_parseSync(J){let Y=this._parse(J);if(vY(Y))throw new Error("Synchronous parse encountered promise.");return Y}_parseAsync(J){let Y=this._parse(J);return Promise.resolve(Y)}parse(J,Y){let W=this.safeParse(J,Y);if(W.success)return W.data;throw W.error}safeParse(J,Y){let W={common:{issues:[],async:Y?.async??!1,contextualErrorMap:Y?.errorMap},path:Y?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:J,parsedType:Z4(J)},Q=this._parseSync({data:J,path:W.path,parent:W});return _L(W,Q)}"~validate"(J){let Y={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:J,parsedType:Z4(J)};if(!this["~standard"].async)try{let W=this._parseSync({data:J,path:[],parent:Y});return e7(W)?{value:W.value}:{issues:Y.common.issues}}catch(W){if(W?.message?.toLowerCase()?.includes("encountered"))this["~standard"].async=!0;Y.common={issues:[],async:!0}}return this._parseAsync({data:J,path:[],parent:Y}).then((W)=>e7(W)?{value:W.value}:{issues:Y.common.issues})}async parseAsync(J,Y){let W=await this.safeParseAsync(J,Y);if(W.success)return W.data;throw W.error}async safeParseAsync(J,Y){let W={common:{issues:[],contextualErrorMap:Y?.errorMap,async:!0},path:Y?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:J,parsedType:Z4(J)},Q=this._parse({data:J,path:W.path,parent:W}),X=await(vY(Q)?Q:Promise.resolve(Q));return _L(W,X)}refine(J,Y){let W=(Q)=>{if(typeof Y==="string"||typeof Y==="undefined")return{message:Y};else if(typeof Y==="function")return Y(Q);else return Y};return this._refinement((Q,X)=>{let M=J(Q),G=()=>X.addIssue({code:O0.custom,...W(Q)});if(typeof Promise!=="undefined"&&M instanceof Promise)return M.then((H)=>{if(!H)return G(),!1;else return!0});if(!M)return G(),!1;else return!0})}refinement(J,Y){return this._refinement((W,Q)=>{if(!J(W))return Q.addIssue(typeof Y==="function"?Y(W,Q):Y),!1;else return!0})}_refinement(J){return new i6({schema:this,typeName:u0.ZodEffects,effect:{type:"refinement",refinement:J}})}superRefine(J){return this._refinement(J)}constructor(J){this.spa=this.safeParseAsync,this._def=J,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:(Y)=>this["~validate"](Y)}}optional(){return p6.create(this,this._def)}nullable(){return N7.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return u6.create(this)}promise(){return BJ.create(this,this._def)}or(J){return uY.create([this,J],this._def)}and(J){return pY.create(this,J,this._def)}transform(J){return new i6({...s0(this._def),schema:this,typeName:u0.ZodEffects,effect:{type:"transform",transform:J}})}default(J){let Y=typeof J==="function"?J:()=>J;return new oY({...s0(this._def),innerType:this,defaultValue:Y,typeName:u0.ZodDefault})}brand(){return new bM({typeName:u0.ZodBranded,type:this,...s0(this._def)})}catch(J){let Y=typeof J==="function"?J:()=>J;return new rY({...s0(this._def),innerType:this,catchValue:Y,typeName:u0.ZodCatch})}describe(J){return new this.constructor({...this._def,description:J})}pipe(J){return eQ.create(this,J)}readonly(){return aY.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}var eh=/^c[^\s-]{8,}$/i,Jm=/^[0-9a-z]+$/,Ym=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Wm=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Qm=/^[a-z0-9_-]{21}$/i,$m=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Xm=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Mm=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Gm="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",qB,Hm=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Um=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Bm=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Am=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Nm=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qm=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,kL="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Dm=new RegExp(`^${kL}$`);function xL(J){let Y="[0-5]\\d";if(J.precision)Y=`${Y}\\.\\d{${J.precision}}`;else if(J.precision==null)Y=`${Y}(\\.\\d+)?`;let W=J.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${Y})${W}`}function Zm(J){return new RegExp(`^${xL(J)}$`)}function gL(J){let Y=`${kL}T${xL(J)}`,W=[];if(W.push(J.local?"Z?":"Z"),J.offset)W.push("([+-]\\d{2}:?\\d{2})");return Y=`${Y}(${W.join("|")})`,new RegExp(`^${Y}$`)}function Om(J,Y){if((Y==="v4"||!Y)&&Hm.test(J))return!0;if((Y==="v6"||!Y)&&Bm.test(J))return!0;return!1}function Km(J,Y){if(!$m.test(J))return!1;try{let[W]=J.split(".");if(!W)return!1;let Q=W.replace(/-/g,"+").replace(/_/g,"/").padEnd(W.length+(4-W.length%4)%4,"="),X=JSON.parse(atob(Q));if(typeof X!=="object"||X===null)return!1;if("typ"in X&&X?.typ!=="JWT")return!1;if(!X.alg)return!1;if(Y&&X.alg!==Y)return!1;return!0}catch{return!1}}function zm(J,Y){if((Y==="v4"||!Y)&&Um.test(J))return!0;if((Y==="v6"||!Y)&&Am.test(J))return!0;return!1}class c6 extends W1{_parse(J){if(this._def.coerce)J.data=String(J.data);if(this._getType(J)!==V0.string){let X=this._getOrReturnCtx(J);return R0(X,{code:O0.invalid_type,expected:V0.string,received:X.parsedType}),h0}let W=new z2,Q=void 0;for(let X of this._def.checks)if(X.kind==="min"){if(J.data.length<X.value)Q=this._getOrReturnCtx(J,Q),R0(Q,{code:O0.too_small,minimum:X.value,type:"string",inclusive:!0,exact:!1,message:X.message}),W.dirty()}else if(X.kind==="max"){if(J.data.length>X.value)Q=this._getOrReturnCtx(J,Q),R0(Q,{code:O0.too_big,maximum:X.value,type:"string",inclusive:!0,exact:!1,message:X.message}),W.dirty()}else if(X.kind==="length"){let M=J.data.length>X.value,G=J.data.length<X.value;if(M||G){if(Q=this._getOrReturnCtx(J,Q),M)R0(Q,{code:O0.too_big,maximum:X.value,type:"string",inclusive:!0,exact:!0,message:X.message});else if(G)R0(Q,{code:O0.too_small,minimum:X.value,type:"string",inclusive:!0,exact:!0,message:X.message});W.dirty()}}else if(X.kind==="email"){if(!Mm.test(J.data))Q=this._getOrReturnCtx(J,Q),R0(Q,{validation:"email",code:O0.invalid_string,message:X.message}),W.dirty()}else if(X.kind==="emoji"){if(!qB)qB=new RegExp(Gm,"u");if(!qB.test(J.data))Q=this._getOrReturnCtx(J,Q),R0(Q,{validation:"emoji",code:O0.invalid_string,message:X.message}),W.dirty()}else if(X.kind==="uuid"){if(!Wm.test(J.data))Q=this._getOrReturnCtx(J,Q),R0(Q,{validation:"uuid",code:O0.invalid_string,message:X.message}),W.dirty()}else if(X.kind==="nanoid"){if(!Qm.test(J.data))Q=this._getOrReturnCtx(J,Q),R0(Q,{validation:"nanoid",code:O0.invalid_string,message:X.message}),W.dirty()}else if(X.kind==="cuid"){if(!eh.test(J.data))Q=this._getOrReturnCtx(J,Q),R0(Q,{validation:"cuid",code:O0.invalid_string,message:X.message}),W.dirty()}else if(X.kind==="cuid2"){if(!Jm.test(J.data))Q=this._getOrReturnCtx(J,Q),R0(Q,{validation:"cuid2",code:O0.invalid_string,message:X.message}),W.dirty()}else if(X.kind==="ulid"){if(!Ym.test(J.data))Q=this._getOrReturnCtx(J,Q),R0(Q,{validation:"ulid",code:O0.invalid_string,message:X.message}),W.dirty()}else if(X.kind==="url")try{new URL(J.data)}catch{Q=this._getOrReturnCtx(J,Q),R0(Q,{validation:"url",code:O0.invalid_string,message:X.message}),W.dirty()}else if(X.kind==="regex"){if(X.regex.lastIndex=0,!X.regex.test(J.data))Q=this._getOrReturnCtx(J,Q),R0(Q,{validation:"regex",code:O0.invalid_string,message:X.message}),W.dirty()}else if(X.kind==="trim")J.data=J.data.trim();else if(X.kind==="includes"){if(!J.data.includes(X.value,X.position))Q=this._getOrReturnCtx(J,Q),R0(Q,{code:O0.invalid_string,validation:{includes:X.value,position:X.position},message:X.message}),W.dirty()}else if(X.kind==="toLowerCase")J.data=J.data.toLowerCase();else if(X.kind==="toUpperCase")J.data=J.data.toUpperCase();else if(X.kind==="startsWith"){if(!J.data.startsWith(X.value))Q=this._getOrReturnCtx(J,Q),R0(Q,{code:O0.invalid_string,validation:{startsWith:X.value},message:X.message}),W.dirty()}else if(X.kind==="endsWith"){if(!J.data.endsWith(X.value))Q=this._getOrReturnCtx(J,Q),R0(Q,{code:O0.invalid_string,validation:{endsWith:X.value},message:X.message}),W.dirty()}else if(X.kind==="datetime"){if(!gL(X).test(J.data))Q=this._getOrReturnCtx(J,Q),R0(Q,{code:O0.invalid_string,validation:"datetime",message:X.message}),W.dirty()}else if(X.kind==="date"){if(!Dm.test(J.data))Q=this._getOrReturnCtx(J,Q),R0(Q,{code:O0.invalid_string,validation:"date",message:X.message}),W.dirty()}else if(X.kind==="time"){if(!Zm(X).test(J.data))Q=this._getOrReturnCtx(J,Q),R0(Q,{code:O0.invalid_string,validation:"time",message:X.message}),W.dirty()}else if(X.kind==="duration"){if(!Xm.test(J.data))Q=this._getOrReturnCtx(J,Q),R0(Q,{validation:"duration",code:O0.invalid_string,message:X.message}),W.dirty()}else if(X.kind==="ip"){if(!Om(J.data,X.version))Q=this._getOrReturnCtx(J,Q),R0(Q,{validation:"ip",code:O0.invalid_string,message:X.message}),W.dirty()}else if(X.kind==="jwt"){if(!Km(J.data,X.alg))Q=this._getOrReturnCtx(J,Q),R0(Q,{validation:"jwt",code:O0.invalid_string,message:X.message}),W.dirty()}else if(X.kind==="cidr"){if(!zm(J.data,X.version))Q=this._getOrReturnCtx(J,Q),R0(Q,{validation:"cidr",code:O0.invalid_string,message:X.message}),W.dirty()}else if(X.kind==="base64"){if(!Nm.test(J.data))Q=this._getOrReturnCtx(J,Q),R0(Q,{validation:"base64",code:O0.invalid_string,message:X.message}),W.dirty()}else if(X.kind==="base64url"){if(!qm.test(J.data))Q=this._getOrReturnCtx(J,Q),R0(Q,{validation:"base64url",code:O0.invalid_string,message:X.message}),W.dirty()}else B1.assertNever(X);return{status:W.value,value:J.data}}_regex(J,Y,W){return this.refinement((Q)=>J.test(Q),{validation:Y,code:O0.invalid_string,...k0.errToObj(W)})}_addCheck(J){return new c6({...this._def,checks:[...this._def.checks,J]})}email(J){return this._addCheck({kind:"email",...k0.errToObj(J)})}url(J){return this._addCheck({kind:"url",...k0.errToObj(J)})}emoji(J){return this._addCheck({kind:"emoji",...k0.errToObj(J)})}uuid(J){return this._addCheck({kind:"uuid",...k0.errToObj(J)})}nanoid(J){return this._addCheck({kind:"nanoid",...k0.errToObj(J)})}cuid(J){return this._addCheck({kind:"cuid",...k0.errToObj(J)})}cuid2(J){return this._addCheck({kind:"cuid2",...k0.errToObj(J)})}ulid(J){return this._addCheck({kind:"ulid",...k0.errToObj(J)})}base64(J){return this._addCheck({kind:"base64",...k0.errToObj(J)})}base64url(J){return this._addCheck({kind:"base64url",...k0.errToObj(J)})}jwt(J){return this._addCheck({kind:"jwt",...k0.errToObj(J)})}ip(J){return this._addCheck({kind:"ip",...k0.errToObj(J)})}cidr(J){return this._addCheck({kind:"cidr",...k0.errToObj(J)})}datetime(J){if(typeof J==="string")return this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:J});return this._addCheck({kind:"datetime",precision:typeof J?.precision==="undefined"?null:J?.precision,offset:J?.offset??!1,local:J?.local??!1,...k0.errToObj(J?.message)})}date(J){return this._addCheck({kind:"date",message:J})}time(J){if(typeof J==="string")return this._addCheck({kind:"time",precision:null,message:J});return this._addCheck({kind:"time",precision:typeof J?.precision==="undefined"?null:J?.precision,...k0.errToObj(J?.message)})}duration(J){return this._addCheck({kind:"duration",...k0.errToObj(J)})}regex(J,Y){return this._addCheck({kind:"regex",regex:J,...k0.errToObj(Y)})}includes(J,Y){return this._addCheck({kind:"includes",value:J,position:Y?.position,...k0.errToObj(Y?.message)})}startsWith(J,Y){return this._addCheck({kind:"startsWith",value:J,...k0.errToObj(Y)})}endsWith(J,Y){return this._addCheck({kind:"endsWith",value:J,...k0.errToObj(Y)})}min(J,Y){return this._addCheck({kind:"min",value:J,...k0.errToObj(Y)})}max(J,Y){return this._addCheck({kind:"max",value:J,...k0.errToObj(Y)})}length(J,Y){return this._addCheck({kind:"length",value:J,...k0.errToObj(Y)})}nonempty(J){return this.min(1,k0.errToObj(J))}trim(){return new c6({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new c6({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new c6({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((J)=>J.kind==="datetime")}get isDate(){return!!this._def.checks.find((J)=>J.kind==="date")}get isTime(){return!!this._def.checks.find((J)=>J.kind==="time")}get isDuration(){return!!this._def.checks.find((J)=>J.kind==="duration")}get isEmail(){return!!this._def.checks.find((J)=>J.kind==="email")}get isURL(){return!!this._def.checks.find((J)=>J.kind==="url")}get isEmoji(){return!!this._def.checks.find((J)=>J.kind==="emoji")}get isUUID(){return!!this._def.checks.find((J)=>J.kind==="uuid")}get isNANOID(){return!!this._def.checks.find((J)=>J.kind==="nanoid")}get isCUID(){return!!this._def.checks.find((J)=>J.kind==="cuid")}get isCUID2(){return!!this._def.checks.find((J)=>J.kind==="cuid2")}get isULID(){return!!this._def.checks.find((J)=>J.kind==="ulid")}get isIP(){return!!this._def.checks.find((J)=>J.kind==="ip")}get isCIDR(){return!!this._def.checks.find((J)=>J.kind==="cidr")}get isBase64(){return!!this._def.checks.find((J)=>J.kind==="base64")}get isBase64url(){return!!this._def.checks.find((J)=>J.kind==="base64url")}get minLength(){let J=null;for(let Y of this._def.checks)if(Y.kind==="min"){if(J===null||Y.value>J)J=Y.value}return J}get maxLength(){let J=null;for(let Y of this._def.checks)if(Y.kind==="max"){if(J===null||Y.value<J)J=Y.value}return J}}c6.create=(J)=>{return new c6({checks:[],typeName:u0.ZodString,coerce:J?.coerce??!1,...s0(J)})};function Lm(J,Y){let W=(J.toString().split(".")[1]||"").length,Q=(Y.toString().split(".")[1]||"").length,X=W>Q?W:Q,M=Number.parseInt(J.toFixed(X).replace(".","")),G=Number.parseInt(Y.toFixed(X).replace(".",""));return M%G/10**X}class Y9 extends W1{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(J){if(this._def.coerce)J.data=Number(J.data);if(this._getType(J)!==V0.number){let X=this._getOrReturnCtx(J);return R0(X,{code:O0.invalid_type,expected:V0.number,received:X.parsedType}),h0}let W=void 0,Q=new z2;for(let X of this._def.checks)if(X.kind==="int"){if(!B1.isInteger(J.data))W=this._getOrReturnCtx(J,W),R0(W,{code:O0.invalid_type,expected:"integer",received:"float",message:X.message}),Q.dirty()}else if(X.kind==="min"){if(X.inclusive?J.data<X.value:J.data<=X.value)W=this._getOrReturnCtx(J,W),R0(W,{code:O0.too_small,minimum:X.value,type:"number",inclusive:X.inclusive,exact:!1,message:X.message}),Q.dirty()}else if(X.kind==="max"){if(X.inclusive?J.data>X.value:J.data>=X.value)W=this._getOrReturnCtx(J,W),R0(W,{code:O0.too_big,maximum:X.value,type:"number",inclusive:X.inclusive,exact:!1,message:X.message}),Q.dirty()}else if(X.kind==="multipleOf"){if(Lm(J.data,X.value)!==0)W=this._getOrReturnCtx(J,W),R0(W,{code:O0.not_multiple_of,multipleOf:X.value,message:X.message}),Q.dirty()}else if(X.kind==="finite"){if(!Number.isFinite(J.data))W=this._getOrReturnCtx(J,W),R0(W,{code:O0.not_finite,message:X.message}),Q.dirty()}else B1.assertNever(X);return{status:Q.value,value:J.data}}gte(J,Y){return this.setLimit("min",J,!0,k0.toString(Y))}gt(J,Y){return this.setLimit("min",J,!1,k0.toString(Y))}lte(J,Y){return this.setLimit("max",J,!0,k0.toString(Y))}lt(J,Y){return this.setLimit("max",J,!1,k0.toString(Y))}setLimit(J,Y,W,Q){return new Y9({...this._def,checks:[...this._def.checks,{kind:J,value:Y,inclusive:W,message:k0.toString(Q)}]})}_addCheck(J){return new Y9({...this._def,checks:[...this._def.checks,J]})}int(J){return this._addCheck({kind:"int",message:k0.toString(J)})}positive(J){return this._addCheck({kind:"min",value:0,inclusive:!1,message:k0.toString(J)})}negative(J){return this._addCheck({kind:"max",value:0,inclusive:!1,message:k0.toString(J)})}nonpositive(J){return this._addCheck({kind:"max",value:0,inclusive:!0,message:k0.toString(J)})}nonnegative(J){return this._addCheck({kind:"min",value:0,inclusive:!0,message:k0.toString(J)})}multipleOf(J,Y){return this._addCheck({kind:"multipleOf",value:J,message:k0.toString(Y)})}finite(J){return this._addCheck({kind:"finite",message:k0.toString(J)})}safe(J){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:k0.toString(J)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:k0.toString(J)})}get minValue(){let J=null;for(let Y of this._def.checks)if(Y.kind==="min"){if(J===null||Y.value>J)J=Y.value}return J}get maxValue(){let J=null;for(let Y of this._def.checks)if(Y.kind==="max"){if(J===null||Y.value<J)J=Y.value}return J}get isInt(){return!!this._def.checks.find((J)=>J.kind==="int"||J.kind==="multipleOf"&&B1.isInteger(J.value))}get isFinite(){let J=null,Y=null;for(let W of this._def.checks)if(W.kind==="finite"||W.kind==="int"||W.kind==="multipleOf")return!0;else if(W.kind==="min"){if(Y===null||W.value>Y)Y=W.value}else if(W.kind==="max"){if(J===null||W.value<J)J=W.value}return Number.isFinite(Y)&&Number.isFinite(J)}}Y9.create=(J)=>{return new Y9({checks:[],typeName:u0.ZodNumber,coerce:J?.coerce||!1,...s0(J)})};class W9 extends W1{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte}_parse(J){if(this._def.coerce)try{J.data=BigInt(J.data)}catch{return this._getInvalidInput(J)}if(this._getType(J)!==V0.bigint)return this._getInvalidInput(J);let W=void 0,Q=new z2;for(let X of this._def.checks)if(X.kind==="min"){if(X.inclusive?J.data<X.value:J.data<=X.value)W=this._getOrReturnCtx(J,W),R0(W,{code:O0.too_small,type:"bigint",minimum:X.value,inclusive:X.inclusive,message:X.message}),Q.dirty()}else if(X.kind==="max"){if(X.inclusive?J.data>X.value:J.data>=X.value)W=this._getOrReturnCtx(J,W),R0(W,{code:O0.too_big,type:"bigint",maximum:X.value,inclusive:X.inclusive,message:X.message}),Q.dirty()}else if(X.kind==="multipleOf"){if(J.data%X.value!==BigInt(0))W=this._getOrReturnCtx(J,W),R0(W,{code:O0.not_multiple_of,multipleOf:X.value,message:X.message}),Q.dirty()}else B1.assertNever(X);return{status:Q.value,value:J.data}}_getInvalidInput(J){let Y=this._getOrReturnCtx(J);return R0(Y,{code:O0.invalid_type,expected:V0.bigint,received:Y.parsedType}),h0}gte(J,Y){return this.setLimit("min",J,!0,k0.toString(Y))}gt(J,Y){return this.setLimit("min",J,!1,k0.toString(Y))}lte(J,Y){return this.setLimit("max",J,!0,k0.toString(Y))}lt(J,Y){return this.setLimit("max",J,!1,k0.toString(Y))}setLimit(J,Y,W,Q){return new W9({...this._def,checks:[...this._def.checks,{kind:J,value:Y,inclusive:W,message:k0.toString(Q)}]})}_addCheck(J){return new W9({...this._def,checks:[...this._def.checks,J]})}positive(J){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:k0.toString(J)})}negative(J){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:k0.toString(J)})}nonpositive(J){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:k0.toString(J)})}nonnegative(J){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:k0.toString(J)})}multipleOf(J,Y){return this._addCheck({kind:"multipleOf",value:J,message:k0.toString(Y)})}get minValue(){let J=null;for(let Y of this._def.checks)if(Y.kind==="min"){if(J===null||Y.value>J)J=Y.value}return J}get maxValue(){let J=null;for(let Y of this._def.checks)if(Y.kind==="max"){if(J===null||Y.value<J)J=Y.value}return J}}W9.create=(J)=>{return new W9({checks:[],typeName:u0.ZodBigInt,coerce:J?.coerce??!1,...s0(J)})};class mY extends W1{_parse(J){if(this._def.coerce)J.data=Boolean(J.data);if(this._getType(J)!==V0.boolean){let W=this._getOrReturnCtx(J);return R0(W,{code:O0.invalid_type,expected:V0.boolean,received:W.parsedType}),h0}return w2(J.data)}}mY.create=(J)=>{return new mY({typeName:u0.ZodBoolean,coerce:J?.coerce||!1,...s0(J)})};class GJ extends W1{_parse(J){if(this._def.coerce)J.data=new Date(J.data);if(this._getType(J)!==V0.date){let X=this._getOrReturnCtx(J);return R0(X,{code:O0.invalid_type,expected:V0.date,received:X.parsedType}),h0}if(Number.isNaN(J.data.getTime())){let X=this._getOrReturnCtx(J);return R0(X,{code:O0.invalid_date}),h0}let W=new z2,Q=void 0;for(let X of this._def.checks)if(X.kind==="min"){if(J.data.getTime()<X.value)Q=this._getOrReturnCtx(J,Q),R0(Q,{code:O0.too_small,message:X.message,inclusive:!0,exact:!1,minimum:X.value,type:"date"}),W.dirty()}else if(X.kind==="max"){if(J.data.getTime()>X.value)Q=this._getOrReturnCtx(J,Q),R0(Q,{code:O0.too_big,message:X.message,inclusive:!0,exact:!1,maximum:X.value,type:"date"}),W.dirty()}else B1.assertNever(X);return{status:W.value,value:new Date(J.data.getTime())}}_addCheck(J){return new GJ({...this._def,checks:[...this._def.checks,J]})}min(J,Y){return this._addCheck({kind:"min",value:J.getTime(),message:k0.toString(Y)})}max(J,Y){return this._addCheck({kind:"max",value:J.getTime(),message:k0.toString(Y)})}get minDate(){let J=null;for(let Y of this._def.checks)if(Y.kind==="min"){if(J===null||Y.value>J)J=Y.value}return J!=null?new Date(J):null}get maxDate(){let J=null;for(let Y of this._def.checks)if(Y.kind==="max"){if(J===null||Y.value<J)J=Y.value}return J!=null?new Date(J):null}}GJ.create=(J)=>{return new GJ({checks:[],coerce:J?.coerce||!1,typeName:u0.ZodDate,...s0(J)})};class oQ extends W1{_parse(J){if(this._getType(J)!==V0.symbol){let W=this._getOrReturnCtx(J);return R0(W,{code:O0.invalid_type,expected:V0.symbol,received:W.parsedType}),h0}return w2(J.data)}}oQ.create=(J)=>{return new oQ({typeName:u0.ZodSymbol,...s0(J)})};class dY extends W1{_parse(J){if(this._getType(J)!==V0.undefined){let W=this._getOrReturnCtx(J);return R0(W,{code:O0.invalid_type,expected:V0.undefined,received:W.parsedType}),h0}return w2(J.data)}}dY.create=(J)=>{return new dY({typeName:u0.ZodUndefined,...s0(J)})};class cY extends W1{_parse(J){if(this._getType(J)!==V0.null){let W=this._getOrReturnCtx(J);return R0(W,{code:O0.invalid_type,expected:V0.null,received:W.parsedType}),h0}return w2(J.data)}}cY.create=(J)=>{return new cY({typeName:u0.ZodNull,...s0(J)})};class HJ extends W1{constructor(){super(...arguments);this._any=!0}_parse(J){return w2(J.data)}}HJ.create=(J)=>{return new HJ({typeName:u0.ZodAny,...s0(J)})};class J9 extends W1{constructor(){super(...arguments);this._unknown=!0}_parse(J){return w2(J.data)}}J9.create=(J)=>{return new J9({typeName:u0.ZodUnknown,...s0(J)})};class O4 extends W1{_parse(J){let Y=this._getOrReturnCtx(J);return R0(Y,{code:O0.invalid_type,expected:V0.never,received:Y.parsedType}),h0}}O4.create=(J)=>{return new O4({typeName:u0.ZodNever,...s0(J)})};class rQ extends W1{_parse(J){if(this._getType(J)!==V0.undefined){let W=this._getOrReturnCtx(J);return R0(W,{code:O0.invalid_type,expected:V0.void,received:W.parsedType}),h0}return w2(J.data)}}rQ.create=(J)=>{return new rQ({typeName:u0.ZodVoid,...s0(J)})};class u6 extends W1{_parse(J){let{ctx:Y,status:W}=this._processInputParams(J),Q=this._def;if(Y.parsedType!==V0.array)return R0(Y,{code:O0.invalid_type,expected:V0.array,received:Y.parsedType}),h0;if(Q.exactLength!==null){let M=Y.data.length>Q.exactLength.value,G=Y.data.length<Q.exactLength.value;if(M||G)R0(Y,{code:M?O0.too_big:O0.too_small,minimum:G?Q.exactLength.value:void 0,maximum:M?Q.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:Q.exactLength.message}),W.dirty()}if(Q.minLength!==null){if(Y.data.length<Q.minLength.value)R0(Y,{code:O0.too_small,minimum:Q.minLength.value,type:"array",inclusive:!0,exact:!1,message:Q.minLength.message}),W.dirty()}if(Q.maxLength!==null){if(Y.data.length>Q.maxLength.value)R0(Y,{code:O0.too_big,maximum:Q.maxLength.value,type:"array",inclusive:!0,exact:!1,message:Q.maxLength.message}),W.dirty()}if(Y.common.async)return Promise.all([...Y.data].map((M,G)=>{return Q.type._parseAsync(new n6(Y,M,Y.path,G))})).then((M)=>{return z2.mergeArray(W,M)});let X=[...Y.data].map((M,G)=>{return Q.type._parseSync(new n6(Y,M,Y.path,G))});return z2.mergeArray(W,X)}get element(){return this._def.type}min(J,Y){return new u6({...this._def,minLength:{value:J,message:k0.toString(Y)}})}max(J,Y){return new u6({...this._def,maxLength:{value:J,message:k0.toString(Y)}})}length(J,Y){return new u6({...this._def,exactLength:{value:J,message:k0.toString(Y)}})}nonempty(J){return this.min(1,J)}}u6.create=(J,Y)=>{return new u6({type:J,minLength:null,maxLength:null,exactLength:null,typeName:u0.ZodArray,...s0(Y)})};function bY(J){if(J instanceof L5){let Y={};for(let W in J.shape){let Q=J.shape[W];Y[W]=p6.create(bY(Q))}return new L5({...J._def,shape:()=>Y})}else if(J instanceof u6)return new u6({...J._def,type:bY(J.element)});else if(J instanceof p6)return p6.create(bY(J.unwrap()));else if(J instanceof N7)return N7.create(bY(J.unwrap()));else if(J instanceof K4)return K4.create(J.items.map((Y)=>bY(Y)));else return J}class L5 extends W1{constructor(){super(...arguments);this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let J=this._def.shape(),Y=B1.objectKeys(J);return this._cached={shape:J,keys:Y},this._cached}_parse(J){if(this._getType(J)!==V0.object){let U=this._getOrReturnCtx(J);return R0(U,{code:O0.invalid_type,expected:V0.object,received:U.parsedType}),h0}let{status:W,ctx:Q}=this._processInputParams(J),{shape:X,keys:M}=this._getCached(),G=[];if(!(this._def.catchall instanceof O4&&this._def.unknownKeys==="strip")){for(let U in Q.data)if(!M.includes(U))G.push(U)}let H=[];for(let U of M){let B=X[U],A=Q.data[U];H.push({key:{status:"valid",value:U},value:B._parse(new n6(Q,A,Q.path,U)),alwaysSet:U in Q.data})}if(this._def.catchall instanceof O4){let U=this._def.unknownKeys;if(U==="passthrough")for(let B of G)H.push({key:{status:"valid",value:B},value:{status:"valid",value:Q.data[B]}});else if(U==="strict"){if(G.length>0)R0(Q,{code:O0.unrecognized_keys,keys:G}),W.dirty()}else if(U==="strip");else throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let U=this._def.catchall;for(let B of G){let A=Q.data[B];H.push({key:{status:"valid",value:B},value:U._parse(new n6(Q,A,Q.path,B)),alwaysSet:B in Q.data})}}if(Q.common.async)return Promise.resolve().then(async()=>{let U=[];for(let B of H){let A=await B.key,N=await B.value;U.push({key:A,value:N,alwaysSet:B.alwaysSet})}return U}).then((U)=>{return z2.mergeObjectSync(W,U)});else return z2.mergeObjectSync(W,H)}get shape(){return this._def.shape()}strict(J){return k0.errToObj,new L5({...this._def,unknownKeys:"strict",...J!==void 0?{errorMap:(Y,W)=>{let Q=this._def.errorMap?.(Y,W).message??W.defaultError;if(Y.code==="unrecognized_keys")return{message:k0.errToObj(J).message??Q};return{message:Q}}}:{}})}strip(){return new L5({...this._def,unknownKeys:"strip"})}passthrough(){return new L5({...this._def,unknownKeys:"passthrough"})}extend(J){return new L5({...this._def,shape:()=>({...this._def.shape(),...J})})}merge(J){return new L5({unknownKeys:J._def.unknownKeys,catchall:J._def.catchall,shape:()=>({...this._def.shape(),...J._def.shape()}),typeName:u0.ZodObject})}setKey(J,Y){return this.augment({[J]:Y})}catchall(J){return new L5({...this._def,catchall:J})}pick(J){let Y={};for(let W of B1.objectKeys(J))if(J[W]&&this.shape[W])Y[W]=this.shape[W];return new L5({...this._def,shape:()=>Y})}omit(J){let Y={};for(let W of B1.objectKeys(this.shape))if(!J[W])Y[W]=this.shape[W];return new L5({...this._def,shape:()=>Y})}deepPartial(){return bY(this)}partial(J){let Y={};for(let W of B1.objectKeys(this.shape)){let Q=this.shape[W];if(J&&!J[W])Y[W]=Q;else Y[W]=Q.optional()}return new L5({...this._def,shape:()=>Y})}required(J){let Y={};for(let W of B1.objectKeys(this.shape))if(J&&!J[W])Y[W]=this.shape[W];else{let X=this.shape[W];while(X instanceof p6)X=X._def.innerType;Y[W]=X}return new L5({...this._def,shape:()=>Y})}keyof(){return yL(B1.objectKeys(this.shape))}}L5.create=(J,Y)=>{return new L5({shape:()=>J,unknownKeys:"strip",catchall:O4.create(),typeName:u0.ZodObject,...s0(Y)})};L5.strictCreate=(J,Y)=>{return new L5({shape:()=>J,unknownKeys:"strict",catchall:O4.create(),typeName:u0.ZodObject,...s0(Y)})};L5.lazycreate=(J,Y)=>{return new L5({shape:J,unknownKeys:"strip",catchall:O4.create(),typeName:u0.ZodObject,...s0(Y)})};class uY extends W1{_parse(J){let{ctx:Y}=this._processInputParams(J),W=this._def.options;function Q(X){for(let G of X)if(G.result.status==="valid")return G.result;for(let G of X)if(G.result.status==="dirty")return Y.common.issues.push(...G.ctx.common.issues),G.result;let M=X.map((G)=>new Z8(G.ctx.common.issues));return R0(Y,{code:O0.invalid_union,unionErrors:M}),h0}if(Y.common.async)return Promise.all(W.map(async(X)=>{let M={...Y,common:{...Y.common,issues:[]},parent:null};return{result:await X._parseAsync({data:Y.data,path:Y.path,parent:M}),ctx:M}})).then(Q);else{let X=void 0,M=[];for(let H of W){let U={...Y,common:{...Y.common,issues:[]},parent:null},B=H._parseSync({data:Y.data,path:Y.path,parent:U});if(B.status==="valid")return B;else if(B.status==="dirty"&&!X)X={result:B,ctx:U};if(U.common.issues.length)M.push(U.common.issues)}if(X)return Y.common.issues.push(...X.ctx.common.issues),X.result;let G=M.map((H)=>new Z8(H));return R0(Y,{code:O0.invalid_union,unionErrors:G}),h0}}get options(){return this._def.options}}uY.create=(J,Y)=>{return new uY({options:J,typeName:u0.ZodUnion,...s0(Y)})};var A7=(J)=>{if(J instanceof nY)return A7(J.schema);else if(J instanceof i6)return A7(J.innerType());else if(J instanceof iY)return[J.value];else if(J instanceof Q9)return J.options;else if(J instanceof lY)return B1.objectValues(J.enum);else if(J instanceof oY)return A7(J._def.innerType);else if(J instanceof dY)return[void 0];else if(J instanceof cY)return[null];else if(J instanceof p6)return[void 0,...A7(J.unwrap())];else if(J instanceof N7)return[null,...A7(J.unwrap())];else if(J instanceof bM)return A7(J.unwrap());else if(J instanceof aY)return A7(J.unwrap());else if(J instanceof rY)return A7(J._def.innerType);else return[]};class vM extends W1{_parse(J){let{ctx:Y}=this._processInputParams(J);if(Y.parsedType!==V0.object)return R0(Y,{code:O0.invalid_type,expected:V0.object,received:Y.parsedType}),h0;let W=this.discriminator,Q=Y.data[W],X=this.optionsMap.get(Q);if(!X)return R0(Y,{code:O0.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[W]}),h0;if(Y.common.async)return X._parseAsync({data:Y.data,path:Y.path,parent:Y});else return X._parseSync({data:Y.data,path:Y.path,parent:Y})}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(J,Y,W){let Q=new Map;for(let X of Y){let M=A7(X.shape[J]);if(!M.length)throw new Error(`A discriminator value for key \`${J}\` could not be extracted from all schema options`);for(let G of M){if(Q.has(G))throw new Error(`Discriminator property ${String(J)} has duplicate value ${String(G)}`);Q.set(G,X)}}return new vM({typeName:u0.ZodDiscriminatedUnion,discriminator:J,options:Y,optionsMap:Q,...s0(W)})}}function DB(J,Y){let W=Z4(J),Q=Z4(Y);if(J===Y)return{valid:!0,data:J};else if(W===V0.object&&Q===V0.object){let X=B1.objectKeys(Y),M=B1.objectKeys(J).filter((H)=>X.indexOf(H)!==-1),G={...J,...Y};for(let H of M){let U=DB(J[H],Y[H]);if(!U.valid)return{valid:!1};G[H]=U.data}return{valid:!0,data:G}}else if(W===V0.array&&Q===V0.array){if(J.length!==Y.length)return{valid:!1};let X=[];for(let M=0;M<J.length;M++){let G=J[M],H=Y[M],U=DB(G,H);if(!U.valid)return{valid:!1};X.push(U.data)}return{valid:!0,data:X}}else if(W===V0.date&&Q===V0.date&&+J===+Y)return{valid:!0,data:J};else return{valid:!1}}class pY extends W1{_parse(J){let{status:Y,ctx:W}=this._processInputParams(J),Q=(X,M)=>{if(yM(X)||yM(M))return h0;let G=DB(X.value,M.value);if(!G.valid)return R0(W,{code:O0.invalid_intersection_types}),h0;if(fM(X)||fM(M))Y.dirty();return{status:Y.value,value:G.data}};if(W.common.async)return Promise.all([this._def.left._parseAsync({data:W.data,path:W.path,parent:W}),this._def.right._parseAsync({data:W.data,path:W.path,parent:W})]).then(([X,M])=>Q(X,M));else return Q(this._def.left._parseSync({data:W.data,path:W.path,parent:W}),this._def.right._parseSync({data:W.data,path:W.path,parent:W}))}}pY.create=(J,Y,W)=>{return new pY({left:J,right:Y,typeName:u0.ZodIntersection,...s0(W)})};class K4 extends W1{_parse(J){let{status:Y,ctx:W}=this._processInputParams(J);if(W.parsedType!==V0.array)return R0(W,{code:O0.invalid_type,expected:V0.array,received:W.parsedType}),h0;if(W.data.length<this._def.items.length)return R0(W,{code:O0.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),h0;if(!this._def.rest&&W.data.length>this._def.items.length)R0(W,{code:O0.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Y.dirty();let X=[...W.data].map((M,G)=>{let H=this._def.items[G]||this._def.rest;if(!H)return null;return H._parse(new n6(W,M,W.path,G))}).filter((M)=>!!M);if(W.common.async)return Promise.all(X).then((M)=>{return z2.mergeArray(Y,M)});else return z2.mergeArray(Y,X)}get items(){return this._def.items}rest(J){return new K4({...this._def,rest:J})}}K4.create=(J,Y)=>{if(!Array.isArray(J))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new K4({items:J,typeName:u0.ZodTuple,rest:null,...s0(Y)})};class aQ extends W1{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(J){let{status:Y,ctx:W}=this._processInputParams(J);if(W.parsedType!==V0.object)return R0(W,{code:O0.invalid_type,expected:V0.object,received:W.parsedType}),h0;let Q=[],X=this._def.keyType,M=this._def.valueType;for(let G in W.data)Q.push({key:X._parse(new n6(W,G,W.path,G)),value:M._parse(new n6(W,W.data[G],W.path,G)),alwaysSet:G in W.data});if(W.common.async)return z2.mergeObjectAsync(Y,Q);else return z2.mergeObjectSync(Y,Q)}get element(){return this._def.valueType}static create(J,Y,W){if(Y instanceof W1)return new aQ({keyType:J,valueType:Y,typeName:u0.ZodRecord,...s0(W)});return new aQ({keyType:c6.create(),valueType:J,typeName:u0.ZodRecord,...s0(Y)})}}class sQ extends W1{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(J){let{status:Y,ctx:W}=this._processInputParams(J);if(W.parsedType!==V0.map)return R0(W,{code:O0.invalid_type,expected:V0.map,received:W.parsedType}),h0;let Q=this._def.keyType,X=this._def.valueType,M=[...W.data.entries()].map(([G,H],U)=>{return{key:Q._parse(new n6(W,G,W.path,[U,"key"])),value:X._parse(new n6(W,H,W.path,[U,"value"]))}});if(W.common.async){let G=new Map;return Promise.resolve().then(async()=>{for(let H of M){let U=await H.key,B=await H.value;if(U.status==="aborted"||B.status==="aborted")return h0;if(U.status==="dirty"||B.status==="dirty")Y.dirty();G.set(U.value,B.value)}return{status:Y.value,value:G}})}else{let G=new Map;for(let H of M){let{key:U,value:B}=H;if(U.status==="aborted"||B.status==="aborted")return h0;if(U.status==="dirty"||B.status==="dirty")Y.dirty();G.set(U.value,B.value)}return{status:Y.value,value:G}}}}sQ.create=(J,Y,W)=>{return new sQ({valueType:Y,keyType:J,typeName:u0.ZodMap,...s0(W)})};class UJ extends W1{_parse(J){let{status:Y,ctx:W}=this._processInputParams(J);if(W.parsedType!==V0.set)return R0(W,{code:O0.invalid_type,expected:V0.set,received:W.parsedType}),h0;let Q=this._def;if(Q.minSize!==null){if(W.data.size<Q.minSize.value)R0(W,{code:O0.too_small,minimum:Q.minSize.value,type:"set",inclusive:!0,exact:!1,message:Q.minSize.message}),Y.dirty()}if(Q.maxSize!==null){if(W.data.size>Q.maxSize.value)R0(W,{code:O0.too_big,maximum:Q.maxSize.value,type:"set",inclusive:!0,exact:!1,message:Q.maxSize.message}),Y.dirty()}let X=this._def.valueType;function M(H){let U=new Set;for(let B of H){if(B.status==="aborted")return h0;if(B.status==="dirty")Y.dirty();U.add(B.value)}return{status:Y.value,value:U}}let G=[...W.data.values()].map((H,U)=>X._parse(new n6(W,H,W.path,U)));if(W.common.async)return Promise.all(G).then((H)=>M(H));else return M(G)}min(J,Y){return new UJ({...this._def,minSize:{value:J,message:k0.toString(Y)}})}max(J,Y){return new UJ({...this._def,maxSize:{value:J,message:k0.toString(Y)}})}size(J,Y){return this.min(J,Y).max(J,Y)}nonempty(J){return this.min(1,J)}}UJ.create=(J,Y)=>{return new UJ({valueType:J,minSize:null,maxSize:null,typeName:u0.ZodSet,...s0(Y)})};class hY extends W1{constructor(){super(...arguments);this.validate=this.implement}_parse(J){let{ctx:Y}=this._processInputParams(J);if(Y.parsedType!==V0.function)return R0(Y,{code:O0.invalid_type,expected:V0.function,received:Y.parsedType}),h0;function W(G,H){return lQ({data:G,path:Y.path,errorMaps:[Y.common.contextualErrorMap,Y.schemaErrorMap,fY(),B7].filter((U)=>!!U),issueData:{code:O0.invalid_arguments,argumentsError:H}})}function Q(G,H){return lQ({data:G,path:Y.path,errorMaps:[Y.common.contextualErrorMap,Y.schemaErrorMap,fY(),B7].filter((U)=>!!U),issueData:{code:O0.invalid_return_type,returnTypeError:H}})}let X={errorMap:Y.common.contextualErrorMap},M=Y.data;if(this._def.returns instanceof BJ){let G=this;return w2(async function(...H){let U=new Z8([]),B=await G._def.args.parseAsync(H,X).catch((D)=>{throw U.addIssue(W(H,D)),U}),A=await Reflect.apply(M,this,B);return await G._def.returns._def.type.parseAsync(A,X).catch((D)=>{throw U.addIssue(Q(A,D)),U})})}else{let G=this;return w2(function(...H){let U=G._def.args.safeParse(H,X);if(!U.success)throw new Z8([W(H,U.error)]);let B=Reflect.apply(M,this,U.data),A=G._def.returns.safeParse(B,X);if(!A.success)throw new Z8([Q(B,A.error)]);return A.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...J){return new hY({...this._def,args:K4.create(J).rest(J9.create())})}returns(J){return new hY({...this._def,returns:J})}implement(J){return this.parse(J)}strictImplement(J){return this.parse(J)}static create(J,Y,W){return new hY({args:J?J:K4.create([]).rest(J9.create()),returns:Y||J9.create(),typeName:u0.ZodFunction,...s0(W)})}}class nY extends W1{get schema(){return this._def.getter()}_parse(J){let{ctx:Y}=this._processInputParams(J);return this._def.getter()._parse({data:Y.data,path:Y.path,parent:Y})}}nY.create=(J,Y)=>{return new nY({getter:J,typeName:u0.ZodLazy,...s0(Y)})};class iY extends W1{_parse(J){if(J.data!==this._def.value){let Y=this._getOrReturnCtx(J);return R0(Y,{received:Y.data,code:O0.invalid_literal,expected:this._def.value}),h0}return{status:"valid",value:J.data}}get value(){return this._def.value}}iY.create=(J,Y)=>{return new iY({value:J,typeName:u0.ZodLiteral,...s0(Y)})};function yL(J,Y){return new Q9({values:J,typeName:u0.ZodEnum,...s0(Y)})}class Q9 extends W1{_parse(J){if(typeof J.data!=="string"){let Y=this._getOrReturnCtx(J),W=this._def.values;return R0(Y,{expected:B1.joinValues(W),received:Y.parsedType,code:O0.invalid_type}),h0}if(!this._cache)this._cache=new Set(this._def.values);if(!this._cache.has(J.data)){let Y=this._getOrReturnCtx(J),W=this._def.values;return R0(Y,{received:Y.data,code:O0.invalid_enum_value,options:W}),h0}return w2(J.data)}get options(){return this._def.values}get enum(){let J={};for(let Y of this._def.values)J[Y]=Y;return J}get Values(){let J={};for(let Y of this._def.values)J[Y]=Y;return J}get Enum(){let J={};for(let Y of this._def.values)J[Y]=Y;return J}extract(J,Y=this._def){return Q9.create(J,{...this._def,...Y})}exclude(J,Y=this._def){return Q9.create(this.options.filter((W)=>!J.includes(W)),{...this._def,...Y})}}Q9.create=yL;class lY extends W1{_parse(J){let Y=B1.getValidEnumValues(this._def.values),W=this._getOrReturnCtx(J);if(W.parsedType!==V0.string&&W.parsedType!==V0.number){let Q=B1.objectValues(Y);return R0(W,{expected:B1.joinValues(Q),received:W.parsedType,code:O0.invalid_type}),h0}if(!this._cache)this._cache=new Set(B1.getValidEnumValues(this._def.values));if(!this._cache.has(J.data)){let Q=B1.objectValues(Y);return R0(W,{received:W.data,code:O0.invalid_enum_value,options:Q}),h0}return w2(J.data)}get enum(){return this._def.values}}lY.create=(J,Y)=>{return new lY({values:J,typeName:u0.ZodNativeEnum,...s0(Y)})};class BJ extends W1{unwrap(){return this._def.type}_parse(J){let{ctx:Y}=this._processInputParams(J);if(Y.parsedType!==V0.promise&&Y.common.async===!1)return R0(Y,{code:O0.invalid_type,expected:V0.promise,received:Y.parsedType}),h0;let W=Y.parsedType===V0.promise?Y.data:Promise.resolve(Y.data);return w2(W.then((Q)=>{return this._def.type.parseAsync(Q,{path:Y.path,errorMap:Y.common.contextualErrorMap})}))}}BJ.create=(J,Y)=>{return new BJ({type:J,typeName:u0.ZodPromise,...s0(Y)})};class i6 extends W1{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===u0.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(J){let{status:Y,ctx:W}=this._processInputParams(J),Q=this._def.effect||null,X={addIssue:(M)=>{if(R0(W,M),M.fatal)Y.abort();else Y.dirty()},get path(){return W.path}};if(X.addIssue=X.addIssue.bind(X),Q.type==="preprocess"){let M=Q.transform(W.data,X);if(W.common.async)return Promise.resolve(M).then(async(G)=>{if(Y.value==="aborted")return h0;let H=await this._def.schema._parseAsync({data:G,path:W.path,parent:W});if(H.status==="aborted")return h0;if(H.status==="dirty")return MJ(H.value);if(Y.value==="dirty")return MJ(H.value);return H});else{if(Y.value==="aborted")return h0;let G=this._def.schema._parseSync({data:M,path:W.path,parent:W});if(G.status==="aborted")return h0;if(G.status==="dirty")return MJ(G.value);if(Y.value==="dirty")return MJ(G.value);return G}}if(Q.type==="refinement"){let M=(G)=>{let H=Q.refinement(G,X);if(W.common.async)return Promise.resolve(H);if(H instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return G};if(W.common.async===!1){let G=this._def.schema._parseSync({data:W.data,path:W.path,parent:W});if(G.status==="aborted")return h0;if(G.status==="dirty")Y.dirty();return M(G.value),{status:Y.value,value:G.value}}else return this._def.schema._parseAsync({data:W.data,path:W.path,parent:W}).then((G)=>{if(G.status==="aborted")return h0;if(G.status==="dirty")Y.dirty();return M(G.value).then(()=>{return{status:Y.value,value:G.value}})})}if(Q.type==="transform")if(W.common.async===!1){let M=this._def.schema._parseSync({data:W.data,path:W.path,parent:W});if(!e7(M))return h0;let G=Q.transform(M.value,X);if(G instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:Y.value,value:G}}else return this._def.schema._parseAsync({data:W.data,path:W.path,parent:W}).then((M)=>{if(!e7(M))return h0;return Promise.resolve(Q.transform(M.value,X)).then((G)=>({status:Y.value,value:G}))});B1.assertNever(Q)}}i6.create=(J,Y,W)=>{return new i6({schema:J,typeName:u0.ZodEffects,effect:Y,...s0(W)})};i6.createWithPreprocess=(J,Y,W)=>{return new i6({schema:Y,effect:{type:"preprocess",transform:J},typeName:u0.ZodEffects,...s0(W)})};class p6 extends W1{_parse(J){if(this._getType(J)===V0.undefined)return w2(void 0);return this._def.innerType._parse(J)}unwrap(){return this._def.innerType}}p6.create=(J,Y)=>{return new p6({innerType:J,typeName:u0.ZodOptional,...s0(Y)})};class N7 extends W1{_parse(J){if(this._getType(J)===V0.null)return w2(null);return this._def.innerType._parse(J)}unwrap(){return this._def.innerType}}N7.create=(J,Y)=>{return new N7({innerType:J,typeName:u0.ZodNullable,...s0(Y)})};class oY extends W1{_parse(J){let{ctx:Y}=this._processInputParams(J),W=Y.data;if(Y.parsedType===V0.undefined)W=this._def.defaultValue();return this._def.innerType._parse({data:W,path:Y.path,parent:Y})}removeDefault(){return this._def.innerType}}oY.create=(J,Y)=>{return new oY({innerType:J,typeName:u0.ZodDefault,defaultValue:typeof Y.default==="function"?Y.default:()=>Y.default,...s0(Y)})};class rY extends W1{_parse(J){let{ctx:Y}=this._processInputParams(J),W={...Y,common:{...Y.common,issues:[]}},Q=this._def.innerType._parse({data:W.data,path:W.path,parent:{...W}});if(vY(Q))return Q.then((X)=>{return{status:"valid",value:X.status==="valid"?X.value:this._def.catchValue({get error(){return new Z8(W.common.issues)},input:W.data})}});else return{status:"valid",value:Q.status==="valid"?Q.value:this._def.catchValue({get error(){return new Z8(W.common.issues)},input:W.data})}}removeCatch(){return this._def.innerType}}rY.create=(J,Y)=>{return new rY({innerType:J,typeName:u0.ZodCatch,catchValue:typeof Y.catch==="function"?Y.catch:()=>Y.catch,...s0(Y)})};class tQ extends W1{_parse(J){if(this._getType(J)!==V0.nan){let W=this._getOrReturnCtx(J);return R0(W,{code:O0.invalid_type,expected:V0.nan,received:W.parsedType}),h0}return{status:"valid",value:J.data}}}tQ.create=(J)=>{return new tQ({typeName:u0.ZodNaN,...s0(J)})};var Sm=Symbol("zod_brand");class bM extends W1{_parse(J){let{ctx:Y}=this._processInputParams(J),W=Y.data;return this._def.type._parse({data:W,path:Y.path,parent:Y})}unwrap(){return this._def.type}}class eQ extends W1{_parse(J){let{status:Y,ctx:W}=this._processInputParams(J);if(W.common.async)return(async()=>{let X=await this._def.in._parseAsync({data:W.data,path:W.path,parent:W});if(X.status==="aborted")return h0;if(X.status==="dirty")return Y.dirty(),MJ(X.value);else return this._def.out._parseAsync({data:X.value,path:W.path,parent:W})})();else{let Q=this._def.in._parseSync({data:W.data,path:W.path,parent:W});if(Q.status==="aborted")return h0;if(Q.status==="dirty")return Y.dirty(),{status:"dirty",value:Q.value};else return this._def.out._parseSync({data:Q.value,path:W.path,parent:W})}}static create(J,Y){return new eQ({in:J,out:Y,typeName:u0.ZodPipeline})}}class aY extends W1{_parse(J){let Y=this._def.innerType._parse(J),W=(Q)=>{if(e7(Q))Q.value=Object.freeze(Q.value);return Q};return vY(Y)?Y.then((Q)=>W(Q)):W(Y)}unwrap(){return this._def.innerType}}aY.create=(J,Y)=>{return new aY({innerType:J,typeName:u0.ZodReadonly,...s0(Y)})};function wL(J,Y){let W=typeof J==="function"?J(Y):typeof J==="string"?{message:J}:J;return typeof W==="string"?{message:W}:W}function fL(J,Y={},W){if(J)return HJ.create().superRefine((Q,X)=>{let M=J(Q);if(M instanceof Promise)return M.then((G)=>{if(!G){let H=wL(Y,Q),U=H.fatal??W??!0;X.addIssue({code:"custom",...H,fatal:U})}});if(!M){let G=wL(Y,Q),H=G.fatal??W??!0;X.addIssue({code:"custom",...G,fatal:H})}return});return HJ.create()}var Vm={object:L5.lazycreate},u0;(function(J){J.ZodString="ZodString",J.ZodNumber="ZodNumber",J.ZodNaN="ZodNaN",J.ZodBigInt="ZodBigInt",J.ZodBoolean="ZodBoolean",J.ZodDate="ZodDate",J.ZodSymbol="ZodSymbol",J.ZodUndefined="ZodUndefined",J.ZodNull="ZodNull",J.ZodAny="ZodAny",J.ZodUnknown="ZodUnknown",J.ZodNever="ZodNever",J.ZodVoid="ZodVoid",J.ZodArray="ZodArray",J.ZodObject="ZodObject",J.ZodUnion="ZodUnion",J.ZodDiscriminatedUnion="ZodDiscriminatedUnion",J.ZodIntersection="ZodIntersection",J.ZodTuple="ZodTuple",J.ZodRecord="ZodRecord",J.ZodMap="ZodMap",J.ZodSet="ZodSet",J.ZodFunction="ZodFunction",J.ZodLazy="ZodLazy",J.ZodLiteral="ZodLiteral",J.ZodEnum="ZodEnum",J.ZodEffects="ZodEffects",J.ZodNativeEnum="ZodNativeEnum",J.ZodOptional="ZodOptional",J.ZodNullable="ZodNullable",J.ZodDefault="ZodDefault",J.ZodCatch="ZodCatch",J.ZodPromise="ZodPromise",J.ZodBranded="ZodBranded",J.ZodPipeline="ZodPipeline",J.ZodReadonly="ZodReadonly"})(u0||(u0={}));var Fm=(J,Y={message:`Input not instance of ${J.name}`})=>fL((W)=>W instanceof J,Y),vL=c6.create,bL=Y9.create,Em=tQ.create,jm=W9.create,hL=mY.create,Pm=GJ.create,Cm=oQ.create,Im=dY.create,Rm=cY.create,Tm=HJ.create,_m=J9.create,wm=O4.create,km=rQ.create,xm=u6.create,gm=L5.create,ym=L5.strictCreate,fm=uY.create,vm=vM.create,bm=pY.create,hm=K4.create,mm=aQ.create,dm=sQ.create,cm=UJ.create,um=hY.create,pm=nY.create,nm=iY.create,im=Q9.create,lm=lY.create,om=BJ.create,rm=i6.create,am=p6.create,sm=N7.create,tm=i6.createWithPreprocess,em=eQ.create,Jd=()=>vL().optional(),Yd=()=>bL().optional(),Wd=()=>hL().optional(),Qd={string:(J)=>c6.create({...J,coerce:!0}),number:(J)=>Y9.create({...J,coerce:!0}),boolean:(J)=>mY.create({...J,coerce:!0}),bigint:(J)=>W9.create({...J,coerce:!0}),date:(J)=>GJ.create({...J,coerce:!0})};var $d=h0;var Xd=Y0.object({name:Y0.string().regex(/^x-/),component:Y0.unknown()}),mL=Y0.function().returns(Y0.object({name:Y0.string(),extensions:Y0.array(Xd)}));var dL=[["--theme-","--scalar-"],["--sidebar-","--scalar-sidebar-"]],Md=dL.map(([J])=>J);function hM(J){if(!Md.some((W)=>J.includes(W)))return J;return console.warn("DEPRECATION WARNING: It looks like you're using legacy CSS variables in your custom CSS string. Please migrate them to use the updated prefixes. See https://github.com/scalar/scalar/blob/main/documentation/themes.md#theme-prefix-changes"),dL.reduce((W,[Q,X])=>W.replaceAll(Q,X),J)}var Gd=Y0.enum(["alternate","default","moon","purple","solarized","bluePlanet","deepSpace","saturn","kepler","elysiajs","fastify","mars","none"]),Hd=Y0.enum(["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"]),Ud=Y0.enum(["adonisjs","docusaurus","dotnet","elysiajs","express","fastapi","fastify","go","hono","html","laravel","litestar","nestjs","nextjs","nitro","nuxt","platformatic","react","rust","vue"]).nullable(),uL=Y0.object({url:Y0.string().optional(),content:Y0.union([Y0.string(),Y0.record(Y0.any()),Y0.function().returns(Y0.record(Y0.any())),Y0.null()]).optional(),title:Y0.string().optional(),slug:Y0.string().optional()}),Bd=Y0.object({basePath:Y0.string()}),pL=Y0.object({url:Y0.string().optional(),content:Y0.union([Y0.string(),Y0.record(Y0.any()),Y0.function().returns(Y0.record(Y0.any())),Y0.null()]).optional(),title:Y0.string().optional(),slug:Y0.string().optional(),spec:uL.optional(),authentication:Y0.any().optional(),baseServerURL:Y0.string().optional(),hideClientButton:Y0.boolean().optional().default(!1).catch(!1),proxyUrl:Y0.string().optional(),searchHotKey:Hd.optional(),servers:Y0.array(Y0.any()).optional(),showSidebar:Y0.boolean().optional().default(!0).catch(!0),theme:Gd.optional().default("default").catch("default"),_integration:Ud.optional(),onRequestSent:Y0.function().args(Y0.string()).returns(Y0.void()).optional()}),cL="https://api.scalar.com/request-proxy",ZB="https://proxy.scalar.com",Ad=pL.merge(Y0.object({layout:Y0.enum(["modern","classic"]).optional().default("modern").catch("modern"),proxy:Y0.string().optional(),plugins:Y0.array(mL).optional(),isEditable:Y0.boolean().optional().default(!1).catch(!1),isLoading:Y0.boolean().optional().default(!1).catch(!1),hideModels:Y0.boolean().optional().default(!1).catch(!1),hideDownloadButton:Y0.boolean().optional().default(!1).catch(!1),hideTestRequestButton:Y0.boolean().optional().default(!1).catch(!1),hideSearch:Y0.boolean().optional().default(!1).catch(!1),darkMode:Y0.boolean().optional(),forceDarkModeState:Y0.enum(["dark","light"]).optional(),hideDarkModeToggle:Y0.boolean().optional().default(!1).catch(!1),metaData:Y0.any().optional(),favicon:Y0.string().optional(),hiddenClients:Y0.union([Y0.record(Y0.union([Y0.boolean(),Y0.array(Y0.string())])),Y0.array(Y0.string()),Y0.literal(!0)]).optional(),defaultHttpClient:Y0.object({targetKey:Y0.custom(),clientKey:Y0.string()}).optional(),customCss:Y0.string().optional(),onSpecUpdate:Y0.function().args(Y0.string()).returns(Y0.void()).optional(),onServerChange:Y0.function().args(Y0.string()).returns(Y0.void()).optional(),onDocumentSelect:Y0.function().returns(Y0.void().or(Y0.void().promise())).optional(),onLoaded:Y0.function().returns(Y0.void().or(Y0.void().promise())).optional(),onShowMore:Y0.function().args(Y0.string()).returns(Y0.void().or(Y0.void().promise())).optional(),onSidebarClick:Y0.function().args(Y0.string()).returns(Y0.void().or(Y0.void().promise())).optional(),pathRouting:Bd.optional(),generateHeadingSlug:Y0.function().args(Y0.object({slug:Y0.string().default("headingSlug")})).returns(Y0.string()).optional(),generateModelSlug:Y0.function().args(Y0.object({name:Y0.string().default("modelName")})).returns(Y0.string()).optional(),generateTagSlug:Y0.function().args(Y0.object({name:Y0.string().default("tagName")})).returns(Y0.string()).optional(),generateOperationSlug:Y0.function().args(Y0.object({path:Y0.string(),operationId:Y0.string().optional(),method:Y0.string(),summary:Y0.string().optional()})).returns(Y0.string()).optional(),generateWebhookSlug:Y0.function().args(Y0.object({name:Y0.string(),method:Y0.string().optional()})).returns(Y0.string()).optional(),redirect:Y0.function().args(Y0.string()).returns(Y0.string().nullable().optional()).optional(),withDefaultFonts:Y0.boolean().optional().default(!0).catch(!0),defaultOpenAllTags:Y0.boolean().optional(),tagsSorter:Y0.union([Y0.literal("alpha"),Y0.function().args(Y0.any(),Y0.any()).returns(Y0.number())]).optional(),operationsSorter:Y0.union([Y0.literal("alpha"),Y0.literal("method"),Y0.function().args(Y0.any(),Y0.any()).returns(Y0.number())]).optional()})),Nd=(J)=>{let Y={...J};if(Y.spec?.url)console.warn("[DEPRECATED] You're using the deprecated 'spec.url' attribute. Remove the spec prefix and move the 'url' attribute to the top level."),Y.url=Y.spec.url,delete Y.spec;if(Y.spec?.content)console.warn("[DEPRECATED] You're using the deprecated 'spec.content' attribute. Remove the spec prefix and move the 'content' attribute to the top level."),Y.content=Y.spec.content,delete Y.spec;if(Y.customCss)Y.customCss=hM(Y.customCss);if(Y.proxy){if(console.warn("[DEPRECATED] You're using the deprecated 'proxy' attribute, rename it to 'proxyUrl' or update the package."),!Y.proxyUrl)Y.proxyUrl=Y.proxy;delete Y.proxy}if(Y.proxyUrl===cL)console.warn(`[DEPRECATED] Warning: configuration.proxyUrl points to our old proxy (${cL}).`),console.warn(`[DEPRECATED] We are overwriting the value and use the new proxy URL (${ZB}) instead.`),console.warn(`[DEPRECATED] Action Required: You should manually update your configuration to use the new URL (${ZB}). Read more: https://github.com/scalar/scalar`),Y.proxyUrl=ZB;return Y},qd=Ad.transform(Nd);var Dd=Y0.object({cdn:Y0.string().optional().default("https://cdn.jsdelivr.net/npm/@scalar/api-reference"),pageTitle:Y0.string().optional().default("Scalar API Reference")});var Zd={alternate:zL,default:VL,moon:PL,elysiajs:gM,fastify:FL,purple:CL,solarized:RL,bluePlanet:LL,deepSpace:SL,saturn:IL,kepler:EL,mars:jL};var $L0=Object.keys(Zd);function OB(J){return"type"in J||"properties"in J||"items"in J}function Od(J,Y){return(J==="createdAt"||J==="updatedAt")&&"anyOf"in Y&&Array.isArray(Y.anyOf)}function lL(J){if(!OB(J)||typeof J!=="object"||J===null)return J;let Y={...J};return Object.entries(Y).forEach(([W,Q])=>{if(OB(Q))if(Od(W,Q)){let X=Q.anyOf?.find((M)=>OB(M)&&M.format==="date-time");if(X){let M={type:"string",format:"date-time",default:X.default};Y[W]=M}}else Y[W]=lL(Q)}),Y}var Kd=(J,Y,W,Q,X)=>{let M=JSON.parse(Q);if(M.components&&M.components.schemas)M.components.schemas=Object.fromEntries(Object.entries(M.components.schemas).map(([H,U])=>[H,lL(U)]));let G=JSON.stringify(M);return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>${J.title}</title>
    <meta
        name="description"
        content="${J.description}"
    />
    <meta
        name="og:description"
        content="${J.description}"
    />
    ${X&&typeof W==="string"?`
    <style>
        @media (prefers-color-scheme: dark) {
            body {
                background-color: #222;
                color: #faf9a;
            }
            .swagger-ui {
                filter: invert(92%) hue-rotate(180deg);
            }

            .swagger-ui .microlight {
                filter: invert(100%) hue-rotate(180deg);
            }
        }
    </style>`:""}
    ${typeof W==="string"?`<link rel="stylesheet" href="${W}" />`:`<link rel="stylesheet" media="(prefers-color-scheme: light)" href="${W.light}" />
<link rel="stylesheet" media="(prefers-color-scheme: dark)" href="${W.dark}" />`}
</head>
<body>
    <div id="swagger-ui"></div>
    <script src="https://unpkg.com/swagger-ui-dist@${Y}/swagger-ui-bundle.js" crossorigin></script>
    <script>
        window.onload = () => {
            window.ui = SwaggerUIBundle(${G});
        };
    </script>
</body>
</html>`},zd=(J,Y,W,Q)=>`<!doctype html>
<html>
  <head>
    <title>${J.title}</title>
    <meta
        name="description"
        content="${J.description}"
    />
    <meta
        name="og:description"
        content="${J.description}"
    />
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1" />
    <style>
      body {
        margin: 0;
      }
    </style>
    <style>
      ${W.customCss??gM}
    </style>
  </head>
  <body>
    <script
      id="api-reference"
      data-url="${W.spec?.url}"
      data-configuration='${JSON.stringify(W)}'
    >
    </script>
    <script src="${Q?Q:`https://cdn.jsdelivr.net/npm/@scalar/api-reference@${Y}/dist/browser/standalone.min.js`}" crossorigin></script>
  </body>
</html>`,UL0=Symbol.for("TypeBox.Transform"),BL0=Symbol.for("TypeBox.Readonly"),AL0=Symbol.for("TypeBox.Optional"),NL0=Symbol.for("TypeBox.Hint"),zB=Symbol.for("TypeBox.Kind"),Ld=(J)=>J.split("/").map((Y)=>{if(Y.startsWith(":")){if(Y=Y.slice(1,Y.length),Y.endsWith("?"))Y=Y.slice(0,-1);Y=`{${Y}}`}return Y}).join("/"),KB=(J,Y,W)=>{if(Y===void 0)return[];if(typeof Y==="string")if(Y in W)Y=W[Y];else throw new Error(`Can't find model ${Y}`);return Object.entries(Y?.properties??[]).map(([Q,X])=>{let{type:M=void 0,description:G,examples:H,...U}=X;return{description:G,examples:H,schema:{type:M,...U},in:J,name:Q,required:Y.required?.includes(Q)??!1}})},J$=(J,Y)=>{if(typeof Y==="object"&&["void","undefined","null"].includes(Y.type))return;let W={};for(let Q of J)W[Q]={schema:typeof Y==="string"?{$ref:`#/components/schemas/${Y}`}:("$ref"in Y)&&(zB in Y)&&Y[zB]==="Ref"?{...Y,$ref:`#/components/schemas/${Y.$ref}`}:fQ({...Y},{from:Z.Ref(""),to:({$ref:X,...M})=>{if(!X.startsWith("#/components/schemas/"))return Z.Ref(`#/components/schemas/${X}`,M);return Z.Ref(X,M)}})};return W},nL=(J)=>J.charAt(0).toUpperCase()+J.slice(1),Sd=(J,Y)=>{let W=J.toLowerCase();if(Y==="/")return W+"Index";for(let Q of Y.split("/"))if(Q.charCodeAt(0)===123)W+="By"+nL(Q.slice(1,-1));else W+=nL(Q);return W},sY=(J)=>{if(!J)return;if(typeof J==="string")return J;if(Array.isArray(J))return[...J];return{...J}},iL=({schema:J,path:Y,method:W,hook:Q,models:X})=>{if(Q=sY(Q),Q.parse&&!Array.isArray(Q.parse))Q.parse=[Q.parse];let M=Q.parse?.map((q)=>{switch(typeof q){case"string":return q;case"object":if(q&&typeof q?.fn!=="string")return;switch(q?.fn){case"json":case"application/json":return"application/json";case"text":case"text/plain":return"text/plain";case"urlencoded":case"application/x-www-form-urlencoded":return"application/x-www-form-urlencoded";case"arrayBuffer":case"application/octet-stream":return"application/octet-stream";case"formdata":case"multipart/form-data":return"multipart/form-data"}}}).filter((q)=>q!==void 0);if(!M||M.length===0)M=["application/json","multipart/form-data","text/plain"];Y=Ld(Y);let G=typeof M==="string"?[M]:M??["application/json"],H=sY(Q?.body),U=sY(Q?.params),B=sY(Q?.headers),A=sY(Q?.query),N=sY(Q?.response);if(typeof N==="object")if(zB in N){let{type:q,properties:K,required:O,additionalProperties:z,patternProperties:V,$ref:L,...S}=N;N={"200":{...S,description:S.description,content:J$(G,q==="object"||q==="array"?{type:q,properties:K,patternProperties:V,items:N.items,required:O}:N)}}}else Object.entries(N).forEach(([q,K])=>{if(typeof K==="string"){if(!X[K])return;let{type:O,properties:z,required:V,additionalProperties:L,patternProperties:S,...g}=X[K];N[q]={...g,description:g.description,content:J$(G,K)}}else{let{type:O,properties:z,required:V,additionalProperties:L,patternProperties:S,...g}=K;N[q]={...g,description:g.description,content:J$(G,O==="object"||O==="array"?{type:O,properties:z,patternProperties:S,items:K.items,required:V}:K)}}});else if(typeof N==="string"){if(!(N in X))return;let{type:q,properties:K,required:O,$ref:z,additionalProperties:V,patternProperties:L,...S}=X[N];N={"200":{...S,content:J$(G,N)}}}let D=[...KB("header",B,X),...KB("path",U,X),...KB("query",A,X)];J[Y]={...J[Y]?J[Y]:{},[W.toLowerCase()]:{...B||U||A||H?{parameters:D}:{},...N?{responses:N}:{},operationId:Q?.detail?.operationId??Sd(W,Y),...Q?.detail,...H?{requestBody:{required:!0,content:J$(G,typeof H==="string"?{$ref:`#/components/schemas/${H}`}:H)}}:null}}},Vd=(J,{excludeStaticFile:Y=!0,exclude:W=[]})=>{let Q={};for(let[X,M]of Object.entries(J))if(!W.some((G)=>{if(typeof G==="string")return X===G;return G.test(X)})&&!X.includes("*")&&(Y?!X.includes("."):!0))Object.keys(M).forEach((G)=>{let H=M[G];if(X.includes("{")){if(!H.parameters)H.parameters=[];H.parameters=[...X.split("/").filter((U)=>U.startsWith("{")&&!H.parameters.find((B)=>B.in==="path"&&B.name===U.slice(1,U.length-1))).map((U)=>({schema:{type:"string"},in:"path",name:U.slice(1,U.length-1),required:!0})),...H.parameters]}if(!H.responses)H.responses={200:{}}}),Q[X]=M;return Q},Fd=({provider:J="scalar",scalarVersion:Y="latest",scalarCDN:W="",scalarConfig:Q={},documentation:X={},version:M="5.9.0",excludeStaticFile:G=!0,path:H="/swagger",specPath:U=`${H}/json`,exclude:B=[],swaggerOptions:A={},theme:N=`https://unpkg.com/swagger-ui-dist@${M}/swagger-ui.css`,autoDarkMode:D=!0,excludeMethods:q=["OPTIONS"],excludeTags:K=[]}={})=>{let O={},z=0;if(!M)M=`https://unpkg.com/swagger-ui-dist@${M}/swagger-ui.css`;let V={title:"Elysia Documentation",description:"Development documentation",version:"0.0.0",...X.info},L=U.startsWith("/")?U.slice(1):U,S=new a0({name:"@elysiajs/swagger"}),g=new Response(J==="swagger-ui"?Kd(V,M,N,JSON.stringify({url:L,dom_id:"#swagger-ui",...A},(d,I)=>typeof I==="function"?void 0:I),D):zd(V,Y,{spec:{url:L,...Q.spec},...Q,_integration:"elysiajs"},W),{headers:{"content-type":"text/html; charset=utf8"}});return S.get(H,g,{detail:{hide:!0}}).get(U,function d(){let I=S.getGlobalRoutes();if(I.length!==z){let F=["GET","PUT","POST","DELETE","OPTIONS","HEAD","PATCH","TRACE"];z=I.length,I.forEach((R)=>{if(R.hooks?.detail?.hide===!0)return;if(q.includes(R.method))return;if(F.includes(R.method)===!1&&R.method!=="ALL")return;if(R.method==="ALL")F.forEach((j)=>{iL({schema:O,hook:R.hooks,method:j,path:R.path,models:S.getGlobalDefinitions?.().type,contentType:R.hooks.type})});else iL({schema:O,hook:R.hooks,method:R.method,path:R.path,models:S.getGlobalDefinitions?.().type,contentType:R.hooks.type})})}return{openapi:"3.0.3",...{...X,tags:X.tags?.filter((F)=>!K?.includes(F?.name)),info:{title:"Elysia Documentation",description:"Development documentation",version:"0.0.0",...X.info}},paths:{...Vd(O,{excludeStaticFile:G,exclude:Array.isArray(B)?B:[B]}),...X.paths},components:{...X.components,schemas:{...S.getGlobalDefinitions?.().type,...X.components?.schemas}}}},{detail:{hide:!0}}),S},oL=Fd;var Ed=typeof new Headers()?.toJSON==="function",jd=(J)=>{if(Ed)return Object.keys(J.toJSON()).join(", ");let Y="",W=0;return J.forEach((Q,X)=>{if(W)Y=Y+", "+X;else Y=X;W++}),Y},LB=(J)=>{let{aot:Y=!0,origin:W=!0,methods:Q=!0,allowedHeaders:X=!0,exposeHeaders:M=!0,credentials:G=!0,maxAge:H=5,preflight:U=!0}=J??{};if(Array.isArray(X))X=X.join(", ");if(Array.isArray(M))M=M.join(", ");let B=typeof W==="boolean"?void 0:Array.isArray(W)?W:[W],A=new a0({name:"@elysiajs/cors",seed:J,aot:Y}),N=B?.some((L)=>L==="*"),D={};if(B){for(let L of B)if(typeof L==="string")D[L]=!0}let q=(L,S,g)=>{if(Array.isArray(L))return L.some((d)=>q(d,S,g));switch(typeof L){case"string":if(g in D)return!0;let d=g.indexOf("://");if(d!==-1)g=g.slice(d+3);return L===g;case"function":return L(S)===!0;case"object":if(L instanceof RegExp)return L.test(g)}return!1},K=(L,S)=>{if(W===!0){L.headers.vary="*",L.headers["access-control-allow-origin"]=S.headers.get("Origin")||"*";return}if(N){L.headers.vary="*",L.headers["access-control-allow-origin"]="*";return}if(!B?.length)return;let g=[];if(B.length){let d=S.headers.get("Origin")??"";for(let I=0;I<B.length;I++)if(q(B[I],S,d)===!0){L.headers.vary=W?"Origin":"*",L.headers["access-control-allow-origin"]=d||"*";return}}if(L.headers.vary="Origin",g.length)L.headers["access-control-allow-origin"]=g.join(", ")},O=(L,S)=>{if(!S)return;if(Q===!0)return L.headers["access-control-allow-methods"]=S??"*";if(Q===!1||!Q?.length)return;if(Q==="*")return L.headers["access-control-allow-methods"]="*";if(!Array.isArray(Q))return L.headers["access-control-allow-methods"]=Q;L.headers["access-control-allow-methods"]=Q.join(", ")},z={};if(typeof M==="string")z["access-control-expose-headers"]=M;if(typeof X==="string")z["access-control-allow-headers"]=X;if(G===!0)z["access-control-allow-credentials"]="true";A.headers(z);function V({set:L,request:S,headers:g}){if(K(L,S),O(L,S.headers.get("access-control-request-method")),X===!0||M===!0){if(X===!0)L.headers["access-control-allow-headers"]=g["access-control-request-headers"];if(M===!0)L.headers["access-control-expose-headers"]=Object.keys(g).join(",")}if(H)L.headers["access-control-max-age"]=H.toString();return new Response(null,{status:204})}if(U)A.options("/",V).options("/*",V);return A.onRequest(function L({set:S,request:g}){if(K(S,g),O(S,g.method),X===!0||M===!0){let d=jd(g.headers);if(X===!0)S.headers["access-control-allow-headers"]=d;if(M===!0)S.headers["access-control-expose-headers"]=d}})},rL=LB;var aL=LB({origin:"*"});var $9=Z.Object({id:Z.String(),firstname:Z.String(),lastname:Z.String(),username:Z.String(),password:Z.String(),email:Z.Optional(Z.String()),role:Z.UnionEnum(["SUPERADMIN","ADMIN","OFFICER","USER"]),createdAt:Z.Date(),updatedAt:Z.Date()}),SB=Z.Object({firstname:Z.String(),lastname:Z.String(),username:Z.String(),password:Z.String(),email:Z.Optional(Z.String()),role:Z.Optional(Z.UnionEnum(["SUPERADMIN","ADMIN","OFFICER","USER"]))}),sL=Z.Partial(SB);import*as uF from"process";import*as C$ from"path";import{fileURLToPath as Hr}from"url";import*as pS from"module";import*as nS from"path";import*as x0 from"process";import*as iS from"url";import qc from"fs";import Kc from"child_process";import QV from"fs/promises";import kB from"os";import{promisify as Ec}from"util";import UA from"process";import X5 from"path";import $S from"fs";import cM from"path";import hB from"fs";import Z$ from"path";import lp from"fs";import{AsyncResource as Bi}from"async_hooks";import{EventEmitter as Ai}from"events";import Ni from"fs";import jB from"path";import Kl from"fs";import aM from"path";import RS from"os";import Bo from"path";var __dirname="C:\\Users\\D3C3M\\Desktop\\backend_cake\\node_modules\\@prisma\\client\\runtime",QA=iS.fileURLToPath(import.meta.url);globalThis.__dirname=nS.dirname(QA);var tY=pS.createRequire(import.meta.url),Pd=Object.create,$A=Object.defineProperty,Cd=Object.getOwnPropertyDescriptor,Id=Object.getOwnPropertyNames,Rd=Object.getPrototypeOf,Td=Object.prototype.hasOwnProperty,YW=((J)=>typeof tY<"u"?tY:typeof Proxy<"u"?new Proxy(J,{get:(Y,W)=>(typeof tY<"u"?tY:Y)[W]}):J)(function(J){if(typeof tY<"u")return tY.apply(this,arguments);throw Error('Dynamic require of "'+J+'" is not supported')}),lS=(J,Y)=>()=>(J&&(Y=J(J=0)),Y),W6=(J,Y)=>()=>(Y||J((Y={exports:{}}).exports,Y),Y.exports),HW=(J,Y)=>{for(var W in Y)$A(J,W,{get:Y[W],enumerable:!0})},_d=(J,Y,W,Q)=>{if(Y&&typeof Y=="object"||typeof Y=="function")for(let X of Id(Y))!Td.call(J,X)&&X!==W&&$A(J,X,{get:()=>Y[X],enumerable:!(Q=Cd(Y,X))||Q.enumerable});return J},Q6=(J,Y,W)=>(W=J!=null?Pd(Rd(J)):{},_d(Y||!J||!J.__esModule?$A(W,"default",{value:J,enumerable:!0}):W,J)),oS=W6((J,Y)=>{Y.exports=(W,Q=x0.argv)=>{let X=W.startsWith("-")?"":W.length===1?"-":"--",M=Q.indexOf(X+W),G=Q.indexOf("--");return M!==-1&&(G===-1||M<G)}}),wd=W6((J,Y)=>{var W=YW("node:os"),Q=YW("node:tty"),X=oS(),{env:M}=x0,G;X("no-color")||X("no-colors")||X("color=false")||X("color=never")?G=0:(X("color")||X("colors")||X("color=true")||X("color=always"))&&(G=1),"FORCE_COLOR"in M&&(M.FORCE_COLOR==="true"?G=1:M.FORCE_COLOR==="false"?G=0:G=M.FORCE_COLOR.length===0?1:Math.min(parseInt(M.FORCE_COLOR,10),3));function H(A){return A===0?!1:{level:A,hasBasic:!0,has256:A>=2,has16m:A>=3}}function U(A,N){if(G===0)return 0;if(X("color=16m")||X("color=full")||X("color=truecolor"))return 3;if(X("color=256"))return 2;if(A&&!N&&G===void 0)return 0;let D=G||0;if(M.TERM==="dumb")return D;if(x0.platform==="win32"){let q=W.release().split(".");return Number(q[0])>=10&&Number(q[2])>=10586?Number(q[2])>=14931?3:2:1}if("CI"in M)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((q)=>(q in M))||M.CI_NAME==="codeship"?1:D;if("TEAMCITY_VERSION"in M)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(M.TEAMCITY_VERSION)?1:0;if(M.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in M){let q=parseInt((M.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(M.TERM_PROGRAM){case"iTerm.app":return q>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(M.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(M.TERM)||("COLORTERM"in M)?1:D}function B(A){let N=U(A,A&&A.isTTY);return H(N)}Y.exports={supportsColor:B,stdout:H(U(!0,Q.isatty(1))),stderr:H(U(!0,Q.isatty(2)))}}),kd=W6((J,Y)=>{var W=wd(),Q=oS();function X(G){if(/^\d{3,4}$/.test(G)){let U=/(\d{1,2})(\d{2})/.exec(G)||[];return{major:0,minor:parseInt(U[1],10),patch:parseInt(U[2],10)}}let H=(G||"").split(".").map((U)=>parseInt(U,10));return{major:H[0],minor:H[1],patch:H[2]}}function M(G){let{CI:H,FORCE_HYPERLINK:U,NETLIFY:B,TEAMCITY_VERSION:A,TERM_PROGRAM:N,TERM_PROGRAM_VERSION:D,VTE_VERSION:q,TERM:K}=x0.env;if(U)return!(U.length>0&&parseInt(U,10)===0);if(Q("no-hyperlink")||Q("no-hyperlinks")||Q("hyperlink=false")||Q("hyperlink=never"))return!1;if(Q("hyperlink=true")||Q("hyperlink=always")||B)return!0;if(!W.supportsColor(G)||G&&!G.isTTY)return!1;if("WT_SESSION"in x0.env)return!0;if(x0.platform==="win32"||H||A)return!1;if(N){let O=X(D||"");switch(N){case"iTerm.app":return O.major===3?O.minor>=1:O.major>3;case"WezTerm":return O.major>=20200620;case"vscode":return O.major>1||O.major===1&&O.minor>=72;case"ghostty":return!0}}if(q){if(q==="0.50.0")return!1;let O=X(q);return O.major>0||O.minor>=50}switch(K){case"alacritty":return!0}return!1}Y.exports={supportsHyperlink:M,stdout:M(x0.stdout),stderr:M(x0.stderr)}}),xd=W6((J,Y)=>{Y.exports={name:"@prisma/internals",version:"6.16.2",description:"This package is intended for Prisma's internal use",main:"dist/index.js",types:"dist/index.d.ts",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/internals"},homepage:"https://www.prisma.io",author:"Tim Suchanek <suchanek@prisma.io>",bugs:"https://github.com/prisma/prisma/issues",license:"Apache-2.0",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",test:"dotenv -e ../../.db.env -- jest --silent",prepublishOnly:"pnpm run build"},files:["README.md","dist","!**/libquery_engine*","!dist/get-generators/engines/*","scripts"],devDependencies:{"@babel/helper-validator-identifier":"7.25.9","@opentelemetry/api":"1.9.0","@swc/core":"1.11.5","@swc/jest":"0.2.37","@types/babel__helper-validator-identifier":"7.15.2","@types/jest":"29.5.14","@types/node":"18.19.76","@types/resolve":"1.20.6",archiver:"6.0.2","checkpoint-client":"1.1.33","cli-truncate":"4.0.0",dotenv:"16.5.0",empathic:"2.0.0","escape-string-regexp":"5.0.0",execa:"5.1.1","fast-glob":"3.3.3","find-up":"7.0.0","fp-ts":"2.16.9","fs-extra":"11.3.0","fs-jetpack":"5.1.0","global-directory":"4.0.0",globby:"11.1.0","identifier-regex":"1.0.0","indent-string":"4.0.0","is-windows":"1.0.2","is-wsl":"3.1.0",jest:"29.7.0","jest-junit":"16.0.0",kleur:"4.1.5","mock-stdin":"1.0.0","new-github-issue-url":"0.2.1","node-fetch":"3.3.2","npm-packlist":"5.1.3",open:"7.4.2","p-map":"4.0.0",resolve:"1.22.10","string-width":"7.2.0","strip-indent":"4.0.0","temp-dir":"2.0.0",tempy:"1.0.1","terminal-link":"4.0.0",tmp:"0.2.3","ts-pattern":"5.6.2","ts-toolbelt":"9.6.0",typescript:"5.4.5",yarn:"1.22.22"},dependencies:{"@prisma/config":"workspace:*","@prisma/debug":"workspace:*","@prisma/dmmf":"workspace:*","@prisma/driver-adapter-utils":"workspace:*","@prisma/engines":"workspace:*","@prisma/fetch-engine":"workspace:*","@prisma/generator":"workspace:*","@prisma/generator-helper":"workspace:*","@prisma/get-platform":"workspace:*","@prisma/prisma-schema-wasm":"6.16.0-7.1c57fdcd7e44b29b9313256c76699e91c3ac3c43","@prisma/schema-engine-wasm":"6.16.0-7.1c57fdcd7e44b29b9313256c76699e91c3ac3c43","@prisma/schema-files-loader":"workspace:*",arg:"5.0.2",prompts:"2.4.2"},peerDependencies:{typescript:">=5.1.0"},peerDependenciesMeta:{typescript:{optional:!0}},sideEffects:!1}}),rS=W6((J,Y)=>{Y.exports={name:"@prisma/engines-version",version:"6.16.0-7.1c57fdcd7e44b29b9313256c76699e91c3ac3c43",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"1c57fdcd7e44b29b9313256c76699e91c3ac3c43"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}}),XA=W6((J)=>{Object.defineProperty(J,"__esModule",{value:!0}),J.enginesVersion=void 0,J.enginesVersion=rS().prisma.enginesVersion}),gd=W6((J,Y)=>{Y.exports=(W)=>{let Q=W.match(/^[ \t]*(?=\S)/gm);return Q?Q.reduce((X,M)=>Math.min(X,M.length),1/0):0}}),aS=W6((J,Y)=>{Y.exports=(W,Q=1,X)=>{if(X={indent:" ",includeEmptyLines:!1,...X},typeof W!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof W}\``);if(typeof Q!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof Q}\``);if(typeof X.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof X.indent}\``);if(Q===0)return W;let M=X.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return W.replace(M,X.indent.repeat(Q))}}),yd=W6((J,Y)=>{Y.exports={name:"dotenv",version:"16.5.0",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}}),fd=W6((J,Y)=>{var W=YW("node:fs"),Q=YW("node:path"),X=YW("node:os"),M=YW("node:crypto"),G=yd(),H=G.version,U=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function B(F){let R={},j=F.toString();j=j.replace(/\r\n?/mg,`
`);let x;for(;(x=U.exec(j))!=null;){let _=x[1],k=x[2]||"";k=k.trim();let l=k[0];k=k.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),l==='"'&&(k=k.replace(/\\n/g,`
`),k=k.replace(/\\r/g,"\r")),R[_]=k}return R}function A(F){let R=O(F),j=I.configDotenv({path:R});if(!j.parsed){let l=new Error(`MISSING_DATA: Cannot parse ${R} for an unknown reason`);throw l.code="MISSING_DATA",l}let x=q(F).split(","),_=x.length,k;for(let l=0;l<_;l++)try{let q0=x[l].trim(),r=K(j,q0);k=I.decrypt(r.ciphertext,r.key);break}catch(q0){if(l+1>=_)throw q0}return I.parse(k)}function N(F){console.log(`[dotenv@${H}][WARN] ${F}`)}function D(F){console.log(`[dotenv@${H}][DEBUG] ${F}`)}function q(F){return F&&F.DOTENV_KEY&&F.DOTENV_KEY.length>0?F.DOTENV_KEY:x0.env.DOTENV_KEY&&x0.env.DOTENV_KEY.length>0?x0.env.DOTENV_KEY:""}function K(F,R){let j;try{j=new URL(R)}catch(q0){if(q0.code==="ERR_INVALID_URL"){let r=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw r.code="INVALID_DOTENV_KEY",r}throw q0}let x=j.password;if(!x){let q0=new Error("INVALID_DOTENV_KEY: Missing key part");throw q0.code="INVALID_DOTENV_KEY",q0}let _=j.searchParams.get("environment");if(!_){let q0=new Error("INVALID_DOTENV_KEY: Missing environment part");throw q0.code="INVALID_DOTENV_KEY",q0}let k=`DOTENV_VAULT_${_.toUpperCase()}`,l=F.parsed[k];if(!l){let q0=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${k} in your .env.vault file.`);throw q0.code="NOT_FOUND_DOTENV_ENVIRONMENT",q0}return{ciphertext:l,key:x}}function O(F){let R=null;if(F&&F.path&&F.path.length>0)if(Array.isArray(F.path))for(let j of F.path)W.existsSync(j)&&(R=j.endsWith(".vault")?j:`${j}.vault`);else R=F.path.endsWith(".vault")?F.path:`${F.path}.vault`;else R=Q.resolve(x0.cwd(),".env.vault");return W.existsSync(R)?R:null}function z(F){return F[0]==="~"?Q.join(X.homedir(),F.slice(1)):F}function V(F){!!(F&&F.debug)&&D("Loading env from encrypted .env.vault");let R=I._parseVault(F),j=x0.env;return F&&F.processEnv!=null&&(j=F.processEnv),I.populate(j,R,F),{parsed:R}}function L(F){let R=Q.resolve(x0.cwd(),".env"),j="utf8",x=!!(F&&F.debug);F&&F.encoding?j=F.encoding:x&&D("No encoding is specified. UTF-8 is used by default");let _=[R];if(F&&F.path)if(!Array.isArray(F.path))_=[z(F.path)];else{_=[];for(let r of F.path)_.push(z(r))}let k,l={};for(let r of _)try{let Z0=I.parse(W.readFileSync(r,{encoding:j}));I.populate(l,Z0,F)}catch(Z0){x&&D(`Failed to load ${r} ${Z0.message}`),k=Z0}let q0=x0.env;return F&&F.processEnv!=null&&(q0=F.processEnv),I.populate(q0,l,F),k?{parsed:l,error:k}:{parsed:l}}function S(F){if(q(F).length===0)return I.configDotenv(F);let R=O(F);return R?I._configVault(F):(N(`You set DOTENV_KEY but you are missing a .env.vault file at ${R}. Did you forget to build it?`),I.configDotenv(F))}function g(F,R){let j=Buffer.from(R.slice(-64),"hex"),x=Buffer.from(F,"base64"),_=x.subarray(0,12),k=x.subarray(-16);x=x.subarray(12,-16);try{let l=M.createDecipheriv("aes-256-gcm",j,_);return l.setAuthTag(k),`${l.update(x)}${l.final()}`}catch(l){let q0=l instanceof RangeError,r=l.message==="Invalid key length",Z0=l.message==="Unsupported state or unable to authenticate data";if(q0||r){let C0=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw C0.code="INVALID_DOTENV_KEY",C0}else if(Z0){let C0=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw C0.code="DECRYPTION_FAILED",C0}else throw l}}function d(F,R,j={}){let x=!!(j&&j.debug),_=!!(j&&j.override);if(typeof R!="object"){let k=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw k.code="OBJECT_REQUIRED",k}for(let k of Object.keys(R))Object.prototype.hasOwnProperty.call(F,k)?(_===!0&&(F[k]=R[k]),x&&D(_===!0?`"${k}" is already defined and WAS overwritten`:`"${k}" is already defined and was NOT overwritten`)):F[k]=R[k]}var I={configDotenv:L,_configVault:V,_parseVault:A,config:S,decrypt:g,parse:B,populate:d};Y.exports.configDotenv=I.configDotenv,Y.exports._configVault=I._configVault,Y.exports._parseVault=I._parseVault,Y.exports.config=I.config,Y.exports.decrypt=I.decrypt,Y.exports.parse=I.parse,Y.exports.populate=I.populate,Y.exports=I}),vd=W6((J,Y)=>{Y.exports=(W={})=>{let Q;if(W.repoUrl)Q=W.repoUrl;else if(W.user&&W.repo)Q=`https://github.com/${W.user}/${W.repo}`;else throw new Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");let X=new URL(`${Q}/issues/new`),M=["body","title","labels","template","milestone","assignee","projects"];for(let G of M){let H=W[G];if(H!==void 0){if(G==="labels"||G==="projects"){if(!Array.isArray(H))throw new TypeError(`The \`${G}\` option should be an array`);H=H.join(",")}X.searchParams.set(G,H)}}return X.toString()},Y.exports.default=Y.exports}),sS=W6((J,Y)=>{Y.exports=function(){function W(Q,X,M,G,H){return Q<X||M<X?Q>M?M+1:Q+1:G===H?X:X+1}return function(Q,X){if(Q===X)return 0;if(Q.length>X.length){var M=Q;Q=X,X=M}for(var G=Q.length,H=X.length;G>0&&Q.charCodeAt(G-1)===X.charCodeAt(H-1);)G--,H--;for(var U=0;U<G&&Q.charCodeAt(U)===X.charCodeAt(U);)U++;if(G-=U,H-=U,G===0||H<3)return H;var B=0,A,N,D,q,K,O,z,V,L,S,g,d,I=[];for(A=0;A<G;A++)I.push(A+1),I.push(Q.charCodeAt(U+A));for(var F=I.length-1;B<H-3;)for(L=X.charCodeAt(U+(N=B)),S=X.charCodeAt(U+(D=B+1)),g=X.charCodeAt(U+(q=B+2)),d=X.charCodeAt(U+(K=B+3)),O=B+=4,A=0;A<F;A+=2)z=I[A],V=I[A+1],N=W(z,N,D,L,V),D=W(N,D,q,S,V),q=W(D,q,K,g,V),O=W(q,K,O,d,V),I[A]=O,K=q,q=D,D=N,N=z;for(;B<H;)for(L=X.charCodeAt(U+(N=B)),O=++B,A=0;A<F;A+=2)z=I[A],I[A]=O=W(z,N,O,L,I[A+1]),N=z;return O}}()}),bd=lS(()=>{}),hd=lS(()=>{}),XG={};HW(XG,{defineExtension:()=>md,getExtensionContext:()=>dd});function md(J){return typeof J=="function"?J:(Y)=>Y.$extends(J)}function dd(J){return J}var cd={};HW(cd,{validator:()=>ud});function ud(...J){return(Y)=>Y}var TB={};HW(TB,{$:()=>WV,bgBlack:()=>ed,bgBlue:()=>Qc,bgCyan:()=>Xc,bgGreen:()=>Yc,bgMagenta:()=>$c,bgRed:()=>Jc,bgWhite:()=>Mc,bgYellow:()=>Wc,black:()=>rd,blue:()=>X$,bold:()=>l6,cyan:()=>NJ,dim:()=>z$,gray:()=>MA,green:()=>A$,grey:()=>td,hidden:()=>ld,inverse:()=>id,italic:()=>nd,magenta:()=>ad,red:()=>qJ,reset:()=>pd,strikethrough:()=>od,underline:()=>Y6,white:()=>sd,yellow:()=>L$});var _B,tS,eS,JV,YV=!0;typeof x0<"u"&&({FORCE_COLOR:_B,NODE_DISABLE_COLORS:tS,NO_COLOR:eS,TERM:JV}=x0.env||{},YV=x0.stdout&&x0.stdout.isTTY);var WV={enabled:!tS&&eS==null&&JV!=="dumb"&&(_B!=null&&_B!=="0"||YV)};function a1(J,Y){let W=new RegExp(`\\x1b\\[${Y}m`,"g"),Q=`\x1B[${J}m`,X=`\x1B[${Y}m`;return function(M){return!WV.enabled||M==null?M:Q+(~(""+M).indexOf(X)?M.replace(W,X+Q):M)+X}}var pd=a1(0,0),l6=a1(1,22),z$=a1(2,22),nd=a1(3,23),Y6=a1(4,24),id=a1(7,27),ld=a1(8,28),od=a1(9,29),rd=a1(30,39),qJ=a1(31,39),A$=a1(32,39),L$=a1(33,39),X$=a1(34,39),ad=a1(35,39),NJ=a1(36,39),sd=a1(37,39),MA=a1(90,39),td=a1(90,39),ed=a1(40,49),Jc=a1(41,49),Yc=a1(42,49),Wc=a1(43,49),Qc=a1(44,49),$c=a1(45,49),Xc=a1(46,49),Mc=a1(47,49),Gc=100,tL=["green","yellow","blue","magenta","cyan","red"],M$=[],eL=Date.now(),Hc=0,wB=typeof x0<"u"?x0.env:{};globalThis.DEBUG??=wB.DEBUG??"";globalThis.DEBUG_COLORS??=wB.DEBUG_COLORS?wB.DEBUG_COLORS==="true":!0;var G$={enable(J){typeof J=="string"&&(globalThis.DEBUG=J)},disable(){let J=globalThis.DEBUG;return globalThis.DEBUG="",J},enabled(J){let Y=globalThis.DEBUG.split(",").map((X)=>X.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),W=Y.some((X)=>X===""||X[0]==="-"?!1:J.match(RegExp(X.split("*").join(".*")+"$"))),Q=Y.some((X)=>X===""||X[0]!=="-"?!1:J.match(RegExp(X.slice(1).split("*").join(".*")+"$")));return W&&!Q},log:(...J)=>{let[Y,W,...Q]=J;(console.warn??console.log)(`${Y} ${W}`,...Q)},formatters:{}};function Uc(J){let Y={color:tL[Hc++%tL.length],enabled:G$.enabled(J),namespace:J,log:G$.log,extend:()=>{}};return new Proxy((...Q)=>{let{enabled:X,namespace:M,color:G,log:H}=Y;if(Q.length!==0&&M$.push([M,...Q]),M$.length>Gc&&M$.shift(),G$.enabled(M)||X){let U=Q.map((A)=>typeof A=="string"?A:Bc(A)),B=`+${Date.now()-eL}ms`;eL=Date.now(),globalThis.DEBUG_COLORS?H(TB[G](l6(M)),...U,TB[G](B)):H(M,...U,B)}},{get:(Q,X)=>Y[X],set:(Q,X,M)=>Y[X]=M})}var K8=new Proxy(Uc,{get:(J,Y)=>G$[Y],set:(J,Y,W)=>G$[Y]=W});function Bc(J,Y=2){let W=new Set;return JSON.stringify(J,(Q,X)=>{if(typeof X=="object"&&X!==null){if(W.has(X))return"[Circular *]";W.add(X)}else if(typeof X=="bigint")return X.toString();return X},Y)}function Ac(J=7500){let Y=M$.map(([W,...Q])=>`${W} ${Q.map((X)=>typeof X=="string"?X:JSON.stringify(X)).join(" ")}`).join(`
`);return Y.length<J?Y:Y.slice(-J)}function Nc(){M$.length=0}var GA=K8;function Dc(){let J=x0.env.PRISMA_QUERY_ENGINE_LIBRARY;if(!(J&&qc.existsSync(J))&&x0.arch==="ia32")throw new Error('The default query engine type (Node-API, "library") is currently not supported for 32bit Node. Please set `engineType = "binary"` in the "generator" block of your "schema.prisma" file (or use the environment variables "PRISMA_CLIENT_ENGINE_TYPE=binary" and/or "PRISMA_CLI_QUERY_ENGINE_TYPE=binary".)')}var Zc=["darwin","darwin-arm64","debian-openssl-1.0.x","debian-openssl-1.1.x","debian-openssl-3.0.x","rhel-openssl-1.0.x","rhel-openssl-1.1.x","rhel-openssl-3.0.x","linux-arm64-openssl-1.1.x","linux-arm64-openssl-1.0.x","linux-arm64-openssl-3.0.x","linux-arm-openssl-1.1.x","linux-arm-openssl-1.0.x","linux-arm-openssl-3.0.x","linux-musl","linux-musl-openssl-3.0.x","linux-musl-arm64-openssl-1.1.x","linux-musl-arm64-openssl-3.0.x","linux-nixos","linux-static-x64","linux-static-arm64","windows","freebsd11","freebsd12","freebsd13","freebsd14","freebsd15","openbsd","netbsd","arm"],mM="libquery_engine";function Oc(J,Y){let W=Y==="url";return J.includes("windows")?W?"query_engine.dll.node":`query_engine-${J}.dll.node`:J.includes("darwin")?W?`${mM}.dylib.node`:`${mM}-${J}.dylib.node`:W?`${mM}.so.node`:`${mM}-${J}.so.node`}var K7=Symbol.for("@ts-pattern/matcher"),zc=Symbol.for("@ts-pattern/isVariadic"),tM="@ts-pattern/anonymous-select-key",xB=(J)=>!!(J&&typeof J=="object"),iM=(J)=>J&&!!J[K7],F4=(J,Y,W)=>{if(iM(J)){let Q=J[K7](),{matched:X,selections:M}=Q.match(Y);return X&&M&&Object.keys(M).forEach((G)=>W(G,M[G])),X}if(xB(J)){if(!xB(Y))return!1;if(Array.isArray(J)){if(!Array.isArray(Y))return!1;let Q=[],X=[],M=[];for(let G of J.keys()){let H=J[G];iM(H)&&H[zc]?M.push(H):M.length?X.push(H):Q.push(H)}if(M.length){if(M.length>1)throw new Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(Y.length<Q.length+X.length)return!1;let G=Y.slice(0,Q.length),H=X.length===0?[]:Y.slice(-X.length),U=Y.slice(Q.length,X.length===0?1/0:-X.length);return Q.every((B,A)=>F4(B,G[A],W))&&X.every((B,A)=>F4(B,H[A],W))&&(M.length===0||F4(M[0],U,W))}return J.length===Y.length&&J.every((G,H)=>F4(G,Y[H],W))}return Reflect.ownKeys(J).every((Q)=>{let X=J[Q];return((Q in Y)||iM(M=X)&&M[K7]().matcherType==="optional")&&F4(X,Y[Q],W);var M})}return Object.is(Y,J)},q9=(J)=>{var Y,W,Q;return xB(J)?iM(J)?(Y=(W=(Q=J[K7]()).getSelectionKeys)==null?void 0:W.call(Q))!=null?Y:[]:Array.isArray(J)?N$(J,q9):N$(Object.values(J),q9):[]},N$=(J,Y)=>J.reduce((W,Q)=>W.concat(Y(Q)),[]);function $6(J){return Object.assign(J,{optional:()=>Lc(J),and:(Y)=>B5(J,Y),or:(Y)=>Sc(J,Y),select:(Y)=>Y===void 0?JS(J):JS(Y,J)})}function Lc(J){return $6({[K7]:()=>({match:(Y)=>{let W={},Q=(X,M)=>{W[X]=M};return Y===void 0?(q9(J).forEach((X)=>Q(X,void 0)),{matched:!0,selections:W}):{matched:F4(J,Y,Q),selections:W}},getSelectionKeys:()=>q9(J),matcherType:"optional"})})}function B5(...J){return $6({[K7]:()=>({match:(Y)=>{let W={},Q=(X,M)=>{W[X]=M};return{matched:J.every((X)=>F4(X,Y,Q)),selections:W}},getSelectionKeys:()=>N$(J,q9),matcherType:"and"})})}function Sc(...J){return $6({[K7]:()=>({match:(Y)=>{let W={},Q=(X,M)=>{W[X]=M};return N$(J,q9).forEach((X)=>Q(X,void 0)),{matched:J.some((X)=>F4(X,Y,Q)),selections:W}},getSelectionKeys:()=>N$(J,q9),matcherType:"or"})})}function R1(J){return{[K7]:()=>({match:(Y)=>({matched:!!J(Y)})})}}function JS(...J){let Y=typeof J[0]=="string"?J[0]:void 0,W=J.length===2?J[1]:typeof J[0]=="string"?void 0:J[0];return $6({[K7]:()=>({match:(Q)=>{let X={[Y??tM]:Q};return{matched:W===void 0||F4(W,Q,(M,G)=>{X[M]=G}),selections:X}},getSelectionKeys:()=>[Y??tM].concat(W===void 0?[]:q9(W))})})}function L4(J){return typeof J=="number"}function M9(J){return typeof J=="string"}function G9(J){return typeof J=="bigint"}var jL0=$6(R1(function(J){return!0})),H9=(J)=>Object.assign($6(J),{startsWith:(Y)=>{return H9(B5(J,(W=Y,R1((Q)=>M9(Q)&&Q.startsWith(W)))));var W},endsWith:(Y)=>{return H9(B5(J,(W=Y,R1((Q)=>M9(Q)&&Q.endsWith(W)))));var W},minLength:(Y)=>H9(B5(J,((W)=>R1((Q)=>M9(Q)&&Q.length>=W))(Y))),length:(Y)=>H9(B5(J,((W)=>R1((Q)=>M9(Q)&&Q.length===W))(Y))),maxLength:(Y)=>H9(B5(J,((W)=>R1((Q)=>M9(Q)&&Q.length<=W))(Y))),includes:(Y)=>{return H9(B5(J,(W=Y,R1((Q)=>M9(Q)&&Q.includes(W)))));var W},regex:(Y)=>{return H9(B5(J,(W=Y,R1((Q)=>M9(Q)&&!!Q.match(W)))));var W}}),PL0=H9(R1(M9)),S4=(J)=>Object.assign($6(J),{between:(Y,W)=>S4(B5(J,((Q,X)=>R1((M)=>L4(M)&&Q<=M&&X>=M))(Y,W))),lt:(Y)=>S4(B5(J,((W)=>R1((Q)=>L4(Q)&&Q<W))(Y))),gt:(Y)=>S4(B5(J,((W)=>R1((Q)=>L4(Q)&&Q>W))(Y))),lte:(Y)=>S4(B5(J,((W)=>R1((Q)=>L4(Q)&&Q<=W))(Y))),gte:(Y)=>S4(B5(J,((W)=>R1((Q)=>L4(Q)&&Q>=W))(Y))),int:()=>S4(B5(J,R1((Y)=>L4(Y)&&Number.isInteger(Y)))),finite:()=>S4(B5(J,R1((Y)=>L4(Y)&&Number.isFinite(Y)))),positive:()=>S4(B5(J,R1((Y)=>L4(Y)&&Y>0))),negative:()=>S4(B5(J,R1((Y)=>L4(Y)&&Y<0)))}),CL0=S4(R1(L4)),U9=(J)=>Object.assign($6(J),{between:(Y,W)=>U9(B5(J,((Q,X)=>R1((M)=>G9(M)&&Q<=M&&X>=M))(Y,W))),lt:(Y)=>U9(B5(J,((W)=>R1((Q)=>G9(Q)&&Q<W))(Y))),gt:(Y)=>U9(B5(J,((W)=>R1((Q)=>G9(Q)&&Q>W))(Y))),lte:(Y)=>U9(B5(J,((W)=>R1((Q)=>G9(Q)&&Q<=W))(Y))),gte:(Y)=>U9(B5(J,((W)=>R1((Q)=>G9(Q)&&Q>=W))(Y))),positive:()=>U9(B5(J,R1((Y)=>G9(Y)&&Y>0))),negative:()=>U9(B5(J,R1((Y)=>G9(Y)&&Y<0)))}),IL0=U9(R1(G9)),RL0=$6(R1(function(J){return typeof J=="boolean"})),TL0=$6(R1(function(J){return typeof J=="symbol"})),_L0=$6(R1(function(J){return J==null})),wL0=$6(R1(function(J){return J!=null})),Vc=class extends Error{constructor(J){let Y;try{Y=JSON.stringify(J)}catch{Y=J}super(`Pattern matching error: no pattern matches value ${Y}`),this.input=void 0,this.input=J}},gB={matched:!1,value:void 0};function MG(J){return new Fc(J,gB)}var Fc=class J{constructor(Y,W){this.input=void 0,this.state=void 0,this.input=Y,this.state=W}with(...Y){if(this.state.matched)return this;let W=Y[Y.length-1],Q=[Y[0]],X;Y.length===3&&typeof Y[1]=="function"?X=Y[1]:Y.length>2&&Q.push(...Y.slice(1,Y.length-1));let M=!1,G={},H=(B,A)=>{M=!0,G[B]=A},U=!Q.some((B)=>F4(B,this.input,H))||X&&!X(this.input)?gB:{matched:!0,value:W(M?tM in G?G[tM]:G:this.input,this.input)};return new J(this.input,U)}when(Y,W){if(this.state.matched)return this;let Q=!!Y(this.input);return new J(this.input,Q?{matched:!0,value:W(this.input,this.input)}:gB)}otherwise(Y){return this.state.matched?this.state.value:Y(this.input)}exhaustive(){if(this.state.matched)return this.state.value;throw new Vc(this.input)}run(){return this.exhaustive()}returnType(){return this}},jc={warn:L$("prisma:warn")},Pc={warn:()=>!x0.env.PRISMA_DISABLE_WARNINGS};function VB(J,...Y){Pc.warn()&&console.warn(`${jc.warn} ${J}`,...Y)}var Cc=Ec(Kc.exec),s2=GA("prisma:get-platform"),Ic=["1.0.x","1.1.x","3.0.x"];async function Rc(){let J=kB.platform(),Y=x0.arch;if(J==="freebsd"){let G=await eM("freebsd-version");if(G&&G.trim().length>0){let H=/^(\d+)\.?/.exec(G);if(H)return{platform:"freebsd",targetDistro:`freebsd${H[1]}`,arch:Y}}}if(J!=="linux")return{platform:J,arch:Y};let W=await _c(),Q=await hc(),X=kc({arch:Y,archFromUname:Q,familyDistro:W.familyDistro}),{libssl:M}=await xc(X);return{platform:"linux",libssl:M,arch:Y,archFromUname:Q,...W}}function Tc(J){let Y=/^ID="?([^"\n]*)"?$/im,W=/^ID_LIKE="?([^"\n]*)"?$/im,Q=Y.exec(J),X=Q&&Q[1]&&Q[1].toLowerCase()||"",M=W.exec(J),G=M&&M[1]&&M[1].toLowerCase()||"",H=MG({id:X,idLike:G}).with({id:"alpine"},({id:U})=>({targetDistro:"musl",familyDistro:U,originalDistro:U})).with({id:"raspbian"},({id:U})=>({targetDistro:"arm",familyDistro:"debian",originalDistro:U})).with({id:"nixos"},({id:U})=>({targetDistro:"nixos",originalDistro:U,familyDistro:"nixos"})).with({id:"debian"},{id:"ubuntu"},({id:U})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:U})).with({id:"rhel"},{id:"centos"},{id:"fedora"},({id:U})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:U})).when(({idLike:U})=>U.includes("debian")||U.includes("ubuntu"),({id:U})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:U})).when(({idLike:U})=>X==="arch"||U.includes("arch"),({id:U})=>({targetDistro:"debian",familyDistro:"arch",originalDistro:U})).when(({idLike:U})=>U.includes("centos")||U.includes("fedora")||U.includes("rhel")||U.includes("suse"),({id:U})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:U})).otherwise(({id:U})=>({targetDistro:void 0,familyDistro:void 0,originalDistro:U}));return s2(`Found distro info:
${JSON.stringify(H,null,2)}`),H}async function _c(){let J="/etc/os-release";try{let Y=await QV.readFile(J,{encoding:"utf-8"});return Tc(Y)}catch{return{targetDistro:void 0,familyDistro:void 0,originalDistro:void 0}}}function wc(J){let Y=/^OpenSSL\s(\d+\.\d+)\.\d+/.exec(J);if(Y){let W=`${Y[1]}.x`;return $V(W)}}function YS(J){let Y=/libssl\.so\.(\d)(\.\d)?/.exec(J);if(Y){let W=`${Y[1]}${Y[2]??".0"}.x`;return $V(W)}}function $V(J){let Y=(()=>{if(MV(J))return J;let W=J.split(".");return W[1]="0",W.join(".")})();if(Ic.includes(Y))return Y}function kc(J){return MG(J).with({familyDistro:"musl"},()=>(s2('Trying platform-specific paths for "alpine"'),["/lib","/usr/lib"])).with({familyDistro:"debian"},({archFromUname:Y})=>(s2('Trying platform-specific paths for "debian" (and "ubuntu")'),[`/usr/lib/${Y}-linux-gnu`,`/lib/${Y}-linux-gnu`])).with({familyDistro:"rhel"},()=>(s2('Trying platform-specific paths for "rhel"'),["/lib64","/usr/lib64"])).otherwise(({familyDistro:Y,arch:W,archFromUname:Q})=>(s2(`Don't know any platform-specific paths for "${Y}" on ${W} (${Q})`),[]))}async function xc(J){let Y='grep -v "libssl.so.0"',W=await WS(J);if(W){s2(`Found libssl.so file using platform-specific paths: ${W}`);let M=YS(W);if(s2(`The parsed libssl version is: ${M}`),M)return{libssl:M,strategy:"libssl-specific-path"}}s2('Falling back to "ldconfig" and other generic paths');let Q=await eM(`ldconfig -p | sed "s/.*=>s*//" | sed "s|.*/||" | grep libssl | sort | ${Y}`);if(Q||(Q=await WS(["/lib64","/usr/lib64","/lib","/usr/lib"])),Q){s2(`Found libssl.so file using "ldconfig" or other generic paths: ${Q}`);let M=YS(Q);if(s2(`The parsed libssl version is: ${M}`),M)return{libssl:M,strategy:"ldconfig"}}let X=await eM("openssl version -v");if(X){s2(`Found openssl binary with version: ${X}`);let M=wc(X);if(s2(`The parsed openssl version is: ${M}`),M)return{libssl:M,strategy:"openssl-binary"}}return s2("Couldn't find any version of libssl or OpenSSL in the system"),{}}async function WS(J){for(let Y of J){let W=await gc(Y);if(W)return W}}async function gc(J){try{return(await QV.readdir(J)).find((Y)=>Y.startsWith("libssl.so.")&&!Y.startsWith("libssl.so.0"))}catch(Y){if(Y.code==="ENOENT")return;throw Y}}async function HA(){let{binaryTarget:J}=await XV();return J}function yc(J){return J.binaryTarget!==void 0}async function fc(){let{memoized:J,...Y}=await XV();return Y}var dM={};async function XV(){if(yc(dM))return Promise.resolve({...dM,memoized:!0});let J=await Rc(),Y=vc(J);return dM={...J,binaryTarget:Y},{...dM,memoized:!1}}function vc(J){let{platform:Y,arch:W,archFromUname:Q,libssl:X,targetDistro:M,familyDistro:G,originalDistro:H}=J;Y==="linux"&&!["x64","arm64"].includes(W)&&VB(`Prisma only officially supports Linux on amd64 (x86_64) and arm64 (aarch64) system architectures (detected "${W}" instead). If you are using your own custom Prisma engines, you can ignore this warning, as long as you've compiled the engines for your system architecture "${Q}".`);let U="1.1.x";if(Y==="linux"&&X===void 0){let A=MG({familyDistro:G}).with({familyDistro:"debian"},()=>"Please manually install OpenSSL via `apt-get update -y && apt-get install -y openssl` and try installing Prisma again. If you're running Prisma on Docker, add this command to your Dockerfile, or switch to an image that already has OpenSSL installed.").otherwise(()=>"Please manually install OpenSSL and try installing Prisma again.");VB(`Prisma failed to detect the libssl/openssl version to use, and may not work as expected. Defaulting to "openssl-${U}".
${A}`)}let B="debian";if(Y==="linux"&&M===void 0&&s2(`Distro is "${H}". Falling back to Prisma engines built for "${B}".`),Y==="darwin"&&W==="arm64")return"darwin-arm64";if(Y==="darwin")return"darwin";if(Y==="win32")return"windows";if(Y==="freebsd")return M;if(Y==="openbsd")return"openbsd";if(Y==="netbsd")return"netbsd";if(Y==="linux"&&M==="nixos")return"linux-nixos";if(Y==="linux"&&W==="arm64")return`${M==="musl"?"linux-musl-arm64":"linux-arm64"}-openssl-${X||U}`;if(Y==="linux"&&W==="arm")return`linux-arm-openssl-${X||U}`;if(Y==="linux"&&M==="musl"){let A="linux-musl";return!X||MV(X)?A:`${A}-openssl-${X}`}return Y==="linux"&&M&&X?`${M}-openssl-${X}`:(Y!=="linux"&&VB(`Prisma detected unknown OS "${Y}" and may not work as expected. Defaulting to "linux".`),X?`${B}-openssl-${X}`:M?`${M}-openssl-${U}`:`${B}-openssl-${U}`)}async function bc(J){try{return await J()}catch{return}}function eM(J){return bc(async()=>{let Y=await Cc(J);return s2(`Command "${J}" successfully returned "${Y.stdout}"`),Y.stdout})}async function hc(){return typeof kB.machine=="function"?kB.machine():(await eM("uname -m"))?.trim()}function MV(J){return J.startsWith("1.")}var GV={};HW(GV,{beep:()=>Au,clearScreen:()=>Gu,clearTerminal:()=>Hu,cursorBackward:()=>ic,cursorDown:()=>pc,cursorForward:()=>nc,cursorGetPosition:()=>rc,cursorHide:()=>tc,cursorLeft:()=>BV,cursorMove:()=>uc,cursorNextLine:()=>ac,cursorPrevLine:()=>sc,cursorRestorePosition:()=>oc,cursorSavePosition:()=>lc,cursorShow:()=>ec,cursorTo:()=>cc,cursorUp:()=>UV,enterAlternativeScreen:()=>Uu,eraseDown:()=>Qu,eraseEndLine:()=>Yu,eraseLine:()=>AV,eraseLines:()=>Ju,eraseScreen:()=>yB,eraseStartLine:()=>Wu,eraseUp:()=>$u,exitAlternativeScreen:()=>Bu,iTerm:()=>Du,image:()=>qu,link:()=>Nu,scrollDown:()=>Mu,scrollUp:()=>Xu});var BA=globalThis.window?.document!==void 0,gL0=globalThis.process?.versions?.node!==void 0,yL0=globalThis.process?.versions?.bun!==void 0,fL0=globalThis.Deno?.version?.deno!==void 0,vL0=globalThis.process?.versions?.electron!==void 0,bL0=globalThis.navigator?.userAgent?.includes("jsdom")===!0,hL0=typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope,mL0=typeof DedicatedWorkerGlobalScope<"u"&&globalThis instanceof DedicatedWorkerGlobalScope,dL0=typeof SharedWorkerGlobalScope<"u"&&globalThis instanceof SharedWorkerGlobalScope,cL0=typeof ServiceWorkerGlobalScope<"u"&&globalThis instanceof ServiceWorkerGlobalScope,S$=globalThis.navigator?.userAgentData?.platform,uL0=S$==="macOS"||globalThis.navigator?.platform==="MacIntel"||globalThis.navigator?.userAgent?.includes(" Mac ")===!0||globalThis.process?.platform==="darwin",pL0=S$==="Windows"||globalThis.navigator?.platform==="Win32"||globalThis.process?.platform==="win32",nL0=S$==="Linux"||globalThis.navigator?.platform?.startsWith("Linux")===!0||globalThis.navigator?.userAgent?.includes(" Linux ")===!0||globalThis.process?.platform==="linux",iL0=S$==="iOS"||globalThis.navigator?.platform==="MacIntel"&&globalThis.navigator?.maxTouchPoints>1||/iPad|iPhone|iPod/.test(globalThis.navigator?.platform),lL0=S$==="Android"||globalThis.navigator?.platform==="Android"||globalThis.navigator?.userAgent?.includes(" Android ")===!0||globalThis.process?.platform==="android",T1="\x1B[",q$="\x1B]",QW="\x07",Q$=";",HV=!BA&&UA.env.TERM_PROGRAM==="Apple_Terminal",mc=!BA&&UA.platform==="win32",dc=BA?()=>{throw new Error("`process.cwd()` only works in Node.js, not the browser.")}:UA.cwd,cc=(J,Y)=>{if(typeof J!="number")throw new TypeError("The `x` argument is required");return typeof Y!="number"?T1+(J+1)+"G":T1+(Y+1)+Q$+(J+1)+"H"},uc=(J,Y)=>{if(typeof J!="number")throw new TypeError("The `x` argument is required");let W="";return J<0?W+=T1+-J+"D":J>0&&(W+=T1+J+"C"),Y<0?W+=T1+-Y+"A":Y>0&&(W+=T1+Y+"B"),W},UV=(J=1)=>T1+J+"A",pc=(J=1)=>T1+J+"B",nc=(J=1)=>T1+J+"C",ic=(J=1)=>T1+J+"D",BV=T1+"G",lc=HV?"\x1B7":T1+"s",oc=HV?"\x1B8":T1+"u",rc=T1+"6n",ac=T1+"E",sc=T1+"F",tc=T1+"?25l",ec=T1+"?25h",Ju=(J)=>{let Y="";for(let W=0;W<J;W++)Y+=AV+(W<J-1?UV():"");return J&&(Y+=BV),Y},Yu=T1+"K",Wu=T1+"1K",AV=T1+"2K",Qu=T1+"J",$u=T1+"1J",yB=T1+"2J",Xu=T1+"S",Mu=T1+"T",Gu="\x1Bc",Hu=mc?`${yB}${T1}0f`:`${yB}${T1}3J${T1}H`,Uu=T1+"?1049h",Bu=T1+"?1049l",Au=QW,Nu=(J,Y)=>[q$,"8",Q$,Q$,Y,QW,J,q$,"8",Q$,Q$,QW].join(""),qu=(J,Y={})=>{let W=`${q$}1337;File=inline=1`;return Y.width&&(W+=`;width=${Y.width}`),Y.height&&(W+=`;height=${Y.height}`),Y.preserveAspectRatio===!1&&(W+=";preserveAspectRatio=0"),W+":"+Buffer.from(J).toString("base64")+QW},Du={setCwd:(J=dc())=>`${q$}50;CurrentDir=${J}${QW}`,annotation(J,Y={}){let W=`${q$}1337;`,Q=Y.x!==void 0,X=Y.y!==void 0;if((Q||X)&&!(Q&&X&&Y.length!==void 0))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return J=J.replaceAll("|",""),W+=Y.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",Y.length>0?W+=(Q?[J,Y.length,Y.x,Y.y]:[Y.length,J]).join("|"):W+=J,W+QW}},AA=Q6(kd(),1);function D$(J,Y,{target:W="stdout",...Q}={}){return AA.default[W]?GV.link(J,Y):Q.fallback===!1?J:typeof Q.fallback=="function"?Q.fallback(J,Y):`${J} (\u200B${Y}\u200B)`}D$.isSupported=AA.default.stdout;D$.stderr=(J,Y,W={})=>D$(J,Y,{target:"stderr",...W});D$.stderr.isSupported=AA.default.stderr;function Zu(J){return D$(J,J,{fallback:Y6})}var Ou=xd(),Ku=Ou.version;function fB(J){return zu()||(J?.config.engineType==="library"?"library":J?.config.engineType==="binary"?"binary":J?.config.engineType==="client"?"client":Lu())}function zu(){let J=x0.env.PRISMA_CLIENT_ENGINE_TYPE;return J==="library"?"library":J==="binary"?"binary":J==="client"?"client":void 0}function Lu(){return"library"}function NV(J){return J.name==="DriverAdapterError"&&typeof J.cause=="object"}function NA(J){return{ok:!0,value:J,map(Y){return NA(Y(J))},flatMap(Y){return Y(J)}}}function $W(J){return{ok:!1,error:J,map(){return $W(J)},flatMap(){return $W(J)}}}var qV=K8("driver-adapter-utils"),Su=class{registeredErrors=[];consumeError(J){return this.registeredErrors[J]}registerNewError(J){let Y=0;for(;this.registeredErrors[Y]!==void 0;)Y++;return this.registeredErrors[Y]={error:J},Y}},QS=(J,Y=new Su)=>{let W={adapterName:J.adapterName,errorRegistry:Y,queryRaw:D7(Y,J.queryRaw.bind(J)),executeRaw:D7(Y,J.executeRaw.bind(J)),executeScript:D7(Y,J.executeScript.bind(J)),dispose:D7(Y,J.dispose.bind(J)),provider:J.provider,startTransaction:async(...Q)=>(await D7(Y,J.startTransaction.bind(J))(...Q)).map((X)=>Vu(Y,X))};return J.getConnectionInfo&&(W.getConnectionInfo=Fu(Y,J.getConnectionInfo.bind(J))),W},Vu=(J,Y)=>({adapterName:Y.adapterName,provider:Y.provider,options:Y.options,queryRaw:D7(J,Y.queryRaw.bind(Y)),executeRaw:D7(J,Y.executeRaw.bind(Y)),commit:D7(J,Y.commit.bind(Y)),rollback:D7(J,Y.rollback.bind(Y))});function D7(J,Y){return async(...W)=>{try{return NA(await Y(...W))}catch(Q){if(qV("[error@wrapAsync]",Q),NV(Q))return $W(Q.cause);let X=J.registerNewError(Q);return $W({kind:"GenericJs",id:X})}}}function Fu(J,Y){return(...W)=>{try{return NA(Y(...W))}catch(Q){if(qV("[error@wrapSync]",Q),NV(Q))return $W(Q.cause);let X=J.registerNewError(Q);return $W({kind:"GenericJs",id:X})}}}var oL0=Q6(XA()),rL0=Q6(XA()),sL0=K8("prisma:engines");function Eu(){return X5.join(__dirname,"../")}X5.join(__dirname,"../query-engine-darwin");X5.join(__dirname,"../query-engine-darwin-arm64");X5.join(__dirname,"../query-engine-debian-openssl-1.0.x");X5.join(__dirname,"../query-engine-debian-openssl-1.1.x");X5.join(__dirname,"../query-engine-debian-openssl-3.0.x");X5.join(__dirname,"../query-engine-linux-static-x64");X5.join(__dirname,"../query-engine-linux-static-arm64");X5.join(__dirname,"../query-engine-rhel-openssl-1.0.x");X5.join(__dirname,"../query-engine-rhel-openssl-1.1.x");X5.join(__dirname,"../query-engine-rhel-openssl-3.0.x");X5.join(__dirname,"../libquery_engine-darwin.dylib.node");X5.join(__dirname,"../libquery_engine-darwin-arm64.dylib.node");X5.join(__dirname,"../libquery_engine-debian-openssl-1.0.x.so.node");X5.join(__dirname,"../libquery_engine-debian-openssl-1.1.x.so.node");X5.join(__dirname,"../libquery_engine-debian-openssl-3.0.x.so.node");X5.join(__dirname,"../libquery_engine-linux-arm64-openssl-1.0.x.so.node");X5.join(__dirname,"../libquery_engine-linux-arm64-openssl-1.1.x.so.node");X5.join(__dirname,"../libquery_engine-linux-arm64-openssl-3.0.x.so.node");X5.join(__dirname,"../libquery_engine-linux-musl.so.node");X5.join(__dirname,"../libquery_engine-linux-musl-openssl-3.0.x.so.node");X5.join(__dirname,"../libquery_engine-rhel-openssl-1.0.x.so.node");X5.join(__dirname,"../libquery_engine-rhel-openssl-1.1.x.so.node");X5.join(__dirname,"../libquery_engine-rhel-openssl-3.0.x.so.node");X5.join(__dirname,"../query_engine-windows.dll.node");var XS=GA("chmodPlusX");function ju(J){if(x0.platform==="win32")return;let Y=$S.statSync(J),W=Y.mode|64|8|1;if(Y.mode===W){XS(`Execution permissions of ${J} are fine`);return}let Q=W.toString(8).slice(-3);XS(`Have to call chmodPlusX on ${J}`),$S.chmodSync(J,Q)}function Pu(J){let Y=J.e,W=(H)=>`Prisma cannot find the required \`${H}\` system library in your system`,Q=Y.message.includes("cannot open shared object file"),X=`Please refer to the documentation about Prisma's system requirements: ${Zu("https://pris.ly/d/system-requirements")}`,M=`Unable to require(\`${z$(J.id)}\`).`,G=MG({message:Y.message,code:Y.code}).with({code:"ENOENT"},()=>"File does not exist.").when(({message:H})=>Q&&H.includes("libz"),()=>`${W("libz")}. Please install it and try again.`).when(({message:H})=>Q&&H.includes("libgcc_s"),()=>`${W("libgcc_s")}. Please install it and try again.`).when(({message:H})=>Q&&H.includes("libssl"),()=>{let H=J.platformInfo.libssl?`openssl-${J.platformInfo.libssl}`:"openssl";return`${W("libssl")}. Please install ${H} and try again.`}).when(({message:H})=>H.includes("GLIBC"),()=>`Prisma has detected an incompatible version of the \`glibc\` C standard library installed in your system. This probably means your system may be too old to run Prisma. ${X}`).when(({message:H})=>J.platformInfo.platform==="linux"&&H.includes("symbol not found"),()=>`The Prisma engines are not compatible with your system ${J.platformInfo.originalDistro} on (${J.platformInfo.archFromUname}) which uses the \`${J.platformInfo.binaryTarget}\` binaryTarget by default. ${X}`).otherwise(()=>`The Prisma engines do not seem to be compatible with your system. ${X}`);return`${M}
${G}

Details: ${Y.message}`}var Cu=Q6(gd(),1);function Iu(J){let Y=Cu.default(J);if(Y===0)return J;let W=new RegExp(`^[ \\t]{${Y}}`,"gm");return J.replace(W,"")}var Ru="prisma+postgres",DV=`${Ru}:`;function ZV(J){return J?.toString().startsWith(`${DV}//`)??!1}function Tu(J){if(!ZV(J))return!1;let{host:Y}=new URL(J);return Y.includes("localhost")||Y.includes("127.0.0.1")||Y.includes("[::1]")}var _u=Q6(aS());function wu(J){return String(new ku(J))}var ku=class{constructor(J){this.config=J}toString(){let{config:J}=this,Y=J.provider.fromEnvVar?`env("${J.provider.fromEnvVar}")`:J.provider.value,W=JSON.parse(JSON.stringify({provider:Y,binaryTargets:xu(J.binaryTargets)}));return`generator ${J.name} {
${_u.default(gu(W),2)}
}`}};function xu(J){let Y;if(J.length>0){let W=J.find((Q)=>Q.fromEnvVar!==null);W?Y=`env("${W.fromEnvVar}")`:Y=J.map((Q)=>Q.native?"native":Q.value)}else Y=void 0;return Y}function gu(J){let Y=Object.keys(J).reduce((W,Q)=>Math.max(W,Q.length),0);return Object.entries(J).map(([W,Q])=>`${W.padEnd(Y)} = ${yu(Q)}`).join(`
`)}function yu(J){return JSON.parse(JSON.stringify(J,(Y,W)=>Array.isArray(W)?`[${W.map((Q)=>JSON.stringify(Q)).join(", ")}]`:JSON.stringify(W)))}var vB={};HW(vB,{error:()=>bu,info:()=>vu,log:()=>fu,query:()=>hu,should:()=>OV,tags:()=>V$,warn:()=>KV});var V$={error:qJ("prisma:error"),warn:L$("prisma:warn"),info:NJ("prisma:info"),query:X$("prisma:query")},OV={warn:()=>!x0.env.PRISMA_DISABLE_WARNINGS};function fu(...J){console.log(...J)}function KV(J,...Y){OV.warn()&&console.warn(`${V$.warn} ${J}`,...Y)}function vu(J,...Y){console.info(`${V$.info} ${J}`,...Y)}function bu(J,...Y){console.error(`${V$.error} ${J}`,...Y)}function hu(J,...Y){console.log(`${V$.query} ${J}`,...Y)}function MS(J,Y){if(!J)throw new Error(`${Y}. This should never happen. If you see this error, please, open an issue at https://pris.ly/prisma-prisma-bug-report`)}function qA(J,Y){throw new Error(Y)}function mu({onlyFirst:J=!1}={}){let Y=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(Y,J?void 0:"g")}var du=mu();function bB(J){if(typeof J!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof J}\``);return J.replace(du,"")}function cu(J){return cM.sep===cM.posix.sep?J:J.split(cM.sep).join(cM.posix.sep)}var zV=Q6(fd());function uu(J){let Y=J.ignoreProcessEnv?{}:x0.env,W=(Q)=>Q.match(/(.?\${(?:[a-zA-Z0-9_]+)?})/g)?.reduce(function(X,M){let G=/(.?)\${([a-zA-Z0-9_]+)?}/g.exec(M);if(!G)return X;let H=G[1],U,B;if(H==="\\")B=G[0],U=B.replace("\\$","$");else{let A=G[2];B=G[0].substring(H.length),U=Object.hasOwnProperty.call(Y,A)?Y[A]:J.parsed[A]||"",U=W(U)}return X.replace(B,U)},Q)??Q;for(let Q in J.parsed){let X=Object.hasOwnProperty.call(Y,Q)?Y[Q]:J.parsed[Q];J.parsed[Q]=W(X)}for(let Q in J.parsed)Y[Q]=J.parsed[Q];return J}var mB=GA("prisma:tryLoadEnv");function pu({rootEnvPath:J,schemaEnvPath:Y},W={conflictCheck:"none"}){let Q=GS(J);W.conflictCheck!=="none"&&nu(Q,Y,W.conflictCheck);let X=null;return LV(Q?.path,Y)||(X=GS(Y)),!Q&&!X&&mB("No Environment variables loaded"),X?.dotenvResult.error?console.error(qJ(l6("Schema Env Error: "))+X.dotenvResult.error):{message:[Q?.message,X?.message].filter(Boolean).join(`
`),parsed:{...Q?.dotenvResult?.parsed,...X?.dotenvResult?.parsed}}}function nu(J,Y,W){let Q=J?.dotenvResult.parsed,X=!LV(J?.path,Y);if(Q&&Y&&X&&hB.existsSync(Y)){let M=zV.default.parse(hB.readFileSync(Y)),G=[];for(let H in M)Q[H]===M[H]&&G.push(H);if(G.length>0){let H=Z$.relative(x0.cwd(),J.path),U=Z$.relative(x0.cwd(),Y);if(W==="error"){let B=`There is a conflict between env var${G.length>1?"s":""} in ${Y6(H)} and ${Y6(U)}
Conflicting env vars:
${G.map((A)=>`  ${l6(A)}`).join(`
`)}

We suggest to move the contents of ${Y6(U)} to ${Y6(H)} to consolidate your env vars.
`;throw new Error(B)}else if(W==="warn"){let B=`Conflict for env var${G.length>1?"s":""} ${G.map((A)=>l6(A)).join(", ")} in ${Y6(H)} and ${Y6(U)}
Env vars from ${Y6(U)} overwrite the ones from ${Y6(H)}
      `;console.warn(`${L$("warn(prisma)")} ${B}`)}}}}function GS(J){if(iu(J)){mB(`Environment variables loaded from ${J}`);let Y=zV.default.config({path:J,debug:x0.env.DOTENV_CONFIG_DEBUG?!0:void 0});return{dotenvResult:uu(Y),message:z$(`Environment variables loaded from ${Z$.relative(x0.cwd(),J)}`),path:J}}else mB(`Environment variables not found at ${J}`);return null}function LV(J,Y){return J&&Y&&Z$.resolve(J)===Z$.resolve(Y)}function iu(J){return!!(J&&hB.existsSync(J))}function lu(J,Y){return Object.prototype.hasOwnProperty.call(J,Y)}function SV(J,Y){let W={};for(let Q of Object.keys(J))W[Q]=Y(J[Q],Q);return W}function ou(J,Y){if(J.length===0)return;let W=J[0];for(let Q=1;Q<J.length;Q++)Y(W,J[Q])<0&&(W=J[Q]);return W}function V5(J,Y){Object.defineProperty(J,"name",{value:Y,configurable:!0})}var HS=new Set,ru=(J,Y,...W)=>{HS.has(J)||(HS.add(J),KV(Y,...W))},w5=class J extends Error{clientVersion;errorCode;retryable;constructor(Y,W,Q){super(Y),this.name="PrismaClientInitializationError",this.clientVersion=W,this.errorCode=Q,Error.captureStackTrace(J)}get[Symbol.toStringTag](){return"PrismaClientInitializationError"}};V5(w5,"PrismaClientInitializationError");var X1=class extends Error{code;meta;clientVersion;batchRequestIdx;constructor(J,{code:Y,clientVersion:W,meta:Q,batchRequestIdx:X}){super(J),this.name="PrismaClientKnownRequestError",this.code=Y,this.clientVersion=W,this.meta=Q,Object.defineProperty(this,"batchRequestIdx",{value:X,enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return"PrismaClientKnownRequestError"}};V5(X1,"PrismaClientKnownRequestError");var N9=class extends Error{clientVersion;constructor(J,Y){super(J),this.name="PrismaClientRustPanicError",this.clientVersion=Y}get[Symbol.toStringTag](){return"PrismaClientRustPanicError"}};V5(N9,"PrismaClientRustPanicError");var f8=class extends Error{clientVersion;batchRequestIdx;constructor(J,{clientVersion:Y,batchRequestIdx:W}){super(J),this.name="PrismaClientUnknownRequestError",this.clientVersion=Y,Object.defineProperty(this,"batchRequestIdx",{value:W,writable:!0,enumerable:!1})}get[Symbol.toStringTag](){return"PrismaClientUnknownRequestError"}};V5(f8,"PrismaClientUnknownRequestError");var Z7=class extends Error{name="PrismaClientValidationError";clientVersion;constructor(J,{clientVersion:Y}){super(J),this.clientVersion=Y}get[Symbol.toStringTag](){return"PrismaClientValidationError"}};V5(Z7,"PrismaClientValidationError");var H$=class{_map=new Map;get(J){return this._map.get(J)?.value}set(J,Y){this._map.set(J,{value:Y})}getOrCreate(J,Y){let W=this._map.get(J);if(W)return W.value;let Q=Y();return this.set(J,Q),Q}};function GG(J){return J.substring(0,1).toLowerCase()+J.substring(1)}function au(J,Y){let W={};for(let Q of J){let X=Q[Y];W[X]=Q}return W}function US(J){let Y;return{get(){return Y||(Y={value:J()}),Y.value}}}function DA(J){return J instanceof Date||Object.prototype.toString.call(J)==="[object Date]"}function VV(J){return J.toString()!=="Invalid Date"}var WW=9000000000000000,Z9=1e9,dB="0123456789abcdef",JG="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",YG="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",cB={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-WW,maxE:WW,crypto:!1},FV,O7,n0=!0,HG="[DecimalError] ",D9=HG+"Invalid argument: ",EV=HG+"Precision limit exceeded",jV=HG+"crypto unavailable",PV="[object Decimal]",k2=Math.floor,t5=Math.pow,su=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,tu=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,eu=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,CV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,o6=1e7,m0=7,Jp=9007199254740991,Yp=JG.length-1,uB=YG.length-1,D0={toStringTag:PV};D0.absoluteValue=D0.abs=function(){var J=new this.constructor(this);return J.s<0&&(J.s=1),y0(J)};D0.ceil=function(){return y0(new this.constructor(this),this.e+1,2)};D0.clampedTo=D0.clamp=function(J,Y){var W,Q=this,X=Q.constructor;if(J=new X(J),Y=new X(Y),!J.s||!Y.s)return new X(NaN);if(J.gt(Y))throw Error(D9+Y);return W=Q.cmp(J),W<0?J:Q.cmp(Y)>0?Y:new X(Q)};D0.comparedTo=D0.cmp=function(J){var Y,W,Q,X,M=this,G=M.d,H=(J=new M.constructor(J)).d,U=M.s,B=J.s;if(!G||!H)return!U||!B?NaN:U!==B?U:G===H?0:!G^U<0?1:-1;if(!G[0]||!H[0])return G[0]?U:H[0]?-B:0;if(U!==B)return U;if(M.e!==J.e)return M.e>J.e^U<0?1:-1;for(Q=G.length,X=H.length,Y=0,W=Q<X?Q:X;Y<W;++Y)if(G[Y]!==H[Y])return G[Y]>H[Y]^U<0?1:-1;return Q===X?0:Q>X^U<0?1:-1};D0.cosine=D0.cos=function(){var J,Y,W=this,Q=W.constructor;return W.d?W.d[0]?(J=Q.precision,Y=Q.rounding,Q.precision=J+Math.max(W.e,W.sd())+m0,Q.rounding=1,W=Wp(Q,wV(Q,W)),Q.precision=J,Q.rounding=Y,y0(O7==2||O7==3?W.neg():W,J,Y,!0)):new Q(1):new Q(NaN)};D0.cubeRoot=D0.cbrt=function(){var J,Y,W,Q,X,M,G,H,U,B,A=this,N=A.constructor;if(!A.isFinite()||A.isZero())return new N(A);for(n0=!1,M=A.s*t5(A.s*A,0.3333333333333333),!M||Math.abs(M)==1/0?(W=L2(A.d),J=A.e,(M=(J-W.length+1)%3)&&(W+=M==1||M==-2?"0":"00"),M=t5(W,0.3333333333333333),J=k2((J+1)/3)-(J%3==(J<0?-1:2)),M==1/0?W="5e"+J:(W=M.toExponential(),W=W.slice(0,W.indexOf("e")+1)+J),Q=new N(W),Q.s=A.s):Q=new N(M.toString()),G=(J=N.precision)+3;;)if(H=Q,U=H.times(H).times(H),B=U.plus(A),Q=p1(B.plus(A).times(H),B.plus(U),G+2,1),L2(H.d).slice(0,G)===(W=L2(Q.d)).slice(0,G))if(W=W.slice(G-3,G+1),W=="9999"||!X&&W=="4999"){if(!X&&(y0(H,J+1,0),H.times(H).times(H).eq(A))){Q=H;break}G+=4,X=1}else{(!+W||!+W.slice(1)&&W.charAt(0)=="5")&&(y0(Q,J+1,1),Y=!Q.times(Q).times(Q).eq(A));break}return n0=!0,y0(Q,J,N.rounding,Y)};D0.decimalPlaces=D0.dp=function(){var J,Y=this.d,W=NaN;if(Y){if(J=Y.length-1,W=(J-k2(this.e/m0))*m0,J=Y[J],J)for(;J%10==0;J/=10)W--;W<0&&(W=0)}return W};D0.dividedBy=D0.div=function(J){return p1(this,new this.constructor(J))};D0.dividedToIntegerBy=D0.divToInt=function(J){var Y=this,W=Y.constructor;return y0(p1(Y,new W(J),0,1,1),W.precision,W.rounding)};D0.equals=D0.eq=function(J){return this.cmp(J)===0};D0.floor=function(){return y0(new this.constructor(this),this.e+1,3)};D0.greaterThan=D0.gt=function(J){return this.cmp(J)>0};D0.greaterThanOrEqualTo=D0.gte=function(J){var Y=this.cmp(J);return Y==1||Y===0};D0.hyperbolicCosine=D0.cosh=function(){var J,Y,W,Q,X,M=this,G=M.constructor,H=new G(1);if(!M.isFinite())return new G(M.s?1/0:NaN);if(M.isZero())return H;W=G.precision,Q=G.rounding,G.precision=W+Math.max(M.e,M.sd())+4,G.rounding=1,X=M.d.length,X<32?(J=Math.ceil(X/3),Y=(1/BG(4,J)).toString()):(J=16,Y="2.3283064365386962890625e-10"),M=XW(G,1,M.times(Y),new G(1),!0);for(var U,B=J,A=new G(8);B--;)U=M.times(M),M=H.minus(U.times(A.minus(U.times(A))));return y0(M,G.precision=W,G.rounding=Q,!0)};D0.hyperbolicSine=D0.sinh=function(){var J,Y,W,Q,X=this,M=X.constructor;if(!X.isFinite()||X.isZero())return new M(X);if(Y=M.precision,W=M.rounding,M.precision=Y+Math.max(X.e,X.sd())+4,M.rounding=1,Q=X.d.length,Q<3)X=XW(M,2,X,X,!0);else{J=1.4*Math.sqrt(Q),J=J>16?16:J|0,X=X.times(1/BG(5,J)),X=XW(M,2,X,X,!0);for(var G,H=new M(5),U=new M(16),B=new M(20);J--;)G=X.times(X),X=X.times(H.plus(G.times(U.times(G).plus(B))))}return M.precision=Y,M.rounding=W,y0(X,Y,W,!0)};D0.hyperbolicTangent=D0.tanh=function(){var J,Y,W=this,Q=W.constructor;return W.isFinite()?W.isZero()?new Q(W):(J=Q.precision,Y=Q.rounding,Q.precision=J+7,Q.rounding=1,p1(W.sinh(),W.cosh(),Q.precision=J,Q.rounding=Y)):new Q(W.s)};D0.inverseCosine=D0.acos=function(){var J=this,Y=J.constructor,W=J.abs().cmp(1),Q=Y.precision,X=Y.rounding;return W!==-1?W===0?J.isNeg()?E4(Y,Q,X):new Y(0):new Y(NaN):J.isZero()?E4(Y,Q+4,X).times(0.5):(Y.precision=Q+6,Y.rounding=1,J=new Y(1).minus(J).div(J.plus(1)).sqrt().atan(),Y.precision=Q,Y.rounding=X,J.times(2))};D0.inverseHyperbolicCosine=D0.acosh=function(){var J,Y,W=this,Q=W.constructor;return W.lte(1)?new Q(W.eq(1)?0:NaN):W.isFinite()?(J=Q.precision,Y=Q.rounding,Q.precision=J+Math.max(Math.abs(W.e),W.sd())+4,Q.rounding=1,n0=!1,W=W.times(W).minus(1).sqrt().plus(W),n0=!0,Q.precision=J,Q.rounding=Y,W.ln()):new Q(W)};D0.inverseHyperbolicSine=D0.asinh=function(){var J,Y,W=this,Q=W.constructor;return!W.isFinite()||W.isZero()?new Q(W):(J=Q.precision,Y=Q.rounding,Q.precision=J+2*Math.max(Math.abs(W.e),W.sd())+6,Q.rounding=1,n0=!1,W=W.times(W).plus(1).sqrt().plus(W),n0=!0,Q.precision=J,Q.rounding=Y,W.ln())};D0.inverseHyperbolicTangent=D0.atanh=function(){var J,Y,W,Q,X=this,M=X.constructor;return X.isFinite()?X.e>=0?new M(X.abs().eq(1)?X.s/0:X.isZero()?X:NaN):(J=M.precision,Y=M.rounding,Q=X.sd(),Math.max(Q,J)<2*-X.e-1?y0(new M(X),J,Y,!0):(M.precision=W=Q-X.e,X=p1(X.plus(1),new M(1).minus(X),W+J,1),M.precision=J+4,M.rounding=1,X=X.ln(),M.precision=J,M.rounding=Y,X.times(0.5))):new M(NaN)};D0.inverseSine=D0.asin=function(){var J,Y,W,Q,X=this,M=X.constructor;return X.isZero()?new M(X):(Y=X.abs().cmp(1),W=M.precision,Q=M.rounding,Y!==-1?Y===0?(J=E4(M,W+4,Q).times(0.5),J.s=X.s,J):new M(NaN):(M.precision=W+6,M.rounding=1,X=X.div(new M(1).minus(X.times(X)).sqrt().plus(1)).atan(),M.precision=W,M.rounding=Q,X.times(2)))};D0.inverseTangent=D0.atan=function(){var J,Y,W,Q,X,M,G,H,U,B=this,A=B.constructor,N=A.precision,D=A.rounding;if(B.isFinite()){if(B.isZero())return new A(B);if(B.abs().eq(1)&&N+4<=uB)return G=E4(A,N+4,D).times(0.25),G.s=B.s,G}else{if(!B.s)return new A(NaN);if(N+4<=uB)return G=E4(A,N+4,D).times(0.5),G.s=B.s,G}for(A.precision=H=N+10,A.rounding=1,W=Math.min(28,H/m0+2|0),J=W;J;--J)B=B.div(B.times(B).plus(1).sqrt().plus(1));for(n0=!1,Y=Math.ceil(H/m0),Q=1,U=B.times(B),G=new A(B),X=B;J!==-1;)if(X=X.times(U),M=G.minus(X.div(Q+=2)),X=X.times(U),G=M.plus(X.div(Q+=2)),G.d[Y]!==void 0)for(J=Y;G.d[J]===M.d[J]&&J--;);return W&&(G=G.times(2<<W-1)),n0=!0,y0(G,A.precision=N,A.rounding=D,!0)};D0.isFinite=function(){return!!this.d};D0.isInteger=D0.isInt=function(){return!!this.d&&k2(this.e/m0)>this.d.length-2};D0.isNaN=function(){return!this.s};D0.isNegative=D0.isNeg=function(){return this.s<0};D0.isPositive=D0.isPos=function(){return this.s>0};D0.isZero=function(){return!!this.d&&this.d[0]===0};D0.lessThan=D0.lt=function(J){return this.cmp(J)<0};D0.lessThanOrEqualTo=D0.lte=function(J){return this.cmp(J)<1};D0.logarithm=D0.log=function(J){var Y,W,Q,X,M,G,H,U,B=this,A=B.constructor,N=A.precision,D=A.rounding,q=5;if(J==null)J=new A(10),Y=!0;else{if(J=new A(J),W=J.d,J.s<0||!W||!W[0]||J.eq(1))return new A(NaN);Y=J.eq(10)}if(W=B.d,B.s<0||!W||!W[0]||B.eq(1))return new A(W&&!W[0]?-1/0:B.s!=1?NaN:W?0:1/0);if(Y)if(W.length>1)M=!0;else{for(X=W[0];X%10===0;)X/=10;M=X!==1}if(n0=!1,H=N+q,G=A9(B,H),Q=Y?WG(A,H+10):A9(J,H),U=p1(G,Q,H,1),O$(U.d,X=N,D))do if(H+=10,G=A9(B,H),Q=Y?WG(A,H+10):A9(J,H),U=p1(G,Q,H,1),!M){+L2(U.d).slice(X+1,X+15)+1==100000000000000&&(U=y0(U,N+1,0));break}while(O$(U.d,X+=10,D));return n0=!0,y0(U,N,D)};D0.minus=D0.sub=function(J){var Y,W,Q,X,M,G,H,U,B,A,N,D,q=this,K=q.constructor;if(J=new K(J),!q.d||!J.d)return!q.s||!J.s?J=new K(NaN):q.d?J.s=-J.s:J=new K(J.d||q.s!==J.s?q:NaN),J;if(q.s!=J.s)return J.s=-J.s,q.plus(J);if(B=q.d,D=J.d,H=K.precision,U=K.rounding,!B[0]||!D[0]){if(D[0])J.s=-J.s;else if(B[0])J=new K(q);else return new K(U===3?-0:0);return n0?y0(J,H,U):J}if(W=k2(J.e/m0),A=k2(q.e/m0),B=B.slice(),M=A-W,M){for(N=M<0,N?(Y=B,M=-M,G=D.length):(Y=D,W=A,G=B.length),Q=Math.max(Math.ceil(H/m0),G)+2,M>Q&&(M=Q,Y.length=1),Y.reverse(),Q=M;Q--;)Y.push(0);Y.reverse()}else{for(Q=B.length,G=D.length,N=Q<G,N&&(G=Q),Q=0;Q<G;Q++)if(B[Q]!=D[Q]){N=B[Q]<D[Q];break}M=0}for(N&&(Y=B,B=D,D=Y,J.s=-J.s),G=B.length,Q=D.length-G;Q>0;--Q)B[G++]=0;for(Q=D.length;Q>M;){if(B[--Q]<D[Q]){for(X=Q;X&&B[--X]===0;)B[X]=o6-1;--B[X],B[Q]+=o6}B[Q]-=D[Q]}for(;B[--G]===0;)B.pop();for(;B[0]===0;B.shift())--W;return B[0]?(J.d=B,J.e=UG(B,W),n0?y0(J,H,U):J):new K(U===3?-0:0)};D0.modulo=D0.mod=function(J){var Y,W=this,Q=W.constructor;return J=new Q(J),!W.d||!J.s||J.d&&!J.d[0]?new Q(NaN):!J.d||W.d&&!W.d[0]?y0(new Q(W),Q.precision,Q.rounding):(n0=!1,Q.modulo==9?(Y=p1(W,J.abs(),0,3,1),Y.s*=J.s):Y=p1(W,J,0,Q.modulo,1),Y=Y.times(J),n0=!0,W.minus(Y))};D0.naturalExponential=D0.exp=function(){return pB(this)};D0.naturalLogarithm=D0.ln=function(){return A9(this)};D0.negated=D0.neg=function(){var J=new this.constructor(this);return J.s=-J.s,y0(J)};D0.plus=D0.add=function(J){var Y,W,Q,X,M,G,H,U,B,A,N=this,D=N.constructor;if(J=new D(J),!N.d||!J.d)return!N.s||!J.s?J=new D(NaN):N.d||(J=new D(J.d||N.s===J.s?N:NaN)),J;if(N.s!=J.s)return J.s=-J.s,N.minus(J);if(B=N.d,A=J.d,H=D.precision,U=D.rounding,!B[0]||!A[0])return A[0]||(J=new D(N)),n0?y0(J,H,U):J;if(M=k2(N.e/m0),Q=k2(J.e/m0),B=B.slice(),X=M-Q,X){for(X<0?(W=B,X=-X,G=A.length):(W=A,Q=M,G=B.length),M=Math.ceil(H/m0),G=M>G?M+1:G+1,X>G&&(X=G,W.length=1),W.reverse();X--;)W.push(0);W.reverse()}for(G=B.length,X=A.length,G-X<0&&(X=G,W=A,A=B,B=W),Y=0;X;)Y=(B[--X]=B[X]+A[X]+Y)/o6|0,B[X]%=o6;for(Y&&(B.unshift(Y),++Q),G=B.length;B[--G]==0;)B.pop();return J.d=B,J.e=UG(B,Q),n0?y0(J,H,U):J};D0.precision=D0.sd=function(J){var Y,W=this;if(J!==void 0&&J!==!!J&&J!==1&&J!==0)throw Error(D9+J);return W.d?(Y=IV(W.d),J&&W.e+1>Y&&(Y=W.e+1)):Y=NaN,Y};D0.round=function(){var J=this,Y=J.constructor;return y0(new Y(J),J.e+1,Y.rounding)};D0.sine=D0.sin=function(){var J,Y,W=this,Q=W.constructor;return W.isFinite()?W.isZero()?new Q(W):(J=Q.precision,Y=Q.rounding,Q.precision=J+Math.max(W.e,W.sd())+m0,Q.rounding=1,W=$p(Q,wV(Q,W)),Q.precision=J,Q.rounding=Y,y0(O7>2?W.neg():W,J,Y,!0)):new Q(NaN)};D0.squareRoot=D0.sqrt=function(){var J,Y,W,Q,X,M,G=this,H=G.d,U=G.e,B=G.s,A=G.constructor;if(B!==1||!H||!H[0])return new A(!B||B<0&&(!H||H[0])?NaN:H?G:1/0);for(n0=!1,B=Math.sqrt(+G),B==0||B==1/0?(Y=L2(H),(Y.length+U)%2==0&&(Y+="0"),B=Math.sqrt(Y),U=k2((U+1)/2)-(U<0||U%2),B==1/0?Y="5e"+U:(Y=B.toExponential(),Y=Y.slice(0,Y.indexOf("e")+1)+U),Q=new A(Y)):Q=new A(B.toString()),W=(U=A.precision)+3;;)if(M=Q,Q=M.plus(p1(G,M,W+2,1)).times(0.5),L2(M.d).slice(0,W)===(Y=L2(Q.d)).slice(0,W))if(Y=Y.slice(W-3,W+1),Y=="9999"||!X&&Y=="4999"){if(!X&&(y0(M,U+1,0),M.times(M).eq(G))){Q=M;break}W+=4,X=1}else{(!+Y||!+Y.slice(1)&&Y.charAt(0)=="5")&&(y0(Q,U+1,1),J=!Q.times(Q).eq(G));break}return n0=!0,y0(Q,U,A.rounding,J)};D0.tangent=D0.tan=function(){var J,Y,W=this,Q=W.constructor;return W.isFinite()?W.isZero()?new Q(W):(J=Q.precision,Y=Q.rounding,Q.precision=J+10,Q.rounding=1,W=W.sin(),W.s=1,W=p1(W,new Q(1).minus(W.times(W)).sqrt(),J+10,0),Q.precision=J,Q.rounding=Y,y0(O7==2||O7==4?W.neg():W,J,Y,!0)):new Q(NaN)};D0.times=D0.mul=function(J){var Y,W,Q,X,M,G,H,U,B,A=this,N=A.constructor,D=A.d,q=(J=new N(J)).d;if(J.s*=A.s,!D||!D[0]||!q||!q[0])return new N(!J.s||D&&!D[0]&&!q||q&&!q[0]&&!D?NaN:!D||!q?J.s/0:J.s*0);for(W=k2(A.e/m0)+k2(J.e/m0),U=D.length,B=q.length,U<B&&(M=D,D=q,q=M,G=U,U=B,B=G),M=[],G=U+B,Q=G;Q--;)M.push(0);for(Q=B;--Q>=0;){for(Y=0,X=U+Q;X>Q;)H=M[X]+q[Q]*D[X-Q-1]+Y,M[X--]=H%o6|0,Y=H/o6|0;M[X]=(M[X]+Y)%o6|0}for(;!M[--G];)M.pop();return Y?++W:M.shift(),J.d=M,J.e=UG(M,W),n0?y0(J,N.precision,N.rounding):J};D0.toBinary=function(J,Y){return ZA(this,2,J,Y)};D0.toDecimalPlaces=D0.toDP=function(J,Y){var W=this,Q=W.constructor;return W=new Q(W),J===void 0?W:(z8(J,0,Z9),Y===void 0?Y=Q.rounding:z8(Y,0,8),y0(W,J+W.e+1,Y))};D0.toExponential=function(J,Y){var W,Q=this,X=Q.constructor;return J===void 0?W=P4(Q,!0):(z8(J,0,Z9),Y===void 0?Y=X.rounding:z8(Y,0,8),Q=y0(new X(Q),J+1,Y),W=P4(Q,!0,J+1)),Q.isNeg()&&!Q.isZero()?"-"+W:W};D0.toFixed=function(J,Y){var W,Q,X=this,M=X.constructor;return J===void 0?W=P4(X):(z8(J,0,Z9),Y===void 0?Y=M.rounding:z8(Y,0,8),Q=y0(new M(X),J+X.e+1,Y),W=P4(Q,!1,J+Q.e+1)),X.isNeg()&&!X.isZero()?"-"+W:W};D0.toFraction=function(J){var Y,W,Q,X,M,G,H,U,B,A,N,D,q=this,K=q.d,O=q.constructor;if(!K)return new O(q);if(B=W=new O(1),Q=U=new O(0),Y=new O(Q),M=Y.e=IV(K)-q.e-1,G=M%m0,Y.d[0]=t5(10,G<0?m0+G:G),J==null)J=M>0?Y:B;else{if(H=new O(J),!H.isInt()||H.lt(B))throw Error(D9+H);J=H.gt(Y)?M>0?Y:B:H}for(n0=!1,H=new O(L2(K)),A=O.precision,O.precision=M=K.length*m0*2;N=p1(H,Y,0,1,1),X=W.plus(N.times(Q)),X.cmp(J)!=1;)W=Q,Q=X,X=B,B=U.plus(N.times(X)),U=X,X=Y,Y=H.minus(N.times(X)),H=X;return X=p1(J.minus(W),Q,0,1,1),U=U.plus(X.times(B)),W=W.plus(X.times(Q)),U.s=B.s=q.s,D=p1(B,Q,M,1).minus(q).abs().cmp(p1(U,W,M,1).minus(q).abs())<1?[B,Q]:[U,W],O.precision=A,n0=!0,D};D0.toHexadecimal=D0.toHex=function(J,Y){return ZA(this,16,J,Y)};D0.toNearest=function(J,Y){var W=this,Q=W.constructor;if(W=new Q(W),J==null){if(!W.d)return W;J=new Q(1),Y=Q.rounding}else{if(J=new Q(J),Y===void 0?Y=Q.rounding:z8(Y,0,8),!W.d)return J.s?W:J;if(!J.d)return J.s&&(J.s=W.s),J}return J.d[0]?(n0=!1,W=p1(W,J,0,Y,1).times(J),n0=!0,y0(W)):(J.s=W.s,W=J),W};D0.toNumber=function(){return+this};D0.toOctal=function(J,Y){return ZA(this,8,J,Y)};D0.toPower=D0.pow=function(J){var Y,W,Q,X,M,G,H=this,U=H.constructor,B=+(J=new U(J));if(!H.d||!J.d||!H.d[0]||!J.d[0])return new U(t5(+H,B));if(H=new U(H),H.eq(1))return H;if(Q=U.precision,M=U.rounding,J.eq(1))return y0(H,Q,M);if(Y=k2(J.e/m0),Y>=J.d.length-1&&(W=B<0?-B:B)<=Jp)return X=RV(U,H,W,Q),J.s<0?new U(1).div(X):y0(X,Q,M);if(G=H.s,G<0){if(Y<J.d.length-1)return new U(NaN);if((J.d[Y]&1)==0&&(G=1),H.e==0&&H.d[0]==1&&H.d.length==1)return H.s=G,H}return W=t5(+H,B),Y=W==0||!isFinite(W)?k2(B*(Math.log("0."+L2(H.d))/Math.LN10+H.e+1)):new U(W+"").e,Y>U.maxE+1||Y<U.minE-1?new U(Y>0?G/0:0):(n0=!1,U.rounding=H.s=1,W=Math.min(12,(Y+"").length),X=pB(J.times(A9(H,Q+W)),Q),X.d&&(X=y0(X,Q+5,1),O$(X.d,Q,M)&&(Y=Q+10,X=y0(pB(J.times(A9(H,Y+W)),Y),Y+5,1),+L2(X.d).slice(Q+1,Q+15)+1==100000000000000&&(X=y0(X,Q+1,0)))),X.s=G,n0=!0,U.rounding=M,y0(X,Q,M))};D0.toPrecision=function(J,Y){var W,Q=this,X=Q.constructor;return J===void 0?W=P4(Q,Q.e<=X.toExpNeg||Q.e>=X.toExpPos):(z8(J,1,Z9),Y===void 0?Y=X.rounding:z8(Y,0,8),Q=y0(new X(Q),J,Y),W=P4(Q,J<=Q.e||Q.e<=X.toExpNeg,J)),Q.isNeg()&&!Q.isZero()?"-"+W:W};D0.toSignificantDigits=D0.toSD=function(J,Y){var W=this,Q=W.constructor;return J===void 0?(J=Q.precision,Y=Q.rounding):(z8(J,1,Z9),Y===void 0?Y=Q.rounding:z8(Y,0,8)),y0(new Q(W),J,Y)};D0.toString=function(){var J=this,Y=J.constructor,W=P4(J,J.e<=Y.toExpNeg||J.e>=Y.toExpPos);return J.isNeg()&&!J.isZero()?"-"+W:W};D0.truncated=D0.trunc=function(){return y0(new this.constructor(this),this.e+1,1)};D0.valueOf=D0.toJSON=function(){var J=this,Y=J.constructor,W=P4(J,J.e<=Y.toExpNeg||J.e>=Y.toExpPos);return J.isNeg()?"-"+W:W};function L2(J){var Y,W,Q,X=J.length-1,M="",G=J[0];if(X>0){for(M+=G,Y=1;Y<X;Y++)Q=J[Y]+"",W=m0-Q.length,W&&(M+=B9(W)),M+=Q;G=J[Y],Q=G+"",W=m0-Q.length,W&&(M+=B9(W))}else if(G===0)return"0";for(;G%10===0;)G/=10;return M+G}function z8(J,Y,W){if(J!==~~J||J<Y||J>W)throw Error(D9+J)}function O$(J,Y,W,Q){var X,M,G,H;for(M=J[0];M>=10;M/=10)--Y;return--Y<0?(Y+=m0,X=0):(X=Math.ceil((Y+1)/m0),Y%=m0),M=t5(10,m0-Y),H=J[X]%M|0,Q==null?Y<3?(Y==0?H=H/100|0:Y==1&&(H=H/10|0),G=W<4&&H==99999||W>3&&H==49999||H==50000||H==0):G=(W<4&&H+1==M||W>3&&H+1==M/2)&&(J[X+1]/M/100|0)==t5(10,Y-2)-1||(H==M/2||H==0)&&(J[X+1]/M/100|0)==0:Y<4?(Y==0?H=H/1000|0:Y==1?H=H/100|0:Y==2&&(H=H/10|0),G=(Q||W<4)&&H==9999||!Q&&W>3&&H==4999):G=((Q||W<4)&&H+1==M||!Q&&W>3&&H+1==M/2)&&(J[X+1]/M/1000|0)==t5(10,Y-3)-1,G}function lM(J,Y,W){for(var Q,X=[0],M,G=0,H=J.length;G<H;){for(M=X.length;M--;)X[M]*=Y;for(X[0]+=dB.indexOf(J.charAt(G++)),Q=0;Q<X.length;Q++)X[Q]>W-1&&(X[Q+1]===void 0&&(X[Q+1]=0),X[Q+1]+=X[Q]/W|0,X[Q]%=W)}return X.reverse()}function Wp(J,Y){var W,Q,X;if(Y.isZero())return Y;Q=Y.d.length,Q<32?(W=Math.ceil(Q/3),X=(1/BG(4,W)).toString()):(W=16,X="2.3283064365386962890625e-10"),J.precision+=W,Y=XW(J,1,Y.times(X),new J(1));for(var M=W;M--;){var G=Y.times(Y);Y=G.times(G).minus(G).times(8).plus(1)}return J.precision-=W,Y}var p1=function(){function J(Q,X,M){var G,H=0,U=Q.length;for(Q=Q.slice();U--;)G=Q[U]*X+H,Q[U]=G%M|0,H=G/M|0;return H&&Q.unshift(H),Q}function Y(Q,X,M,G){var H,U;if(M!=G)U=M>G?1:-1;else for(H=U=0;H<M;H++)if(Q[H]!=X[H]){U=Q[H]>X[H]?1:-1;break}return U}function W(Q,X,M,G){for(var H=0;M--;)Q[M]-=H,H=Q[M]<X[M]?1:0,Q[M]=H*G+Q[M]-X[M];for(;!Q[0]&&Q.length>1;)Q.shift()}return function(Q,X,M,G,H,U){var B,A,N,D,q,K,O,z,V,L,S,g,d,I,F,R,j,x,_,k,l=Q.constructor,q0=Q.s==X.s?1:-1,r=Q.d,Z0=X.d;if(!r||!r[0]||!Z0||!Z0[0])return new l(!Q.s||!X.s||(r?Z0&&r[0]==Z0[0]:!Z0)?NaN:r&&r[0]==0||!Z0?q0*0:q0/0);for(U?(q=1,A=Q.e-X.e):(U=o6,q=m0,A=k2(Q.e/q)-k2(X.e/q)),_=Z0.length,j=r.length,V=new l(q0),L=V.d=[],N=0;Z0[N]==(r[N]||0);N++);if(Z0[N]>(r[N]||0)&&A--,M==null?(I=M=l.precision,G=l.rounding):H?I=M+(Q.e-X.e)+1:I=M,I<0)L.push(1),K=!0;else{if(I=I/q+2|0,N=0,_==1){for(D=0,Z0=Z0[0],I++;(N<j||D)&&I--;N++)F=D*U+(r[N]||0),L[N]=F/Z0|0,D=F%Z0|0;K=D||N<j}else{for(D=U/(Z0[0]+1)|0,D>1&&(Z0=J(Z0,D,U),r=J(r,D,U),_=Z0.length,j=r.length),R=_,S=r.slice(0,_),g=S.length;g<_;)S[g++]=0;k=Z0.slice(),k.unshift(0),x=Z0[0],Z0[1]>=U/2&&++x;do D=0,B=Y(Z0,S,_,g),B<0?(d=S[0],_!=g&&(d=d*U+(S[1]||0)),D=d/x|0,D>1?(D>=U&&(D=U-1),O=J(Z0,D,U),z=O.length,g=S.length,B=Y(O,S,z,g),B==1&&(D--,W(O,_<z?k:Z0,z,U))):(D==0&&(B=D=1),O=Z0.slice()),z=O.length,z<g&&O.unshift(0),W(S,O,g,U),B==-1&&(g=S.length,B=Y(Z0,S,_,g),B<1&&(D++,W(S,_<g?k:Z0,g,U))),g=S.length):B===0&&(D++,S=[0]),L[N++]=D,B&&S[0]?S[g++]=r[R]||0:(S=[r[R]],g=1);while((R++<j||S[0]!==void 0)&&I--);K=S[0]!==void 0}L[0]||L.shift()}if(q==1)V.e=A,FV=K;else{for(N=1,D=L[0];D>=10;D/=10)N++;V.e=N+A*q-1,y0(V,H?M+V.e+1:M,G,K)}return V}}();function y0(J,Y,W,Q){var X,M,G,H,U,B,A,N,D,q=J.constructor;J:if(Y!=null){if(N=J.d,!N)return J;for(X=1,H=N[0];H>=10;H/=10)X++;if(M=Y-X,M<0)M+=m0,G=Y,A=N[D=0],U=A/t5(10,X-G-1)%10|0;else if(D=Math.ceil((M+1)/m0),H=N.length,D>=H)if(Q){for(;H++<=D;)N.push(0);A=U=0,X=1,M%=m0,G=M-m0+1}else break J;else{for(A=H=N[D],X=1;H>=10;H/=10)X++;M%=m0,G=M-m0+X,U=G<0?0:A/t5(10,X-G-1)%10|0}if(Q=Q||Y<0||N[D+1]!==void 0||(G<0?A:A%t5(10,X-G-1)),B=W<4?(U||Q)&&(W==0||W==(J.s<0?3:2)):U>5||U==5&&(W==4||Q||W==6&&(M>0?G>0?A/t5(10,X-G):0:N[D-1])%10&1||W==(J.s<0?8:7)),Y<1||!N[0])return N.length=0,B?(Y-=J.e+1,N[0]=t5(10,(m0-Y%m0)%m0),J.e=-Y||0):N[0]=J.e=0,J;if(M==0?(N.length=D,H=1,D--):(N.length=D+1,H=t5(10,m0-M),N[D]=G>0?(A/t5(10,X-G)%t5(10,G)|0)*H:0),B)for(;;)if(D==0){for(M=1,G=N[0];G>=10;G/=10)M++;for(G=N[0]+=H,H=1;G>=10;G/=10)H++;M!=H&&(J.e++,N[0]==o6&&(N[0]=1));break}else{if(N[D]+=H,N[D]!=o6)break;N[D--]=0,H=1}for(M=N.length;N[--M]===0;)N.pop()}return n0&&(J.e>q.maxE?(J.d=null,J.e=NaN):J.e<q.minE&&(J.e=0,J.d=[0])),J}function P4(J,Y,W){if(!J.isFinite())return _V(J);var Q,X=J.e,M=L2(J.d),G=M.length;return Y?(W&&(Q=W-G)>0?M=M.charAt(0)+"."+M.slice(1)+B9(Q):G>1&&(M=M.charAt(0)+"."+M.slice(1)),M=M+(J.e<0?"e":"e+")+J.e):X<0?(M="0."+B9(-X-1)+M,W&&(Q=W-G)>0&&(M+=B9(Q))):X>=G?(M+=B9(X+1-G),W&&(Q=W-X-1)>0&&(M=M+"."+B9(Q))):((Q=X+1)<G&&(M=M.slice(0,Q)+"."+M.slice(Q)),W&&(Q=W-G)>0&&(X+1===G&&(M+="."),M+=B9(Q))),M}function UG(J,Y){var W=J[0];for(Y*=m0;W>=10;W/=10)Y++;return Y}function WG(J,Y,W){if(Y>Yp)throw n0=!0,W&&(J.precision=W),Error(EV);return y0(new J(JG),Y,1,!0)}function E4(J,Y,W){if(Y>uB)throw Error(EV);return y0(new J(YG),Y,W,!0)}function IV(J){var Y=J.length-1,W=Y*m0+1;if(Y=J[Y],Y){for(;Y%10==0;Y/=10)W--;for(Y=J[0];Y>=10;Y/=10)W++}return W}function B9(J){for(var Y="";J--;)Y+="0";return Y}function RV(J,Y,W,Q){var X,M=new J(1),G=Math.ceil(Q/m0+4);for(n0=!1;;){if(W%2&&(M=M.times(Y),AS(M.d,G)&&(X=!0)),W=k2(W/2),W===0){W=M.d.length-1,X&&M.d[W]===0&&++M.d[W];break}Y=Y.times(Y),AS(Y.d,G)}return n0=!0,M}function BS(J){return J.d[J.d.length-1]&1}function TV(J,Y,W){for(var Q,X,M=new J(Y[0]),G=0;++G<Y.length;){if(X=new J(Y[G]),!X.s){M=X;break}Q=M.cmp(X),(Q===W||Q===0&&M.s===W)&&(M=X)}return M}function pB(J,Y){var W,Q,X,M,G,H,U,B=0,A=0,N=0,D=J.constructor,q=D.rounding,K=D.precision;if(!J.d||!J.d[0]||J.e>17)return new D(J.d?J.d[0]?J.s<0?0:1/0:1:J.s?J.s<0?0:J:NaN);for(Y==null?(n0=!1,U=K):U=Y,H=new D(0.03125);J.e>-2;)J=J.times(H),N+=5;for(Q=Math.log(t5(2,N))/Math.LN10*2+5|0,U+=Q,W=M=G=new D(1),D.precision=U;;){if(M=y0(M.times(J),U,1),W=W.times(++A),H=G.plus(p1(M,W,U,1)),L2(H.d).slice(0,U)===L2(G.d).slice(0,U)){for(X=N;X--;)G=y0(G.times(G),U,1);if(Y==null)if(B<3&&O$(G.d,U-Q,q,B))D.precision=U+=10,W=M=H=new D(1),A=0,B++;else return y0(G,D.precision=K,q,n0=!0);else return D.precision=K,G}G=H}}function A9(J,Y){var W,Q,X,M,G,H,U,B,A,N,D,q=1,K=10,O=J,z=O.d,V=O.constructor,L=V.rounding,S=V.precision;if(O.s<0||!z||!z[0]||!O.e&&z[0]==1&&z.length==1)return new V(z&&!z[0]?-1/0:O.s!=1?NaN:z?0:O);if(Y==null?(n0=!1,A=S):A=Y,V.precision=A+=K,W=L2(z),Q=W.charAt(0),Math.abs(M=O.e)<1500000000000000){for(;Q<7&&Q!=1||Q==1&&W.charAt(1)>3;)O=O.times(J),W=L2(O.d),Q=W.charAt(0),q++;M=O.e,Q>1?(O=new V("0."+W),M++):O=new V(Q+"."+W.slice(1))}else return B=WG(V,A+2,S).times(M+""),O=A9(new V(Q+"."+W.slice(1)),A-K).plus(B),V.precision=S,Y==null?y0(O,S,L,n0=!0):O;for(N=O,U=G=O=p1(O.minus(1),O.plus(1),A,1),D=y0(O.times(O),A,1),X=3;;){if(G=y0(G.times(D),A,1),B=U.plus(p1(G,new V(X),A,1)),L2(B.d).slice(0,A)===L2(U.d).slice(0,A))if(U=U.times(2),M!==0&&(U=U.plus(WG(V,A+2,S).times(M+""))),U=p1(U,new V(q),A,1),Y==null)if(O$(U.d,A-K,L,H))V.precision=A+=K,B=G=O=p1(N.minus(1),N.plus(1),A,1),D=y0(O.times(O),A,1),X=H=1;else return y0(U,V.precision=S,L,n0=!0);else return V.precision=S,U;U=B,X+=2}}function _V(J){return String(J.s*J.s/0)}function oM(J,Y){var W,Q,X;for((W=Y.indexOf("."))>-1&&(Y=Y.replace(".","")),(Q=Y.search(/e/i))>0?(W<0&&(W=Q),W+=+Y.slice(Q+1),Y=Y.substring(0,Q)):W<0&&(W=Y.length),Q=0;Y.charCodeAt(Q)===48;Q++);for(X=Y.length;Y.charCodeAt(X-1)===48;--X);if(Y=Y.slice(Q,X),Y){if(X-=Q,J.e=W=W-Q-1,J.d=[],Q=(W+1)%m0,W<0&&(Q+=m0),Q<X){for(Q&&J.d.push(+Y.slice(0,Q)),X-=m0;Q<X;)J.d.push(+Y.slice(Q,Q+=m0));Y=Y.slice(Q),Q=m0-Y.length}else Q-=X;for(;Q--;)Y+="0";J.d.push(+Y),n0&&(J.e>J.constructor.maxE?(J.d=null,J.e=NaN):J.e<J.constructor.minE&&(J.e=0,J.d=[0]))}else J.e=0,J.d=[0];return J}function Qp(J,Y){var W,Q,X,M,G,H,U,B,A;if(Y.indexOf("_")>-1){if(Y=Y.replace(/(\d)_(?=\d)/g,"$1"),CV.test(Y))return oM(J,Y)}else if(Y==="Infinity"||Y==="NaN")return+Y||(J.s=NaN),J.e=NaN,J.d=null,J;if(tu.test(Y))W=16,Y=Y.toLowerCase();else if(su.test(Y))W=2;else if(eu.test(Y))W=8;else throw Error(D9+Y);for(M=Y.search(/p/i),M>0?(U=+Y.slice(M+1),Y=Y.substring(2,M)):Y=Y.slice(2),M=Y.indexOf("."),G=M>=0,Q=J.constructor,G&&(Y=Y.replace(".",""),H=Y.length,M=H-M,X=RV(Q,new Q(W),M,M*2)),B=lM(Y,W,o6),A=B.length-1,M=A;B[M]===0;--M)B.pop();return M<0?new Q(J.s*0):(J.e=UG(B,A),J.d=B,n0=!1,G&&(J=p1(J,X,H*4)),U&&(J=J.times(Math.abs(U)<54?t5(2,U):ZJ.pow(2,U))),n0=!0,J)}function $p(J,Y){var W,Q=Y.d.length;if(Q<3)return Y.isZero()?Y:XW(J,2,Y,Y);W=1.4*Math.sqrt(Q),W=W>16?16:W|0,Y=Y.times(1/BG(5,W)),Y=XW(J,2,Y,Y);for(var X,M=new J(5),G=new J(16),H=new J(20);W--;)X=Y.times(Y),Y=Y.times(M.plus(X.times(G.times(X).minus(H))));return Y}function XW(J,Y,W,Q,X){var M,G,H,U,B=1,A=J.precision,N=Math.ceil(A/m0);for(n0=!1,U=W.times(W),H=new J(Q);;){if(G=p1(H.times(U),new J(Y++*Y++),A,1),H=X?Q.plus(G):Q.minus(G),Q=p1(G.times(U),new J(Y++*Y++),A,1),G=H.plus(Q),G.d[N]!==void 0){for(M=N;G.d[M]===H.d[M]&&M--;);if(M==-1)break}M=H,H=Q,Q=G,G=M,B++}return n0=!0,G.d.length=N+1,G}function BG(J,Y){for(var W=J;--Y;)W*=J;return W}function wV(J,Y){var W,Q=Y.s<0,X=E4(J,J.precision,1),M=X.times(0.5);if(Y=Y.abs(),Y.lte(M))return O7=Q?4:1,Y;if(W=Y.divToInt(X),W.isZero())O7=Q?3:2;else{if(Y=Y.minus(W.times(X)),Y.lte(M))return O7=BS(W)?Q?2:3:Q?4:1,Y;O7=BS(W)?Q?1:4:Q?3:2}return Y.minus(X).abs()}function ZA(J,Y,W,Q){var X,M,G,H,U,B,A,N,D,q=J.constructor,K=W!==void 0;if(K?(z8(W,1,Z9),Q===void 0?Q=q.rounding:z8(Q,0,8)):(W=q.precision,Q=q.rounding),!J.isFinite())A=_V(J);else{for(A=P4(J),G=A.indexOf("."),K?(X=2,Y==16?W=W*4-3:Y==8&&(W=W*3-2)):X=Y,G>=0&&(A=A.replace(".",""),D=new q(1),D.e=A.length-G,D.d=lM(P4(D),10,X),D.e=D.d.length),N=lM(A,10,X),M=U=N.length;N[--U]==0;)N.pop();if(!N[0])A=K?"0p+0":"0";else{if(G<0?M--:(J=new q(J),J.d=N,J.e=M,J=p1(J,D,W,Q,0,X),N=J.d,M=J.e,B=FV),G=N[W],H=X/2,B=B||N[W+1]!==void 0,B=Q<4?(G!==void 0||B)&&(Q===0||Q===(J.s<0?3:2)):G>H||G===H&&(Q===4||B||Q===6&&N[W-1]&1||Q===(J.s<0?8:7)),N.length=W,B)for(;++N[--W]>X-1;)N[W]=0,W||(++M,N.unshift(1));for(U=N.length;!N[U-1];--U);for(G=0,A="";G<U;G++)A+=dB.charAt(N[G]);if(K){if(U>1)if(Y==16||Y==8){for(G=Y==16?4:3,--U;U%G;U++)A+="0";for(N=lM(A,X,Y),U=N.length;!N[U-1];--U);for(G=1,A="1.";G<U;G++)A+=dB.charAt(N[G])}else A=A.charAt(0)+"."+A.slice(1);A=A+(M<0?"p":"p+")+M}else if(M<0){for(;++M;)A="0"+A;A="0."+A}else if(++M>U)for(M-=U;M--;)A+="0";else M<U&&(A=A.slice(0,M)+"."+A.slice(M))}A=(Y==16?"0x":Y==2?"0b":Y==8?"0o":"")+A}return J.s<0?"-"+A:A}function AS(J,Y){if(J.length>Y)return J.length=Y,!0}function Xp(J){return new this(J).abs()}function Mp(J){return new this(J).acos()}function Gp(J){return new this(J).acosh()}function Hp(J,Y){return new this(J).plus(Y)}function Up(J){return new this(J).asin()}function Bp(J){return new this(J).asinh()}function Ap(J){return new this(J).atan()}function Np(J){return new this(J).atanh()}function qp(J,Y){J=new this(J),Y=new this(Y);var W,Q=this.precision,X=this.rounding,M=Q+4;return!J.s||!Y.s?W=new this(NaN):!J.d&&!Y.d?(W=E4(this,M,1).times(Y.s>0?0.25:0.75),W.s=J.s):!Y.d||J.isZero()?(W=Y.s<0?E4(this,Q,X):new this(0),W.s=J.s):!J.d||Y.isZero()?(W=E4(this,M,1).times(0.5),W.s=J.s):Y.s<0?(this.precision=M,this.rounding=1,W=this.atan(p1(J,Y,M,1)),Y=E4(this,M,1),this.precision=Q,this.rounding=X,W=J.s<0?W.minus(Y):W.plus(Y)):W=this.atan(p1(J,Y,M,1)),W}function Dp(J){return new this(J).cbrt()}function Zp(J){return y0(J=new this(J),J.e+1,2)}function Op(J,Y,W){return new this(J).clamp(Y,W)}function Kp(J){if(!J||typeof J!="object")throw Error(HG+"Object expected");var Y,W,Q,X=J.defaults===!0,M=["precision",1,Z9,"rounding",0,8,"toExpNeg",-WW,0,"toExpPos",0,WW,"maxE",0,WW,"minE",-WW,0,"modulo",0,9];for(Y=0;Y<M.length;Y+=3)if(W=M[Y],X&&(this[W]=cB[W]),(Q=J[W])!==void 0)if(k2(Q)===Q&&Q>=M[Y+1]&&Q<=M[Y+2])this[W]=Q;else throw Error(D9+W+": "+Q);if(W="crypto",X&&(this[W]=cB[W]),(Q=J[W])!==void 0)if(Q===!0||Q===!1||Q===0||Q===1)if(Q)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[W]=!0;else throw Error(jV);else this[W]=!1;else throw Error(D9+W+": "+Q);return this}function zp(J){return new this(J).cos()}function Lp(J){return new this(J).cosh()}function kV(J){var Y,W,Q;function X(M){var G,H,U,B=this;if(!(B instanceof X))return new X(M);if(B.constructor=X,NS(M)){B.s=M.s,n0?!M.d||M.e>X.maxE?(B.e=NaN,B.d=null):M.e<X.minE?(B.e=0,B.d=[0]):(B.e=M.e,B.d=M.d.slice()):(B.e=M.e,B.d=M.d?M.d.slice():M.d);return}if(U=typeof M,U==="number"){if(M===0){B.s=1/M<0?-1:1,B.e=0,B.d=[0];return}if(M<0?(M=-M,B.s=-1):B.s=1,M===~~M&&M<1e7){for(G=0,H=M;H>=10;H/=10)G++;n0?G>X.maxE?(B.e=NaN,B.d=null):G<X.minE?(B.e=0,B.d=[0]):(B.e=G,B.d=[M]):(B.e=G,B.d=[M]);return}if(M*0!==0){M||(B.s=NaN),B.e=NaN,B.d=null;return}return oM(B,M.toString())}if(U==="string")return(H=M.charCodeAt(0))===45?(M=M.slice(1),B.s=-1):(H===43&&(M=M.slice(1)),B.s=1),CV.test(M)?oM(B,M):Qp(B,M);if(U==="bigint")return M<0?(M=-M,B.s=-1):B.s=1,oM(B,M.toString());throw Error(D9+M)}if(X.prototype=D0,X.ROUND_UP=0,X.ROUND_DOWN=1,X.ROUND_CEIL=2,X.ROUND_FLOOR=3,X.ROUND_HALF_UP=4,X.ROUND_HALF_DOWN=5,X.ROUND_HALF_EVEN=6,X.ROUND_HALF_CEIL=7,X.ROUND_HALF_FLOOR=8,X.EUCLID=9,X.config=X.set=Kp,X.clone=kV,X.isDecimal=NS,X.abs=Xp,X.acos=Mp,X.acosh=Gp,X.add=Hp,X.asin=Up,X.asinh=Bp,X.atan=Ap,X.atanh=Np,X.atan2=qp,X.cbrt=Dp,X.ceil=Zp,X.clamp=Op,X.cos=zp,X.cosh=Lp,X.div=Sp,X.exp=Vp,X.floor=Fp,X.hypot=Ep,X.ln=jp,X.log=Pp,X.log10=Ip,X.log2=Cp,X.max=Rp,X.min=Tp,X.mod=_p,X.mul=wp,X.pow=kp,X.random=xp,X.round=gp,X.sign=yp,X.sin=fp,X.sinh=vp,X.sqrt=bp,X.sub=hp,X.sum=mp,X.tan=dp,X.tanh=cp,X.trunc=up,J===void 0&&(J={}),J&&J.defaults!==!0)for(Q=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],Y=0;Y<Q.length;)J.hasOwnProperty(W=Q[Y++])||(J[W]=this[W]);return X.config(J),X}function Sp(J,Y){return new this(J).div(Y)}function Vp(J){return new this(J).exp()}function Fp(J){return y0(J=new this(J),J.e+1,3)}function Ep(){var J,Y,W=new this(0);for(n0=!1,J=0;J<arguments.length;)if(Y=new this(arguments[J++]),Y.d)W.d&&(W=W.plus(Y.times(Y)));else{if(Y.s)return n0=!0,new this(1/0);W=Y}return n0=!0,W.sqrt()}function NS(J){return J instanceof ZJ||J&&J.toStringTag===PV||!1}function jp(J){return new this(J).ln()}function Pp(J,Y){return new this(J).log(Y)}function Cp(J){return new this(J).log(2)}function Ip(J){return new this(J).log(10)}function Rp(){return TV(this,arguments,-1)}function Tp(){return TV(this,arguments,1)}function _p(J,Y){return new this(J).mod(Y)}function wp(J,Y){return new this(J).mul(Y)}function kp(J,Y){return new this(J).pow(Y)}function xp(J){var Y,W,Q,X,M=0,G=new this(1),H=[];if(J===void 0?J=this.precision:z8(J,1,Z9),Q=Math.ceil(J/m0),this.crypto)if(crypto.getRandomValues)for(Y=crypto.getRandomValues(new Uint32Array(Q));M<Q;)X=Y[M],X>=4290000000?Y[M]=crypto.getRandomValues(new Uint32Array(1))[0]:H[M++]=X%1e7;else if(crypto.randomBytes){for(Y=crypto.randomBytes(Q*=4);M<Q;)X=Y[M]+(Y[M+1]<<8)+(Y[M+2]<<16)+((Y[M+3]&127)<<24),X>=2140000000?crypto.randomBytes(4).copy(Y,M):(H.push(X%1e7),M+=4);M=Q/4}else throw Error(jV);else for(;M<Q;)H[M++]=Math.random()*1e7|0;for(Q=H[--M],J%=m0,Q&&J&&(X=t5(10,m0-J),H[M]=(Q/X|0)*X);H[M]===0;M--)H.pop();if(M<0)W=0,H=[0];else{for(W=-1;H[0]===0;W-=m0)H.shift();for(Q=1,X=H[0];X>=10;X/=10)Q++;Q<m0&&(W-=m0-Q)}return G.e=W,G.d=H,G}function gp(J){return y0(J=new this(J),J.e+1,this.rounding)}function yp(J){return J=new this(J),J.d?J.d[0]?J.s:0*J.s:J.s||NaN}function fp(J){return new this(J).sin()}function vp(J){return new this(J).sinh()}function bp(J){return new this(J).sqrt()}function hp(J,Y){return new this(J).sub(Y)}function mp(){var J=0,Y=arguments,W=new this(Y[J]);for(n0=!1;W.s&&++J<Y.length;)W=W.plus(Y[J]);return n0=!0,y0(W,this.precision,this.rounding)}function dp(J){return new this(J).tan()}function cp(J){return new this(J).tanh()}function up(J){return y0(J=new this(J),J.e+1,1)}D0[Symbol.for("nodejs.util.inspect.custom")]=D0.toString;D0[Symbol.toStringTag]="Decimal";var ZJ=D0.constructor=kV(cB);JG=new ZJ(JG);YG=new ZJ(YG);var AG=ZJ;function OA(J){return ZJ.isDecimal(J)?!0:J!==null&&typeof J=="object"&&typeof J.s=="number"&&typeof J.e=="number"&&typeof J.toFixed=="function"&&Array.isArray(J.d)}var pp={};HW(pp,{ModelAction:()=>NG,datamodelEnumToSchemaEnum:()=>np});function np(J){return{name:J.name,values:J.values.map((Y)=>Y.name)}}var NG=((J)=>(J.findUnique="findUnique",J.findUniqueOrThrow="findUniqueOrThrow",J.findFirst="findFirst",J.findFirstOrThrow="findFirstOrThrow",J.findMany="findMany",J.create="create",J.createMany="createMany",J.createManyAndReturn="createManyAndReturn",J.update="update",J.updateMany="updateMany",J.updateManyAndReturn="updateManyAndReturn",J.upsert="upsert",J.delete="delete",J.deleteMany="deleteMany",J.groupBy="groupBy",J.count="count",J.aggregate="aggregate",J.findRaw="findRaw",J.aggregateRaw="aggregateRaw",J))(NG||{}),ip=Q6(aS()),op={keyword:NJ,entity:NJ,value:(J)=>l6(X$(J)),punctuation:X$,directive:NJ,function:NJ,variable:(J)=>l6(X$(J)),string:(J)=>l6(A$(J)),boolean:L$,number:NJ,comment:MA},rp=(J)=>J,uM={},ap=0,t0={manual:uM.Prism&&uM.Prism.manual,disableWorkerMessageHandler:uM.Prism&&uM.Prism.disableWorkerMessageHandler,util:{encode:function(J){if(J instanceof V4){let Y=J;return new V4(Y.type,t0.util.encode(Y.content),Y.alias)}else return Array.isArray(J)?J.map(t0.util.encode):J.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(J){return Object.prototype.toString.call(J).slice(8,-1)},objId:function(J){return J.__id||Object.defineProperty(J,"__id",{value:++ap}),J.__id},clone:function J(Y,W){let Q,X,M=t0.util.type(Y);switch(W=W||{},M){case"Object":if(X=t0.util.objId(Y),W[X])return W[X];Q={},W[X]=Q;for(let G in Y)Y.hasOwnProperty(G)&&(Q[G]=J(Y[G],W));return Q;case"Array":return X=t0.util.objId(Y),W[X]?W[X]:(Q=[],W[X]=Q,Y.forEach(function(G,H){Q[H]=J(G,W)}),Q);default:return Y}}},languages:{extend:function(J,Y){let W=t0.util.clone(t0.languages[J]);for(let Q in Y)W[Q]=Y[Q];return W},insertBefore:function(J,Y,W,Q){Q=Q||t0.languages;let X=Q[J],M={};for(let H in X)if(X.hasOwnProperty(H)){if(H==Y)for(let U in W)W.hasOwnProperty(U)&&(M[U]=W[U]);W.hasOwnProperty(H)||(M[H]=X[H])}let G=Q[J];return Q[J]=M,t0.languages.DFS(t0.languages,function(H,U){U===G&&H!=J&&(this[H]=M)}),M},DFS:function J(Y,W,Q,X){X=X||{};let M=t0.util.objId;for(let G in Y)if(Y.hasOwnProperty(G)){W.call(Y,G,Y[G],Q||G);let H=Y[G],U=t0.util.type(H);U==="Object"&&!X[M(H)]?(X[M(H)]=!0,J(H,W,null,X)):U==="Array"&&!X[M(H)]&&(X[M(H)]=!0,J(H,W,G,X))}}},plugins:{},highlight:function(J,Y,W){let Q={code:J,grammar:Y,language:W};return t0.hooks.run("before-tokenize",Q),Q.tokens=t0.tokenize(Q.code,Q.grammar),t0.hooks.run("after-tokenize",Q),V4.stringify(t0.util.encode(Q.tokens),Q.language)},matchGrammar:function(J,Y,W,Q,X,M,G){for(let O in W){if(!W.hasOwnProperty(O)||!W[O])continue;if(O==G)return;let z=W[O];z=t0.util.type(z)==="Array"?z:[z];for(let V=0;V<z.length;++V){let L=z[V],S=L.inside,g=!!L.lookbehind,d=!!L.greedy,I=0,F=L.alias;if(d&&!L.pattern.global){let R=L.pattern.toString().match(/[imuy]*$/)[0];L.pattern=RegExp(L.pattern.source,R+"g")}L=L.pattern||L;for(let R=Q,j=X;R<Y.length;j+=Y[R].length,++R){let x=Y[R];if(Y.length>J.length)return;if(x instanceof V4)continue;if(d&&R!=Y.length-1){L.lastIndex=j;var N=L.exec(J);if(!N)break;var A=N.index+(g?N[1].length:0),D=N.index+N[0].length,H=R,U=j;for(let Z0=Y.length;H<Z0&&(U<D||!Y[H].type&&!Y[H-1].greedy);++H)U+=Y[H].length,A>=U&&(++R,j=U);if(Y[R]instanceof V4)continue;B=H-R,x=J.slice(j,U),N.index-=j}else{L.lastIndex=0;var N=L.exec(x),B=1}if(!N){if(M)break;continue}g&&(I=N[1]?N[1].length:0);var A=N.index+I,N=N[0].slice(I),D=A+N.length,q=x.slice(0,A),K=x.slice(D);let _=[R,B];q&&(++R,j+=q.length,_.push(q));let k=new V4(O,S?t0.tokenize(N,S):N,F,N,d);if(_.push(k),K&&_.push(K),Array.prototype.splice.apply(Y,_),B!=1&&t0.matchGrammar(J,Y,W,R,j,!0,O),M)break}}}},tokenize:function(J,Y){let W=[J],Q=Y.rest;if(Q){for(let X in Q)Y[X]=Q[X];delete Y.rest}return t0.matchGrammar(J,W,Y,0,0,!1),W},hooks:{all:{},add:function(J,Y){let W=t0.hooks.all;W[J]=W[J]||[],W[J].push(Y)},run:function(J,Y){let W=t0.hooks.all[J];if(!(!W||!W.length))for(var Q=0,X;X=W[Q++];)X(Y)}},Token:V4};t0.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};t0.languages.javascript=t0.languages.extend("clike",{"class-name":[t0.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/});t0.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/;t0.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:t0.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:t0.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:t0.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:t0.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});t0.languages.markup&&t0.languages.markup.tag.addInlined("script","javascript");t0.languages.js=t0.languages.javascript;t0.languages.typescript=t0.languages.extend("javascript",{keyword:/\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/});t0.languages.ts=t0.languages.typescript;function V4(J,Y,W,Q,X){this.type=J,this.content=Y,this.alias=W,this.length=(Q||"").length|0,this.greedy=!!X}V4.stringify=function(J,Y){return typeof J=="string"?J:Array.isArray(J)?J.map(function(W){return V4.stringify(W,Y)}).join(""):sp(J.type)(J.content)};function sp(J){return op[J]||rp}function tp(J){return ep(J,t0.languages.javascript)}function ep(J,Y){return t0.tokenize(J,Y).map((W)=>V4.stringify(W)).join("")}function Jn(J){return Iu(J)}var Yn=class J{firstLineNumber;lines;static read(Y){let W;try{W=lp.readFileSync(Y,"utf-8")}catch{return null}return J.fromContent(W)}static fromContent(Y){let W=Y.split(/\r?\n/);return new J(1,W)}constructor(Y,W){this.firstLineNumber=Y,this.lines=W}get lastLineNumber(){return this.firstLineNumber+this.lines.length-1}mapLineAt(Y,W){if(Y<this.firstLineNumber||Y>this.lines.length+this.firstLineNumber)return this;let Q=Y-this.firstLineNumber,X=[...this.lines];return X[Q]=W(X[Q]),new J(this.firstLineNumber,X)}mapLines(Y){return new J(this.firstLineNumber,this.lines.map((W,Q)=>Y(W,this.firstLineNumber+Q)))}lineAt(Y){return this.lines[Y-this.firstLineNumber]}prependSymbolAt(Y,W){return this.mapLines((Q,X)=>X===Y?`${W} ${Q}`:`  ${Q}`)}slice(Y,W){let Q=this.lines.slice(Y-1,W).join(`
`);return new J(Y,Jn(Q).split(`
`))}highlight(){let Y=tp(this.toString());return new J(this.firstLineNumber,Y.split(`
`))}toString(){return this.lines.join(`
`)}},Wn={red:qJ,gray:MA,dim:z$,bold:l6,underline:Y6,highlightSource:(J)=>J.highlight()},Qn={red:(J)=>J,gray:(J)=>J,dim:(J)=>J,bold:(J)=>J,underline:(J)=>J,highlightSource:(J)=>J};function $n({message:J,originalMethod:Y,isPanic:W,callArguments:Q}){return{functionName:`prisma.${Y}()`,message:J,isPanic:W??!1,callArguments:Q}}function Xn({callsite:J,message:Y,originalMethod:W,isPanic:Q,callArguments:X},M){let G=$n({message:Y,originalMethod:W,isPanic:Q,callArguments:X});if(!J||typeof window<"u"||x0.env.NODE_ENV==="production")return G;let H=J.getLocation();if(!H||!H.lineNumber||!H.columnNumber)return G;let U=Math.max(1,H.lineNumber-3),B=Yn.read(H.fileName)?.slice(U,H.lineNumber),A=B?.lineAt(H.lineNumber);if(B&&A){let N=Gn(A),D=Mn(A);if(!D)return G;G.functionName=`${D.code})`,G.location=H,Q||(B=B.mapLineAt(H.lineNumber,(K)=>K.slice(0,D.openingBraceIndex))),B=M.highlightSource(B);let q=String(B.lastLineNumber).length;if(G.contextLines=B.mapLines((K,O)=>M.gray(String(O).padStart(q))+" "+K).mapLines((K)=>M.dim(K)).prependSymbolAt(H.lineNumber,M.bold(M.red("\u2192"))),X){let K=N+q+1;K+=2,G.callArguments=ip.default(X,K).slice(K)}}return G}function Mn(J){let Y=Object.keys(NG).join("|"),W=new RegExp(String.raw`\.(${Y})\(`).exec(J);if(W){let Q=W.index+W[0].length,X=J.lastIndexOf(" ",W.index)+1;return{code:J.slice(X,Q),openingBraceIndex:Q}}return null}function Gn(J){let Y=0;for(let W=0;W<J.length;W++){if(J.charAt(W)!==" ")return Y;Y++}return Y}function Hn({functionName:J,location:Y,message:W,isPanic:Q,contextLines:X,callArguments:M},G){let H=[""],U=Y?" in":":";if(Q?(H.push(G.red(`Oops, an unknown error occurred! This is ${G.bold("on us")}, you did nothing wrong.`)),H.push(G.red(`It occurred in the ${G.bold(`\`${J}\``)} invocation${U}`))):H.push(G.red(`Invalid ${G.bold(`\`${J}\``)} invocation${U}`)),Y&&H.push(G.underline(Un(Y))),X){H.push("");let B=[X.toString()];M&&(B.push(M),B.push(G.dim(")"))),H.push(B.join("")),M&&H.push("")}else H.push(""),M&&H.push(M),H.push("");return H.push(W),H.join(`
`)}function Un(J){let Y=[J.fileName];return J.lineNumber&&Y.push(String(J.lineNumber)),J.columnNumber&&Y.push(String(J.columnNumber)),Y.join(":")}function xV(J){let Y=J.showColors?Wn:Qn,W;return W=Xn(J,Y),Hn(W,Y)}var Bn=Q6(sS());function An(J,Y,W){let Q=gV(J),X=Nn(Q),M=Dn(X);M?mV(M,Y,W):Y.addErrorMessage(()=>"Unknown error")}function gV(J){return J.errors.flatMap((Y)=>Y.kind==="Union"?gV(Y):[Y])}function Nn(J){let Y=new Map,W=[];for(let Q of J){if(Q.kind!=="InvalidArgumentType"){W.push(Q);continue}let X=`${Q.selectionPath.join(".")}:${Q.argumentPath.join(".")}`,M=Y.get(X);M?Y.set(X,{...Q,argument:{...Q.argument,typeNames:qn(M.argument.typeNames,Q.argument.typeNames)}}):Y.set(X,Q)}return W.push(...Y.values()),W}function qn(J,Y){return[...new Set(J.concat(Y))]}function Dn(J){return ou(J,(Y,W)=>{let Q=qS(Y),X=qS(W);return Q!==X?Q-X:DS(Y)-DS(W)})}function qS(J){let Y=0;return Array.isArray(J.selectionPath)&&(Y+=J.selectionPath.length),Array.isArray(J.argumentPath)&&(Y+=J.argumentPath.length),Y}function DS(J){switch(J.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return-10;default:return 0}}var C4=class{constructor(J,Y){this.name=J,this.value=Y}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(J){let{colors:{green:Y}}=J.context;J.addMarginSymbol(Y(this.isRequired?"+":"?")),J.write(Y(this.name)),this.isRequired||J.write(Y("?")),J.write(Y(": ")),typeof this.value=="string"?J.write(Y(this.value)):J.write(this.value)}};hd();var yV=class{constructor(J=0,Y){this.context=Y,this.currentIndent=J}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(J){return typeof J=="string"?this.currentLine+=J:J.write(this),this}writeJoined(J,Y,W=(Q,X)=>X.write(Q)){let Q=Y.length-1;for(let X=0;X<Y.length;X++)W(Y[X],this),X!==Q&&this.write(J);return this}writeLine(J){return this.write(J).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let J=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,J?.(),this}withIndent(J){return this.indent(),J(this),this.unindent(),this}afterNextNewline(J){return this.afterNextNewLineCallback=J,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(J){return this.marginSymbol=J,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let J=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+J.slice(1):J}};bd();var Zn=class{constructor(J){this.value=J}write(J){J.write(this.value)}markAsError(){this.value.markAsError()}},pM=(J)=>J,fV={bold:pM,red:pM,green:pM,dim:pM,enabled:!1},On={bold:l6,red:qJ,green:A$,dim:z$,enabled:!0},KA={write(J){J.writeLine(",")}},qG=class{constructor(J){this.contents=J}isUnderlined=!1;color=(J)=>J;underline(){return this.isUnderlined=!0,this}setColor(J){return this.color=J,this}write(J){let Y=J.getCurrentLineLength();J.write(this.color(this.contents)),this.isUnderlined&&J.afterNextNewline(()=>{J.write(" ".repeat(Y)).writeLine(this.color("~".repeat(this.contents.length)))})}},zA=class{hasError=!1;markAsError(){return this.hasError=!0,this}},vV=class extends zA{items=[];addItem(J){return this.items.push(new Zn(J)),this}getField(J){return this.items[J]}getPrintWidth(){return this.items.length===0?2:Math.max(...this.items.map((J)=>J.value.getPrintWidth()))+2}write(J){if(this.items.length===0){this.writeEmpty(J);return}this.writeWithItems(J)}writeEmpty(J){let Y=new qG("[]");this.hasError&&Y.setColor(J.context.colors.red).underline(),J.write(Y)}writeWithItems(J){let{colors:Y}=J.context;J.writeLine("[").withIndent(()=>J.writeJoined(KA,this.items).newLine()).write("]"),this.hasError&&J.afterNextNewline(()=>{J.writeLine(Y.red("~".repeat(this.getPrintWidth())))})}asObject(){}},bV=class J extends zA{fields={};suggestions=[];addField(Y){this.fields[Y.name]=Y}addSuggestion(Y){this.suggestions.push(Y)}getField(Y){return this.fields[Y]}getDeepField(Y){let[W,...Q]=Y,X=this.getField(W);if(!X)return;let M=X;for(let G of Q){let H;if(M.value instanceof J?H=M.value.getField(G):M.value instanceof vV&&(H=M.value.getField(Number(G))),!H)return;M=H}return M}getDeepFieldValue(Y){return Y.length===0?this:this.getDeepField(Y)?.value}hasField(Y){return!!this.getField(Y)}removeAllFields(){this.fields={}}removeField(Y){delete this.fields[Y]}getFields(){return this.fields}isEmpty(){return Object.keys(this.fields).length===0}getFieldValue(Y){return this.getField(Y)?.value}getDeepSubSelectionValue(Y){let W=this;for(let Q of Y){if(!(W instanceof J))return;let X=W.getSubSelectionValue(Q);if(!X)return;W=X}return W}getDeepSelectionParent(Y){let W=this.getSelectionParent();if(!W)return;let Q=W;for(let X of Y){let M=Q.value.getFieldValue(X);if(!M||!(M instanceof J))return;let G=M.getSelectionParent();if(!G)return;Q=G}return Q}getSelectionParent(){let Y=this.getField("select")?.value.asObject();if(Y)return{kind:"select",value:Y};let W=this.getField("include")?.value.asObject();if(W)return{kind:"include",value:W}}getSubSelectionValue(Y){return this.getSelectionParent()?.value.fields[Y].value}getPrintWidth(){let Y=Object.values(this.fields);return Y.length==0?2:Math.max(...Y.map((W)=>W.getPrintWidth()))+2}write(Y){let W=Object.values(this.fields);if(W.length===0&&this.suggestions.length===0){this.writeEmpty(Y);return}this.writeWithContents(Y,W)}asObject(){return this}writeEmpty(Y){let W=new qG("{}");this.hasError&&W.setColor(Y.context.colors.red).underline(),Y.write(W)}writeWithContents(Y,W){Y.writeLine("{").withIndent(()=>{Y.writeJoined(KA,[...W,...this.suggestions]).newLine()}),Y.write("}"),this.hasError&&Y.afterNextNewline(()=>{Y.writeLine(Y.context.colors.red("~".repeat(this.getPrintWidth())))})}},O8=class extends zA{constructor(J){super();this.text=J}getPrintWidth(){return this.text.length}write(J){let Y=new qG(this.text);this.hasError&&Y.underline().setColor(J.context.colors.red),J.write(Y)}asObject(){}},hV=class{fields=[];addField(J,Y){return this.fields.push({write(W){let{green:Q,dim:X}=W.context.colors;W.write(Q(X(`${J}: ${Y}`))).addMarginSymbol(Q(X("+")))}}),this}write(J){let{colors:{green:Y}}=J.context;J.writeLine(Y("{")).withIndent(()=>{J.writeJoined(KA,this.fields).newLine()}).write(Y("}")).addMarginSymbol(Y("+"))}};function mV(J,Y,W){switch(J.kind){case"MutuallyExclusiveFields":Kn(J,Y);break;case"IncludeOnScalar":zn(J,Y);break;case"EmptySelection":Ln(J,Y,W);break;case"UnknownSelectionField":En(J,Y);break;case"InvalidSelectionValue":jn(J,Y);break;case"UnknownArgument":Pn(J,Y);break;case"UnknownInputField":Cn(J,Y);break;case"RequiredArgumentMissing":In(J,Y);break;case"InvalidArgumentType":Rn(J,Y);break;case"InvalidArgumentValue":Tn(J,Y);break;case"ValueTooLarge":_n(J,Y);break;case"SomeFieldsMissing":wn(J,Y);break;case"TooManyFieldsGiven":kn(J,Y);break;case"Union":An(J,Y,W);break;default:throw new Error("not implemented: "+J.kind)}}function Kn(J,Y){let W=Y.arguments.getDeepSubSelectionValue(J.selectionPath)?.asObject();W&&(W.getField(J.firstField)?.markAsError(),W.getField(J.secondField)?.markAsError()),Y.addErrorMessage((Q)=>`Please ${Q.bold("either")} use ${Q.green(`\`${J.firstField}\``)} or ${Q.green(`\`${J.secondField}\``)}, but ${Q.red("not both")} at the same time.`)}function zn(J,Y){let[W,Q]=MW(J.selectionPath),X=J.outputType,M=Y.arguments.getDeepSelectionParent(W)?.value;if(M&&(M.getField(Q)?.markAsError(),X))for(let G of X.fields)G.isRelation&&M.addSuggestion(new C4(G.name,"true"));Y.addErrorMessage((G)=>{let H=`Invalid scalar field ${G.red(`\`${Q}\``)} for ${G.bold("include")} statement`;return X?H+=` on model ${G.bold(X.name)}. ${F$(G)}`:H+=".",H+=`
Note that ${G.bold("include")} statements only accept relation fields.`,H})}function Ln(J,Y,W){let Q=Y.arguments.getDeepSubSelectionValue(J.selectionPath)?.asObject();if(Q){let X=Q.getField("omit")?.value.asObject();if(X){Sn(J,Y,X);return}if(Q.hasField("select")){Vn(J,Y);return}}if(W?.[GG(J.outputType.name)]){Fn(J,Y);return}Y.addErrorMessage(()=>`Unknown field at "${J.selectionPath.join(".")} selection"`)}function Sn(J,Y,W){W.removeAllFields();for(let Q of J.outputType.fields)W.addSuggestion(new C4(Q.name,"false"));Y.addErrorMessage((Q)=>`The ${Q.red("omit")} statement includes every field of the model ${Q.bold(J.outputType.name)}. At least one field must be included in the result`)}function Vn(J,Y){let W=J.outputType,Q=Y.arguments.getDeepSelectionParent(J.selectionPath)?.value,X=Q?.isEmpty()??!1;Q&&(Q.removeAllFields(),uV(Q,W)),Y.addErrorMessage((M)=>X?`The ${M.red("`select`")} statement for type ${M.bold(W.name)} must not be empty. ${F$(M)}`:`The ${M.red("`select`")} statement for type ${M.bold(W.name)} needs ${M.bold("at least one truthy value")}.`)}function Fn(J,Y){let W=new hV;for(let X of J.outputType.fields)X.isRelation||W.addField(X.name,"false");let Q=new C4("omit",W).makeRequired();if(J.selectionPath.length===0)Y.arguments.addSuggestion(Q);else{let[X,M]=MW(J.selectionPath),G=Y.arguments.getDeepSelectionParent(X)?.value.asObject()?.getField(M);if(G){let H=G?.value.asObject()??new bV;H.addSuggestion(Q),G.value=H}}Y.addErrorMessage((X)=>`The global ${X.red("omit")} configuration excludes every field of the model ${X.bold(J.outputType.name)}. At least one field must be included in the result`)}function En(J,Y){let W=pV(J.selectionPath,Y);if(W.parentKind!=="unknown"){W.field.markAsError();let Q=W.parent;switch(W.parentKind){case"select":uV(Q,J.outputType);break;case"include":xn(Q,J.outputType);break;case"omit":gn(Q,J.outputType);break}}Y.addErrorMessage((Q)=>{let X=[`Unknown field ${Q.red(`\`${W.fieldName}\``)}`];return W.parentKind!=="unknown"&&X.push(`for ${Q.bold(W.parentKind)} statement`),X.push(`on model ${Q.bold(`\`${J.outputType.name}\``)}.`),X.push(F$(Q)),X.join(" ")})}function jn(J,Y){let W=pV(J.selectionPath,Y);W.parentKind!=="unknown"&&W.field.value.markAsError(),Y.addErrorMessage((Q)=>`Invalid value for selection field \`${Q.red(W.fieldName)}\`: ${J.underlyingError}`)}function Pn(J,Y){let W=J.argumentPath[0],Q=Y.arguments.getDeepSubSelectionValue(J.selectionPath)?.asObject();Q&&(Q.getField(W)?.markAsError(),yn(Q,J.arguments)),Y.addErrorMessage((X)=>dV(X,W,J.arguments.map((M)=>M.name)))}function Cn(J,Y){let[W,Q]=MW(J.argumentPath),X=Y.arguments.getDeepSubSelectionValue(J.selectionPath)?.asObject();if(X){X.getDeepField(J.argumentPath)?.markAsError();let M=X.getDeepFieldValue(W)?.asObject();M&&nV(M,J.inputType)}Y.addErrorMessage((M)=>dV(M,Q,J.inputType.fields.map((G)=>G.name)))}function dV(J,Y,W){let Q=[`Unknown argument \`${J.red(Y)}\`.`],X=vn(Y,W);return X&&Q.push(`Did you mean \`${J.green(X)}\`?`),W.length>0&&Q.push(F$(J)),Q.join(" ")}function In(J,Y){let W;Y.addErrorMessage((U)=>W?.value instanceof O8&&W.value.text==="null"?`Argument \`${U.green(M)}\` must not be ${U.red("null")}.`:`Argument \`${U.green(M)}\` is missing.`);let Q=Y.arguments.getDeepSubSelectionValue(J.selectionPath)?.asObject();if(!Q)return;let[X,M]=MW(J.argumentPath),G=new hV,H=Q.getDeepFieldValue(X)?.asObject();if(H){if(W=H.getField(M),W&&H.removeField(M),J.inputTypes.length===1&&J.inputTypes[0].kind==="object"){for(let U of J.inputTypes[0].fields)G.addField(U.name,U.typeNames.join(" | "));H.addSuggestion(new C4(M,G).makeRequired())}else{let U=J.inputTypes.map(cV).join(" | ");H.addSuggestion(new C4(M,U).makeRequired())}if(J.dependentArgumentPath){Q.getDeepField(J.dependentArgumentPath)?.markAsError();let[,U]=MW(J.dependentArgumentPath);Y.addErrorMessage((B)=>`Argument \`${B.green(M)}\` is required because argument \`${B.green(U)}\` was provided.`)}}}function cV(J){return J.kind==="list"?`${cV(J.elementType)}[]`:J.name}function Rn(J,Y){let W=J.argument.name,Q=Y.arguments.getDeepSubSelectionValue(J.selectionPath)?.asObject();Q&&Q.getDeepFieldValue(J.argumentPath)?.markAsError(),Y.addErrorMessage((X)=>{let M=DG("or",J.argument.typeNames.map((G)=>X.green(G)));return`Argument \`${X.bold(W)}\`: Invalid value provided. Expected ${M}, provided ${X.red(J.inferredType)}.`})}function Tn(J,Y){let W=J.argument.name,Q=Y.arguments.getDeepSubSelectionValue(J.selectionPath)?.asObject();Q&&Q.getDeepFieldValue(J.argumentPath)?.markAsError(),Y.addErrorMessage((X)=>{let M=[`Invalid value for argument \`${X.bold(W)}\``];if(J.underlyingError&&M.push(`: ${J.underlyingError}`),M.push("."),J.argument.typeNames.length>0){let G=DG("or",J.argument.typeNames.map((H)=>X.green(H)));M.push(` Expected ${G}.`)}return M.join("")})}function _n(J,Y){let W=J.argument.name,Q=Y.arguments.getDeepSubSelectionValue(J.selectionPath)?.asObject(),X;if(Q){let M=Q.getDeepField(J.argumentPath)?.value;M?.markAsError(),M instanceof O8&&(X=M.text)}Y.addErrorMessage((M)=>{let G=["Unable to fit value"];return X&&G.push(M.red(X)),G.push(`into a 64-bit signed integer for field \`${M.bold(W)}\``),G.join(" ")})}function wn(J,Y){let W=J.argumentPath[J.argumentPath.length-1],Q=Y.arguments.getDeepSubSelectionValue(J.selectionPath)?.asObject();if(Q){let X=Q.getDeepFieldValue(J.argumentPath)?.asObject();X&&nV(X,J.inputType)}Y.addErrorMessage((X)=>{let M=[`Argument \`${X.bold(W)}\` of type ${X.bold(J.inputType.name)} needs`];return J.constraints.minFieldCount===1?J.constraints.requiredFields?M.push(`${X.green("at least one of")} ${DG("or",J.constraints.requiredFields.map((G)=>`\`${X.bold(G)}\``))} arguments.`):M.push(`${X.green("at least one")} argument.`):M.push(`${X.green(`at least ${J.constraints.minFieldCount}`)} arguments.`),M.push(F$(X)),M.join(" ")})}function kn(J,Y){let W=J.argumentPath[J.argumentPath.length-1],Q=Y.arguments.getDeepSubSelectionValue(J.selectionPath)?.asObject(),X=[];if(Q){let M=Q.getDeepFieldValue(J.argumentPath)?.asObject();M&&(M.markAsError(),X=Object.keys(M.getFields()))}Y.addErrorMessage((M)=>{let G=[`Argument \`${M.bold(W)}\` of type ${M.bold(J.inputType.name)} needs`];return J.constraints.minFieldCount===1&&J.constraints.maxFieldCount==1?G.push(`${M.green("exactly one")} argument,`):J.constraints.maxFieldCount==1?G.push(`${M.green("at most one")} argument,`):G.push(`${M.green(`at most ${J.constraints.maxFieldCount}`)} arguments,`),G.push(`but you provided ${DG("and",X.map((H)=>M.red(H)))}. Please choose`),J.constraints.maxFieldCount===1?G.push("one."):G.push(`${J.constraints.maxFieldCount}.`),G.join(" ")})}function uV(J,Y){for(let W of Y.fields)J.hasField(W.name)||J.addSuggestion(new C4(W.name,"true"))}function xn(J,Y){for(let W of Y.fields)W.isRelation&&!J.hasField(W.name)&&J.addSuggestion(new C4(W.name,"true"))}function gn(J,Y){for(let W of Y.fields)!J.hasField(W.name)&&!W.isRelation&&J.addSuggestion(new C4(W.name,"true"))}function yn(J,Y){for(let W of Y)J.hasField(W.name)||J.addSuggestion(new C4(W.name,W.typeNames.join(" | ")))}function pV(J,Y){let[W,Q]=MW(J),X=Y.arguments.getDeepSubSelectionValue(W)?.asObject();if(!X)return{parentKind:"unknown",fieldName:Q};let M=X.getFieldValue("select")?.asObject(),G=X.getFieldValue("include")?.asObject(),H=X.getFieldValue("omit")?.asObject(),U=M?.getField(Q);return M&&U?{parentKind:"select",parent:M,field:U,fieldName:Q}:(U=G?.getField(Q),G&&U?{parentKind:"include",field:U,parent:G,fieldName:Q}:(U=H?.getField(Q),H&&U?{parentKind:"omit",field:U,parent:H,fieldName:Q}:{parentKind:"unknown",fieldName:Q}))}function nV(J,Y){if(Y.kind==="object")for(let W of Y.fields)J.hasField(W.name)||J.addSuggestion(new C4(W.name,W.typeNames.join(" | ")))}function MW(J){let Y=[...J],W=Y.pop();if(!W)throw new Error("unexpected empty path");return[Y,W]}function F$({green:J,enabled:Y}){return"Available options are "+(Y?`listed in ${J("green")}`:"marked with ?")+"."}function DG(J,Y){if(Y.length===1)return Y[0];let W=[...Y],Q=W.pop();return`${W.join(", ")} ${J} ${Q}`}var fn=3;function vn(J,Y){let W=1/0,Q;for(let X of Y){let M=Bn.default(J,X);M>fn||M<W&&(W=M,Q=X)}return Q}var iV=class{modelName;name;typeName;isList;isEnum;constructor(J,Y,W,Q,X){this.modelName=J,this.name=Y,this.typeName=W,this.isList=Q,this.isEnum=X}_toGraphQLInputType(){let J=this.isList?"List":"",Y=this.isEnum?"Enum":"";return`${J}${Y}${this.typeName}FieldRefInput<${this.modelName}>`}};function LA(J){return J instanceof iV}var rM=Symbol(),FB=new WeakMap,ZG=class{constructor(J){J===rM?FB.set(this,`Prisma.${this._getName()}`):FB.set(this,`new Prisma.${this._getNamespace()}.${this._getName()}()`)}_getName(){return this.constructor.name}toString(){return FB.get(this)}},SA=class extends ZG{_getNamespace(){return"NullTypes"}},nB=class extends SA{#J};VA(nB,"DbNull");var iB=class extends SA{#J};VA(iB,"JsonNull");var lB=class extends SA{#J};VA(lB,"AnyNull");var O9={classes:{DbNull:nB,JsonNull:iB,AnyNull:lB},instances:{DbNull:new nB(rM),JsonNull:new iB(rM),AnyNull:new lB(rM)}};function VA(J,Y){Object.defineProperty(J,"name",{value:Y,configurable:!0})}var ZS=": ",bn=class{constructor(J,Y){this.name=J,this.value=Y}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+ZS.length}write(J){let Y=new qG(this.name);this.hasError&&Y.underline().setColor(J.context.colors.red),J.write(Y).write(ZS).write(this.value)}},hn=class{arguments;errorMessages=[];constructor(J){this.arguments=J}write(J){J.write(this.arguments)}addErrorMessage(J){this.errorMessages.push(J)}renderAllMessages(J){return this.errorMessages.map((Y)=>Y(J)).join(`
`)}};function FA(J){return new hn(lV(J))}function lV(J){let Y=new bV;for(let[W,Q]of Object.entries(J)){let X=new bn(W,oV(Q));Y.addField(X)}return Y}function oV(J){if(typeof J=="string")return new O8(JSON.stringify(J));if(typeof J=="number"||typeof J=="boolean")return new O8(String(J));if(typeof J=="bigint")return new O8(`${J}n`);if(J===null)return new O8("null");if(J===void 0)return new O8("undefined");if(OA(J))return new O8(`new Prisma.Decimal("${J.toFixed()}")`);if(J instanceof Uint8Array)return Buffer.isBuffer(J)?new O8(`Buffer.alloc(${J.byteLength})`):new O8(`new Uint8Array(${J.byteLength})`);if(J instanceof Date){let Y=VV(J)?J.toISOString():"Invalid Date";return new O8(`new Date("${Y}")`)}return J instanceof ZG?new O8(`Prisma.${J._getName()}`):LA(J)?new O8(`prisma.${GG(J.modelName)}.$fields.${J.name}`):Array.isArray(J)?mn(J):typeof J=="object"?lV(J):new O8(Object.prototype.toString.call(J))}function mn(J){let Y=new vV;for(let W of J)Y.addItem(oV(W));return Y}function rV(J,Y){let W=Y==="pretty"?On:fV,Q=J.renderAllMessages(W),X=new yV(0,{colors:W}).write(J).toString();return{message:Q,args:X}}function aV({args:J,errors:Y,errorFormat:W,callsite:Q,originalMethod:X,clientVersion:M,globalOmit:G}){let H=FA(J);for(let N of Y)mV(N,H,G);let{message:U,args:B}=rV(H,W),A=xV({message:U,callsite:Q,originalMethod:X,showColors:W==="pretty",callArguments:B});throw new Z7(A,{clientVersion:M})}function E$(J){return J.replace(/^./,(Y)=>Y.toLowerCase())}function dn(J,Y,W){let Q=E$(W);return!Y.result||!(Y.result.$allModels||Y.result[Q])?J:cn({...J,...OS(Y.name,J,Y.result.$allModels),...OS(Y.name,J,Y.result[Q])})}function cn(J){let Y=new H$,W=(Q,X)=>Y.getOrCreate(Q,()=>X.has(Q)?[Q]:(X.add(Q),J[Q]?J[Q].needs.flatMap((M)=>W(M,X)):[Q]));return SV(J,(Q)=>({...Q,needs:W(Q.name,new Set)}))}function OS(J,Y,W){return W?SV(W,({needs:Q,compute:X},M)=>({name:M,needs:Q?Object.keys(Q).filter((G)=>Q[G]):[],compute:un(Y,M,X)})):{}}function un(J,Y,W){let Q=J?.[Y]?.compute;return Q?(X)=>W({...X,[Y]:Q(X)}):W}function pn(J,Y){if(!Y)return J;let W={...J};for(let Q of Object.values(Y))if(J[Q.name])for(let X of Q.needs)W[X]=!0;return W}function nn(J,Y){if(!Y)return J;let W={...J};for(let Q of Object.values(Y))if(!J[Q.name])for(let X of Q.needs)delete W[X];return W}var KS=class{constructor(J,Y){this.extension=J,this.previous=Y}computedFieldsCache=new H$;modelExtensionsCache=new H$;queryCallbacksCache=new H$;clientExtensions=US(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=US(()=>{let J=this.previous?.getAllBatchQueryCallbacks()??[],Y=this.extension.query?.$__internalBatch;return Y?J.concat(Y):J});getAllComputedFields(J){return this.computedFieldsCache.getOrCreate(J,()=>dn(this.previous?.getAllComputedFields(J),this.extension,J))}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(J){return this.modelExtensionsCache.getOrCreate(J,()=>{let Y=E$(J);return!this.extension.model||!(this.extension.model[Y]||this.extension.model.$allModels)?this.previous?.getAllModelExtensions(J):{...this.previous?.getAllModelExtensions(J),...this.extension.model.$allModels,...this.extension.model[Y]}})}getAllQueryCallbacks(J,Y){return this.queryCallbacksCache.getOrCreate(`${J}:${Y}`,()=>{let W=this.previous?.getAllQueryCallbacks(J,Y)??[],Q=[],X=this.extension.query;return!X||!(X[J]||X.$allModels||X[Y]||X.$allOperations)?W:(X[J]!==void 0&&(X[J][Y]!==void 0&&Q.push(X[J][Y]),X[J].$allOperations!==void 0&&Q.push(X[J].$allOperations)),J!=="$none"&&X.$allModels!==void 0&&(X.$allModels[Y]!==void 0&&Q.push(X.$allModels[Y]),X.$allModels.$allOperations!==void 0&&Q.push(X.$allModels.$allOperations)),X[Y]!==void 0&&Q.push(X[Y]),X.$allOperations!==void 0&&Q.push(X.$allOperations),W.concat(Q))})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},sV=class J{constructor(Y){this.head=Y}static empty(){return new J}static single(Y){return new J(new KS(Y))}isEmpty(){return this.head===void 0}append(Y){return new J(new KS(Y,this.head))}getAllComputedFields(Y){return this.head?.getAllComputedFields(Y)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(Y){return this.head?.getAllModelExtensions(Y)}getAllQueryCallbacks(Y,W){return this.head?.getAllQueryCallbacks(Y,W)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}},ln=class{constructor(J){this.name=J}};function on(J){return J instanceof ln}var tV=Symbol(),eV=class{constructor(J){if(J!==tV)throw new Error("Skip instance can not be constructed directly")}ifUndefined(J){return J===void 0?rn:J}},rn=new eV(tV);function DJ(J){return J instanceof eV}var an={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},JF="explicitly `undefined` values are not allowed";function sn({modelName:J,action:Y,args:W,runtimeDataModel:Q,extensions:X=sV.empty(),callsite:M,clientMethod:G,errorFormat:H,clientVersion:U,previewFeatures:B,globalOmit:A}){let N=new Mi({runtimeDataModel:Q,modelName:J,action:Y,rootArgs:W,callsite:M,extensions:X,selectionPath:[],argumentPath:[],originalMethod:G,errorFormat:H,clientVersion:U,previewFeatures:B,globalOmit:A});return{modelName:J,action:an[Y],query:K$(W,N)}}function K$({select:J,include:Y,...W}={},Q){let X=W.omit;return delete W.omit,{arguments:WF(W,Q),selection:tn(J,Y,X,Q)}}function tn(J,Y,W,Q){return J?(Y?Q.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:Q.getSelectionPath()}):W&&Q.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:Q.getSelectionPath()}),Wi(J,Q)):en(Q,Y,W)}function en(J,Y,W){let Q={};return J.modelOrType&&!J.isRawAction()&&(Q.$composites=!0,Q.$scalars=!0),Y&&Ji(Q,Y,J),Yi(Q,W,J),Q}function Ji(J,Y,W){for(let[Q,X]of Object.entries(Y)){if(DJ(X))continue;let M=W.nestSelection(Q);if(EA(X,M),X===!1||X===void 0){J[Q]=!1;continue}let G=W.findField(Q);if(G&&G.kind!=="object"&&W.throwValidationError({kind:"IncludeOnScalar",selectionPath:W.getSelectionPath().concat(Q),outputType:W.getOutputTypeDescription()}),G){J[Q]=K$(X===!0?{}:X,M);continue}if(X===!0){J[Q]=!0;continue}J[Q]=K$(X,M)}}function Yi(J,Y,W){let Q=W.getComputedFields(),X={...W.getGlobalOmit(),...Y},M=nn(X,Q);for(let[G,H]of Object.entries(M)){if(DJ(H))continue;EA(H,W.nestSelection(G));let U=W.findField(G);Q?.[G]&&!U||(J[G]=!H)}}function Wi(J,Y){let W={},Q=Y.getComputedFields(),X=pn(J,Q);for(let[M,G]of Object.entries(X)){if(DJ(G))continue;let H=Y.nestSelection(M);EA(G,H);let U=Y.findField(M);if(!(Q?.[M]&&!U)){if(G===!1||G===void 0||DJ(G)){W[M]=!1;continue}if(G===!0){U?.kind==="object"?W[M]=K$({},H):W[M]=!0;continue}W[M]=K$(G,H)}}return W}function YF(J,Y){if(J===null)return null;if(typeof J=="string"||typeof J=="number"||typeof J=="boolean")return J;if(typeof J=="bigint")return{$type:"BigInt",value:String(J)};if(DA(J)){if(VV(J))return{$type:"DateTime",value:J.toISOString()};Y.throwValidationError({kind:"InvalidArgumentValue",selectionPath:Y.getSelectionPath(),argumentPath:Y.getArgumentPath(),argument:{name:Y.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(on(J))return{$type:"Param",value:J.name};if(LA(J))return{$type:"FieldRef",value:{_ref:J.name,_container:J.modelName}};if(Array.isArray(J))return Qi(J,Y);if(ArrayBuffer.isView(J)){let{buffer:W,byteOffset:Q,byteLength:X}=J;return{$type:"Bytes",value:Buffer.from(W,Q,X).toString("base64")}}if($i(J))return J.values;if(OA(J))return{$type:"Decimal",value:J.toFixed()};if(J instanceof ZG){if(J!==O9.instances[J._getName()])throw new Error("Invalid ObjectEnumValue");return{$type:"Enum",value:J._getName()}}if(Xi(J))return J.toJSON();if(typeof J=="object")return WF(J,Y);Y.throwValidationError({kind:"InvalidArgumentValue",selectionPath:Y.getSelectionPath(),argumentPath:Y.getArgumentPath(),argument:{name:Y.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(J)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}function WF(J,Y){if(J.$type)return{$type:"Raw",value:J};let W={};for(let Q in J){let X=J[Q],M=Y.nestArgument(Q);DJ(X)||(X!==void 0?W[Q]=YF(X,M):Y.isPreviewFeatureOn("strictUndefinedChecks")&&Y.throwValidationError({kind:"InvalidArgumentValue",argumentPath:M.getArgumentPath(),selectionPath:Y.getSelectionPath(),argument:{name:Y.getArgumentName(),typeNames:[]},underlyingError:JF}))}return W}function Qi(J,Y){let W=[];for(let Q=0;Q<J.length;Q++){let X=Y.nestArgument(String(Q)),M=J[Q];if(M===void 0||DJ(M)){let G=M===void 0?"undefined":"Prisma.skip";Y.throwValidationError({kind:"InvalidArgumentValue",selectionPath:X.getSelectionPath(),argumentPath:X.getArgumentPath(),argument:{name:`${Y.getArgumentName()}[${Q}]`,typeNames:[]},underlyingError:`Can not use \`${G}\` value within array. Use \`null\` or filter out \`${G}\` values`})}W.push(YF(M,X))}return W}function $i(J){return typeof J=="object"&&J!==null&&J.__prismaRawParameters__===!0}function Xi(J){return typeof J=="object"&&J!==null&&typeof J.toJSON=="function"}function EA(J,Y){J===void 0&&Y.isPreviewFeatureOn("strictUndefinedChecks")&&Y.throwValidationError({kind:"InvalidSelectionValue",selectionPath:Y.getSelectionPath(),underlyingError:JF})}var Mi=class J{constructor(Y){this.params=Y,this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(Y){aV({errors:[Y],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map((Y)=>({name:Y.name,typeName:"boolean",isRelation:Y.kind==="object"}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(Y){return this.params.previewFeatures.includes(Y)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(Y){return this.modelOrType?.fields.find((W)=>W.name===Y)}nestSelection(Y){let W=this.findField(Y),Q=W?.kind==="object"?W.type:void 0;return new J({...this.params,modelName:Q,selectionPath:this.params.selectionPath.concat(Y)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[GG(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:qA(this.params.action,"Unknown action")}}nestArgument(Y){return new J({...this.params,argumentPath:this.params.argumentPath.concat(Y)})}};function zS(J){if(!J._hasPreviewFlag("metrics"))throw new Z7("`metrics` preview feature must be enabled in order to access metrics API",{clientVersion:J._clientVersion})}var Gi=class{_client;constructor(J){this._client=J}prometheus(J){return zS(this._client),this._client._engine.metrics({format:"prometheus",...J})}json(J){return zS(this._client),this._client._engine.metrics({format:"json",...J})}};var EB=new WeakMap,QG="$$PrismaTypedSql",Hi=class{constructor(J,Y){EB.set(this,{sql:J,values:Y}),Object.defineProperty(this,QG,{value:QG})}get sql(){return EB.get(this).sql}get values(){return EB.get(this).values}};function QF(J){return J!=null&&J[QG]===QG}var Ui=Q6(rS()),UW=class J{constructor(Y,W){if(Y.length-1!==W.length)throw Y.length===0?new TypeError("Expected at least 1 string"):new TypeError(`Expected ${Y.length} strings to have ${Y.length-1} values`);let Q=W.reduce((G,H)=>G+(H instanceof J?H.values.length:1),0);this.values=new Array(Q),this.strings=new Array(Q+1),this.strings[0]=Y[0];let X=0,M=0;for(;X<W.length;){let G=W[X++],H=Y[X];if(G instanceof J){this.strings[M]+=G.strings[0];let U=0;for(;U<G.values.length;)this.values[M++]=G.values[U++],this.strings[M]=G.strings[U];this.strings[M]+=H}else this.values[M++]=G,this.strings[M]=H}}get sql(){let Y=this.strings.length,W=1,Q=this.strings[0];for(;W<Y;)Q+=`?${this.strings[W++]}`;return Q}get statement(){let Y=this.strings.length,W=1,Q=this.strings[0];for(;W<Y;)Q+=`:${W}${this.strings[W++]}`;return Q}get text(){let Y=this.strings.length,W=1,Q=this.strings[0];for(;W<Y;)Q+=`$${W}${this.strings[W++]}`;return Q}inspect(){return{sql:this.sql,statement:this.statement,text:this.text,values:this.values}}};function $F(J){return new UW([J],[])}var qi=$F("");function XF(J){return{getKeys(){return Object.keys(J)},getPropertyValue(Y){return J[Y]}}}function j4(J,Y){return{getKeys(){return[J]},getPropertyValue(){return Y()}}}function jA(J){let Y=new H$;return{getKeys(){return J.getKeys()},getPropertyValue(W){return Y.getOrCreate(W,()=>J.getPropertyValue(W))},getPropertyDescriptor(W){return J.getPropertyDescriptor?.(W)}}}var oB={enumerable:!0,configurable:!0,writable:!0};function MF(J){let Y=new Set(J);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>oB,has:(W,Q)=>Y.has(Q),set:(W,Q,X)=>Y.add(Q)&&Reflect.set(W,Q,X),ownKeys:()=>[...Y]}}var LS=Symbol.for("nodejs.util.inspect.custom");function GW(J,Y){let W=Di(Y),Q=new Set,X=new Proxy(J,{get(M,G){if(Q.has(G))return M[G];let H=W.get(G);return H?H.getPropertyValue(G):M[G]},has(M,G){if(Q.has(G))return!0;let H=W.get(G);return H?H.has?.(G)??!0:Reflect.has(M,G)},ownKeys(M){let G=SS(Reflect.ownKeys(M),W),H=SS(Array.from(W.keys()),W);return[...new Set([...G,...H,...Q])]},set(M,G,H){return W.get(G)?.getPropertyDescriptor?.(G)?.writable===!1?!1:(Q.add(G),Reflect.set(M,G,H))},getOwnPropertyDescriptor(M,G){let H=Reflect.getOwnPropertyDescriptor(M,G);if(H&&!H.configurable)return H;let U=W.get(G);return U?U.getPropertyDescriptor?{...oB,...U?.getPropertyDescriptor(G)}:oB:H},defineProperty(M,G,H){return Q.add(G),Reflect.defineProperty(M,G,H)},getPrototypeOf:()=>Object.prototype});return X[LS]=function(){let M={...this};return delete M[LS],M},X}function Di(J){let Y=new Map;for(let W of J){let Q=W.getKeys();for(let X of Q)Y.set(X,W)}return Y}function SS(J,Y){return J.filter((W)=>Y.get(W)?.has?.(W)??!0)}function rB(J){return{getKeys(){return J},has(){return!1},getPropertyValue(){}}}function PA(J,Y){return{batch:J,transaction:Y?.kind==="batch"?{isolationLevel:Y.options.isolationLevel}:void 0}}function Zi(J){if(J===void 0)return"";let Y=FA(J);return new yV(0,{colors:fV}).write(Y).toString()}var Oi="P2037";function CA({error:J,user_facing_error:Y},W,Q){return Y.error_code?new X1(Ki(Y,Q),{code:Y.error_code,clientVersion:W,meta:Y.meta,batchRequestIdx:Y.batch_request_idx}):new f8(J,{clientVersion:W,batchRequestIdx:Y.batch_request_idx})}function Ki(J,Y){let W=J.message;return(Y==="postgresql"||Y==="postgres"||Y==="mysql")&&J.error_code===Oi&&(W+=`
Prisma Accelerate has built-in connection pooling to prevent such errors: https://pris.ly/client/error-accelerate`),W}var j$="<unknown>";function zi(J){var Y=J.split(`
`);return Y.reduce(function(W,Q){var X=Vi(Q)||Ei(Q)||Ci(Q)||_i(Q)||Ri(Q);return X&&W.push(X),W},[])}var Li=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|rsc|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Si=/\((\S*)(?::(\d+))(?::(\d+))\)/;function Vi(J){var Y=Li.exec(J);if(!Y)return null;var W=Y[2]&&Y[2].indexOf("native")===0,Q=Y[2]&&Y[2].indexOf("eval")===0,X=Si.exec(Y[2]);return Q&&X!=null&&(Y[2]=X[1],Y[3]=X[2],Y[4]=X[3]),{file:W?null:Y[2],methodName:Y[1]||j$,arguments:W?[Y[2]]:[],lineNumber:Y[3]?+Y[3]:null,column:Y[4]?+Y[4]:null}}var Fi=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|rsc|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function Ei(J){var Y=Fi.exec(J);return Y?{file:Y[2],methodName:Y[1]||j$,arguments:[],lineNumber:+Y[3],column:Y[4]?+Y[4]:null}:null}var ji=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|rsc|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Pi=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Ci(J){var Y=ji.exec(J);if(!Y)return null;var W=Y[3]&&Y[3].indexOf(" > eval")>-1,Q=Pi.exec(Y[3]);return W&&Q!=null&&(Y[3]=Q[1],Y[4]=Q[2],Y[5]=null),{file:Y[3],methodName:Y[1]||j$,arguments:Y[2]?Y[2].split(","):[],lineNumber:Y[4]?+Y[4]:null,column:Y[5]?+Y[5]:null}}var Ii=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function Ri(J){var Y=Ii.exec(J);return Y?{file:Y[3],methodName:Y[1]||j$,arguments:[],lineNumber:+Y[4],column:Y[5]?+Y[5]:null}:null}var Ti=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function _i(J){var Y=Ti.exec(J);return Y?{file:Y[2],methodName:Y[1]||j$,arguments:[],lineNumber:+Y[3],column:Y[4]?+Y[4]:null}:null}var wi=class{getLocation(){return null}},ki=class{_error;constructor(){this._error=new Error}getLocation(){let J=this._error.stack;if(!J)return null;let Y=zi(J).find((W)=>{if(!W.file)return!1;let Q=cu(W.file);return Q!=="<anonymous>"&&!Q.includes("@prisma")&&!Q.includes("/packages/client/src/runtime/")&&!Q.endsWith("/runtime/binary.js")&&!Q.endsWith("/runtime/library.js")&&!Q.endsWith("/runtime/edge.js")&&!Q.endsWith("/runtime/edge-esm.js")&&!Q.startsWith("internal/")&&!W.methodName.includes("new ")&&!W.methodName.includes("getCallSite")&&!W.methodName.includes("Proxy.")&&W.methodName.split(".").length<4});return!Y||!Y.file?null:{fileName:Y.file,lineNumber:Y.lineNumber,columnNumber:Y.column}}};function U$(J){return J==="minimal"?typeof $EnabledCallSite=="function"&&J!=="minimal"?new $EnabledCallSite:new wi:new ki}var xi={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function $G(J={}){let Y=gi(J);return Object.entries(Y).reduce((W,[Q,X])=>(xi[Q]!==void 0?W.select[Q]={select:X}:W[Q]=X,W),{select:{}})}function gi(J={}){return typeof J._count=="boolean"?{...J,_count:{_all:J._count}}:J}function aB(J={}){return(Y)=>(typeof J._count=="boolean"&&(Y._count=Y._count._all),Y)}function yi(J,Y){let W=aB(J);return Y({action:"aggregate",unpacker:W,argsMapper:$G})(J)}function fi(J={}){let{select:Y,...W}=J;return typeof Y=="object"?$G({...W,_count:Y}):$G({...W,_count:{_all:!0}})}function vi(J={}){return typeof J.select=="object"?(Y)=>aB(J)(Y)._count:(Y)=>aB(J)(Y)._count._all}function bi(J,Y){return Y({action:"count",unpacker:vi(J),argsMapper:fi})(J)}function hi(J={}){let Y=$G(J);if(Array.isArray(Y.by))for(let W of Y.by)typeof W=="string"&&(Y.select[W]=!0);else typeof Y.by=="string"&&(Y.select[Y.by]=!0);return Y}function mi(J={}){return(Y)=>(typeof J?._count=="boolean"&&Y.forEach((W)=>{W._count=W._count._all}),Y)}function di(J,Y){return Y({action:"groupBy",unpacker:mi(J),argsMapper:hi})(J)}function ci(J,Y,W){if(Y==="aggregate")return(Q)=>yi(Q,W);if(Y==="count")return(Q)=>bi(Q,W);if(Y==="groupBy")return(Q)=>di(Q,W)}function ui(J,Y){let W=Y.fields.filter((X)=>!X.relationName),Q=au(W,"name");return new Proxy({},{get(X,M){if(M in X||typeof M=="symbol")return X[M];let G=Q[M];if(G)return new iV(J,M,G.type,G.isList,G.kind==="enum")},...MF(Object.keys(Q))})}var GF=(J)=>Array.isArray(J)?J:J.split("."),HF=(J,Y)=>GF(Y).reduce((W,Q)=>W&&W[Q],J),pi=(J,Y,W)=>GF(Y).reduceRight((Q,X,M,G)=>Object.assign({},HF(J,G.slice(0,M)),{[X]:Q}),W);function ni(J,Y){return J===void 0||Y===void 0?[]:[...Y,"select",J]}function ii(J,Y,W){return Y===void 0?J??{}:pi(Y,W,J||!0)}function UF(J,Y,W,Q,X,M){let G=J._runtimeDataModel.models[Y].fields.reduce((H,U)=>({...H,[U.name]:U}),{});return(H)=>{let U=U$(J._errorFormat),B=ni(Q,X),A=ii(H,M,B),N=W({dataPath:B,callsite:U})(A),D=li(J,Y);return new Proxy(N,{get(q,K){if(!D.includes(K))return q[K];let O=[G[K].type,W,K],z=[B,A];return UF(J,...O,...z)},...MF([...D,...Object.getOwnPropertyNames(N)])})}}function li(J,Y){return J._runtimeDataModel.models[Y].fields.filter((W)=>W.kind==="object").map((W)=>W.name)}var oi=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],ri=["aggregate","count","groupBy"];function VS(J,Y){let W=J._extensions.getAllModelExtensions(Y)??{},Q=[ai(J,Y),ti(J,Y),XF(W),j4("name",()=>Y),j4("$name",()=>Y),j4("$parent",()=>J._appliedParent)];return GW({},Q)}function ai(J,Y){let W=E$(Y),Q=Object.keys(NG).concat("count");return{getKeys(){return Q},getPropertyValue(X){let M=X,G=(H)=>(U)=>{let B=U$(J._errorFormat);return J._createPrismaPromise((A)=>{let N={args:U,dataPath:[],action:M,model:Y,clientMethod:`${W}.${X}`,jsModelName:W,transaction:A,callsite:B};return J._request({...N,...H})},{action:M,args:U,model:Y})};return oi.includes(M)?UF(J,Y,G):si(X)?ci(J,X,G):G({})}}}function si(J){return ri.includes(J)}function ti(J,Y){return jA(j4("fields",()=>{let W=J._runtimeDataModel.models[Y];return ui(Y,W)}))}function ei(J){return J.replace(/^./,(Y)=>Y.toUpperCase())}var sB=Symbol();function tB(J){let Y=[Jl(J),Yl(J),j4(sB,()=>J),j4("$parent",()=>J._appliedParent)],W=J._extensions.getAllClientExtensions();return W&&Y.push(XF(W)),GW(J,Y)}function Jl(J){let Y=Object.getPrototypeOf(J._originalClient),W=[...new Set(Object.getOwnPropertyNames(Y))];return{getKeys(){return W},getPropertyValue(Q){return J[Q]}}}function Yl(J){let Y=Object.keys(J._runtimeDataModel.models),W=Y.map(E$),Q=[...new Set(Y.concat(W))];return jA({getKeys(){return Q},getPropertyValue(X){let M=ei(X);if(J._runtimeDataModel.models[M]!==void 0)return VS(J,M);if(J._runtimeDataModel.models[X]!==void 0)return VS(J,X)},getPropertyDescriptor(X){if(!W.includes(X))return{enumerable:!1}}})}function Wl(J){return J[sB]?J[sB]:J}function Ql(J){if(typeof J=="function")return J(this);if(J.client?.__AccelerateEngine){let W=J.client.__AccelerateEngine;this._originalClient._engine=new W(this._originalClient._accelerateEngineConfig)}let Y=Object.create(this._originalClient,{_extensions:{value:this._extensions.append(J)},_appliedParent:{value:this,configurable:!0},$on:{value:void 0}});return tB(Y)}function $l({result:J,modelName:Y,select:W,omit:Q,extensions:X}){let M=X.getAllComputedFields(Y);if(!M)return J;let G=[],H=[];for(let U of Object.values(M)){if(Q){if(Q[U.name])continue;let B=U.needs.filter((A)=>Q[A]);B.length>0&&H.push(rB(B))}else if(W){if(!W[U.name])continue;let B=U.needs.filter((A)=>!W[A]);B.length>0&&H.push(rB(B))}Xl(J,U.needs)&&G.push(Ml(U,GW(J,G)))}return G.length>0||H.length>0?GW(J,[...G,...H]):J}function Xl(J,Y){return Y.every((W)=>lu(J,W))}function Ml(J,Y){return jA(j4(J.name,()=>J.compute(Y)))}function IA({visitor:J,result:Y,args:W,runtimeDataModel:Q,modelName:X}){if(Array.isArray(Y)){for(let G=0;G<Y.length;G++)Y[G]=IA({result:Y[G],args:W,modelName:X,runtimeDataModel:Q,visitor:J});return Y}let M=J(Y,X,W)??Y;return W.include&&FS({includeOrSelect:W.include,result:M,parentModelName:X,runtimeDataModel:Q,visitor:J}),W.select&&FS({includeOrSelect:W.select,result:M,parentModelName:X,runtimeDataModel:Q,visitor:J}),M}function FS({includeOrSelect:J,result:Y,parentModelName:W,runtimeDataModel:Q,visitor:X}){for(let[M,G]of Object.entries(J)){if(!G||Y[M]==null||DJ(G))continue;let H=Q.models[W].fields.find((B)=>B.name===M);if(!H||H.kind!=="object"||!H.relationName)continue;let U=typeof G=="object"?G:{};Y[M]=IA({visitor:X,result:Y[M],args:U,modelName:H.type,runtimeDataModel:Q})}}function Gl({result:J,modelName:Y,args:W,extensions:Q,runtimeDataModel:X,globalOmit:M}){return Q.isEmpty()||J==null||typeof J!="object"||!X.models[Y]?J:IA({result:J,args:W??{},modelName:Y,runtimeDataModel:X,visitor:(G,H,U)=>{let B=E$(H);return $l({result:G,modelName:B,select:U.select,omit:U.select?void 0:{...M?.[B],...U.omit},extensions:Q})}})}var Hl=["$connect","$disconnect","$on","$transaction","$extends"],Ul=Hl;function Bl(J){if(J instanceof UW)return Al(J);if(QF(J))return Nl(J);if(Array.isArray(J)){let W=[J[0]];for(let Q=1;Q<J.length;Q++)W[Q]=B$(J[Q]);return W}let Y={};for(let W in J)Y[W]=B$(J[W]);return Y}function Al(J){return new UW(J.strings,J.values)}function Nl(J){return new Hi(J.sql,J.values)}function B$(J){if(typeof J!="object"||J==null||J instanceof ZG||LA(J))return J;if(OA(J))return new AG(J.toFixed());if(DA(J))return new Date(+J);if(ArrayBuffer.isView(J))return J.slice(0);if(Array.isArray(J)){let Y=J.length,W;for(W=Array(Y);Y--;)W[Y]=B$(J[Y]);return W}if(typeof J=="object"){let Y={};for(let W in J)W==="__proto__"?Object.defineProperty(Y,W,{value:B$(J[W]),configurable:!0,enumerable:!0,writable:!0}):Y[W]=B$(J[W]);return Y}qA(J,"Unknown value")}function BF(J,Y,W,Q=0){return J._createPrismaPromise((X)=>{let M=Y.customDataProxyFetch;return"transaction"in Y&&X!==void 0&&(Y.transaction?.kind==="batch"&&Y.transaction.lock.then(),Y.transaction=X),Q===W.length?J._executeRequest(Y):W[Q]({model:Y.model,operation:Y.model?Y.action:Y.clientMethod,args:Bl(Y.args??{}),__internalParams:Y,query:(G,H=Y)=>{let U=H.customDataProxyFetch;return H.customDataProxyFetch=NF(M,U),H.args=G,BF(J,H,W,Q+1)}})})}function ql(J,Y){let{jsModelName:W,action:Q,clientMethod:X}=Y,M=W?Q:X;if(J._extensions.isEmpty())return J._executeRequest(Y);let G=J._extensions.getAllQueryCallbacks(W??"$none",M);return BF(J,Y,G)}function Dl(J){return(Y)=>{let W={requests:Y},Q=Y[0].extensions.getAllBatchQueryCallbacks();return Q.length?AF(W,Q,0,J):J(W)}}function AF(J,Y,W,Q){if(W===Y.length)return Q(J);let X=J.customDataProxyFetch,M=J.requests[0].transaction;return Y[W]({args:{queries:J.requests.map((G)=>({model:G.modelName,operation:G.action,args:G.args})),transaction:M?{isolationLevel:M.kind==="batch"?M.isolationLevel:void 0}:void 0},__internalParams:J,query(G,H=J){let U=H.customDataProxyFetch;return H.customDataProxyFetch=NF(X,U),AF(H,Y,W+1,Q)}})}var ES=(J)=>J;function NF(J=ES,Y=ES){return(W)=>J(Y(W))}var jS=K8("prisma:client"),PS={Vercel:"vercel","Netlify CI":"netlify"};function Zl({postinstall:J,ciName:Y,clientVersion:W,generator:Q}){if(jS("checkPlatformCaching:postinstall",J),jS("checkPlatformCaching:ciName",Y),J===!0&&!(Q?.output&&typeof(Q.output.fromEnvVar??Q.output.value)=="string")&&Y&&Y in PS){let X=`Prisma has detected that this project was built on ${Y}, which caches dependencies. This leads to an outdated Prisma Client because Prisma's auto-generation isn't triggered. To fix this, make sure to run the \`prisma generate\` command during the build process.

Learn how: https://pris.ly/d/${PS[Y]}-build`;throw console.error(X),new w5(X,W)}}function Ol(J,Y){return J?J.datasources?J.datasources:J.datasourceUrl?{[Y[0]]:{url:J.datasourceUrl}}:{}:{}}function qF(J){let{runtimeBinaryTarget:Y}=J;return`Add "${Y}" to \`binaryTargets\` in the "schema.prisma" file and run \`prisma generate\` after saving it:

${zl(J)}`}function zl(J){let{generator:Y,generatorBinaryTargets:W,runtimeBinaryTarget:Q}=J,X={fromEnvVar:null,value:Q},M=[...W,X];return wu({...Y,binaryTargets:M})}function OG(J){let{runtimeBinaryTarget:Y}=J;return`Prisma Client could not locate the Query Engine for runtime "${Y}".`}function KG(J){let{searchedLocations:Y}=J;return`The following locations have been searched:
${[...new Set(Y)].map((W)=>`  ${W}`).join(`
`)}`}function Ll(J){let{runtimeBinaryTarget:Y}=J;return`${OG(J)}

This happened because \`binaryTargets\` have been pinned, but the actual deployment also required "${Y}".
${qF(J)}

${KG(J)}`}function DF(J){return`We would appreciate if you could take the time to share some information with us.
Please help us by answering a few questions: https://pris.ly/${J}`}function ZF(J){let{errorStack:Y}=J;return Y?.match(/\/\.next|\/next@|\/next\//)?`

We detected that you are using Next.js, learn how to fix this: https://pris.ly/d/engine-not-found-nextjs.`:""}function Sl(J){let{queryEngineName:Y}=J;return`${OG(J)}${ZF(J)}

This is likely caused by a bundler that has not copied "${Y}" next to the resulting bundle.
Ensure that "${Y}" has been copied next to the bundle or in "${J.expectedLocation}".

${DF("engine-not-found-bundler-investigation")}

${KG(J)}`}function Vl(J){let{runtimeBinaryTarget:Y,generatorBinaryTargets:W}=J,Q=W.find((X)=>X.native);return`${OG(J)}

This happened because Prisma Client was generated for "${Q?.value??"unknown"}", but the actual deployment required "${Y}".
${qF(J)}

${KG(J)}`}function Fl(J){let{queryEngineName:Y}=J;return`${OG(J)}${ZF(J)}

This is likely caused by tooling that has not copied "${Y}" to the deployment folder.
Ensure that you ran \`prisma generate\` and that "${Y}" has been copied to "${J.expectedLocation}".

${DF("engine-not-found-tooling-investigation")}

${KG(J)}`}var El=K8("prisma:client:engines:resolveEnginePath"),jl=()=>new RegExp("runtime[\\\\/]library\\.m?js$");async function Pl(J,Y){let W={binary:x0.env.PRISMA_QUERY_ENGINE_BINARY,library:x0.env.PRISMA_QUERY_ENGINE_LIBRARY}[J]??Y.prismaPath;if(W!==void 0)return W;let{enginePath:Q,searchedLocations:X}=await Cl(J,Y);if(El("enginePath",Q),Q!==void 0&&J==="binary"&&ju(Q),Q!==void 0)return Y.prismaPath=Q;let M=await HA(),G=Y.generator?.binaryTargets??[],H=G.some((D)=>D.native),U=!G.some((D)=>D.value===M),B=QA.match(jl())===null,A={searchedLocations:X,generatorBinaryTargets:G,generator:Y.generator,runtimeBinaryTarget:M,queryEngineName:OF(J,M),expectedLocation:aM.relative(x0.cwd(),Y.dirname),errorStack:new Error().stack},N;throw H&&U?N=Vl(A):U?N=Ll(A):B?N=Sl(A):N=Fl(A),new w5(N,Y.clientVersion)}async function Cl(J,Y){let W=await HA(),Q=[],X=[Y.dirname,aM.resolve(__dirname,".."),Y.generator?.output?.value??__dirname,aM.resolve(__dirname,"../../../.prisma/client"),"/tmp/prisma-engines",Y.cwd];QA.includes("resolveEnginePath")&&X.push(Eu());for(let M of X){let G=OF(J,W),H=aM.join(M,G);if(Q.push(M),Kl.existsSync(H))return{enginePath:H,searchedLocations:Q}}return{enginePath:void 0,searchedLocations:Q}}function OF(J,Y){return J==="library"?Oc(Y,"fs"):`query-engine-${Y}${Y==="windows"?".exe":""}`}function Il(J){return J?J.replace(/".*"/g,'"X"').replace(/[\s:\[]([+-]?([0-9]*[.])?[0-9]+)/g,(Y)=>`${Y[0]}5`):""}function Rl(J){return J.split(`
`).map((Y)=>Y.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`)}var Tl=Q6(vd());function _l({title:J,user:Y="prisma",repo:W="prisma",template:Q="bug_report.yml",body:X}){return Tl.default({user:Y,repo:W,template:Q,title:J,body:X})}function wl({version:J,binaryTarget:Y,title:W,description:Q,engineVersion:X,database:M,query:G}){let H=Ac(6000-(G?.length??0)),U=Rl(bB(H)),B=Q?`# Description
\`\`\`
${Q}
\`\`\``:"",A=bB(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name            | Version            |
|-----------------|--------------------|
| Node            | ${x0.version?.padEnd(19)}| 
| OS              | ${Y?.padEnd(19)}|
| Prisma Client   | ${J?.padEnd(19)}|
| Query Engine    | ${X?.padEnd(19)}|
| Database        | ${M?.padEnd(19)}|

${B}

## Logs
\`\`\`
${U}
\`\`\`

## Client Snippet
\`\`\`ts
// PLEASE FILL YOUR CODE SNIPPET HERE
\`\`\`

## Schema
\`\`\`prisma
// PLEASE ADD YOUR SCHEMA HERE IF POSSIBLE
\`\`\`

## Prisma Engine Query
\`\`\`
${G?Il(G):""}
\`\`\`
`),N=_l({title:W,body:A});return`${W}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${Y6(N)}

If you want the Prisma team to look into it, please open the link above \uD83D\uDE4F
To increase the chance of success, please post your schema and a snippet of
how you used Prisma Client in the issue. 
`}function kl(J,Y){throw new Error(Y)}function xl(J){return J!==null&&typeof J=="object"&&typeof J.$type=="string"}function gl(J,Y){let W={};for(let Q of Object.keys(J))W[Q]=Y(J[Q],Q);return W}function eB(J){return J===null?J:Array.isArray(J)?J.map(eB):typeof J=="object"?xl(J)?yl(J):J.constructor!==null&&J.constructor.name!=="Object"?J:gl(J,eB):J}function yl({$type:J,value:Y}){switch(J){case"BigInt":return BigInt(Y);case"Bytes":{let{buffer:W,byteOffset:Q,byteLength:X}=Buffer.from(Y,"base64");return new Uint8Array(W,Q,X)}case"DateTime":return new Date(Y);case"Decimal":return new ZJ(Y);case"Json":return JSON.parse(Y);default:kl(Y,"Unknown tagged value")}}var fl="6.16.2",vl=()=>globalThis.process?.release?.name==="node",bl=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,hl=()=>!!globalThis.Deno,ml=()=>typeof globalThis.Netlify=="object",dl=()=>typeof globalThis.EdgeRuntime=="object",cl=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers";function ul(){return[[ml,"netlify"],[dl,"edge-light"],[cl,"workerd"],[hl,"deno"],[bl,"bun"],[vl,"node"]].flatMap((J)=>J[0]()?[J[1]]:[]).at(0)??""}var pl={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function nl(){let J=ul();return{id:J,prettyName:pl[J]||J,isEdge:["workerd","deno","netlify","edge-light"].includes(J)}}function RA({inlineDatasources:J,overrideDatasources:Y,env:W,clientVersion:Q}){let X,M=Object.keys(J)[0],G=J[M]?.url,H=Y[M]?.url;if(M===void 0?X=void 0:H?X=H:G?.value?X=G.value:G?.fromEnvVar&&(X=W[G.fromEnvVar]),G?.fromEnvVar!==void 0&&X===void 0)throw new w5(`error: Environment variable not found: ${G.fromEnvVar}.`,Q);if(X===void 0)throw new w5("error: Missing URL environment variable, value, or override.",Q);return X}var il=class extends Error{clientVersion;cause;constructor(J,Y){super(J),this.clientVersion=Y.clientVersion,this.cause=Y.cause}get[Symbol.toStringTag](){return this.name}},BW=class extends il{isRetryable;constructor(J,Y){super(J,Y),this.isRetryable=Y.isRetryable??!0}};function x2(J,Y){return{...J,isRetryable:Y}}var sM=class extends BW{name="InvalidDatasourceError";code="P6001";constructor(J,Y){super(J,x2(Y,!1))}};V5(sM,"InvalidDatasourceError");function ll(J){let Y={clientVersion:J.clientVersion},W=Object.keys(J.inlineDatasources)[0],Q=RA({inlineDatasources:J.inlineDatasources,overrideDatasources:J.overrideDatasources,clientVersion:J.clientVersion,env:{...J.env,...typeof x0<"u"?x0.env:{}}}),X;try{X=new URL(Q)}catch{throw new sM(`Error validating datasource \`${W}\`: the URL must start with the protocol \`prisma://\``,Y)}let{protocol:M,searchParams:G}=X;if(M!=="prisma:"&&M!==DV)throw new sM(`Error validating datasource \`${W}\`: the URL must start with the protocol \`prisma://\` or \`prisma+postgres://\``,Y);let H=G.get("api_key");if(H===null||H.length<1)throw new sM(`Error validating datasource \`${W}\`: the URL must contain a valid API key`,Y);let U=Tu(X)?"http:":"https:";x0.env.TEST_CLIENT_ENGINE_REMOTE_EXECUTOR&&X.searchParams.has("use_http")&&(U="http:");let B=new URL(X.href.replace(M,U));return{apiKey:H,url:B}}var ol=Q6(XA()),rl=class{apiKey;tracingHelper;logLevel;logQueries;engineHash;constructor({apiKey:J,tracingHelper:Y,logLevel:W,logQueries:Q,engineHash:X}){this.apiKey=J,this.tracingHelper=Y,this.logLevel=W,this.logQueries=Q,this.engineHash=X}build({traceparent:J,transactionId:Y}={}){let W={Accept:"application/json",Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","Prisma-Engine-Hash":this.engineHash,"Prisma-Engine-Version":ol.enginesVersion};this.tracingHelper.isEnabled()&&(W.traceparent=J??this.tracingHelper.getTraceParent()),Y&&(W["X-Transaction-Id"]=Y);let Q=this.#J();return Q.length>0&&(W["X-Capture-Telemetry"]=Q.join(", ")),W}#J(){let J=[];return this.tracingHelper.isEnabled()&&J.push("tracing"),this.logLevel&&J.push(this.logLevel),this.logQueries&&J.push("query"),J}};function al(J){return J[0]*1000+J[1]/1e6}function CS(J){return new Date(al(J))}var JA=class extends BW{name="ForcedRetryError";code="P5001";constructor(J){super("This request must be retried",x2(J,!0))}};V5(JA,"ForcedRetryError");var TA=class extends BW{name="NotImplementedYetError";code="P5004";constructor(J,Y){super(J,x2(Y,!1))}};V5(TA,"NotImplementedYetError");var X6=class extends BW{response;constructor(J,Y){super(J,Y),this.response=Y.response;let W=this.response.headers.get("prisma-request-id");if(W){let Q=`(The request id was: ${W})`;this.message=this.message+" "+Q}}},_A=class extends X6{name="SchemaMissingError";code="P5005";constructor(J){super("Schema needs to be uploaded",x2(J,!0))}};V5(_A,"SchemaMissingError");var KF="This request could not be understood by the server",zF=class extends X6{name="BadRequestError";code="P5000";constructor(J,Y,W){super(Y||KF,x2(J,!1)),W&&(this.code=W)}};V5(zF,"BadRequestError");var LF=class extends X6{name="HealthcheckTimeoutError";code="P5013";logs;constructor(J,Y){super("Engine not started: healthcheck timeout",x2(J,!0)),this.logs=Y}};V5(LF,"HealthcheckTimeoutError");var SF=class extends X6{name="EngineStartupError";code="P5014";logs;constructor(J,Y,W){super(Y,x2(J,!0)),this.logs=W}};V5(SF,"EngineStartupError");var VF=class extends X6{name="EngineVersionNotSupportedError";code="P5012";constructor(J){super("Engine version is not supported",x2(J,!1))}};V5(VF,"EngineVersionNotSupportedError");var FF="Request timed out",EF=class extends X6{name="GatewayTimeoutError";code="P5009";constructor(J,Y=FF){super(Y,x2(J,!1))}};V5(EF,"GatewayTimeoutError");var sl="Interactive transaction error",jF=class extends X6{name="InteractiveTransactionError";code="P5015";constructor(J,Y=sl){super(Y,x2(J,!1))}};V5(jF,"InteractiveTransactionError");var tl="Request parameters are invalid",PF=class extends X6{name="InvalidRequestError";code="P5011";constructor(J,Y=tl){super(Y,x2(J,!1))}};V5(PF,"InvalidRequestError");var CF="Requested resource does not exist",IF=class extends X6{name="NotFoundError";code="P5003";constructor(J,Y=CF){super(Y,x2(J,!1))}};V5(IF,"NotFoundError");var RF="Unknown server error",YA=class extends X6{name="ServerError";code="P5006";logs;constructor(J,Y,W){super(Y||RF,x2(J,!0)),this.logs=W}};V5(YA,"ServerError");var TF="Unauthorized, check your connection string",_F=class extends X6{name="UnauthorizedError";code="P5007";constructor(J,Y=TF){super(Y,x2(J,!1))}};V5(_F,"UnauthorizedError");var wF="Usage exceeded, retry again later",kF=class extends X6{name="UsageExceededError";code="P5008";constructor(J,Y=wF){super(Y,x2(J,!0))}};V5(kF,"UsageExceededError");async function el(J){let Y;try{Y=await J.text()}catch{return{type:"EmptyError"}}try{let W=JSON.parse(Y);if(typeof W=="string")switch(W){case"InternalDataProxyError":return{type:"DataProxyError",body:W};default:return{type:"UnknownTextError",body:W}}if(typeof W=="object"&&W!==null){if("is_panic"in W&&"message"in W&&"error_code"in W)return{type:"QueryEngineError",body:W};if("EngineNotStarted"in W||"InteractiveTransactionMisrouted"in W||"InvalidRequestError"in W){let Q=Object.values(W)[0].reason;return typeof Q=="string"&&!["SchemaMissing","EngineVersionNotSupported"].includes(Q)?{type:"UnknownJsonError",body:W}:{type:"DataProxyError",body:W}}}return{type:"UnknownJsonError",body:W}}catch{return Y===""?{type:"EmptyError"}:{type:"UnknownTextError",body:Y}}}async function nM(J,Y){if(J.ok)return;let W={clientVersion:Y,response:J},Q=await el(J);if(Q.type==="QueryEngineError")throw new X1(Q.body.message,{code:Q.body.error_code,clientVersion:Y});if(Q.type==="DataProxyError"){if(Q.body==="InternalDataProxyError")throw new YA(W,"Internal Data Proxy error");if("EngineNotStarted"in Q.body){if(Q.body.EngineNotStarted.reason==="SchemaMissing")return new _A(W);if(Q.body.EngineNotStarted.reason==="EngineVersionNotSupported")throw new VF(W);if("EngineStartupError"in Q.body.EngineNotStarted.reason){let{msg:X,logs:M}=Q.body.EngineNotStarted.reason.EngineStartupError;throw new SF(W,X,M)}if("KnownEngineStartupError"in Q.body.EngineNotStarted.reason){let{msg:X,error_code:M}=Q.body.EngineNotStarted.reason.KnownEngineStartupError;throw new w5(X,Y,M)}if("HealthcheckTimeout"in Q.body.EngineNotStarted.reason){let{logs:X}=Q.body.EngineNotStarted.reason.HealthcheckTimeout;throw new LF(W,X)}}if("InteractiveTransactionMisrouted"in Q.body)throw new jF(W,{IDParseError:"Could not parse interactive transaction ID",NoQueryEngineFoundError:"Could not find Query Engine for the specified host and transaction ID",TransactionStartError:"Could not start interactive transaction"}[Q.body.InteractiveTransactionMisrouted.reason]);if("InvalidRequestError"in Q.body)throw new PF(W,Q.body.InvalidRequestError.reason)}if(J.status===401||J.status===403)throw new _F(W,eY(TF,Q));if(J.status===404)return new IF(W,eY(CF,Q));if(J.status===429)throw new kF(W,eY(wF,Q));if(J.status===504)throw new EF(W,eY(FF,Q));if(J.status>=500)throw new YA(W,eY(RF,Q));if(J.status>=400)throw new zF(W,eY(KF,Q))}function eY(J,Y){return Y.type==="EmptyError"?J:`${J}: ${JSON.stringify(Y)}`}function Jo(J){let Y=Math.pow(2,J)*50,W=Math.ceil(Math.random()*Y)-Math.ceil(Y/2),Q=Y+W;return new Promise((X)=>setTimeout(()=>X(Q),Q))}var q7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Yo(J){let Y=new TextEncoder().encode(J),W="",Q=Y.byteLength,X=Q%3,M=Q-X,G,H,U,B,A;for(let N=0;N<M;N=N+3)A=Y[N]<<16|Y[N+1]<<8|Y[N+2],G=(A&16515072)>>18,H=(A&258048)>>12,U=(A&4032)>>6,B=A&63,W+=q7[G]+q7[H]+q7[U]+q7[B];return X==1?(A=Y[M],G=(A&252)>>2,H=(A&3)<<4,W+=q7[G]+q7[H]+"=="):X==2&&(A=Y[M]<<8|Y[M+1],G=(A&64512)>>10,H=(A&1008)>>4,U=(A&15)<<2,W+=q7[G]+q7[H]+q7[U]+"="),W}function Wo(J){if(J.generator?.previewFeatures.some((Y)=>Y.toLowerCase().includes("metrics")))throw new w5("The `metrics` preview feature is not yet available with Accelerate.\nPlease remove `metrics` from the `previewFeatures` in your schema.\n\nMore information about Accelerate: https://pris.ly/d/accelerate",J.clientVersion)}var Qo={"@prisma/debug":"workspace:*","@prisma/engines-version":"6.16.0-7.1c57fdcd7e44b29b9313256c76699e91c3ac3c43","@prisma/fetch-engine":"workspace:*","@prisma/get-platform":"workspace:*"},xF=class extends BW{name="RequestError";code="P5010";constructor(J,Y){super(`Cannot fetch data from service:
${J}`,x2(Y,!0))}};V5(xF,"RequestError");async function $$(J,Y,W=(Q)=>Q){let{clientVersion:Q,...X}=Y,M=W(fetch);try{return await M(J,X)}catch(G){let H=G.message??"Unknown error";throw new xF(H,{clientVersion:Q,cause:G})}}var $o=/^[1-9][0-9]*\.[0-9]+\.[0-9]+$/,gF=K8("prisma:client:dataproxyEngine");async function Xo(J,Y){let W=Qo["@prisma/engines-version"],Q=Y.clientVersion??"unknown";if(x0.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION)return x0.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION;if(J.includes("accelerate")&&Q!=="0.0.0"&&Q!=="in-memory")return Q;let[X,M]=Q?.split("-")??[];if(M===void 0&&$o.test(X))return X;if(M!==void 0||Q==="0.0.0"||Q==="in-memory"){let[G]=W.split("-")??[],[H,U,B]=G.split("."),A=Go(`<=${H}.${U}.${B}`),N=await $$(A,{clientVersion:Q});if(!N.ok)throw new Error(`Failed to fetch stable Prisma version, unpkg.com status ${N.status} ${N.statusText}, response body: ${await N.text()||"<empty body>"}`);let D=await N.text();gF("length of body fetched from unpkg.com",D.length);let q;try{q=JSON.parse(D)}catch(K){throw console.error("JSON.parse error: body fetched from unpkg.com: ",D),K}return q.version}throw new TA("Only `major.minor.patch` versions are supported by Accelerate.",{clientVersion:Q})}async function Mo(J,Y){let W=await Xo(J,Y);return gF("version",W),W}function Go(J){return encodeURI(`https://unpkg.com/prisma@${J}/package.json`)}var IS=3,Y$=K8("prisma:client:dataproxyEngine"),Ho=class{name="DataProxyEngine";inlineSchema;inlineSchemaHash;inlineDatasources;config;logEmitter;env;clientVersion;engineHash;tracingHelper;remoteClientVersion;host;headerBuilder;startPromise;protocol;constructor(J){Wo(J),this.config=J,this.env=J.env,this.inlineSchema=Yo(J.inlineSchema),this.inlineDatasources=J.inlineDatasources,this.inlineSchemaHash=J.inlineSchemaHash,this.clientVersion=J.clientVersion,this.engineHash=J.engineVersion,this.logEmitter=J.logEmitter,this.tracingHelper=J.tracingHelper}apiKey(){return this.headerBuilder.apiKey}version(){return this.engineHash}async start(){this.startPromise!==void 0&&await this.startPromise,this.startPromise=(async()=>{let{apiKey:J,url:Y}=this.getURLAndAPIKey();this.host=Y.host,this.protocol=Y.protocol,this.headerBuilder=new rl({apiKey:J,tracingHelper:this.tracingHelper,logLevel:this.config.logLevel??"error",logQueries:this.config.logQueries,engineHash:this.engineHash}),this.remoteClientVersion=await Mo(this.host,this.config),Y$("host",this.host),Y$("protocol",this.protocol)})(),await this.startPromise}async stop(){}propagateResponseExtensions(J){J?.logs?.length&&J.logs.forEach((Y)=>{switch(Y.level){case"debug":case"trace":Y$(Y);break;case"error":case"warn":case"info":{this.logEmitter.emit(Y.level,{timestamp:CS(Y.timestamp),message:Y.attributes.message??"",target:Y.target??"BinaryEngine"});break}case"query":{this.logEmitter.emit("query",{query:Y.attributes.query??"",timestamp:CS(Y.timestamp),duration:Y.attributes.duration_ms??0,params:Y.attributes.params??"",target:Y.target??"BinaryEngine"});break}default:Y.level}}),J?.traces?.length&&this.tracingHelper.dispatchEngineSpans(J.traces)}onBeforeExit(){throw new Error('"beforeExit" hook is not applicable to the remote query engine')}async url(J){return await this.start(),`${this.protocol}//${this.host}/${this.remoteClientVersion}/${this.inlineSchemaHash}/${J}`}async uploadSchema(){let J={name:"schemaUpload",internal:!0};return this.tracingHelper.runInChildSpan(J,async()=>{let Y=await $$(await this.url("schema"),{method:"PUT",headers:this.headerBuilder.build(),body:this.inlineSchema,clientVersion:this.clientVersion});Y.ok||Y$("schema response status",Y.status);let W=await nM(Y,this.clientVersion);if(W)throw this.logEmitter.emit("warn",{message:`Error while uploading schema: ${W.message}`,timestamp:new Date,target:""}),W;this.logEmitter.emit("info",{message:`Schema (re)uploaded (hash: ${this.inlineSchemaHash})`,timestamp:new Date,target:""})})}request(J,{traceparent:Y,interactiveTransaction:W,customDataProxyFetch:Q}){return this.requestInternal({body:J,traceparent:Y,interactiveTransaction:W,customDataProxyFetch:Q})}async requestBatch(J,{traceparent:Y,transaction:W,customDataProxyFetch:Q}){let X=W?.kind==="itx"?W.options:void 0,M=PA(J,W);return(await this.requestInternal({body:M,customDataProxyFetch:Q,interactiveTransaction:X,traceparent:Y})).map((G)=>(G.extensions&&this.propagateResponseExtensions(G.extensions),("errors"in G)?this.convertProtocolErrorsToClientError(G.errors):G))}requestInternal({body:J,traceparent:Y,customDataProxyFetch:W,interactiveTransaction:Q}){return this.withRetry({actionGerund:"querying",callback:async({logHttpCall:X})=>{let M=Q?`${Q.payload.endpoint}/graphql`:await this.url("graphql");X(M);let G=await $$(M,{method:"POST",headers:this.headerBuilder.build({traceparent:Y,transactionId:Q?.id}),body:JSON.stringify(J),clientVersion:this.clientVersion},W);G.ok||Y$("graphql response status",G.status),await this.handleError(await nM(G,this.clientVersion));let H=await G.json();if(H.extensions&&this.propagateResponseExtensions(H.extensions),"errors"in H)throw this.convertProtocolErrorsToClientError(H.errors);return"batchResult"in H?H.batchResult:H}})}async transaction(J,Y,W){let Q={start:"starting",commit:"committing",rollback:"rolling back"};return this.withRetry({actionGerund:`${Q[J]} transaction`,callback:async({logHttpCall:X})=>{if(J==="start"){let M=JSON.stringify({max_wait:W.maxWait,timeout:W.timeout,isolation_level:W.isolationLevel}),G=await this.url("transaction/start");X(G);let H=await $$(G,{method:"POST",headers:this.headerBuilder.build({traceparent:Y.traceparent}),body:M,clientVersion:this.clientVersion});await this.handleError(await nM(H,this.clientVersion));let U=await H.json(),{extensions:B}=U;B&&this.propagateResponseExtensions(B);let A=U.id,N=U["data-proxy"].endpoint;return{id:A,payload:{endpoint:N}}}else{let M=`${W.payload.endpoint}/${J}`;X(M);let G=await $$(M,{method:"POST",headers:this.headerBuilder.build({traceparent:Y.traceparent}),clientVersion:this.clientVersion});await this.handleError(await nM(G,this.clientVersion));let H=await G.json(),{extensions:U}=H;U&&this.propagateResponseExtensions(U);return}}})}getURLAndAPIKey(){return ll({clientVersion:this.clientVersion,env:this.env,inlineDatasources:this.inlineDatasources,overrideDatasources:this.config.overrideDatasources})}metrics(){throw new TA("Metrics are not yet supported for Accelerate",{clientVersion:this.clientVersion})}async withRetry(J){for(let Y=0;;Y++){let W=(Q)=>{this.logEmitter.emit("info",{message:`Calling ${Q} (n=${Y})`,timestamp:new Date,target:""})};try{return await J.callback({logHttpCall:W})}catch(Q){if(!(Q instanceof BW)||!Q.isRetryable)throw Q;if(Y>=IS)throw Q instanceof JA?Q.cause:Q;this.logEmitter.emit("warn",{message:`Attempt ${Y+1}/${IS} failed for ${J.actionGerund}: ${Q.message??"(unknown)"}`,timestamp:new Date,target:""});let X=await Jo(Y);this.logEmitter.emit("warn",{message:`Retrying after ${X}ms`,timestamp:new Date,target:""})}}}async handleError(J){if(J instanceof _A)throw await this.uploadSchema(),new JA({clientVersion:this.clientVersion,cause:J});if(J)throw J}convertProtocolErrorsToClientError(J){return J.length===1?CA(J[0],this.config.clientVersion,this.config.activeProvider):new f8(JSON.stringify(J),{clientVersion:this.config.clientVersion})}applyPendingMigrations(){throw new Error("Method not implemented.")}};function Uo(J){if(J?.kind==="itx")return J.options.id}var PB=Symbol("PrismaLibraryEngineCache");function Ao(){let J=globalThis;return J[PB]===void 0&&(J[PB]={}),J[PB]}function No(J){let Y=Ao();if(Y[J]!==void 0)return Y[J];let W=Bo.toNamespacedPath(J),Q={exports:{}},X=0;return x0.platform!=="win32"&&(X=RS.constants.dlopen.RTLD_LAZY|RS.constants.dlopen.RTLD_DEEPBIND),x0.dlopen(Q,W,X),Y[J]=Q.exports,Q.exports}var qo={async loadLibrary(J){let Y=await fc(),W=await Pl("library",J);try{return J.tracingHelper.runInChildSpan({name:"loadLibrary",internal:!0},()=>No(W))}catch(Q){let X=Pu({e:Q,platformInfo:Y,id:W});throw new w5(X,J.clientVersion)}}},CB,Do={async loadLibrary(J){let{clientVersion:Y,adapter:W,engineWasm:Q}=J;if(W===void 0)throw new w5(`The \`adapter\` option for \`PrismaClient\` is required in this context (${nl().prettyName})`,Y);if(Q===void 0)throw new w5("WASM engine was unexpectedly `undefined`",Y);CB===void 0&&(CB=(async()=>{let M=await Q.getRuntime(),G=await Q.getQueryEngineWasmModule();if(G==null)throw new w5("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",Y);let H={"./query_engine_bg.js":M},U=new WebAssembly.Instance(G,H),B=U.exports.__wbindgen_start;return M.__wbg_set_wasm(U.exports),B(),M.QueryEngine})());let X=await CB;return{debugPanic(){return Promise.reject("{}")},dmmf(){return Promise.resolve("{}")},version(){return{commit:"unknown",version:"unknown"}},QueryEngine:X}}},Zo="P2036",z4=K8("prisma:client:libraryEngine");function Oo(J){return J.item_type==="query"&&"query"in J}function Ko(J){return"level"in J?J.level==="error"&&J.message==="PANIC":!1}var TS=[...Zc,"native"],zo=0xffffffffffffffffn,IB=1n;function Lo(){let J=IB++;return IB>zo&&(IB=1n),J}var _S=class{name="LibraryEngine";engine;libraryInstantiationPromise;libraryStartingPromise;libraryStoppingPromise;libraryStarted;executingQueryPromise;config;QueryEngineConstructor;libraryLoader;library;logEmitter;libQueryEnginePath;binaryTarget;datasourceOverrides;datamodel;logQueries;logLevel;lastQuery;loggerRustPanic;tracingHelper;adapterPromise;versionInfo;constructor(J,Y){this.libraryLoader=Y??qo,J.engineWasm!==void 0&&(this.libraryLoader=Y??Do),this.config=J,this.libraryStarted=!1,this.logQueries=J.logQueries??!1,this.logLevel=J.logLevel??"error",this.logEmitter=J.logEmitter,this.datamodel=J.inlineSchema,this.tracingHelper=J.tracingHelper,J.enableDebugLogs&&(this.logLevel="debug");let W=Object.keys(J.overrideDatasources)[0],Q=J.overrideDatasources[W]?.url;W!==void 0&&Q!==void 0&&(this.datasourceOverrides={[W]:Q}),this.libraryInstantiationPromise=this.instantiateLibrary()}wrapEngine(J){return{applyPendingMigrations:J.applyPendingMigrations?.bind(J),commitTransaction:this.withRequestId(J.commitTransaction.bind(J)),connect:this.withRequestId(J.connect.bind(J)),disconnect:this.withRequestId(J.disconnect.bind(J)),metrics:J.metrics?.bind(J),query:this.withRequestId(J.query.bind(J)),rollbackTransaction:this.withRequestId(J.rollbackTransaction.bind(J)),sdlSchema:J.sdlSchema?.bind(J),startTransaction:this.withRequestId(J.startTransaction.bind(J)),trace:J.trace.bind(J),free:J.free?.bind(J)}}withRequestId(J){return async(...Y)=>{let W=Lo().toString();try{return await J(...Y,W)}finally{if(this.tracingHelper.isEnabled()){let Q=await this.engine?.trace(W);if(Q){let X=JSON.parse(Q);this.tracingHelper.dispatchEngineSpans(X.spans)}}}}}async applyPendingMigrations(){throw new Error("Cannot call this method from this type of engine instance")}async transaction(J,Y,W){await this.start();let Q=await this.adapterPromise,X=JSON.stringify(Y),M;if(J==="start"){let H=JSON.stringify({max_wait:W.maxWait,timeout:W.timeout,isolation_level:W.isolationLevel});M=await this.engine?.startTransaction(H,X)}else J==="commit"?M=await this.engine?.commitTransaction(W.id,X):J==="rollback"&&(M=await this.engine?.rollbackTransaction(W.id,X));let G=this.parseEngineResponse(M);if(So(G)){let H=this.getExternalAdapterError(G,Q?.errorRegistry);throw H?H.error:new X1(G.message,{code:G.error_code,clientVersion:this.config.clientVersion,meta:G.meta})}else if(typeof G.message=="string")throw new f8(G.message,{clientVersion:this.config.clientVersion});return G}async instantiateLibrary(){if(z4("internalSetup"),this.libraryInstantiationPromise)return this.libraryInstantiationPromise;Dc(),this.binaryTarget=await this.getCurrentBinaryTarget(),await this.tracingHelper.runInChildSpan("load_engine",()=>this.loadEngine()),this.version()}async getCurrentBinaryTarget(){{if(this.binaryTarget)return this.binaryTarget;let J=await this.tracingHelper.runInChildSpan("detect_platform",()=>HA());if(!TS.includes(J))throw new w5(`Unknown ${qJ("PRISMA_QUERY_ENGINE_LIBRARY")} ${qJ(l6(J))}. Possible binaryTargets: ${A$(TS.join(", "))} or a path to the query engine library.
You may have to run ${A$("prisma generate")} for your changes to take effect.`,this.config.clientVersion);return J}}parseEngineResponse(J){if(!J)throw new f8("Response from the Engine was empty",{clientVersion:this.config.clientVersion});try{return JSON.parse(J)}catch{throw new f8("Unable to JSON.parse response from engine",{clientVersion:this.config.clientVersion})}}async loadEngine(){if(!this.engine){this.QueryEngineConstructor||(this.library=await this.libraryLoader.loadLibrary(this.config),this.QueryEngineConstructor=this.library.QueryEngine);try{let J=new WeakRef(this);this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(QS));let Y=await this.adapterPromise;Y&&z4("Using driver adapter: %O",Y),this.engine=this.wrapEngine(new this.QueryEngineConstructor({datamodel:this.datamodel,env:x0.env,logQueries:this.config.logQueries??!1,ignoreEnvVarErrors:!0,datasourceOverrides:this.datasourceOverrides??{},logLevel:this.logLevel,configDir:this.config.cwd,engineProtocol:"json",enableTracing:this.tracingHelper.isEnabled()},(W)=>{J.deref()?.logger(W)},Y))}catch(J){let Y=J,W=this.parseInitError(Y.message);throw typeof W=="string"?Y:new w5(W.message,this.config.clientVersion,W.error_code)}}}logger(J){let Y=this.parseEngineResponse(J);Y&&(Y.level=Y?.level.toLowerCase()??"unknown",Oo(Y)?this.logEmitter.emit("query",{timestamp:new Date,query:Y.query,params:Y.params,duration:Number(Y.duration_ms),target:Y.module_path}):Ko(Y)?this.loggerRustPanic=new N9(RB(this,`${Y.message}: ${Y.reason} in ${Y.file}:${Y.line}:${Y.column}`),this.config.clientVersion):this.logEmitter.emit(Y.level,{timestamp:new Date,message:Y.message,target:Y.module_path}))}parseInitError(J){try{return JSON.parse(J)}catch{}return J}parseRequestError(J){try{return JSON.parse(J)}catch{}return J}onBeforeExit(){throw new Error('"beforeExit" hook is not applicable to the library engine since Prisma 5.0.0, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){if(this.libraryInstantiationPromise||(this.libraryInstantiationPromise=this.instantiateLibrary()),await this.libraryInstantiationPromise,await this.libraryStoppingPromise,this.libraryStartingPromise)return z4(`library already starting, this.libraryStarted: ${this.libraryStarted}`),this.libraryStartingPromise;if(this.libraryStarted)return;let J=async()=>{z4("library starting");try{let Y={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.connect(JSON.stringify(Y)),this.libraryStarted=!0,this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(QS)),await this.adapterPromise,z4("library started")}catch(Y){let W=this.parseInitError(Y.message);throw typeof W=="string"?Y:new w5(W.message,this.config.clientVersion,W.error_code)}finally{this.libraryStartingPromise=void 0}};return this.libraryStartingPromise=this.tracingHelper.runInChildSpan("connect",J),this.libraryStartingPromise}async stop(){if(await this.libraryInstantiationPromise,await this.libraryStartingPromise,await this.executingQueryPromise,this.libraryStoppingPromise)return z4("library is already stopping"),this.libraryStoppingPromise;if(!this.libraryStarted){await(await this.adapterPromise)?.dispose(),this.adapterPromise=void 0;return}let J=async()=>{await new Promise((W)=>setImmediate(W)),z4("library stopping");let Y={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.disconnect(JSON.stringify(Y)),this.engine?.free&&this.engine.free(),this.engine=void 0,this.libraryStarted=!1,this.libraryStoppingPromise=void 0,this.libraryInstantiationPromise=void 0,await(await this.adapterPromise)?.dispose(),this.adapterPromise=void 0,z4("library stopped")};return this.libraryStoppingPromise=this.tracingHelper.runInChildSpan("disconnect",J),this.libraryStoppingPromise}version(){return this.versionInfo=this.library?.version(),this.versionInfo?.version??"unknown"}debugPanic(J){return this.library?.debugPanic(J)}async request(J,{traceparent:Y,interactiveTransaction:W}){z4(`sending request, this.libraryStarted: ${this.libraryStarted}`);let Q=JSON.stringify({traceparent:Y}),X=JSON.stringify(J);try{await this.start();let M=await this.adapterPromise;this.executingQueryPromise=this.engine?.query(X,Q,W?.id),this.lastQuery=X;let G=this.parseEngineResponse(await this.executingQueryPromise);if(G.errors)throw G.errors.length===1?this.buildQueryError(G.errors[0],M?.errorRegistry):new f8(JSON.stringify(G.errors),{clientVersion:this.config.clientVersion});if(this.loggerRustPanic)throw this.loggerRustPanic;return{data:G}}catch(M){if(M instanceof w5)throw M;if(M.code==="GenericFailure"&&M.message?.startsWith("PANIC:"))throw new N9(RB(this,M.message),this.config.clientVersion);let G=this.parseRequestError(M.message);throw typeof G=="string"?M:new f8(`${G.message}
${G.backtrace}`,{clientVersion:this.config.clientVersion})}}async requestBatch(J,{transaction:Y,traceparent:W}){z4("requestBatch");let Q=PA(J,Y);await this.start();let X=await this.adapterPromise;this.lastQuery=JSON.stringify(Q),this.executingQueryPromise=this.engine?.query(this.lastQuery,JSON.stringify({traceparent:W}),Uo(Y));let M=await this.executingQueryPromise,G=this.parseEngineResponse(M);if(G.errors)throw G.errors.length===1?this.buildQueryError(G.errors[0],X?.errorRegistry):new f8(JSON.stringify(G.errors),{clientVersion:this.config.clientVersion});let{batchResult:H,errors:U}=G;if(Array.isArray(H))return H.map((B)=>B.errors&&B.errors.length>0?this.loggerRustPanic??this.buildQueryError(B.errors[0],X?.errorRegistry):{data:B});throw U&&U.length===1?new Error(U[0].error):new Error(JSON.stringify(G))}buildQueryError(J,Y){if(J.user_facing_error.is_panic)return new N9(RB(this,J.user_facing_error.message),this.config.clientVersion);let W=this.getExternalAdapterError(J.user_facing_error,Y);return W?W.error:CA(J,this.config.clientVersion,this.config.activeProvider)}getExternalAdapterError(J,Y){if(J.error_code===Zo&&Y){let W=J.meta?.id;MS(typeof W=="number","Malformed external JS error received from the engine");let Q=Y.consumeError(W);return MS(Q,"External error with reported id was not registered"),Q}}async metrics(J){await this.start();let Y=await this.engine.metrics(JSON.stringify(J));return J.format==="prometheus"?Y:this.parseEngineResponse(Y)}};function So(J){return typeof J=="object"&&J!==null&&J.error_code!==void 0}function RB(J,Y){return wl({binaryTarget:J.binaryTarget,title:Y,version:J.config.clientVersion,engineVersion:J.versionInfo?.commit,database:J.config.activeProvider,query:J.lastQuery})}function Vo({url:J,adapter:Y,copyEngine:W,targetBuildType:Q}){let X=[],M=[],G=(O)=>{X.push({_tag:"warning",value:O})},H=(O)=>{let z=O.join(`
`);M.push({_tag:"error",value:z})},U=!!J?.startsWith("prisma://"),B=ZV(J),A=!!Y,N=U||B;!A&&W&&N&&Q!=="client"&&Q!=="wasm-compiler-edge"&&G(["recommend--no-engine","In production, we recommend using `prisma generate --no-engine` (See: `prisma generate --help`)"]);let D=N||!W;A&&(D||Q==="edge")&&(Q==="edge"?H(["Prisma Client was configured to use the `adapter` option but it was imported via its `/edge` endpoint.","Please either remove the `/edge` endpoint or remove the `adapter` from the Prisma Client constructor."]):N?H(["You've provided both a driver adapter and an Accelerate database URL. Driver adapters currently cannot connect to Accelerate.","Please provide either a driver adapter with a direct database URL or an Accelerate URL and no driver adapter."]):W||H(["Prisma Client was configured to use the `adapter` option but `prisma generate` was run with `--no-engine`.","Please run `prisma generate` without `--no-engine` to be able to use Prisma Client with the adapter."]));let q={accelerate:D,ppg:B,driverAdapters:A};function K(O){return O.length>0}return K(M)?{ok:!1,diagnostics:{warnings:X,errors:M},isUsing:q}:{ok:!0,diagnostics:{warnings:X},isUsing:q}}function Fo({copyEngine:J=!0},Y){let W;try{W=RA({inlineDatasources:Y.inlineDatasources,overrideDatasources:Y.overrideDatasources,env:{...Y.env,...x0.env},clientVersion:Y.clientVersion})}catch{}let{ok:Q,isUsing:X,diagnostics:M}=Vo({url:W,adapter:Y.adapter,copyEngine:J,targetBuildType:"library"});for(let N of M.warnings)ru(...N.value);if(!Q){let N=M.errors[0];throw new Z7(N.value,{clientVersion:Y.clientVersion})}let G=fB(Y.generator),H=G==="library",U=G==="binary",B=G==="client",A=(X.accelerate||X.ppg)&&!X.driverAdapters;return X.accelerate?new Ho(Y):(X.driverAdapters,H?new _S(Y):(X.accelerate,new _S(Y)))}function Eo({generator:J}){return J?.previewFeatures??[]}var jo=(J)=>({command:J}),Po=(J)=>J.strings.reduce((Y,W,Q)=>`${Y}@P${Q}${W}`);function W$(J){try{return wS(J,"fast")}catch{return wS(J,"slow")}}function wS(J,Y){return JSON.stringify(J.map((W)=>yF(W,Y)))}function yF(J,Y){if(Array.isArray(J))return J.map((W)=>yF(W,Y));if(typeof J=="bigint")return{prisma__type:"bigint",prisma__value:J.toString()};if(DA(J))return{prisma__type:"date",prisma__value:J.toJSON()};if(AG.isDecimal(J))return{prisma__type:"decimal",prisma__value:J.toJSON()};if(Buffer.isBuffer(J))return{prisma__type:"bytes",prisma__value:J.toString("base64")};if(Co(J))return{prisma__type:"bytes",prisma__value:Buffer.from(J).toString("base64")};if(ArrayBuffer.isView(J)){let{buffer:W,byteOffset:Q,byteLength:X}=J;return{prisma__type:"bytes",prisma__value:Buffer.from(W,Q,X).toString("base64")}}return typeof J=="object"&&Y==="slow"?fF(J):J}function Co(J){return J instanceof ArrayBuffer||J instanceof SharedArrayBuffer?!0:typeof J=="object"&&J!==null?J[Symbol.toStringTag]==="ArrayBuffer"||J[Symbol.toStringTag]==="SharedArrayBuffer":!1}function fF(J){if(typeof J!="object"||J===null)return J;if(typeof J.toJSON=="function")return J.toJSON();if(Array.isArray(J))return J.map(kS);let Y={};for(let W of Object.keys(J))Y[W]=kS(J[W]);return Y}function kS(J){return typeof J=="bigint"?J.toString():fF(J)}var Io=/^(\s*alter\s)/i,xS=K8("prisma:client");function gS(J,Y,W,Q){if(!(J!=="postgresql"&&J!=="cockroachdb")&&W.length>0&&Io.exec(Y))throw new Error(`Running ALTER using ${Q} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var yS=({clientMethod:J,activeProvider:Y})=>(W)=>{let Q="",X;if(QF(W))Q=W.sql,X={values:W$(W.values),__prismaRawParameters__:!0};else if(Array.isArray(W)){let[M,...G]=W;Q=M,X={values:W$(G||[]),__prismaRawParameters__:!0}}else switch(Y){case"sqlite":case"mysql":{Q=W.sql,X={values:W$(W.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{Q=W.text,X={values:W$(W.values),__prismaRawParameters__:!0};break}case"sqlserver":{Q=Po(W),X={values:W$(W.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${Y} provider does not support ${J}`)}return X?.values?xS(`prisma.${J}(${Q}, ${X.values})`):xS(`prisma.${J}(${Q})`),{query:Q,parameters:X}},Ro={requestArgsToMiddlewareArgs(J){return[J.strings,...J.values]},middlewareArgsToRequestArgs(J){let[Y,...W]=J;return new UW(Y,W)}},To={requestArgsToMiddlewareArgs(J){return[J]},middlewareArgsToRequestArgs(J){return J[0]}};function fS(J){return function(Y,W){let Q,X=(M=J)=>{try{return M===void 0||M?.kind==="itx"?Q??=vS(Y(M)):vS(Y(M))}catch(G){return Promise.reject(G)}};return{get spec(){return W},then(M,G){return X().then(M,G)},catch(M){return X().catch(M)},finally(M){return X().finally(M)},requestTransaction(M){let G=X(M);return G.requestTransaction?G.requestTransaction(M):G},[Symbol.toStringTag]:"PrismaPromise"}}}function vS(J){return typeof J.then=="function"?J:Promise.resolve(J)}var _o=Ku.split(".")[0],wo={isEnabled(){return!1},getTraceParent(){return"00-10-10-00"},dispatchEngineSpans(){},getActiveContext(){},runInChildSpan(J,Y){return Y()}},ko=class{isEnabled(){return this.getGlobalTracingHelper().isEnabled()}getTraceParent(J){return this.getGlobalTracingHelper().getTraceParent(J)}dispatchEngineSpans(J){return this.getGlobalTracingHelper().dispatchEngineSpans(J)}getActiveContext(){return this.getGlobalTracingHelper().getActiveContext()}runInChildSpan(J,Y){return this.getGlobalTracingHelper().runInChildSpan(J,Y)}getGlobalTracingHelper(){let J=globalThis[`V${_o}_PRISMA_INSTRUMENTATION`],Y=globalThis.PRISMA_INSTRUMENTATION;return J?.helper??Y?.helper??wo}};function xo(){return new ko}function go(J,Y=()=>{}){let W,Q=new Promise((X)=>W=X);return{then(X){return--J===0&&W(Y()),X?.(Q)}}}function yo(J){return typeof J=="string"?J:J.reduce((Y,W)=>{let Q=typeof W=="string"?W:W.level;return Q==="query"?Y:Y&&(W==="info"||Y==="info")?"info":Q},void 0)}function vF(J){return typeof J.batchRequestIdx=="number"}function fo(J){if(J.action!=="findUnique"&&J.action!=="findUniqueOrThrow")return;let Y=[];return J.modelName&&Y.push(J.modelName),J.query.arguments&&Y.push(WA(J.query.arguments)),Y.push(WA(J.query.selection)),Y.join("")}function WA(J){return`(${Object.keys(J).sort().map((Y)=>{let W=J[Y];return typeof W=="object"&&W!==null?`(${Y} ${WA(W)})`:Y}).join(" ")})`}var vo={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0};function bS(J){return vo[J]}var bo=class{constructor(J){this.options=J,this.batches={}}batches;tickActive=!1;request(J){let Y=this.options.batchBy(J);return Y?(this.batches[Y]||(this.batches[Y]=[],this.tickActive||(this.tickActive=!0,x0.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((W,Q)=>{this.batches[Y].push({request:J,resolve:W,reject:Q})})):this.options.singleLoader(J)}dispatchBatches(){for(let J in this.batches){let Y=this.batches[J];delete this.batches[J],Y.length===1?this.options.singleLoader(Y[0].request).then((W)=>{W instanceof Error?Y[0].reject(W):Y[0].resolve(W)}).catch((W)=>{Y[0].reject(W)}):(Y.sort((W,Q)=>this.options.batchOrder(W.request,Q.request)),this.options.batchLoader(Y.map((W)=>W.request)).then((W)=>{if(W instanceof Error)for(let Q=0;Q<Y.length;Q++)Y[Q].reject(W);else for(let Q=0;Q<Y.length;Q++){let X=W[Q];X instanceof Error?Y[Q].reject(X):Y[Q].resolve(X)}}).catch((W)=>{for(let Q=0;Q<Y.length;Q++)Y[Q].reject(W)}))}}get[Symbol.toStringTag](){return"DataLoader"}};function AJ(J,Y){if(Y===null)return Y;switch(J){case"bigint":return BigInt(Y);case"bytes":{let{buffer:W,byteOffset:Q,byteLength:X}=Buffer.from(Y,"base64");return new Uint8Array(W,Q,X)}case"decimal":return new AG(Y);case"datetime":case"date":return new Date(Y);case"time":return new Date(`1970-01-01T${Y}Z`);case"bigint-array":return Y.map((W)=>AJ("bigint",W));case"bytes-array":return Y.map((W)=>AJ("bytes",W));case"decimal-array":return Y.map((W)=>AJ("decimal",W));case"datetime-array":return Y.map((W)=>AJ("datetime",W));case"date-array":return Y.map((W)=>AJ("date",W));case"time-array":return Y.map((W)=>AJ("time",W));default:return Y}}function ho(J){let Y=[],W=mo(J);for(let Q=0;Q<J.rows.length;Q++){let X=J.rows[Q],M={...W};for(let G=0;G<X.length;G++)M[J.columns[G]]=AJ(J.types[G],X[G]);Y.push(M)}return Y}function mo(J){let Y={};for(let W=0;W<J.columns.length;W++)Y[J.columns[W]]=null;return Y}var co=K8("prisma:client:request_handler"),uo=class{client;dataloader;logEmitter;constructor(J,Y){this.logEmitter=Y,this.client=J,this.dataloader=new bo({batchLoader:Dl(async({requests:W,customDataProxyFetch:Q})=>{let{transaction:X,otelParentCtx:M}=W[0],G=W.map((B)=>B.protocolQuery),H=this.client._tracingHelper.getTraceParent(M),U=W.some((B)=>bS(B.protocolQuery.action));return(await this.client._engine.requestBatch(G,{traceparent:H,transaction:po(X),containsWrite:U,customDataProxyFetch:Q})).map((B,A)=>{if(B instanceof Error)return B;try{return this.mapQueryEngineResult(W[A],B)}catch(N){return N}})}),singleLoader:async(W)=>{let Q=W.transaction?.kind==="itx"?bF(W.transaction):void 0,X=await this.client._engine.request(W.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:Q,isWrite:bS(W.protocolQuery.action),customDataProxyFetch:W.customDataProxyFetch});return this.mapQueryEngineResult(W,X)},batchBy:(W)=>W.transaction?.id?`transaction-${W.transaction.id}`:fo(W.protocolQuery),batchOrder(W,Q){return W.transaction?.kind==="batch"&&Q.transaction?.kind==="batch"?W.transaction.index-Q.transaction.index:0}})}async request(J){try{return await this.dataloader.request(J)}catch(Y){let{clientMethod:W,callsite:Q,transaction:X,args:M,modelName:G}=J;this.handleAndLogRequestError({error:Y,clientMethod:W,callsite:Q,transaction:X,args:M,modelName:G,globalOmit:J.globalOmit})}}mapQueryEngineResult({dataPath:J,unpacker:Y},W){let Q=W?.data,X=this.unpack(Q,J,Y);return x0.env.PRISMA_CLIENT_GET_TIME?{data:X}:X}handleAndLogRequestError(J){try{this.handleRequestError(J)}catch(Y){throw this.logEmitter&&this.logEmitter.emit("error",{message:Y.message,target:J.clientMethod,timestamp:new Date}),Y}}handleRequestError({error:J,clientMethod:Y,callsite:W,transaction:Q,args:X,modelName:M,globalOmit:G}){if(co(J),no(J,Q))throw J;if(J instanceof X1&&io(J)){let U=hF(J.meta);aV({args:X,errors:[U],callsite:W,errorFormat:this.client._errorFormat,originalMethod:Y,clientVersion:this.client._clientVersion,globalOmit:G})}let H=J.message;if(W&&(H=xV({callsite:W,originalMethod:Y,isPanic:J.isPanic,showColors:this.client._errorFormat==="pretty",message:H})),H=this.sanitizeMessage(H),J.code){let U=M?{modelName:M,...J.meta}:J.meta;throw new X1(H,{code:J.code,clientVersion:this.client._clientVersion,meta:U,batchRequestIdx:J.batchRequestIdx})}else{if(J.isPanic)throw new N9(H,this.client._clientVersion);if(J instanceof f8)throw new f8(H,{clientVersion:this.client._clientVersion,batchRequestIdx:J.batchRequestIdx});if(J instanceof w5)throw new w5(H,this.client._clientVersion);if(J instanceof N9)throw new N9(H,this.client._clientVersion)}throw J.clientVersion=this.client._clientVersion,J}sanitizeMessage(J){return this.client._errorFormat&&this.client._errorFormat!=="pretty"?bB(J):J}unpack(J,Y,W){if(!J||(J.data&&(J=J.data),!J))return J;let Q=Object.keys(J)[0],X=Object.values(J)[0],M=Y.filter((U)=>U!=="select"&&U!=="include"),G=HF(X,M),H=Q==="queryRaw"?ho(G):eB(G);return W?W(H):H}get[Symbol.toStringTag](){return"RequestHandler"}};function po(J){if(J){if(J.kind==="batch")return{kind:"batch",options:{isolationLevel:J.isolationLevel}};if(J.kind==="itx")return{kind:"itx",options:bF(J)};qA(J,"Unknown transaction kind")}}function bF(J){return{id:J.id,payload:J.payload}}function no(J,Y){return vF(J)&&Y?.kind==="batch"&&J.batchRequestIdx!==Y.index}function io(J){return J.code==="P2009"||J.code==="P2012"}function hF(J){if(J.kind==="Union")return{kind:"Union",errors:J.errors.map(hF)};if(Array.isArray(J.selectionPath)){let[,...Y]=J.selectionPath;return{...J,selectionPath:Y}}return J}var lo=fl,oo=Q6(sS()),$5=class extends Error{constructor(J){super(J+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};V5($5,"PrismaClientConstructorValidationError");var hS=["datasources","datasourceUrl","errorFormat","adapter","log","transactionOptions","omit","__internal"],mS=["pretty","colorless","minimal"],dS=["info","query","warn","error"],ro={datasources:(J,{datasourceNames:Y})=>{if(J){if(typeof J!="object"||Array.isArray(J))throw new $5(`Invalid value ${JSON.stringify(J)} for "datasources" provided to PrismaClient constructor`);for(let[W,Q]of Object.entries(J)){if(!Y.includes(W)){let X=JW(W,Y)||` Available datasources: ${Y.join(", ")}`;throw new $5(`Unknown datasource ${W} provided to PrismaClient constructor.${X}`)}if(typeof Q!="object"||Array.isArray(Q))throw new $5(`Invalid value ${JSON.stringify(J)} for datasource "${W}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(Q&&typeof Q=="object")for(let[X,M]of Object.entries(Q)){if(X!=="url")throw new $5(`Invalid value ${JSON.stringify(J)} for datasource "${W}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(typeof M!="string")throw new $5(`Invalid value ${JSON.stringify(M)} for datasource "${W}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`)}}}},adapter:(J,Y)=>{if(!J&&fB(Y.generator)==="client")throw new $5('Using engine type "client" requires a driver adapter to be provided to PrismaClient constructor.');if(J!==null){if(J===void 0)throw new $5('"adapter" property must not be undefined, use null to conditionally disable driver adapters.');if(fB(Y.generator)==="binary")throw new $5('Cannot use a driver adapter with the "binary" Query Engine. Please use the "library" Query Engine.')}},datasourceUrl:(J)=>{if(typeof J<"u"&&typeof J!="string")throw new $5(`Invalid value ${JSON.stringify(J)} for "datasourceUrl" provided to PrismaClient constructor.
Expected string or undefined.`)},errorFormat:(J)=>{if(J){if(typeof J!="string")throw new $5(`Invalid value ${JSON.stringify(J)} for "errorFormat" provided to PrismaClient constructor.`);if(!mS.includes(J)){let Y=JW(J,mS);throw new $5(`Invalid errorFormat ${J} provided to PrismaClient constructor.${Y}`)}}},log:(J)=>{if(!J)return;if(!Array.isArray(J))throw new $5(`Invalid value ${JSON.stringify(J)} for "log" provided to PrismaClient constructor.`);function Y(W){if(typeof W=="string"&&!dS.includes(W)){let Q=JW(W,dS);throw new $5(`Invalid log level "${W}" provided to PrismaClient constructor.${Q}`)}}for(let W of J){Y(W);let Q={level:Y,emit:(X)=>{let M=["stdout","event"];if(!M.includes(X)){let G=JW(X,M);throw new $5(`Invalid value ${JSON.stringify(X)} for "emit" in logLevel provided to PrismaClient constructor.${G}`)}}};if(W&&typeof W=="object")for(let[X,M]of Object.entries(W))if(Q[X])Q[X](M);else throw new $5(`Invalid property ${X} for "log" provided to PrismaClient constructor`)}},transactionOptions:(J)=>{if(!J)return;let Y=J.maxWait;if(Y!=null&&Y<=0)throw new $5(`Invalid value ${Y} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let W=J.timeout;if(W!=null&&W<=0)throw new $5(`Invalid value ${W} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(J,Y)=>{if(typeof J!="object")throw new $5('"omit" option is expected to be an object.');if(J===null)throw new $5('"omit" option can not be `null`');let W=[];for(let[Q,X]of Object.entries(J)){let M=to(Q,Y.runtimeDataModel);if(!M){W.push({kind:"UnknownModel",modelKey:Q});continue}for(let[G,H]of Object.entries(X)){let U=M.fields.find((B)=>B.name===G);if(!U){W.push({kind:"UnknownField",modelKey:Q,fieldName:G});continue}if(U.relationName){W.push({kind:"RelationInOmit",modelKey:Q,fieldName:G});continue}typeof H!="boolean"&&W.push({kind:"InvalidFieldValue",modelKey:Q,fieldName:G})}}if(W.length>0)throw new $5(eo(J,W))},__internal:(J)=>{if(!J)return;let Y=["debug","engine","configOverride"];if(typeof J!="object")throw new $5(`Invalid value ${JSON.stringify(J)} for "__internal" to PrismaClient constructor`);for(let[W]of Object.entries(J))if(!Y.includes(W)){let Q=JW(W,Y);throw new $5(`Invalid property ${JSON.stringify(W)} for "__internal" provided to PrismaClient constructor.${Q}`)}}};function ao(J,Y){for(let[W,Q]of Object.entries(J)){if(!hS.includes(W)){let X=JW(W,hS);throw new $5(`Unknown property ${W} provided to PrismaClient constructor.${X}`)}ro[W](Q,Y)}if(J.datasourceUrl&&J.datasources)throw new $5('Can not use "datasourceUrl" and "datasources" options at the same time. Pick one of them')}function JW(J,Y){if(Y.length===0||typeof J!="string")return"";let W=so(J,Y);return W?` Did you mean "${W}"?`:""}function so(J,Y){if(Y.length===0)return null;let W=Y.map((X)=>({value:X,distance:oo.default(J,X)}));W.sort((X,M)=>X.distance<M.distance?-1:1);let Q=W[0];return Q.distance<3?Q.value:null}function to(J,Y){return cS(Y.models,J)??cS(Y.types,J)}function cS(J,Y){let W=Object.keys(J).find((Q)=>GG(Q)===Y);if(W)return J[W]}function eo(J,Y){let W=FA(J);for(let M of Y)switch(M.kind){case"UnknownModel":W.arguments.getField(M.modelKey)?.markAsError(),W.addErrorMessage(()=>`Unknown model name: ${M.modelKey}.`);break;case"UnknownField":W.arguments.getDeepField([M.modelKey,M.fieldName])?.markAsError(),W.addErrorMessage(()=>`Model "${M.modelKey}" does not have a field named "${M.fieldName}".`);break;case"RelationInOmit":W.arguments.getDeepField([M.modelKey,M.fieldName])?.markAsError(),W.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":W.arguments.getDeepFieldValue([M.modelKey,M.fieldName])?.markAsError(),W.addErrorMessage(()=>"Omit field option value must be a boolean.");break}let{message:Q,args:X}=rV(W,"colorless");return`Error validating "omit" option:

${X}

${Q}`}function Jr(J){return J.length===0?Promise.resolve([]):new Promise((Y,W)=>{let Q=new Array(J.length),X=null,M=!1,G=0,H=()=>{M||(G++,G===J.length&&(M=!0,X?W(X):Y(Q)))},U=(B)=>{M||(M=!0,W(B))};for(let B=0;B<J.length;B++)J[B].then((A)=>{Q[B]=A,H()},(A)=>{if(!vF(A)){U(A);return}A.batchRequestIdx===B?U(A):(X||(X=A),H())})})}var X9=K8("prisma:client");typeof globalThis=="object"&&(globalThis.NODE_CLIENT=!0);var Yr={requestArgsToMiddlewareArgs:(J)=>J,middlewareArgsToRequestArgs:(J)=>J},Wr=Symbol.for("prisma.client.transaction.id"),Qr={id:0,nextId(){return++this.id}};function mF(J){class Y{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=fS();constructor(W){J=W?.__internal?.configOverride?.(J)??J,Zl(J),W&&ao(W,J);let Q=new Ai().on("error",()=>{});this._extensions=sV.empty(),this._previewFeatures=Eo(J),this._clientVersion=J.clientVersion??lo,this._activeProvider=J.activeProvider,this._globalOmit=W?.omit,this._tracingHelper=xo();let X=J.relativeEnvPaths&&{rootEnvPath:J.relativeEnvPaths.rootEnvPath&&jB.resolve(J.dirname,J.relativeEnvPaths.rootEnvPath),schemaEnvPath:J.relativeEnvPaths.schemaEnvPath&&jB.resolve(J.dirname,J.relativeEnvPaths.schemaEnvPath)},M;if(W?.adapter){M=W.adapter;let H=J.activeProvider==="postgresql"||J.activeProvider==="cockroachdb"?"postgres":J.activeProvider;if(M.provider!==H)throw new w5(`The Driver Adapter \`${M.adapterName}\`, based on \`${M.provider}\`, is not compatible with the provider \`${H}\` specified in the Prisma schema.`,this._clientVersion);if(W.datasources||W.datasourceUrl!==void 0)throw new w5("Custom datasource configuration is not compatible with Prisma Driver Adapters. Please define the database connection string directly in the Driver Adapter configuration.",this._clientVersion)}let G=!M&&X&&pu(X,{conflictCheck:"none"})||J.injectableEdgeEnv?.();try{let H=W??{},U=H.__internal??{},B=U.debug===!0;B&&K8.enable("prisma:client");let A=jB.resolve(J.dirname,J.relativePath);Ni.existsSync(A)||(A=J.dirname),X9("dirname",J.dirname),X9("relativePath",J.relativePath),X9("cwd",A);let N=U.engine||{};if(H.errorFormat?this._errorFormat=H.errorFormat:x0.env.NODE_ENV==="production"?this._errorFormat="minimal":x0.env.NO_COLOR?this._errorFormat="colorless":this._errorFormat="colorless",this._runtimeDataModel=J.runtimeDataModel,this._engineConfig={cwd:A,dirname:J.dirname,enableDebugLogs:B,allowTriggerPanic:N.allowTriggerPanic,prismaPath:N.binaryPath??void 0,engineEndpoint:N.endpoint,generator:J.generator,showColors:this._errorFormat==="pretty",logLevel:H.log&&yo(H.log),logQueries:H.log&&!!(typeof H.log=="string"?H.log==="query":H.log.find((D)=>typeof D=="string"?D==="query":D.level==="query")),env:G?.parsed??{},flags:[],engineWasm:J.engineWasm,compilerWasm:J.compilerWasm,clientVersion:J.clientVersion,engineVersion:J.engineVersion,previewFeatures:this._previewFeatures,activeProvider:J.activeProvider,inlineSchema:J.inlineSchema,overrideDatasources:Ol(H,J.datasourceNames),inlineDatasources:J.inlineDatasources,inlineSchemaHash:J.inlineSchemaHash,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:H.transactionOptions?.maxWait??2000,timeout:H.transactionOptions?.timeout??5000,isolationLevel:H.transactionOptions?.isolationLevel},logEmitter:Q,isBundled:J.isBundled,adapter:M},this._accelerateEngineConfig={...this._engineConfig,accelerateUtils:{resolveDatasourceUrl:RA,getBatchRequestPayload:PA,prismaGraphQLToJSError:CA,PrismaClientUnknownRequestError:f8,PrismaClientInitializationError:w5,PrismaClientKnownRequestError:X1,debug:K8("prisma:client:accelerateEngine"),engineVersion:Ui.version,clientVersion:J.clientVersion}},X9("clientVersion",J.clientVersion),this._engine=Fo(J,this._engineConfig),this._requestHandler=new uo(this,Q),H.log)for(let D of H.log){let q=typeof D=="string"?D:D.emit==="stdout"?D.level:null;q&&this.$on(q,(K)=>{vB.log(`${vB.tags[q]??""}`,K.message||K.query)})}}catch(H){throw H.clientVersion=this._clientVersion,H}return this._appliedParent=tB(this)}get[Symbol.toStringTag](){return"PrismaClient"}$on(W,Q){return W==="beforeExit"?this._engine.onBeforeExit(Q):W&&this._engineConfig.logEmitter.on(W,Q),this}$connect(){try{return this._engine.start()}catch(W){throw W.clientVersion=this._clientVersion,W}}async $disconnect(){try{await this._engine.stop()}catch(W){throw W.clientVersion=this._clientVersion,W}finally{Nc()}}$executeRawInternal(W,Q,X,M){let G=this._activeProvider;return this._request({action:"executeRaw",args:X,transaction:W,clientMethod:Q,argsMapper:yS({clientMethod:Q,activeProvider:G}),callsite:U$(this._errorFormat),dataPath:[],middlewareArgsMapper:M})}$executeRaw(W,...Q){return this._createPrismaPromise((X)=>{if(W.raw!==void 0||W.sql!==void 0){let[M,G]=uS(W,Q);return gS(this._activeProvider,M.text,M.values,Array.isArray(W)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(X,"$executeRaw",M,G)}throw new Z7("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(W,...Q){return this._createPrismaPromise((X)=>(gS(this._activeProvider,W,Q,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(X,"$executeRawUnsafe",[W,...Q])))}$runCommandRaw(W){if(J.activeProvider!=="mongodb")throw new Z7(`The ${J.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise((Q)=>this._request({args:W,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:jo,callsite:U$(this._errorFormat),transaction:Q}))}async $queryRawInternal(W,Q,X,M){let G=this._activeProvider;return this._request({action:"queryRaw",args:X,transaction:W,clientMethod:Q,argsMapper:yS({clientMethod:Q,activeProvider:G}),callsite:U$(this._errorFormat),dataPath:[],middlewareArgsMapper:M})}$queryRaw(W,...Q){return this._createPrismaPromise((X)=>{if(W.raw!==void 0||W.sql!==void 0)return this.$queryRawInternal(X,"$queryRaw",...uS(W,Q));throw new Z7("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(W){return this._createPrismaPromise((Q)=>{if(!this._hasPreviewFlag("typedSql"))throw new Z7("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(Q,"$queryRawTyped",W)})}$queryRawUnsafe(W,...Q){return this._createPrismaPromise((X)=>this.$queryRawInternal(X,"$queryRawUnsafe",[W,...Q]))}_transactionWithArray({promises:W,options:Q}){let X=Qr.nextId(),M=go(W.length),G=W.map((H,U)=>{if(H?.[Symbol.toStringTag]!=="PrismaPromise")throw new Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let B=Q?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel,A={kind:"batch",id:X,index:U,isolationLevel:B,lock:M};return H.requestTransaction?.(A)??H});return Jr(G)}async _transactionWithCallback({callback:W,options:Q}){let X={traceparent:this._tracingHelper.getTraceParent()},M={maxWait:Q?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:Q?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:Q?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},G=await this._engine.transaction("start",X,M),H;try{let U={kind:"itx",...G};H=await W(this._createItxClient(U)),await this._engine.transaction("commit",X,G)}catch(U){throw await this._engine.transaction("rollback",X,G).catch(()=>{}),U}return H}_createItxClient(W){return GW(tB(GW(Wl(this),[j4("_appliedParent",()=>this._appliedParent._createItxClient(W)),j4("_createPrismaPromise",()=>fS(W)),j4(Wr,()=>W.id)])),[rB(Ul)])}$transaction(W,Q){let X;typeof W=="function"?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?X=()=>{throw new Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:X=()=>this._transactionWithCallback({callback:W,options:Q}):X=()=>this._transactionWithArray({promises:W,options:Q});let M={name:"transaction",attributes:{method:"$transaction"}};return this._tracingHelper.runInChildSpan(M,X)}_request(W){W.otelParentCtx=this._tracingHelper.getActiveContext();let Q=W.middlewareArgsMapper??Yr,X={args:Q.requestArgsToMiddlewareArgs(W.args),dataPath:W.dataPath,runInTransaction:!!W.transaction,action:W.action,model:W.model},M={operation:{name:"operation",attributes:{method:X.action,model:X.model,name:X.model?`${X.model}.${X.action}`:X.action}}},G=async(H)=>{let{runInTransaction:U,args:B,...A}=H,N={...W,...A};B&&(N.args=Q.middlewareArgsToRequestArgs(B)),W.transaction!==void 0&&U===!1&&delete N.transaction;let D=await ql(this,N);return N.model?Gl({result:D,modelName:N.model,args:N.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):D};return this._tracingHelper.runInChildSpan(M.operation,()=>new Bi("prisma-client-request").runInAsyncScope(()=>G(X)))}async _executeRequest({args:W,clientMethod:Q,dataPath:X,callsite:M,action:G,model:H,argsMapper:U,transaction:B,unpacker:A,otelParentCtx:N,customDataProxyFetch:D}){try{W=U?U(W):W;let q={name:"serialize"},K=this._tracingHelper.runInChildSpan(q,()=>sn({modelName:H,runtimeDataModel:this._runtimeDataModel,action:G,args:W,clientMethod:Q,callsite:M,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return K8.enabled("prisma:client")&&(X9("Prisma Client call:"),X9(`prisma.${Q}(${Zi(W)})`),X9("Generated request:"),X9(JSON.stringify(K,null,2)+`
`)),B?.kind==="batch"&&await B.lock,this._requestHandler.request({protocolQuery:K,modelName:H,action:G,clientMethod:Q,dataPath:X,callsite:M,args:W,extensions:this._extensions,transaction:B,unpacker:A,otelParentCtx:N,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:D})}catch(q){throw q.clientVersion=this._clientVersion,q}}$metrics=new Gi(this);_hasPreviewFlag(W){return!!this._engineConfig.previewFeatures?.includes(W)}$applyPendingMigrations(){return this._engine.applyPendingMigrations()}$extends=Ql}return Y}function uS(J,Y){return $r(J)?[new UW(J,Y),Ro]:[J,To]}function $r(J){return Array.isArray(J)&&Array.isArray(J.raw)}/*! Bundled license information:

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.5.0
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/var P$={generator:{name:"client",provider:{fromEnvVar:null,value:"prisma-client"},output:{value:"C:\\Users\\D3C3M\\Desktop\\backend_cake\\src\\providers\\database\\generated",fromEnvVar:null},config:{engineType:"library"},binaryTargets:[{fromEnvVar:null,value:"windows",native:!0}],previewFeatures:[],sourceFilePath:"C:\\Users\\D3C3M\\Desktop\\backend_cake\\prisma\\schema.prisma",isCustomOutput:!0},relativePath:"../../../../prisma",clientVersion:"6.16.2",engineVersion:"1c57fdcd7e44b29b9313256c76699e91c3ac3c43",datasourceNames:["db"],activeProvider:"mongodb",inlineDatasources:{db:{url:{fromEnvVar:"DATABASE_URL",value:null}}},inlineSchema:`// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client"
  output   = "../src/providers/database/generated"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

enum Role {
  SUPERADMIN
  ADMIN
  OFFICER
  USER
}

enum GradeLevelType {
  VOCATIONAL // \u0E1B\u0E27\u0E0A.
  HIGHER // \u0E1B\u0E27\u0E2A.
}

enum RequestStatus {
  pending
  approved
  rejected
}

enum OrderStatus {
  pending
  complete
  cancelled
}

enum TeamType {
  team
  person
}

model Department {
  id   String @id @default(auto()) @map("_id") @db.ObjectId
  name String @unique

  classroom   Classroom[]
  cakeRequest CakeRequest[]
  teacher     Teacher[]
}

model Classroom {
  id             String   @id @default(auto()) @map("_id") @db.ObjectId
  name           String
  teacher_id     String   @db.ObjectId
  department_id  String   @db.ObjectId
  grade_level_id String   @db.ObjectId
  students       Json?
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  teacher     Teacher     @relation(fields: [teacher_id], references: [id])
  department  Department  @relation(fields: [department_id], references: [id])
  grade_level GradeLevel? @relation(fields: [grade_level_id], references: [id])

  orders Order[]

  @@unique([name, department_id, grade_level_id])
  @@index([department_id], name: "idx_classroom_department_id")
}

model GradeLevel {
  id    String         @id @default(auto()) @map("_id") @db.ObjectId
  level GradeLevelType
  year  Int

  classroom Classroom[]

  @@unique([level, year])
}

model User {
  id        String  @id @default(auto()) @map("_id") @db.ObjectId
  firstname String
  lastname  String
  username  String  @unique
  password  String
  email     String?
  role      Role    @default(USER)

  createdAt   DateTime      @default(now())
  updatedAt   DateTime      @updatedAt
  cakeRequest CakeRequest[]
  tokens      Token[]
}

model Team {
  id            String   @id @default(auto()) @map("_id") @db.ObjectId
  name          String
  classroom_ids String[] @db.ObjectId
  team_type     TeamType

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  orders Order[]
}

model Product {
  id    String @id @default(auto()) @map("_id") @db.ObjectId
  name  String
  price Float

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  orderItems OrderItem[]
}

model Order {
  id           String      @id @default(auto()) @map("_id") @db.ObjectId
  customerName String
  classroom_id String?     @db.ObjectId
  team_id      String?     @db.ObjectId
  orderDate    DateTime
  totalPrice   Float
  book_number  Int
  number       Int
  phone        String
  pickup_date  DateTime
  deposit      Int
  advisor      String
  status       OrderStatus @default(pending)
  createdAt    DateTime    @default(now())
  updatedAt    DateTime    @updatedAt
  order_items  OrderItem[]

  team      Team?      @relation(fields: [team_id], references: [id])
  classroom Classroom? @relation(fields: [classroom_id], references: [id])

  @@unique([book_number, number])
  @@index([classroom_id], name: "idx_order_classroom_id")
  @@index([team_id], name: "idx_order_team_id")
}

model OrderItem {
  id         String   @id @default(auto()) @map("_id") @db.ObjectId
  order_id   String   @db.ObjectId
  product_id String   @db.ObjectId
  pound      Int
  quantity   Int
  unitPrice  Float
  subtotal   Float
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt

  order              Order              @relation(fields: [order_id], references: [id])
  product            Product            @relation(fields: [product_id], references: [id])
  cake_request_items CakeRequestItems[]
}

model CakeRequest {
  id            String        @id @default(auto()) @map("_id") @db.ObjectId
  requestDate   DateTime
  status        RequestStatus @default(pending)
  note          String?
  user_id       String        @db.ObjectId
  department_id String        @db.ObjectId
  createdAt     DateTime      @default(now())
  updatedAt     DateTime      @updatedAt

  department Department         @relation(fields: [department_id], references: [id])
  user       User               @relation(fields: [user_id], references: [id])
  items      CakeRequestItems[]

  @@map("cake_requests")
}

model CakeRequestItems {
  id            String @id @default(auto()) @map("_id") @db.ObjectId
  request_id    String @db.ObjectId
  order_item_id String @db.ObjectId

  request    CakeRequest @relation(fields: [request_id], references: [id])
  order_item OrderItem   @relation(fields: [order_item_id], references: [id])

  @@map("cake_request_items")
}

model Teacher {
  id            String      @id @default(auto()) @map("_id") @db.ObjectId
  name          String
  department_id String      @db.ObjectId
  createdAt     DateTime    @default(now())
  updatedAt     DateTime    @updatedAt
  classroom     Classroom[]
  department    Department  @relation(fields: [department_id], references: [id])
}

model Token {
  id         String   @id @default(auto()) @map("_id") @db.ObjectId
  token      String   @unique
  user_id    String   @db.ObjectId
  expires_at DateTime
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt

  user User @relation(fields: [user_id], references: [id])

  @@index([user_id], name: "idx_token_user_id")
  @@map("tokens")
}
`,inlineSchemaHash:"177cc4c9d362f5f4784b8b53e525bc483e0d472ea83d1bf13ac8275c9eb4204d",copyEngine:!0,runtimeDataModel:{models:{},enums:{},types:{}},dirname:""};P$.runtimeDataModel=JSON.parse('{"models":{"Department":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"classroom","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Classroom","nativeType":null,"relationName":"ClassroomToDepartment","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"cakeRequest","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"CakeRequest","nativeType":null,"relationName":"CakeRequestToDepartment","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"teacher","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Teacher","nativeType":null,"relationName":"DepartmentToTeacher","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Classroom":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"teacher_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"department_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"grade_level_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"students","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"teacher","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Teacher","nativeType":null,"relationName":"ClassroomToTeacher","relationFromFields":["teacher_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"department","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Department","nativeType":null,"relationName":"ClassroomToDepartment","relationFromFields":["department_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"grade_level","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"GradeLevel","nativeType":null,"relationName":"ClassroomToGradeLevel","relationFromFields":["grade_level_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"orders","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Order","nativeType":null,"relationName":"ClassroomToOrder","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["name","department_id","grade_level_id"]],"uniqueIndexes":[{"name":null,"fields":["name","department_id","grade_level_id"]}],"isGenerated":false},"GradeLevel":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"level","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"GradeLevelType","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"year","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"classroom","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Classroom","nativeType":null,"relationName":"ClassroomToGradeLevel","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["level","year"]],"uniqueIndexes":[{"name":null,"fields":["level","year"]}],"isGenerated":false},"User":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"firstname","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"lastname","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"username","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"password","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"email","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"role","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Role","nativeType":null,"default":"USER","isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"cakeRequest","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"CakeRequest","nativeType":null,"relationName":"CakeRequestToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"tokens","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Token","nativeType":null,"relationName":"TokenToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Team":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"classroom_ids","kind":"scalar","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"team_type","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"TeamType","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"orders","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Order","nativeType":null,"relationName":"OrderToTeam","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Product":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"price","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Float","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"orderItems","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"OrderItem","nativeType":null,"relationName":"OrderItemToProduct","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Order":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"customerName","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"classroom_id","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"team_id","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"orderDate","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"totalPrice","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Float","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"book_number","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"number","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"phone","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"pickup_date","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"deposit","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"advisor","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"status","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"OrderStatus","nativeType":null,"default":"pending","isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"order_items","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"OrderItem","nativeType":null,"relationName":"OrderToOrderItem","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"team","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Team","nativeType":null,"relationName":"OrderToTeam","relationFromFields":["team_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"classroom","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Classroom","nativeType":null,"relationName":"ClassroomToOrder","relationFromFields":["classroom_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["book_number","number"]],"uniqueIndexes":[{"name":null,"fields":["book_number","number"]}],"isGenerated":false},"OrderItem":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"order_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"product_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"pound","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"quantity","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"unitPrice","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Float","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"subtotal","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Float","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"order","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Order","nativeType":null,"relationName":"OrderToOrderItem","relationFromFields":["order_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"product","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Product","nativeType":null,"relationName":"OrderItemToProduct","relationFromFields":["product_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"cake_request_items","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"CakeRequestItems","nativeType":null,"relationName":"CakeRequestItemsToOrderItem","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"CakeRequest":{"dbName":"cake_requests","schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"requestDate","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"status","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"RequestStatus","nativeType":null,"default":"pending","isGenerated":false,"isUpdatedAt":false},{"name":"note","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"department_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"department","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Department","nativeType":null,"relationName":"CakeRequestToDepartment","relationFromFields":["department_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"CakeRequestToUser","relationFromFields":["user_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"items","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"CakeRequestItems","nativeType":null,"relationName":"CakeRequestToCakeRequestItems","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"CakeRequestItems":{"dbName":"cake_request_items","schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"request_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"order_item_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"request","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"CakeRequest","nativeType":null,"relationName":"CakeRequestToCakeRequestItems","relationFromFields":["request_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"order_item","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"OrderItem","nativeType":null,"relationName":"CakeRequestItemsToOrderItem","relationFromFields":["order_item_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Teacher":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"department_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"classroom","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Classroom","nativeType":null,"relationName":"ClassroomToTeacher","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"department","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Department","nativeType":null,"relationName":"DepartmentToTeacher","relationFromFields":["department_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Token":{"dbName":"tokens","schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"token","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"expires_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"created_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updated_at","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"TokenToUser","relationFromFields":["user_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false}},"enums":{"Role":{"values":[{"name":"SUPERADMIN","dbName":null},{"name":"ADMIN","dbName":null},{"name":"OFFICER","dbName":null},{"name":"USER","dbName":null}],"dbName":null},"GradeLevelType":{"values":[{"name":"VOCATIONAL","dbName":null},{"name":"HIGHER","dbName":null}],"dbName":null},"RequestStatus":{"values":[{"name":"pending","dbName":null},{"name":"approved","dbName":null},{"name":"rejected","dbName":null}],"dbName":null},"OrderStatus":{"values":[{"name":"pending","dbName":null},{"name":"complete","dbName":null},{"name":"cancelled","dbName":null}],"dbName":null},"TeamType":{"values":[{"name":"team","dbName":null},{"name":"person","dbName":null}],"dbName":null}},"types":{}}');P$.engineWasm=void 0;P$.compilerWasm=void 0;function cF(J){return P$.dirname=J,mF(P$)}var OV0=XG.getExtensionContext;var KV0={DbNull:O9.classes.DbNull,JsonNull:O9.classes.JsonNull,AnyNull:O9.classes.AnyNull},zV0=O9.instances.DbNull,LV0=O9.instances.JsonNull,SV0=O9.instances.AnyNull;var VV0=XG.defineExtension;var __dirname="C:\\Users\\D3C3M\\Desktop\\backend_cake\\src\\providers\\database\\generated";globalThis.__dirname=C$.dirname(Hr(import.meta.url));var pF=cF(__dirname);C$.join(__dirname,"query_engine-windows.dll.node");C$.join(uF.cwd(),"src/providers/database/generated/query_engine-windows.dll.node");var Ur=new pF,S0=Ur;var z7;((RV0)=>{async function J(H){return S0.user.create({data:{...H}})}RV0.create=J;async function Y(H){let U=H.search?{username:{contains:H.search}}:{};return S0.user.findMany({where:U,take:H.take,skip:H.skip,orderBy:{createdAt:"desc"}})}RV0.findAll=Y;async function W(H){return await S0.user.findUnique({where:{username:H}})}RV0.findUserByUsername=W;async function Q(H){return await S0.user.findUnique({where:{id:H}})}RV0.findById=Q;async function X(H,U){return S0.user.update({where:{id:H},data:{...U}})}RV0.update=X;async function M(H){return S0.user.delete({where:{id:H}})}RV0.deleteById=M;async function G(H){let U=H?{username:{contains:H}}:{};return await S0.user.count({where:U})}RV0.countAll=G})(z7||={});var M2=(J,Y)=>{let W=Y;return{skip:(J-1)*Y,take:W}};var L7;((kV0)=>{async function J(G){try{return await S0.token.create({data:G,include:{user:!0}})}catch(H){throw new Error(H instanceof Error?H.message:"Failed to create token")}}kV0.create=J;async function Y(G){try{return await S0.token.findUnique({where:{token:G},include:{user:!0}})}catch(H){throw new Error(H instanceof Error?H.message:"Failed to find token")}}kV0.findByToken=Y;async function W(G){try{return await S0.token.findMany({where:{user_id:G},include:{user:!0}})}catch(H){throw new Error(H instanceof Error?H.message:"Failed to find user tokens")}}kV0.findByUserId=W;async function Q(){try{return await S0.token.deleteMany({where:{expires_at:{lt:new Date}}})}catch(G){throw new Error(G instanceof Error?G.message:"Failed to delete expired tokens")}}kV0.deleteExpired=Q;async function X(G){try{return await S0.token.delete({where:{token:G},include:{user:!0}})}catch(H){throw new Error(H instanceof Error?H.message:"Failed to delete token")}}kV0.removeToken=X;async function M(G){try{return await S0.token.deleteMany({where:{user_id:G}})}catch(H){throw new Error(H instanceof Error?H.message:"Failed to delete user tokens")}}kV0.deleteAllUserTokens=M})(L7||={});var v8;((yV0)=>{async function J(G){try{let H=Bun.randomUUIDv7(),U=new Date;U.setDate(U.getDate()+(G.expires_in??30));let B={token:H,user_id:G.user_id,expires_at:U};return await L7.create(B)}catch(H){throw new Error(H instanceof Error?H.message:"Failed to generate token")}}yV0.generateToken=J;async function Y(G){try{let H=await L7.findByToken(G.token);if(!H)return null;if(H.expires_at<new Date)return await L7.removeToken(G.token),null;return H}catch(H){throw new Error(H instanceof Error?H.message:"Failed to verify token")}}yV0.verifyToken=Y;async function W(G){try{return await L7.findByUserId(G)}catch(H){throw new Error(H instanceof Error?H.message:"Failed to get user tokens")}}yV0.getUserTokens=W;async function Q(G){try{return await L7.removeToken(G.token)}catch(H){throw new Error(H instanceof Error?H.message:"Failed to revoke token")}}yV0.revokeToken=Q;async function X(G){try{return await L7.deleteAllUserTokens(G)}catch(H){throw new Error(H instanceof Error?H.message:"Failed to revoke user tokens")}}yV0.revokeAllUserTokens=X;async function M(){try{return await L7.deleteExpired()}catch(G){throw new Error(G instanceof Error?G.message:"Failed to cleanup expired tokens")}}yV0.cleanupExpiredTokens=M})(v8||={});var I4;((dV0)=>{async function J(G){if(!G.firstname||G.firstname.trim()==="")throw new Error("User firstname is required and cannot be empty.");if(!G.lastname||G.lastname.trim()==="")throw new Error("User lastname is required and cannot be empty.");if(!G.username||G.username.trim()==="")throw new Error("User username is required and cannot be empty.");if(!G.password||G.password.trim()==="")throw new Error("User password is required and cannot be empty.");try{let H=await Bun.password.hash(G.password);return await z7.create({firstname:G.firstname,lastname:G.lastname,username:G.username,email:G.email,password:H})}catch(H){if(H instanceof X1&&H.code==="P2002")throw new Error("Username already exists");throw H}}dV0.create=J;async function Y(G={}){let H=G.page??1,U=G.itemsPerPage??10,B=G.search,{skip:A,take:N}=M2(H,U),D=await z7.findAll({skip:A,take:N,search:B}),q=await z7.countAll(B),K=(q+U-1)/U>>0,O=H<K,z=H>1;return{data:D,meta_data:{page:H,itemsPerPage:U,total:q,totalPages:K,nextPage:O,previousPage:z}}}dV0.findAll=Y;async function W(G){return z7.findById(G)}dV0.findById=W;async function Q(G,H){try{let U={...H};if(H.password)U.password=await Bun.password.hash(H.password);return await z7.update(G,U)}catch(U){if(U instanceof X1&&U.code==="P2002")throw new Error("Username already exists");throw U}}dV0.update=Q;async function X(G){return z7.deleteById(G)}dV0.deleteById=X;async function M(G,H,U){let B=await z7.findUserByUsername(G);if(!B)throw new Error("User not found");let A=!1;try{A=await Bun.password.verify(H,B.password)}catch(K){throw new Error("Invalid password")}if(!A)throw new Error("Invalid password");let N={role:B.role,username:B.username,sub:B.id},D=await U.sign(N),q=await v8.generateToken({user_id:B.id});return{access_token:D,refresh_token:q.token,user:{id:B.id,username:B.username,role:B.role,firstname:B.firstname,lastname:B.lastname,email:B.email}}}dV0.login=M})(I4||={});var wA;((nF)=>nF.userController=new a0({prefix:"/users"}).post("/",async({body:Y,set:W})=>{try{let Q=await I4.create(Y);return W.status=201,{newUser:Q,message:"User has created"}}catch(Q){if(Q.message==="Username already exists")return W.status="Conflict",Q.message;if(W.status="Internal Server Error","message"in Q)return Q.message;return"Internal Server Error"}},{body:SB,response:{201:Z.Object({newUser:$9,message:Z.String()}),409:Z.String(),500:Z.String()},tags:["Users"]}).get("/",async({query:Y,set:W})=>{let Q=Y.page?Number(Y.page):1,X=Y.itemsPerPage?Number(Y.itemsPerPage):10,M=Y.search,G=await I4.findAll({page:Q,itemsPerPage:X,search:M});if(G.data.length===0&&M!==void 0)return W.status="Not Found",{message:"No User found matching your search query."};return G},{query:Z.Object({page:Z.Optional(Z.Numeric()),itemsPerPage:Z.Optional(Z.Numeric()),search:Z.Optional(Z.String())}),response:{200:Z.Object({data:Z.Array($9),meta_data:Z.Object({page:Z.Number(),itemsPerPage:Z.Number(),total:Z.Number(),totalPages:Z.Number(),nextPage:Z.Boolean(),previousPage:Z.Boolean()})}),404:Z.Object({message:Z.String()}),500:Z.String()},tags:["Users"]}).get("/:userId",async({params:Y})=>{return await I4.findById(Y.userId)},{params:Z.Object({userId:Z.String()}),response:{200:$9,500:Z.String()},tags:["Users"]}).patch("/:userId",async({params:Y,body:W,set:Q})=>{try{let X=await I4.update(Y.userId,W);return Q.status="OK",{updateuser:X,message:"User has updated"}}catch(X){if(X.message==="Username already exists")return Q.status="Conflict",X.message;if(Q.status="Internal Server Error","message"in X)return X.message;return"Internal Server Error"}},{body:sL,params:Z.Object({userId:Z.String()}),response:{200:$9,409:Z.String(),500:Z.String()},tags:["Users"]}).delete("/:userId",async({params:Y,set:W})=>{try{let Q=await I4.deleteById(Y.userId);return W.status="OK",{deleteUser:Q,message:"User has deleted"}}catch(Q){if(W.status="Internal Server Error","message"in Q)return Q.message;return"Internal Server Error"}},{params:Z.Object({userId:Z.String()}),response:{200:$9,500:Z.String()},tags:["Users"]}))(wA||={});var I$=Z.Object({id:Z.String(),name:Z.String()}),kA=Z.Object({name:Z.String()}),iF=Z.Partial(kA),xA=Z.Composite([I$,Z.Object({classroom:Z.Array(Z.Object({id:Z.String(),name:Z.String(),teacher_id:Z.String(),department_id:Z.String(),grade_level_id:Z.String(),grade_level:Z.Object({id:Z.String(),level:Z.UnionEnum(["VOCATIONAL","HIGHER"]),year:Z.Number()})})),teacher:Z.Array(Z.Object({id:Z.String(),name:Z.String()}))})]);var S7;((aV0)=>{async function J(H){return S0.department.create({data:{...H}})}aV0.create=J;async function Y(H){let U=H.search?{name:{contains:H.search}}:{};return S0.department.findMany({where:U,include:{classroom:{include:{grade_level:!0}},teacher:!0,cakeRequest:!0},take:H.take,skip:H.skip})}aV0.findAll=Y;async function W(H){return await S0.department.findUnique({where:{id:H},include:{classroom:{include:{grade_level:!0}},teacher:!0,cakeRequest:!0}})}aV0.findById=W;async function Q(H,U){return S0.department.update({where:{id:H},data:{...U}})}aV0.update=Q;async function X(H){return S0.department.findUnique({where:{name:H}})}aV0.findByName=X;async function M(H){return S0.department.delete({where:{id:H}})}aV0.deleteById=M;async function G(H){let U=H?{name:{contains:H}}:{};return await S0.department.count({where:U})}aV0.countAll=G})(S7||={});var OJ;((YF0)=>{async function J(M){if(!M.name||M.name.trim()==="")throw new Error("Department name is required and cannot be empty.");let G=await S7.findByName(M.name);if(console.log("Existing Department:",G),G)throw new Error("Department Name already exists");try{return await S7.create(M)}catch(H){if(H instanceof X1&&H.code==="P2002")throw new Error("Department Name already exists");throw H}}YF0.create=J;async function Y(M={}){let G=M.page??1,H=M.itemsPerPage??10,U=M.search,{skip:B,take:A}=M2(G,H),N=await S7.findAll({skip:B,take:A,search:U}),D=await S7.countAll(U),q=(D+H-1)/H>>0,K=G<q,O=G>1;return{data:N,meta_data:{page:G,itemsPerPage:H,total:D,totalPages:q,nextPage:K,previousPage:O}}}YF0.findAll=Y;async function W(M){return S7.findById(M)}YF0.findById=W;async function Q(M,G){try{let H={...G};return await S7.update(M,H)}catch(H){if(H instanceof X1&&H.code==="P2002")throw new Error("Department Name already exists");throw H}}YF0.update=Q;async function X(M){return S7.deleteById(M)}YF0.deleteById=X})(OJ||={});var gA;((lF)=>lF.departmentController=new a0({prefix:"/departments"}).post("/",async({body:Y,set:W})=>{try{let Q=await OJ.create(Y);return W.status=201,{newDepartment:Q,message:"Department has created"}}catch(Q){if(Q.message==="Department Name already exists")return W.status="Conflict",Q.message;if(W.status="Internal Server Error","message"in Q)return Q.message;return"Internal Server Error"}},{body:kA,response:{201:Z.Object({newDepartment:I$,message:Z.String()}),409:Z.String(),500:Z.String()},tags:["Departments"]}).get("/",async({query:Y,set:W})=>{let Q=Y.page?Number(Y.page):1,X=Y.itemsPerPage?Number(Y.itemsPerPage):10,M=Y.search,G=await OJ.findAll({page:Q,itemsPerPage:X,search:M});if(G.data.length===0&&M!==void 0)return W.status="Not Found",{message:"No Department found matching your search query."};return G},{query:Z.Object({page:Z.Optional(Z.Numeric()),itemsPerPage:Z.Optional(Z.Numeric()),search:Z.Optional(Z.String())}),response:{200:Z.Object({data:Z.Array(xA),meta_data:Z.Object({page:Z.Number(),itemsPerPage:Z.Number(),total:Z.Number(),totalPages:Z.Number(),nextPage:Z.Boolean(),previousPage:Z.Boolean()})}),404:Z.Object({message:Z.String()}),500:Z.String()},tags:["Departments"]}).get("/:DepartmentId",async({params:Y})=>{return await OJ.findById(Y.DepartmentId)},{params:Z.Object({DepartmentId:Z.String()}),response:{200:xA,500:Z.String()},tags:["Departments"]}).patch("/:DepartmentId",async({params:Y,body:W,set:Q})=>{try{let X=await OJ.update(Y.DepartmentId,W);return Q.status="OK",{updateDepartment:X,message:"Department has updated"}}catch(X){if(X.message==="Department Name already exists")return Q.status="Conflict",X.message;if(Q.status="Internal Server Error","message"in X)return X.message;return"Internal Server Error"}},{body:iF,params:Z.Object({DepartmentId:Z.String()}),response:{200:I$,409:Z.String(),500:Z.String()},tags:["Departments"]}).delete("/:DepartmentId",async({params:Y,set:W})=>{try{let Q=await OJ.deleteById(Y.DepartmentId);return W.status="OK",{deleteDepartment:Q,message:"Department has deleted"}}catch(Q){if(W.status="Internal Server Error","message"in Q)return Q.message;return"Internal Server Error"}},{params:Z.Object({DepartmentId:Z.String()}),response:{200:I$,500:Z.String()},tags:["Departments"]}))(gA||={});var AW=Z.Object({id:Z.String(),name:Z.String(),department_id:Z.String(),createdAt:Z.Date(),updatedAt:Z.Date()}),R$=Z.Object({name:Z.String(),department_id:Z.String()}),zG=Z.Partial(R$),Br=Z.Object({id:Z.String(),name:Z.String()}),Ar=Z.Object({id:Z.String(),level:Z.UnionEnum(["VOCATIONAL","HIGHER"]),year:Z.Number()}),Nr=Z.Object({id:Z.String(),name:Z.String()}),qr=Z.Object({id:Z.String()}),Dr=Z.Object({id:Z.String()}),Zr=Z.Object({id:Z.String(),name:Z.String(),teacher_id:Z.String(),department_id:Z.String(),grade_level_id:Z.String(),department:Br,grade_level:Ar,teacher:Nr,teams:Z.Array(qr),orders:Z.Array(Dr)}),oF=Z.Composite([AW,Z.Object({classroom:Z.Array(Zr)})]);var V7;((BF0)=>{async function J(H){return S0.teacher.create({data:{...H}})}BF0.create=J;async function Y(H){let U=H.search?{name:{contains:H.search}}:{},B=await S0.teacher.findMany({where:U,include:{classroom:{include:{grade_level:!0,department:!0,teacher:!0,orders:{select:{id:!0}}}}},take:H.take,skip:H.skip});return await Promise.all(B.map(async(N)=>{let D=await Promise.all((N.classroom||[]).map(async(q)=>{let K=await S0.team.findMany({where:{classroom_ids:{has:q.id}},select:{id:!0}});return{...q,teams:K}}));return{...N,classroom:D}}))}BF0.findAll=Y;async function W(H){return await S0.teacher.findUnique({where:{id:H},include:{classroom:{include:{grade_level:!0,department:!0,teacher:!0,orders:{select:{id:!0}}}}}})}BF0.findById=W;async function Q(H,U){return S0.teacher.update({where:{id:H},data:{...U}})}BF0.update=Q;async function X(H){return S0.teacher.findUnique({where:{name:H}})}BF0.findByName=X;async function M(H){return S0.teacher.delete({where:{id:H}})}BF0.deleteById=M;async function G(H){let U=H?{name:{contains:H}}:{};return await S0.teacher.count({where:U})}BF0.countAll=G})(V7||={});var KJ;((ZF0)=>{async function J(M){if(!M.name||M.name.trim()==="")throw new Error("Teacher name is required and cannot be empty.");if(await V7.findByName(M.name))throw new Error("Teacher name already exists");try{return await V7.create(M)}catch(H){if(H instanceof X1&&H.code==="P2002")throw new Error("Teacher name already exists");throw H}}ZF0.create=J;async function Y(M={}){let G=M.page??1,H=M.itemsPerPage??10,U=M.search,{skip:B,take:A}=M2(G,H),N=await V7.findAll({skip:B,take:A,search:U}),D=await V7.countAll(U),q=(D+H-1)/H>>0,K=G<q,O=G>1;return{data:N,meta_data:{page:G,itemsPerPage:H,total:D,totalPages:q,nextPage:K,previousPage:O}}}ZF0.findAll=Y;async function W(M){return V7.findById(M)}ZF0.findById=W;async function Q(M,G){try{let H={...G};return await V7.update(M,H)}catch(H){if(H instanceof X1&&H.code==="P2002")throw new Error("Teachername already exists");throw H}}ZF0.update=Q;async function X(M){return V7.deleteById(M)}ZF0.deleteById=X})(KJ||={});var yA;((rF)=>rF.teacherController=new a0({prefix:"/teachers"}).post("/",async({body:Y,set:W})=>{try{let Q=await KJ.create(Y);return W.status=201,{newTeacher:Q,message:"Classroom has created"}}catch(Q){if(Q.message==="Classroom name already exists")return W.status="Conflict",Q.message;if(W.status="Internal Server Error","message"in Q)return Q.message;return"Internal Server Error"}},{body:R$,response:{201:Z.Object({newTeacher:AW,message:Z.String()}),409:Z.String(),500:Z.String()},tags:["Teachers"]}).get("/",async({query:Y,set:W})=>{let Q=Y.page?Number(Y.page):1,X=Y.itemsPerPage?Number(Y.itemsPerPage):10,M=Y.search,G=await KJ.findAll({page:Q,itemsPerPage:X,search:M});if(G.data.length===0&&M!==void 0)return W.status="Not Found",{message:"No Teacher found matching your search query."};return G},{query:Z.Object({page:Z.Optional(Z.Numeric()),itemsPerPage:Z.Optional(Z.Numeric()),search:Z.Optional(Z.String())}),response:{200:Z.Object({data:Z.Array(oF),meta_data:Z.Object({page:Z.Number(),itemsPerPage:Z.Number(),total:Z.Number(),totalPages:Z.Number(),nextPage:Z.Boolean(),previousPage:Z.Boolean()})}),404:Z.Object({message:Z.String()}),500:Z.String()},tags:["Teachers"]}).get("/:TeacherId",async({params:Y})=>{return await KJ.findById(Y.TeacherId)},{params:Z.Object({TeacherId:Z.String()}),response:{200:AW,500:Z.String()},tags:["Teachers"]}).patch("/:TeacherId",async({params:Y,body:W,set:Q})=>{try{let X=await KJ.update(Y.TeacherId,W);return Q.status="OK",{updateTeacher:X,message:"Teacher has updated"}}catch(X){if(X.message==="Teachername already exists")return Q.status="Conflict",X.message;if(Q.status="Internal Server Error","message"in X)return X.message;return"Internal Server Error"}},{body:zG,params:Z.Object({TeacherId:Z.String()}),response:{200:AW,409:Z.String(),500:Z.String()},tags:["Teachers"]}).delete("/:TeacherId",async({params:Y,set:W})=>{try{let Q=await KJ.deleteById(Y.TeacherId);return W.status="OK",{deleteTeacher:Q,message:"Teacher has deleted"}}catch(Q){if(W.status="Internal Server Error","message"in Q)return Q.message;return"Internal Server Error"}},{params:Z.Object({TeacherId:Z.String()}),response:{200:AW,500:Z.String()},tags:["Teachers"]}))(yA||={});var T$=Z.Object({id:Z.String(),level:Z.UnionEnum(["VOCATIONAL","HIGHER"]),year:Z.Number()}),fA=Z.Object({level:Z.UnionEnum(["VOCATIONAL","HIGHER"]),year:Z.Number()}),aF=Z.Partial(fA),vA=Z.Composite([T$,Z.Object({classroom:Z.Array(Z.Object({id:Z.String(),name:Z.String(),teacher_id:Z.String(),department_id:Z.String(),grade_level_id:Z.String()}))})]);var K9;((jF0)=>{async function J(G){return S0.gradeLevel.create({data:{...G}})}jF0.create=J;async function Y(G){let H=G.search?{level:{contains:G.search,mode:"insensitive"}}:{};return S0.gradeLevel.findMany({where:H,include:{classroom:!0},take:G.take,skip:G.skip})}jF0.findAll=Y;async function W(G){return await S0.gradeLevel.findUnique({where:{id:G},include:{classroom:!0}})}jF0.findById=W;async function Q(G,H){return S0.gradeLevel.update({where:{id:G},data:{...H}})}jF0.update=Q;async function X(G){return S0.gradeLevel.delete({where:{id:G}})}jF0.deleteById=X;async function M(G){let H=G?{level:{contains:G,mode:"insensitive"}}:{};return await S0.gradeLevel.count({where:H})}jF0.countAll=M})(K9||={});var zJ;((TF0)=>{async function J(M){if(!M.level)throw new Error("GradeLevel level is required.");if(M.year===void 0||M.year===null)throw new Error("GradeLevel year is required.");try{return await K9.create(M)}catch(G){if(G instanceof X1&&G.code==="P2002")throw new Error("Duplicate GradeLevel (level, year) combination");throw G}}TF0.create=J;async function Y(M={}){let G=M.page??1,H=M.itemsPerPage??10,U=M.search,{skip:B,take:A}=M2(G,H),N=await K9.findAll({skip:B,take:A,search:U}),D=await K9.countAll(U),q=(D+H-1)/H>>0,K=G<q,O=G>1;return{data:N,meta_data:{page:G,itemsPerPage:H,total:D,totalPages:q,nextPage:K,previousPage:O}}}TF0.findAll=Y;async function W(M){return K9.findById(M)}TF0.findById=W;async function Q(M,G){try{let H={...G};return await K9.update(M,H)}catch(H){if(H instanceof X1&&H.code==="P2002")throw new Error("Duplicate GradeLevel (level, year) combination");throw H}}TF0.update=Q;async function X(M){return K9.deleteById(M)}TF0.deleteById=X})(zJ||={});var bA;((sF)=>sF.gradeLevelController=new a0({prefix:"/grade-levels"}).post("/",async({body:Y,set:W})=>{try{let Q=await zJ.create(Y);return W.status=201,{newGradeLevel:Q,message:"GradeLevel has created"}}catch(Q){if(Q.message==="Duplicate GradeLevel (level, year) combination")return W.status="Conflict",Q.message;if(W.status="Internal Server Error","message"in Q)return Q.message;return"Internal Server Error"}},{body:fA,response:{201:Z.Object({newGradeLevel:T$,message:Z.String()}),409:Z.String(),500:Z.String()},tags:["GradeLevels"]}).get("/",async({query:Y,set:W})=>{let Q=Y.page?Number(Y.page):1,X=Y.itemsPerPage?Number(Y.itemsPerPage):10,M=Y.search,G=await zJ.findAll({page:Q,itemsPerPage:X,search:M});if(G.data.length===0&&M!==void 0)return W.status="Not Found",{message:"No GradeLevel found matching your search query."};return G},{query:Z.Object({page:Z.Optional(Z.Numeric()),itemsPerPage:Z.Optional(Z.Numeric()),search:Z.Optional(Z.String())}),response:{200:Z.Object({data:Z.Array(vA),meta_data:Z.Object({page:Z.Number(),itemsPerPage:Z.Number(),total:Z.Number(),totalPages:Z.Number(),nextPage:Z.Boolean(),previousPage:Z.Boolean()})}),404:Z.Object({message:Z.String()}),500:Z.String()},tags:["GradeLevels"]}).get("/:GradeLevelId",async({params:Y})=>{return await zJ.findById(Y.GradeLevelId)},{params:Z.Object({GradeLevelId:Z.String()}),response:{200:vA,500:Z.String()},tags:["GradeLevels"]}).patch("/:GradeLevelId",async({params:Y,body:W,set:Q})=>{try{let X=await zJ.update(Y.GradeLevelId,W);return Q.status="OK",{updateGradeLevel:X,message:"GradeLevel has updated"}}catch(X){if(X.message==="Duplicate GradeLevel (level, year) combination")return Q.status="Conflict",X.message;if(Q.status="Internal Server Error","message"in X)return X.message;return"Internal Server Error"}},{body:aF,params:Z.Object({GradeLevelId:Z.String()}),response:{200:T$,409:Z.String(),500:Z.String()},tags:["GradeLevels"]}).delete("/:GradeLevelId",async({params:Y,set:W})=>{try{let Q=await zJ.deleteById(Y.GradeLevelId);return W.status="OK",{deleteGradeLevel:Q,message:"GradeLevel has deleted"}}catch(Q){if(W.status="Internal Server Error","message"in Q)return Q.message;return"Internal Server Error"}},{params:Z.Object({GradeLevelId:Z.String()}),response:{200:T$,500:Z.String()},tags:["GradeLevels"]}))(bA||={});var LJ=Z.Object({id:Z.String(),name:Z.String(),teacher_id:Z.String(),department_id:Z.String(),grade_level_id:Z.String(),students:Z.Any(),createdAt:Z.Date(),updatedAt:Z.Date()}),hA=Z.Object({name:Z.String(),teacher_id:Z.String(),department_id:Z.String(),grade_level_id:Z.String(),students:Z.Any()}),tF=Z.Partial(hA),Or=Z.Object({id:Z.String(),name:Z.String(),department_id:Z.String()}),eF=Z.Composite([LJ,Z.Object({teacher:Or,department:Z.Object({id:Z.String(),name:Z.String()}),grade_level:Z.Object({id:Z.String(),level:Z.UnionEnum(["VOCATIONAL","HIGHER"]),year:Z.Number()}),orders:Z.Array(Z.Object({id:Z.String()}))})]);var M6;((bF0)=>{async function J(G){let H=await S0.teacher.findUnique({where:{id:G.teacher_id}}),U=await S0.department.findUnique({where:{id:G.department_id}});if(!H)throw new Error(`Teacher with id ${G.teacher_id} not found`);if(!await S0.gradeLevel.findUnique({where:{id:G.grade_level_id}}))throw new Error(`GradeLevel with id ${G.grade_level_id} not found`);return S0.classroom.create({data:{...G}})}bF0.create=J;async function Y(G){let H=G.search?{name:{contains:G.search,mode:"insensitive"}}:{};return S0.classroom.findMany({where:H,include:{department:!0,grade_level:!0,teacher:!0,orders:!0},take:G.take,skip:G.skip})}bF0.findAll=Y;async function W(G){return await S0.classroom.findUnique({where:{id:G},include:{department:!0,grade_level:!0,teacher:!0,orders:{include:{order_items:!0}}}})}bF0.findById=W;async function Q(G,H){return S0.classroom.update({where:{id:G},data:{...H}})}bF0.update=Q;async function X(G){return S0.classroom.delete({where:{id:G}})}bF0.deleteById=X;async function M(G){let H=G?{name:{contains:G}}:{};return await S0.classroom.count({where:H})}bF0.countAll=M})(M6||={});/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Q3={};Q3.version="0.18.5";var _4=1200,KW=1252,Kr=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],GN={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},HN=function(J){if(Kr.indexOf(J)==-1)return;KW=GN[0]=J};function zr(){HN(1252)}var t6=function(J){_4=J,HN(J)};function $3(){t6(1200),zr()}function aA(J){var Y=[];for(var W=0,Q=J.length;W<Q;++W)Y[W]=J.charCodeAt(W);return Y}function Lr(J){var Y=[];for(var W=0;W<J.length>>1;++W)Y[W]=String.fromCharCode(J.charCodeAt(2*W)+(J.charCodeAt(2*W+1)<<8));return Y.join("")}function X3(J){var Y=[];for(var W=0;W<J.length>>1;++W)Y[W]=String.fromCharCode(J.charCodeAt(2*W+1)+(J.charCodeAt(2*W)<<8));return Y.join("")}var w$=function(J){var Y=J.charCodeAt(0),W=J.charCodeAt(1);if(Y==255&&W==254)return Lr(J.slice(2));if(Y==254&&W==255)return X3(J.slice(2));if(Y==65279)return J.slice(1);return J},LG=function J(Y){return String.fromCharCode(Y)},JE=function J(Y){return String.fromCharCode(Y)},w1;var m5=null,_$=!0,S9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function YE(J){var Y="",W=0,Q=0,X=0,M=0,G=0,H=0,U=0;for(var B=0;B<J.length;){if(W=J.charCodeAt(B++),M=W>>2,Q=J.charCodeAt(B++),G=(W&3)<<4|Q>>4,X=J.charCodeAt(B++),H=(Q&15)<<2|X>>6,U=X&63,isNaN(Q))H=U=64;else if(isNaN(X))U=64;Y+=S9.charAt(M)+S9.charAt(G)+S9.charAt(H)+S9.charAt(U)}return Y}function h8(J){var Y="",W=0,Q=0,X=0,M=0,G=0,H=0,U=0;J=J.replace(/[^\w\+\/\=]/g,"");for(var B=0;B<J.length;){if(M=S9.indexOf(J.charAt(B++)),G=S9.indexOf(J.charAt(B++)),W=M<<2|G>>4,Y+=String.fromCharCode(W),H=S9.indexOf(J.charAt(B++)),Q=(G&15)<<4|H>>2,H!==64)Y+=String.fromCharCode(Q);if(U=S9.indexOf(J.charAt(B++)),X=(H&3)<<6|U,U!==64)Y+=String.fromCharCode(X)}return Y}var K1=function(){return typeof Buffer!=="undefined"&&typeof process!=="undefined"&&typeof process.versions!=="undefined"&&!!process.versions.node}(),IJ=function(){if(typeof Buffer!=="undefined"){var J=!Buffer.from;if(!J)try{Buffer.from("foo","utf8")}catch(Y){J=!0}return J?function(Y,W){return W?new Buffer(Y,W):new Buffer(Y)}:Buffer.from.bind(Buffer)}return function(){}}();function E9(J){if(K1)return Buffer.alloc?Buffer.alloc(J):new Buffer(J);return typeof Uint8Array!="undefined"?new Uint8Array(J):new Array(J)}function WE(J){if(K1)return Buffer.allocUnsafe?Buffer.allocUnsafe(J):new Buffer(J);return typeof Uint8Array!="undefined"?new Uint8Array(J):new Array(J)}var s6=function J(Y){if(K1)return IJ(Y,"binary");return Y.split("").map(function(W){return W.charCodeAt(0)&255})};function RJ(J){if(Array.isArray(J))return J.map(function(Q){return String.fromCharCode(Q)}).join("");var Y=[];for(var W=0;W<J.length;++W)Y[W]=String.fromCharCode(J[W]);return Y.join("")}function UN(J){if(typeof ArrayBuffer=="undefined")throw new Error("Unsupported");if(J instanceof ArrayBuffer)return UN(new Uint8Array(J));var Y=new Array(J.length);for(var W=0;W<J.length;++W)Y[W]=J[W];return Y}var L9=K1?function(J){return Buffer.concat(J.map(function(Y){return Buffer.isBuffer(Y)?Y:IJ(Y)}))}:function(J){if(typeof Uint8Array!=="undefined"){var Y=0,W=0;for(Y=0;Y<J.length;++Y)W+=J[Y].length;var Q=new Uint8Array(W),X=0;for(Y=0,W=0;Y<J.length;W+=X,++Y)if(X=J[Y].length,J[Y]instanceof Uint8Array)Q.set(J[Y],W);else if(typeof J[Y]=="string")throw"wtf";else Q.set(new Uint8Array(J[Y]),W);return Q}return[].concat.apply([],J.map(function(M){return Array.isArray(M)?M:[].slice.call(M)}))};function Sr(J){var Y=[],W=0,Q=J.length+250,X=E9(J.length+255);for(var M=0;M<J.length;++M){var G=J.charCodeAt(M);if(G<128)X[W++]=G;else if(G<2048)X[W++]=192|G>>6&31,X[W++]=128|G&63;else if(G>=55296&&G<57344){G=(G&1023)+64;var H=J.charCodeAt(++M)&1023;X[W++]=240|G>>8&7,X[W++]=128|G>>2&63,X[W++]=128|H>>6&15|(G&3)<<4,X[W++]=128|H&63}else X[W++]=224|G>>12&15,X[W++]=128|G>>6&63,X[W++]=128|G&63;if(W>Q)Y.push(X.slice(0,W)),W=0,X=E9(65535),Q=65530}return Y.push(X.slice(0,W)),L9(Y)}var b2=/\u0000/g,k$=/[\u0001-\u0006]/g;function DW(J){var Y="",W=J.length-1;while(W>=0)Y+=J.charAt(W--);return Y}function e6(J,Y){var W=""+J;return W.length>=Y?W:F5("0",Y-W.length)+W}function BN(J,Y){var W=""+J;return W.length>=Y?W:F5(" ",Y-W.length)+W}function RG(J,Y){var W=""+J;return W.length>=Y?W:W+F5(" ",Y-W.length)}function Vr(J,Y){var W=""+Math.round(J);return W.length>=Y?W:F5("0",Y-W.length)+W}function Fr(J,Y){var W=""+J;return W.length>=Y?W:F5("0",Y-W.length)+W}var QE=Math.pow(2,32);function NW(J,Y){if(J>QE||J<-QE)return Vr(J,Y);var W=Math.round(J);return Fr(W,Y)}function TG(J,Y){return Y=Y||0,J.length>=7+Y&&(J.charCodeAt(Y)|32)===103&&(J.charCodeAt(Y+1)|32)===101&&(J.charCodeAt(Y+2)|32)===110&&(J.charCodeAt(Y+3)|32)===101&&(J.charCodeAt(Y+4)|32)===114&&(J.charCodeAt(Y+5)|32)===97&&(J.charCodeAt(Y+6)|32)===108}var $E=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],mA=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Er(J){if(!J)J={};return J[0]="General",J[1]="0",J[2]="0.00",J[3]="#,##0",J[4]="#,##0.00",J[9]="0%",J[10]="0.00%",J[11]="0.00E+00",J[12]="# ?/?",J[13]="# ??/??",J[14]="m/d/yy",J[15]="d-mmm-yy",J[16]="d-mmm",J[17]="mmm-yy",J[18]="h:mm AM/PM",J[19]="h:mm:ss AM/PM",J[20]="h:mm",J[21]="h:mm:ss",J[22]="m/d/yy h:mm",J[37]="#,##0 ;(#,##0)",J[38]="#,##0 ;[Red](#,##0)",J[39]="#,##0.00;(#,##0.00)",J[40]="#,##0.00;[Red](#,##0.00)",J[45]="mm:ss",J[46]="[h]:mm:ss",J[47]="mmss.0",J[48]="##0.0E+0",J[49]="@",J[56]='"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "',J}var e0={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "'},XE={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},jr={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function _G(J,Y,W){var Q=J<0?-1:1,X=J*Q,M=0,G=1,H=0,U=1,B=0,A=0,N=Math.floor(X);while(B<Y){if(N=Math.floor(X),H=N*G+M,A=N*B+U,X-N<0.00000005)break;X=1/(X-N),M=G,G=H,U=B,B=A}if(A>Y)if(B>Y)A=U,H=M;else A=B,H=G;if(!W)return[0,Q*H,A];var D=Math.floor(Q*H/A);return[D,Q*H-D*A,A]}function VJ(J,Y,W){if(J>2958465||J<0)return null;var Q=J|0,X=Math.floor(86400*(J-Q)),M=0,G=[],H={D:Q,T:X,u:86400*(J-Q)-X,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(H.u)<0.000001)H.u=0;if(Y&&Y.date1904)Q+=1462;if(H.u>0.9999){if(H.u=0,++X==86400)H.T=X=0,++Q,++H.D}if(Q===60)G=W?[1317,10,29]:[1900,2,29],M=3;else if(Q===0)G=W?[1317,8,29]:[1900,1,0],M=6;else{if(Q>60)--Q;var U=new Date(1900,0,1);if(U.setDate(U.getDate()+Q-1),G=[U.getFullYear(),U.getMonth()+1,U.getDate()],M=U.getDay(),Q<60)M=(M+6)%7;if(W)M=_r(U,G)}return H.y=G[0],H.m=G[1],H.d=G[2],H.S=X%60,X=Math.floor(X/60),H.M=X%60,X=Math.floor(X/60),H.H=X,H.q=M,H}var M3=new Date(1899,11,31,0,0,0),Pr=M3.getTime(),Cr=new Date(1900,2,1,0,0,0);function G3(J,Y){var W=J.getTime();if(Y)W-=126230400000;else if(J>=Cr)W+=86400000;return(W-(Pr+(J.getTimezoneOffset()-M3.getTimezoneOffset())*60000))/86400000}function AN(J){return J.indexOf(".")==-1?J:J.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Ir(J){if(J.indexOf("E")==-1)return J;return J.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Rr(J){var Y=J<0?12:11,W=AN(J.toFixed(12));if(W.length<=Y)return W;if(W=J.toPrecision(10),W.length<=Y)return W;return J.toExponential(5)}function Tr(J){var Y=AN(J.toFixed(11));return Y.length>(J<0?12:11)||Y==="0"||Y==="-0"?J.toPrecision(6):Y}function p$(J){var Y=Math.floor(Math.log(Math.abs(J))*Math.LOG10E),W;if(Y>=-4&&Y<=-1)W=J.toPrecision(10+Y);else if(Math.abs(Y)<=9)W=Rr(J);else if(Y===10)W=J.toFixed(10).substr(0,12);else W=Tr(J);return AN(Ir(W.toUpperCase()))}function jJ(J,Y){switch(typeof J){case"string":return J;case"boolean":return J?"TRUE":"FALSE";case"number":return(J|0)===J?J.toString(10):p$(J);case"undefined":return"";case"object":if(J==null)return"";if(J instanceof Date)return B6(14,G3(J,Y&&Y.date1904),Y)}throw new Error("unsupported value in General format: "+J)}function _r(J,Y){Y[0]-=581;var W=J.getDay();if(J<60)W=(W+6)%7;return W}function wr(J,Y,W,Q){var X="",M=0,G=0,H=W.y,U,B=0;switch(J){case 98:H=W.y+543;case 121:switch(Y.length){case 1:case 2:U=H%100,B=2;break;default:U=H%1e4,B=4;break}break;case 109:switch(Y.length){case 1:case 2:U=W.m,B=Y.length;break;case 3:return mA[W.m-1][1];case 5:return mA[W.m-1][0];default:return mA[W.m-1][2]}break;case 100:switch(Y.length){case 1:case 2:U=W.d,B=Y.length;break;case 3:return $E[W.q][0];default:return $E[W.q][1]}break;case 104:switch(Y.length){case 1:case 2:U=1+(W.H+11)%12,B=Y.length;break;default:throw"bad hour format: "+Y}break;case 72:switch(Y.length){case 1:case 2:U=W.H,B=Y.length;break;default:throw"bad hour format: "+Y}break;case 77:switch(Y.length){case 1:case 2:U=W.M,B=Y.length;break;default:throw"bad minute format: "+Y}break;case 115:if(Y!="s"&&Y!="ss"&&Y!=".0"&&Y!=".00"&&Y!=".000")throw"bad second format: "+Y;if(W.u===0&&(Y=="s"||Y=="ss"))return e6(W.S,Y.length);if(Q>=2)G=Q===3?1000:100;else G=Q===1?10:1;if(M=Math.round(G*(W.S+W.u)),M>=60*G)M=0;if(Y==="s")return M===0?"0":""+M/G;if(X=e6(M,2+Q),Y==="ss")return X.substr(0,2);return"."+X.substr(2,Y.length-1);case 90:switch(Y){case"[h]":case"[hh]":U=W.D*24+W.H;break;case"[m]":case"[mm]":U=(W.D*24+W.H)*60+W.M;break;case"[s]":case"[ss]":U=((W.D*24+W.H)*60+W.M)*60+Math.round(W.S+W.u);break;default:throw"bad abstime format: "+Y}B=Y.length===3?1:2;break;case 101:U=H,B=1;break}var A=B>0?e6(U,B):"";return A}function V9(J){var Y=3;if(J.length<=Y)return J;var W=J.length%Y,Q=J.substr(0,W);for(;W!=J.length;W+=Y)Q+=(Q.length>0?",":"")+J.substr(W,Y);return Q}var H3=/%/g;function kr(J,Y,W){var Q=Y.replace(H3,""),X=Y.length-Q.length;return j7(J,Q,W*Math.pow(10,2*X))+F5("%",X)}function xr(J,Y,W){var Q=Y.length-1;while(Y.charCodeAt(Q-1)===44)--Q;return j7(J,Y.substr(0,Q),W/Math.pow(10,3*(Y.length-Q)))}function U3(J,Y){var W,Q=J.indexOf("E")-J.indexOf(".")-1;if(J.match(/^#+0.0E\+0$/)){if(Y==0)return"0.0E+0";else if(Y<0)return"-"+U3(J,-Y);var X=J.indexOf(".");if(X===-1)X=J.indexOf("E");var M=Math.floor(Math.log(Y)*Math.LOG10E)%X;if(M<0)M+=X;if(W=(Y/Math.pow(10,M)).toPrecision(Q+1+(X+M)%X),W.indexOf("e")===-1){var G=Math.floor(Math.log(Y)*Math.LOG10E);if(W.indexOf(".")===-1)W=W.charAt(0)+"."+W.substr(1)+"E+"+(G-W.length+M);else W+="E+"+(G-M);while(W.substr(0,2)==="0.")W=W.charAt(0)+W.substr(2,X)+"."+W.substr(2+X),W=W.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");W=W.replace(/\+-/,"-")}W=W.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(H,U,B,A){return U+B+A.substr(0,(X+M)%X)+"."+A.substr(M)+"E"})}else W=Y.toExponential(Q);if(J.match(/E\+00$/)&&W.match(/e[+-]\d$/))W=W.substr(0,W.length-1)+"0"+W.charAt(W.length-1);if(J.match(/E\-/)&&W.match(/e\+/))W=W.replace(/e\+/,"e");return W.replace("e","E")}var B3=/# (\?+)( ?)\/( ?)(\d+)/;function gr(J,Y,W){var Q=parseInt(J[4],10),X=Math.round(Y*Q),M=Math.floor(X/Q),G=X-M*Q,H=Q;return W+(M===0?"":""+M)+" "+(G===0?F5(" ",J[1].length+1+J[4].length):BN(G,J[1].length)+J[2]+"/"+J[3]+e6(H,J[4].length))}function yr(J,Y,W){return W+(Y===0?"":""+Y)+F5(" ",J[1].length+2+J[4].length)}var A3=/^#*0*\.([0#]+)/,N3=/\).*[0#]/,q3=/\(###\) ###\\?-####/;function t2(J){var Y="",W;for(var Q=0;Q!=J.length;++Q)switch(W=J.charCodeAt(Q)){case 35:break;case 63:Y+=" ";break;case 48:Y+="0";break;default:Y+=String.fromCharCode(W)}return Y}function ME(J,Y){var W=Math.pow(10,Y);return""+Math.round(J*W)/W}function GE(J,Y){var W=J-Math.floor(J),Q=Math.pow(10,Y);if(Y<(""+Math.round(W*Q)).length)return 0;return Math.round(W*Q)}function fr(J,Y){if(Y<(""+Math.round((J-Math.floor(J))*Math.pow(10,Y))).length)return 1;return 0}function vr(J){if(J<2147483647&&J>-2147483648)return""+(J>=0?J|0:J-1|0);return""+Math.floor(J)}function H6(J,Y,W){if(J.charCodeAt(0)===40&&!Y.match(N3)){var Q=Y.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");if(W>=0)return H6("n",Q,W);return"("+H6("n",Q,-W)+")"}if(Y.charCodeAt(Y.length-1)===44)return xr(J,Y,W);if(Y.indexOf("%")!==-1)return kr(J,Y,W);if(Y.indexOf("E")!==-1)return U3(Y,W);if(Y.charCodeAt(0)===36)return"$"+H6(J,Y.substr(Y.charAt(1)==" "?2:1),W);var X,M,G,H,U=Math.abs(W),B=W<0?"-":"";if(Y.match(/^00+$/))return B+NW(U,Y.length);if(Y.match(/^[#?]+$/)){if(X=NW(W,0),X==="0")X="";return X.length>Y.length?X:t2(Y.substr(0,Y.length-X.length))+X}if(M=Y.match(B3))return gr(M,U,B);if(Y.match(/^#+0+$/))return B+NW(U,Y.length-Y.indexOf("0"));if(M=Y.match(A3))return X=ME(W,M[1].length).replace(/^([^\.]+)$/,"$1."+t2(M[1])).replace(/\.$/,"."+t2(M[1])).replace(/\.(\d*)$/,function(K,O){return"."+O+F5("0",t2(M[1]).length-O.length)}),Y.indexOf("0.")!==-1?X:X.replace(/^0\./,".");if(Y=Y.replace(/^#+([0.])/,"$1"),M=Y.match(/^(0*)\.(#*)$/))return B+ME(U,M[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,M[1].length?"0.":".");if(M=Y.match(/^#{1,3},##0(\.?)$/))return B+V9(NW(U,0));if(M=Y.match(/^#,##0\.([#0]*0)$/))return W<0?"-"+H6(J,Y,-W):V9(""+(Math.floor(W)+fr(W,M[1].length)))+"."+e6(GE(W,M[1].length),M[1].length);if(M=Y.match(/^#,#*,#0/))return H6(J,Y.replace(/^#,#*,/,""),W);if(M=Y.match(/^([0#]+)(\\?-([0#]+))+$/))return X=DW(H6(J,Y.replace(/[\\-]/g,""),W)),G=0,DW(DW(Y.replace(/\\/g,"")).replace(/[0#]/g,function(K){return G<X.length?X.charAt(G++):K==="0"?"0":""}));if(Y.match(q3))return X=H6(J,"##########",W),"("+X.substr(0,3)+") "+X.substr(3,3)+"-"+X.substr(6);var A="";if(M=Y.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/)){if(G=Math.min(M[4].length,7),H=_G(U,Math.pow(10,G)-1,!1),X=""+B,A=j7("n",M[1],H[1]),A.charAt(A.length-1)==" ")A=A.substr(0,A.length-1)+"0";if(X+=A+M[2]+"/"+M[3],A=RG(H[2],G),A.length<M[4].length)A=t2(M[4].substr(M[4].length-A.length))+A;return X+=A,X}if(M=Y.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return G=Math.min(Math.max(M[1].length,M[4].length),7),H=_G(U,Math.pow(10,G)-1,!0),B+(H[0]||(H[1]?"":"0"))+" "+(H[1]?BN(H[1],G)+M[2]+"/"+M[3]+RG(H[2],G):F5(" ",2*G+1+M[2].length+M[3].length));if(M=Y.match(/^[#0?]+$/)){if(X=NW(W,0),Y.length<=X.length)return X;return t2(Y.substr(0,Y.length-X.length))+X}if(M=Y.match(/^([#0?]+)\.([#0]+)$/)){X=""+W.toFixed(Math.min(M[2].length,10)).replace(/([^0])0+$/,"$1"),G=X.indexOf(".");var N=Y.indexOf(".")-G,D=Y.length-X.length-N;return t2(Y.substr(0,N)+X+Y.substr(Y.length-D))}if(M=Y.match(/^00,000\.([#0]*0)$/))return G=GE(W,M[1].length),W<0?"-"+H6(J,Y,-W):V9(vr(W)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(K){return"00,"+(K.length<3?e6(0,3-K.length):"")+K})+"."+e6(G,M[1].length);switch(Y){case"###,##0.00":return H6(J,"#,##0.00",W);case"###,###":case"##,###":case"#,###":var q=V9(NW(U,0));return q!=="0"?B+q:"";case"###,###.00":return H6(J,"###,##0.00",W).replace(/^0\./,".");case"#,###.00":return H6(J,"#,##0.00",W).replace(/^0\./,".");default:}throw new Error("unsupported format |"+Y+"|")}function br(J,Y,W){var Q=Y.length-1;while(Y.charCodeAt(Q-1)===44)--Q;return j7(J,Y.substr(0,Q),W/Math.pow(10,3*(Y.length-Q)))}function hr(J,Y,W){var Q=Y.replace(H3,""),X=Y.length-Q.length;return j7(J,Q,W*Math.pow(10,2*X))+F5("%",X)}function D3(J,Y){var W,Q=J.indexOf("E")-J.indexOf(".")-1;if(J.match(/^#+0.0E\+0$/)){if(Y==0)return"0.0E+0";else if(Y<0)return"-"+D3(J,-Y);var X=J.indexOf(".");if(X===-1)X=J.indexOf("E");var M=Math.floor(Math.log(Y)*Math.LOG10E)%X;if(M<0)M+=X;if(W=(Y/Math.pow(10,M)).toPrecision(Q+1+(X+M)%X),!W.match(/[Ee]/)){var G=Math.floor(Math.log(Y)*Math.LOG10E);if(W.indexOf(".")===-1)W=W.charAt(0)+"."+W.substr(1)+"E+"+(G-W.length+M);else W+="E+"+(G-M);W=W.replace(/\+-/,"-")}W=W.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(H,U,B,A){return U+B+A.substr(0,(X+M)%X)+"."+A.substr(M)+"E"})}else W=Y.toExponential(Q);if(J.match(/E\+00$/)&&W.match(/e[+-]\d$/))W=W.substr(0,W.length-1)+"0"+W.charAt(W.length-1);if(J.match(/E\-/)&&W.match(/e\+/))W=W.replace(/e\+/,"e");return W.replace("e","E")}function T4(J,Y,W){if(J.charCodeAt(0)===40&&!Y.match(N3)){var Q=Y.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");if(W>=0)return T4("n",Q,W);return"("+T4("n",Q,-W)+")"}if(Y.charCodeAt(Y.length-1)===44)return br(J,Y,W);if(Y.indexOf("%")!==-1)return hr(J,Y,W);if(Y.indexOf("E")!==-1)return D3(Y,W);if(Y.charCodeAt(0)===36)return"$"+T4(J,Y.substr(Y.charAt(1)==" "?2:1),W);var X,M,G,H,U=Math.abs(W),B=W<0?"-":"";if(Y.match(/^00+$/))return B+e6(U,Y.length);if(Y.match(/^[#?]+$/)){if(X=""+W,W===0)X="";return X.length>Y.length?X:t2(Y.substr(0,Y.length-X.length))+X}if(M=Y.match(B3))return yr(M,U,B);if(Y.match(/^#+0+$/))return B+e6(U,Y.length-Y.indexOf("0"));if(M=Y.match(A3))return X=(""+W).replace(/^([^\.]+)$/,"$1."+t2(M[1])).replace(/\.$/,"."+t2(M[1])),X=X.replace(/\.(\d*)$/,function(K,O){return"."+O+F5("0",t2(M[1]).length-O.length)}),Y.indexOf("0.")!==-1?X:X.replace(/^0\./,".");if(Y=Y.replace(/^#+([0.])/,"$1"),M=Y.match(/^(0*)\.(#*)$/))return B+(""+U).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,M[1].length?"0.":".");if(M=Y.match(/^#{1,3},##0(\.?)$/))return B+V9(""+U);if(M=Y.match(/^#,##0\.([#0]*0)$/))return W<0?"-"+T4(J,Y,-W):V9(""+W)+"."+F5("0",M[1].length);if(M=Y.match(/^#,#*,#0/))return T4(J,Y.replace(/^#,#*,/,""),W);if(M=Y.match(/^([0#]+)(\\?-([0#]+))+$/))return X=DW(T4(J,Y.replace(/[\\-]/g,""),W)),G=0,DW(DW(Y.replace(/\\/g,"")).replace(/[0#]/g,function(K){return G<X.length?X.charAt(G++):K==="0"?"0":""}));if(Y.match(q3))return X=T4(J,"##########",W),"("+X.substr(0,3)+") "+X.substr(3,3)+"-"+X.substr(6);var A="";if(M=Y.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/)){if(G=Math.min(M[4].length,7),H=_G(U,Math.pow(10,G)-1,!1),X=""+B,A=j7("n",M[1],H[1]),A.charAt(A.length-1)==" ")A=A.substr(0,A.length-1)+"0";if(X+=A+M[2]+"/"+M[3],A=RG(H[2],G),A.length<M[4].length)A=t2(M[4].substr(M[4].length-A.length))+A;return X+=A,X}if(M=Y.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return G=Math.min(Math.max(M[1].length,M[4].length),7),H=_G(U,Math.pow(10,G)-1,!0),B+(H[0]||(H[1]?"":"0"))+" "+(H[1]?BN(H[1],G)+M[2]+"/"+M[3]+RG(H[2],G):F5(" ",2*G+1+M[2].length+M[3].length));if(M=Y.match(/^[#0?]+$/)){if(X=""+W,Y.length<=X.length)return X;return t2(Y.substr(0,Y.length-X.length))+X}if(M=Y.match(/^([#0]+)\.([#0]+)$/)){X=""+W.toFixed(Math.min(M[2].length,10)).replace(/([^0])0+$/,"$1"),G=X.indexOf(".");var N=Y.indexOf(".")-G,D=Y.length-X.length-N;return t2(Y.substr(0,N)+X+Y.substr(Y.length-D))}if(M=Y.match(/^00,000\.([#0]*0)$/))return W<0?"-"+T4(J,Y,-W):V9(""+W).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(K){return"00,"+(K.length<3?e6(0,3-K.length):"")+K})+"."+e6(0,M[1].length);switch(Y){case"###,###":case"##,###":case"#,###":var q=V9(""+U);return q!=="0"?B+q:"";default:if(Y.match(/\.[0#?]*$/))return T4(J,Y.slice(0,Y.lastIndexOf(".")),W)+t2(Y.slice(Y.lastIndexOf(".")))}throw new Error("unsupported format |"+Y+"|")}function j7(J,Y,W){return(W|0)===W?T4(J,Y,W):H6(J,Y,W)}function mr(J){var Y=[],W=!1;for(var Q=0,X=0;Q<J.length;++Q)switch(J.charCodeAt(Q)){case 34:W=!W;break;case 95:case 42:case 92:++Q;break;case 59:Y[Y.length]=J.substr(X,Q-X),X=Q+1}if(Y[Y.length]=J.substr(X),W===!0)throw new Error("Format |"+J+"| unterminated string ");return Y}var Z3=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function SW(J){var Y=0,W="",Q="";while(Y<J.length)switch(W=J.charAt(Y)){case"G":if(TG(J,Y))Y+=6;Y++;break;case'"':for(;J.charCodeAt(++Y)!==34&&Y<J.length;);++Y;break;case"\\":Y+=2;break;case"_":Y+=2;break;case"@":++Y;break;case"B":case"b":if(J.charAt(Y+1)==="1"||J.charAt(Y+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4E0A":if(J.substr(Y,3).toUpperCase()==="A/P")return!0;if(J.substr(Y,5).toUpperCase()==="AM/PM")return!0;if(J.substr(Y,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348")return!0;++Y;break;case"[":Q=W;while(J.charAt(Y++)!=="]"&&Y<J.length)Q+=J.charAt(Y);if(Q.match(Z3))return!0;break;case".":case"0":case"#":while(Y<J.length&&("0#?.,E+-%".indexOf(W=J.charAt(++Y))>-1||W=="\\"&&J.charAt(Y+1)=="-"&&"0#".indexOf(J.charAt(Y+2))>-1));break;case"?":while(J.charAt(++Y)===W);break;case"*":if(++Y,J.charAt(Y)==" "||J.charAt(Y)=="*")++Y;break;case"(":case")":++Y;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":while(Y<J.length&&"0123456789".indexOf(J.charAt(++Y))>-1);break;case" ":++Y;break;default:++Y;break}return!1}function dr(J,Y,W,Q){var X=[],M="",G=0,H="",U="t",B,A,N,D="H";while(G<J.length)switch(H=J.charAt(G)){case"G":if(!TG(J,G))throw new Error("unrecognized character "+H+" in "+J);X[X.length]={t:"G",v:"General"},G+=7;break;case'"':for(M="";(N=J.charCodeAt(++G))!==34&&G<J.length;)M+=String.fromCharCode(N);X[X.length]={t:"t",v:M},++G;break;case"\\":var q=J.charAt(++G),K=q==="("||q===")"?q:"t";X[X.length]={t:K,v:q},++G;break;case"_":X[X.length]={t:"t",v:" "},G+=2;break;case"@":X[X.length]={t:"T",v:Y},++G;break;case"B":case"b":if(J.charAt(G+1)==="1"||J.charAt(G+1)==="2"){if(B==null){if(B=VJ(Y,W,J.charAt(G+1)==="2"),B==null)return""}X[X.length]={t:"X",v:J.substr(G,2)},U=H,G+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":H=H.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(Y<0)return"";if(B==null){if(B=VJ(Y,W),B==null)return""}M=H;while(++G<J.length&&J.charAt(G).toLowerCase()===H)M+=H;if(H==="m"&&U.toLowerCase()==="h")H="M";if(H==="h")H=D;X[X.length]={t:H,v:M},U=H;break;case"A":case"a":case"\u4E0A":var O={t:H,v:H};if(B==null)B=VJ(Y,W);if(J.substr(G,3).toUpperCase()==="A/P"){if(B!=null)O.v=B.H>=12?"P":"A";O.t="T",D="h",G+=3}else if(J.substr(G,5).toUpperCase()==="AM/PM"){if(B!=null)O.v=B.H>=12?"PM":"AM";O.t="T",G+=5,D="h"}else if(J.substr(G,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348"){if(B!=null)O.v=B.H>=12?"\u4E0B\u5348":"\u4E0A\u5348";O.t="T",G+=5,D="h"}else O.t="t",++G;if(B==null&&O.t==="T")return"";X[X.length]=O,U=H;break;case"[":M=H;while(J.charAt(G++)!=="]"&&G<J.length)M+=J.charAt(G);if(M.slice(-1)!=="]")throw'unterminated "[" block: |'+M+"|";if(M.match(Z3)){if(B==null){if(B=VJ(Y,W),B==null)return""}X[X.length]={t:"Z",v:M.toLowerCase()},U=M.charAt(1)}else if(M.indexOf("$")>-1){if(M=(M.match(/\$([^-\[\]]*)/)||[])[1]||"$",!SW(J))X[X.length]={t:"t",v:M}}break;case".":if(B!=null){M=H;while(++G<J.length&&(H=J.charAt(G))==="0")M+=H;X[X.length]={t:"s",v:M};break}case"0":case"#":M=H;while(++G<J.length&&"0#?.,E+-%".indexOf(H=J.charAt(G))>-1)M+=H;X[X.length]={t:"n",v:M};break;case"?":M=H;while(J.charAt(++G)===H)M+=H;X[X.length]={t:H,v:M},U=H;break;case"*":if(++G,J.charAt(G)==" "||J.charAt(G)=="*")++G;break;case"(":case")":X[X.length]={t:Q===1?"t":H,v:H},++G;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":M=H;while(G<J.length&&"0123456789".indexOf(J.charAt(++G))>-1)M+=J.charAt(G);X[X.length]={t:"D",v:M};break;case" ":X[X.length]={t:H,v:H},++G;break;case"$":X[X.length]={t:"t",v:"$"},++G;break;default:if(",$-+/():!^&'~{}<>=\u20ACacfijklopqrtuvwxzP".indexOf(H)===-1)throw new Error("unrecognized character "+H+" in "+J);X[X.length]={t:"t",v:H},++G;break}var z=0,V=0,L;for(G=X.length-1,U="t";G>=0;--G)switch(X[G].t){case"h":case"H":if(X[G].t=D,U="h",z<1)z=1;break;case"s":if(L=X[G].v.match(/\.0+$/))V=Math.max(V,L[0].length-1);if(z<3)z=3;case"d":case"y":case"M":case"e":U=X[G].t;break;case"m":if(U==="s"){if(X[G].t="M",z<2)z=2}break;case"X":break;case"Z":if(z<1&&X[G].v.match(/[Hh]/))z=1;if(z<2&&X[G].v.match(/[Mm]/))z=2;if(z<3&&X[G].v.match(/[Ss]/))z=3}switch(z){case 0:break;case 1:if(B.u>=0.5)B.u=0,++B.S;if(B.S>=60)B.S=0,++B.M;if(B.M>=60)B.M=0,++B.H;break;case 2:if(B.u>=0.5)B.u=0,++B.S;if(B.S>=60)B.S=0,++B.M;break}var S="",g;for(G=0;G<X.length;++G)switch(X[G].t){case"t":case"T":case" ":case"D":break;case"X":X[G].v="",X[G].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":X[G].v=wr(X[G].t.charCodeAt(0),X[G].v,B,V),X[G].t="t";break;case"n":case"?":g=G+1;while(X[g]!=null&&((H=X[g].t)==="?"||H==="D"||(H===" "||H==="t")&&X[g+1]!=null&&(X[g+1].t==="?"||X[g+1].t==="t"&&X[g+1].v==="/")||X[G].t==="("&&(H===" "||H==="n"||H===")")||H==="t"&&(X[g].v==="/"||X[g].v===" "&&X[g+1]!=null&&X[g+1].t=="?")))X[G].v+=X[g].v,X[g]={v:"",t:";"},++g;S+=X[G].v,G=g-1;break;case"G":X[G].t="t",X[G].v=jJ(Y,W);break}var d="",I,F;if(S.length>0){if(S.charCodeAt(0)==40)I=Y<0&&S.charCodeAt(0)===45?-Y:Y,F=j7("n",S,I);else if(I=Y<0&&Q>1?-Y:Y,F=j7("n",S,I),I<0&&X[0]&&X[0].t=="t")F=F.substr(1),X[0].v="-"+X[0].v;g=F.length-1;var R=X.length;for(G=0;G<X.length;++G)if(X[G]!=null&&X[G].t!="t"&&X[G].v.indexOf(".")>-1){R=G;break}var j=X.length;if(R===X.length&&F.indexOf("E")===-1){for(G=X.length-1;G>=0;--G){if(X[G]==null||"n?".indexOf(X[G].t)===-1)continue;if(g>=X[G].v.length-1)g-=X[G].v.length,X[G].v=F.substr(g+1,X[G].v.length);else if(g<0)X[G].v="";else X[G].v=F.substr(0,g+1),g=-1;X[G].t="t",j=G}if(g>=0&&j<X.length)X[j].v=F.substr(0,g+1)+X[j].v}else if(R!==X.length&&F.indexOf("E")===-1){g=F.indexOf(".")-1;for(G=R;G>=0;--G){if(X[G]==null||"n?".indexOf(X[G].t)===-1)continue;A=X[G].v.indexOf(".")>-1&&G===R?X[G].v.indexOf(".")-1:X[G].v.length-1,d=X[G].v.substr(A+1);for(;A>=0;--A)if(g>=0&&(X[G].v.charAt(A)==="0"||X[G].v.charAt(A)==="#"))d=F.charAt(g--)+d;X[G].v=d,X[G].t="t",j=G}if(g>=0&&j<X.length)X[j].v=F.substr(0,g+1)+X[j].v;g=F.indexOf(".")+1;for(G=R;G<X.length;++G){if(X[G]==null||"n?(".indexOf(X[G].t)===-1&&G!==R)continue;A=X[G].v.indexOf(".")>-1&&G===R?X[G].v.indexOf(".")+1:0,d=X[G].v.substr(0,A);for(;A<X[G].v.length;++A)if(g<F.length)d+=F.charAt(g++);X[G].v=d,X[G].t="t",j=G}}}for(G=0;G<X.length;++G)if(X[G]!=null&&"n?".indexOf(X[G].t)>-1)I=Q>1&&Y<0&&G>0&&X[G-1].v==="-"?-Y:Y,X[G].v=j7(X[G].t,X[G].v,I),X[G].t="t";var x="";for(G=0;G!==X.length;++G)if(X[G]!=null)x+=X[G].v;return x}var HE=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function UE(J,Y){if(Y==null)return!1;var W=parseFloat(Y[2]);switch(Y[1]){case"=":if(J==W)return!0;break;case">":if(J>W)return!0;break;case"<":if(J<W)return!0;break;case"<>":if(J!=W)return!0;break;case">=":if(J>=W)return!0;break;case"<=":if(J<=W)return!0;break}return!1}function cr(J,Y){var W=mr(J),Q=W.length,X=W[Q-1].indexOf("@");if(Q<4&&X>-1)--Q;if(W.length>4)throw new Error("cannot find right format for |"+W.join("|")+"|");if(typeof Y!=="number")return[4,W.length===4||X>-1?W[W.length-1]:"@"];switch(W.length){case 1:W=X>-1?["General","General","General",W[0]]:[W[0],W[0],W[0],"@"];break;case 2:W=X>-1?[W[0],W[0],W[0],W[1]]:[W[0],W[1],W[0],"@"];break;case 3:W=X>-1?[W[0],W[1],W[0],W[2]]:[W[0],W[1],W[2],"@"];break;case 4:break}var M=Y>0?W[0]:Y<0?W[1]:W[2];if(W[0].indexOf("[")===-1&&W[1].indexOf("[")===-1)return[Q,M];if(W[0].match(/\[[=<>]/)!=null||W[1].match(/\[[=<>]/)!=null){var G=W[0].match(HE),H=W[1].match(HE);return UE(Y,G)?[Q,W[0]]:UE(Y,H)?[Q,W[1]]:[Q,W[G!=null&&H!=null?2:1]]}return[Q,M]}function B6(J,Y,W){if(W==null)W={};var Q="";switch(typeof J){case"string":if(J=="m/d/yy"&&W.dateNF)Q=W.dateNF;else Q=J;break;case"number":if(J==14&&W.dateNF)Q=W.dateNF;else Q=(W.table!=null?W.table:e0)[J];if(Q==null)Q=W.table&&W.table[XE[J]]||e0[XE[J]];if(Q==null)Q=jr[J]||"General";break}if(TG(Q,0))return jJ(Y,W);if(Y instanceof Date)Y=G3(Y,W.date1904);var X=cr(Q,Y);if(TG(X[1]))return jJ(Y,W);if(Y===!0)Y="TRUE";else if(Y===!1)Y="FALSE";else if(Y===""||Y==null)return"";return dr(X[1],Y,W,X[0])}function FJ(J,Y){if(typeof Y!="number"){Y=+Y||-1;for(var W=0;W<392;++W){if(e0[W]==null){if(Y<0)Y=W;continue}if(e0[W]==J){Y=W;break}}if(Y<0)Y=391}return e0[Y]=J,Y}function O3(){e0=Er()}var ur={"5":'"$"#,##0_);\\("$"#,##0\\)',"6":'"$"#,##0_);[Red]\\("$"#,##0\\)',"7":'"$"#,##0.00_);\\("$"#,##0.00\\)',"8":'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',"23":"General","24":"General","25":"General","26":"General","27":"m/d/yy","28":"m/d/yy","29":"m/d/yy","30":"m/d/yy","31":"m/d/yy","32":"h:mm:ss","33":"h:mm:ss","34":"h:mm:ss","35":"h:mm:ss","36":"m/d/yy","41":'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',"42":'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',"43":'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',"44":'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',"50":"m/d/yy","51":"m/d/yy","52":"m/d/yy","53":"m/d/yy","54":"m/d/yy","55":"m/d/yy","56":"m/d/yy","57":"m/d/yy","58":"m/d/yy","59":"0","60":"0.00","61":"#,##0","62":"#,##0.00","63":'"$"#,##0_);\\("$"#,##0\\)',"64":'"$"#,##0_);[Red]\\("$"#,##0\\)',"65":'"$"#,##0.00_);\\("$"#,##0.00\\)',"66":'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',"67":"0%","68":"0.00%","69":"# ?/?","70":"# ??/??","71":"m/d/yy","72":"m/d/yy","73":"d-mmm-yy","74":"d-mmm","75":"mmm-yy","76":"h:mm","77":"h:mm:ss","78":"m/d/yy h:mm","79":"mm:ss","80":"[h]:mm:ss","81":"mmss.0"},K3=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function pr(J){var Y=typeof J=="number"?e0[J]:J;return Y=Y.replace(K3,"(\\d+)"),new RegExp("^"+Y+"$")}function nr(J,Y,W){var Q=-1,X=-1,M=-1,G=-1,H=-1,U=-1;if((Y.match(K3)||[]).forEach(function(N,D){var q=parseInt(W[D+1],10);switch(N.toLowerCase().charAt(0)){case"y":Q=q;break;case"d":M=q;break;case"h":G=q;break;case"s":U=q;break;case"m":if(G>=0)H=q;else X=q;break}}),U>=0&&H==-1&&X>=0)H=X,X=-1;var B=(""+(Q>=0?Q:new Date().getFullYear())).slice(-4)+"-"+("00"+(X>=1?X:1)).slice(-2)+"-"+("00"+(M>=1?M:1)).slice(-2);if(B.length==7)B="0"+B;if(B.length==8)B="20"+B;var A=("00"+(G>=0?G:0)).slice(-2)+":"+("00"+(H>=0?H:0)).slice(-2)+":"+("00"+(U>=0?U:0)).slice(-2);if(G==-1&&H==-1&&U==-1)return B;if(Q==-1&&X==-1&&M==-1)return A;return B+"T"+A}var ir=function(){var J={};J.version="1.2.0";function Y(){var F=0,R=new Array(256);for(var j=0;j!=256;++j)F=j,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,R[j]=F;return typeof Int32Array!=="undefined"?new Int32Array(R):R}var W=Y();function Q(F){var R=0,j=0,x=0,_=typeof Int32Array!=="undefined"?new Int32Array(4096):new Array(4096);for(x=0;x!=256;++x)_[x]=F[x];for(x=0;x!=256;++x){j=F[x];for(R=256+x;R<4096;R+=256)j=_[R]=j>>>8^F[j&255]}var k=[];for(x=1;x!=16;++x)k[x-1]=typeof Int32Array!=="undefined"?_.subarray(x*256,x*256+256):_.slice(x*256,x*256+256);return k}var X=Q(W),M=X[0],G=X[1],H=X[2],U=X[3],B=X[4],A=X[5],N=X[6],D=X[7],q=X[8],K=X[9],O=X[10],z=X[11],V=X[12],L=X[13],S=X[14];function g(F,R){var j=R^-1;for(var x=0,_=F.length;x<_;)j=j>>>8^W[(j^F.charCodeAt(x++))&255];return~j}function d(F,R){var j=R^-1,x=F.length-15,_=0;for(;_<x;)j=S[F[_++]^j&255]^L[F[_++]^j>>8&255]^V[F[_++]^j>>16&255]^z[F[_++]^j>>>24]^O[F[_++]]^K[F[_++]]^q[F[_++]]^D[F[_++]]^N[F[_++]]^A[F[_++]]^B[F[_++]]^U[F[_++]]^H[F[_++]]^G[F[_++]]^M[F[_++]]^W[F[_++]];x+=15;while(_<x)j=j>>>8^W[(j^F[_++])&255];return~j}function I(F,R){var j=R^-1;for(var x=0,_=F.length,k=0,l=0;x<_;)if(k=F.charCodeAt(x++),k<128)j=j>>>8^W[(j^k)&255];else if(k<2048)j=j>>>8^W[(j^(192|k>>6&31))&255],j=j>>>8^W[(j^(128|k&63))&255];else if(k>=55296&&k<57344)k=(k&1023)+64,l=F.charCodeAt(x++)&1023,j=j>>>8^W[(j^(240|k>>8&7))&255],j=j>>>8^W[(j^(128|k>>2&63))&255],j=j>>>8^W[(j^(128|l>>6&15|(k&3)<<4))&255],j=j>>>8^W[(j^(128|l&63))&255];else j=j>>>8^W[(j^(224|k>>12&15))&255],j=j>>>8^W[(j^(128|k>>6&63))&255],j=j>>>8^W[(j^(128|k&63))&255];return~j}return J.table=W,J.bstr=g,J.buf=d,J.str=I,J}(),F1=function J(){var Y={};Y.version="1.2.1";function W(P,f){var T=P.split("/"),w=f.split("/");for(var v=0,b=0,a=Math.min(T.length,w.length);v<a;++v){if(b=T[v].length-w[v].length)return b;if(T[v]!=w[v])return T[v]<w[v]?-1:1}return T.length-w.length}function Q(P){if(P.charAt(P.length-1)=="/")return P.slice(0,-1).indexOf("/")===-1?P:Q(P.slice(0,-1));var f=P.lastIndexOf("/");return f===-1?P:P.slice(0,f+1)}function X(P){if(P.charAt(P.length-1)=="/")return X(P.slice(0,-1));var f=P.lastIndexOf("/");return f===-1?P:P.slice(f+1)}function M(P,f){if(typeof f==="string")f=new Date(f);var T=f.getHours();T=T<<6|f.getMinutes(),T=T<<5|f.getSeconds()>>>1,P.write_shift(2,T);var w=f.getFullYear()-1980;w=w<<4|f.getMonth()+1,w=w<<5|f.getDate(),P.write_shift(2,w)}function G(P){var f=P.read_shift(2)&65535,T=P.read_shift(2)&65535,w=new Date,v=T&31;T>>>=5;var b=T&15;T>>>=4,w.setMilliseconds(0),w.setFullYear(T+1980),w.setMonth(b-1),w.setDate(v);var a=f&31;f>>>=5;var H0=f&63;return f>>>=6,w.setHours(f),w.setMinutes(H0),w.setSeconds(a<<1),w}function H(P){S2(P,0);var f={},T=0;while(P.l<=P.length-4){var w=P.read_shift(2),v=P.read_shift(2),b=P.l+v,a={};switch(w){case 21589:{if(T=P.read_shift(1),T&1)a.mtime=P.read_shift(4);if(v>5){if(T&2)a.atime=P.read_shift(4);if(T&4)a.ctime=P.read_shift(4)}if(a.mtime)a.mt=new Date(a.mtime*1000)}break}P.l=b,f[w]=a}return f}var U;function B(){return U||(U={})}function A(P,f){if(P[0]==80&&P[1]==75)return eq(P,f);if((P[0]|32)==109&&(P[1]|32)==105)return AI(P,f);if(P.length<512)throw new Error("CFB file size "+P.length+" < 512");var T=3,w=512,v=0,b=0,a=0,H0=0,e=0,t=[],J0=P.slice(0,512);S2(J0,0);var K0=N(J0);switch(T=K0[0],T){case 3:w=512;break;case 4:w=4096;break;case 0:if(K0[1]==0)return eq(P,f);default:throw new Error("Major Version: Expected 3 or 4 saw "+T)}if(w!==512)J0=P.slice(0,w),S2(J0,28);var F0=P.slice(0,w);D(J0,T);var w0=J0.read_shift(4,"i");if(T===3&&w0!==0)throw new Error("# Directory Sectors: Expected 0 saw "+w0);J0.l+=4,a=J0.read_shift(4,"i"),J0.l+=4,J0.chk("00100000","Mini Stream Cutoff Size: "),H0=J0.read_shift(4,"i"),v=J0.read_shift(4,"i"),e=J0.read_shift(4,"i"),b=J0.read_shift(4,"i");for(var E0=-1,j0=0;j0<109;++j0){if(E0=J0.read_shift(4,"i"),E0<0)break;t[j0]=E0}var i0=q(P,w);z(e,b,i0,w,t);var t1=L(i0,a,t,w);if(t1[a].name="!Directory",v>0&&H0!==l)t1[H0].name="!MiniFAT";t1[t[0]].name="!FAT",t1.fat_addrs=t,t1.ssz=w;var $8={},x5=[],E8=[],oW=[];S(a,t1,i0,x5,v,$8,E8,H0),K(E8,oW,x5),x5.shift();var rW={FileIndex:E8,FullPaths:oW};if(f&&f.raw)rW.raw={header:F0,sectors:i0};return rW}function N(P){if(P[P.l]==80&&P[P.l+1]==75)return[0,0];P.chk(q0,"Header Signature: "),P.l+=16;var f=P.read_shift(2,"u");return[P.read_shift(2,"u"),f]}function D(P,f){var T=9;switch(P.l+=2,T=P.read_shift(2)){case 9:if(f!=3)throw new Error("Sector Shift: Expected 9 saw "+T);break;case 12:if(f!=4)throw new Error("Sector Shift: Expected 12 saw "+T);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+T)}P.chk("0600","Mini Sector Shift: "),P.chk("000000000000","Reserved: ")}function q(P,f){var T=Math.ceil(P.length/f)-1,w=[];for(var v=1;v<T;++v)w[v-1]=P.slice(v*f,(v+1)*f);return w[T-1]=P.slice(T*f),w}function K(P,f,T){var w=0,v=0,b=0,a=0,H0=0,e=T.length,t=[],J0=[];for(;w<e;++w)t[w]=J0[w]=w,f[w]=T[w];for(;H0<J0.length;++H0){if(w=J0[H0],v=P[w].L,b=P[w].R,a=P[w].C,t[w]===w){if(v!==-1&&t[v]!==v)t[w]=t[v];if(b!==-1&&t[b]!==b)t[w]=t[b]}if(a!==-1)t[a]=w;if(v!==-1&&w!=t[w]){if(t[v]=t[w],J0.lastIndexOf(v)<H0)J0.push(v)}if(b!==-1&&w!=t[w]){if(t[b]=t[w],J0.lastIndexOf(b)<H0)J0.push(b)}}for(w=1;w<e;++w)if(t[w]===w){if(b!==-1&&t[b]!==b)t[w]=t[b];else if(v!==-1&&t[v]!==v)t[w]=t[v]}for(w=1;w<e;++w){if(P[w].type===0)continue;if(H0=w,H0!=t[H0])do H0=t[H0],f[w]=f[H0]+"/"+f[w];while(H0!==0&&t[H0]!==-1&&H0!=t[H0]);t[w]=-1}f[0]+="/";for(w=1;w<e;++w)if(P[w].type!==2)f[w]+="/"}function O(P,f,T){var{start:w,size:v}=P,b=[],a=w;while(T&&v>0&&a>=0)b.push(f.slice(a*k,a*k+k)),v-=k,a=SJ(T,a*4);if(b.length===0)return h5(0);return L9(b).slice(0,P.size)}function z(P,f,T,w,v){var b=l;if(P===l){if(f!==0)throw new Error("DIFAT chain shorter than expected")}else if(P!==-1){var a=T[P],H0=(w>>>2)-1;if(!a)return;for(var e=0;e<H0;++e){if((b=SJ(a,e*4))===l)break;v.push(b)}z(SJ(a,w-4),f-1,T,w,v)}}function V(P,f,T,w,v){var b=[],a=[];if(!v)v=[];var H0=w-1,e=0,t=0;for(e=f;e>=0;){v[e]=!0,b[b.length]=e,a.push(P[e]);var J0=T[Math.floor(e*4/w)];if(t=e*4&H0,w<4+t)throw new Error("FAT boundary crossed: "+e+" 4 "+w);if(!P[J0])break;e=SJ(P[J0],t)}return{nodes:b,data:SE([a])}}function L(P,f,T,w){var v=P.length,b=[],a=[],H0=[],e=[],t=w-1,J0=0,K0=0,F0=0,w0=0;for(J0=0;J0<v;++J0){if(H0=[],F0=J0+f,F0>=v)F0-=v;if(a[F0])continue;e=[];var E0=[];for(K0=F0;K0>=0;){E0[K0]=!0,a[K0]=!0,H0[H0.length]=K0,e.push(P[K0]);var j0=T[Math.floor(K0*4/w)];if(w0=K0*4&t,w<4+w0)throw new Error("FAT boundary crossed: "+K0+" 4 "+w);if(!P[j0])break;if(K0=SJ(P[j0],w0),E0[K0])break}b[F0]={nodes:H0,data:SE([e])}}return b}function S(P,f,T,w,v,b,a,H0){var e=0,t=w.length?2:0,J0=f[P].data,K0=0,F0=0,w0;for(;K0<J0.length;K0+=128){var E0=J0.slice(K0,K0+128);S2(E0,64),F0=E0.read_shift(2),w0=dG(E0,0,F0-t),w.push(w0);var j0={name:w0,type:E0.read_shift(1),color:E0.read_shift(1),L:E0.read_shift(4,"i"),R:E0.read_shift(4,"i"),C:E0.read_shift(4,"i"),clsid:E0.read_shift(16),state:E0.read_shift(4,"i"),start:0,size:0},i0=E0.read_shift(2)+E0.read_shift(2)+E0.read_shift(2)+E0.read_shift(2);if(i0!==0)j0.ct=g(E0,E0.l-8);var t1=E0.read_shift(2)+E0.read_shift(2)+E0.read_shift(2)+E0.read_shift(2);if(t1!==0)j0.mt=g(E0,E0.l-8);if(j0.start=E0.read_shift(4,"i"),j0.size=E0.read_shift(4,"i"),j0.size<0&&j0.start<0)j0.size=j0.type=0,j0.start=l,j0.name="";if(j0.type===5){if(e=j0.start,v>0&&e!==l)f[e].name="!StreamData"}else if(j0.size>=4096){if(j0.storage="fat",f[j0.start]===void 0)f[j0.start]=V(T,j0.start,f.fat_addrs,f.ssz);f[j0.start].name=j0.name,j0.content=f[j0.start].data.slice(0,j0.size)}else if(j0.storage="minifat",j0.size<0)j0.size=0;else if(e!==l&&j0.start!==l&&f[e])j0.content=O(j0,f[e].data,(f[H0]||{}).data);if(j0.content)S2(j0.content,0);b[w0]=j0,a.push(j0)}}function g(P,f){return new Date((H2(P,f+4)/1e7*Math.pow(2,32)+H2(P,f)/1e7-11644473600)*1000)}function d(P,f){return B(),A(U.readFileSync(P),f)}function I(P,f){var T=f&&f.type;if(!T){if(K1&&Buffer.isBuffer(P))T="buffer"}switch(T||"base64"){case"file":return d(P,f);case"base64":return A(s6(h8(P)),f);case"binary":return A(s6(P),f)}return A(P,f)}function F(P,f){var T=f||{},w=T.root||"Root Entry";if(!P.FullPaths)P.FullPaths=[];if(!P.FileIndex)P.FileIndex=[];if(P.FullPaths.length!==P.FileIndex.length)throw new Error("inconsistent CFB structure");if(P.FullPaths.length===0)P.FullPaths[0]=w+"/",P.FileIndex[0]={name:w,type:5};if(T.CLSID)P.FileIndex[0].clsid=T.CLSID;R(P)}function R(P){var f="\x01Sh33tJ5";if(F1.find(P,"/"+f))return;var T=h5(4);T[0]=55,T[1]=T[3]=50,T[2]=54,P.FileIndex.push({name:f,type:2,content:T,size:4,L:69,R:69,C:69}),P.FullPaths.push(P.FullPaths[0]+f),j(P)}function j(P,f){F(P);var T=!1,w=!1;for(var v=P.FullPaths.length-1;v>=0;--v){var b=P.FileIndex[v];switch(b.type){case 0:if(w)T=!0;else P.FileIndex.pop(),P.FullPaths.pop();break;case 1:case 2:case 5:if(w=!0,isNaN(b.R*b.L*b.C))T=!0;if(b.R>-1&&b.L>-1&&b.R==b.L)T=!0;break;default:T=!0;break}}if(!T&&!f)return;var a=new Date(1987,1,19),H0=0,e=Object.create?Object.create(null):{},t=[];for(v=0;v<P.FullPaths.length;++v){if(e[P.FullPaths[v]]=!0,P.FileIndex[v].type===0)continue;t.push([P.FullPaths[v],P.FileIndex[v]])}for(v=0;v<t.length;++v){var J0=Q(t[v][0]);if(w=e[J0],!w)t.push([J0,{name:X(J0).replace("/",""),type:1,clsid:Z0,ct:a,mt:a,content:null}]),e[J0]=!0}t.sort(function(w0,E0){return W(w0[0],E0[0])}),P.FullPaths=[],P.FileIndex=[];for(v=0;v<t.length;++v)P.FullPaths[v]=t[v][0],P.FileIndex[v]=t[v][1];for(v=0;v<t.length;++v){var K0=P.FileIndex[v],F0=P.FullPaths[v];if(K0.name=X(F0).replace("/",""),K0.L=K0.R=K0.C=-(K0.color=1),K0.size=K0.content?K0.content.length:0,K0.start=0,K0.clsid=K0.clsid||Z0,v===0)K0.C=t.length>1?1:-1,K0.size=0,K0.type=5;else if(F0.slice(-1)=="/"){for(H0=v+1;H0<t.length;++H0)if(Q(P.FullPaths[H0])==F0)break;K0.C=H0>=t.length?-1:H0;for(H0=v+1;H0<t.length;++H0)if(Q(P.FullPaths[H0])==Q(F0))break;K0.R=H0>=t.length?-1:H0,K0.type=1}else{if(Q(P.FullPaths[v+1]||"")==Q(F0))K0.R=v+1;K0.type=2}}}function x(P,f){var T=f||{};if(T.fileType=="mad")return NI(P,T);switch(j(P),T.fileType){case"zip":return XI(P,T)}var w=function(w0){var E0=0,j0=0;for(var i0=0;i0<w0.FileIndex.length;++i0){var t1=w0.FileIndex[i0];if(!t1.content)continue;var $8=t1.content.length;if($8>0)if($8<4096)E0+=$8+63>>6;else j0+=$8+511>>9}var x5=w0.FullPaths.length+3>>2,E8=E0+7>>3,oW=E0+127>>7,rW=E8+j0+x5+oW,h9=rW+127>>7,RH=h9<=109?0:Math.ceil((h9-109)/127);while(rW+h9+RH+127>>7>h9)RH=++h9<=109?0:Math.ceil((h9-109)/127);var b4=[1,RH,h9,oW,x5,j0,E0,0];return w0.FileIndex[0].size=E0<<6,b4[7]=(w0.FileIndex[0].start=b4[0]+b4[1]+b4[2]+b4[3]+b4[4]+b4[5])+(b4[6]+7>>3),b4}(P),v=h5(w[7]<<9),b=0,a=0;{for(b=0;b<8;++b)v.write_shift(1,r[b]);for(b=0;b<8;++b)v.write_shift(2,0);v.write_shift(2,62),v.write_shift(2,3),v.write_shift(2,65534),v.write_shift(2,9),v.write_shift(2,6);for(b=0;b<3;++b)v.write_shift(2,0);v.write_shift(4,0),v.write_shift(4,w[2]),v.write_shift(4,w[0]+w[1]+w[2]+w[3]-1),v.write_shift(4,0),v.write_shift(4,4096),v.write_shift(4,w[3]?w[0]+w[1]+w[2]-1:l),v.write_shift(4,w[3]),v.write_shift(-4,w[1]?w[0]-1:l),v.write_shift(4,w[1]);for(b=0;b<109;++b)v.write_shift(-4,b<w[2]?w[1]+b:-1)}if(w[1])for(a=0;a<w[1];++a){for(;b<236+a*127;++b)v.write_shift(-4,b<w[2]?w[1]+b:-1);v.write_shift(-4,a===w[1]-1?l:a+1)}var H0=function(w0){for(a+=w0;b<a-1;++b)v.write_shift(-4,b+1);if(w0)++b,v.write_shift(-4,l)};a=b=0;for(a+=w[1];b<a;++b)v.write_shift(-4,C0.DIFSECT);for(a+=w[2];b<a;++b)v.write_shift(-4,C0.FATSECT);H0(w[3]),H0(w[4]);var e=0,t=0,J0=P.FileIndex[0];for(;e<P.FileIndex.length;++e){if(J0=P.FileIndex[e],!J0.content)continue;if(t=J0.content.length,t<4096)continue;J0.start=a,H0(t+511>>9)}H0(w[6]+7>>3);while(v.l&511)v.write_shift(-4,C0.ENDOFCHAIN);a=b=0;for(e=0;e<P.FileIndex.length;++e){if(J0=P.FileIndex[e],!J0.content)continue;if(t=J0.content.length,!t||t>=4096)continue;J0.start=a,H0(t+63>>6)}while(v.l&511)v.write_shift(-4,C0.ENDOFCHAIN);for(b=0;b<w[4]<<2;++b){var K0=P.FullPaths[b];if(!K0||K0.length===0){for(e=0;e<17;++e)v.write_shift(4,0);for(e=0;e<3;++e)v.write_shift(4,-1);for(e=0;e<12;++e)v.write_shift(4,0);continue}if(J0=P.FileIndex[b],b===0)J0.start=J0.size?J0.start-1:l;var F0=b===0&&T.root||J0.name;if(t=2*(F0.length+1),v.write_shift(64,F0,"utf16le"),v.write_shift(2,t),v.write_shift(1,J0.type),v.write_shift(1,J0.color),v.write_shift(-4,J0.L),v.write_shift(-4,J0.R),v.write_shift(-4,J0.C),!J0.clsid)for(e=0;e<4;++e)v.write_shift(4,0);else v.write_shift(16,J0.clsid,"hex");v.write_shift(4,J0.state||0),v.write_shift(4,0),v.write_shift(4,0),v.write_shift(4,0),v.write_shift(4,0),v.write_shift(4,J0.start),v.write_shift(4,J0.size),v.write_shift(4,0)}for(b=1;b<P.FileIndex.length;++b)if(J0=P.FileIndex[b],J0.size>=4096)if(v.l=J0.start+1<<9,K1&&Buffer.isBuffer(J0.content))J0.content.copy(v,v.l,0,J0.size),v.l+=J0.size+511&-512;else{for(e=0;e<J0.size;++e)v.write_shift(1,J0.content[e]);for(;e&511;++e)v.write_shift(1,0)}for(b=1;b<P.FileIndex.length;++b)if(J0=P.FileIndex[b],J0.size>0&&J0.size<4096)if(K1&&Buffer.isBuffer(J0.content))J0.content.copy(v,v.l,0,J0.size),v.l+=J0.size+63&-64;else{for(e=0;e<J0.size;++e)v.write_shift(1,J0.content[e]);for(;e&63;++e)v.write_shift(1,0)}if(K1)v.l=v.length;else while(v.l<v.length)v.write_shift(1,0);return v}function _(P,f){var T=P.FullPaths.map(function(e){return e.toUpperCase()}),w=T.map(function(e){var t=e.split("/");return t[t.length-(e.slice(-1)=="/"?2:1)]}),v=!1;if(f.charCodeAt(0)===47)v=!0,f=T[0].slice(0,-1)+f;else v=f.indexOf("/")!==-1;var b=f.toUpperCase(),a=v===!0?T.indexOf(b):w.indexOf(b);if(a!==-1)return P.FileIndex[a];var H0=!b.match(k$);if(b=b.replace(b2,""),H0)b=b.replace(k$,"!");for(a=0;a<T.length;++a){if((H0?T[a].replace(k$,"!"):T[a]).replace(b2,"")==b)return P.FileIndex[a];if((H0?w[a].replace(k$,"!"):w[a]).replace(b2,"")==b)return P.FileIndex[a]}return null}var k=64,l=-2,q0="d0cf11e0a1b11ae1",r=[208,207,17,224,161,177,26,225],Z0="00000000000000000000000000000000",C0={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:l,FREESECT:-1,HEADER_SIGNATURE:q0,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Z0,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function r0(P,f,T){B();var w=x(P,T);U.writeFileSync(f,w)}function L0(P){var f=new Array(P.length);for(var T=0;T<P.length;++T)f[T]=String.fromCharCode(P[T]);return f.join("")}function _0(P,f){var T=x(P,f);switch(f&&f.type||"buffer"){case"file":return B(),U.writeFileSync(f.filename,T),T;case"binary":return typeof T=="string"?T:L0(T);case"base64":return YE(typeof T=="string"?T:L0(T));case"buffer":if(K1)return Buffer.isBuffer(T)?T:IJ(T);case"array":return typeof T=="string"?s6(T):T}return T}var Q0;function h(P){try{var f=P.InflateRaw,T=new f;if(T._processChunk(new Uint8Array([3,0]),T._finishFlushFlag),T.bytesRead)Q0=P;else throw new Error("zlib does not expose bytesRead")}catch(w){console.error("cannot use native zlib: "+(w.message||w))}}function o(P,f){if(!Q0)return sq(P,f);var T=Q0.InflateRaw,w=new T,v=w._processChunk(P.slice(P.l),w._finishFlushFlag);return P.l+=w.bytesRead,v}function c(P){return Q0?Q0.deflateRawSync(P):Q1(P)}var m=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U0=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],I0=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function z0(P){var f=(P<<1|P<<11)&139536|(P<<5|P<<15)&558144;return(f>>16|f>>8|f)&255}var s=typeof Uint8Array!=="undefined",i=s?new Uint8Array(256):[];for(var C=0;C<256;++C)i[C]=z0(C);function E(P,f){var T=i[P&255];if(f<=8)return T>>>8-f;if(T=T<<8|i[P>>8&255],f<=16)return T>>>16-f;return T=T<<8|i[P>>16&255],T>>>24-f}function y(P,f){var T=f&7,w=f>>>3;return(P[w]|(T<=6?0:P[w+1]<<8))>>>T&3}function G0(P,f){var T=f&7,w=f>>>3;return(P[w]|(T<=5?0:P[w+1]<<8))>>>T&7}function N0(P,f){var T=f&7,w=f>>>3;return(P[w]|(T<=4?0:P[w+1]<<8))>>>T&15}function B0(P,f){var T=f&7,w=f>>>3;return(P[w]|(T<=3?0:P[w+1]<<8))>>>T&31}function A0(P,f){var T=f&7,w=f>>>3;return(P[w]|(T<=1?0:P[w+1]<<8))>>>T&127}function c0(P,f,T){var w=f&7,v=f>>>3,b=(1<<T)-1,a=P[v]>>>w;if(T<8-w)return a&b;if(a|=P[v+1]<<8-w,T<16-w)return a&b;if(a|=P[v+2]<<16-w,T<24-w)return a&b;return a|=P[v+3]<<24-w,a&b}function k1(P,f,T){var w=f&7,v=f>>>3;if(w<=5)P[v]|=(T&7)<<w;else P[v]|=T<<w&255,P[v+1]=(T&7)>>8-w;return f+3}function h1(P,f,T){var w=f&7,v=f>>>3;return T=(T&1)<<w,P[v]|=T,f+1}function q5(P,f,T){var w=f&7,v=f>>>3;return T<<=w,P[v]|=T&255,T>>>=8,P[v+1]=T,f+8}function u2(P,f,T){var w=f&7,v=f>>>3;return T<<=w,P[v]|=T&255,T>>>=8,P[v+1]=T&255,P[v+2]=T>>>8,f+16}function $4(P,f){var T=P.length,w=2*T>f?2*T:f+5,v=0;if(T>=f)return P;if(K1){var b=WE(w);if(P.copy)P.copy(b);else for(;v<P.length;++v)b[v]=P[v];return b}else if(s){var a=new Uint8Array(w);if(a.set)a.set(P);else for(;v<T;++v)a[v]=P[v];return a}return P.length=w,P}function p2(P){var f=new Array(P);for(var T=0;T<P;++T)f[T]=0;return f}function v4(P,f,T){var w=1,v=0,b=0,a=0,H0=0,e=P.length,t=s?new Uint16Array(32):p2(32);for(b=0;b<32;++b)t[b]=0;for(b=e;b<T;++b)P[b]=0;e=P.length;var J0=s?new Uint16Array(e):p2(e);for(b=0;b<e;++b){if(t[v=P[b]]++,w<v)w=v;J0[b]=0}t[0]=0;for(b=1;b<=w;++b)t[b+16]=H0=H0+t[b-1]<<1;for(b=0;b<e;++b)if(H0=P[b],H0!=0)J0[b]=t[H0+16]++;var K0=0;for(b=0;b<e;++b)if(K0=P[b],K0!=0){H0=E(J0[b],w)>>w-K0;for(a=(1<<w+4-K0)-1;a>=0;--a)f[H0|a<<K0]=K0&15|b<<4}return w}var x7=s?new Uint16Array(512):p2(512),lW=s?new Uint16Array(32):p2(32);if(!s){for(var n2=0;n2<512;++n2)x7[n2]=0;for(n2=0;n2<32;++n2)lW[n2]=0}(function(){var P=[],f=0;for(;f<32;f++)P.push(5);v4(P,lW,32);var T=[];f=0;for(;f<=143;f++)T.push(8);for(;f<=255;f++)T.push(9);for(;f<=279;f++)T.push(7);for(;f<=287;f++)T.push(8);v4(T,x7,288)})();var X4=function P(){var f=s?new Uint8Array(32768):[],T=0,w=0;for(;T<I0.length-1;++T)for(;w<I0[T+1];++w)f[w]=T;for(;w<32768;++w)f[w]=29;var v=s?new Uint8Array(259):[];for(T=0,w=0;T<U0.length-1;++T)for(;w<U0[T+1];++w)v[w]=T;function b(H0,e){var t=0;while(t<H0.length){var J0=Math.min(65535,H0.length-t),K0=t+J0==H0.length;e.write_shift(1,+K0),e.write_shift(2,J0),e.write_shift(2,~J0&65535);while(J0-- >0)e[e.l++]=H0[t++]}return e.l}function a(H0,e){var t=0,J0=0,K0=s?new Uint16Array(32768):[];while(J0<H0.length){var F0=Math.min(65535,H0.length-J0);if(F0<10){if(t=k1(e,t,+(J0+F0==H0.length)),t&7)t+=8-(t&7);e.l=t/8|0,e.write_shift(2,F0),e.write_shift(2,~F0&65535);while(F0-- >0)e[e.l++]=H0[J0++];t=e.l*8;continue}t=k1(e,t,+(J0+F0==H0.length)+2);var w0=0;while(F0-- >0){var E0=H0[J0];w0=(w0<<5^E0)&32767;var j0=-1,i0=0;if(j0=K0[w0]){if(j0|=J0&-32768,j0>J0)j0-=32768;if(j0<J0)while(H0[j0+i0]==H0[J0+i0]&&i0<250)++i0}if(i0>2){if(E0=v[i0],E0<=22)t=q5(e,t,i[E0+1]>>1)-1;else q5(e,t,3),t+=5,q5(e,t,i[E0-23]>>5),t+=3;var t1=E0<8?0:E0-4>>2;if(t1>0)u2(e,t,i0-U0[E0]),t+=t1;E0=f[J0-j0],t=q5(e,t,i[E0]>>3),t-=3;var $8=E0<4?0:E0-2>>1;if($8>0)u2(e,t,J0-j0-I0[E0]),t+=$8;for(var x5=0;x5<i0;++x5)K0[w0]=J0&32767,w0=(w0<<5^H0[J0])&32767,++J0;F0-=i0-1}else{if(E0<=143)E0=E0+48;else t=h1(e,t,1);t=q5(e,t,i[E0]),K0[w0]=J0&32767,++J0}}t=q5(e,t,0)-1}return e.l=(t+7)/8|0,e.l}return function H0(e,t){if(e.length<8)return b(e,t);return a(e,t)}}();function Q1(P){var f=h5(50+Math.floor(P.length*1.1)),T=X4(P,f);return f.slice(0,T)}var P5=s?new Uint16Array(32768):p2(32768),n8=s?new Uint16Array(32768):p2(32768),i5=s?new Uint16Array(128):p2(128),b9=1,aq=1;function WI(P,f){var T=B0(P,f)+257;f+=5;var w=B0(P,f)+1;f+=5;var v=N0(P,f)+4;f+=4;var b=0,a=s?new Uint8Array(19):p2(19),H0=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=1,t=s?new Uint8Array(8):p2(8),J0=s?new Uint8Array(8):p2(8),K0=a.length;for(var F0=0;F0<v;++F0){if(a[m[F0]]=b=G0(P,f),e<b)e=b;t[b]++,f+=3}var w0=0;t[0]=0;for(F0=1;F0<=e;++F0)J0[F0]=w0=w0+t[F0-1]<<1;for(F0=0;F0<K0;++F0)if((w0=a[F0])!=0)H0[F0]=J0[w0]++;var E0=0;for(F0=0;F0<K0;++F0)if(E0=a[F0],E0!=0){w0=i[H0[F0]]>>8-E0;for(var j0=(1<<7-E0)-1;j0>=0;--j0)i5[w0|j0<<E0]=E0&7|F0<<3}var i0=[];e=1;for(;i0.length<T+w;)switch(w0=i5[A0(P,f)],f+=w0&7,w0>>>=3){case 16:b=3+y(P,f),f+=2,w0=i0[i0.length-1];while(b-- >0)i0.push(w0);break;case 17:b=3+G0(P,f),f+=3;while(b-- >0)i0.push(0);break;case 18:b=11+A0(P,f),f+=7;while(b-- >0)i0.push(0);break;default:if(i0.push(w0),e<w0)e=w0;break}var t1=i0.slice(0,T),$8=i0.slice(T);for(F0=T;F0<286;++F0)t1[F0]=0;for(F0=w;F0<30;++F0)$8[F0]=0;return b9=v4(t1,P5,286),aq=v4($8,n8,30),f}function QI(P,f){if(P[0]==3&&!(P[1]&3))return[E9(f),2];var T=0,w=0,v=WE(f?f:262144),b=0,a=v.length>>>0,H0=0,e=0;while((w&1)==0){if(w=G0(P,T),T+=3,w>>>1==0){if(T&7)T+=8-(T&7);var t=P[T>>>3]|P[(T>>>3)+1]<<8;if(T+=32,t>0){if(!f&&a<b+t)v=$4(v,b+t),a=v.length;while(t-- >0)v[b++]=P[T>>>3],T+=8}continue}else if(w>>1==1)H0=9,e=5;else T=WI(P,T),H0=b9,e=aq;for(;;){if(!f&&a<b+32767)v=$4(v,b+32767),a=v.length;var J0=c0(P,T,H0),K0=w>>>1==1?x7[J0]:P5[J0];if(T+=K0&15,K0>>>=4,(K0>>>8&255)===0)v[b++]=K0;else if(K0==256)break;else{K0-=257;var F0=K0<8?0:K0-4>>2;if(F0>5)F0=0;var w0=b+U0[K0];if(F0>0)w0+=c0(P,T,F0),T+=F0;J0=c0(P,T,e),K0=w>>>1==1?lW[J0]:n8[J0],T+=K0&15,K0>>>=4;var E0=K0<4?0:K0-2>>1,j0=I0[K0];if(E0>0)j0+=c0(P,T,E0),T+=E0;if(!f&&a<w0)v=$4(v,w0+100),a=v.length;while(b<w0)v[b]=v[b-j0],++b}}}if(f)return[v,T+7>>>3];return[v.slice(0,b),T+7>>>3]}function sq(P,f){var T=P.slice(P.l||0),w=QI(T,f);return P.l+=w[1],w[0]}function tq(P,f){if(P){if(typeof console!=="undefined")console.error(f)}else throw new Error(f)}function eq(P,f){var T=P;S2(T,0);var w=[],v=[],b={FileIndex:w,FullPaths:v};F(b,{root:f.root});var a=T.length-4;while((T[a]!=80||T[a+1]!=75||T[a+2]!=5||T[a+3]!=6)&&a>=0)--a;T.l=a+4,T.l+=4;var H0=T.read_shift(2);T.l+=6;var e=T.read_shift(4);T.l=e;for(a=0;a<H0;++a){T.l+=20;var t=T.read_shift(4),J0=T.read_shift(4),K0=T.read_shift(2),F0=T.read_shift(2),w0=T.read_shift(2);T.l+=8;var E0=T.read_shift(4),j0=H(T.slice(T.l+K0,T.l+K0+F0));T.l+=K0+F0+w0;var i0=T.l;T.l=E0+4,$I(T,t,J0,b,j0),T.l=i0}return b}function $I(P,f,T,w,v){P.l+=2;var b=P.read_shift(2),a=P.read_shift(2),H0=G(P);if(b&8257)throw new Error("Unsupported ZIP encryption");var e=P.read_shift(4),t=P.read_shift(4),J0=P.read_shift(4),K0=P.read_shift(2),F0=P.read_shift(2),w0="";for(var E0=0;E0<K0;++E0)w0+=String.fromCharCode(P[P.l++]);if(F0){var j0=H(P.slice(P.l,P.l+F0));if((j0[21589]||{}).mt)H0=j0[21589].mt;if(((v||{})[21589]||{}).mt)H0=v[21589].mt}P.l+=F0;var i0=P.slice(P.l,P.l+t);switch(a){case 8:i0=o(P,J0);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+a)}var t1=!1;if(b&8){if(e=P.read_shift(4),e==134695760)e=P.read_shift(4),t1=!0;t=P.read_shift(4),J0=P.read_shift(4)}if(t!=f)tq(t1,"Bad compressed size: "+f+" != "+t);if(J0!=T)tq(t1,"Bad uncompressed size: "+T+" != "+J0);IH(w,w0,i0,{unsafe:!0,mt:H0})}function XI(P,f){var T=f||{},w=[],v=[],b=h5(1),a=T.compression?8:0,H0=0,e=!1;if(e)H0|=8;var t=0,J0=0,K0=0,F0=0,w0=P.FullPaths[0],E0=w0,j0=P.FileIndex[0],i0=[],t1=0;for(t=1;t<P.FullPaths.length;++t){if(E0=P.FullPaths[t].slice(w0.length),j0=P.FileIndex[t],!j0.size||!j0.content||E0=="\x01Sh33tJ5")continue;var $8=K0,x5=h5(E0.length);for(J0=0;J0<E0.length;++J0)x5.write_shift(1,E0.charCodeAt(J0)&127);x5=x5.slice(0,x5.l),i0[F0]=ir.buf(j0.content,0);var E8=j0.content;if(a==8)E8=c(E8);if(b=h5(30),b.write_shift(4,67324752),b.write_shift(2,20),b.write_shift(2,H0),b.write_shift(2,a),j0.mt)M(b,j0.mt);else b.write_shift(4,0);if(b.write_shift(-4,H0&8?0:i0[F0]),b.write_shift(4,H0&8?0:E8.length),b.write_shift(4,H0&8?0:j0.content.length),b.write_shift(2,x5.length),b.write_shift(2,0),K0+=b.length,w.push(b),K0+=x5.length,w.push(x5),K0+=E8.length,w.push(E8),H0&8)b=h5(12),b.write_shift(-4,i0[F0]),b.write_shift(4,E8.length),b.write_shift(4,j0.content.length),K0+=b.l,w.push(b);b=h5(46),b.write_shift(4,33639248),b.write_shift(2,0),b.write_shift(2,20),b.write_shift(2,H0),b.write_shift(2,a),b.write_shift(4,0),b.write_shift(-4,i0[F0]),b.write_shift(4,E8.length),b.write_shift(4,j0.content.length),b.write_shift(2,x5.length),b.write_shift(2,0),b.write_shift(2,0),b.write_shift(2,0),b.write_shift(2,0),b.write_shift(4,0),b.write_shift(4,$8),t1+=b.l,v.push(b),t1+=x5.length,v.push(x5),++F0}return b=h5(22),b.write_shift(4,101010256),b.write_shift(2,0),b.write_shift(2,0),b.write_shift(2,F0),b.write_shift(2,F0),b.write_shift(4,t1),b.write_shift(4,K0),b.write_shift(2,0),L9([L9(w),L9(v),b])}var zX={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function MI(P,f){if(P.ctype)return P.ctype;var T=P.name||"",w=T.match(/\.([^\.]+)$/);if(w&&zX[w[1]])return zX[w[1]];if(f){if(w=(T=f).match(/[\.\\]([^\.\\])+$/),w&&zX[w[1]])return zX[w[1]]}return"application/octet-stream"}function GI(P){var f=YE(P),T=[];for(var w=0;w<f.length;w+=76)T.push(f.slice(w,w+76));return T.join(`\r
`)+`\r
`}function HI(P){var f=P.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(t){var J0=t.charCodeAt(0).toString(16).toUpperCase();return"="+(J0.length==1?"0"+J0:J0)});if(f=f.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),f.charAt(0)==`
`)f="=0D"+f.slice(1);f=f.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");var T=[],w=f.split(`\r
`);for(var v=0;v<w.length;++v){var b=w[v];if(b.length==0){T.push("");continue}for(var a=0;a<b.length;){var H0=76,e=b.slice(a,a+H0);if(e.charAt(H0-1)=="=")H0--;else if(e.charAt(H0-2)=="=")H0-=2;else if(e.charAt(H0-3)=="=")H0-=3;if(e=b.slice(a,a+H0),a+=H0,a<b.length)e+="=";T.push(e)}}return T.join(`\r
`)}function UI(P){var f=[];for(var T=0;T<P.length;++T){var w=P[T];while(T<=P.length&&w.charAt(w.length-1)=="=")w=w.slice(0,w.length-1)+P[++T];f.push(w)}for(var v=0;v<f.length;++v)f[v]=f[v].replace(/[=][0-9A-Fa-f]{2}/g,function(b){return String.fromCharCode(parseInt(b.slice(1),16))});return s6(f.join(`\r
`))}function BI(P,f,T){var w="",v="",b="",a,H0=0;for(;H0<10;++H0){var e=f[H0];if(!e||e.match(/^\s*$/))break;var t=e.match(/^(.*?):\s*([^\s].*)$/);if(t)switch(t[1].toLowerCase()){case"content-location":w=t[2].trim();break;case"content-type":b=t[2].trim();break;case"content-transfer-encoding":v=t[2].trim();break}}switch(++H0,v.toLowerCase()){case"base64":a=s6(h8(f.slice(H0).join("")));break;case"quoted-printable":a=UI(f.slice(H0));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+v)}var J0=IH(P,w.slice(T.length),a,{unsafe:!0});if(b)J0.ctype=b}function AI(P,f){if(L0(P.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var T=f&&f.root||"",w=(K1&&Buffer.isBuffer(P)?P.toString("binary"):L0(P)).split(`\r
`),v=0,b="";for(v=0;v<w.length;++v){if(b=w[v],!/^Content-Location:/i.test(b))continue;if(b=b.slice(b.indexOf("file")),!T)T=b.slice(0,b.lastIndexOf("/")+1);if(b.slice(0,T.length)==T)continue;while(T.length>0)if(T=T.slice(0,T.length-1),T=T.slice(0,T.lastIndexOf("/")+1),b.slice(0,T.length)==T)break}var a=(w[1]||"").match(/boundary="(.*?)"/);if(!a)throw new Error("MAD cannot find boundary");var H0="--"+(a[1]||""),e=[],t=[],J0={FileIndex:e,FullPaths:t};F(J0);var K0,F0=0;for(v=0;v<w.length;++v){var w0=w[v];if(w0!==H0&&w0!==H0+"--")continue;if(F0++)BI(J0,w.slice(K0,v),T);K0=v}return J0}function NI(P,f){var T=f||{},w=T.boundary||"SheetJS";w="------="+w;var v=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+w.slice(2)+'"',"","",""],b=P.FullPaths[0],a=b,H0=P.FileIndex[0];for(var e=1;e<P.FullPaths.length;++e){if(a=P.FullPaths[e].slice(b.length),H0=P.FileIndex[e],!H0.size||!H0.content||a=="\x01Sh33tJ5")continue;a=a.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(i0){return"_x"+i0.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(i0){return"_u"+i0.charCodeAt(0).toString(16)+"_"});var t=H0.content,J0=K1&&Buffer.isBuffer(t)?t.toString("binary"):L0(t),K0=0,F0=Math.min(1024,J0.length),w0=0;for(var E0=0;E0<=F0;++E0)if((w0=J0.charCodeAt(E0))>=32&&w0<128)++K0;var j0=K0>=F0*4/5;v.push(w),v.push("Content-Location: "+(T.root||"file:///C:/SheetJS/")+a),v.push("Content-Transfer-Encoding: "+(j0?"quoted-printable":"base64")),v.push("Content-Type: "+MI(H0,a)),v.push(""),v.push(j0?HI(J0):GI(J0))}return v.push(w+`--\r
`),v.join(`\r
`)}function qI(P){var f={};return F(f,P),f}function IH(P,f,T,w){var v=w&&w.unsafe;if(!v)F(P);var b=!v&&F1.find(P,f);if(!b){var a=P.FullPaths[0];if(f.slice(0,a.length)==a)a=f;else{if(a.slice(-1)!="/")a+="/";a=(a+f).replace("//","/")}if(b={name:X(f),type:2},P.FileIndex.push(b),P.FullPaths.push(a),!v)F1.utils.cfb_gc(P)}if(b.content=T,b.size=T?T.length:0,w){if(w.CLSID)b.clsid=w.CLSID;if(w.mt)b.mt=w.mt;if(w.ct)b.ct=w.ct}return b}function DI(P,f){F(P);var T=F1.find(P,f);if(T){for(var w=0;w<P.FileIndex.length;++w)if(P.FileIndex[w]==T)return P.FileIndex.splice(w,1),P.FullPaths.splice(w,1),!0}return!1}function ZI(P,f,T){F(P);var w=F1.find(P,f);if(w){for(var v=0;v<P.FileIndex.length;++v)if(P.FileIndex[v]==w)return P.FileIndex[v].name=X(T),P.FullPaths[v]=T,!0}return!1}function OI(P){j(P,!0)}return Y.find=_,Y.read=I,Y.parse=A,Y.write=_0,Y.writeFile=r0,Y.utils={cfb_new:qI,cfb_add:IH,cfb_del:DI,cfb_mov:ZI,cfb_gc:OI,ReadShift:y$,CheckField:y3,prep_blob:S2,bconcat:L9,use_zlib:h,_deflateRaw:Q1,_inflateRaw:sq,consts:C0},Y}(),BE=void 0;function lr(J){if(typeof BE!=="undefined")return BE.readFileSync(J);if(typeof Deno!=="undefined")return Deno.readFileSync(J);if(typeof $!=="undefined"&&typeof File!=="undefined"&&typeof Folder!=="undefined")try{var Y=File(J);Y.open("r"),Y.encoding="binary";var W=Y.read();return Y.close(),W}catch(Q){if(!Q.message||!Q.message.match(/onstruct/))throw Q}throw new Error("Cannot access file "+J)}function w4(J){var Y=Object.keys(J),W=[];for(var Q=0;Q<Y.length;++Q)if(Object.prototype.hasOwnProperty.call(J,Y[Q]))W.push(Y[Q]);return W}function NN(J){var Y=[],W=w4(J);for(var Q=0;Q!==W.length;++Q)Y[J[W[Q]]]=W[Q];return Y}var wG=new Date(1899,11,30,0,0,0);function Y8(J,Y){var W=J.getTime();if(Y)W-=126316800000;var Q=wG.getTime()+(J.getTimezoneOffset()-wG.getTimezoneOffset())*60000;return(W-Q)/86400000}var z3=new Date,or=wG.getTime()+(z3.getTimezoneOffset()-wG.getTimezoneOffset())*60000,AE=z3.getTimezoneOffset();function mG(J){var Y=new Date;if(Y.setTime(J*24*60*60*1000+or),Y.getTimezoneOffset()!==AE)Y.setTime(Y.getTime()+(Y.getTimezoneOffset()-AE)*60000);return Y}function rr(J){var Y=0,W=0,Q=!1,X=J.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!X)throw new Error("|"+J+"| is not an ISO8601 Duration");for(var M=1;M!=X.length;++M){if(!X[M])continue;if(W=1,M>3)Q=!0;switch(X[M].slice(X[M].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+X[M].slice(X[M].length-1));case"D":W*=24;case"H":W*=60;case"M":if(!Q)throw new Error("Unsupported ISO Duration Field: M");else W*=60;case"S":break}Y+=W*parseInt(X[M],10)}return Y}var NE=new Date("2017-02-19T19:06:09.000Z"),L3=isNaN(NE.getFullYear())?new Date("2/19/17"):NE,ar=L3.getFullYear()==2017;function U2(J,Y){var W=new Date(J);if(ar){if(Y>0)W.setTime(W.getTime()+W.getTimezoneOffset()*60*1000);else if(Y<0)W.setTime(W.getTime()-W.getTimezoneOffset()*60*1000);return W}if(J instanceof Date)return J;if(L3.getFullYear()==1917&&!isNaN(W.getFullYear())){var Q=W.getFullYear();if(J.indexOf(""+Q)>-1)return W;return W.setFullYear(W.getFullYear()+100),W}var X=J.match(/\d+/g)||["2017","2","19","0","0","0"],M=new Date(+X[0],+X[1]-1,+X[2],+X[3]||0,+X[4]||0,+X[5]||0);if(J.indexOf("Z")>-1)M=new Date(M.getTime()-M.getTimezoneOffset()*60*1000);return M}function PJ(J,Y){if(K1&&Buffer.isBuffer(J)){if(Y){if(J[0]==255&&J[1]==254)return g$(J.slice(2).toString("utf16le"));if(J[1]==254&&J[2]==255)return g$(X3(J.slice(2).toString("binary")))}return J.toString("binary")}if(typeof TextDecoder!=="undefined")try{if(Y){if(J[0]==255&&J[1]==254)return g$(new TextDecoder("utf-16le").decode(J.slice(2)));if(J[0]==254&&J[1]==255)return g$(new TextDecoder("utf-16be").decode(J.slice(2)))}var W={"\u20AC":"\x80","\u201A":"\x82","\u0192":"\x83","\u201E":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02C6":"\x88","\u2030":"\x89","\u0160":"\x8A","\u2039":"\x8B","\u0152":"\x8C","\u017D":"\x8E","\u2018":"\x91","\u2019":"\x92","\u201C":"\x93","\u201D":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02DC":"\x98","\u2122":"\x99","\u0161":"\x9A","\u203A":"\x9B","\u0153":"\x9C","\u017E":"\x9E","\u0178":"\x9F"};if(Array.isArray(J))J=new Uint8Array(J);return new TextDecoder("latin1").decode(J).replace(/[\u20AC\u201A\u0192\u201E\u2026\u2020\u2021\u02C6\u2030\u0160\u2039\u0152\u017D\u2018\u2019\u201C\u201D\u2022\u2013\u2014\u02DC\u2122\u0161\u203A\u0153\u017E\u0178]/g,function(M){return W[M]||M})}catch(M){}var Q=[];for(var X=0;X!=J.length;++X)Q.push(String.fromCharCode(J[X]));return Q.join("")}function V2(J){if(typeof JSON!="undefined"&&!Array.isArray(J))return JSON.parse(JSON.stringify(J));if(typeof J!="object"||J==null)return J;if(J instanceof Date)return new Date(J.getTime());var Y={};for(var W in J)if(Object.prototype.hasOwnProperty.call(J,W))Y[W]=V2(J[W]);return Y}function F5(J,Y){var W="";while(W.length<Y)W+=J;return W}function J4(J){var Y=Number(J);if(!isNaN(Y))return isFinite(Y)?Y:NaN;if(!/\d/.test(J))return Y;var W=1,Q=J.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return W*=100,""});if(!isNaN(Y=Number(Q)))return Y/W;if(Q=Q.replace(/[(](.*)[)]/,function(X,M){return W=-W,M}),!isNaN(Y=Number(Q)))return Y/W;return Y}var sr=["january","february","march","april","may","june","july","august","september","october","november","december"];function zW(J){var Y=new Date(J),W=new Date(NaN),Q=Y.getYear(),X=Y.getMonth(),M=Y.getDate();if(isNaN(M))return W;var G=J.toLowerCase();if(G.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(G=G.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),G.length>3&&sr.indexOf(G)==-1)return W}else if(G.match(/[a-z]/))return W;if(Q<0||Q>8099)return W;if((X>0||M>1)&&Q!=101)return Y;if(J.match(/[^-0-9:,\/\\]/))return W;return Y}var tr=function(){var J="abacaba".split(/(:?b)/i).length==5;return function Y(W,Q,X){if(J||typeof Q=="string")return W.split(Q);var M=W.split(Q),G=[M[0]];for(var H=1;H<M.length;++H)G.push(X),G.push(M[H]);return G}}();function S3(J){if(!J)return null;if(J.content&&J.type)return PJ(J.content,!0);if(J.data)return w$(J.data);if(J.asNodeBuffer&&K1)return w$(J.asNodeBuffer().toString("binary"));if(J.asBinary)return w$(J.asBinary());if(J._data&&J._data.getContent)return w$(PJ(Array.prototype.slice.call(J._data.getContent(),0)));return null}function V3(J){if(!J)return null;if(J.data)return aA(J.data);if(J.asNodeBuffer&&K1)return J.asNodeBuffer();if(J._data&&J._data.getContent){var Y=J._data.getContent();if(typeof Y=="string")return aA(Y);return Array.prototype.slice.call(Y)}if(J.content&&J.type)return J.content;return null}function er(J){return J&&J.name.slice(-4)===".bin"?V3(J):S3(J)}function U6(J,Y){var W=J.FullPaths||w4(J.files),Q=Y.toLowerCase().replace(/[\/]/g,"\\"),X=Q.replace(/\\/g,"/");for(var M=0;M<W.length;++M){var G=W[M].replace(/^Root Entry[\/]/,"").toLowerCase();if(Q==G||X==G)return J.files?J.files[W[M]]:J.FileIndex[M]}return null}function qN(J,Y){var W=U6(J,Y);if(W==null)throw new Error("Cannot find file "+Y+" in zip");return W}function v5(J,Y,W){if(!W)return er(qN(J,Y));if(!Y)return null;try{return v5(J,Y)}catch(Q){return null}}function b8(J,Y,W){if(!W)return S3(qN(J,Y));if(!Y)return null;try{return b8(J,Y)}catch(Q){return null}}function F3(J,Y,W){if(!W)return V3(qN(J,Y));if(!Y)return null;try{return F3(J,Y)}catch(Q){return null}}function qE(J){var Y=J.FullPaths||w4(J.files),W=[];for(var Q=0;Q<Y.length;++Q)if(Y[Q].slice(-1)!="/")W.push(Y[Q].replace(/^Root Entry[\/]/,""));return W.sort()}function Ja(J,Y,W){if(J.FullPaths){if(typeof W=="string"){var Q;if(K1)Q=IJ(W);else Q=Sr(W);return F1.utils.cfb_add(J,Y,Q)}F1.utils.cfb_add(J,Y,W)}else J.file(Y,W)}function E3(J,Y){switch(Y.type){case"base64":return F1.read(J,{type:"base64"});case"binary":return F1.read(J,{type:"binary"});case"buffer":case"array":return F1.read(J,{type:"buffer"})}throw new Error("Unrecognized type "+Y.type)}function x$(J,Y){if(J.charAt(0)=="/")return J.slice(1);var W=Y.split("/");if(Y.slice(-1)!="/")W.pop();var Q=J.split("/");while(Q.length!==0){var X=Q.shift();if(X==="..")W.pop();else if(X!==".")W.push(X)}return W.join("/")}var j3=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Ya=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,DE=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Wa=/<[^>]*>/g,d2=j3.match(DE)?DE:Wa,Qa=/<\w*:/,$a=/<(\/?)\w+:/;function p0(J,Y,W){var Q={},X=0,M=0;for(;X!==J.length;++X)if((M=J.charCodeAt(X))===32||M===10||M===13)break;if(!Y)Q[0]=J.slice(0,X);if(X===J.length)return Q;var G=J.match(Ya),H=0,U="",B=0,A="",N="",D=1;if(G)for(B=0;B!=G.length;++B){N=G[B];for(M=0;M!=N.length;++M)if(N.charCodeAt(M)===61)break;A=N.slice(0,M).trim();while(N.charCodeAt(M+1)==32)++M;D=(X=N.charCodeAt(M+1))==34||X==39?1:0,U=N.slice(M+1+D,N.length-D);for(H=0;H!=A.length;++H)if(A.charCodeAt(H)===58)break;if(H===A.length){if(A.indexOf("_")>0)A=A.slice(0,A.indexOf("_"));if(Q[A]=U,!W)Q[A.toLowerCase()]=U}else{var q=(H===5&&A.slice(0,5)==="xmlns"?"xmlns":"")+A.slice(H+1);if(Q[q]&&A.slice(H-3,H)=="ext")continue;if(Q[q]=U,!W)Q[q.toLowerCase()]=U}}return Q}function k4(J){return J.replace($a,"<$1")}var P3={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Xa=NN(P3),I1=function(){var J=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,Y=/_x([\da-fA-F]{4})_/ig;return function W(Q){var X=Q+"",M=X.indexOf("<![CDATA[");if(M==-1)return X.replace(J,function(H,U){return P3[H]||String.fromCharCode(parseInt(U,H.indexOf("x")>-1?16:10))||H}).replace(Y,function(H,U){return String.fromCharCode(parseInt(U,16))});var G=X.indexOf("]]>");return W(X.slice(0,M))+X.slice(M+9,G)+W(X.slice(G+3))}}(),Ma=/[&<>'"]/g;var Ga=/[\u0000-\u001f]/g;function DN(J){var Y=J+"";return Y.replace(Ma,function(W){return Xa[W]}).replace(/\n/g,"<br/>").replace(Ga,function(W){return"&#x"+("000"+W.charCodeAt(0).toString(16)).slice(-4)+";"})}var ZE=function(){var J=/&#(\d+);/g;function Y(W,Q){return String.fromCharCode(parseInt(Q,10))}return function W(Q){return Q.replace(J,Y)}}();function A5(J){switch(J){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function dA(J){var Y="",W=0,Q=0,X=0,M=0,G=0,H=0;while(W<J.length){if(Q=J.charCodeAt(W++),Q<128){Y+=String.fromCharCode(Q);continue}if(X=J.charCodeAt(W++),Q>191&&Q<224){G=(Q&31)<<6,G|=X&63,Y+=String.fromCharCode(G);continue}if(M=J.charCodeAt(W++),Q<240){Y+=String.fromCharCode((Q&15)<<12|(X&63)<<6|M&63);continue}G=J.charCodeAt(W++),H=((Q&7)<<18|(X&63)<<12|(M&63)<<6|G&63)-65536,Y+=String.fromCharCode(55296+(H>>>10&1023)),Y+=String.fromCharCode(56320+(H&1023))}return Y}function OE(J){var Y=E9(2*J.length),W,Q,X=1,M=0,G=0,H;for(Q=0;Q<J.length;Q+=X){if(X=1,(H=J.charCodeAt(Q))<128)W=H;else if(H<224)W=(H&31)*64+(J.charCodeAt(Q+1)&63),X=2;else if(H<240)W=(H&15)*4096+(J.charCodeAt(Q+1)&63)*64+(J.charCodeAt(Q+2)&63),X=3;else X=4,W=(H&7)*262144+(J.charCodeAt(Q+1)&63)*4096+(J.charCodeAt(Q+2)&63)*64+(J.charCodeAt(Q+3)&63),W-=65536,G=55296+(W>>>10&1023),W=56320+(W&1023);if(G!==0)Y[M++]=G&255,Y[M++]=G>>>8,G=0;Y[M++]=W%256,Y[M++]=W>>>8}return Y.slice(0,M).toString("ucs2")}function KE(J){return IJ(J,"binary").toString("utf8")}var SG="foo bar baz\xE2\x98\x83\xF0\x9F\x8D\xA3",s1=K1&&(KE(SG)==dA(SG)&&KE||OE(SG)==dA(SG)&&OE)||dA,g$=K1?function(J){return IJ(J,"utf8").toString("binary")}:function(J){var Y=[],W=0,Q=0,X=0;while(W<J.length)switch(Q=J.charCodeAt(W++),!0){case Q<128:Y.push(String.fromCharCode(Q));break;case Q<2048:Y.push(String.fromCharCode(192+(Q>>6))),Y.push(String.fromCharCode(128+(Q&63)));break;case(Q>=55296&&Q<57344):Q-=55296,X=J.charCodeAt(W++)-56320+(Q<<10),Y.push(String.fromCharCode(240+(X>>18&7))),Y.push(String.fromCharCode(144+(X>>12&63))),Y.push(String.fromCharCode(128+(X>>6&63))),Y.push(String.fromCharCode(128+(X&63)));break;default:Y.push(String.fromCharCode(224+(Q>>12))),Y.push(String.fromCharCode(128+(Q>>6&63))),Y.push(String.fromCharCode(128+(Q&63)))}return Y.join("")},n$=function(){var J={};return function Y(W,Q){var X=W+"|"+(Q||"");if(J[X])return J[X];return J[X]=new RegExp("<(?:\\w+:)?"+W+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+W+">",Q||"")}}(),C3=function(){var J=[["nbsp"," "],["middot","\xB7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(Y){return[new RegExp("&"+Y[0]+";","ig"),Y[1]]});return function Y(W){var Q=W.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,"");for(var X=0;X<J.length;++X)Q=Q.replace(J[X][0],J[X][1]);return Q}}(),Ha=function(){var J={};return function Y(W){if(J[W]!==void 0)return J[W];return J[W]=new RegExp("<(?:vt:)?"+W+">([\\s\\S]*?)</(?:vt:)?"+W+">","g")}}(),Ua=/<\/?(?:vt:)?variant>/g,Ba=/<(?:vt:)([^>]*)>([\s\S]*)</;function zE(J,Y){var W=p0(J),Q=J.match(Ha(W.baseType))||[],X=[];if(Q.length!=W.size){if(Y.WTF)throw new Error("unexpected vector length "+Q.length+" != "+W.size);return X}return Q.forEach(function(M){var G=M.replace(Ua,"").match(Ba);if(G)X.push({v:s1(G[2]),t:G[1]})}),X}var Aa=/(^\s|\s$|\n)/;function Na(J){return w4(J).map(function(Y){return" "+Y+'="'+J[Y]+'"'}).join("")}function qa(J,Y,W){return"<"+J+(W!=null?Na(W):"")+(Y!=null?(Y.match(Aa)?' xml:space="preserve"':"")+">"+Y+"</"+J:"/")+">"}function ZN(J){if(K1&&Buffer.isBuffer(J))return J.toString("utf8");if(typeof J==="string")return J;if(typeof Uint8Array!=="undefined"&&J instanceof Uint8Array)return s1(RJ(UN(J)));throw new Error("Bad input format: expected Buffer or string")}var i$=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Da={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Za=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Oa(J,Y){var W=1-2*(J[Y+7]>>>7),Q=((J[Y+7]&127)<<4)+(J[Y+6]>>>4&15),X=J[Y+6]&15;for(var M=5;M>=0;--M)X=X*256+J[Y+M];if(Q==2047)return X==0?W*(1/0):NaN;if(Q==0)Q=-1022;else Q-=1023,X+=Math.pow(2,52);return W*Math.pow(2,Q-52)*X}function Ka(J,Y,W){var Q=(Y<0||1/Y==-1/0?1:0)<<7,X=0,M=0,G=Q?-Y:Y;if(!isFinite(G))X=2047,M=isNaN(Y)?26985:0;else if(G==0)X=M=0;else if(X=Math.floor(Math.log(G)/Math.LN2),M=G*Math.pow(2,52-X),X<=-1023&&(!isFinite(M)||M<Math.pow(2,52)))X=-1022;else M-=Math.pow(2,52),X+=1023;for(var H=0;H<=5;++H,M/=256)J[W+H]=M&255;J[W+6]=(X&15)<<4|M&15,J[W+7]=X>>4|Q}var LE=function(J){var Y=[],W=10240;for(var Q=0;Q<J[0].length;++Q)if(J[0][Q])for(var X=0,M=J[0][Q].length;X<M;X+=W)Y.push.apply(Y,J[0][Q].slice(X,X+W));return Y},SE=K1?function(J){return J[0].length>0&&Buffer.isBuffer(J[0][0])?Buffer.concat(J[0].map(function(Y){return Buffer.isBuffer(Y)?Y:IJ(Y)})):LE(J)}:LE,VE=function(J,Y,W){var Q=[];for(var X=Y;X<W;X+=2)Q.push(String.fromCharCode(E7(J,X)));return Q.join("").replace(b2,"")},dG=K1?function(J,Y,W){if(!Buffer.isBuffer(J))return VE(J,Y,W);return J.toString("utf16le",Y,W).replace(b2,"")}:VE,FE=function(J,Y,W){var Q=[];for(var X=Y;X<Y+W;++X)Q.push(("0"+J[X].toString(16)).slice(-2));return Q.join("")},I3=K1?function(J,Y,W){return Buffer.isBuffer(J)?J.toString("hex",Y,Y+W):FE(J,Y,W)}:FE,EE=function(J,Y,W){var Q=[];for(var X=Y;X<W;X++)Q.push(String.fromCharCode(qW(J,X)));return Q.join("")},VW=K1?function J(Y,W,Q){return Buffer.isBuffer(Y)?Y.toString("utf8",W,Q):EE(Y,W,Q)}:EE,R3=function(J,Y){var W=H2(J,Y);return W>0?VW(J,Y+4,Y+4+W-1):""},ON=R3,T3=function(J,Y){var W=H2(J,Y);return W>0?VW(J,Y+4,Y+4+W-1):""},KN=T3,_3=function(J,Y){var W=2*H2(J,Y);return W>0?VW(J,Y+4,Y+4+W-1):""},zN=_3,w3=function J(Y,W){var Q=H2(Y,W);return Q>0?dG(Y,W+4,W+4+Q):""},LN=w3,k3=function(J,Y){var W=H2(J,Y);return W>0?VW(J,Y+4,Y+4+W):""},SN=k3,x3=function(J,Y){return Oa(J,Y)},kG=x3,g3=function J(Y){return Array.isArray(Y)||typeof Uint8Array!=="undefined"&&Y instanceof Uint8Array};if(K1)ON=function J(Y,W){if(!Buffer.isBuffer(Y))return R3(Y,W);var Q=Y.readUInt32LE(W);return Q>0?Y.toString("utf8",W+4,W+4+Q-1):""},KN=function J(Y,W){if(!Buffer.isBuffer(Y))return T3(Y,W);var Q=Y.readUInt32LE(W);return Q>0?Y.toString("utf8",W+4,W+4+Q-1):""},zN=function J(Y,W){if(!Buffer.isBuffer(Y))return _3(Y,W);var Q=2*Y.readUInt32LE(W);return Y.toString("utf16le",W+4,W+4+Q-1)},LN=function J(Y,W){if(!Buffer.isBuffer(Y))return w3(Y,W);var Q=Y.readUInt32LE(W);return Y.toString("utf16le",W+4,W+4+Q)},SN=function J(Y,W){if(!Buffer.isBuffer(Y))return k3(Y,W);var Q=Y.readUInt32LE(W);return Y.toString("utf8",W+4,W+4+Q)},kG=function J(Y,W){if(Buffer.isBuffer(Y))return Y.readDoubleLE(W);return x3(Y,W)},g3=function J(Y){return Buffer.isBuffer(Y)||Array.isArray(Y)||typeof Uint8Array!=="undefined"&&Y instanceof Uint8Array};function za(){dG=function(J,Y,W){return w1.utils.decode(1200,J.slice(Y,W)).replace(b2,"")},VW=function(J,Y,W){return w1.utils.decode(65001,J.slice(Y,W))},ON=function(J,Y){var W=H2(J,Y);return W>0?w1.utils.decode(KW,J.slice(Y+4,Y+4+W-1)):""},KN=function(J,Y){var W=H2(J,Y);return W>0?w1.utils.decode(_4,J.slice(Y+4,Y+4+W-1)):""},zN=function(J,Y){var W=2*H2(J,Y);return W>0?w1.utils.decode(1200,J.slice(Y+4,Y+4+W-1)):""},LN=function(J,Y){var W=H2(J,Y);return W>0?w1.utils.decode(1200,J.slice(Y+4,Y+4+W)):""},SN=function(J,Y){var W=H2(J,Y);return W>0?w1.utils.decode(65001,J.slice(Y+4,Y+4+W)):""}}if(typeof w1!=="undefined")za();var qW=function(J,Y){return J[Y]},E7=function(J,Y){return J[Y+1]*256+J[Y]},La=function(J,Y){var W=J[Y+1]*256+J[Y];return W<32768?W:(65535-W+1)*-1},H2=function(J,Y){return J[Y+3]*16777216+(J[Y+2]<<16)+(J[Y+1]<<8)+J[Y]},SJ=function(J,Y){return J[Y+3]<<24|J[Y+2]<<16|J[Y+1]<<8|J[Y]},Sa=function(J,Y){return J[Y]<<24|J[Y+1]<<16|J[Y+2]<<8|J[Y+3]};function y$(J,Y){var W="",Q,X,M=[],G,H,U,B;switch(Y){case"dbcs":if(B=this.l,K1&&Buffer.isBuffer(this))W=this.slice(this.l,this.l+2*J).toString("utf16le");else for(U=0;U<J;++U)W+=String.fromCharCode(E7(this,B)),B+=2;J*=2;break;case"utf8":W=VW(this,this.l,this.l+J);break;case"utf16le":J*=2,W=dG(this,this.l,this.l+J);break;case"wstr":if(typeof w1!=="undefined")W=w1.utils.decode(_4,this.slice(this.l,this.l+2*J));else return y$.call(this,J,"dbcs");J=2*J;break;case"lpstr-ansi":W=ON(this,this.l),J=4+H2(this,this.l);break;case"lpstr-cp":W=KN(this,this.l),J=4+H2(this,this.l);break;case"lpwstr":W=zN(this,this.l),J=4+2*H2(this,this.l);break;case"lpp4":if(J=4+H2(this,this.l),W=LN(this,this.l),J&2)J+=2;break;case"8lpp4":if(J=4+H2(this,this.l),W=SN(this,this.l),J&3)J+=4-(J&3);break;case"cstr":J=0,W="";while((G=qW(this,this.l+J++))!==0)M.push(LG(G));W=M.join("");break;case"_wstr":J=0,W="";while((G=E7(this,this.l+J))!==0)M.push(LG(G)),J+=2;J+=2,W=M.join("");break;case"dbcs-cont":W="",B=this.l;for(U=0;U<J;++U){if(this.lens&&this.lens.indexOf(B)!==-1)return G=qW(this,B),this.l=B+1,H=y$.call(this,J-U,G?"dbcs-cont":"sbcs-cont"),M.join("")+H;M.push(LG(E7(this,B))),B+=2}W=M.join(""),J*=2;break;case"cpstr":if(typeof w1!=="undefined"){W=w1.utils.decode(_4,this.slice(this.l,this.l+J));break}case"sbcs-cont":W="",B=this.l;for(U=0;U!=J;++U){if(this.lens&&this.lens.indexOf(B)!==-1)return G=qW(this,B),this.l=B+1,H=y$.call(this,J-U,G?"dbcs-cont":"sbcs-cont"),M.join("")+H;M.push(LG(qW(this,B))),B+=1}W=M.join("");break;default:switch(J){case 1:return Q=qW(this,this.l),this.l++,Q;case 2:return Q=(Y==="i"?La:E7)(this,this.l),this.l+=2,Q;case 4:case-4:if(Y==="i"||(this[this.l+3]&128)===0)return Q=(J>0?SJ:Sa)(this,this.l),this.l+=4,Q;else X=H2(this,this.l),this.l+=4;return X;case 8:case-8:if(Y==="f"){if(J==8)X=kG(this,this.l);else X=kG([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0);return this.l+=8,X}else J=8;case 16:W=I3(this,this.l,J);break}}return this.l+=J,W}var Va=function(J,Y,W){J[W]=Y&255,J[W+1]=Y>>>8&255,J[W+2]=Y>>>16&255,J[W+3]=Y>>>24&255},Fa=function(J,Y,W){J[W]=Y&255,J[W+1]=Y>>8&255,J[W+2]=Y>>16&255,J[W+3]=Y>>24&255},Ea=function(J,Y,W){J[W]=Y&255,J[W+1]=Y>>>8&255};function ja(J,Y,W){var Q=0,X=0;if(W==="dbcs"){for(X=0;X!=Y.length;++X)Ea(this,Y.charCodeAt(X),this.l+2*X);Q=2*Y.length}else if(W==="sbcs"){if(typeof w1!=="undefined"&&KW==874)for(X=0;X!=Y.length;++X){var M=w1.utils.encode(KW,Y.charAt(X));this[this.l+X]=M[0]}else{Y=Y.replace(/[^\x00-\x7F]/g,"_");for(X=0;X!=Y.length;++X)this[this.l+X]=Y.charCodeAt(X)&255}Q=Y.length}else if(W==="hex"){for(;X<J;++X)this[this.l++]=parseInt(Y.slice(2*X,2*X+2),16)||0;return this}else if(W==="utf16le"){var G=Math.min(this.l+J,this.length);for(X=0;X<Math.min(Y.length,J);++X){var H=Y.charCodeAt(X);this[this.l++]=H&255,this[this.l++]=H>>8}while(this.l<G)this[this.l++]=0;return this}else switch(J){case 1:Q=1,this[this.l]=Y&255;break;case 2:Q=2,this[this.l]=Y&255,Y>>>=8,this[this.l+1]=Y&255;break;case 3:Q=3,this[this.l]=Y&255,Y>>>=8,this[this.l+1]=Y&255,Y>>>=8,this[this.l+2]=Y&255;break;case 4:Q=4,Va(this,Y,this.l);break;case 8:if(Q=8,W==="f"){Ka(this,Y,this.l);break}case 16:break;case-4:Q=4,Fa(this,Y,this.l);break}return this.l+=Q,this}function y3(J,Y){var W=I3(this,this.l,J.length>>1);if(W!==J)throw new Error(Y+"Expected "+J+" saw "+W);this.l+=J.length>>1}function S2(J,Y){J.l=Y,J.read_shift=y$,J.chk=y3,J.write_shift=ja}function m2(J,Y){J.l+=Y}function h5(J){var Y=E9(J);return S2(Y,0),Y}function I7(J,Y,W){if(!J)return;var Q,X,M;S2(J,J.l||0);var G=J.length,H=0,U=0;while(J.l<G){if(H=J.read_shift(1),H&128)H=(H&127)+((J.read_shift(1)&127)<<7);var B=bG[H]||bG[65535];Q=J.read_shift(1),M=Q&127;for(X=1;X<4&&Q&128;++X)M+=((Q=J.read_shift(1))&127)<<7*X;U=J.l+M;var A=B.f&&B.f(J,M,W);if(J.l=U,Y(A,B,H))return}}function sA(){var J=[],Y=K1?256:2048,W=function U(B){var A=h5(B);return S2(A,0),A},Q=W(Y),X=function U(){if(!Q)return;if(Q.length>Q.l)Q=Q.slice(0,Q.l),Q.l=Q.length;if(Q.length>0)J.push(Q);Q=null},M=function U(B){if(Q&&B<Q.length-Q.l)return Q;return X(),Q=W(Math.max(B+1,Y))},G=function U(){return X(),L9(J)},H=function U(B){if(X(),Q=B,Q.l==null)Q.l=Q.length;M(Y)};return{next:M,push:H,end:G,_bufs:J}}function f$(J,Y,W){var Q=V2(J);if(Y.s){if(Q.cRel)Q.c+=Y.s.c;if(Q.rRel)Q.r+=Y.s.r}else{if(Q.cRel)Q.c+=Y.c;if(Q.rRel)Q.r+=Y.r}if(!W||W.biff<12){while(Q.c>=256)Q.c-=256;while(Q.r>=65536)Q.r-=65536}return Q}function jE(J,Y,W){var Q=V2(J);return Q.s=f$(Q.s,Y.s,W),Q.e=f$(Q.e,Y.s,W),Q}function v$(J,Y){if(J.cRel&&J.c<0){J=V2(J);while(J.c<0)J.c+=Y>8?16384:256}if(J.rRel&&J.r<0){J=V2(J);while(J.r<0)J.r+=Y>8?1048576:Y>5?65536:16384}var W=o0(J);if(!J.cRel&&J.cRel!=null)W=Ia(W);if(!J.rRel&&J.rRel!=null)W=Pa(W);return W}function cA(J,Y){if(J.s.r==0&&!J.s.rRel){if(J.e.r==(Y.biff>=12?1048575:Y.biff>=8?65536:16384)&&!J.e.rRel)return(J.s.cRel?"":"$")+e5(J.s.c)+":"+(J.e.cRel?"":"$")+e5(J.e.c)}if(J.s.c==0&&!J.s.cRel){if(J.e.c==(Y.biff>=12?16383:255)&&!J.e.cRel)return(J.s.rRel?"":"$")+F2(J.s.r)+":"+(J.e.rRel?"":"$")+F2(J.e.r)}return v$(J.s,Y.biff)+":"+v$(J.e,Y.biff)}function VN(J){return parseInt(Ca(J),10)-1}function F2(J){return""+(J+1)}function Pa(J){return J.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Ca(J){return J.replace(/\$(\d+)$/,"$1")}function FN(J){var Y=Ra(J),W=0,Q=0;for(;Q!==Y.length;++Q)W=26*W+Y.charCodeAt(Q)-64;return W-1}function e5(J){if(J<0)throw new Error("invalid column "+J);var Y="";for(++J;J;J=Math.floor((J-1)/26))Y=String.fromCharCode((J-1)%26+65)+Y;return Y}function Ia(J){return J.replace(/^([A-Z])/,"$$$1")}function Ra(J){return J.replace(/^\$([A-Z])/,"$1")}function Ta(J){return J.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function J8(J){var Y=0,W=0;for(var Q=0;Q<J.length;++Q){var X=J.charCodeAt(Q);if(X>=48&&X<=57)Y=10*Y+(X-48);else if(X>=65&&X<=90)W=26*W+(X-64)}return{c:W-1,r:Y-1}}function o0(J){var Y=J.c+1,W="";for(;Y;Y=(Y-1)/26|0)W=String.fromCharCode((Y-1)%26+65)+W;return W+(J.r+1)}function FW(J){var Y=J.indexOf(":");if(Y==-1)return{s:J8(J),e:J8(J)};return{s:J8(J.slice(0,Y)),e:J8(J.slice(Y+1))}}function E1(J,Y){if(typeof Y==="undefined"||typeof Y==="number")return E1(J.s,J.e);if(typeof J!=="string")J=o0(J);if(typeof Y!=="string")Y=o0(Y);return J==Y?J:J+":"+Y}function E5(J){var Y={s:{c:0,r:0},e:{c:0,r:0}},W=0,Q=0,X=0,M=J.length;for(W=0;Q<M;++Q){if((X=J.charCodeAt(Q)-64)<1||X>26)break;W=26*W+X}Y.s.c=--W;for(W=0;Q<M;++Q){if((X=J.charCodeAt(Q)-48)<0||X>9)break;W=10*W+X}if(Y.s.r=--W,Q===M||X!=10)return Y.e.c=Y.s.c,Y.e.r=Y.s.r,Y;++Q;for(W=0;Q!=M;++Q){if((X=J.charCodeAt(Q)-64)<1||X>26)break;W=26*W+X}Y.e.c=--W;for(W=0;Q!=M;++Q){if((X=J.charCodeAt(Q)-48)<0||X>9)break;W=10*W+X}return Y.e.r=--W,Y}function PE(J,Y){var W=J.t=="d"&&Y instanceof Date;if(J.z!=null)try{return J.w=B6(J.z,W?Y8(Y):Y)}catch(Q){}try{return J.w=B6((J.XF||{}).numFmtId||(W?14:0),W?Y8(Y):Y)}catch(Q){return""+Y}}function C7(J,Y,W){if(J==null||J.t==null||J.t=="z")return"";if(J.w!==void 0)return J.w;if(J.t=="d"&&!J.z&&W&&W.dateNF)J.z=W.dateNF;if(J.t=="e")return wJ[J.v]||J.v;if(Y==null)return PE(J,J.v);return PE(J,Y)}function P9(J,Y){var W=Y&&Y.sheet?Y.sheet:"Sheet1",Q={};return Q[W]=J,{SheetNames:[W],Sheets:Q}}function f3(J,Y,W){var Q=W||{},X=J?Array.isArray(J):Q.dense;if(m5!=null&&X==null)X=m5;var M=J||(X?[]:{}),G=0,H=0;if(M&&Q.origin!=null){if(typeof Q.origin=="number")G=Q.origin;else{var U=typeof Q.origin=="string"?J8(Q.origin):Q.origin;G=U.r,H=U.c}if(!M["!ref"])M["!ref"]="A1:A1"}var B={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(M["!ref"]){var A=E5(M["!ref"]);if(B.s.c=A.s.c,B.s.r=A.s.r,B.e.c=Math.max(B.e.c,A.e.c),B.e.r=Math.max(B.e.r,A.e.r),G==-1)B.e.r=G=A.e.r+1}for(var N=0;N!=Y.length;++N){if(!Y[N])continue;if(!Array.isArray(Y[N]))throw new Error("aoa_to_sheet expects an array of arrays");for(var D=0;D!=Y[N].length;++D){if(typeof Y[N][D]==="undefined")continue;var q={v:Y[N][D]},K=G+N,O=H+D;if(B.s.r>K)B.s.r=K;if(B.s.c>O)B.s.c=O;if(B.e.r<K)B.e.r=K;if(B.e.c<O)B.e.c=O;if(Y[N][D]&&typeof Y[N][D]==="object"&&!Array.isArray(Y[N][D])&&!(Y[N][D]instanceof Date))q=Y[N][D];else{if(Array.isArray(q.v))q.f=Y[N][D][1],q.v=q.v[0];if(q.v===null)if(q.f)q.t="n";else if(Q.nullError)q.t="e",q.v=0;else if(!Q.sheetStubs)continue;else q.t="z";else if(typeof q.v==="number")q.t="n";else if(typeof q.v==="boolean")q.t="b";else if(q.v instanceof Date)if(q.z=Q.dateNF||e0[14],Q.cellDates)q.t="d",q.w=B6(q.z,Y8(q.v));else q.t="n",q.v=Y8(q.v),q.w=B6(q.z,q.v);else q.t="s"}if(X){if(!M[K])M[K]=[];if(M[K][O]&&M[K][O].z)q.z=M[K][O].z;M[K][O]=q}else{var z=o0({c:O,r:K});if(M[z]&&M[z].z)q.z=M[z].z;M[z]=q}}}if(B.s.c<1e7)M["!ref"]=E1(B);return M}function EW(J,Y){return f3(null,J,Y)}function _a(J){return J.read_shift(4,"i")}function h2(J){var Y=J.read_shift(4);return Y===0?"":J.read_shift(Y,"dbcs")}function wa(J){return{ich:J.read_shift(2),ifnt:J.read_shift(2)}}function EN(J,Y){var W=J.l,Q=J.read_shift(1),X=h2(J),M=[],G={t:X,h:X};if((Q&1)!==0){var H=J.read_shift(4);for(var U=0;U!=H;++U)M.push(wa(J));G.r=M}else G.r=[{ich:0,ifnt:0}];return J.l=W+Y,G}var ka=EN;function A6(J){var Y=J.read_shift(4),W=J.read_shift(2);return W+=J.read_shift(1)<<16,J.l++,{c:Y,iStyleRef:W}}function TJ(J){var Y=J.read_shift(2);return Y+=J.read_shift(1)<<16,J.l++,{c:-1,iStyleRef:Y}}var xa=h2;function jN(J){var Y=J.read_shift(4);return Y===0||Y===4294967295?"":J.read_shift(Y,"dbcs")}var ga=h2,tA=jN;function PN(J){var Y=J.slice(J.l,J.l+4),W=Y[0]&1,Q=Y[0]&2;J.l+=4;var X=Q===0?kG([0,0,0,0,Y[0]&252,Y[1],Y[2],Y[3]],0):SJ(Y,0)>>2;return W?X/100:X}function v3(J){var Y={s:{},e:{}};return Y.s.r=J.read_shift(4),Y.e.r=J.read_shift(4),Y.s.c=J.read_shift(4),Y.e.c=J.read_shift(4),Y}var _J=v3;function f2(J){if(J.length-J.l<8)throw"XLS Xnum Buffer underflow";return J.read_shift(8,"f")}function ya(J){var Y={},W=J.read_shift(1),Q=W>>>1,X=J.read_shift(1),M=J.read_shift(2,"i"),G=J.read_shift(1),H=J.read_shift(1),U=J.read_shift(1);switch(J.l++,Q){case 0:Y.auto=1;break;case 1:Y.index=X;var B=EJ[X];if(B)Y.rgb=o$(B);break;case 2:Y.rgb=o$([G,H,U]);break;case 3:Y.theme=X;break}if(M!=0)Y.tint=M>0?M/32767:M/32768;return Y}function fa(J){var Y=J.read_shift(1);J.l++;var W={fBold:Y&1,fItalic:Y&2,fUnderline:Y&4,fStrikeout:Y&8,fOutline:Y&16,fShadow:Y&32,fCondense:Y&64,fExtend:Y&128};return W}function b3(J,Y){var W={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},Q=J.read_shift(4);switch(Q){case 0:return"";case 4294967295:case 4294967294:return W[J.read_shift(4)]||""}if(Q>400)throw new Error("Unsupported Clipboard: "+Q.toString(16));return J.l-=4,J.read_shift(0,Y==1?"lpstr":"lpwstr")}function va(J){return b3(J,1)}function ba(J){return b3(J,2)}var CN=2,L8=3,VG=11,CE=12,xG=19;var FG=64,ha=65,ma=71;var da=4108,ca=4126,G2=80,h3=81,ua=[G2,h3],pa={1:{n:"CodePage",t:CN},2:{n:"Category",t:G2},3:{n:"PresentationFormat",t:G2},4:{n:"ByteCount",t:L8},5:{n:"LineCount",t:L8},6:{n:"ParagraphCount",t:L8},7:{n:"SlideCount",t:L8},8:{n:"NoteCount",t:L8},9:{n:"HiddenCount",t:L8},10:{n:"MultimediaClipCount",t:L8},11:{n:"ScaleCrop",t:VG},12:{n:"HeadingPairs",t:da},13:{n:"TitlesOfParts",t:ca},14:{n:"Manager",t:G2},15:{n:"Company",t:G2},16:{n:"LinksUpToDate",t:VG},17:{n:"CharacterCount",t:L8},19:{n:"SharedDoc",t:VG},22:{n:"HyperlinksChanged",t:VG},23:{n:"AppVersion",t:L8,p:"version"},24:{n:"DigSig",t:ha},26:{n:"ContentType",t:G2},27:{n:"ContentStatus",t:G2},28:{n:"Language",t:G2},29:{n:"Version",t:G2},255:{},2147483648:{n:"Locale",t:xG},2147483651:{n:"Behavior",t:xG},1919054434:{}},na={1:{n:"CodePage",t:CN},2:{n:"Title",t:G2},3:{n:"Subject",t:G2},4:{n:"Author",t:G2},5:{n:"Keywords",t:G2},6:{n:"Comments",t:G2},7:{n:"Template",t:G2},8:{n:"LastAuthor",t:G2},9:{n:"RevNumber",t:G2},10:{n:"EditTime",t:FG},11:{n:"LastPrinted",t:FG},12:{n:"CreatedDate",t:FG},13:{n:"ModifiedDate",t:FG},14:{n:"PageCount",t:L8},15:{n:"WordCount",t:L8},16:{n:"CharCount",t:L8},17:{n:"Thumbnail",t:ma},18:{n:"Application",t:G2},19:{n:"DocSecurity",t:L8},255:{},2147483648:{n:"Locale",t:xG},2147483651:{n:"Behavior",t:xG},1919054434:{}},IE={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},ia=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function la(J){return J.map(function(Y){return[Y>>16&255,Y>>8&255,Y&255]})}var oa=la([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),EJ=V2(oa),wJ={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},m3={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},RE={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function ra(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function aa(J){var Y=ra();if(!J||!J.match)return Y;var W={};if((J.match(d2)||[]).forEach(function(Q){var X=p0(Q);switch(X[0].replace(Qa,"<")){case"<?xml":break;case"<Types":Y.xmlns=X["xmlns"+(X[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":W[X.Extension]=X.ContentType;break;case"<Override":if(Y[RE[X.ContentType]]!==void 0)Y[RE[X.ContentType]].push(X.PartName);break}}),Y.xmlns!==Da.CT)throw new Error("Unknown Namespace: "+Y.xmlns);return Y.calcchain=Y.calcchains.length>0?Y.calcchains[0]:"",Y.sst=Y.strs.length>0?Y.strs[0]:"",Y.style=Y.styles.length>0?Y.styles[0]:"",Y.defaults=W,delete Y.calcchains,Y}var F7={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function eA(J){var Y=J.lastIndexOf("/");return J.slice(0,Y+1)+"_rels/"+J.slice(Y+1)+".rels"}function b$(J,Y){var W={"!id":{}};if(!J)return W;if(Y.charAt(0)!=="/")Y="/"+Y;var Q={};return(J.match(d2)||[]).forEach(function(X){var M=p0(X);if(M[0]==="<Relationship"){var G={};if(G.Type=M.Type,G.Target=M.Target,G.Id=M.Id,M.TargetMode)G.TargetMode=M.TargetMode;var H=M.TargetMode==="External"?M.Target:x$(M.Target,Y);W[H]=G,Q[M.Id]=G}}),W["!id"]=Q,W}var sa="application/vnd.oasis.opendocument.spreadsheet";function ta(J,Y){var W=ZN(J),Q,X;while(Q=i$.exec(W))switch(Q[3]){case"manifest":break;case"file-entry":if(X=p0(Q[0],!1),X.path=="/"&&X.type!==sa)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(Y&&Y.WTF)throw Q}}var h$=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],ea=function(){var J=new Array(h$.length);for(var Y=0;Y<h$.length;++Y){var W=h$[Y],Q="(?:"+W[0].slice(0,W[0].indexOf(":"))+":)"+W[0].slice(W[0].indexOf(":")+1);J[Y]=new RegExp("<"+Q+"[^>]*>([\\s\\S]*?)</"+Q+">")}return J}();function d3(J){var Y={};J=s1(J);for(var W=0;W<h$.length;++W){var Q=h$[W],X=J.match(ea[W]);if(X!=null&&X.length>0)Y[Q[1]]=I1(X[1]);if(Q[2]==="date"&&Y[Q[1]])Y[Q[1]]=U2(Y[Q[1]])}return Y}var Js=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function c3(J,Y,W,Q){var X=[];if(typeof J=="string")X=zE(J,Q);else for(var M=0;M<J.length;++M)X=X.concat(J[M].map(function(A){return{v:A}}));var G=typeof Y=="string"?zE(Y,Q).map(function(A){return A.v}):Y,H=0,U=0;if(G.length>0)for(var B=0;B!==X.length;B+=2){switch(U=+X[B+1].v,X[B].v){case"Worksheets":case"\u5DE5\u4F5C\u8868":case"\u041B\u0438\u0441\u0442\u044B":case"\u0623\u0648\u0631\u0627\u0642 \u0627\u0644\u0639\u0645\u0644":case"\u30EF\u30FC\u30AF\u30B7\u30FC\u30C8":case"\u05D2\u05DC\u05D9\u05D5\u05E0\u05D5\u05EA \u05E2\u05D1\u05D5\u05D3\u05D4":case"Arbeitsbl\xE4tter":case"\xC7al\u0131\u015Fma Sayfalar\u0131":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de c\xE1lculo":case"Planilhas":case"Regneark":case"Hojas de c\xE1lculo":case"Werkbladen":W.Worksheets=U,W.SheetNames=G.slice(H,H+U);break;case"Named Ranges":case"Rangos con nombre":case"\u540D\u524D\u4ED8\u304D\u4E00\u89A7":case"Benannte Bereiche":case"Navngivne omr\xE5der":W.NamedRanges=U,W.DefinedNames=G.slice(H,H+U);break;case"Charts":case"Diagramme":W.Chartsheets=U,W.ChartNames=G.slice(H,H+U);break}H+=U}}function Ys(J,Y,W){var Q={};if(!Y)Y={};if(J=s1(J),Js.forEach(function(X){var M=(J.match(n$(X[0]))||[])[1];switch(X[2]){case"string":if(M)Y[X[1]]=I1(M);break;case"bool":Y[X[1]]=M==="true";break;case"raw":var G=J.match(new RegExp("<"+X[0]+"[^>]*>([\\s\\S]*?)</"+X[0]+">"));if(G&&G.length>0)Q[X[1]]=G[1];break}}),Q.HeadingPairs&&Q.TitlesOfParts)c3(Q.HeadingPairs,Q.TitlesOfParts,Y,W);return Y}var Ws=/<[^>]+>[^<]*/g;function Qs(J,Y){var W={},Q="",X=J.match(Ws);if(X)for(var M=0;M!=X.length;++M){var G=X[M],H=p0(G);switch(H[0]){case"<?xml":break;case"<Properties":break;case"<property":Q=I1(H.name);break;case"</property>":Q=null;break;default:if(G.indexOf("<vt:")===0){var U=G.split(">"),B=U[0].slice(4),A=U[1];switch(B){case"lpstr":case"bstr":case"lpwstr":W[Q]=I1(A);break;case"bool":W[Q]=A5(A);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":W[Q]=parseInt(A,10);break;case"r4":case"r8":case"decimal":W[Q]=parseFloat(A);break;case"filetime":case"date":W[Q]=U2(A);break;case"cy":case"error":W[Q]=I1(A);break;default:if(B.slice(-1)=="/")break;if(Y.WTF&&typeof console!=="undefined")console.warn("Unexpected",G,B,U)}}else if(G.slice(0,2)==="</");else if(Y.WTF)throw new Error(G)}}return W}var $s={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},uA;function Xs(J,Y,W){if(!uA)uA=NN($s);Y=uA[Y]||Y,J[Y]=W}function IN(J){var Y=J.read_shift(4),W=J.read_shift(4);return new Date((W/1e7*Math.pow(2,32)+Y/1e7-11644473600)*1000).toISOString().replace(/\.000/,"")}function u3(J,Y,W){var Q=J.l,X=J.read_shift(0,"lpstr-cp");if(W)while(J.l-Q&3)++J.l;return X}function p3(J,Y,W){var Q=J.read_shift(0,"lpwstr");if(W)J.l+=4-(Q.length+1&3)&3;return Q}function n3(J,Y,W){if(Y===31)return p3(J);return u3(J,Y,W)}function JN(J,Y,W){return n3(J,Y,W===!1?0:4)}function Ms(J,Y){if(!Y)throw new Error("VtUnalignedString must have positive length");return n3(J,Y,0)}function Gs(J){var Y=J.read_shift(4),W=[];for(var Q=0;Q!=Y;++Q){var X=J.l;if(W[Q]=J.read_shift(0,"lpwstr").replace(b2,""),J.l-X&2)J.l+=2}return W}function Hs(J){var Y=J.read_shift(4),W=[];for(var Q=0;Q!=Y;++Q)W[Q]=J.read_shift(0,"lpstr-cp").replace(b2,"");return W}function Us(J){var Y=J.l,W=gG(J,h3);if(J[J.l]==0&&J[J.l+1]==0&&J.l-Y&2)J.l+=2;var Q=gG(J,L8);return[W,Q]}function Bs(J){var Y=J.read_shift(4),W=[];for(var Q=0;Q<Y/2;++Q)W.push(Us(J));return W}function TE(J,Y){var W=J.read_shift(4),Q={};for(var X=0;X!=W;++X){var M=J.read_shift(4),G=J.read_shift(4);if(Q[M]=J.read_shift(G,Y===1200?"utf16le":"utf8").replace(b2,"").replace(k$,"!"),Y===1200&&G%2)J.l+=2}if(J.l&3)J.l=J.l>>3<<2;return Q}function i3(J){var Y=J.read_shift(4),W=J.slice(J.l,J.l+Y);if(J.l+=Y,(Y&3)>0)J.l+=4-(Y&3)&3;return W}function As(J){var Y={};return Y.Size=J.read_shift(4),J.l+=Y.Size+3-(Y.Size-1)%4,Y}function gG(J,Y,W){var Q=J.read_shift(2),X,M=W||{};if(J.l+=2,Y!==CE){if(Q!==Y&&ua.indexOf(Y)===-1&&!((Y&65534)==4126&&(Q&65534)==4126))throw new Error("Expected type "+Y+" saw "+Q)}switch(Y===CE?Q:Y){case 2:if(X=J.read_shift(2,"i"),!M.raw)J.l+=2;return X;case 3:return X=J.read_shift(4,"i"),X;case 11:return J.read_shift(4)!==0;case 19:return X=J.read_shift(4),X;case 30:return u3(J,Q,4).replace(b2,"");case 31:return p3(J);case 64:return IN(J);case 65:return i3(J);case 71:return As(J);case 80:return JN(J,Q,!M.raw).replace(b2,"");case 81:return Ms(J,Q).replace(b2,"");case 4108:return Bs(J);case 4126:case 4127:return Q==4127?Gs(J):Hs(J);default:throw new Error("TypedPropertyValue unrecognized type "+Y+" "+Q)}}function _E(J,Y){var W=J.l,Q=J.read_shift(4),X=J.read_shift(4),M=[],G=0,H=0,U=-1,B={};for(G=0;G!=X;++G){var A=J.read_shift(4),N=J.read_shift(4);M[G]=[A,N+W]}M.sort(function(L,S){return L[1]-S[1]});var D={};for(G=0;G!=X;++G){if(J.l!==M[G][1]){var q=!0;if(G>0&&Y)switch(Y[M[G-1][0]].t){case 2:if(J.l+2===M[G][1])J.l+=2,q=!1;break;case 80:if(J.l<=M[G][1])J.l=M[G][1],q=!1;break;case 4108:if(J.l<=M[G][1])J.l=M[G][1],q=!1;break}if((!Y||G==0)&&J.l<=M[G][1])q=!1,J.l=M[G][1];if(q)throw new Error("Read Error: Expected address "+M[G][1]+" at "+J.l+" :"+G)}if(Y){var K=Y[M[G][0]];if(D[K.n]=gG(J,K.t,{raw:!0}),K.p==="version")D[K.n]=String(D[K.n]>>16)+"."+("0000"+String(D[K.n]&65535)).slice(-4);if(K.n=="CodePage")switch(D[K.n]){case 0:D[K.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65000:case-536:case 65001:case-535:t6(H=D[K.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+D[K.n])}}else if(M[G][0]===1){if(H=D.CodePage=gG(J,CN),t6(H),U!==-1){var O=J.l;J.l=M[U][1],B=TE(J,H),J.l=O}}else if(M[G][0]===0){if(H===0){U=G,J.l=M[G+1][1];continue}B=TE(J,H)}else{var z=B[M[G][0]],V;switch(J[J.l]){case 65:J.l+=4,V=i3(J);break;case 30:J.l+=4,V=JN(J,J[J.l-4]).replace(/\u0000+$/,"");break;case 31:J.l+=4,V=JN(J,J[J.l-4]).replace(/\u0000+$/,"");break;case 3:J.l+=4,V=J.read_shift(4,"i");break;case 19:J.l+=4,V=J.read_shift(4);break;case 5:J.l+=4,V=J.read_shift(8,"f");break;case 11:J.l+=4,V=k5(J,4);break;case 64:J.l+=4,V=U2(IN(J));break;default:throw new Error("unparsed value: "+J[J.l])}D[z]=V}}return J.l=W+Q,D}function wE(J,Y,W){var Q=J.content;if(!Q)return{};S2(Q,0);var X,M,G,H,U=0;Q.chk("feff","Byte Order: "),Q.read_shift(2);var B=Q.read_shift(4),A=Q.read_shift(16);if(A!==F1.utils.consts.HEADER_CLSID&&A!==W)throw new Error("Bad PropertySet CLSID "+A);if(X=Q.read_shift(4),X!==1&&X!==2)throw new Error("Unrecognized #Sets: "+X);if(M=Q.read_shift(16),H=Q.read_shift(4),X===1&&H!==Q.l)throw new Error("Length mismatch: "+H+" !== "+Q.l);else if(X===2)G=Q.read_shift(16),U=Q.read_shift(4);var N=_E(Q,Y),D={SystemIdentifier:B};for(var q in N)D[q]=N[q];if(D.FMTID=M,X===1)return D;if(U-Q.l==2)Q.l+=2;if(Q.l!==U)throw new Error("Length mismatch 2: "+Q.l+" !== "+U);var K;try{K=_E(Q,null)}catch(O){}for(q in K)D[q]=K[q];return D.FMTID=[M,G],D}function z9(J,Y){return J.read_shift(Y),null}function Ns(J,Y,W){var Q=[],X=J.l+Y;while(J.l<X)Q.push(W(J,X-J.l));if(X!==J.l)throw new Error("Slurp error");return Q}function k5(J,Y){return J.read_shift(Y)===1}function b5(J){return J.read_shift(2,"u")}function l3(J,Y){return Ns(J,Y,b5)}function qs(J){var Y=J.read_shift(1),W=J.read_shift(1);return W===1?Y:Y===1}function t$(J,Y,W){var Q=J.read_shift(W&&W.biff>=12?2:1),X="sbcs-cont",M=_4;if(W&&W.biff>=8)_4=1200;if(!W||W.biff==8){var G=J.read_shift(1);if(G)X="dbcs-cont"}else if(W.biff==12)X="wstr";if(W.biff>=2&&W.biff<=5)X="cpstr";var H=Q?J.read_shift(Q,X):"";return _4=M,H}function Ds(J){var Y=_4;_4=1200;var W=J.read_shift(2),Q=J.read_shift(1),X=Q&4,M=Q&8,G=1+(Q&1),H=0,U,B={};if(M)H=J.read_shift(2);if(X)U=J.read_shift(4);var A=G==2?"dbcs-cont":"sbcs-cont",N=W===0?"":J.read_shift(W,A);if(M)J.l+=4*H;if(X)J.l+=U;if(B.t=N,!M)B.raw="<t>"+B.t+"</t>",B.r=B.t;return _4=Y,B}function CJ(J,Y,W){var Q;if(W){if(W.biff>=2&&W.biff<=5)return J.read_shift(Y,"cpstr");if(W.biff>=12)return J.read_shift(Y,"dbcs-cont")}var X=J.read_shift(1);if(X===0)Q=J.read_shift(Y,"sbcs-cont");else Q=J.read_shift(Y,"dbcs-cont");return Q}function e$(J,Y,W){var Q=J.read_shift(W&&W.biff==2?1:2);if(Q===0)return J.l++,"";return CJ(J,Q,W)}function kJ(J,Y,W){if(W.biff>5)return e$(J,Y,W);var Q=J.read_shift(1);if(Q===0)return J.l++,"";return J.read_shift(Q,W.biff<=4||!J.lens?"cpstr":"sbcs-cont")}function Zs(J){var Y=J.read_shift(1);J.l++;var W=J.read_shift(2);return J.l+=2,[Y,W]}function Os(J){var Y=J.read_shift(4),W=J.l,Q=!1;if(Y>24){if(J.l+=Y-24,J.read_shift(16)==="795881f43b1d7f48af2c825dc4852763")Q=!0;J.l=W}var X=J.read_shift((Q?Y-24:Y)>>1,"utf16le").replace(b2,"");if(Q)J.l+=24;return X}function Ks(J){var Y=J.read_shift(2),W="";while(Y-- >0)W+="../";var Q=J.read_shift(0,"lpstr-ansi");if(J.l+=2,J.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var X=J.read_shift(4);if(X===0)return W+Q.replace(/\\/g,"/");var M=J.read_shift(4);if(J.read_shift(2)!=3)throw new Error("Bad FileMoniker");var G=J.read_shift(M>>1,"utf16le").replace(b2,"");return W+G}function zs(J,Y){var W=J.read_shift(16);switch(Y-=16,W){case"e0c9ea79f9bace118c8200aa004ba90b":return Os(J,Y);case"0303000000000000c000000000000046":return Ks(J,Y);default:throw new Error("Unsupported Moniker "+W)}}function EG(J){var Y=J.read_shift(4),W=Y>0?J.read_shift(Y,"utf16le").replace(b2,""):"";return W}function Ls(J,Y){var W=J.l+Y,Q=J.read_shift(4);if(Q!==2)throw new Error("Unrecognized streamVersion: "+Q);var X=J.read_shift(2);J.l+=2;var M,G,H,U,B="",A,N;if(X&16)M=EG(J,W-J.l);if(X&128)G=EG(J,W-J.l);if((X&257)===257)H=EG(J,W-J.l);if((X&257)===1)U=zs(J,W-J.l);if(X&8)B=EG(J,W-J.l);if(X&32)A=J.read_shift(16);if(X&64)N=IN(J);J.l=W;var D=G||H||U||"";if(D&&B)D+="#"+B;if(!D)D="#"+B;if(X&2&&D.charAt(0)=="/"&&D.charAt(1)!="/")D="file://"+D;var q={Target:D};if(A)q.guid=A;if(N)q.time=N;if(M)q.Tooltip=M;return q}function o3(J){var Y=J.read_shift(1),W=J.read_shift(1),Q=J.read_shift(1),X=J.read_shift(1);return[Y,W,Q,X]}function r3(J,Y){var W=o3(J,Y);return W[3]=0,W}function x4(J){var Y=J.read_shift(2),W=J.read_shift(2),Q=J.read_shift(2);return{r:Y,c:W,ixfe:Q}}function Ss(J){var Y=J.read_shift(2),W=J.read_shift(2);return J.l+=8,{type:Y,flags:W}}function Vs(J,Y,W){return Y===0?"":kJ(J,Y,W)}function Fs(J,Y,W){var Q=W.biff>8?4:2,X=J.read_shift(Q),M=J.read_shift(Q,"i"),G=J.read_shift(Q,"i");return[X,M,G]}function a3(J){var Y=J.read_shift(2),W=PN(J);return[Y,W]}function Es(J,Y,W){J.l+=4,Y-=4;var Q=J.l+Y,X=t$(J,Y,W),M=J.read_shift(2);if(Q-=J.l,M!==Q)throw new Error("Malformed AddinUdf: padding = "+Q+" != "+M);return J.l+=M,X}function cG(J){var Y=J.read_shift(2),W=J.read_shift(2),Q=J.read_shift(2),X=J.read_shift(2);return{s:{c:Q,r:Y},e:{c:X,r:W}}}function s3(J){var Y=J.read_shift(2),W=J.read_shift(2),Q=J.read_shift(1),X=J.read_shift(1);return{s:{c:Q,r:Y},e:{c:X,r:W}}}var js=s3;function t3(J){J.l+=4;var Y=J.read_shift(2),W=J.read_shift(2),Q=J.read_shift(2);return J.l+=12,[W,Y,Q]}function Ps(J){var Y={};return J.l+=4,J.l+=16,Y.fSharedNote=J.read_shift(2),J.l+=4,Y}function Cs(J){var Y={};return J.l+=4,J.cf=J.read_shift(2),Y}function g2(J){J.l+=2,J.l+=J.read_shift(2)}var Is={0:g2,4:g2,5:g2,6:g2,7:Cs,8:g2,9:g2,10:g2,11:g2,12:g2,13:Ps,14:g2,15:g2,16:g2,17:g2,18:g2,19:g2,20:g2,21:t3};function Rs(J,Y){var W=J.l+Y,Q=[];while(J.l<W){var X=J.read_shift(2);J.l-=2;try{Q.push(Is[X](J,W-J.l))}catch(M){return J.l=W,Q}}if(J.l!=W)J.l=W;return Q}function jG(J,Y){var W={BIFFVer:0,dt:0};if(W.BIFFVer=J.read_shift(2),Y-=2,Y>=2)W.dt=J.read_shift(2),J.l-=2;switch(W.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(Y>6)throw new Error("Unexpected BIFF Ver "+W.BIFFVer)}return J.read_shift(Y),W}function Ts(J,Y){if(Y===0)return 1200;if(J.read_shift(2)!==1200);return 1200}function _s(J,Y,W){if(W.enc)return J.l+=Y,"";var Q=J.l,X=kJ(J,0,W);return J.read_shift(Y+Q-J.l),X}function ws(J,Y,W){var Q=W&&W.biff==8||Y==2?J.read_shift(2):(J.l+=Y,0);return{fDialog:Q&16,fBelow:Q&64,fRight:Q&128}}function ks(J,Y,W){var Q=J.read_shift(4),X=J.read_shift(1)&3,M=J.read_shift(1);switch(M){case 0:M="Worksheet";break;case 1:M="Macrosheet";break;case 2:M="Chartsheet";break;case 6:M="VBAModule";break}var G=t$(J,0,W);if(G.length===0)G="Sheet1";return{pos:Q,hs:X,dt:M,name:G}}function xs(J,Y){var W=J.l+Y,Q=J.read_shift(4),X=J.read_shift(4),M=[];for(var G=0;G!=X&&J.l<W;++G)M.push(Ds(J));return M.Count=Q,M.Unique=X,M}function gs(J,Y){var W={};return W.dsst=J.read_shift(2),J.l+=Y-2,W}function ys(J){var Y={};Y.r=J.read_shift(2),Y.c=J.read_shift(2),Y.cnt=J.read_shift(2)-Y.c;var W=J.read_shift(2);J.l+=4;var Q=J.read_shift(1);if(J.l+=3,Q&7)Y.level=Q&7;if(Q&32)Y.hidden=!0;if(Q&64)Y.hpt=W/20;return Y}function fs(J){var Y=Ss(J);if(Y.type!=2211)throw new Error("Invalid Future Record "+Y.type);var W=J.read_shift(4);return W!==0}function vs(J){return J.read_shift(2),J.read_shift(4)}function kE(J,Y,W){var Q=0;if(!(W&&W.biff==2))Q=J.read_shift(2);var X=J.read_shift(2);if(W&&W.biff==2)Q=1-(X>>15),X&=32767;var M={Unsynced:Q&1,DyZero:(Q&2)>>1,ExAsc:(Q&4)>>2,ExDsc:(Q&8)>>3};return[M,X]}function bs(J){var Y=J.read_shift(2),W=J.read_shift(2),Q=J.read_shift(2),X=J.read_shift(2),M=J.read_shift(2),G=J.read_shift(2),H=J.read_shift(2),U=J.read_shift(2),B=J.read_shift(2);return{Pos:[Y,W],Dim:[Q,X],Flags:M,CurTab:G,FirstTab:H,Selected:U,TabRatio:B}}function hs(J,Y,W){if(W&&W.biff>=2&&W.biff<5)return{};var Q=J.read_shift(2);return{RTL:Q&64}}function ms(){}function ds(J,Y,W){var Q={dyHeight:J.read_shift(2),fl:J.read_shift(2)};switch(W&&W.biff||8){case 2:break;case 3:case 4:J.l+=2;break;default:J.l+=10;break}return Q.name=t$(J,0,W),Q}function cs(J){var Y=x4(J);return Y.isst=J.read_shift(4),Y}function us(J,Y,W){if(W.biffguess&&W.biff==2)W.biff=5;var Q=J.l+Y,X=x4(J,6);if(W.biff==2)J.l++;var M=e$(J,Q-J.l,W);return X.val=M,X}function ps(J,Y,W){var Q=J.read_shift(2),X=kJ(J,0,W);return[Q,X]}var ns=kJ;function xE(J,Y,W){var Q=J.l+Y,X=W.biff==8||!W.biff?4:2,M=J.read_shift(X),G=J.read_shift(X),H=J.read_shift(2),U=J.read_shift(2);return J.l=Q,{s:{r:M,c:H},e:{r:G,c:U}}}function is(J){var Y=J.read_shift(2),W=J.read_shift(2),Q=a3(J);return{r:Y,c:W,ixfe:Q[0],rknum:Q[1]}}function ls(J,Y){var W=J.l+Y-2,Q=J.read_shift(2),X=J.read_shift(2),M=[];while(J.l<W)M.push(a3(J));if(J.l!==W)throw new Error("MulRK read error");var G=J.read_shift(2);if(M.length!=G-X+1)throw new Error("MulRK length mismatch");return{r:Q,c:X,C:G,rkrec:M}}function os(J,Y){var W=J.l+Y-2,Q=J.read_shift(2),X=J.read_shift(2),M=[];while(J.l<W)M.push(J.read_shift(2));if(J.l!==W)throw new Error("MulBlank read error");var G=J.read_shift(2);if(M.length!=G-X+1)throw new Error("MulBlank length mismatch");return{r:Q,c:X,C:G,ixfe:M}}function rs(J,Y,W,Q){var X={},M=J.read_shift(4),G=J.read_shift(4),H=J.read_shift(4),U=J.read_shift(2);if(X.patternType=ia[H>>26],!Q.cellStyles)return X;return X.alc=M&7,X.fWrap=M>>3&1,X.alcV=M>>4&7,X.fJustLast=M>>7&1,X.trot=M>>8&255,X.cIndent=M>>16&15,X.fShrinkToFit=M>>20&1,X.iReadOrder=M>>22&2,X.fAtrNum=M>>26&1,X.fAtrFnt=M>>27&1,X.fAtrAlc=M>>28&1,X.fAtrBdr=M>>29&1,X.fAtrPat=M>>30&1,X.fAtrProt=M>>31&1,X.dgLeft=G&15,X.dgRight=G>>4&15,X.dgTop=G>>8&15,X.dgBottom=G>>12&15,X.icvLeft=G>>16&127,X.icvRight=G>>23&127,X.grbitDiag=G>>30&3,X.icvTop=H&127,X.icvBottom=H>>7&127,X.icvDiag=H>>14&127,X.dgDiag=H>>21&15,X.icvFore=U&127,X.icvBack=U>>7&127,X.fsxButton=U>>14&1,X}function as(J,Y,W){var Q={};return Q.ifnt=J.read_shift(2),Q.numFmtId=J.read_shift(2),Q.flags=J.read_shift(2),Q.fStyle=Q.flags>>2&1,Y-=6,Q.data=rs(J,Y,Q.fStyle,W),Q}function ss(J){J.l+=4;var Y=[J.read_shift(2),J.read_shift(2)];if(Y[0]!==0)Y[0]--;if(Y[1]!==0)Y[1]--;if(Y[0]>7||Y[1]>7)throw new Error("Bad Gutters: "+Y.join("|"));return Y}function gE(J,Y,W){var Q=x4(J,6);if(W.biff==2||Y==9)++J.l;var X=qs(J,2);return Q.val=X,Q.t=X===!0||X===!1?"b":"e",Q}function ts(J,Y,W){if(W.biffguess&&W.biff==2)W.biff=5;var Q=x4(J,6),X=f2(J,8);return Q.val=X,Q}var yE=Vs;function es(J,Y,W){var Q=J.l+Y,X=J.read_shift(2),M=J.read_shift(2);if(W.sbcch=M,M==1025||M==14849)return[M,X];if(M<1||M>255)throw new Error("Unexpected SupBook type: "+M);var G=CJ(J,M),H=[];while(Q>J.l)H.push(e$(J));return[M,X,G,H]}function fE(J,Y,W){var Q=J.read_shift(2),X,M={fBuiltIn:Q&1,fWantAdvise:Q>>>1&1,fWantPict:Q>>>2&1,fOle:Q>>>3&1,fOleLink:Q>>>4&1,cf:Q>>>5&1023,fIcon:Q>>>15&1};if(W.sbcch===14849)X=Es(J,Y-2,W);if(M.body=X||J.read_shift(Y-2),typeof X==="string")M.Name=X;return M}var Jt=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function vE(J,Y,W){var Q=J.l+Y,X=J.read_shift(2),M=J.read_shift(1),G=J.read_shift(1),H=J.read_shift(W&&W.biff==2?1:2),U=0;if(!W||W.biff>=5){if(W.biff!=5)J.l+=2;if(U=J.read_shift(2),W.biff==5)J.l+=2;J.l+=4}var B=CJ(J,G,W);if(X&32)B=Jt[B.charCodeAt(0)];var A=Q-J.l;if(W&&W.biff==2)--A;var N=Q==J.l||H===0||!(A>0)?[]:f10(J,A,W,H);return{chKey:M,Name:B,itab:U,rgce:N}}function e3(J,Y,W){if(W.biff<8)return Yt(J,Y,W);var Q=[],X=J.l+Y,M=J.read_shift(W.biff>8?4:2);while(M--!==0)Q.push(Fs(J,W.biff>8?12:6,W));if(J.l!=X)throw new Error("Bad ExternSheet: "+J.l+" != "+X);return Q}function Yt(J,Y,W){if(J[J.l+1]==3)J[J.l]++;var Q=t$(J,Y,W);return Q.charCodeAt(0)==3?Q.slice(1):Q}function Wt(J,Y,W){if(W.biff<8){J.l+=Y;return}var Q=J.read_shift(2),X=J.read_shift(2),M=CJ(J,Q,W),G=CJ(J,X,W);return[M,G]}function Qt(J,Y,W){var Q=s3(J,6);J.l++;var X=J.read_shift(1);return Y-=8,[v10(J,Y,W),X,Q]}function bE(J,Y,W){var Q=js(J,6);switch(W.biff){case 2:J.l++,Y-=7;break;case 3:case 4:J.l+=2,Y-=8;break;default:J.l+=6,Y-=12}return[Q,g10(J,Y,W,Q)]}function $t(J){var Y=J.read_shift(4)!==0,W=J.read_shift(4)!==0,Q=J.read_shift(4);return[Y,W,Q]}function Xt(J,Y,W){if(W.biff<8)return;var Q=J.read_shift(2),X=J.read_shift(2),M=J.read_shift(2),G=J.read_shift(2),H=kJ(J,0,W);if(W.biff<8)J.read_shift(1);return[{r:Q,c:X},H,G,M]}function Mt(J,Y,W){return Xt(J,Y,W)}function Gt(J,Y){var W=[],Q=J.read_shift(2);while(Q--)W.push(cG(J,Y));return W}function Ht(J,Y,W){if(W&&W.biff<8)return Bt(J,Y,W);var Q=t3(J,22),X=Rs(J,Y-22,Q[1]);return{cmo:Q,ft:X}}var Ut={8:function(J,Y){var W=J.l+Y;J.l+=10;var Q=J.read_shift(2);J.l+=4,J.l+=2,J.l+=2,J.l+=2,J.l+=4;var X=J.read_shift(1);return J.l+=X,J.l=W,{fmt:Q}}};function Bt(J,Y,W){J.l+=4;var Q=J.read_shift(2),X=J.read_shift(2),M=J.read_shift(2);J.l+=2,J.l+=2,J.l+=2,J.l+=2,J.l+=2,J.l+=2,J.l+=2,J.l+=2,J.l+=2,J.l+=6,Y-=36;var G=[];return G.push((Ut[Q]||m2)(J,Y,W)),{cmo:[X,Q,M],ft:G}}function At(J,Y,W){var Q=J.l,X="";try{J.l+=4;var M=(W.lastobj||{cmo:[0,0]}).cmo[1],G;if([0,5,7,11,12,14].indexOf(M)==-1)J.l+=6;else G=Zs(J,6,W);var H=J.read_shift(2);J.read_shift(2),b5(J,2);var U=J.read_shift(2);J.l+=U;for(var B=1;B<J.lens.length-1;++B){if(J.l-Q!=J.lens[B])throw new Error("TxO: bad continue record");var A=J[J.l],N=CJ(J,J.lens[B+1]-J.lens[B]-1);if(X+=N,X.length>=(A?H:2*H))break}if(X.length!==H&&X.length!==H*2)throw new Error("cchText: "+H+" != "+X.length);return J.l=Q+Y,{t:X}}catch(D){return J.l=Q+Y,{t:X}}}function Nt(J,Y){var W=cG(J,8);J.l+=16;var Q=Ls(J,Y-24);return[W,Q]}function qt(J,Y){J.read_shift(2);var W=cG(J,8),Q=J.read_shift((Y-10)/2,"dbcs-cont");return Q=Q.replace(b2,""),[W,Q]}function Dt(J){var Y=[0,0],W;return W=J.read_shift(2),Y[0]=IE[W]||W,W=J.read_shift(2),Y[1]=IE[W]||W,Y}function Zt(J){var Y=J.read_shift(2),W=[];while(Y-- >0)W.push(r3(J,8));return W}function Ot(J){var Y=J.read_shift(2),W=[];while(Y-- >0)W.push(r3(J,8));return W}function Kt(J){J.l+=2;var Y={cxfs:0,crc:0};return Y.cxfs=J.read_shift(2),Y.crc=J.read_shift(4),Y}function Jj(J,Y,W){if(!W.cellStyles)return m2(J,Y);var Q=W&&W.biff>=12?4:2,X=J.read_shift(Q),M=J.read_shift(Q),G=J.read_shift(Q),H=J.read_shift(Q),U=J.read_shift(2);if(Q==2)J.l+=2;var B={s:X,e:M,w:G,ixfe:H,flags:U};if(W.biff>=5||!W.biff)B.level=U>>8&7;return B}function zt(J,Y){var W={};if(Y<32)return W;return J.l+=16,W.header=f2(J,8),W.footer=f2(J,8),J.l+=2,W}function Lt(J,Y,W){var Q={area:!1};if(W.biff!=5)return J.l+=Y,Q;var X=J.read_shift(1);if(J.l+=3,X&16)Q.area=!0;return Q}var St=x4,Vt=l3,Ft=e$;function Et(J){var Y=J.read_shift(2),W=J.read_shift(2),Q=J.read_shift(4),X={fmt:Y,env:W,len:Q,data:J.slice(J.l,J.l+Q)};return J.l+=Q,X}function jt(J,Y,W){if(W.biffguess&&W.biff==5)W.biff=2;var Q=x4(J,6);++J.l;var X=kJ(J,Y-7,W);return Q.t="str",Q.val=X,Q}function Pt(J){var Y=x4(J,6);++J.l;var W=f2(J,8);return Y.t="n",Y.val=W,Y}function Ct(J){var Y=x4(J,6);++J.l;var W=J.read_shift(2);return Y.t="n",Y.val=W,Y}function It(J){var Y=J.read_shift(1);if(Y===0)return J.l++,"";return J.read_shift(Y,"sbcs-cont")}function Rt(J,Y){J.l+=6,J.l+=2,J.l+=1,J.l+=3,J.l+=1,J.l+=Y-13}function Tt(J,Y,W){var Q=J.l+Y,X=x4(J,6),M=J.read_shift(2),G=CJ(J,M,W);return J.l=Q,X.t="str",X.val=G,X}var _t=[2,3,48,49,131,139,140,245],hE=function(){var J={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},Y=NN({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function W(H,U){var B=[],A=E9(1);switch(U.type){case"base64":A=s6(h8(H));break;case"binary":A=s6(H);break;case"buffer":case"array":A=H;break}S2(A,0);var N=A.read_shift(1),D=!!(N&136),q=!1,K=!1;switch(N){case 2:break;case 3:break;case 48:q=!0,D=!0;break;case 49:q=!0,D=!0;break;case 131:break;case 139:break;case 140:K=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+N.toString(16))}var O=0,z=521;if(N==2)O=A.read_shift(2);if(A.l+=3,N!=2)O=A.read_shift(4);if(O>1048576)O=1e6;if(N!=2)z=A.read_shift(2);var V=A.read_shift(2),L=U.codepage||1252;if(N!=2){if(A.l+=16,A.read_shift(1),A[A.l]!==0)L=J[A[A.l]];A.l+=1,A.l+=2}if(K)A.l+=36;var S=[],g={},d=Math.min(A.length,N==2?521:z-10-(q?264:0)),I=K?32:11;while(A.l<d&&A[A.l]!=13){if(g={},g.name=w1.utils.decode(L,A.slice(A.l,A.l+I)).replace(/[\u0000\r\n].*$/g,""),A.l+=I,g.type=String.fromCharCode(A.read_shift(1)),N!=2&&!K)g.offset=A.read_shift(4);if(g.len=A.read_shift(1),N==2)g.offset=A.read_shift(2);if(g.dec=A.read_shift(1),g.name.length)S.push(g);if(N!=2)A.l+=K?13:14;switch(g.type){case"B":if((!q||g.len!=8)&&U.WTF)console.log("Skipping "+g.name+":"+g.type);break;case"G":case"P":if(U.WTF)console.log("Skipping "+g.name+":"+g.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+g.type)}}if(A[A.l]!==13)A.l=z-1;if(A.read_shift(1)!==13)throw new Error("DBF Terminator not found "+A.l+" "+A[A.l]);A.l=z;var F=0,R=0;B[0]=[];for(R=0;R!=S.length;++R)B[0][R]=S[R].name;while(O-- >0){if(A[A.l]===42){A.l+=V;continue}++A.l,B[++F]=[],R=0;for(R=0;R!=S.length;++R){var j=A.slice(A.l,A.l+S[R].len);A.l+=S[R].len,S2(j,0);var x=w1.utils.decode(L,j);switch(S[R].type){case"C":if(x.trim().length)B[F][R]=x.replace(/\s+$/,"");break;case"D":if(x.length===8)B[F][R]=new Date(+x.slice(0,4),+x.slice(4,6)-1,+x.slice(6,8));else B[F][R]=x;break;case"F":B[F][R]=parseFloat(x.trim());break;case"+":case"I":B[F][R]=K?j.read_shift(-4,"i")^2147483648:j.read_shift(4,"i");break;case"L":switch(x.trim().toUpperCase()){case"Y":case"T":B[F][R]=!0;break;case"N":case"F":B[F][R]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+x+"|")}break;case"M":if(!D)throw new Error("DBF Unexpected MEMO for type "+N.toString(16));B[F][R]="##MEMO##"+(K?parseInt(x.trim(),10):j.read_shift(4));break;case"N":if(x=x.replace(/\u0000/g,"").trim(),x&&x!=".")B[F][R]=+x||0;break;case"@":B[F][R]=new Date(j.read_shift(-8,"f")-62135683200000);break;case"T":B[F][R]=new Date((j.read_shift(4)-2440588)*86400000+j.read_shift(4));break;case"Y":B[F][R]=j.read_shift(4,"i")/1e4+j.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":B[F][R]=-j.read_shift(-8,"f");break;case"B":if(q&&S[R].len==8){B[F][R]=j.read_shift(8,"f");break}case"G":case"P":j.l+=S[R].len;break;case"0":if(S[R].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[R].type)}}}if(N!=2){if(A.l<A.length&&A[A.l++]!=26)throw new Error("DBF EOF Marker missing "+(A.l-1)+" of "+A.length+" "+A[A.l-1].toString(16))}if(U&&U.sheetRows)B=B.slice(0,U.sheetRows);return U.DBF=S,B}function Q(H,U){var B=U||{};if(!B.dateNF)B.dateNF="yyyymmdd";var A=EW(W(H,B),B);return A["!cols"]=B.DBF.map(function(N){return{wch:N.len,DBF:N}}),delete B.DBF,A}function X(H,U){try{return P9(Q(H,U),U)}catch(B){if(U&&U.WTF)throw B}return{SheetNames:[],Sheets:{}}}var M={B:8,C:250,L:1,D:8,"?":0,"":0};function G(H,U){var B=U||{};if(+B.codepage>=0)t6(+B.codepage);if(B.type=="string")throw new Error("Cannot write DBF to JS string");var A=sA(),N=MN(H,{header:1,raw:!0,cellDates:!0}),D=N[0],q=N.slice(1),K=H["!cols"]||[],O=0,z=0,V=0,L=1;for(O=0;O<D.length;++O){if(((K[O]||{}).DBF||{}).name){D[O]=K[O].DBF.name,++V;continue}if(D[O]==null)continue;if(++V,typeof D[O]==="number")D[O]=D[O].toString(10);if(typeof D[O]!=="string")throw new Error("DBF Invalid column name "+D[O]+" |"+typeof D[O]+"|");if(D.indexOf(D[O])!==O){for(z=0;z<1024;++z)if(D.indexOf(D[O]+"_"+z)==-1){D[O]+="_"+z;break}}}var S=E5(H["!ref"]),g=[],d=[],I=[];for(O=0;O<=S.e.c-S.s.c;++O){var F="",R="",j=0,x=[];for(z=0;z<q.length;++z)if(q[z][O]!=null)x.push(q[z][O]);if(x.length==0||D[O]==null){g[O]="?";continue}for(z=0;z<x.length;++z){switch(typeof x[z]){case"number":R="B";break;case"string":R="C";break;case"boolean":R="L";break;case"object":R=x[z]instanceof Date?"D":"C";break;default:R="C"}j=Math.max(j,String(x[z]).length),F=F&&F!=R?"C":R}if(j>250)j=250;if(R=((K[O]||{}).DBF||{}).type,R=="C"){if(K[O].DBF.len>j)j=K[O].DBF.len}if(F=="B"&&R=="N")F="N",I[O]=K[O].DBF.dec,j=K[O].DBF.len;d[O]=F=="C"||R=="N"?j:M[F]||0,L+=d[O],g[O]=F}var _=A.next(32);_.write_shift(4,318902576),_.write_shift(4,q.length),_.write_shift(2,296+32*V),_.write_shift(2,L);for(O=0;O<4;++O)_.write_shift(4,0);_.write_shift(4,0|(+Y[KW]||3)<<8);for(O=0,z=0;O<D.length;++O){if(D[O]==null)continue;var k=A.next(32),l=(D[O].slice(-10)+"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00").slice(0,11);k.write_shift(1,l,"sbcs"),k.write_shift(1,g[O]=="?"?"C":g[O],"sbcs"),k.write_shift(4,z),k.write_shift(1,d[O]||M[g[O]]||0),k.write_shift(1,I[O]||0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),z+=d[O]||M[g[O]]||0}var q0=A.next(264);q0.write_shift(4,13);for(O=0;O<65;++O)q0.write_shift(4,0);for(O=0;O<q.length;++O){var r=A.next(L);r.write_shift(1,0);for(z=0;z<D.length;++z){if(D[z]==null)continue;switch(g[z]){case"L":r.write_shift(1,q[O][z]==null?63:q[O][z]?84:70);break;case"B":r.write_shift(8,q[O][z]||0,"f");break;case"N":var Z0="0";if(typeof q[O][z]=="number")Z0=q[O][z].toFixed(I[z]||0);for(V=0;V<d[z]-Z0.length;++V)r.write_shift(1,32);r.write_shift(1,Z0,"sbcs");break;case"D":if(!q[O][z])r.write_shift(8,"00000000","sbcs");else r.write_shift(4,("0000"+q[O][z].getFullYear()).slice(-4),"sbcs"),r.write_shift(2,("00"+(q[O][z].getMonth()+1)).slice(-2),"sbcs"),r.write_shift(2,("00"+q[O][z].getDate()).slice(-2),"sbcs");break;case"C":var C0=String(q[O][z]!=null?q[O][z]:"").slice(0,d[z]);r.write_shift(1,C0,"sbcs");for(V=0;V<d[z]-C0.length;++V)r.write_shift(1,32);break}}}return A.next(1).write_shift(1,26),A.end()}return{to_workbook:X,to_sheet:Q,from_sheet:G}}(),wt=function(){var J={AA:"\xC0",BA:"\xC1",CA:"\xC2",DA:195,HA:"\xC4",JA:197,AE:"\xC8",BE:"\xC9",CE:"\xCA",HE:"\xCB",AI:"\xCC",BI:"\xCD",CI:"\xCE",HI:"\xCF",AO:"\xD2",BO:"\xD3",CO:"\xD4",DO:213,HO:"\xD6",AU:"\xD9",BU:"\xDA",CU:"\xDB",HU:"\xDC",Aa:"\xE0",Ba:"\xE1",Ca:"\xE2",Da:227,Ha:"\xE4",Ja:229,Ae:"\xE8",Be:"\xE9",Ce:"\xEA",He:"\xEB",Ai:"\xEC",Bi:"\xED",Ci:"\xEE",Hi:"\xEF",Ao:"\xF2",Bo:"\xF3",Co:"\xF4",Do:245,Ho:"\xF6",Au:"\xF9",Bu:"\xFA",Cu:"\xFB",Hu:"\xFC",KC:"\xC7",Kc:"\xE7",q:"\xE6",z:"\u0153",a:"\xC6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},Y=new RegExp("\x1BN("+w4(J).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),W=function(D,q){var K=J[q];return typeof K=="number"?JE(K):K},Q=function(D,q,K){var O=q.charCodeAt(0)-32<<4|K.charCodeAt(0)-48;return O==59?D:JE(O)};J["|"]=254;function X(D,q){switch(q.type){case"base64":return M(h8(D),q);case"binary":return M(D,q);case"buffer":return M(K1&&Buffer.isBuffer(D)?D.toString("binary"):RJ(D),q);case"array":return M(PJ(D),q)}throw new Error("Unrecognized type "+q.type)}function M(D,q){var K=D.split(/[\n\r]+/),O=-1,z=-1,V=0,L=0,S=[],g=[],d=null,I={},F=[],R=[],j=[],x=0,_;if(+q.codepage>=0)t6(+q.codepage);for(;V!==K.length;++V){x=0;var k=K[V].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,Q).replace(Y,W),l=k.replace(/;;/g,"\x00").split(";").map(function(m){return m.replace(/\u0000/g,";")}),q0=l[0],r;if(k.length>0)switch(q0){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":if(l[1].charAt(0)=="P")g.push(k.slice(3).replace(/;;/g,";"));break;case"C":var Z0=!1,C0=!1,r0=!1,L0=!1,_0=-1,Q0=-1;for(L=1;L<l.length;++L)switch(l[L].charAt(0)){case"A":break;case"X":z=parseInt(l[L].slice(1))-1,C0=!0;break;case"Y":if(O=parseInt(l[L].slice(1))-1,!C0)z=0;for(_=S.length;_<=O;++_)S[_]=[];break;case"K":if(r=l[L].slice(1),r.charAt(0)==='"')r=r.slice(1,r.length-1);else if(r==="TRUE")r=!0;else if(r==="FALSE")r=!1;else if(!isNaN(J4(r))){if(r=J4(r),d!==null&&SW(d))r=mG(r)}else if(!isNaN(zW(r).getDate()))r=U2(r);if(typeof w1!=="undefined"&&typeof r=="string"&&(q||{}).type!="string"&&(q||{}).codepage)r=w1.utils.decode(q.codepage,r);Z0=!0;break;case"E":L0=!0;var h=ZW(l[L].slice(1),{r:O,c:z});S[O][z]=[S[O][z],h];break;case"S":r0=!0,S[O][z]=[S[O][z],"S5S"];break;case"G":break;case"R":_0=parseInt(l[L].slice(1))-1;break;case"C":Q0=parseInt(l[L].slice(1))-1;break;default:if(q&&q.WTF)throw new Error("SYLK bad record "+k)}if(Z0){if(S[O][z]&&S[O][z].length==2)S[O][z][0]=r;else S[O][z]=r;d=null}if(r0){if(L0)throw new Error("SYLK shared formula cannot have own formula");var o=_0>-1&&S[_0][Q0];if(!o||!o[1])throw new Error("SYLK shared formula cannot find base");S[O][z][1]=Bj(o[1],{r:O-_0,c:z-Q0})}break;case"F":var c=0;for(L=1;L<l.length;++L)switch(l[L].charAt(0)){case"X":z=parseInt(l[L].slice(1))-1,++c;break;case"Y":O=parseInt(l[L].slice(1))-1;for(_=S.length;_<=O;++_)S[_]=[];break;case"M":x=parseInt(l[L].slice(1))/20;break;case"F":break;case"G":break;case"P":d=g[parseInt(l[L].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":j=l[L].slice(1).split(" ");for(_=parseInt(j[0],10);_<=parseInt(j[1],10);++_)x=parseInt(j[2],10),R[_-1]=x===0?{hidden:!0}:{wch:x},LW(R[_-1]);break;case"C":if(z=parseInt(l[L].slice(1))-1,!R[z])R[z]={};break;case"R":if(O=parseInt(l[L].slice(1))-1,!F[O])F[O]={};if(x>0)F[O].hpt=x,F[O].hpx=r$(x);else if(x===0)F[O].hidden=!0;break;default:if(q&&q.WTF)throw new Error("SYLK bad record "+k)}if(c<1)d=null;break;default:if(q&&q.WTF)throw new Error("SYLK bad record "+k)}}if(F.length>0)I["!rows"]=F;if(R.length>0)I["!cols"]=R;if(q&&q.sheetRows)S=S.slice(0,q.sheetRows);return[S,I]}function G(D,q){var K=X(D,q),O=K[0],z=K[1],V=EW(O,q);return w4(z).forEach(function(L){V[L]=z[L]}),V}function H(D,q){return P9(G(D,q),q)}function U(D,q,K,O){var z="C;Y"+(K+1)+";X"+(O+1)+";K";switch(D.t){case"n":if(z+=D.v||0,D.f&&!D.F)z+=";E"+z00(D.f,{r:K,c:O});break;case"b":z+=D.v?"TRUE":"FALSE";break;case"e":z+=D.w||D.v;break;case"d":z+='"'+(D.w||D.v)+'"';break;case"s":z+='"'+D.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return z}function B(D,q){q.forEach(function(K,O){var z="F;W"+(O+1)+" "+(O+1)+" ";if(K.hidden)z+="0";else{if(typeof K.width=="number"&&!K.wpx)K.wpx=fG(K.width);if(typeof K.wpx=="number"&&!K.wch)K.wch=vG(K.wpx);if(typeof K.wch=="number")z+=Math.round(K.wch)}if(z.charAt(z.length-1)!=" ")D.push(z)})}function A(D,q){q.forEach(function(K,O){var z="F;";if(K.hidden)z+="M0;";else if(K.hpt)z+="M"+20*K.hpt+";";else if(K.hpx)z+="M"+20*Gj(K.hpx)+";";if(z.length>2)D.push(z+"R"+(O+1))})}function N(D,q){var K=["ID;PWXL;N;E"],O=[],z=E5(D["!ref"]),V,L=Array.isArray(D),S=`\r
`;if(K.push("P;PGeneral"),K.push("F;P0;DG0G8;M255"),D["!cols"])B(K,D["!cols"]);if(D["!rows"])A(K,D["!rows"]);K.push("B;Y"+(z.e.r-z.s.r+1)+";X"+(z.e.c-z.s.c+1)+";D"+[z.s.c,z.s.r,z.e.c,z.e.r].join(" "));for(var g=z.s.r;g<=z.e.r;++g)for(var d=z.s.c;d<=z.e.c;++d){var I=o0({r:g,c:d});if(V=L?(D[g]||[])[d]:D[I],!V||V.v==null&&(!V.f||V.F))continue;O.push(U(V,D,g,d,q))}return K.join(S)+S+O.join(S)+S+"E"+S}return{to_workbook:H,to_sheet:G,from_sheet:N}}(),kt=function(){function J(M,G){switch(G.type){case"base64":return Y(h8(M),G);case"binary":return Y(M,G);case"buffer":return Y(K1&&Buffer.isBuffer(M)?M.toString("binary"):RJ(M),G);case"array":return Y(PJ(M),G)}throw new Error("Unrecognized type "+G.type)}function Y(M,G){var H=M.split(`
`),U=-1,B=-1,A=0,N=[];for(;A!==H.length;++A){if(H[A].trim()==="BOT"){N[++U]=[],B=0;continue}if(U<0)continue;var D=H[A].trim().split(","),q=D[0],K=D[1];++A;var O=H[A]||"";while((O.match(/["]/g)||[]).length&1&&A<H.length-1)O+=`
`+H[++A];switch(O=O.trim(),+q){case-1:if(O==="BOT"){N[++U]=[],B=0;continue}else if(O!=="EOD")throw new Error("Unrecognized DIF special command "+O);break;case 0:if(O==="TRUE")N[U][B]=!0;else if(O==="FALSE")N[U][B]=!1;else if(!isNaN(J4(K)))N[U][B]=J4(K);else if(!isNaN(zW(K).getDate()))N[U][B]=U2(K);else N[U][B]=K;++B;break;case 1:if(O=O.slice(1,O.length-1),O=O.replace(/""/g,'"'),_$&&O&&O.match(/^=".*"$/))O=O.slice(2,-1);N[U][B++]=O!==""?O:null;break}if(O==="EOD")break}if(G&&G.sheetRows)N=N.slice(0,G.sheetRows);return N}function W(M,G){return EW(J(M,G),G)}function Q(M,G){return P9(W(M,G),G)}var X=function(){var M=function H(U,B,A,N,D){U.push(B),U.push(A+","+N),U.push('"'+D.replace(/"/g,'""')+'"')},G=function H(U,B,A,N){U.push(B+","+A),U.push(B==1?'"'+N.replace(/"/g,'""')+'"':N)};return function H(U){var B=[],A=E5(U["!ref"]),N,D=Array.isArray(U);M(B,"TABLE",0,1,"sheetjs"),M(B,"VECTORS",0,A.e.r-A.s.r+1,""),M(B,"TUPLES",0,A.e.c-A.s.c+1,""),M(B,"DATA",0,0,"");for(var q=A.s.r;q<=A.e.r;++q){G(B,-1,0,"BOT");for(var K=A.s.c;K<=A.e.c;++K){var O=o0({r:q,c:K});if(N=D?(U[q]||[])[K]:U[O],!N){G(B,1,0,"");continue}switch(N.t){case"n":var z=_$?N.w:N.v;if(!z&&N.v!=null)z=N.v;if(z==null)if(_$&&N.f&&!N.F)G(B,1,0,"="+N.f);else G(B,1,0,"");else G(B,0,z,"V");break;case"b":G(B,0,N.v?1:0,N.v?"TRUE":"FALSE");break;case"s":G(B,1,0,!_$||isNaN(N.v)?N.v:'="'+N.v+'"');break;case"d":if(!N.w)N.w=B6(N.z||e0[14],Y8(U2(N.v)));if(_$)G(B,0,N.w,"V");else G(B,1,0,N.w);break;default:G(B,1,0,"")}}}G(B,-1,0,"EOD");var V=`\r
`,L=B.join(V);return L}}();return{to_workbook:Q,to_sheet:W,from_sheet:X}}(),xt=function(){function J(N){return N.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function Y(N){return N.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function W(N,D){var q=N.split(`
`),K=-1,O=-1,z=0,V=[];for(;z!==q.length;++z){var L=q[z].trim().split(":");if(L[0]!=="cell")continue;var S=J8(L[1]);if(V.length<=S.r){for(K=V.length;K<=S.r;++K)if(!V[K])V[K]=[]}switch(K=S.r,O=S.c,L[2]){case"t":V[K][O]=J(L[3]);break;case"v":V[K][O]=+L[3];break;case"vtf":var g=L[L.length-1];case"vtc":switch(L[3]){case"nl":V[K][O]=+L[4]?!0:!1;break;default:V[K][O]=+L[4];break}if(L[2]=="vtf")V[K][O]=[V[K][O],g]}}if(D&&D.sheetRows)V=V.slice(0,D.sheetRows);return V}function Q(N,D){return EW(W(N,D),D)}function X(N,D){return P9(Q(N,D),D)}var M=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),G=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,H=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),U="--SocialCalcSpreadsheetControlSave--";function B(N){if(!N||!N["!ref"])return"";var D=[],q=[],K,O="",z=FW(N["!ref"]),V=Array.isArray(N);for(var L=z.s.r;L<=z.e.r;++L)for(var S=z.s.c;S<=z.e.c;++S){if(O=o0({r:L,c:S}),K=V?(N[L]||[])[S]:N[O],!K||K.v==null||K.t==="z")continue;switch(q=["cell",O,"t"],K.t){case"s":case"str":q.push(Y(K.v));break;case"n":if(!K.f)q[2]="v",q[3]=K.v;else q[2]="vtf",q[3]="n",q[4]=K.v,q[5]=Y(K.f);break;case"b":q[2]="vt"+(K.f?"f":"c"),q[3]="nl",q[4]=K.v?"1":"0",q[5]=Y(K.f||(K.v?"TRUE":"FALSE"));break;case"d":var g=Y8(U2(K.v));q[2]="vtc",q[3]="nd",q[4]=""+g,q[5]=K.w||B6(K.z||e0[14],g);break;case"e":continue}D.push(q.join(":"))}return D.push("sheet:c:"+(z.e.c-z.s.c+1)+":r:"+(z.e.r-z.s.r+1)+":tvf:1"),D.push("valueformat:1:text-wiki"),D.join(`
`)}function A(N){return[M,G,H,G,B(N),U].join(`
`)}return{to_workbook:X,to_sheet:Q,from_sheet:A}}(),l$=function(){function J(A,N,D,q,K){if(K.raw)N[D][q]=A;else if(A==="");else if(A==="TRUE")N[D][q]=!0;else if(A==="FALSE")N[D][q]=!1;else if(!isNaN(J4(A)))N[D][q]=J4(A);else if(!isNaN(zW(A).getDate()))N[D][q]=U2(A);else N[D][q]=A}function Y(A,N){var D=N||{},q=[];if(!A||A.length===0)return q;var K=A.split(/[\r\n]/),O=K.length-1;while(O>=0&&K[O].length===0)--O;var z=10,V=0,L=0;for(;L<=O;++L){if(V=K[L].indexOf(" "),V==-1)V=K[L].length;else V++;z=Math.max(z,V)}for(L=0;L<=O;++L){q[L]=[];var S=0;J(K[L].slice(0,z).trim(),q,L,S,D);for(S=1;S<=(K[L].length-z)/10+1;++S)J(K[L].slice(z+(S-1)*10,z+S*10).trim(),q,L,S,D)}if(D.sheetRows)q=q.slice(0,D.sheetRows);return q}var W={44:",",9:"\t",59:";",124:"|"},Q={44:3,9:2,59:1,124:0};function X(A){var N={},D=!1,q=0,K=0;for(;q<A.length;++q)if((K=A.charCodeAt(q))==34)D=!D;else if(!D&&K in W)N[K]=(N[K]||0)+1;K=[];for(q in N)if(Object.prototype.hasOwnProperty.call(N,q))K.push([N[q],q]);if(!K.length){N=Q;for(q in N)if(Object.prototype.hasOwnProperty.call(N,q))K.push([N[q],q])}return K.sort(function(O,z){return O[0]-z[0]||Q[O[1]]-Q[z[1]]}),W[K.pop()[1]]||44}function M(A,N){var D=N||{},q="";if(m5!=null&&D.dense==null)D.dense=m5;var K=D.dense?[]:{},O={s:{c:0,r:0},e:{c:0,r:0}};if(A.slice(0,4)=="sep=")if(A.charCodeAt(5)==13&&A.charCodeAt(6)==10)q=A.charAt(4),A=A.slice(7);else if(A.charCodeAt(5)==13||A.charCodeAt(5)==10)q=A.charAt(4),A=A.slice(6);else q=X(A.slice(0,1024));else if(D&&D.FS)q=D.FS;else q=X(A.slice(0,1024));var z=0,V=0,L=0,S=0,g=0,d=q.charCodeAt(0),I=!1,F=0,R=A.charCodeAt(0);A=A.replace(/\r\n/mg,`
`);var j=D.dateNF!=null?pr(D.dateNF):null;function x(){var _=A.slice(S,g),k={};if(_.charAt(0)=='"'&&_.charAt(_.length-1)=='"')_=_.slice(1,-1).replace(/""/g,'"');if(_.length===0)k.t="z";else if(D.raw)k.t="s",k.v=_;else if(_.trim().length===0)k.t="s",k.v=_;else if(_.charCodeAt(0)==61)if(_.charCodeAt(1)==34&&_.charCodeAt(_.length-1)==34)k.t="s",k.v=_.slice(2,-1).replace(/""/g,'"');else if(S00(_))k.t="n",k.f=_.slice(1);else k.t="s",k.v=_;else if(_=="TRUE")k.t="b",k.v=!0;else if(_=="FALSE")k.t="b",k.v=!1;else if(!isNaN(L=J4(_))){if(k.t="n",D.cellText!==!1)k.w=_;k.v=L}else if(!isNaN(zW(_).getDate())||j&&_.match(j)){k.z=D.dateNF||e0[14];var l=0;if(j&&_.match(j))_=nr(_,D.dateNF,_.match(j)||[]),l=1;if(D.cellDates)k.t="d",k.v=U2(_,l);else k.t="n",k.v=Y8(U2(_,l));if(D.cellText!==!1)k.w=B6(k.z,k.v instanceof Date?Y8(k.v):k.v);if(!D.cellNF)delete k.z}else k.t="s",k.v=_;if(k.t=="z");else if(D.dense){if(!K[z])K[z]=[];K[z][V]=k}else K[o0({c:V,r:z})]=k;if(S=g+1,R=A.charCodeAt(S),O.e.c<V)O.e.c=V;if(O.e.r<z)O.e.r=z;if(F==d)++V;else if(V=0,++z,D.sheetRows&&D.sheetRows<=z)return!0}J:for(;g<A.length;++g)switch(F=A.charCodeAt(g)){case 34:if(R===34)I=!I;break;case d:case 10:case 13:if(!I&&x())break J;break;default:break}if(g-S>0)x();return K["!ref"]=E1(O),K}function G(A,N){if(!(N&&N.PRN))return M(A,N);if(N.FS)return M(A,N);if(A.slice(0,4)=="sep=")return M(A,N);if(A.indexOf("\t")>=0||A.indexOf(",")>=0||A.indexOf(";")>=0)return M(A,N);return EW(Y(A,N),N)}function H(A,N){var D="",q=N.type=="string"?[0,0,0,0]:yN(A,N);switch(N.type){case"base64":D=h8(A);break;case"binary":D=A;break;case"buffer":if(N.codepage==65001)D=A.toString("utf8");else if(N.codepage&&typeof w1!=="undefined")D=w1.utils.decode(N.codepage,A);else D=K1&&Buffer.isBuffer(A)?A.toString("binary"):RJ(A);break;case"array":D=PJ(A);break;case"string":D=A;break;default:throw new Error("Unrecognized type "+N.type)}if(q[0]==239&&q[1]==187&&q[2]==191)D=s1(D.slice(3));else if(N.type!="string"&&N.type!="buffer"&&N.codepage==65001)D=s1(D);else if(N.type=="binary"&&typeof w1!=="undefined"&&N.codepage)D=w1.utils.decode(N.codepage,w1.utils.encode(28591,D));if(D.slice(0,19)=="socialcalc:version:")return xt.to_sheet(N.type=="string"?D:s1(D),N);return G(D,N)}function U(A,N){return P9(H(A,N),N)}function B(A){var N=[],D=E5(A["!ref"]),q,K=Array.isArray(A);for(var O=D.s.r;O<=D.e.r;++O){var z=[];for(var V=D.s.c;V<=D.e.c;++V){var L=o0({r:O,c:V});if(q=K?(A[O]||[])[V]:A[L],!q||q.v==null){z.push("          ");continue}var S=(q.w||(C7(q),q.w)||"").slice(0,10);while(S.length<10)S+=" ";z.push(S+(V===0?" ":""))}N.push(z.join(""))}return N.join(`
`)}return{to_workbook:U,to_sheet:H,from_sheet:B}}();function gt(J,Y){var W=Y||{},Q=!!W.WTF;W.WTF=!0;try{var X=wt.to_workbook(J,W);return W.WTF=Q,X}catch(M){if(W.WTF=Q,!M.message.match(/SYLK bad record ID/)&&Q)throw M;return l$.to_workbook(J,Y)}}var m$=function(){function J(h,o,c){if(!h)return;S2(h,h.l||0);var m=c.Enum||_0;while(h.l<h.length){var U0=h.read_shift(2),I0=m[U0]||m[65535],z0=h.read_shift(2),s=h.l+z0,i=I0.f&&I0.f(h,z0,c);if(h.l=s,o(i,I0,U0))return}}function Y(h,o){switch(o.type){case"base64":return W(s6(h8(h)),o);case"binary":return W(s6(h),o);case"buffer":case"array":return W(h,o)}throw"Unsupported type "+o.type}function W(h,o){if(!h)return h;var c=o||{};if(m5!=null&&c.dense==null)c.dense=m5;var m=c.dense?[]:{},U0="Sheet1",I0="",z0=0,s={},i=[],C=[],E={s:{r:0,c:0},e:{r:0,c:0}},y=c.sheetRows||0;if(h[2]==0){if(h[3]==8||h[3]==9){if(h.length>=16&&h[14]==5&&h[15]===108)throw new Error("Unsupported Works 3 for Mac file")}}if(h[2]==2)c.Enum=_0,J(h,function(A0,c0,k1){switch(k1){case 0:if(c.vers=A0,A0>=4096)c.qpro=!0;break;case 6:E=A0;break;case 204:if(A0)I0=A0;break;case 222:I0=A0;break;case 15:case 51:if(!c.qpro)A0[1].v=A0[1].v.slice(1);case 13:case 14:case 16:if(k1==14&&(A0[2]&112)==112&&(A0[2]&15)>1&&(A0[2]&15)<15){if(A0[1].z=c.dateNF||e0[14],c.cellDates)A0[1].t="d",A0[1].v=mG(A0[1].v)}if(c.qpro){if(A0[3]>z0)m["!ref"]=E1(E),s[U0]=m,i.push(U0),m=c.dense?[]:{},E={s:{r:0,c:0},e:{r:0,c:0}},z0=A0[3],U0=I0||"Sheet"+(z0+1),I0=""}var h1=c.dense?(m[A0[0].r]||[])[A0[0].c]:m[o0(A0[0])];if(h1){if(h1.t=A0[1].t,h1.v=A0[1].v,A0[1].z!=null)h1.z=A0[1].z;if(A0[1].f!=null)h1.f=A0[1].f;break}if(c.dense){if(!m[A0[0].r])m[A0[0].r]=[];m[A0[0].r][A0[0].c]=A0[1]}else m[o0(A0[0])]=A0[1];break;default:}},c);else if(h[2]==26||h[2]==14){if(c.Enum=Q0,h[2]==14)c.qpro=!0,h.l=0;J(h,function(A0,c0,k1){switch(k1){case 204:U0=A0;break;case 22:A0[1].v=A0[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(A0[3]>z0)m["!ref"]=E1(E),s[U0]=m,i.push(U0),m=c.dense?[]:{},E={s:{r:0,c:0},e:{r:0,c:0}},z0=A0[3],U0="Sheet"+(z0+1);if(y>0&&A0[0].r>=y)break;if(c.dense){if(!m[A0[0].r])m[A0[0].r]=[];m[A0[0].r][A0[0].c]=A0[1]}else m[o0(A0[0])]=A0[1];if(E.e.c<A0[0].c)E.e.c=A0[0].c;if(E.e.r<A0[0].r)E.e.r=A0[0].r;break;case 27:if(A0[14000])C[A0[14000][0]]=A0[14000][1];break;case 1537:if(C[A0[0]]=A0[1],A0[0]==z0)U0=A0[1];break;default:break}},c)}else throw new Error("Unrecognized LOTUS BOF "+h[2]);if(m["!ref"]=E1(E),s[I0||U0]=m,i.push(I0||U0),!C.length)return{SheetNames:i,Sheets:s};var G0={},N0=[];for(var B0=0;B0<C.length;++B0)if(s[i[B0]])N0.push(C[B0]||i[B0]),G0[C[B0]]=s[C[B0]]||s[i[B0]];else N0.push(C[B0]),G0[C[B0]]={"!ref":"A1"};return{SheetNames:N0,Sheets:G0}}function Q(h,o){var c=o||{};if(+c.codepage>=0)t6(+c.codepage);if(c.type=="string")throw new Error("Cannot write WK1 to JS string");var m=sA(),U0=E5(h["!ref"]),I0=Array.isArray(h),z0=[];a6(m,0,M(1030)),a6(m,6,U(U0));var s=Math.min(U0.e.r,8191);for(var i=U0.s.r;i<=s;++i){var C=F2(i);for(var E=U0.s.c;E<=U0.e.c;++E){if(i===U0.s.r)z0[E]=e5(E);var y=z0[E]+C,G0=I0?(h[i]||[])[E]:h[y];if(!G0||G0.t=="z")continue;if(G0.t=="n")if((G0.v|0)==G0.v&&G0.v>=-32768&&G0.v<=32767)a6(m,13,q(i,E,G0.v));else a6(m,14,O(i,E,G0.v));else{var N0=C7(G0);a6(m,15,N(i,E,N0.slice(0,239)))}}}return a6(m,1),m.end()}function X(h,o){var c=o||{};if(+c.codepage>=0)t6(+c.codepage);if(c.type=="string")throw new Error("Cannot write WK3 to JS string");var m=sA();a6(m,0,G(h));for(var U0=0,I0=0;U0<h.SheetNames.length;++U0)if((h.Sheets[h.SheetNames[U0]]||{})["!ref"])a6(m,27,L0(h.SheetNames[U0],I0++));var z0=0;for(U0=0;U0<h.SheetNames.length;++U0){var s=h.Sheets[h.SheetNames[U0]];if(!s||!s["!ref"])continue;var i=E5(s["!ref"]),C=Array.isArray(s),E=[],y=Math.min(i.e.r,8191);for(var G0=i.s.r;G0<=y;++G0){var N0=F2(G0);for(var B0=i.s.c;B0<=i.e.c;++B0){if(G0===i.s.r)E[B0]=e5(B0);var A0=E[B0]+N0,c0=C?(s[G0]||[])[B0]:s[A0];if(!c0||c0.t=="z")continue;if(c0.t=="n")a6(m,23,x(G0,B0,z0,c0.v));else{var k1=C7(c0);a6(m,22,F(G0,B0,z0,k1.slice(0,239)))}}}++z0}return a6(m,1),m.end()}function M(h){var o=h5(2);return o.write_shift(2,h),o}function G(h){var o=h5(26);o.write_shift(2,4096),o.write_shift(2,4),o.write_shift(4,0);var c=0,m=0,U0=0;for(var I0=0;I0<h.SheetNames.length;++I0){var z0=h.SheetNames[I0],s=h.Sheets[z0];if(!s||!s["!ref"])continue;++U0;var i=FW(s["!ref"]);if(c<i.e.r)c=i.e.r;if(m<i.e.c)m=i.e.c}if(c>8191)c=8191;return o.write_shift(2,c),o.write_shift(1,U0),o.write_shift(1,m),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(1,1),o.write_shift(1,2),o.write_shift(4,0),o.write_shift(4,0),o}function H(h,o,c){var m={s:{c:0,r:0},e:{c:0,r:0}};if(o==8&&c.qpro)return m.s.c=h.read_shift(1),h.l++,m.s.r=h.read_shift(2),m.e.c=h.read_shift(1),h.l++,m.e.r=h.read_shift(2),m;if(m.s.c=h.read_shift(2),m.s.r=h.read_shift(2),o==12&&c.qpro)h.l+=2;if(m.e.c=h.read_shift(2),m.e.r=h.read_shift(2),o==12&&c.qpro)h.l+=2;if(m.s.c==65535)m.s.c=m.e.c=m.s.r=m.e.r=0;return m}function U(h){var o=h5(8);return o.write_shift(2,h.s.c),o.write_shift(2,h.s.r),o.write_shift(2,h.e.c),o.write_shift(2,h.e.r),o}function B(h,o,c){var m=[{c:0,r:0},{t:"n",v:0},0,0];if(c.qpro&&c.vers!=20768)m[0].c=h.read_shift(1),m[3]=h.read_shift(1),m[0].r=h.read_shift(2),h.l+=2;else m[2]=h.read_shift(1),m[0].c=h.read_shift(2),m[0].r=h.read_shift(2);return m}function A(h,o,c){var m=h.l+o,U0=B(h,o,c);if(U0[1].t="s",c.vers==20768){h.l++;var I0=h.read_shift(1);return U0[1].v=h.read_shift(I0,"utf8"),U0}if(c.qpro)h.l++;return U0[1].v=h.read_shift(m-h.l,"cstr"),U0}function N(h,o,c){var m=h5(7+c.length);m.write_shift(1,255),m.write_shift(2,o),m.write_shift(2,h),m.write_shift(1,39);for(var U0=0;U0<m.length;++U0){var I0=c.charCodeAt(U0);m.write_shift(1,I0>=128?95:I0)}return m.write_shift(1,0),m}function D(h,o,c){var m=B(h,o,c);return m[1].v=h.read_shift(2,"i"),m}function q(h,o,c){var m=h5(7);return m.write_shift(1,255),m.write_shift(2,o),m.write_shift(2,h),m.write_shift(2,c,"i"),m}function K(h,o,c){var m=B(h,o,c);return m[1].v=h.read_shift(8,"f"),m}function O(h,o,c){var m=h5(13);return m.write_shift(1,255),m.write_shift(2,o),m.write_shift(2,h),m.write_shift(8,c,"f"),m}function z(h,o,c){var m=h.l+o,U0=B(h,o,c);if(U0[1].v=h.read_shift(8,"f"),c.qpro)h.l=m;else{var I0=h.read_shift(2);g(h.slice(h.l,h.l+I0),U0),h.l+=I0}return U0}function V(h,o,c){var m=o&32768;return o&=-32769,o=(m?h:0)+(o>=8192?o-16384:o),(m?"":"$")+(c?e5(o):F2(o))}var L={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function g(h,o){S2(h,0);var c=[],m=0,U0="",I0="",z0="",s="";while(h.l<h.length){var i=h[h.l++];switch(i){case 0:c.push(h.read_shift(8,"f"));break;case 1:I0=V(o[0].c,h.read_shift(2),!0),U0=V(o[0].r,h.read_shift(2),!1),c.push(I0+U0);break;case 2:{var C=V(o[0].c,h.read_shift(2),!0),E=V(o[0].r,h.read_shift(2),!1);I0=V(o[0].c,h.read_shift(2),!0),U0=V(o[0].r,h.read_shift(2),!1),c.push(C+E+":"+I0+U0)}break;case 3:if(h.l<h.length){console.error("WK1 premature formula end");return}break;case 4:c.push("("+c.pop()+")");break;case 5:c.push(h.read_shift(2));break;case 6:{var y="";while(i=h[h.l++])y+=String.fromCharCode(i);c.push('"'+y.replace(/"/g,'""')+'"')}break;case 8:c.push("-"+c.pop());break;case 23:c.push("+"+c.pop());break;case 22:c.push("NOT("+c.pop()+")");break;case 20:case 21:s=c.pop(),z0=c.pop(),c.push(["AND","OR"][i-20]+"("+z0+","+s+")");break;default:if(i<32&&S[i])s=c.pop(),z0=c.pop(),c.push(z0+S[i]+s);else if(L[i]){if(m=L[i][1],m==69)m=h[h.l++];if(m>c.length){console.error("WK1 bad formula parse 0x"+i.toString(16)+":|"+c.join("|")+"|");return}var G0=c.slice(-m);c.length-=m,c.push(L[i][0]+"("+G0.join(",")+")")}else if(i<=7)return console.error("WK1 invalid opcode "+i.toString(16));else if(i<=24)return console.error("WK1 unsupported op "+i.toString(16));else if(i<=30)return console.error("WK1 invalid opcode "+i.toString(16));else if(i<=115)return console.error("WK1 unsupported function opcode "+i.toString(16));else return console.error("WK1 unrecognized opcode "+i.toString(16))}}if(c.length==1)o[1].f=""+c[0];else console.error("WK1 bad formula parse |"+c.join("|")+"|")}function d(h){var o=[{c:0,r:0},{t:"n",v:0},0];return o[0].r=h.read_shift(2),o[3]=h[h.l++],o[0].c=h[h.l++],o}function I(h,o){var c=d(h,o);return c[1].t="s",c[1].v=h.read_shift(o-4,"cstr"),c}function F(h,o,c,m){var U0=h5(6+m.length);U0.write_shift(2,h),U0.write_shift(1,c),U0.write_shift(1,o),U0.write_shift(1,39);for(var I0=0;I0<m.length;++I0){var z0=m.charCodeAt(I0);U0.write_shift(1,z0>=128?95:z0)}return U0.write_shift(1,0),U0}function R(h,o){var c=d(h,o);c[1].v=h.read_shift(2);var m=c[1].v>>1;if(c[1].v&1)switch(m&7){case 0:m=(m>>3)*5000;break;case 1:m=(m>>3)*500;break;case 2:m=(m>>3)/20;break;case 3:m=(m>>3)/200;break;case 4:m=(m>>3)/2000;break;case 5:m=(m>>3)/20000;break;case 6:m=(m>>3)/16;break;case 7:m=(m>>3)/64;break}return c[1].v=m,c}function j(h,o){var c=d(h,o),m=h.read_shift(4),U0=h.read_shift(4),I0=h.read_shift(2);if(I0==65535){if(m===0&&U0===3221225472)c[1].t="e",c[1].v=15;else if(m===0&&U0===3489660928)c[1].t="e",c[1].v=42;else c[1].v=0;return c}var z0=I0&32768;return I0=(I0&32767)-16446,c[1].v=(1-z0*2)*(U0*Math.pow(2,I0+32)+m*Math.pow(2,I0)),c}function x(h,o,c,m){var U0=h5(14);if(U0.write_shift(2,h),U0.write_shift(1,c),U0.write_shift(1,o),m==0)return U0.write_shift(4,0),U0.write_shift(4,0),U0.write_shift(2,65535),U0;var I0=0,z0=0,s=0,i=0;if(m<0)I0=1,m=-m;if(z0=Math.log2(m)|0,m/=Math.pow(2,z0-31),i=m>>>0,(i&2147483648)==0)m/=2,++z0,i=m>>>0;return m-=i,i|=2147483648,i>>>=0,m*=Math.pow(2,32),s=m>>>0,U0.write_shift(4,s),U0.write_shift(4,i),z0+=16383+(I0?32768:0),U0.write_shift(2,z0),U0}function _(h,o){var c=j(h,14);return h.l+=o-14,c}function k(h,o){var c=d(h,o),m=h.read_shift(4);return c[1].v=m>>6,c}function l(h,o){var c=d(h,o),m=h.read_shift(8,"f");return c[1].v=m,c}function q0(h,o){var c=l(h,14);return h.l+=o-10,c}function r(h,o){return h[h.l+o-1]==0?h.read_shift(o,"cstr"):""}function Z0(h,o){var c=h[h.l++];if(c>o-1)c=o-1;var m="";while(m.length<c)m+=String.fromCharCode(h[h.l++]);return m}function C0(h,o,c){if(!c.qpro||o<21)return;var m=h.read_shift(1);h.l+=17,h.l+=1,h.l+=2;var U0=h.read_shift(o-21,"cstr");return[m,U0]}function r0(h,o){var c={},m=h.l+o;while(h.l<m){var U0=h.read_shift(2);if(U0==14000){c[U0]=[0,""],c[U0][0]=h.read_shift(2);while(h[h.l])c[U0][1]+=String.fromCharCode(h[h.l]),h.l++;h.l++}}return c}function L0(h,o){var c=h5(5+h.length);c.write_shift(2,14000),c.write_shift(2,o);for(var m=0;m<h.length;++m){var U0=h.charCodeAt(m);c[c.l++]=U0>127?95:U0}return c[c.l++]=0,c}var _0={0:{n:"BOF",f:b5},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:H},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:D},14:{n:"NUMBER",f:K},15:{n:"LABEL",f:A},16:{n:"FORMULA",f:z},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:A},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:r},222:{n:"SHEETNAMELP",f:Z0},65535:{n:""}},Q0={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:I},23:{n:"NUMBER17",f:j},24:{n:"NUMBER18",f:R},25:{n:"FORMULA19",f:_},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:r0},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:k},38:{n:"??"},39:{n:"NUMBER27",f:l},40:{n:"FORMULA28",f:q0},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:r},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:C0},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:Q,book_to_wk3:X,to_workbook:Y}}();function yt(J){var Y={},W=J.match(d2),Q=0,X=!1;if(W)for(;Q!=W.length;++Q){var M=p0(W[Q]);switch(M[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!M.val)break;case"<shadow>":case"<shadow/>":Y.shadow=1;break;case"</shadow>":break;case"<charset":if(M.val=="1")break;Y.cp=GN[parseInt(M.val,10)];break;case"<outline":if(!M.val)break;case"<outline>":case"<outline/>":Y.outline=1;break;case"</outline>":break;case"<rFont":Y.name=M.val;break;case"<sz":Y.sz=M.val;break;case"<strike":if(!M.val)break;case"<strike>":case"<strike/>":Y.strike=1;break;case"</strike>":break;case"<u":if(!M.val)break;switch(M.val){case"double":Y.uval="double";break;case"singleAccounting":Y.uval="single-accounting";break;case"doubleAccounting":Y.uval="double-accounting";break}case"<u>":case"<u/>":Y.u=1;break;case"</u>":break;case"<b":if(M.val=="0")break;case"<b>":case"<b/>":Y.b=1;break;case"</b>":break;case"<i":if(M.val=="0")break;case"<i>":case"<i/>":Y.i=1;break;case"</i>":break;case"<color":if(M.rgb)Y.color=M.rgb.slice(2,8);break;case"<color>":case"<color/>":case"</color>":break;case"<family":Y.family=M.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":Y.valign=M.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":X=!0;break;case"</ext>":X=!1;break;default:if(M[0].charCodeAt(1)!==47&&!X)throw new Error("Unrecognized rich format "+M[0])}}return Y}var ft=function(){var J=n$("t"),Y=n$("rPr");function W(M){var G=M.match(J);if(!G)return{t:"s",v:""};var H={t:"s",v:I1(G[1])},U=M.match(Y);if(U)H.s=yt(U[1]);return H}var Q=/<(?:\w+:)?r>/g,X=/<\/(?:\w+:)?r>/;return function M(G){return G.replace(Q,"").split(X).map(W).filter(function(H){return H.v})}}(),vt=function J(){var Y=/(\r\n|\n)/g;function W(X,M,G){var H=[];if(X.u)H.push("text-decoration: underline;");if(X.uval)H.push("text-underline-style:"+X.uval+";");if(X.sz)H.push("font-size:"+X.sz+"pt;");if(X.outline)H.push("text-effect: outline;");if(X.shadow)H.push("text-shadow: auto;");if(M.push('<span style="'+H.join("")+'">'),X.b)M.push("<b>"),G.push("</b>");if(X.i)M.push("<i>"),G.push("</i>");if(X.strike)M.push("<s>"),G.push("</s>");var U=X.valign||"";if(U=="superscript"||U=="super")U="sup";else if(U=="subscript")U="sub";if(U!="")M.push("<"+U+">"),G.push("</"+U+">");return G.push("</span>"),X}function Q(X){var M=[[],X.v,[]];if(!X.v)return"";if(X.s)W(X.s,M[0],M[2]);return M[0].join("")+M[1].replace(Y,"<br/>")+M[2].join("")}return function X(M){return M.map(Q).join("")}}(),bt=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,ht=/<(?:\w+:)?r>/,mt=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function RN(J,Y){var W=Y?Y.cellHTML:!0,Q={};if(!J)return{t:""};if(J.match(/^\s*<(?:\w+:)?t[^>]*>/)){if(Q.t=I1(s1(J.slice(J.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),Q.r=s1(J),W)Q.h=DN(Q.t)}else if(J.match(ht)){if(Q.r=s1(J),Q.t=I1(s1((J.replace(mt,"").match(bt)||[]).join("").replace(d2,""))),W)Q.h=vt(ft(Q.r))}return Q}var dt=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,ct=/<(?:\w+:)?(?:si|sstItem)>/g,ut=/<\/(?:\w+:)?(?:si|sstItem)>/;function pt(J,Y){var W=[],Q="";if(!J)return W;var X=J.match(dt);if(X){Q=X[2].replace(ct,"").split(ut);for(var M=0;M!=Q.length;++M){var G=RN(Q[M].trim(),Y);if(G!=null)W[W.length]=G}X=p0(X[1]),W.Count=X.count,W.Unique=X.uniqueCount}return W}function nt(J){return[J.read_shift(4),J.read_shift(4)]}function it(J,Y){var W=[],Q=!1;return I7(J,function X(M,G,H){switch(H){case 159:W.Count=M[0],W.Unique=M[1];break;case 19:W.push(M);break;case 160:return!0;case 35:Q=!0;break;case 36:Q=!1;break;default:if(G.T);if(!Q||Y.WTF)throw new Error("Unexpected record 0x"+H.toString(16))}}),W}function Yj(J){if(typeof w1!=="undefined")return w1.utils.encode(KW,J);var Y=[],W=J.split("");for(var Q=0;Q<W.length;++Q)Y[Q]=W[Q].charCodeAt(0);return Y}function P7(J,Y){var W={};if(W.Major=J.read_shift(2),W.Minor=J.read_shift(2),Y>=4)J.l+=Y-4;return W}function lt(J){var Y={};return Y.id=J.read_shift(0,"lpp4"),Y.R=P7(J,4),Y.U=P7(J,4),Y.W=P7(J,4),Y}function ot(J){var Y=J.read_shift(4),W=J.l+Y-4,Q={},X=J.read_shift(4),M=[];while(X-- >0)M.push({t:J.read_shift(4),v:J.read_shift(0,"lpp4")});if(Q.name=J.read_shift(0,"lpp4"),Q.comps=M,J.l!=W)throw new Error("Bad DataSpaceMapEntry: "+J.l+" != "+W);return Q}function rt(J){var Y=[];J.l+=4;var W=J.read_shift(4);while(W-- >0)Y.push(ot(J));return Y}function at(J){var Y=[];J.l+=4;var W=J.read_shift(4);while(W-- >0)Y.push(J.read_shift(0,"lpp4"));return Y}function st(J){var Y={};return J.read_shift(4),J.l+=4,Y.id=J.read_shift(0,"lpp4"),Y.name=J.read_shift(0,"lpp4"),Y.R=P7(J,4),Y.U=P7(J,4),Y.W=P7(J,4),Y}function tt(J){var Y=st(J);if(Y.ename=J.read_shift(0,"8lpp4"),Y.blksz=J.read_shift(4),Y.cmode=J.read_shift(4),J.read_shift(4)!=4)throw new Error("Bad !Primary record");return Y}function Wj(J,Y){var W=J.l+Y,Q={};Q.Flags=J.read_shift(4)&63,J.l+=4,Q.AlgID=J.read_shift(4);var X=!1;switch(Q.AlgID){case 26126:case 26127:case 26128:X=Q.Flags==36;break;case 26625:X=Q.Flags==4;break;case 0:X=Q.Flags==16||Q.Flags==4||Q.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+Q.AlgID}if(!X)throw new Error("Encryption Flags/AlgID mismatch");return Q.AlgIDHash=J.read_shift(4),Q.KeySize=J.read_shift(4),Q.ProviderType=J.read_shift(4),J.l+=8,Q.CSPName=J.read_shift(W-J.l>>1,"utf16le"),J.l=W,Q}function Qj(J,Y){var W={},Q=J.l+Y;return J.l+=4,W.Salt=J.slice(J.l,J.l+16),J.l+=16,W.Verifier=J.slice(J.l,J.l+16),J.l+=16,J.read_shift(4),W.VerifierHash=J.slice(J.l,Q),J.l=Q,W}function et(J){var Y=P7(J);switch(Y.Minor){case 2:return[Y.Minor,Je(J,Y)];case 3:return[Y.Minor,Ye(J,Y)];case 4:return[Y.Minor,We(J,Y)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+Y.Minor)}function Je(J){var Y=J.read_shift(4);if((Y&63)!=36)throw new Error("EncryptionInfo mismatch");var W=J.read_shift(4),Q=Wj(J,W),X=Qj(J,J.length-J.l);return{t:"Std",h:Q,v:X}}function Ye(){throw new Error("File is password-protected: ECMA-376 Extensible")}function We(J){var Y=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];J.l+=4;var W=J.read_shift(J.length-J.l,"utf8"),Q={};return W.replace(d2,function X(M){var G=p0(M);switch(k4(G[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":Y.forEach(function(H){Q[H]=G[H]});break;case"<dataIntegrity":Q.encryptedHmacKey=G.encryptedHmacKey,Q.encryptedHmacValue=G.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":Q.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":Q.uri=G.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":Q.encs.push(G);break;default:throw G[0]}}),Q}function Qe(J,Y){var W={},Q=W.EncryptionVersionInfo=P7(J,4);if(Y-=4,Q.Minor!=2)throw new Error("unrecognized minor version code: "+Q.Minor);if(Q.Major>4||Q.Major<2)throw new Error("unrecognized major version code: "+Q.Major);W.Flags=J.read_shift(4),Y-=4;var X=J.read_shift(4);return Y-=4,W.EncryptionHeader=Wj(J,X),Y-=X,W.EncryptionVerifier=Qj(J,Y),W}function $e(J){var Y={},W=Y.EncryptionVersionInfo=P7(J,4);if(W.Major!=1||W.Minor!=1)throw"unrecognized version code "+W.Major+" : "+W.Minor;return Y.Salt=J.read_shift(16),Y.EncryptedVerifier=J.read_shift(16),Y.EncryptedVerifierHash=J.read_shift(16),Y}function Xe(J){var Y=0,W,Q=Yj(J),X=Q.length+1,M,G,H,U,B;W=E9(X),W[0]=Q.length;for(M=1;M!=X;++M)W[M]=Q[M-1];for(M=X-1;M>=0;--M)G=W[M],H=(Y&16384)===0?0:1,U=Y<<1&32767,B=H|U,Y=B^G;return Y^52811}var $j=function(){var J=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],Y=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],W=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],Q=function(G){return(G/2|G*128)&255},X=function(G,H){return Q(G^H)},M=function(G){var H=Y[G.length-1],U=104;for(var B=G.length-1;B>=0;--B){var A=G[B];for(var N=0;N!=7;++N){if(A&64)H^=W[U];A*=2,--U}}return H};return function(G){var H=Yj(G),U=M(H),B=H.length,A=E9(16);for(var N=0;N!=16;++N)A[N]=0;var D,q,K;if((B&1)===1)D=U>>8,A[B]=X(J[0],D),--B,D=U&255,q=H[H.length-1],A[B]=X(q,D);while(B>0)--B,D=U>>8,A[B]=X(H[B],D),--B,D=U&255,A[B]=X(H[B],D);B=15,K=15-H.length;while(K>0)D=U>>8,A[B]=X(J[K],D),--B,--K,D=U&255,A[B]=X(H[B],D),--B,--K;return A}}(),Me=function(J,Y,W,Q,X){if(!X)X=Y;if(!Q)Q=$j(J);var M,G;for(M=0;M!=Y.length;++M)G=Y[M],G^=Q[W],G=(G>>5|G<<3)&255,X[M]=G,++W;return[X,W,Q]},Ge=function(J){var Y=0,W=$j(J);return function(Q){var X=Me("",Q,Y,W);return Y=X[1],X[0]}};function He(J,Y,W,Q){var X={key:b5(J),verificationBytes:b5(J)};if(W.password)X.verifier=Xe(W.password);if(Q.valid=X.verificationBytes===X.verifier,Q.valid)Q.insitu=Ge(W.password);return X}function Ue(J,Y,W){var Q=W||{};if(Q.Info=J.read_shift(2),J.l-=2,Q.Info===1)Q.Data=$e(J,Y);else Q.Data=Qe(J,Y);return Q}function Be(J,Y,W){var Q={Type:W.biff>=8?J.read_shift(2):0};if(Q.Type)Ue(J,Y-2,Q);else He(J,W.biff>=8?Y:Y-2,W,Q);return Q}var Ae=function(){function J(X,M){switch(M.type){case"base64":return Y(h8(X),M);case"binary":return Y(X,M);case"buffer":return Y(K1&&Buffer.isBuffer(X)?X.toString("binary"):RJ(X),M);case"array":return Y(PJ(X),M)}throw new Error("Unrecognized type "+M.type)}function Y(X,M){var G=M||{},H=G.dense?[]:{},U=X.match(/\\trowd.*?\\row\b/g);if(!U.length)throw new Error("RTF missing table");var B={s:{c:0,r:0},e:{c:0,r:U.length-1}};return U.forEach(function(A,N){if(Array.isArray(H))H[N]=[];var D=/\\\w+\b/g,q=0,K,O=-1;while(K=D.exec(A)){switch(K[0]){case"\\cell":var z=A.slice(q,D.lastIndex-K[0].length);if(z[0]==" ")z=z.slice(1);if(++O,z.length){var V={v:z,t:"s"};if(Array.isArray(H))H[N][O]=V;else H[o0({r:N,c:O})]=V}break}q=D.lastIndex}if(O>B.e.c)B.e.c=O}),H["!ref"]=E1(B),H}function W(X,M){return P9(J(X,M),M)}function Q(X){var M=["{\\rtf1\\ansi"],G=E5(X["!ref"]),H,U=Array.isArray(X);for(var B=G.s.r;B<=G.e.r;++B){M.push("\\trowd\\trautofit1");for(var A=G.s.c;A<=G.e.c;++A)M.push("\\cellx"+(A+1));M.push("\\pard\\intbl");for(A=G.s.c;A<=G.e.c;++A){var N=o0({r:B,c:A});if(H=U?(X[B]||[])[A]:X[N],!H||H.v==null&&(!H.f||H.F))continue;M.push(" "+(H.w||(C7(H),H.w))),M.push("\\cell")}M.push("\\pard\\intbl\\row")}return M.join("")+"}"}return{to_workbook:W,to_sheet:J,from_sheet:Q}}();function Ne(J){var Y=J.slice(J[0]==="#"?1:0).slice(0,6);return[parseInt(Y.slice(0,2),16),parseInt(Y.slice(2,4),16),parseInt(Y.slice(4,6),16)]}function o$(J){for(var Y=0,W=1;Y!=3;++Y)W=W*256+(J[Y]>255?255:J[Y]<0?0:J[Y]);return W.toString(16).toUpperCase().slice(1)}function qe(J){var Y=J[0]/255,W=J[1]/255,Q=J[2]/255,X=Math.max(Y,W,Q),M=Math.min(Y,W,Q),G=X-M;if(G===0)return[0,0,Y];var H=0,U=0,B=X+M;switch(U=G/(B>1?2-B:B),X){case Y:H=((W-Q)/G+6)%6;break;case W:H=(Q-Y)/G+2;break;case Q:H=(Y-W)/G+4;break}return[H/6,U,B/2]}function De(J){var Y=J[0],W=J[1],Q=J[2],X=W*2*(Q<0.5?Q:1-Q),M=Q-X/2,G=[M,M,M],H=6*Y,U;if(W!==0)switch(H|0){case 0:case 6:U=X*H,G[0]+=X,G[1]+=U;break;case 1:U=X*(2-H),G[0]+=U,G[1]+=X;break;case 2:U=X*(H-2),G[1]+=X,G[2]+=U;break;case 3:U=X*(4-H),G[1]+=U,G[2]+=X;break;case 4:U=X*(H-4),G[2]+=X,G[0]+=U;break;case 5:U=X*(6-H),G[2]+=U,G[0]+=X;break}for(var B=0;B!=3;++B)G[B]=Math.round(G[B]*255);return G}function yG(J,Y){if(Y===0)return J;var W=qe(Ne(J));if(Y<0)W[2]=W[2]*(1+Y);else W[2]=1-(1-W[2])*(1-Y);return o$(De(W))}var Xj=6,Ze=15,Oe=1,e2=Xj;function fG(J){return Math.floor((J+Math.round(128/e2)/256)*e2)}function vG(J){return Math.floor((J-5)/e2*100+0.5)/100}function YN(J){return Math.round((J*e2+5)/e2*256)/256}function pA(J){return YN(vG(fG(J)))}function TN(J){var Y=Math.abs(J-pA(J)),W=e2;if(Y>0.005){for(e2=Oe;e2<Ze;++e2)if(Math.abs(J-pA(J))<=Y)Y=Math.abs(J-pA(J)),W=e2}e2=W}function LW(J){if(J.width)J.wpx=fG(J.width),J.wch=vG(J.wpx),J.MDW=e2;else if(J.wpx)J.wch=vG(J.wpx),J.width=YN(J.wch),J.MDW=e2;else if(typeof J.wch=="number")J.width=YN(J.wch),J.wpx=fG(J.width),J.MDW=e2;if(J.customWidth)delete J.customWidth}var Ke=96,Mj=Ke;function Gj(J){return J*96/Mj}function r$(J){return J*Mj/96}var ze={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Le(J,Y,W,Q){Y.Borders=[];var X={},M=!1;(J[0].match(d2)||[]).forEach(function(G){var H=p0(G);switch(k4(H[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":if(X={},H.diagonalUp)X.diagonalUp=A5(H.diagonalUp);if(H.diagonalDown)X.diagonalDown=A5(H.diagonalDown);Y.Borders.push(X);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":M=!0;break;case"</ext>":M=!1;break;default:if(Q&&Q.WTF){if(!M)throw new Error("unrecognized "+H[0]+" in borders")}}})}function Se(J,Y,W,Q){Y.Fills=[];var X={},M=!1;(J[0].match(d2)||[]).forEach(function(G){var H=p0(G);switch(k4(H[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":X={},Y.Fills.push(X);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":Y.Fills.push(X),X={};break;case"<patternFill":case"<patternFill>":if(H.patternType)X.patternType=H.patternType;break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":if(!X.bgColor)X.bgColor={};if(H.indexed)X.bgColor.indexed=parseInt(H.indexed,10);if(H.theme)X.bgColor.theme=parseInt(H.theme,10);if(H.tint)X.bgColor.tint=parseFloat(H.tint);if(H.rgb)X.bgColor.rgb=H.rgb.slice(-6);break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":if(!X.fgColor)X.fgColor={};if(H.theme)X.fgColor.theme=parseInt(H.theme,10);if(H.tint)X.fgColor.tint=parseFloat(H.tint);if(H.rgb!=null)X.fgColor.rgb=H.rgb.slice(-6);break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":M=!0;break;case"</ext>":M=!1;break;default:if(Q&&Q.WTF){if(!M)throw new Error("unrecognized "+H[0]+" in fills")}}})}function Ve(J,Y,W,Q){Y.Fonts=[];var X={},M=!1;(J[0].match(d2)||[]).forEach(function(G){var H=p0(G);switch(k4(H[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":Y.Fonts.push(X),X={};break;case"<name":if(H.val)X.name=s1(H.val);break;case"<name/>":case"</name>":break;case"<b":X.bold=H.val?A5(H.val):1;break;case"<b/>":X.bold=1;break;case"<i":X.italic=H.val?A5(H.val):1;break;case"<i/>":X.italic=1;break;case"<u":switch(H.val){case"none":X.underline=0;break;case"single":X.underline=1;break;case"double":X.underline=2;break;case"singleAccounting":X.underline=33;break;case"doubleAccounting":X.underline=34;break}break;case"<u/>":X.underline=1;break;case"<strike":X.strike=H.val?A5(H.val):1;break;case"<strike/>":X.strike=1;break;case"<outline":X.outline=H.val?A5(H.val):1;break;case"<outline/>":X.outline=1;break;case"<shadow":X.shadow=H.val?A5(H.val):1;break;case"<shadow/>":X.shadow=1;break;case"<condense":X.condense=H.val?A5(H.val):1;break;case"<condense/>":X.condense=1;break;case"<extend":X.extend=H.val?A5(H.val):1;break;case"<extend/>":X.extend=1;break;case"<sz":if(H.val)X.sz=+H.val;break;case"<sz/>":case"</sz>":break;case"<vertAlign":if(H.val)X.vertAlign=H.val;break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":if(H.val)X.family=parseInt(H.val,10);break;case"<family/>":case"</family>":break;case"<scheme":if(H.val)X.scheme=H.val;break;case"<scheme/>":case"</scheme>":break;case"<charset":if(H.val=="1")break;H.codepage=GN[parseInt(H.val,10)];break;case"<color":if(!X.color)X.color={};if(H.auto)X.color.auto=A5(H.auto);if(H.rgb)X.color.rgb=H.rgb.slice(-6);else if(H.indexed){X.color.index=parseInt(H.indexed,10);var U=EJ[X.color.index];if(X.color.index==81)U=EJ[1];if(!U)U=EJ[1];X.color.rgb=U[0].toString(16)+U[1].toString(16)+U[2].toString(16)}else if(H.theme){if(X.color.theme=parseInt(H.theme,10),H.tint)X.color.tint=parseFloat(H.tint);if(H.theme&&W.themeElements&&W.themeElements.clrScheme)X.color.rgb=yG(W.themeElements.clrScheme[X.color.theme].rgb,X.color.tint||0)}break;case"<color/>":case"</color>":break;case"<AlternateContent":M=!0;break;case"</AlternateContent>":M=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":M=!0;break;case"</ext>":M=!1;break;default:if(Q&&Q.WTF){if(!M)throw new Error("unrecognized "+H[0]+" in fonts")}}})}function Fe(J,Y,W){Y.NumberFmt=[];var Q=w4(e0);for(var X=0;X<Q.length;++X)Y.NumberFmt[Q[X]]=e0[Q[X]];var M=J[0].match(d2);if(!M)return;for(X=0;X<M.length;++X){var G=p0(M[X]);switch(k4(G[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var H=I1(s1(G.formatCode)),U=parseInt(G.numFmtId,10);if(Y.NumberFmt[U]=H,U>0){if(U>392){for(U=392;U>60;--U)if(Y.NumberFmt[U]==null)break;Y.NumberFmt[U]=H}FJ(H,U)}}break;case"</numFmt>":break;default:if(W.WTF)throw new Error("unrecognized "+G[0]+" in numFmts")}}}var PG=["numFmtId","fillId","fontId","borderId","xfId"],CG=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Ee(J,Y,W){Y.CellXf=[];var Q,X=!1;(J[0].match(d2)||[]).forEach(function(M){var G=p0(M),H=0;switch(k4(G[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":Q=G,delete Q[0];for(H=0;H<PG.length;++H)if(Q[PG[H]])Q[PG[H]]=parseInt(Q[PG[H]],10);for(H=0;H<CG.length;++H)if(Q[CG[H]])Q[CG[H]]=A5(Q[CG[H]]);if(Y.NumberFmt&&Q.numFmtId>392){for(H=392;H>60;--H)if(Y.NumberFmt[Q.numFmtId]==Y.NumberFmt[H]){Q.numFmtId=H;break}}Y.CellXf.push(Q);break;case"</xf>":break;case"<alignment":case"<alignment/>":var U={};if(G.vertical)U.vertical=G.vertical;if(G.horizontal)U.horizontal=G.horizontal;if(G.textRotation!=null)U.textRotation=G.textRotation;if(G.indent)U.indent=G.indent;if(G.wrapText)U.wrapText=A5(G.wrapText);Q.alignment=U;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":X=!0;break;case"</AlternateContent>":X=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":X=!0;break;case"</ext>":X=!1;break;default:if(W&&W.WTF){if(!X)throw new Error("unrecognized "+G[0]+" in cellXfs")}}})}var je=function J(){var Y=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,W=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,Q=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,X=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,M=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function G(H,U,B){var A={};if(!H)return A;H=H.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var N;if(N=H.match(Y))Fe(N,A,B);if(N=H.match(X))Ve(N,A,U,B);if(N=H.match(Q))Se(N,A,U,B);if(N=H.match(M))Le(N,A,U,B);if(N=H.match(W))Ee(N,A,B);return A}}();function Pe(J,Y){var W=J.read_shift(2),Q=h2(J,Y-2);return[W,Q]}function Ce(J,Y,W){var Q={};Q.sz=J.read_shift(2)/20;var X=fa(J,2,W);if(X.fItalic)Q.italic=1;if(X.fCondense)Q.condense=1;if(X.fExtend)Q.extend=1;if(X.fShadow)Q.shadow=1;if(X.fOutline)Q.outline=1;if(X.fStrikeout)Q.strike=1;var M=J.read_shift(2);if(M===700)Q.bold=1;switch(J.read_shift(2)){case 1:Q.vertAlign="superscript";break;case 2:Q.vertAlign="subscript";break}var G=J.read_shift(1);if(G!=0)Q.underline=G;var H=J.read_shift(1);if(H>0)Q.family=H;var U=J.read_shift(1);if(U>0)Q.charset=U;switch(J.l++,Q.color=ya(J,8),J.read_shift(1)){case 1:Q.scheme="major";break;case 2:Q.scheme="minor";break}return Q.name=h2(J,Y-21),Q}var Ie=m2;function Re(J,Y){var W=J.l+Y,Q=J.read_shift(2),X=J.read_shift(2);return J.l=W,{ixfe:Q,numFmtId:X}}var Te=m2;function _e(J,Y,W){var Q={};Q.NumberFmt=[];for(var X in e0)Q.NumberFmt[X]=e0[X];Q.CellXf=[],Q.Fonts=[];var M=[],G=!1;return I7(J,function H(U,B,A){switch(A){case 44:Q.NumberFmt[U[0]]=U[1],FJ(U[1],U[0]);break;case 43:if(Q.Fonts.push(U),U.color.theme!=null&&Y&&Y.themeElements&&Y.themeElements.clrScheme)U.color.rgb=yG(Y.themeElements.clrScheme[U.color.theme].rgb,U.color.tint||0);break;case 1025:break;case 45:break;case 46:break;case 47:if(M[M.length-1]==617)Q.CellXf.push(U);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:G=!0;break;case 36:G=!1;break;case 37:M.push(A),G=!0;break;case 38:M.pop(),G=!1;break;default:if(B.T>0)M.push(A);else if(B.T<0)M.pop();else if(!G||W.WTF&&M[M.length-1]!=37)throw new Error("Unexpected record 0x"+A.toString(16))}}),Q}var we=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function ke(J,Y,W){Y.themeElements.clrScheme=[];var Q={};(J[0].match(d2)||[]).forEach(function(X){var M=p0(X);switch(M[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":Q.rgb=M.val;break;case"<a:sysClr":Q.rgb=M.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":if(M[0].charAt(1)==="/")Y.themeElements.clrScheme[we.indexOf(M[0])]=Q,Q={};else Q.name=M[0].slice(3,M[0].length-1);break;default:if(W&&W.WTF)throw new Error("Unrecognized "+M[0]+" in clrScheme")}})}function xe(){}function ge(){}var ye=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,fe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,ve=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function be(J,Y,W){Y.themeElements={};var Q;[["clrScheme",ye,ke],["fontScheme",fe,xe],["fmtScheme",ve,ge]].forEach(function(X){if(!(Q=J.match(X[1])))throw new Error(X[0]+" not found in themeElements");X[2](Q,Y,W)})}var he=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Hj(J,Y){if(!J||J.length===0)J=me();var W,Q={};if(!(W=J.match(he)))throw new Error("themeElements not found in theme");return be(W[0],Q,Y),Q.raw=J,Q}function me(J,Y){if(Y&&Y.themeXLSX)return Y.themeXLSX;if(J&&typeof J.raw=="string")return J.raw;var W=[j3];return W[W.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',W[W.length]="<a:themeElements>",W[W.length]='<a:clrScheme name="Office">',W[W.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',W[W.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',W[W.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',W[W.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',W[W.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',W[W.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',W[W.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',W[W.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',W[W.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',W[W.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',W[W.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',W[W.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',W[W.length]="</a:clrScheme>",W[W.length]='<a:fontScheme name="Office">',W[W.length]="<a:majorFont>",W[W.length]='<a:latin typeface="Cambria"/>',W[W.length]='<a:ea typeface=""/>',W[W.length]='<a:cs typeface=""/>',W[W.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',W[W.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',W[W.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',W[W.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',W[W.length]='<a:font script="Arab" typeface="Times New Roman"/>',W[W.length]='<a:font script="Hebr" typeface="Times New Roman"/>',W[W.length]='<a:font script="Thai" typeface="Tahoma"/>',W[W.length]='<a:font script="Ethi" typeface="Nyala"/>',W[W.length]='<a:font script="Beng" typeface="Vrinda"/>',W[W.length]='<a:font script="Gujr" typeface="Shruti"/>',W[W.length]='<a:font script="Khmr" typeface="MoolBoran"/>',W[W.length]='<a:font script="Knda" typeface="Tunga"/>',W[W.length]='<a:font script="Guru" typeface="Raavi"/>',W[W.length]='<a:font script="Cans" typeface="Euphemia"/>',W[W.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',W[W.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',W[W.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',W[W.length]='<a:font script="Thaa" typeface="MV Boli"/>',W[W.length]='<a:font script="Deva" typeface="Mangal"/>',W[W.length]='<a:font script="Telu" typeface="Gautami"/>',W[W.length]='<a:font script="Taml" typeface="Latha"/>',W[W.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',W[W.length]='<a:font script="Orya" typeface="Kalinga"/>',W[W.length]='<a:font script="Mlym" typeface="Kartika"/>',W[W.length]='<a:font script="Laoo" typeface="DokChampa"/>',W[W.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',W[W.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',W[W.length]='<a:font script="Viet" typeface="Times New Roman"/>',W[W.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',W[W.length]='<a:font script="Geor" typeface="Sylfaen"/>',W[W.length]="</a:majorFont>",W[W.length]="<a:minorFont>",W[W.length]='<a:latin typeface="Calibri"/>',W[W.length]='<a:ea typeface=""/>',W[W.length]='<a:cs typeface=""/>',W[W.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',W[W.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',W[W.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',W[W.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',W[W.length]='<a:font script="Arab" typeface="Arial"/>',W[W.length]='<a:font script="Hebr" typeface="Arial"/>',W[W.length]='<a:font script="Thai" typeface="Tahoma"/>',W[W.length]='<a:font script="Ethi" typeface="Nyala"/>',W[W.length]='<a:font script="Beng" typeface="Vrinda"/>',W[W.length]='<a:font script="Gujr" typeface="Shruti"/>',W[W.length]='<a:font script="Khmr" typeface="DaunPenh"/>',W[W.length]='<a:font script="Knda" typeface="Tunga"/>',W[W.length]='<a:font script="Guru" typeface="Raavi"/>',W[W.length]='<a:font script="Cans" typeface="Euphemia"/>',W[W.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',W[W.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',W[W.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',W[W.length]='<a:font script="Thaa" typeface="MV Boli"/>',W[W.length]='<a:font script="Deva" typeface="Mangal"/>',W[W.length]='<a:font script="Telu" typeface="Gautami"/>',W[W.length]='<a:font script="Taml" typeface="Latha"/>',W[W.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',W[W.length]='<a:font script="Orya" typeface="Kalinga"/>',W[W.length]='<a:font script="Mlym" typeface="Kartika"/>',W[W.length]='<a:font script="Laoo" typeface="DokChampa"/>',W[W.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',W[W.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',W[W.length]='<a:font script="Viet" typeface="Arial"/>',W[W.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',W[W.length]='<a:font script="Geor" typeface="Sylfaen"/>',W[W.length]="</a:minorFont>",W[W.length]="</a:fontScheme>",W[W.length]='<a:fmtScheme name="Office">',W[W.length]="<a:fillStyleLst>",W[W.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',W[W.length]='<a:gradFill rotWithShape="1">',W[W.length]="<a:gsLst>",W[W.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',W[W.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',W[W.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',W[W.length]="</a:gsLst>",W[W.length]='<a:lin ang="16200000" scaled="1"/>',W[W.length]="</a:gradFill>",W[W.length]='<a:gradFill rotWithShape="1">',W[W.length]="<a:gsLst>",W[W.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',W[W.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',W[W.length]="</a:gsLst>",W[W.length]='<a:lin ang="16200000" scaled="0"/>',W[W.length]="</a:gradFill>",W[W.length]="</a:fillStyleLst>",W[W.length]="<a:lnStyleLst>",W[W.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',W[W.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',W[W.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',W[W.length]="</a:lnStyleLst>",W[W.length]="<a:effectStyleLst>",W[W.length]="<a:effectStyle>",W[W.length]="<a:effectLst>",W[W.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',W[W.length]="</a:effectLst>",W[W.length]="</a:effectStyle>",W[W.length]="<a:effectStyle>",W[W.length]="<a:effectLst>",W[W.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',W[W.length]="</a:effectLst>",W[W.length]="</a:effectStyle>",W[W.length]="<a:effectStyle>",W[W.length]="<a:effectLst>",W[W.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',W[W.length]="</a:effectLst>",W[W.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',W[W.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',W[W.length]="</a:effectStyle>",W[W.length]="</a:effectStyleLst>",W[W.length]="<a:bgFillStyleLst>",W[W.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',W[W.length]='<a:gradFill rotWithShape="1">',W[W.length]="<a:gsLst>",W[W.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',W[W.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',W[W.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',W[W.length]="</a:gsLst>",W[W.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',W[W.length]="</a:gradFill>",W[W.length]='<a:gradFill rotWithShape="1">',W[W.length]="<a:gsLst>",W[W.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',W[W.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',W[W.length]="</a:gsLst>",W[W.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',W[W.length]="</a:gradFill>",W[W.length]="</a:bgFillStyleLst>",W[W.length]="</a:fmtScheme>",W[W.length]="</a:themeElements>",W[W.length]="<a:objectDefaults>",W[W.length]="<a:spDef>",W[W.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',W[W.length]="</a:spDef>",W[W.length]="<a:lnDef>",W[W.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',W[W.length]="</a:lnDef>",W[W.length]="</a:objectDefaults>",W[W.length]="<a:extraClrSchemeLst/>",W[W.length]="</a:theme>",W.join("")}function de(J,Y,W){var Q=J.l+Y,X=J.read_shift(4);if(X===124226)return;if(!W.cellStyles){J.l=Q;return}var M=J.slice(J.l);J.l=Q;var G;try{G=E3(M,{type:"array"})}catch(U){return}var H=b8(G,"theme/theme/theme1.xml",!0);if(!H)return;return Hj(H,W)}function ce(J){return J.read_shift(4)}function ue(J){var Y={};switch(Y.xclrType=J.read_shift(2),Y.nTintShade=J.read_shift(2),Y.xclrType){case 0:J.l+=4;break;case 1:Y.xclrValue=pe(J,4);break;case 2:Y.xclrValue=o3(J,4);break;case 3:Y.xclrValue=ce(J,4);break;case 4:J.l+=4;break}return J.l+=8,Y}function pe(J,Y){return m2(J,Y)}function ne(J,Y){return m2(J,Y)}function ie(J){var Y=J.read_shift(2),W=J.read_shift(2)-4,Q=[Y];switch(Y){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:Q[1]=ue(J,W);break;case 6:Q[1]=ne(J,W);break;case 14:case 15:Q[1]=J.read_shift(W===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+Y+" "+W)}return Q}function le(J,Y){var W=J.l+Y;J.l+=2;var Q=J.read_shift(2);J.l+=2;var X=J.read_shift(2),M=[];while(X-- >0)M.push(ie(J,W-J.l));return{ixfe:Q,ext:M}}function oe(J,Y){Y.forEach(function(W){switch(W[0]){case 4:break;case 5:break;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:break;case 13:break;case 14:break;case 15:break}})}function re(J,Y){return{flags:J.read_shift(4),version:J.read_shift(4),name:h2(J,Y-8)}}function ae(J){var Y=[],W=J.read_shift(4);while(W-- >0)Y.push([J.read_shift(4),J.read_shift(4)]);return Y}function se(J){return J.l+=4,J.read_shift(4)!=0}function te(J,Y,W){var Q={Types:[],Cell:[],Value:[]},X=W||{},M=[],G=!1,H=2;return I7(J,function(U,B,A){switch(A){case 335:Q.Types.push({name:U.name});break;case 51:U.forEach(function(N){if(H==1)Q.Cell.push({type:Q.Types[N[0]-1].name,index:N[1]});else if(H==0)Q.Value.push({type:Q.Types[N[0]-1].name,index:N[1]})});break;case 337:H=U?1:0;break;case 338:H=2;break;case 35:M.push(A),G=!0;break;case 36:M.pop(),G=!1;break;default:if(B.T);else if(!G||X.WTF&&M[M.length-1]!=35)throw new Error("Unexpected record 0x"+A.toString(16))}}),Q}function ee(J,Y,W){var Q={Types:[],Cell:[],Value:[]};if(!J)return Q;var X=!1,M=2,G;return J.replace(d2,function(H){var U=p0(H);switch(k4(U[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":Q.Types.push({name:U.name});break;case"</metadataType>":break;case"<futureMetadata":for(var B=0;B<Q.Types.length;++B)if(Q.Types[B].name==U.name)G=Q.Types[B];break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":if(M==1)Q.Cell.push({type:Q.Types[U.t-1].name,index:+U.v});else if(M==0)Q.Value.push({type:Q.Types[U.t-1].name,index:+U.v});break;case"</rc>":break;case"<cellMetadata":M=1;break;case"</cellMetadata>":M=2;break;case"<valueMetadata":M=0;break;case"</valueMetadata>":M=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":X=!0;break;case"</ext>":X=!1;break;case"<rvb":if(!G)break;if(!G.offsets)G.offsets=[];G.offsets.push(+U.i);break;default:if(!X&&W.WTF)throw new Error("unrecognized "+U[0]+" in metadata")}return H}),Q}function J00(J){var Y=[];if(!J)return Y;var W=1;return(J.match(d2)||[]).forEach(function(Q){var X=p0(Q);switch(X[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":if(delete X[0],X.i)W=X.i;else X.i=W;Y.push(X);break}}),Y}function Y00(J){var Y={};Y.i=J.read_shift(4);var W={};W.r=J.read_shift(4),W.c=J.read_shift(4),Y.r=o0(W);var Q=J.read_shift(1);if(Q&2)Y.l="1";if(Q&8)Y.a="1";return Y}function W00(J,Y,W){var Q=[],X=!1;return I7(J,function M(G,H,U){switch(U){case 63:Q.push(G);break;default:if(H.T);else if(!X||W.WTF)throw new Error("Unexpected record 0x"+U.toString(16))}}),Q}function Q00(){}function $00(J,Y,W,Q){if(!J)return J;var X=Q||{},M=!1,G=!1;I7(J,function H(U,B,A){if(G)return;switch(A){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:M=!0;break;case 36:M=!1;break;default:if(B.T);else if(!M||X.WTF)throw new Error("Unexpected record 0x"+A.toString(16))}},X)}function X00(J,Y){if(!J)return"??";var W=(J.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return Y["!id"][W].Target}function mE(J,Y,W,Q){var X=Array.isArray(J),M;Y.forEach(function(G){var H=J8(G.ref);if(X){if(!J[H.r])J[H.r]=[];M=J[H.r][H.c]}else M=J[G.ref];if(!M){if(M={t:"z"},X)J[H.r][H.c]=M;else J[G.ref]=M;var U=E5(J["!ref"]||"BDWGO1000001:A1");if(U.s.r>H.r)U.s.r=H.r;if(U.e.r<H.r)U.e.r=H.r;if(U.s.c>H.c)U.s.c=H.c;if(U.e.c<H.c)U.e.c=H.c;var B=E1(U);if(B!==J["!ref"])J["!ref"]=B}if(!M.c)M.c=[];var A={a:G.author,t:G.t,r:G.r,T:W};if(G.h)A.h=G.h;for(var N=M.c.length-1;N>=0;--N){if(!W&&M.c[N].T)return;if(W&&!M.c[N].T)M.c.splice(N,1)}if(W&&Q){for(N=0;N<Q.length;++N)if(A.a==Q[N].id){A.a=Q[N].name||A.a;break}}M.c.push(A)})}function M00(J,Y){if(J.match(/<(?:\w+:)?comments *\/>/))return[];var W=[],Q=[],X=J.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);if(X&&X[1])X[1].split(/<\/\w*:?author>/).forEach(function(G){if(G===""||G.trim()==="")return;var H=G.match(/<(?:\w+:)?author[^>]*>(.*)/);if(H)W.push(H[1])});var M=J.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);if(M&&M[1])M[1].split(/<\/\w*:?comment>/).forEach(function(G){if(G===""||G.trim()==="")return;var H=G.match(/<(?:\w+:)?comment[^>]*>/);if(!H)return;var U=p0(H[0]),B={author:U.authorId&&W[U.authorId]||"sheetjsghost",ref:U.ref,guid:U.guid},A=J8(U.ref);if(Y.sheetRows&&Y.sheetRows<=A.r)return;var N=G.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),D=!!N&&!!N[1]&&RN(N[1])||{r:"",t:"",h:""};if(B.r=D.r,D.r=="<t></t>")D.t=D.h="";if(B.t=(D.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),Y.cellHTML)B.h=D.h;Q.push(B)});return Q}function G00(J,Y){var W=[],Q=!1,X={},M=0;return J.replace(d2,function G(H,U){var B=p0(H);switch(k4(B[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":X={author:B.personId,guid:B.id,ref:B.ref,T:1};break;case"</threadedComment>":if(X.t!=null)W.push(X);break;case"<text>":case"<text":M=U+H.length;break;case"</text>":X.t=J.slice(M,U).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":Q=!0;break;case"</mentions>":Q=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":Q=!0;break;case"</ext>":Q=!1;break;default:if(!Q&&Y.WTF)throw new Error("unrecognized "+B[0]+" in threaded comments")}return H}),W}function H00(J,Y){var W=[],Q=!1;return J.replace(d2,function X(M){var G=p0(M);switch(k4(G[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":W.push({name:G.displayname,id:G.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":Q=!0;break;case"</ext>":Q=!1;break;default:if(!Q&&Y.WTF)throw new Error("unrecognized "+G[0]+" in threaded comments")}return M}),W}function U00(J){var Y={};Y.iauthor=J.read_shift(4);var W=_J(J,16);return Y.rfx=W.s,Y.ref=o0(W.s),J.l+=16,Y}var B00=h2;function A00(J,Y){var W=[],Q=[],X={},M=!1;return I7(J,function G(H,U,B){switch(B){case 632:Q.push(H);break;case 635:X=H;break;case 637:X.t=H.t,X.h=H.h,X.r=H.r;break;case 636:if(X.author=Q[X.iauthor],delete X.iauthor,Y.sheetRows&&X.rfx&&Y.sheetRows<=X.rfx.r)break;if(!X.t)X.t="";delete X.rfx,W.push(X);break;case 3072:break;case 35:M=!0;break;case 36:M=!1;break;case 37:break;case 38:break;default:if(U.T);else if(!M||Y.WTF)throw new Error("Unexpected record 0x"+B.toString(16))}}),W}var N00="application/vnd.ms-office.vbaProject";function q00(J){var Y=F1.utils.cfb_new({root:"R"});return J.FullPaths.forEach(function(W,Q){if(W.slice(-1)==="/"||!W.match(/_VBA_PROJECT_CUR/))return;var X=W.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");F1.utils.cfb_add(Y,X,J.FileIndex[Q].content)}),F1.write(Y)}function D00(){return{"!type":"dialog"}}function Z00(){return{"!type":"dialog"}}function O00(){return{"!type":"macro"}}function K00(){return{"!type":"macro"}}var ZW=function(){var J=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,Y={r:0,c:0};function W(Q,X,M,G){var H=!1,U=!1;if(M.length==0)U=!0;else if(M.charAt(0)=="[")U=!0,M=M.slice(1,-1);if(G.length==0)H=!0;else if(G.charAt(0)=="[")H=!0,G=G.slice(1,-1);var B=M.length>0?parseInt(M,10)|0:0,A=G.length>0?parseInt(G,10)|0:0;if(H)A+=Y.c;else--A;if(U)B+=Y.r;else--B;return X+(H?"":"$")+e5(A)+(U?"":"$")+F2(B)}return function Q(X,M){return Y=M,X.replace(J,W)}}(),Uj=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,z00=function(){return function J(Y,W){return Y.replace(Uj,function(Q,X,M,G,H,U){var B=FN(G)-(M?0:W.c),A=VN(U)-(H?0:W.r),N=A==0?"":!H?"["+A+"]":A+1,D=B==0?"":!M?"["+B+"]":B+1;return X+"R"+N+"C"+D})}}();function Bj(J,Y){return J.replace(Uj,function(W,Q,X,M,G,H){return Q+(X=="$"?X+M:e5(FN(M)+Y.c))+(G=="$"?G+H:F2(VN(H)+Y.r))})}function L00(J,Y,W){var Q=FW(Y),X=Q.s,M=J8(W),G={r:M.r-X.r,c:M.c-X.c};return Bj(J,G)}function S00(J){if(J.length==1)return!1;return!0}function dE(J){return J.replace(/_xlfn\./g,"")}function f5(J){J.l+=1;return}function j9(J,Y){var W=J.read_shift(Y==1?1:2);return[W&16383,W>>14&1,W>>15&1]}function Aj(J,Y,W){var Q=2;if(W){if(W.biff>=2&&W.biff<=5)return Nj(J,Y,W);else if(W.biff==12)Q=4}var X=J.read_shift(Q),M=J.read_shift(Q),G=j9(J,2),H=j9(J,2);return{s:{r:X,c:G[0],cRel:G[1],rRel:G[2]},e:{r:M,c:H[0],cRel:H[1],rRel:H[2]}}}function Nj(J){var Y=j9(J,2),W=j9(J,2),Q=J.read_shift(1),X=J.read_shift(1);return{s:{r:Y[0],c:Q,cRel:Y[1],rRel:Y[2]},e:{r:W[0],c:X,cRel:W[1],rRel:W[2]}}}function V00(J,Y,W){if(W.biff<8)return Nj(J,Y,W);var Q=J.read_shift(W.biff==12?4:2),X=J.read_shift(W.biff==12?4:2),M=j9(J,2),G=j9(J,2);return{s:{r:Q,c:M[0],cRel:M[1],rRel:M[2]},e:{r:X,c:G[0],cRel:G[1],rRel:G[2]}}}function qj(J,Y,W){if(W&&W.biff>=2&&W.biff<=5)return F00(J,Y,W);var Q=J.read_shift(W&&W.biff==12?4:2),X=j9(J,2);return{r:Q,c:X[0],cRel:X[1],rRel:X[2]}}function F00(J){var Y=j9(J,2),W=J.read_shift(1);return{r:Y[0],c:W,cRel:Y[1],rRel:Y[2]}}function E00(J){var Y=J.read_shift(2),W=J.read_shift(2);return{r:Y,c:W&255,fQuoted:!!(W&16384),cRel:W>>15,rRel:W>>15}}function j00(J,Y,W){var Q=W&&W.biff?W.biff:8;if(Q>=2&&Q<=5)return P00(J,Y,W);var X=J.read_shift(Q>=12?4:2),M=J.read_shift(2),G=(M&16384)>>14,H=(M&32768)>>15;if(M&=16383,H==1)while(X>524287)X-=1048576;if(G==1)while(M>8191)M=M-16384;return{r:X,c:M,cRel:G,rRel:H}}function P00(J){var Y=J.read_shift(2),W=J.read_shift(1),Q=(Y&32768)>>15,X=(Y&16384)>>14;if(Y&=16383,Q==1&&Y>=8192)Y=Y-16384;if(X==1&&W>=128)W=W-256;return{r:Y,c:W,cRel:X,rRel:Q}}function C00(J,Y,W){var Q=(J[J.l++]&96)>>5,X=Aj(J,W.biff>=2&&W.biff<=5?6:8,W);return[Q,X]}function I00(J,Y,W){var Q=(J[J.l++]&96)>>5,X=J.read_shift(2,"i"),M=8;if(W)switch(W.biff){case 5:J.l+=12,M=6;break;case 12:M=12;break}var G=Aj(J,M,W);return[Q,X,G]}function R00(J,Y,W){var Q=(J[J.l++]&96)>>5;return J.l+=W&&W.biff>8?12:W.biff<8?6:8,[Q]}function T00(J,Y,W){var Q=(J[J.l++]&96)>>5,X=J.read_shift(2),M=8;if(W)switch(W.biff){case 5:J.l+=12,M=6;break;case 12:M=12;break}return J.l+=M,[Q,X]}function _00(J,Y,W){var Q=(J[J.l++]&96)>>5,X=V00(J,Y-1,W);return[Q,X]}function w00(J,Y,W){var Q=(J[J.l++]&96)>>5;return J.l+=W.biff==2?6:W.biff==12?14:7,[Q]}function cE(J){var Y=J[J.l+1]&1,W=1;return J.l+=4,[Y,W]}function k00(J,Y,W){J.l+=2;var Q=J.read_shift(W&&W.biff==2?1:2),X=[];for(var M=0;M<=Q;++M)X.push(J.read_shift(W&&W.biff==2?1:2));return X}function x00(J,Y,W){var Q=J[J.l+1]&255?1:0;return J.l+=2,[Q,J.read_shift(W&&W.biff==2?1:2)]}function g00(J,Y,W){var Q=J[J.l+1]&255?1:0;return J.l+=2,[Q,J.read_shift(W&&W.biff==2?1:2)]}function y00(J){var Y=J[J.l+1]&255?1:0;return J.l+=2,[Y,J.read_shift(2)]}function f00(J,Y,W){var Q=J[J.l+1]&255?1:0;return J.l+=W&&W.biff==2?3:4,[Q]}function Dj(J){var Y=J.read_shift(1),W=J.read_shift(1);return[Y,W]}function v00(J){return J.read_shift(2),Dj(J,2)}function b00(J){return J.read_shift(2),Dj(J,2)}function h00(J,Y,W){var Q=(J[J.l]&96)>>5;J.l+=1;var X=qj(J,0,W);return[Q,X]}function m00(J,Y,W){var Q=(J[J.l]&96)>>5;J.l+=1;var X=j00(J,0,W);return[Q,X]}function d00(J,Y,W){var Q=(J[J.l]&96)>>5;J.l+=1;var X=J.read_shift(2);if(W&&W.biff==5)J.l+=12;var M=qj(J,0,W);return[Q,X,M]}function c00(J,Y,W){var Q=(J[J.l]&96)>>5;J.l+=1;var X=J.read_shift(W&&W.biff<=3?1:2);return[u10[X],Kj[X],Q]}function u00(J,Y,W){var Q=J[J.l++],X=J.read_shift(1),M=W&&W.biff<=3?[Q==88?-1:0,J.read_shift(1)]:p00(J);return[X,(M[0]===0?Kj:c10)[M[1]]]}function p00(J){return[J[J.l+1]>>7,J.read_shift(2)&32767]}function n00(J,Y,W){J.l+=W&&W.biff==2?3:4;return}function i00(J,Y,W){if(J.l++,W&&W.biff==12)return[J.read_shift(4,"i"),0];var Q=J.read_shift(2),X=J.read_shift(W&&W.biff==2?1:2);return[Q,X]}function l00(J){return J.l++,wJ[J.read_shift(1)]}function o00(J){return J.l++,J.read_shift(2)}function r00(J){return J.l++,J.read_shift(1)!==0}function a00(J){return J.l++,f2(J,8)}function s00(J,Y,W){return J.l++,t$(J,Y-1,W)}function t00(J,Y){var W=[J.read_shift(1)];if(Y==12)switch(W[0]){case 2:W[0]=4;break;case 4:W[0]=16;break;case 0:W[0]=1;break;case 1:W[0]=2;break}switch(W[0]){case 4:if(W[1]=k5(J,1)?"TRUE":"FALSE",Y!=12)J.l+=7;break;case 37:case 16:W[1]=wJ[J[J.l]],J.l+=Y==12?4:8;break;case 0:J.l+=8;break;case 1:W[1]=f2(J,8);break;case 2:W[1]=kJ(J,0,{biff:Y>0&&Y<8?2:Y});break;default:throw new Error("Bad SerAr: "+W[0])}return W}function e00(J,Y,W){var Q=J.read_shift(W.biff==12?4:2),X=[];for(var M=0;M!=Q;++M)X.push((W.biff==12?_J:cG)(J,8));return X}function J10(J,Y,W){var Q=0,X=0;if(W.biff==12)Q=J.read_shift(4),X=J.read_shift(4);else X=1+J.read_shift(1),Q=1+J.read_shift(2);if(W.biff>=2&&W.biff<8){if(--Q,--X==0)X=256}for(var M=0,G=[];M!=Q&&(G[M]=[]);++M)for(var H=0;H!=X;++H)G[M][H]=t00(J,W.biff);return G}function Y10(J,Y,W){var Q=J.read_shift(1)>>>5&3,X=!W||W.biff>=8?4:2,M=J.read_shift(X);switch(W.biff){case 2:J.l+=5;break;case 3:case 4:J.l+=8;break;case 5:J.l+=12;break}return[Q,0,M]}function W10(J,Y,W){if(W.biff==5)return Q10(J,Y,W);var Q=J.read_shift(1)>>>5&3,X=J.read_shift(2),M=J.read_shift(4);return[Q,X,M]}function Q10(J){var Y=J.read_shift(1)>>>5&3,W=J.read_shift(2,"i");J.l+=8;var Q=J.read_shift(2);return J.l+=12,[Y,W,Q]}function $10(J,Y,W){var Q=J.read_shift(1)>>>5&3;J.l+=W&&W.biff==2?3:4;var X=J.read_shift(W&&W.biff==2?1:2);return[Q,X]}function X10(J,Y,W){var Q=J.read_shift(1)>>>5&3,X=J.read_shift(W&&W.biff==2?1:2);return[Q,X]}function M10(J,Y,W){var Q=J.read_shift(1)>>>5&3;if(J.l+=4,W.biff<8)J.l--;if(W.biff==12)J.l+=2;return[Q]}function G10(J,Y,W){var Q=(J[J.l++]&96)>>5,X=J.read_shift(2),M=4;if(W)switch(W.biff){case 5:M=15;break;case 12:M=6;break}return J.l+=M,[Q,X]}var H10=m2,U10=m2,B10=m2;function JX(J,Y,W){return J.l+=2,[E00(J,4,W)]}function _N(J){return J.l+=6,[]}var A10=JX,N10=_N,q10=_N,D10=JX;function Zj(J){return J.l+=2,[b5(J),J.read_shift(2)&1]}var Z10=JX,O10=Zj,K10=_N,z10=JX,L10=JX,S10=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function V10(J){J.l+=2;var Y=J.read_shift(2),W=J.read_shift(2),Q=J.read_shift(4),X=J.read_shift(2),M=J.read_shift(2),G=S10[W>>2&31];return{ixti:Y,coltype:W&3,rt:G,idx:Q,c:X,C:M}}function F10(J){return J.l+=2,[J.read_shift(4)]}function E10(J,Y,W){return J.l+=5,J.l+=2,J.l+=W.biff==2?1:4,["PTGSHEET"]}function j10(J,Y,W){return J.l+=W.biff==2?4:5,["PTGENDSHEET"]}function P10(J){var Y=J.read_shift(1)>>>5&3,W=J.read_shift(2);return[Y,W]}function C10(J){var Y=J.read_shift(1)>>>5&3,W=J.read_shift(2);return[Y,W]}function I10(J){return J.l+=4,[0,0]}var uE={1:{n:"PtgExp",f:i00},2:{n:"PtgTbl",f:B10},3:{n:"PtgAdd",f:f5},4:{n:"PtgSub",f:f5},5:{n:"PtgMul",f:f5},6:{n:"PtgDiv",f:f5},7:{n:"PtgPower",f:f5},8:{n:"PtgConcat",f:f5},9:{n:"PtgLt",f:f5},10:{n:"PtgLe",f:f5},11:{n:"PtgEq",f:f5},12:{n:"PtgGe",f:f5},13:{n:"PtgGt",f:f5},14:{n:"PtgNe",f:f5},15:{n:"PtgIsect",f:f5},16:{n:"PtgUnion",f:f5},17:{n:"PtgRange",f:f5},18:{n:"PtgUplus",f:f5},19:{n:"PtgUminus",f:f5},20:{n:"PtgPercent",f:f5},21:{n:"PtgParen",f:f5},22:{n:"PtgMissArg",f:f5},23:{n:"PtgStr",f:s00},26:{n:"PtgSheet",f:E10},27:{n:"PtgEndSheet",f:j10},28:{n:"PtgErr",f:l00},29:{n:"PtgBool",f:r00},30:{n:"PtgInt",f:o00},31:{n:"PtgNum",f:a00},32:{n:"PtgArray",f:w00},33:{n:"PtgFunc",f:c00},34:{n:"PtgFuncVar",f:u00},35:{n:"PtgName",f:Y10},36:{n:"PtgRef",f:h00},37:{n:"PtgArea",f:C00},38:{n:"PtgMemArea",f:$10},39:{n:"PtgMemErr",f:H10},40:{n:"PtgMemNoMem",f:U10},41:{n:"PtgMemFunc",f:X10},42:{n:"PtgRefErr",f:M10},43:{n:"PtgAreaErr",f:R00},44:{n:"PtgRefN",f:m00},45:{n:"PtgAreaN",f:_00},46:{n:"PtgMemAreaN",f:P10},47:{n:"PtgMemNoMemN",f:C10},57:{n:"PtgNameX",f:W10},58:{n:"PtgRef3d",f:d00},59:{n:"PtgArea3d",f:I00},60:{n:"PtgRefErr3d",f:G10},61:{n:"PtgAreaErr3d",f:T00},255:{}},R10={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},T10={1:{n:"PtgElfLel",f:Zj},2:{n:"PtgElfRw",f:z10},3:{n:"PtgElfCol",f:A10},6:{n:"PtgElfRwV",f:L10},7:{n:"PtgElfColV",f:D10},10:{n:"PtgElfRadical",f:Z10},11:{n:"PtgElfRadicalS",f:K10},13:{n:"PtgElfColS",f:N10},15:{n:"PtgElfColSV",f:q10},16:{n:"PtgElfRadicalLel",f:O10},25:{n:"PtgList",f:V10},29:{n:"PtgSxName",f:F10},255:{}},_10={0:{n:"PtgAttrNoop",f:I10},1:{n:"PtgAttrSemi",f:f00},2:{n:"PtgAttrIf",f:g00},4:{n:"PtgAttrChoose",f:k00},8:{n:"PtgAttrGoto",f:x00},16:{n:"PtgAttrSum",f:n00},32:{n:"PtgAttrBaxcel",f:cE},33:{n:"PtgAttrBaxcel",f:cE},64:{n:"PtgAttrSpace",f:v00},65:{n:"PtgAttrSpaceSemi",f:b00},128:{n:"PtgAttrIfError",f:y00},255:{}};function YX(J,Y,W,Q){if(Q.biff<8)return m2(J,Y);var X=J.l+Y,M=[];for(var G=0;G!==W.length;++G)switch(W[G][0]){case"PtgArray":W[G][1]=J10(J,0,Q),M.push(W[G][1]);break;case"PtgMemArea":W[G][2]=e00(J,W[G][1],Q),M.push(W[G][2]);break;case"PtgExp":if(Q&&Q.biff==12)W[G][1][1]=J.read_shift(4),M.push(W[G][1]);break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+W[G][0];default:break}if(Y=X-J.l,Y!==0)M.push(m2(J,Y));return M}function WX(J,Y,W){var Q=J.l+Y,X,M,G=[];while(Q!=J.l){if(Y=Q-J.l,M=J[J.l],X=uE[M]||uE[R10[M]],M===24||M===25)X=(M===24?T10:_10)[J[J.l+1]];if(!X||!X.f)m2(J,Y);else G.push([X.n,X.f(J,Y,W)])}return G}function w10(J){var Y=[];for(var W=0;W<J.length;++W){var Q=J[W],X=[];for(var M=0;M<Q.length;++M){var G=Q[M];if(G)switch(G[0]){case 2:X.push('"'+G[1].replace(/"/g,'""')+'"');break;default:X.push(G[1])}else X.push("")}Y.push(X.join(","))}return Y.join(";")}var k10={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function x10(J,Y){if(!J&&!(Y&&Y.biff<=5&&Y.biff>=2))throw new Error("empty sheet name");if(/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(J))return"'"+J+"'";return J}function Oj(J,Y,W){if(!J)return"SH33TJSERR0";if(W.biff>8&&(!J.XTI||!J.XTI[Y]))return J.SheetNames[Y];if(!J.XTI)return"SH33TJSERR6";var Q=J.XTI[Y];if(W.biff<8){if(Y>1e4)Y-=65536;if(Y<0)Y=-Y;return Y==0?"":J.XTI[Y-1]}if(!Q)return"SH33TJSERR1";var X="";if(W.biff>8)switch(J[Q[0]][0]){case 357:return X=Q[1]==-1?"#REF":J.SheetNames[Q[1]],Q[1]==Q[2]?X:X+":"+J.SheetNames[Q[2]];case 358:if(W.SID!=null)return J.SheetNames[W.SID];return"SH33TJSSAME"+J[Q[0]][0];case 355:default:return"SH33TJSSRC"+J[Q[0]][0]}switch(J[Q[0]][0][0]){case 1025:return X=Q[1]==-1?"#REF":J.SheetNames[Q[1]]||"SH33TJSERR3",Q[1]==Q[2]?X:X+":"+J.SheetNames[Q[2]];case 14849:return J[Q[0]].slice(1).map(function(M){return M.Name}).join(";;");default:if(!J[Q[0]][0][3])return"SH33TJSERR2";return X=Q[1]==-1?"#REF":J[Q[0]][0][3][Q[1]]||"SH33TJSERR4",Q[1]==Q[2]?X:X+":"+J[Q[0]][0][3][Q[2]]}}function pE(J,Y,W){var Q=Oj(J,Y,W);return Q=="#REF"?Q:x10(Q,W)}function y2(J,Y,W,Q,X){var M=X&&X.biff||8,G={s:{c:0,r:0},e:{c:0,r:0}},H=[],U,B,A,N=0,D=0,q,K="";if(!J[0]||!J[0][0])return"";var O=-1,z="";for(var V=0,L=J[0].length;V<L;++V){var S=J[0][V];switch(S[0]){case"PtgUminus":H.push("-"+H.pop());break;case"PtgUplus":H.push("+"+H.pop());break;case"PtgPercent":H.push(H.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(U=H.pop(),B=H.pop(),O>=0){switch(J[0][O][1][0]){case 0:z=F5(" ",J[0][O][1][1]);break;case 1:z=F5("\r",J[0][O][1][1]);break;default:if(z="",X.WTF)throw new Error("Unexpected PtgAttrSpaceType "+J[0][O][1][0])}B=B+z,O=-1}H.push(B+k10[S[0]]+U);break;case"PtgIsect":U=H.pop(),B=H.pop(),H.push(B+" "+U);break;case"PtgUnion":U=H.pop(),B=H.pop(),H.push(B+","+U);break;case"PtgRange":U=H.pop(),B=H.pop(),H.push(B+":"+U);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":A=f$(S[1][1],G,X),H.push(v$(A,M));break;case"PtgRefN":A=W?f$(S[1][1],W,X):S[1][1],H.push(v$(A,M));break;case"PtgRef3d":N=S[1][1],A=f$(S[1][2],G,X),K=pE(Q,N,X);var g=K;H.push(K+"!"+v$(A,M));break;case"PtgFunc":case"PtgFuncVar":var d=S[1][0],I=S[1][1];if(!d)d=0;d&=127;var F=d==0?[]:H.slice(-d);if(H.length-=d,I==="User")I=F.shift();H.push(I+"("+F.join(",")+")");break;case"PtgBool":H.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":H.push(S[1]);break;case"PtgNum":H.push(String(S[1]));break;case"PtgStr":H.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":H.push(S[1]);break;case"PtgAreaN":q=jE(S[1][1],W?{s:W}:G,X),H.push(cA(q,X));break;case"PtgArea":q=jE(S[1][1],G,X),H.push(cA(q,X));break;case"PtgArea3d":N=S[1][1],q=S[1][2],K=pE(Q,N,X),H.push(K+"!"+cA(q,X));break;case"PtgAttrSum":H.push("SUM("+H.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":D=S[1][2];var R=(Q.names||[])[D-1]||(Q[0]||[])[D],j=R?R.Name:"SH33TJSNAME"+String(D);if(j&&j.slice(0,6)=="_xlfn."&&!X.xlfn)j=j.slice(6);H.push(j);break;case"PtgNameX":var x=S[1][1];D=S[1][2];var _;if(X.biff<=5){if(x<0)x=-x;if(Q[x])_=Q[x][D]}else{var k="";if(((Q[x]||[])[0]||[])[0]==14849);else if(((Q[x]||[])[0]||[])[0]==1025){if(Q[x][D]&&Q[x][D].itab>0)k=Q.SheetNames[Q[x][D].itab-1]+"!"}else k=Q.SheetNames[D-1]+"!";if(Q[x]&&Q[x][D])k+=Q[x][D].Name;else if(Q[0]&&Q[0][D])k+=Q[0][D].Name;else{var l=(Oj(Q,x,X)||"").split(";;");if(l[D-1])k=l[D-1];else k+="SH33TJSERRX"}H.push(k);break}if(!_)_={Name:"SH33TJSERRY"};H.push(_.Name);break;case"PtgParen":var q0="(",r=")";if(O>=0){switch(z="",J[0][O][1][0]){case 2:q0=F5(" ",J[0][O][1][1])+q0;break;case 3:q0=F5("\r",J[0][O][1][1])+q0;break;case 4:r=F5(" ",J[0][O][1][1])+r;break;case 5:r=F5("\r",J[0][O][1][1])+r;break;default:if(X.WTF)throw new Error("Unexpected PtgAttrSpaceType "+J[0][O][1][0])}O=-1}H.push(q0+H.pop()+r);break;case"PtgRefErr":H.push("#REF!");break;case"PtgRefErr3d":H.push("#REF!");break;case"PtgExp":A={c:S[1][1],r:S[1][0]};var Z0={c:W.c,r:W.r};if(Q.sharedf[o0(A)]){var C0=Q.sharedf[o0(A)];H.push(y2(C0,G,Z0,Q,X))}else{var r0=!1;for(U=0;U!=Q.arrayf.length;++U){if(B=Q.arrayf[U],A.c<B[0].s.c||A.c>B[0].e.c)continue;if(A.r<B[0].s.r||A.r>B[0].e.r)continue;H.push(y2(B[1],G,Z0,Q,X)),r0=!0;break}if(!r0)H.push(S[1])}break;case"PtgArray":H.push("{"+w10(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":O=V;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":H.push("");break;case"PtgAreaErr":H.push("#REF!");break;case"PtgAreaErr3d":H.push("#REF!");break;case"PtgList":H.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var L0=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(X.biff!=3){if(O>=0&&L0.indexOf(J[0][V][0])==-1){S=J[0][O];var _0=!0;switch(S[1][0]){case 4:_0=!1;case 0:z=F5(" ",S[1][1]);break;case 5:_0=!1;case 1:z=F5("\r",S[1][1]);break;default:if(z="",X.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}H.push((_0?z:"")+H.pop()+(_0?"":z)),O=-1}}}if(H.length>1&&X.WTF)throw new Error("bad formula stack");return H[0]}function g10(J,Y,W){var Q=J.l+Y,X=W.biff==2?1:2,M,G=J.read_shift(X);if(G==65535)return[[],m2(J,Y-2)];var H=WX(J,G,W);if(Y!==G+X)M=YX(J,Y-G-X,H,W);return J.l=Q,[H,M]}function y10(J,Y,W){var Q=J.l+Y,X=W.biff==2?1:2,M,G=J.read_shift(X);if(G==65535)return[[],m2(J,Y-2)];var H=WX(J,G,W);if(Y!==G+X)M=YX(J,Y-G-X,H,W);return J.l=Q,[H,M]}function f10(J,Y,W,Q){var X=J.l+Y,M=WX(J,Q,W),G;if(X!==J.l)G=YX(J,X-J.l,M,W);return[M,G]}function v10(J,Y,W){var Q=J.l+Y,X,M=J.read_shift(2),G=WX(J,M,W);if(M==65535)return[[],m2(J,Y-2)];if(Y!==M+2)X=YX(J,Q-M-2,G,W);return[G,X]}function b10(J){var Y;if(E7(J,J.l+6)!==65535)return[f2(J),"n"];switch(J[J.l]){case 0:return J.l+=8,["String","s"];case 1:return Y=J[J.l+2]===1,J.l+=8,[Y,"b"];case 2:return Y=J[J.l+2],J.l+=8,[Y,"e"];case 3:return J.l+=8,["","s"]}return[]}function nA(J,Y,W){var Q=J.l+Y,X=x4(J,6);if(W.biff==2)++J.l;var M=b10(J,8),G=J.read_shift(1);if(W.biff!=2){if(J.read_shift(1),W.biff>=5)J.read_shift(4)}var H=y10(J,Q-J.l,W);return{cell:X,val:M[0],formula:H,shared:G>>3&1,tt:M[1]}}function uG(J,Y,W){var Q=J.read_shift(4),X=WX(J,Q,W),M=J.read_shift(4),G=M>0?YX(J,M,X,W):null;return[X,G]}var h10=uG,pG=uG,m10=uG,d10=uG,c10={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Kj={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},u10={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function nE(J){if(J.slice(0,3)=="of:")J=J.slice(3);if(J.charCodeAt(0)==61){if(J=J.slice(1),J.charCodeAt(0)==61)J=J.slice(1)}return J=J.replace(/COM\.MICROSOFT\./g,""),J=J.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(Y,W){return W.replace(/\./g,"")}),J=J.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),J.replace(/[;~]/g,",").replace(/\|/g,";")}function iA(J){var Y=J.split(":"),W=Y[0].split(".")[0];return[W,Y[0].split(".")[1]+(Y.length>1?":"+(Y[1].split(".")[1]||Y[1].split(".")[0]):"")]}var d$={},OW={};function c$(J,Y){if(!J)return;var W=[0.7,0.7,0.75,0.75,0.3,0.3];if(Y=="xlml")W=[1,1,1,1,0.5,0.5];if(J.left==null)J.left=W[0];if(J.right==null)J.right=W[1];if(J.top==null)J.top=W[2];if(J.bottom==null)J.bottom=W[3];if(J.header==null)J.header=W[4];if(J.footer==null)J.footer=W[5]}function zj(J,Y,W,Q,X,M){try{if(Q.cellNF)J.z=e0[Y]}catch(H){if(Q.WTF)throw H}if(J.t==="z"&&!Q.cellStyles)return;if(J.t==="d"&&typeof J.v==="string")J.v=U2(J.v);if((!Q||Q.cellText!==!1)&&J.t!=="z")try{if(e0[Y]==null)FJ(ur[Y]||"General",Y);if(J.t==="e")J.w=J.w||wJ[J.v];else if(Y===0)if(J.t==="n")if((J.v|0)===J.v)J.w=J.v.toString(10);else J.w=p$(J.v);else if(J.t==="d"){var G=Y8(J.v);if((G|0)===G)J.w=G.toString(10);else J.w=p$(G)}else if(J.v===void 0)return"";else J.w=jJ(J.v,OW);else if(J.t==="d")J.w=B6(Y,Y8(J.v),OW);else J.w=B6(Y,J.v,OW)}catch(H){if(Q.WTF)throw H}if(!Q.cellStyles)return;if(W!=null)try{if(J.s=M.Fills[W],J.s.fgColor&&J.s.fgColor.theme&&!J.s.fgColor.rgb){if(J.s.fgColor.rgb=yG(X.themeElements.clrScheme[J.s.fgColor.theme].rgb,J.s.fgColor.tint||0),Q.WTF)J.s.fgColor.raw_rgb=X.themeElements.clrScheme[J.s.fgColor.theme].rgb}if(J.s.bgColor&&J.s.bgColor.theme){if(J.s.bgColor.rgb=yG(X.themeElements.clrScheme[J.s.bgColor.theme].rgb,J.s.bgColor.tint||0),Q.WTF)J.s.bgColor.raw_rgb=X.themeElements.clrScheme[J.s.bgColor.theme].rgb}}catch(H){if(Q.WTF&&M.Fills)throw H}}function p10(J,Y){var W=E5(Y);if(W.s.r<=W.e.r&&W.s.c<=W.e.c&&W.s.r>=0&&W.s.c>=0)J["!ref"]=E1(W)}var n10=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,i10=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,l10=/<(?:\w:)?hyperlink [^>]*>/mg,o10=/"(\w*:\w*)"/,r10=/<(?:\w:)?col\b[^>]*[\/]?>/g,a10=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,s10=/<(?:\w:)?pageMargins[^>]*\/>/g,Lj=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,t10=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,e10=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function J50(J,Y,W,Q,X,M,G){if(!J)return J;if(!Q)Q={"!id":{}};if(m5!=null&&Y.dense==null)Y.dense=m5;var H=Y.dense?[]:{},U={s:{r:2000000,c:2000000},e:{r:0,c:0}},B="",A="",N=J.match(i10);if(N)B=J.slice(0,N.index),A=J.slice(N.index+N[0].length);else B=A=J;var D=B.match(Lj);if(D)wN(D[0],H,X,W);else if(D=B.match(t10))Y50(D[0],D[1]||"",H,X,W,G,M);var q=(B.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(q>0){var K=B.slice(q,q+50).match(o10);if(K)p10(H,K[1])}var O=B.match(e10);if(O&&O[1])G50(O[1],X);var z=[];if(Y.cellStyles){var V=B.match(r10);if(V)$50(z,V)}if(N)H50(N[1],H,Y,U,M,G);var L=A.match(a10);if(L)H["!autofilter"]=X50(L[0]);var S=[],g=A.match(n10);if(g)for(q=0;q!=g.length;++q)S[q]=E5(g[q].slice(g[q].indexOf('"')+1));var d=A.match(l10);if(d)W50(H,d,Q);var I=A.match(s10);if(I)H["!margins"]=Q50(p0(I[0]));if(!H["!ref"]&&U.e.c>=U.s.c&&U.e.r>=U.s.r)H["!ref"]=E1(U);if(Y.sheetRows>0&&H["!ref"]){var F=E5(H["!ref"]);if(Y.sheetRows<=+F.e.r){if(F.e.r=Y.sheetRows-1,F.e.r>U.e.r)F.e.r=U.e.r;if(F.e.r<F.s.r)F.s.r=F.e.r;if(F.e.c>U.e.c)F.e.c=U.e.c;if(F.e.c<F.s.c)F.s.c=F.e.c;H["!fullref"]=H["!ref"],H["!ref"]=E1(F)}}if(z.length>0)H["!cols"]=z;if(S.length>0)H["!merges"]=S;return H}function wN(J,Y,W,Q){var X=p0(J);if(!W.Sheets[Q])W.Sheets[Q]={};if(X.codeName)W.Sheets[Q].CodeName=I1(s1(X.codeName))}function Y50(J,Y,W,Q,X){wN(J.slice(0,J.indexOf(">")),W,Q,X)}function W50(J,Y,W){var Q=Array.isArray(J);for(var X=0;X!=Y.length;++X){var M=p0(s1(Y[X]),!0);if(!M.ref)return;var G=((W||{})["!id"]||[])[M.id];if(G){if(M.Target=G.Target,M.location)M.Target+="#"+I1(M.location)}else M.Target="#"+I1(M.location),G={Target:M.Target,TargetMode:"Internal"};if(M.Rel=G,M.tooltip)M.Tooltip=M.tooltip,delete M.tooltip;var H=E5(M.ref);for(var U=H.s.r;U<=H.e.r;++U)for(var B=H.s.c;B<=H.e.c;++B){var A=o0({c:B,r:U});if(Q){if(!J[U])J[U]=[];if(!J[U][B])J[U][B]={t:"z",v:void 0};J[U][B].l=M}else{if(!J[A])J[A]={t:"z",v:void 0};J[A].l=M}}}}function Q50(J){var Y={};return["left","right","top","bottom","header","footer"].forEach(function(W){if(J[W])Y[W]=parseFloat(J[W])}),Y}function $50(J,Y){var W=!1;for(var Q=0;Q!=Y.length;++Q){var X=p0(Y[Q],!0);if(X.hidden)X.hidden=A5(X.hidden);var M=parseInt(X.min,10)-1,G=parseInt(X.max,10)-1;if(X.outlineLevel)X.level=+X.outlineLevel||0;if(delete X.min,delete X.max,X.width=+X.width,!W&&X.width)W=!0,TN(X.width);LW(X);while(M<=G)J[M++]=V2(X)}}function X50(J){var Y={ref:(J.match(/ref="([^"]*)"/)||[])[1]};return Y}var M50=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function G50(J,Y){if(!Y.Views)Y.Views=[{}];(J.match(M50)||[]).forEach(function(W,Q){var X=p0(W);if(!Y.Views[Q])Y.Views[Q]={};if(+X.zoomScale)Y.Views[Q].zoom=+X.zoomScale;if(A5(X.rightToLeft))Y.Views[Q].RTL=!0})}var H50=function(){var J=/<(?:\w+:)?c[ \/>]/,Y=/<\/(?:\w+:)?row>/,W=/r=["']([^"']*)["']/,Q=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,X=/ref=["']([^"']*)["']/,M=n$("v"),G=n$("f");return function H(U,B,A,N,D,q){var K=0,O="",z=[],V=[],L=0,S=0,g=0,d="",I,F,R=0,j=0,x,_,k=0,l=0,q0=Array.isArray(q.CellXf),r,Z0=[],C0=[],r0=Array.isArray(B),L0=[],_0={},Q0=!1,h=!!A.sheetStubs;for(var o=U.split(Y),c=0,m=o.length;c!=m;++c){O=o[c].trim();var U0=O.length;if(U0===0)continue;var I0=0;J:for(K=0;K<U0;++K)switch(O[K]){case">":if(O[K-1]!="/"){++K;break J}if(A&&A.cellStyles){if(F=p0(O.slice(I0,K),!0),R=F.r!=null?parseInt(F.r,10):R+1,j=-1,A.sheetRows&&A.sheetRows<R)continue;if(_0={},Q0=!1,F.ht)Q0=!0,_0.hpt=parseFloat(F.ht),_0.hpx=r$(_0.hpt);if(F.hidden=="1")Q0=!0,_0.hidden=!0;if(F.outlineLevel!=null)Q0=!0,_0.level=+F.outlineLevel;if(Q0)L0[R-1]=_0}break;case"<":I0=K;break}if(I0>=K)break;if(F=p0(O.slice(I0,K),!0),R=F.r!=null?parseInt(F.r,10):R+1,j=-1,A.sheetRows&&A.sheetRows<R)continue;if(N.s.r>R-1)N.s.r=R-1;if(N.e.r<R-1)N.e.r=R-1;if(A&&A.cellStyles){if(_0={},Q0=!1,F.ht)Q0=!0,_0.hpt=parseFloat(F.ht),_0.hpx=r$(_0.hpt);if(F.hidden=="1")Q0=!0,_0.hidden=!0;if(F.outlineLevel!=null)Q0=!0,_0.level=+F.outlineLevel;if(Q0)L0[R-1]=_0}z=O.slice(K).split(J);for(var z0=0;z0!=z.length;++z0)if(z[z0].trim().charAt(0)!="<")break;z=z.slice(z0);for(K=0;K!=z.length;++K){if(O=z[K].trim(),O.length===0)continue;if(V=O.match(W),L=K,S=0,g=0,O="<c "+(O.slice(0,1)=="<"?">":"")+O,V!=null&&V.length===2){L=0,d=V[1];for(S=0;S!=d.length;++S){if((g=d.charCodeAt(S)-64)<1||g>26)break;L=26*L+g}--L,j=L}else++j;for(S=0;S!=O.length;++S)if(O.charCodeAt(S)===62)break;if(++S,F=p0(O.slice(0,S),!0),!F.r)F.r=o0({r:R-1,c:j});if(d=O.slice(S),I={t:""},(V=d.match(M))!=null&&V[1]!=="")I.v=I1(V[1]);if(A.cellFormula){if((V=d.match(G))!=null&&V[1]!==""){if(I.f=I1(s1(V[1])).replace(/\r\n/g,`
`),!A.xlfn)I.f=dE(I.f);if(V[0].indexOf('t="array"')>-1){if(I.F=(d.match(X)||[])[1],I.F.indexOf(":")>-1)Z0.push([E5(I.F),I.F])}else if(V[0].indexOf('t="shared"')>-1){_=p0(V[0]);var s=I1(s1(V[1]));if(!A.xlfn)s=dE(s);C0[parseInt(_.si,10)]=[_,s,F.r]}}else if(V=d.match(/<f[^>]*\/>/)){if(_=p0(V[0]),C0[_.si])I.f=L00(C0[_.si][1],C0[_.si][2],F.r)}var i=J8(F.r);for(S=0;S<Z0.length;++S)if(i.r>=Z0[S][0].s.r&&i.r<=Z0[S][0].e.r){if(i.c>=Z0[S][0].s.c&&i.c<=Z0[S][0].e.c)I.F=Z0[S][1]}}if(F.t==null&&I.v===void 0)if(I.f||I.F)I.v=0,I.t="n";else if(!h)continue;else I.t="z";else I.t=F.t||"n";if(N.s.c>j)N.s.c=j;if(N.e.c<j)N.e.c=j;switch(I.t){case"n":if(I.v==""||I.v==null){if(!h)continue;I.t="z"}else I.v=parseFloat(I.v);break;case"s":if(typeof I.v=="undefined"){if(!h)continue;I.t="z"}else if(x=d$[parseInt(I.v,10)],I.v=x.t,I.r=x.r,A.cellHTML)I.h=x.h;break;case"str":if(I.t="s",I.v=I.v!=null?s1(I.v):"",A.cellHTML)I.h=DN(I.v);break;case"inlineStr":if(V=d.match(Q),I.t="s",V!=null&&(x=RN(V[1]))){if(I.v=x.t,A.cellHTML)I.h=x.h}else I.v="";break;case"b":I.v=A5(I.v);break;case"d":if(A.cellDates)I.v=U2(I.v,1);else I.v=Y8(U2(I.v,1)),I.t="n";break;case"e":if(!A||A.cellText!==!1)I.w=I.v;I.v=m3[I.v];break}if(k=l=0,r=null,q0&&F.s!==void 0){if(r=q.CellXf[F.s],r!=null){if(r.numFmtId!=null)k=r.numFmtId;if(A.cellStyles){if(r.fillId!=null)l=r.fillId}}}if(zj(I,k,l,A,D,q),A.cellDates&&q0&&I.t=="n"&&SW(e0[k]))I.t="d",I.v=mG(I.v);if(F.cm&&A.xlmeta){var C=(A.xlmeta.Cell||[])[+F.cm-1];if(C&&C.type=="XLDAPR")I.D=!0}if(r0){var E=J8(F.r);if(!B[E.r])B[E.r]=[];B[E.r][E.c]=I}else B[F.r]=I}}if(L0.length>0)B["!rows"]=L0}}();function U50(J,Y){var W={},Q=J.l+Y;W.r=J.read_shift(4),J.l+=4;var X=J.read_shift(2);J.l+=1;var M=J.read_shift(1);if(J.l=Q,M&7)W.level=M&7;if(M&16)W.hidden=!0;if(M&32)W.hpt=X/20;return W}var B50=_J;function A50(){}function N50(J,Y){var W={},Q=J[J.l];return++J.l,W.above=!(Q&64),W.left=!(Q&128),J.l+=18,W.name=xa(J,Y-19),W}function q50(J){var Y=A6(J);return[Y]}function D50(J){var Y=TJ(J);return[Y]}function Z50(J){var Y=A6(J),W=J.read_shift(1);return[Y,W,"b"]}function O50(J){var Y=TJ(J),W=J.read_shift(1);return[Y,W,"b"]}function K50(J){var Y=A6(J),W=J.read_shift(1);return[Y,W,"e"]}function z50(J){var Y=TJ(J),W=J.read_shift(1);return[Y,W,"e"]}function L50(J){var Y=A6(J),W=J.read_shift(4);return[Y,W,"s"]}function S50(J){var Y=TJ(J),W=J.read_shift(4);return[Y,W,"s"]}function V50(J){var Y=A6(J),W=f2(J);return[Y,W,"n"]}function Sj(J){var Y=TJ(J),W=f2(J);return[Y,W,"n"]}function F50(J){var Y=A6(J),W=PN(J);return[Y,W,"n"]}function E50(J){var Y=TJ(J),W=PN(J);return[Y,W,"n"]}function j50(J){var Y=A6(J),W=EN(J);return[Y,W,"is"]}function P50(J){var Y=A6(J),W=h2(J);return[Y,W,"str"]}function C50(J){var Y=TJ(J),W=h2(J);return[Y,W,"str"]}function I50(J,Y,W){var Q=J.l+Y,X=A6(J);X.r=W["!row"];var M=J.read_shift(1),G=[X,M,"b"];if(W.cellFormula){J.l+=2;var H=pG(J,Q-J.l,W);G[3]=y2(H,null,X,W.supbooks,W)}else J.l=Q;return G}function R50(J,Y,W){var Q=J.l+Y,X=A6(J);X.r=W["!row"];var M=J.read_shift(1),G=[X,M,"e"];if(W.cellFormula){J.l+=2;var H=pG(J,Q-J.l,W);G[3]=y2(H,null,X,W.supbooks,W)}else J.l=Q;return G}function T50(J,Y,W){var Q=J.l+Y,X=A6(J);X.r=W["!row"];var M=f2(J),G=[X,M,"n"];if(W.cellFormula){J.l+=2;var H=pG(J,Q-J.l,W);G[3]=y2(H,null,X,W.supbooks,W)}else J.l=Q;return G}function _50(J,Y,W){var Q=J.l+Y,X=A6(J);X.r=W["!row"];var M=h2(J),G=[X,M,"str"];if(W.cellFormula){J.l+=2;var H=pG(J,Q-J.l,W);G[3]=y2(H,null,X,W.supbooks,W)}else J.l=Q;return G}var w50=_J;function k50(J,Y){var W=J.l+Y,Q=_J(J,16),X=jN(J),M=h2(J),G=h2(J),H=h2(J);J.l=W;var U={rfx:Q,relId:X,loc:M,display:H};if(G)U.Tooltip=G;return U}function x50(){}function g50(J,Y,W){var Q=J.l+Y,X=v3(J,16),M=J.read_shift(1),G=[X];if(G[2]=M,W.cellFormula){var H=h10(J,Q-J.l,W);G[1]=H}else J.l=Q;return G}function y50(J,Y,W){var Q=J.l+Y,X=_J(J,16),M=[X];if(W.cellFormula){var G=d10(J,Q-J.l,W);M[1]=G,J.l=Q}else J.l=Q;return M}var f50=["left","right","top","bottom","header","footer"];function v50(J){var Y={};return f50.forEach(function(W){Y[W]=f2(J,8)}),Y}function b50(J){var Y=J.read_shift(2);return J.l+=28,{RTL:Y&32}}function h50(){}function m50(){}function d50(J,Y,W,Q,X,M,G){if(!J)return J;var H=Y||{};if(!Q)Q={"!id":{}};if(m5!=null&&H.dense==null)H.dense=m5;var U=H.dense?[]:{},B,A={s:{r:2000000,c:2000000},e:{r:0,c:0}},N=[],D=!1,q=!1,K,O,z,V,L,S,g,d,I,F=[];H.biff=12,H["!row"]=0;var R=0,j=!1,x=[],_={},k=H.supbooks||X.supbooks||[[]];if(k.sharedf=_,k.arrayf=x,k.SheetNames=X.SheetNames||X.Sheets.map(function(_0){return _0.name}),!H.supbooks){if(H.supbooks=k,X.Names)for(var l=0;l<X.Names.length;++l)k[0][l+1]=X.Names[l]}var q0=[],r=[],Z0=!1;bG[16]={n:"BrtShortReal",f:Sj};var C0,r0;if(I7(J,function _0(Q0,h,o){if(q)return;switch(o){case 148:B=Q0;break;case 0:if(K=Q0,H.sheetRows&&H.sheetRows<=K.r)q=!0;if(d=F2(V=K.r),H["!row"]=K.r,Q0.hidden||Q0.hpt||Q0.level!=null){if(Q0.hpt)Q0.hpx=r$(Q0.hpt);r[Q0.r]=Q0}break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(O={t:Q0[2]},Q0[2]){case"n":O.v=Q0[1];break;case"s":g=d$[Q0[1]],O.v=g.t,O.r=g.r;break;case"b":O.v=Q0[1]?!0:!1;break;case"e":if(O.v=Q0[1],H.cellText!==!1)O.w=wJ[O.v];break;case"str":O.t="s",O.v=Q0[1];break;case"is":O.t="s",O.v=Q0[1].t;break}if(z=G.CellXf[Q0[0].iStyleRef])zj(O,z.numFmtId,null,H,M,G);if(L=Q0[0].c==-1?L+1:Q0[0].c,H.dense){if(!U[V])U[V]=[];U[V][L]=O}else U[e5(L)+d]=O;if(H.cellFormula){j=!1;for(R=0;R<x.length;++R){var c=x[R];if(K.r>=c[0].s.r&&K.r<=c[0].e.r){if(L>=c[0].s.c&&L<=c[0].e.c)O.F=E1(c[0]),j=!0}}if(!j&&Q0.length>3)O.f=Q0[3]}if(A.s.r>K.r)A.s.r=K.r;if(A.s.c>L)A.s.c=L;if(A.e.r<K.r)A.e.r=K.r;if(A.e.c<L)A.e.c=L;if(H.cellDates&&z&&O.t=="n"&&SW(e0[z.numFmtId])){var m=VJ(O.v);if(m)O.t="d",O.v=new Date(m.y,m.m-1,m.d,m.H,m.M,m.S,m.u)}if(C0){if(C0.type=="XLDAPR")O.D=!0;C0=void 0}if(r0)r0=void 0;break;case 1:case 12:if(!H.sheetStubs||D)break;if(O={t:"z",v:void 0},L=Q0[0].c==-1?L+1:Q0[0].c,H.dense){if(!U[V])U[V]=[];U[V][L]=O}else U[e5(L)+d]=O;if(A.s.r>K.r)A.s.r=K.r;if(A.s.c>L)A.s.c=L;if(A.e.r<K.r)A.e.r=K.r;if(A.e.c<L)A.e.c=L;if(C0){if(C0.type=="XLDAPR")O.D=!0;C0=void 0}if(r0)r0=void 0;break;case 176:F.push(Q0);break;case 49:C0=((H.xlmeta||{}).Cell||[])[Q0-1];break;case 494:var U0=Q["!id"][Q0.relId];if(U0){if(Q0.Target=U0.Target,Q0.loc)Q0.Target+="#"+Q0.loc;Q0.Rel=U0}else if(Q0.relId=="")Q0.Target="#"+Q0.loc;for(V=Q0.rfx.s.r;V<=Q0.rfx.e.r;++V)for(L=Q0.rfx.s.c;L<=Q0.rfx.e.c;++L)if(H.dense){if(!U[V])U[V]=[];if(!U[V][L])U[V][L]={t:"z",v:void 0};U[V][L].l=Q0}else{if(S=o0({c:L,r:V}),!U[S])U[S]={t:"z",v:void 0};U[S].l=Q0}break;case 426:if(!H.cellFormula)break;x.push(Q0),I=H.dense?U[V][L]:U[e5(L)+d],I.f=y2(Q0[1],A,{r:K.r,c:L},k,H),I.F=E1(Q0[0]);break;case 427:if(!H.cellFormula)break;_[o0(Q0[0].s)]=Q0[1],I=H.dense?U[V][L]:U[e5(L)+d],I.f=y2(Q0[1],A,{r:K.r,c:L},k,H);break;case 60:if(!H.cellStyles)break;while(Q0.e>=Q0.s){if(q0[Q0.e--]={width:Q0.w/256,hidden:!!(Q0.flags&1),level:Q0.level},!Z0)Z0=!0,TN(Q0.w/256);LW(q0[Q0.e+1])}break;case 161:U["!autofilter"]={ref:E1(Q0)};break;case 476:U["!margins"]=Q0;break;case 147:if(!X.Sheets[W])X.Sheets[W]={};if(Q0.name)X.Sheets[W].CodeName=Q0.name;if(Q0.above||Q0.left)U["!outline"]={above:Q0.above,left:Q0.left};break;case 137:if(!X.Views)X.Views=[{}];if(!X.Views[0])X.Views[0]={};if(Q0.RTL)X.Views[0].RTL=!0;break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:D=!0;break;case 36:D=!1;break;case 37:N.push(o),D=!0;break;case 38:N.pop(),D=!1;break;default:if(h.T);else if(!D||H.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}},H),delete H.supbooks,delete H["!row"],!U["!ref"]&&(A.s.r<2000000||B&&(B.e.r>0||B.e.c>0||B.s.r>0||B.s.c>0)))U["!ref"]=E1(B||A);if(H.sheetRows&&U["!ref"]){var L0=E5(U["!ref"]);if(H.sheetRows<=+L0.e.r){if(L0.e.r=H.sheetRows-1,L0.e.r>A.e.r)L0.e.r=A.e.r;if(L0.e.r<L0.s.r)L0.s.r=L0.e.r;if(L0.e.c>A.e.c)L0.e.c=A.e.c;if(L0.e.c<L0.s.c)L0.s.c=L0.e.c;U["!fullref"]=U["!ref"],U["!ref"]=E1(L0)}}if(F.length>0)U["!merges"]=F;if(q0.length>0)U["!cols"]=q0;if(r.length>0)U["!rows"]=r;return U}function c50(J){var Y=[],W=J.match(/^<c:numCache>/),Q;(J.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(M){var G=M.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);if(!G)return;Y[+G[1]]=W?+G[2]:G[2]});var X=I1((J.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(J.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(M){Q=M.replace(/<.*?>/g,"")}),[Y,X,Q]}function u50(J,Y,W,Q,X,M){var G=M||{"!type":"chart"};if(!J)return M;var H=0,U=0,B="A",A={s:{r:2000000,c:2000000},e:{r:0,c:0}};if((J.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(N){var D=c50(N);if(A.s.r=A.s.c=0,A.e.c=H,B=e5(H),D[0].forEach(function(q,K){G[B+F2(K)]={t:"n",v:q,z:D[1]},U=K}),A.e.r<U)A.e.r=U;++H}),H>0)G["!ref"]=E1(A);return G}function p50(J,Y,W,Q,X){if(!J)return J;if(!Q)Q={"!id":{}};var M={"!type":"chart","!drawel":null,"!rel":""},G,H=J.match(Lj);if(H)wN(H[0],M,X,W);if(G=J.match(/drawing r:id="(.*?)"/))M["!rel"]=G[1];if(Q["!id"][M["!rel"]])M["!drawel"]=Q["!id"][M["!rel"]];return M}function n50(J,Y){J.l+=10;var W=h2(J,Y-10);return{name:W}}function i50(J,Y,W,Q,X){if(!J)return J;if(!Q)Q={"!id":{}};var M={"!type":"chart","!drawel":null,"!rel":""},G=[],H=!1;if(I7(J,function U(B,A,N){switch(N){case 550:M["!rel"]=B;break;case 651:if(!X.Sheets[W])X.Sheets[W]={};if(B.name)X.Sheets[W].CodeName=B.name;break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:H=!0;break;case 36:H=!1;break;case 37:G.push(N);break;case 38:G.pop();break;default:if(A.T>0)G.push(N);else if(A.T<0)G.pop();else if(!H||Y.WTF)throw new Error("Unexpected record 0x"+N.toString(16))}},Y),Q["!id"][M["!rel"]])M["!drawel"]=Q["!id"][M["!rel"]];return M}var Vj=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],l50=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],o50=[],r50=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function iE(J,Y){for(var W=0;W!=J.length;++W){var Q=J[W];for(var X=0;X!=Y.length;++X){var M=Y[X];if(Q[M[0]]==null)Q[M[0]]=M[1];else switch(M[2]){case"bool":if(typeof Q[M[0]]=="string")Q[M[0]]=A5(Q[M[0]]);break;case"int":if(typeof Q[M[0]]=="string")Q[M[0]]=parseInt(Q[M[0]],10);break}}}}function lE(J,Y){for(var W=0;W!=Y.length;++W){var Q=Y[W];if(J[Q[0]]==null)J[Q[0]]=Q[1];else switch(Q[2]){case"bool":if(typeof J[Q[0]]=="string")J[Q[0]]=A5(J[Q[0]]);break;case"int":if(typeof J[Q[0]]=="string")J[Q[0]]=parseInt(J[Q[0]],10);break}}}function Fj(J){lE(J.WBProps,Vj),lE(J.CalcPr,r50),iE(J.WBView,l50),iE(J.Sheets,o50),OW.date1904=A5(J.WBProps.date1904)}var a50="][*?/\\".split("");function s50(J,Y){if(J.length>31){if(Y)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var W=!0;return a50.forEach(function(Q){if(J.indexOf(Q)==-1)return;if(!Y)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");W=!1}),W}var t50=/<\w+:workbook/;function e50(J,Y){if(!J)throw new Error("Could not find file");var W={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},Q=!1,X="xmlns",M={},G=0;if(J.replace(d2,function H(U,B){var A=p0(U);switch(k4(A[0])){case"<?xml":break;case"<workbook":if(U.match(t50))X="xmlns"+U.match(/<(\w+):/)[1];W.xmlns=A[X];break;case"</workbook>":break;case"<fileVersion":delete A[0],W.AppVersion=A;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":if(Vj.forEach(function(N){if(A[N[0]]==null)return;switch(N[2]){case"bool":W.WBProps[N[0]]=A5(A[N[0]]);break;case"int":W.WBProps[N[0]]=parseInt(A[N[0]],10);break;default:W.WBProps[N[0]]=A[N[0]]}}),A.codeName)W.WBProps.CodeName=s1(A.codeName);break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete A[0],W.WBView.push(A);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(A.state){case"hidden":A.Hidden=1;break;case"veryHidden":A.Hidden=2;break;default:A.Hidden=0}delete A.state,A.name=I1(s1(A.name)),delete A[0],W.Sheets.push(A);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":Q=!0;break;case"</definedNames>":Q=!1;break;case"<definedName":{if(M={},M.Name=s1(A.name),A.comment)M.Comment=A.comment;if(A.localSheetId)M.Sheet=+A.localSheetId;if(A5(A.hidden||"0"))M.Hidden=!0;G=B+U.length}break;case"</definedName>":M.Ref=I1(s1(J.slice(G,B))),W.Names.push(M);break;case"<definedName/>":break;case"<calcPr":delete A[0],W.CalcPr=A;break;case"<calcPr/>":delete A[0],W.CalcPr=A;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":Q=!0;break;case"</ext>":Q=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":Q=!0;break;case"</AlternateContent>":Q=!1;break;case"<revisionPtr":break;default:if(!Q&&Y.WTF)throw new Error("unrecognized "+A[0]+" in workbook")}return U}),Za.indexOf(W.xmlns)===-1)throw new Error("Unknown Namespace: "+W.xmlns);return Fj(W),W}function J20(J,Y){var W={};return W.Hidden=J.read_shift(4),W.iTabID=J.read_shift(4),W.strRelID=tA(J,Y-8),W.name=h2(J),W}function Y20(J,Y){var W={},Q=J.read_shift(4);W.defaultThemeVersion=J.read_shift(4);var X=Y>8?h2(J):"";if(X.length>0)W.CodeName=X;return W.autoCompressPictures=!!(Q&65536),W.backupFile=!!(Q&64),W.checkCompatibility=!!(Q&4096),W.date1904=!!(Q&1),W.filterPrivacy=!!(Q&8),W.hidePivotFieldList=!!(Q&1024),W.promptedSolutions=!!(Q&16),W.publishItems=!!(Q&2048),W.refreshAllConnections=!!(Q&262144),W.saveExternalLinkValues=!!(Q&128),W.showBorderUnselectedTables=!!(Q&4),W.showInkAnnotation=!!(Q&32),W.showObjects=["all","placeholders","none"][Q>>13&3],W.showPivotChartFilter=!!(Q&32768),W.updateLinks=["userSet","never","always"][Q>>8&3],W}function W20(J,Y){var W={};return J.read_shift(4),W.ArchID=J.read_shift(4),J.l+=Y-8,W}function Q20(J,Y,W){var Q=J.l+Y;J.l+=4,J.l+=1;var X=J.read_shift(4),M=ga(J),G=m10(J,0,W),H=jN(J);J.l=Q;var U={Name:M,Ptg:G};if(X<268435455)U.Sheet=X;if(H)U.Comment=H;return U}function $20(J,Y){var W={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},Q=[],X=!1;if(!Y)Y={};Y.biff=12;var M=[],G=[[]];return G.SheetNames=[],G.XTI=[],bG[16]={n:"BrtFRTArchID$",f:W20},I7(J,function H(U,B,A){switch(A){case 156:G.SheetNames.push(U.name),W.Sheets.push(U);break;case 153:W.WBProps=U;break;case 39:if(U.Sheet!=null)Y.SID=U.Sheet;U.Ref=y2(U.Ptg,null,null,G,Y),delete Y.SID,delete U.Ptg,M.push(U);break;case 1036:break;case 357:case 358:case 355:case 667:if(!G[0].length)G[0]=[A,U];else G.push([A,U]);G[G.length-1].XTI=[];break;case 362:if(G.length===0)G[0]=[],G[0].XTI=[];G[G.length-1].XTI=G[G.length-1].XTI.concat(U),G.XTI=G.XTI.concat(U);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:Q.push(A),X=!0;break;case 36:Q.pop(),X=!1;break;case 37:Q.push(A),X=!0;break;case 38:Q.pop(),X=!1;break;case 16:break;default:if(B.T);else if(!X||Y.WTF&&Q[Q.length-1]!=37&&Q[Q.length-1]!=35)throw new Error("Unexpected record 0x"+A.toString(16))}},Y),Fj(W),W.Names=M,W.supbooks=G,W}function X20(J,Y,W){if(Y.slice(-4)===".bin")return $20(J,W);return e50(J,W)}function M20(J,Y,W,Q,X,M,G,H){if(Y.slice(-4)===".bin")return d50(J,Q,W,X,M,G,H);return J50(J,Q,W,X,M,G,H)}function G20(J,Y,W,Q,X,M,G,H){if(Y.slice(-4)===".bin")return i50(J,Q,W,X,M,G,H);return p50(J,Q,W,X,M,G,H)}function H20(J,Y,W,Q,X,M,G,H){if(Y.slice(-4)===".bin")return O00(J,Q,W,X,M,G,H);return K00(J,Q,W,X,M,G,H)}function U20(J,Y,W,Q,X,M,G,H){if(Y.slice(-4)===".bin")return D00(J,Q,W,X,M,G,H);return Z00(J,Q,W,X,M,G,H)}function B20(J,Y,W,Q){if(Y.slice(-4)===".bin")return _e(J,W,Q);return je(J,W,Q)}function A20(J,Y,W){return Hj(J,W)}function N20(J,Y,W){if(Y.slice(-4)===".bin")return it(J,W);return pt(J,W)}function q20(J,Y,W){if(Y.slice(-4)===".bin")return A00(J,W);return M00(J,W)}function D20(J,Y,W){if(Y.slice(-4)===".bin")return W00(J,Y,W);return J00(J,Y,W)}function Z20(J,Y,W,Q){if(W.slice(-4)===".bin")return $00(J,Y,W,Q);return Q00(J,Y,W,Q)}function O20(J,Y,W){if(Y.slice(-4)===".bin")return te(J,Y,W);return ee(J,Y,W)}var Ej=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,jj=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function r6(J,Y){var W=J.split(/\s+/),Q=[];if(!Y)Q[0]=W[0];if(W.length===1)return Q;var X=J.match(Ej),M,G,H,U;if(X)for(U=0;U!=X.length;++U)if(M=X[U].match(jj),(G=M[1].indexOf(":"))===-1)Q[M[1]]=M[2].slice(1,M[2].length-1);else{if(M[1].slice(0,6)==="xmlns:")H="xmlns"+M[1].slice(6);else H=M[1].slice(G+1);Q[H]=M[2].slice(1,M[2].length-1)}return Q}function K20(J){var Y=J.split(/\s+/),W={};if(Y.length===1)return W;var Q=J.match(Ej),X,M,G,H;if(Q)for(H=0;H!=Q.length;++H)if(X=Q[H].match(jj),(M=X[1].indexOf(":"))===-1)W[X[1]]=X[2].slice(1,X[2].length-1);else{if(X[1].slice(0,6)==="xmlns:")G="xmlns"+X[1].slice(6);else G=X[1].slice(M+1);W[G]=X[2].slice(1,X[2].length-1)}return W}var u$;function z20(J,Y){var W=u$[J]||I1(J);if(W==="General")return jJ(Y);return B6(W,Y)}function L20(J,Y,W,Q){var X=Q;switch((W[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":X=A5(Q);break;case"i2":case"int":X=parseInt(Q,10);break;case"r4":case"float":X=parseFloat(Q);break;case"date":case"dateTime.tz":X=U2(Q);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+W[0])}J[I1(Y)]=X}function S20(J,Y,W){if(J.t==="z")return;if(!W||W.cellText!==!1)try{if(J.t==="e")J.w=J.w||wJ[J.v];else if(Y==="General")if(J.t==="n")if((J.v|0)===J.v)J.w=J.v.toString(10);else J.w=p$(J.v);else J.w=jJ(J.v);else J.w=z20(Y||"General",J.v)}catch(M){if(W.WTF)throw M}try{var Q=u$[Y]||Y||"General";if(W.cellNF)J.z=Q;if(W.cellDates&&J.t=="n"&&SW(Q)){var X=VJ(J.v);if(X)J.t="d",J.v=new Date(X.y,X.m-1,X.d,X.H,X.M,X.S,X.u)}}catch(M){if(W.WTF)throw M}}function V20(J,Y,W){if(W.cellStyles){if(Y.Interior){var Q=Y.Interior;if(Q.Pattern)Q.patternType=ze[Q.Pattern]||Q.Pattern}}J[Y.ID]=Y}function F20(J,Y,W,Q,X,M,G,H,U,B){var A="General",N=Q.StyleID,D={};B=B||{};var q=[],K=0;if(N===void 0&&H)N=H.StyleID;if(N===void 0&&G)N=G.StyleID;while(M[N]!==void 0){if(M[N].nf)A=M[N].nf;if(M[N].Interior)q.push(M[N].Interior);if(!M[N].Parent)break;N=M[N].Parent}switch(W.Type){case"Boolean":Q.t="b",Q.v=A5(J);break;case"String":Q.t="s",Q.r=ZE(I1(J)),Q.v=J.indexOf("<")>-1?I1(Y||J).replace(/<.*?>/g,""):Q.r;break;case"DateTime":if(J.slice(-1)!="Z")J+="Z";if(Q.v=(U2(J)-new Date(Date.UTC(1899,11,30)))/86400000,Q.v!==Q.v)Q.v=I1(J);else if(Q.v<60)Q.v=Q.v-1;if(!A||A=="General")A="yyyy-mm-dd";case"Number":if(Q.v===void 0)Q.v=+J;if(!Q.t)Q.t="n";break;case"Error":if(Q.t="e",Q.v=m3[J],B.cellText!==!1)Q.w=J;break;default:if(J==""&&Y=="")Q.t="z";else Q.t="s",Q.v=ZE(Y||J);break}if(S20(Q,A,B),B.cellFormula!==!1){if(Q.Formula){var O=I1(Q.Formula);if(O.charCodeAt(0)==61)O=O.slice(1);if(Q.f=ZW(O,X),delete Q.Formula,Q.ArrayRange=="RC")Q.F=ZW("RC:RC",X);else if(Q.ArrayRange)Q.F=ZW(Q.ArrayRange,X),U.push([E5(Q.F),Q.F])}else for(K=0;K<U.length;++K)if(X.r>=U[K][0].s.r&&X.r<=U[K][0].e.r){if(X.c>=U[K][0].s.c&&X.c<=U[K][0].e.c)Q.F=U[K][1]}}if(B.cellStyles)q.forEach(function(z){if(!D.patternType&&z.patternType)D.patternType=z.patternType}),Q.s=D;if(Q.StyleID!==void 0)Q.ixfe=Q.StyleID}function E20(J){J.t=J.v||"",J.t=J.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),J.v=J.w=J.ixfe=void 0}function lA(J,Y){var W=Y||{};O3();var Q=w$(ZN(J));if(W.type=="binary"||W.type=="array"||W.type=="base64")if(typeof w1!=="undefined")Q=w1.utils.decode(65001,aA(Q));else Q=s1(Q);var X=Q.slice(0,1024).toLowerCase(),M=!1;if(X=X.replace(/".*?"/g,""),(X.indexOf(">")&1023)>Math.min(X.indexOf(",")&1023,X.indexOf(";")&1023)){var G=V2(W);return G.type="string",l$.to_workbook(Q,G)}if(X.indexOf("<?xml")==-1)["html","table","head","meta","script","style","div"].forEach(function(c0){if(X.indexOf("<"+c0)>=0)M=!0});if(M)return k20(Q,W);u$={"General Number":"General","General Date":e0[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":e0[15],"Short Date":e0[14],"Long Time":e0[19],"Medium Time":e0[18],"Short Time":e0[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:e0[2],Standard:e0[4],Percent:e0[10],Scientific:e0[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var H,U=[],B;if(m5!=null&&W.dense==null)W.dense=m5;var A={},N=[],D=W.dense?[]:{},q="",K={},O={},z=r6('<Data ss:Type="String">'),V=0,L=0,S=0,g={s:{r:2000000,c:2000000},e:{r:0,c:0}},d={},I={},F="",R=0,j=[],x={},_={},k=0,l=[],q0=[],r={},Z0=[],C0,r0=!1,L0=[],_0=[],Q0={},h=0,o=0,c={Sheets:[],WBProps:{date1904:!1}},m={};i$.lastIndex=0,Q=Q.replace(/<!--([\s\S]*?)-->/mg,"");var U0="";while(H=i$.exec(Q))switch(H[3]=(U0=H[3]).toLowerCase()){case"data":if(U0=="data"){if(H[1]==="/"){if((B=U.pop())[0]!==H[3])throw new Error("Bad state: "+B.join("|"))}else if(H[0].charAt(H[0].length-2)!=="/")U.push([H[3],!0]);break}if(U[U.length-1][1])break;if(H[1]==="/")F20(Q.slice(V,H.index),F,z,U[U.length-1][0]=="comment"?r:K,{c:L,r:S},d,Z0[L],O,L0,W);else F="",z=r6(H[0]),V=H.index+H[0].length;break;case"cell":if(H[1]==="/"){if(q0.length>0)K.c=q0;if((!W.sheetRows||W.sheetRows>S)&&K.v!==void 0)if(W.dense){if(!D[S])D[S]=[];D[S][L]=K}else D[e5(L)+F2(S)]=K;if(K.HRef){if(K.l={Target:I1(K.HRef)},K.HRefScreenTip)K.l.Tooltip=K.HRefScreenTip;delete K.HRef,delete K.HRefScreenTip}if(K.MergeAcross||K.MergeDown)h=L+(parseInt(K.MergeAcross,10)|0),o=S+(parseInt(K.MergeDown,10)|0),j.push({s:{c:L,r:S},e:{c:h,r:o}});if(!W.sheetStubs)if(K.MergeAcross)L=h+1;else++L;else if(K.MergeAcross||K.MergeDown){for(var I0=L;I0<=h;++I0)for(var z0=S;z0<=o;++z0)if(I0>L||z0>S)if(W.dense){if(!D[z0])D[z0]=[];D[z0][I0]={t:"z"}}else D[e5(I0)+F2(z0)]={t:"z"};L=h+1}else++L}else{if(K=K20(H[0]),K.Index)L=+K.Index-1;if(L<g.s.c)g.s.c=L;if(L>g.e.c)g.e.c=L;if(H[0].slice(-2)==="/>")++L;q0=[]}break;case"row":if(H[1]==="/"||H[0].slice(-2)==="/>"){if(S<g.s.r)g.s.r=S;if(S>g.e.r)g.e.r=S;if(H[0].slice(-2)==="/>"){if(O=r6(H[0]),O.Index)S=+O.Index-1}L=0,++S}else{if(O=r6(H[0]),O.Index)S=+O.Index-1;if(Q0={},O.AutoFitHeight=="0"||O.Height)Q0.hpx=parseInt(O.Height,10),Q0.hpt=Gj(Q0.hpx),_0[S]=Q0;if(O.Hidden=="1")Q0.hidden=!0,_0[S]=Q0}break;case"worksheet":if(H[1]==="/"){if((B=U.pop())[0]!==H[3])throw new Error("Bad state: "+B.join("|"));if(N.push(q),g.s.r<=g.e.r&&g.s.c<=g.e.c){if(D["!ref"]=E1(g),W.sheetRows&&W.sheetRows<=g.e.r)D["!fullref"]=D["!ref"],g.e.r=W.sheetRows-1,D["!ref"]=E1(g)}if(j.length)D["!merges"]=j;if(Z0.length>0)D["!cols"]=Z0;if(_0.length>0)D["!rows"]=_0;A[q]=D}else g={s:{r:2000000,c:2000000},e:{r:0,c:0}},S=L=0,U.push([H[3],!1]),B=r6(H[0]),q=I1(B.Name),D=W.dense?[]:{},j=[],L0=[],_0=[],m={name:q,Hidden:0},c.Sheets.push(m);break;case"table":if(H[1]==="/"){if((B=U.pop())[0]!==H[3])throw new Error("Bad state: "+B.join("|"))}else if(H[0].slice(-2)=="/>")break;else U.push([H[3],!1]),Z0=[],r0=!1;break;case"style":if(H[1]==="/")V20(d,I,W);else I=r6(H[0]);break;case"numberformat":if(I.nf=I1(r6(H[0]).Format||"General"),u$[I.nf])I.nf=u$[I.nf];for(var s=0;s!=392;++s)if(e0[s]==I.nf)break;if(s==392){for(s=57;s!=392;++s)if(e0[s]==null){FJ(I.nf,s);break}}break;case"column":if(U[U.length-1][0]!=="table")break;if(C0=r6(H[0]),C0.Hidden)C0.hidden=!0,delete C0.Hidden;if(C0.Width)C0.wpx=parseInt(C0.Width,10);if(!r0&&C0.wpx>10){r0=!0,e2=Xj;for(var i=0;i<Z0.length;++i)if(Z0[i])LW(Z0[i])}if(r0)LW(C0);Z0[C0.Index-1||Z0.length]=C0;for(var C=0;C<+C0.Span;++C)Z0[Z0.length]=V2(C0);break;case"namedrange":if(H[1]==="/")break;if(!c.Names)c.Names=[];var E=p0(H[0]),y={Name:E.Name,Ref:ZW(E.RefersTo.slice(1),{r:0,c:0})};if(c.Sheets.length>0)y.Sheet=c.Sheets.length-1;c.Names.push(y);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(H[0].slice(-2)==="/>")break;else if(H[1]==="/")F+=Q.slice(R,H.index);else R=H.index+H[0].length;break;case"interior":if(!W.cellStyles)break;I.Interior=r6(H[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(H[0].slice(-2)==="/>")break;else if(H[1]==="/")Xs(x,U0,Q.slice(k,H.index));else k=H.index+H[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(H[1]==="/"){if((B=U.pop())[0]!==H[3])throw new Error("Bad state: "+B.join("|"))}else U.push([H[3],!1]);break;case"comment":if(H[1]==="/"){if((B=U.pop())[0]!==H[3])throw new Error("Bad state: "+B.join("|"));E20(r),q0.push(r)}else U.push([H[3],!1]),B=r6(H[0]),r={a:B.Author};break;case"autofilter":if(H[1]==="/"){if((B=U.pop())[0]!==H[3])throw new Error("Bad state: "+B.join("|"))}else if(H[0].charAt(H[0].length-2)!=="/"){var G0=r6(H[0]);D["!autofilter"]={ref:ZW(G0.Range).replace(/\$/g,"")},U.push([H[3],!0])}break;case"name":break;case"datavalidation":if(H[1]==="/"){if((B=U.pop())[0]!==H[3])throw new Error("Bad state: "+B.join("|"))}else if(H[0].charAt(H[0].length-2)!=="/")U.push([H[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(H[1]==="/"){if((B=U.pop())[0]!==H[3])throw new Error("Bad state: "+B.join("|"))}else if(H[0].charAt(H[0].length-2)!=="/")U.push([H[3],!0]);break;case"null":break;default:if(U.length==0&&H[3]=="document")return eE(Q,W);if(U.length==0&&H[3]=="uof")return eE(Q,W);var N0=!0;switch(U[U.length-1][0]){case"officedocumentsettings":switch(H[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:N0=!1}break;case"componentoptions":switch(H[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:N0=!1}break;case"excelworkbook":switch(H[3]){case"date1904":c.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:N0=!1}break;case"workbookoptions":switch(H[3]){case"owcversion":break;case"height":break;case"width":break;default:N0=!1}break;case"worksheetoptions":switch(H[3]){case"visible":if(H[0].slice(-2)==="/>");else if(H[1]==="/")switch(Q.slice(k,H.index)){case"SheetHidden":m.Hidden=1;break;case"SheetVeryHidden":m.Hidden=2;break}else k=H.index+H[0].length;break;case"header":if(!D["!margins"])c$(D["!margins"]={},"xlml");if(!isNaN(+p0(H[0]).Margin))D["!margins"].header=+p0(H[0]).Margin;break;case"footer":if(!D["!margins"])c$(D["!margins"]={},"xlml");if(!isNaN(+p0(H[0]).Margin))D["!margins"].footer=+p0(H[0]).Margin;break;case"pagemargins":var B0=p0(H[0]);if(!D["!margins"])c$(D["!margins"]={},"xlml");if(!isNaN(+B0.Top))D["!margins"].top=+B0.Top;if(!isNaN(+B0.Left))D["!margins"].left=+B0.Left;if(!isNaN(+B0.Right))D["!margins"].right=+B0.Right;if(!isNaN(+B0.Bottom))D["!margins"].bottom=+B0.Bottom;break;case"displayrighttoleft":if(!c.Views)c.Views=[];if(!c.Views[0])c.Views[0]={};c.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":if(!D["!outline"])D["!outline"]={};D["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":if(!D["!outline"])D["!outline"]={};D["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:N0=!1}break;case"pivottable":case"pivotcache":switch(H[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:N0=!1}break;case"pagebreaks":switch(H[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:N0=!1}break;case"autofilter":switch(H[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:N0=!1}break;case"querytable":switch(H[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:N0=!1}break;case"datavalidation":switch(H[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:N0=!1}break;case"sorting":case"conditionalformatting":switch(H[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:N0=!1}break;case"mapinfo":case"schema":case"data":switch(H[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:N0=!1}break;case"smarttags":break;default:N0=!1;break}if(N0)break;if(H[3].match(/!\[CDATA/))break;if(!U[U.length-1][1])throw"Unrecognized tag: "+H[3]+"|"+U.join("|");if(U[U.length-1][0]==="customdocumentproperties"){if(H[0].slice(-2)==="/>")break;else if(H[1]==="/")L20(_,U0,l,Q.slice(k,H.index));else l=H,k=H.index+H[0].length;break}if(W.WTF)throw"Unrecognized tag: "+H[3]+"|"+U.join("|")}var A0={};if(!W.bookSheets&&!W.bookProps)A0.Sheets=A;return A0.SheetNames=N,A0.Workbook=c,A0.SSF=V2(e0),A0.Props=x,A0.Custprops=_,A0}function WN(J,Y){switch(gN(Y=Y||{}),Y.type||"base64"){case"base64":return lA(h8(J),Y);case"binary":case"buffer":case"file":return lA(J,Y);case"array":return lA(RJ(J),Y)}}function j20(J){var Y={},W=J.content;if(W.l=28,Y.AnsiUserType=W.read_shift(0,"lpstr-ansi"),Y.AnsiClipboardFormat=va(W),W.length-W.l<=4)return Y;var Q=W.read_shift(4);if(Q==0||Q>40)return Y;if(W.l-=4,Y.Reserved1=W.read_shift(0,"lpstr-ansi"),W.length-W.l<=4)return Y;if(Q=W.read_shift(4),Q!==1907505652)return Y;if(Y.UnicodeClipboardFormat=ba(W),Q=W.read_shift(4),Q==0||Q>40)return Y;W.l-=4,Y.Reserved2=W.read_shift(0,"lpwstr")}var P20=[60,1084,2066,2165,2175];function C20(J,Y,W,Q,X){var M=Q,G=[],H=W.slice(W.l,W.l+M);if(X&&X.enc&&X.enc.insitu&&H.length>0)switch(J){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:X.enc.insitu(H)}G.push(H),W.l+=M;var U=E7(W,W.l),B=QN[U],A=0;while(B!=null&&P20.indexOf(U)>-1){if(M=E7(W,W.l+2),A=W.l+4,U==2066)A+=4;else if(U==2165||U==2175)A+=12;H=W.slice(A,W.l+4+M),G.push(H),W.l+=4+M,B=QN[U=E7(W,W.l)]}var N=L9(G);S2(N,0);var D=0;N.lens=[];for(var q=0;q<G.length;++q)N.lens.push(D),D+=G[q].length;if(N.length<Q)throw"XLS Record 0x"+J.toString(16)+" Truncated: "+N.length+" < "+Q;return Y.f(N,N.length,X)}function R4(J,Y,W){if(J.t==="z")return;if(!J.XF)return;var Q=0;try{if(Q=J.z||J.XF.numFmtId||0,Y.cellNF)J.z=e0[Q]}catch(M){if(Y.WTF)throw M}if(!Y||Y.cellText!==!1)try{if(J.t==="e")J.w=J.w||wJ[J.v];else if(Q===0||Q=="General")if(J.t==="n")if((J.v|0)===J.v)J.w=J.v.toString(10);else J.w=p$(J.v);else J.w=jJ(J.v);else J.w=B6(Q,J.v,{date1904:!!W,dateNF:Y&&Y.dateNF})}catch(M){if(Y.WTF)throw M}if(Y.cellDates&&Q&&J.t=="n"&&SW(e0[Q]||String(Q))){var X=VJ(J.v);if(X)J.t="d",J.v=new Date(X.y,X.m-1,X.d,X.H,X.M,X.S,X.u)}}function IG(J,Y,W){return{v:J,ixfe:Y,t:W}}function I20(J,Y){var W={opts:{}},Q={};if(m5!=null&&Y.dense==null)Y.dense=m5;var X=Y.dense?[]:{},M={},G={},H=null,U=[],B="",A={},N,D="",q,K,O,z,V={},L=[],S,g,d=[],I=[],F={Sheets:[],WBProps:{date1904:!1},Views:[{}]},R={},j=function X4(Q1){if(Q1<8)return EJ[Q1];if(Q1<64)return I[Q1-8]||EJ[Q1];return EJ[Q1]},x=function X4(Q1,P5,n8){var i5=P5.XF.data;if(!i5||!i5.patternType||!n8||!n8.cellStyles)return;P5.s={},P5.s.patternType=i5.patternType;var b9;if(b9=o$(j(i5.icvFore)))P5.s.fgColor={rgb:b9};if(b9=o$(j(i5.icvBack)))P5.s.bgColor={rgb:b9}},_=function X4(Q1,P5,n8){if(Q0>1)return;if(n8.sheetRows&&Q1.r>=n8.sheetRows)return;if(n8.cellStyles&&P5.XF&&P5.XF.data)x(Q1,P5,n8);if(delete P5.ixfe,delete P5.XF,N=Q1,D=o0(Q1),!G||!G.s||!G.e)G={s:{r:0,c:0},e:{r:0,c:0}};if(Q1.r<G.s.r)G.s.r=Q1.r;if(Q1.c<G.s.c)G.s.c=Q1.c;if(Q1.r+1>G.e.r)G.e.r=Q1.r+1;if(Q1.c+1>G.e.c)G.e.c=Q1.c+1;if(n8.cellFormula&&P5.f)for(var i5=0;i5<L.length;++i5){if(L[i5][0].s.c>Q1.c||L[i5][0].s.r>Q1.r)continue;if(L[i5][0].e.c<Q1.c||L[i5][0].e.r<Q1.r)continue;if(P5.F=E1(L[i5][0]),L[i5][0].s.c!=Q1.c||L[i5][0].s.r!=Q1.r)delete P5.f;if(P5.f)P5.f=""+y2(L[i5][1],G,Q1,L0,k);break}if(n8.dense){if(!X[Q1.r])X[Q1.r]=[];X[Q1.r][Q1.c]=P5}else X[D]=P5},k={enc:!1,sbcch:0,snames:[],sharedf:V,arrayf:L,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!Y&&!!Y.cellStyles,WTF:!!Y&&!!Y.wtf};if(Y.password)k.password=Y.password;var l,q0=[],r=[],Z0=[],C0=[],r0=!1,L0=[];L0.SheetNames=k.snames,L0.sharedf=k.sharedf,L0.arrayf=k.arrayf,L0.names=[],L0.XTI=[];var _0=0,Q0=0,h=0,o=[],c=[],m;k.codepage=1200,t6(1200);var U0=!1;while(J.l<J.length-1){var I0=J.l,z0=J.read_shift(2);if(z0===0&&_0===10)break;var s=J.l===J.length?0:J.read_shift(2),i=QN[z0];if(i&&i.f){if(Y.bookSheets){if(_0===133&&z0!==133)break}if(_0=z0,i.r===2||i.r==12){var C=J.read_shift(2);if(s-=2,!k.enc&&C!==z0&&((C&255)<<8|C>>8)!==z0)throw new Error("rt mismatch: "+C+"!="+z0);if(i.r==12)J.l+=10,s-=10}var E={};if(z0===10)E=i.f(J,s,k);else E=C20(z0,i,J,s,k);if(Q0==0&&[9,521,1033,2057].indexOf(_0)===-1)continue;switch(z0){case 34:W.opts.Date1904=F.WBProps.date1904=E;break;case 134:W.opts.WriteProtect=!0;break;case 47:if(!k.enc)J.l=0;if(k.enc=E,!Y.password)throw new Error("File is password-protected");if(E.valid==null)throw new Error("Encryption scheme unsupported");if(!E.valid)throw new Error("Password is incorrect");break;case 92:k.lastuser=E;break;case 66:var y=Number(E);switch(y){case 21010:y=1200;break;case 32768:y=1e4;break;case 32769:y=1252;break}t6(k.codepage=y),U0=!0;break;case 317:k.rrtabid=E;break;case 25:k.winlocked=E;break;case 439:W.opts.RefreshAll=E;break;case 12:W.opts.CalcCount=E;break;case 16:W.opts.CalcDelta=E;break;case 17:W.opts.CalcIter=E;break;case 13:W.opts.CalcMode=E;break;case 14:W.opts.CalcPrecision=E;break;case 95:W.opts.CalcSaveRecalc=E;break;case 15:k.CalcRefMode=E;break;case 2211:W.opts.FullCalc=E;break;case 129:if(E.fDialog)X["!type"]="dialog";if(!E.fBelow)(X["!outline"]||(X["!outline"]={})).above=!0;if(!E.fRight)(X["!outline"]||(X["!outline"]={})).left=!0;break;case 224:d.push(E);break;case 430:L0.push([E]),L0[L0.length-1].XTI=[];break;case 35:case 547:L0[L0.length-1].push(E);break;case 24:case 536:if(m={Name:E.Name,Ref:y2(E.rgce,G,null,L0,k)},E.itab>0)m.Sheet=E.itab-1;if(L0.names.push(m),!L0[0])L0[0]=[],L0[0].XTI=[];if(L0[L0.length-1].push(E),E.Name=="_xlnm._FilterDatabase"&&E.itab>0){if(E.rgce&&E.rgce[0]&&E.rgce[0][0]&&E.rgce[0][0][0]=="PtgArea3d")c[E.itab-1]={ref:E1(E.rgce[0][0][1][2])}}break;case 22:k.ExternCount=E;break;case 23:if(L0.length==0)L0[0]=[],L0[0].XTI=[];L0[L0.length-1].XTI=L0[L0.length-1].XTI.concat(E),L0.XTI=L0.XTI.concat(E);break;case 2196:if(k.biff<8)break;if(m!=null)m.Comment=E[1];break;case 18:X["!protect"]=E;break;case 19:if(E!==0&&k.WTF)console.error("Password verifier: "+E);break;case 133:M[E.pos]=E,k.snames.push(E.name);break;case 10:{if(--Q0)break;if(G.e){if(G.e.r>0&&G.e.c>0){if(G.e.r--,G.e.c--,X["!ref"]=E1(G),Y.sheetRows&&Y.sheetRows<=G.e.r){var G0=G.e.r;G.e.r=Y.sheetRows-1,X["!fullref"]=X["!ref"],X["!ref"]=E1(G),G.e.r=G0}G.e.r++,G.e.c++}if(q0.length>0)X["!merges"]=q0;if(r.length>0)X["!objects"]=r;if(Z0.length>0)X["!cols"]=Z0;if(C0.length>0)X["!rows"]=C0;F.Sheets.push(R)}if(B==="")A=X;else Q[B]=X;X=Y.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(k.biff===8)k.biff={9:2,521:3,1033:4}[z0]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[E.BIFFVer]||8;if(k.biffguess=E.BIFFVer==0,E.BIFFVer==0&&E.dt==4096)k.biff=5,U0=!0,t6(k.codepage=28591);if(k.biff==8&&E.BIFFVer==0&&E.dt==16)k.biff=2;if(Q0++)break;if(X=Y.dense?[]:{},k.biff<8&&!U0)U0=!0,t6(k.codepage=Y.codepage||1252);if(k.biff<5||E.BIFFVer==0&&E.dt==4096){if(B==="")B="Sheet1";G={s:{r:0,c:0},e:{r:0,c:0}};var N0={pos:J.l-s,name:B};M[N0.pos]=N0,k.snames.push(B)}else B=(M[I0]||{name:""}).name;if(E.dt==32)X["!type"]="chart";if(E.dt==64)X["!type"]="macro";q0=[],r=[],k.arrayf=L=[],Z0=[],C0=[],r0=!1,R={Hidden:(M[I0]||{hs:0}).hs,name:B}}break;case 515:case 3:case 2:{if(X["!type"]=="chart"){if(Y.dense?(X[E.r]||[])[E.c]:X[o0({c:E.c,r:E.r})])++E.c}if(S={ixfe:E.ixfe,XF:d[E.ixfe]||{},v:E.val,t:"n"},h>0)S.z=o[S.ixfe>>8&63];R4(S,Y,W.opts.Date1904),_({c:E.c,r:E.r},S,Y)}break;case 5:case 517:{if(S={ixfe:E.ixfe,XF:d[E.ixfe],v:E.val,t:E.t},h>0)S.z=o[S.ixfe>>8&63];R4(S,Y,W.opts.Date1904),_({c:E.c,r:E.r},S,Y)}break;case 638:{if(S={ixfe:E.ixfe,XF:d[E.ixfe],v:E.rknum,t:"n"},h>0)S.z=o[S.ixfe>>8&63];R4(S,Y,W.opts.Date1904),_({c:E.c,r:E.r},S,Y)}break;case 189:for(var B0=E.c;B0<=E.C;++B0){var A0=E.rkrec[B0-E.c][0];if(S={ixfe:A0,XF:d[A0],v:E.rkrec[B0-E.c][1],t:"n"},h>0)S.z=o[S.ixfe>>8&63];R4(S,Y,W.opts.Date1904),_({c:B0,r:E.r},S,Y)}break;case 6:case 518:case 1030:{if(E.val=="String"){H=E;break}if(S=IG(E.val,E.cell.ixfe,E.tt),S.XF=d[S.ixfe],Y.cellFormula){var c0=E.formula;if(c0&&c0[0]&&c0[0][0]&&c0[0][0][0]=="PtgExp"){var k1=c0[0][0][1][0],h1=c0[0][0][1][1],q5=o0({r:k1,c:h1});if(V[q5])S.f=""+y2(E.formula,G,E.cell,L0,k);else S.F=((Y.dense?(X[k1]||[])[h1]:X[q5])||{}).F}else S.f=""+y2(E.formula,G,E.cell,L0,k)}if(h>0)S.z=o[S.ixfe>>8&63];R4(S,Y,W.opts.Date1904),_(E.cell,S,Y),H=E}break;case 7:case 519:if(H){if(H.val=E,S=IG(E,H.cell.ixfe,"s"),S.XF=d[S.ixfe],Y.cellFormula)S.f=""+y2(H.formula,G,H.cell,L0,k);if(h>0)S.z=o[S.ixfe>>8&63];R4(S,Y,W.opts.Date1904),_(H.cell,S,Y),H=null}else throw new Error("String record expects Formula");break;case 33:case 545:{L.push(E);var u2=o0(E[0].s);if(q=Y.dense?(X[E[0].s.r]||[])[E[0].s.c]:X[u2],Y.cellFormula&&q){if(!H)break;if(!u2||!q)break;q.f=""+y2(E[1],G,E[0],L0,k),q.F=E1(E[0])}}break;case 1212:{if(!Y.cellFormula)break;if(D){if(!H)break;V[o0(H.cell)]=E[0],q=Y.dense?(X[H.cell.r]||[])[H.cell.c]:X[o0(H.cell)],(q||{}).f=""+y2(E[0],G,N,L0,k)}}break;case 253:if(S=IG(U[E.isst].t,E.ixfe,"s"),U[E.isst].h)S.h=U[E.isst].h;if(S.XF=d[S.ixfe],h>0)S.z=o[S.ixfe>>8&63];R4(S,Y,W.opts.Date1904),_({c:E.c,r:E.r},S,Y);break;case 513:if(Y.sheetStubs){if(S={ixfe:E.ixfe,XF:d[E.ixfe],t:"z"},h>0)S.z=o[S.ixfe>>8&63];R4(S,Y,W.opts.Date1904),_({c:E.c,r:E.r},S,Y)}break;case 190:if(Y.sheetStubs)for(var $4=E.c;$4<=E.C;++$4){var p2=E.ixfe[$4-E.c];if(S={ixfe:p2,XF:d[p2],t:"z"},h>0)S.z=o[S.ixfe>>8&63];R4(S,Y,W.opts.Date1904),_({c:$4,r:E.r},S,Y)}break;case 214:case 516:case 4:if(S=IG(E.val,E.ixfe,"s"),S.XF=d[S.ixfe],h>0)S.z=o[S.ixfe>>8&63];R4(S,Y,W.opts.Date1904),_({c:E.c,r:E.r},S,Y);break;case 0:case 512:if(Q0===1)G=E;break;case 252:U=E;break;case 1054:if(k.biff==4){o[h++]=E[1];for(var v4=0;v4<h+163;++v4)if(e0[v4]==E[1])break;if(v4>=163)FJ(E[1],h+163)}else FJ(E[1],E[0]);break;case 30:{o[h++]=E;for(var x7=0;x7<h+163;++x7)if(e0[x7]==E)break;if(x7>=163)FJ(E,h+163)}break;case 229:q0=q0.concat(E);break;case 93:r[E.cmo[0]]=k.lastobj=E;break;case 438:k.lastobj.TxO=E;break;case 127:k.lastobj.ImData=E;break;case 440:for(z=E[0].s.r;z<=E[0].e.r;++z)for(O=E[0].s.c;O<=E[0].e.c;++O)if(q=Y.dense?(X[z]||[])[O]:X[o0({c:O,r:z})],q)q.l=E[1];break;case 2048:for(z=E[0].s.r;z<=E[0].e.r;++z)for(O=E[0].s.c;O<=E[0].e.c;++O)if(q=Y.dense?(X[z]||[])[O]:X[o0({c:O,r:z})],q&&q.l)q.l.Tooltip=E[1];break;case 28:{if(k.biff<=5&&k.biff>=2)break;q=Y.dense?(X[E[0].r]||[])[E[0].c]:X[o0(E[0])];var lW=r[E[2]];if(!q){if(Y.dense){if(!X[E[0].r])X[E[0].r]=[];q=X[E[0].r][E[0].c]={t:"z"}}else q=X[o0(E[0])]={t:"z"};G.e.r=Math.max(G.e.r,E[0].r),G.s.r=Math.min(G.s.r,E[0].r),G.e.c=Math.max(G.e.c,E[0].c),G.s.c=Math.min(G.s.c,E[0].c)}if(!q.c)q.c=[];K={a:E[1],t:lW.TxO.t},q.c.push(K)}break;case 2173:oe(d[E.ixfe],E.ext);break;case 125:{if(!k.cellStyles)break;while(E.e>=E.s){if(Z0[E.e--]={width:E.w/256,level:E.level||0,hidden:!!(E.flags&1)},!r0)r0=!0,TN(E.w/256);LW(Z0[E.e+1])}}break;case 520:{var n2={};if(E.level!=null)C0[E.r]=n2,n2.level=E.level;if(E.hidden)C0[E.r]=n2,n2.hidden=!0;if(E.hpt)C0[E.r]=n2,n2.hpt=E.hpt,n2.hpx=r$(E.hpt)}break;case 38:case 39:case 40:case 41:if(!X["!margins"])c$(X["!margins"]={});X["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[z0]]=E;break;case 161:if(!X["!margins"])c$(X["!margins"]={});X["!margins"].header=E.header,X["!margins"].footer=E.footer;break;case 574:if(E.RTL)F.Views[0].RTL=!0;break;case 146:I=E;break;case 2198:l=E;break;case 140:g=E;break;case 442:if(!B)F.WBProps.CodeName=E||"ThisWorkbook";else R.CodeName=E||R.name;break}}else{if(!i)console.error("Missing Info for XLS Record 0x"+z0.toString(16));J.l+=s}}if(W.SheetNames=w4(M).sort(function(X4,Q1){return Number(X4)-Number(Q1)}).map(function(X4){return M[X4].name}),!Y.bookSheets)W.Sheets=Q;if(!W.SheetNames.length&&A["!ref"]){if(W.SheetNames.push("Sheet1"),W.Sheets)W.Sheets.Sheet1=A}else W.Preamble=A;if(W.Sheets)c.forEach(function(X4,Q1){W.Sheets[W.SheetNames[Q1]]["!autofilter"]=X4});if(W.Strings=U,W.SSF=V2(e0),k.enc)W.Encryption=k.enc;if(l)W.Themes=l;if(W.Metadata={},g!==void 0)W.Metadata.Country=g;if(L0.names.length>0)F.Names=L0.names;return W.Workbook=F,W}var oE={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function R20(J,Y,W){var Q=F1.find(J,"/!DocumentSummaryInformation");if(Q&&Q.size>0)try{var X=wE(Q,pa,oE.DSI);for(var M in X)Y[M]=X[M]}catch(B){if(W.WTF)throw B}var G=F1.find(J,"/!SummaryInformation");if(G&&G.size>0)try{var H=wE(G,na,oE.SI);for(var U in H)if(Y[U]==null)Y[U]=H[U]}catch(B){if(W.WTF)throw B}if(Y.HeadingPairs&&Y.TitlesOfParts)c3(Y.HeadingPairs,Y.TitlesOfParts,Y,W),delete Y.HeadingPairs,delete Y.TitlesOfParts}function Pj(J,Y){if(!Y)Y={};if(gN(Y),$3(),Y.codepage)HN(Y.codepage);var W,Q;if(J.FullPaths){if(F1.find(J,"/encryption"))throw new Error("File is password-protected");W=F1.find(J,"!CompObj"),Q=F1.find(J,"/Workbook")||F1.find(J,"/Book")}else{switch(Y.type){case"base64":J=s6(h8(J));break;case"binary":J=s6(J);break;case"buffer":break;case"array":if(!Array.isArray(J))J=Array.prototype.slice.call(J);break}S2(J,0),Q={content:J}}var X,M;if(W)j20(W);if(Y.bookProps&&!Y.bookSheets)X={};else{var G=K1?"buffer":"array";if(Q&&Q.content)X=I20(Q.content,Y);else if((M=F1.find(J,"PerfectOffice_MAIN"))&&M.content)X=m$.to_workbook(M.content,(Y.type=G,Y));else if((M=F1.find(J,"NativeContent_MAIN"))&&M.content)X=m$.to_workbook(M.content,(Y.type=G,Y));else if((M=F1.find(J,"MN0"))&&M.content)throw new Error("Unsupported Works 4 for Mac file");else throw new Error("Cannot find Workbook stream");if(Y.bookVBA&&J.FullPaths&&F1.find(J,"/_VBA_PROJECT_CUR/VBA/dir"))X.vbaraw=q00(J)}var H={};if(J.FullPaths)R20(J,H,Y);if(X.Props=X.Custprops=H,Y.bookFiles)X.cfb=J;return X}var bG={0:{f:U50},1:{f:q50},2:{f:F50},3:{f:K50},4:{f:Z50},5:{f:V50},6:{f:P50},7:{f:L50},8:{f:_50},9:{f:T50},10:{f:I50},11:{f:R50},12:{f:D50},13:{f:E50},14:{f:z50},15:{f:O50},16:{f:Sj},17:{f:C50},18:{f:S50},19:{f:EN},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Q20},40:{},42:{},43:{f:Ce},44:{f:Pe},45:{f:Ie},46:{f:Te},47:{f:Re},48:{},49:{f:_a},50:{},51:{f:ae},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Jj},62:{f:j50},63:{f:Y00},64:{f:h50},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:m2,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:b50},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:N50},148:{f:B50,p:16},151:{f:x50},152:{},153:{f:Y20},154:{},155:{},156:{f:J20},157:{},158:{},159:{T:1,f:nt},160:{T:-1},161:{T:1,f:_J},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:w50},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:re},336:{T:-1},337:{f:se,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:tA},357:{},358:{},359:{},360:{T:1},361:{},362:{f:e3},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:g50},427:{f:y50},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:v50},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:A50},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:k50},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:tA},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:B00},633:{T:1},634:{T:-1},635:{T:1,f:U00},636:{T:-1},637:{f:ka},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:n50},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:m50},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},QN={6:{f:nA},10:{f:z9},12:{f:b5},13:{f:b5},14:{f:k5},15:{f:k5},16:{f:f2},17:{f:k5},18:{f:k5},19:{f:b5},20:{f:yE},21:{f:yE},23:{f:e3},24:{f:vE},25:{f:k5},26:{},27:{},28:{f:Mt},29:{},34:{f:k5},35:{f:fE},38:{f:f2},39:{f:f2},40:{f:f2},41:{f:f2},42:{f:k5},43:{f:k5},47:{f:Be},49:{f:ds},51:{f:b5},60:{},61:{f:bs},64:{f:k5},65:{f:ms},66:{f:b5},77:{},80:{},81:{},82:{},85:{f:b5},89:{},90:{},91:{},92:{f:_s},93:{f:Ht},94:{},95:{f:k5},96:{},97:{},99:{f:k5},125:{f:Jj},128:{f:ss},129:{f:ws},130:{f:b5},131:{f:k5},132:{f:k5},133:{f:ks},134:{},140:{f:Dt},141:{f:b5},144:{},146:{f:Ot},151:{},152:{},153:{},154:{},155:{},156:{f:b5},157:{},158:{},160:{f:Vt},161:{f:zt},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:ls},190:{f:os},193:{f:z9},197:{},198:{},199:{},200:{},201:{},202:{f:k5},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:b5},220:{},221:{f:k5},222:{},224:{f:as},225:{f:Ts},226:{f:z9},227:{},229:{f:Gt},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:xs},253:{f:cs},255:{f:gs},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:l3},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:k5},353:{f:z9},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:es},431:{f:k5},432:{},433:{},434:{},437:{},438:{f:At},439:{f:k5},440:{f:Nt},441:{},442:{f:e$},443:{},444:{f:b5},445:{},446:{},448:{f:z9},449:{f:vs,r:2},450:{f:z9},512:{f:xE},513:{f:St},515:{f:ts},516:{f:us},517:{f:gE},519:{f:Ft},520:{f:ys},523:{},545:{f:bE},549:{f:kE},566:{},574:{f:hs},638:{f:is},659:{},1048:{},1054:{f:ps},1084:{},1212:{f:Qt},2048:{f:qt},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:jG},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:z9},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Kt,r:12},2173:{f:le,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:k5,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Wt,r:12},2197:{},2198:{f:de,r:12},2199:{},2200:{},2201:{},2202:{f:$t,r:12},2203:{f:z9},2204:{},2205:{},2206:{},2207:{},2211:{f:fs},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:b5},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Lt},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Zt},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:xE},1:{},2:{f:Ct},3:{f:Pt},4:{f:jt},5:{f:gE},7:{f:It},8:{},9:{f:jG},11:{},22:{f:b5},30:{f:ns},31:{},32:{},33:{f:bE},36:{},37:{f:kE},50:{f:Rt},62:{},52:{},67:{},68:{f:b5},69:{},86:{},126:{},127:{f:Et},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Tt},223:{},234:{},354:{},421:{},518:{f:nA},521:{f:jG},536:{f:vE},547:{f:fE},561:{},579:{},1030:{f:nA},1033:{f:jG},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function a6(J,Y,W,Q){var X=Y;if(isNaN(X))return;var M=Q||(W||[]).length||0,G=J.next(4);if(G.write_shift(2,X),G.write_shift(2,M),M>0&&g3(W))J.push(W)}function rE(J,Y){var W=Y||{};if(m5!=null&&W.dense==null)W.dense=m5;var Q=W.dense?[]:{};J=J.replace(/<!--.*?-->/g,"");var X=J.match(/<table/i);if(!X)throw new Error("Invalid HTML: could not find <table>");var M=J.match(/<\/table/i),G=X.index,H=M&&M.index||J.length,U=tr(J.slice(G,H),/(:?<tr[^>]*>)/i,"<tr>"),B=-1,A=0,N=0,D=0,q={s:{r:1e7,c:1e7},e:{r:0,c:0}},K=[];for(G=0;G<U.length;++G){var O=U[G].trim(),z=O.slice(0,3).toLowerCase();if(z=="<tr"){if(++B,W.sheetRows&&W.sheetRows<=B){--B;break}A=0;continue}if(z!="<td"&&z!="<th")continue;var V=O.split(/<\/t[dh]>/i);for(H=0;H<V.length;++H){var L=V[H].trim();if(!L.match(/<t[dh]/i))continue;var S=L,g=0;while(S.charAt(0)=="<"&&(g=S.indexOf(">"))>-1)S=S.slice(g+1);for(var d=0;d<K.length;++d){var I=K[d];if(I.s.c==A&&I.s.r<B&&B<=I.e.r)A=I.e.c+1,d=-1}var F=p0(L.slice(0,L.indexOf(">")));if(D=F.colspan?+F.colspan:1,(N=+F.rowspan)>1||D>1)K.push({s:{r:B,c:A},e:{r:B+(N||1)-1,c:A+D-1}});var R=F.t||F["data-t"]||"";if(!S.length){A+=D;continue}if(S=C3(S),q.s.r>B)q.s.r=B;if(q.e.r<B)q.e.r=B;if(q.s.c>A)q.s.c=A;if(q.e.c<A)q.e.c=A;if(!S.length){A+=D;continue}var j={t:"s",v:S};if(W.raw||!S.trim().length||R=="s");else if(S==="TRUE")j={t:"b",v:!0};else if(S==="FALSE")j={t:"b",v:!1};else if(!isNaN(J4(S)))j={t:"n",v:J4(S)};else if(!isNaN(zW(S).getDate())){if(j={t:"d",v:U2(S)},!W.cellDates)j={t:"n",v:Y8(j.v)};j.z=W.dateNF||e0[14]}if(W.dense){if(!Q[B])Q[B]=[];Q[B][A]=j}else Q[o0({r:B,c:A})]=j;A+=D}}if(Q["!ref"]=E1(q),K.length)Q["!merges"]=K;return Q}function T20(J,Y,W,Q){var X=J["!merges"]||[],M=[];for(var G=Y.s.c;G<=Y.e.c;++G){var H=0,U=0;for(var B=0;B<X.length;++B){if(X[B].s.r>W||X[B].s.c>G)continue;if(X[B].e.r<W||X[B].e.c<G)continue;if(X[B].s.r<W||X[B].s.c<G){H=-1;break}H=X[B].e.r-X[B].s.r+1,U=X[B].e.c-X[B].s.c+1;break}if(H<0)continue;var A=o0({r:W,c:G}),N=Q.dense?(J[W]||[])[G]:J[A],D=N&&N.v!=null&&(N.h||DN(N.w||(C7(N),N.w)||""))||"",q={};if(H>1)q.rowspan=H;if(U>1)q.colspan=U;if(Q.editable)D='<span contenteditable="true">'+D+"</span>";else if(N){if(q["data-t"]=N&&N.t||"z",N.v!=null)q["data-v"]=N.v;if(N.z!=null)q["data-z"]=N.z;if(N.l&&(N.l.Target||"#").charAt(0)!="#")D='<a href="'+N.l.Target+'">'+D+"</a>"}q.id=(Q.id||"sjs")+"-"+A,M.push(qa("td",D,q))}var K="<tr>";return K+M.join("")+"</tr>"}var _20='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',w20="</body></html>";function k20(J,Y){var W=J.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!W||W.length==0)throw new Error("Invalid HTML: could not find <table>");if(W.length==1)return P9(rE(W[0],Y),Y);var Q=fN();return W.forEach(function(X,M){vN(Q,rE(X,Y),"Sheet"+(M+1))}),Q}function x20(J,Y,W){var Q=[];return Q.join("")+"<table"+(W&&W.id?' id="'+W.id+'"':"")+">"}function g20(J,Y){var W=Y||{},Q=W.header!=null?W.header:_20,X=W.footer!=null?W.footer:w20,M=[Q],G=FW(J["!ref"]);W.dense=Array.isArray(J),M.push(x20(J,G,W));for(var H=G.s.r;H<=G.e.r;++H)M.push(T20(J,G,H,W));return M.push("</table>"+X),M.join("")}function Cj(J,Y,W){var Q=W||{};if(m5!=null)Q.dense=m5;var X=0,M=0;if(Q.origin!=null)if(typeof Q.origin=="number")X=Q.origin;else{var G=typeof Q.origin=="string"?J8(Q.origin):Q.origin;X=G.r,M=G.c}var H=Y.getElementsByTagName("tr"),U=Math.min(Q.sheetRows||1e7,H.length),B={s:{r:0,c:0},e:{r:X,c:M}};if(J["!ref"]){var A=FW(J["!ref"]);if(B.s.r=Math.min(B.s.r,A.s.r),B.s.c=Math.min(B.s.c,A.s.c),B.e.r=Math.max(B.e.r,A.e.r),B.e.c=Math.max(B.e.c,A.e.c),X==-1)B.e.r=X=A.e.r+1}var N=[],D=0,q=J["!rows"]||(J["!rows"]=[]),K=0,O=0,z=0,V=0,L=0,S=0;if(!J["!cols"])J["!cols"]=[];for(;K<H.length&&O<U;++K){var g=H[K];if(aE(g)){if(Q.display)continue;q[O]={hidden:!0}}var d=g.children;for(z=V=0;z<d.length;++z){var I=d[z];if(Q.display&&aE(I))continue;var F=I.hasAttribute("data-v")?I.getAttribute("data-v"):I.hasAttribute("v")?I.getAttribute("v"):C3(I.innerHTML),R=I.getAttribute("data-z")||I.getAttribute("z");for(D=0;D<N.length;++D){var j=N[D];if(j.s.c==V+M&&j.s.r<O+X&&O+X<=j.e.r)V=j.e.c+1-M,D=-1}if(S=+I.getAttribute("colspan")||1,(L=+I.getAttribute("rowspan")||1)>1||S>1)N.push({s:{r:O+X,c:V+M},e:{r:O+X+(L||1)-1,c:V+M+(S||1)-1}});var x={t:"s",v:F},_=I.getAttribute("data-t")||I.getAttribute("t")||"";if(F!=null){if(F.length==0)x.t=_||"z";else if(Q.raw||F.trim().length==0||_=="s");else if(F==="TRUE")x={t:"b",v:!0};else if(F==="FALSE")x={t:"b",v:!1};else if(!isNaN(J4(F)))x={t:"n",v:J4(F)};else if(!isNaN(zW(F).getDate())){if(x={t:"d",v:U2(F)},!Q.cellDates)x={t:"n",v:Y8(x.v)};x.z=Q.dateNF||e0[14]}}if(x.z===void 0&&R!=null)x.z=R;var k="",l=I.getElementsByTagName("A");if(l&&l.length){for(var q0=0;q0<l.length;++q0)if(l[q0].hasAttribute("href")){if(k=l[q0].getAttribute("href"),k.charAt(0)!="#")break}}if(k&&k.charAt(0)!="#")x.l={Target:k};if(Q.dense){if(!J[O+X])J[O+X]=[];J[O+X][V+M]=x}else J[o0({c:V+M,r:O+X})]=x;if(B.e.c<V+M)B.e.c=V+M;V+=S}++O}if(N.length)J["!merges"]=(J["!merges"]||[]).concat(N);if(B.e.r=Math.max(B.e.r,O-1+X),J["!ref"]=E1(B),O>=U)J["!fullref"]=E1((B.e.r=H.length-K+O-1+X,B));return J}function Ij(J,Y){var W=Y||{},Q=W.dense?[]:{};return Cj(Q,J,Y)}function y20(J,Y){return P9(Ij(J,Y),Y)}function aE(J){var Y="",W=f20(J);if(W)Y=W(J).getPropertyValue("display");if(!Y)Y=J.style&&J.style.display;return Y==="none"}function f20(J){if(J.ownerDocument.defaultView&&typeof J.ownerDocument.defaultView.getComputedStyle==="function")return J.ownerDocument.defaultView.getComputedStyle;if(typeof getComputedStyle==="function")return getComputedStyle;return null}function v20(J){var Y=J.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(Q,X){return Array(parseInt(X,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"\t").replace(/<text:line-break\/>/g,`
`),W=I1(Y.replace(/<[^>]*>/g,""));return[W]}var sE={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Rj(J,Y){var W=Y||{};if(m5!=null&&W.dense==null)W.dense=m5;var Q=ZN(J),X=[],M,G,H={name:""},U="",B=0,A,N,D={},q=[],K=W.dense?[]:{},O,z,V={value:""},L="",S=0,g,d=[],I=-1,F=-1,R={s:{r:1e6,c:1e7},e:{r:0,c:0}},j=0,x={},_=[],k={},l=0,q0=0,r=[],Z0=1,C0=1,r0=[],L0={Names:[]},_0={},Q0=["",""],h=[],o={},c="",m=0,U0=!1,I0=!1,z0=0;i$.lastIndex=0,Q=Q.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");while(O=i$.exec(Q))switch(O[3]=O[3].replace(/_.*$/,"")){case"table":case"\u5DE5\u4F5C\u8868":if(O[1]==="/"){if(R.e.c>=R.s.c&&R.e.r>=R.s.r)K["!ref"]=E1(R);else K["!ref"]="A1:A1";if(W.sheetRows>0&&W.sheetRows<=R.e.r)K["!fullref"]=K["!ref"],R.e.r=W.sheetRows-1,K["!ref"]=E1(R);if(_.length)K["!merges"]=_;if(r.length)K["!rows"]=r;if(A.name=A["\u540D\u79F0"]||A.name,typeof JSON!=="undefined")JSON.stringify(A);q.push(A.name),D[A.name]=K,I0=!1}else if(O[0].charAt(O[0].length-2)!=="/")A=p0(O[0],!1),I=F=-1,R.s.r=R.s.c=1e7,R.e.r=R.e.c=0,K=W.dense?[]:{},_=[],r=[],I0=!0;break;case"table-row-group":if(O[1]==="/")--j;else++j;break;case"table-row":case"\u884C":if(O[1]==="/"){I+=Z0,Z0=1;break}if(N=p0(O[0],!1),N["\u884C\u53F7"])I=N["\u884C\u53F7"]-1;else if(I==-1)I=0;if(Z0=+N["number-rows-repeated"]||1,Z0<10){for(z0=0;z0<Z0;++z0)if(j>0)r[I+z0]={level:j}}F=-1;break;case"covered-table-cell":if(O[1]!=="/")++F;if(W.sheetStubs)if(W.dense){if(!K[I])K[I]=[];K[I][F]={t:"z"}}else K[o0({r:I,c:F})]={t:"z"};L="",d=[];break;case"table-cell":case"\u6570\u636E":if(O[0].charAt(O[0].length-2)==="/"){if(++F,V=p0(O[0],!1),C0=parseInt(V["number-columns-repeated"]||"1",10),z={t:"z",v:null},V.formula&&W.cellFormula!=!1)z.f=nE(I1(V.formula));if((V["\u6570\u636E\u7C7B\u578B"]||V["value-type"])=="string")if(z.t="s",z.v=I1(V["string-value"]||""),W.dense){if(!K[I])K[I]=[];K[I][F]=z}else K[o0({r:I,c:F})]=z;F+=C0-1}else if(O[1]!=="/"){++F,L="",S=0,d=[],C0=1;var s=Z0?I+Z0-1:I;if(F>R.e.c)R.e.c=F;if(F<R.s.c)R.s.c=F;if(I<R.s.r)R.s.r=I;if(s>R.e.r)R.e.r=s;if(V=p0(O[0],!1),h=[],o={},z={t:V["\u6570\u636E\u7C7B\u578B"]||V["value-type"],v:null},W.cellFormula){if(V.formula)V.formula=I1(V.formula);if(V["number-matrix-columns-spanned"]&&V["number-matrix-rows-spanned"])l=parseInt(V["number-matrix-rows-spanned"],10)||0,q0=parseInt(V["number-matrix-columns-spanned"],10)||0,k={s:{r:I,c:F},e:{r:I+l-1,c:F+q0-1}},z.F=E1(k),r0.push([k,z.F]);if(V.formula)z.f=nE(V.formula);else for(z0=0;z0<r0.length;++z0)if(I>=r0[z0][0].s.r&&I<=r0[z0][0].e.r){if(F>=r0[z0][0].s.c&&F<=r0[z0][0].e.c)z.F=r0[z0][1]}}if(V["number-columns-spanned"]||V["number-rows-spanned"])l=parseInt(V["number-rows-spanned"],10)||0,q0=parseInt(V["number-columns-spanned"],10)||0,k={s:{r:I,c:F},e:{r:I+l-1,c:F+q0-1}},_.push(k);if(V["number-columns-repeated"])C0=parseInt(V["number-columns-repeated"],10);switch(z.t){case"boolean":z.t="b",z.v=A5(V["boolean-value"]);break;case"float":z.t="n",z.v=parseFloat(V.value);break;case"percentage":z.t="n",z.v=parseFloat(V.value);break;case"currency":z.t="n",z.v=parseFloat(V.value);break;case"date":if(z.t="d",z.v=U2(V["date-value"]),!W.cellDates)z.t="n",z.v=Y8(z.v);z.z="m/d/yy";break;case"time":if(z.t="n",z.v=rr(V["time-value"])/86400,W.cellDates)z.t="d",z.v=mG(z.v);z.z="HH:MM:SS";break;case"number":z.t="n",z.v=parseFloat(V["\u6570\u636E\u6570\u503C"]);break;default:if(z.t==="string"||z.t==="text"||!z.t){if(z.t="s",V["string-value"]!=null)L=I1(V["string-value"]),d=[]}else throw new Error("Unsupported value type "+z.t)}}else{if(U0=!1,z.t==="s"){if(z.v=L||"",d.length)z.R=d;U0=S==0}if(_0.Target)z.l=_0;if(h.length>0)z.c=h,h=[];if(L&&W.cellText!==!1)z.w=L;if(U0)z.t="z",delete z.v;if(!U0||W.sheetStubs){if(!(W.sheetRows&&W.sheetRows<=I))for(var i=0;i<Z0;++i){if(C0=parseInt(V["number-columns-repeated"]||"1",10),W.dense){if(!K[I+i])K[I+i]=[];K[I+i][F]=i==0?z:V2(z);while(--C0>0)K[I+i][F+C0]=V2(z)}else{K[o0({r:I+i,c:F})]=z;while(--C0>0)K[o0({r:I+i,c:F+C0})]=V2(z)}if(R.e.c<=F)R.e.c=F}}C0=parseInt(V["number-columns-repeated"]||"1",10),F+=C0-1,C0=0,z={},L="",d=[]}_0={};break;case"document":case"document-content":case"\u7535\u5B50\u8868\u683C\u6587\u6863":case"spreadsheet":case"\u4E3B\u4F53":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(O[1]==="/"){if((M=X.pop())[0]!==O[3])throw"Bad state: "+M}else if(O[0].charAt(O[0].length-2)!=="/")X.push([O[3],!0]);break;case"annotation":if(O[1]==="/"){if((M=X.pop())[0]!==O[3])throw"Bad state: "+M;if(o.t=L,d.length)o.R=d;o.a=c,h.push(o)}else if(O[0].charAt(O[0].length-2)!=="/")X.push([O[3],!1]);c="",m=0,L="",S=0,d=[];break;case"creator":if(O[1]==="/")c=Q.slice(m,O.index);else m=O.index+O[0].length;break;case"meta":case"\u5143\u6570\u636E":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(O[1]==="/"){if((M=X.pop())[0]!==O[3])throw"Bad state: "+M}else if(O[0].charAt(O[0].length-2)!=="/")X.push([O[3],!1]);L="",S=0,d=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(O[1]==="/"){if(x[H.name]=U,(M=X.pop())[0]!==O[3])throw"Bad state: "+M}else if(O[0].charAt(O[0].length-2)!=="/")U="",H=p0(O[0],!1),X.push([O[3],!0]);break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(X[X.length-1][0]){case"time-style":case"date-style":G=p0(O[0],!1),U+=sE[O[3]][G.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(X[X.length-1][0]){case"time-style":case"date-style":G=p0(O[0],!1),U+=sE[O[3]][G.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(O[0].slice(-2)==="/>")break;else if(O[1]==="/")switch(X[X.length-1][0]){case"number-style":case"date-style":case"time-style":U+=Q.slice(B,O.index);break}else B=O.index+O[0].length;break;case"named-range":G=p0(O[0],!1),Q0=iA(G["cell-range-address"]);var C={Name:G.name,Ref:Q0[0]+"!"+Q0[1]};if(I0)C.Sheet=q.length;L0.Names.push(C);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"\u7535\u5B50\u8868\u683C":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"\u6587\u672C\u4E32":if(["master-styles"].indexOf(X[X.length-1][0])>-1)break;if(O[1]==="/"&&(!V||!V["string-value"])){var E=v20(Q.slice(S,O.index),g);L=(L.length>0?L+`
`:"")+E[0]}else g=p0(O[0],!1),S=O.index+O[0].length;break;case"s":break;case"database-range":if(O[1]==="/")break;try{Q0=iA(p0(O[0])["target-range-address"]),D[Q0[0]]["!autofilter"]={ref:Q0[1]}}catch(G0){}break;case"date":break;case"object":break;case"title":case"\u6807\u9898":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(O[1]!=="/"){if(_0=p0(O[0],!1),!_0.href)break;if(_0.Target=I1(_0.href),delete _0.href,_0.Target.charAt(0)=="#"&&_0.Target.indexOf(".")>-1)Q0=iA(_0.Target.slice(1)),_0.Target="#"+Q0[0]+"!"+Q0[1];else if(_0.Target.match(/^\.\.[\\\/]/))_0.Target=_0.Target.slice(3)}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(O[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"\u8868:":case"\u5B57:":break;default:if(W.WTF)throw new Error(O)}}var y={Sheets:D,SheetNames:q,Workbook:L0};if(W.bookSheets)delete y.Sheets;return y}function tE(J,Y){if(Y=Y||{},U6(J,"META-INF/manifest.xml"))ta(v5(J,"META-INF/manifest.xml"),Y);var W=b8(J,"content.xml");if(!W)throw new Error("Missing content.xml in ODS / UOF file");var Q=Rj(s1(W),Y);if(U6(J,"meta.xml"))Q.Props=d3(v5(J,"meta.xml"));return Q}function eE(J,Y){return Rj(J,Y)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function kN(J){return new DataView(J.buffer,J.byteOffset,J.byteLength)}function $N(J){return typeof TextDecoder!="undefined"?new TextDecoder().decode(J):s1(RJ(J))}function XN(J){var Y=J.reduce(function(X,M){return X+M.length},0),W=new Uint8Array(Y),Q=0;return J.forEach(function(X){W.set(X,Q),Q+=X.length}),W}function J3(J){return J-=J>>1&1431655765,J=(J&858993459)+(J>>2&858993459),(J+(J>>4)&252645135)*16843009>>>24}function b20(J,Y){var W=(J[Y+15]&127)<<7|J[Y+14]>>1,Q=J[Y+14]&1;for(var X=Y+13;X>=Y;--X)Q=Q*256+J[X];return(J[Y+15]&128?-Q:Q)*Math.pow(10,W-6176)}function a$(J,Y){var W=Y?Y[0]:0,Q=J[W]&127;J:if(J[W++]>=128){if(Q|=(J[W]&127)<<7,J[W++]<128)break J;if(Q|=(J[W]&127)<<14,J[W++]<128)break J;if(Q|=(J[W]&127)<<21,J[W++]<128)break J;if(Q+=(J[W]&127)*Math.pow(2,28),++W,J[W++]<128)break J;if(Q+=(J[W]&127)*Math.pow(2,35),++W,J[W++]<128)break J;if(Q+=(J[W]&127)*Math.pow(2,42),++W,J[W++]<128)break J}if(Y)Y[0]=W;return Q}function J2(J){var Y=0,W=J[Y]&127;J:if(J[Y++]>=128){if(W|=(J[Y]&127)<<7,J[Y++]<128)break J;if(W|=(J[Y]&127)<<14,J[Y++]<128)break J;if(W|=(J[Y]&127)<<21,J[Y++]<128)break J;W|=(J[Y]&127)<<28}return W}function v2(J){var Y=[],W=[0];while(W[0]<J.length){var Q=W[0],X=a$(J,W),M=X&7;X=Math.floor(X/8);var G=0,H;if(X==0)break;switch(M){case 0:{var U=W[0];while(J[W[0]++]>=128);H=J.slice(U,W[0])}break;case 5:G=4,H=J.slice(W[0],W[0]+G),W[0]+=G;break;case 1:G=8,H=J.slice(W[0],W[0]+G),W[0]+=G;break;case 2:G=a$(J,W),H=J.slice(W[0],W[0]+G),W[0]+=G;break;case 3:case 4:default:throw new Error("PB Type ".concat(M," for Field ").concat(X," at offset ").concat(Q))}var B={data:H,type:M};if(Y[X]==null)Y[X]=[B];else Y[X].push(B)}return Y}function xN(J,Y){return(J==null?void 0:J.map(function(W){return Y(W.data)}))||[]}function h20(J){var Y,W=[],Q=[0];while(Q[0]<J.length){var X=a$(J,Q),M=v2(J.slice(Q[0],Q[0]+X));Q[0]+=X;var G={id:J2(M[1][0].data),messages:[]};if(M[2].forEach(function(H){var U=v2(H.data),B=J2(U[3][0].data);G.messages.push({meta:U,data:J.slice(Q[0],Q[0]+B)}),Q[0]+=B}),(Y=M[3])==null?void 0:Y[0])G.merge=J2(M[3][0].data)>>>0>0;W.push(G)}return W}function m20(J,Y){if(J!=0)throw new Error("Unexpected Snappy chunk type ".concat(J));var W=[0],Q=a$(Y,W),X=[];while(W[0]<Y.length){var M=Y[W[0]]&3;if(M==0){var G=Y[W[0]++]>>2;if(G<60)++G;else{var H=G-59;if(G=Y[W[0]],H>1)G|=Y[W[0]+1]<<8;if(H>2)G|=Y[W[0]+2]<<16;if(H>3)G|=Y[W[0]+3]<<24;G>>>=0,G++,W[0]+=H}X.push(Y.slice(W[0],W[0]+G)),W[0]+=G;continue}else{var U=0,B=0;if(M==1)B=(Y[W[0]]>>2&7)+4,U=(Y[W[0]++]&224)<<3,U|=Y[W[0]++];else if(B=(Y[W[0]++]>>2)+1,M==2)U=Y[W[0]]|Y[W[0]+1]<<8,W[0]+=2;else U=(Y[W[0]]|Y[W[0]+1]<<8|Y[W[0]+2]<<16|Y[W[0]+3]<<24)>>>0,W[0]+=4;if(X=[XN(X)],U==0)throw new Error("Invalid offset 0");if(U>X[0].length)throw new Error("Invalid offset beyond length");if(B>=U){X.push(X[0].slice(-U)),B-=U;while(B>=X[X.length-1].length)X.push(X[X.length-1]),B-=X[X.length-1].length}X.push(X[0].slice(-U,-U+B))}}var A=XN(X);if(A.length!=Q)throw new Error("Unexpected length: ".concat(A.length," != ").concat(Q));return A}function d20(J){var Y=[],W=0;while(W<J.length){var Q=J[W++],X=J[W]|J[W+1]<<8|J[W+2]<<16;W+=3,Y.push(m20(Q,J.slice(W,W+X))),W+=X}if(W!==J.length)throw new Error("data is not a valid framed stream!");return XN(Y)}function c20(J,Y,W,Q){var X=kN(J),M=X.getUint32(4,!0),G=(Q>1?12:8)+J3(M&(Q>1?3470:398))*4,H=-1,U=-1,B=NaN,A=new Date(2001,0,1);if(M&512)H=X.getUint32(G,!0),G+=4;if(G+=J3(M&(Q>1?12288:4096))*4,M&16)U=X.getUint32(G,!0),G+=4;if(M&32)B=X.getFloat64(G,!0),G+=8;if(M&64)A.setTime(A.getTime()+X.getFloat64(G,!0)*1000),G+=8;var N;switch(J[2]){case 0:break;case 2:N={t:"n",v:B};break;case 3:N={t:"s",v:Y[U]};break;case 5:N={t:"d",v:A};break;case 6:N={t:"b",v:B>0};break;case 7:N={t:"n",v:B/86400};break;case 8:N={t:"e",v:0};break;case 9:if(H>-1)N={t:"s",v:W[H]};else if(U>-1)N={t:"s",v:Y[U]};else if(!isNaN(B))N={t:"n",v:B};else throw new Error("Unsupported cell type ".concat(J.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(J.slice(0,4)))}return N}function u20(J,Y,W){var Q=kN(J),X=Q.getUint32(8,!0),M=12,G=-1,H=-1,U=NaN,B=NaN,A=new Date(2001,0,1);if(X&1)U=b20(J,M),M+=16;if(X&2)B=Q.getFloat64(M,!0),M+=8;if(X&4)A.setTime(A.getTime()+Q.getFloat64(M,!0)*1000),M+=8;if(X&8)H=Q.getUint32(M,!0),M+=4;if(X&16)G=Q.getUint32(M,!0),M+=4;var N;switch(J[1]){case 0:break;case 2:N={t:"n",v:U};break;case 3:N={t:"s",v:Y[H]};break;case 5:N={t:"d",v:A};break;case 6:N={t:"b",v:B>0};break;case 7:N={t:"n",v:B/86400};break;case 8:N={t:"e",v:0};break;case 9:if(G>-1)N={t:"s",v:W[G]};else throw new Error("Unsupported cell type ".concat(J[1]," : ").concat(X&31," : ").concat(J.slice(0,4)));break;case 10:N={t:"n",v:U};break;default:throw new Error("Unsupported cell type ".concat(J[1]," : ").concat(X&31," : ").concat(J.slice(0,4)))}return N}function p20(J,Y,W){switch(J[0]){case 0:case 1:case 2:case 3:return c20(J,Y,W,J[0]);case 5:return u20(J,Y,W);default:throw new Error("Unsupported payload version ".concat(J[0]))}}function F9(J){var Y=v2(J);return a$(Y[1][0].data)}function Y3(J,Y){var W=v2(Y.data),Q=J2(W[1][0].data),X=W[3],M=[];return(X||[]).forEach(function(G){var H=v2(G.data),U=J2(H[1][0].data)>>>0;switch(Q){case 1:M[U]=$N(H[3][0].data);break;case 8:{var B=J[F9(H[9][0].data)][0],A=v2(B.data),N=J[F9(A[1][0].data)][0],D=J2(N.meta[1][0].data);if(D!=2001)throw new Error("2000 unexpected reference to ".concat(D));var q=v2(N.data);M[U]=q[3].map(function(K){return $N(K.data)}).join("")}break}}),M}function n20(J,Y){var W,Q,X,M,G,H,U,B,A,N,D,q,K,O,z=v2(J),V=J2(z[1][0].data)>>>0,L=J2(z[2][0].data)>>>0,S=((Q=(W=z[8])==null?void 0:W[0])==null?void 0:Q.data)&&J2(z[8][0].data)>0||!1,g,d;if(((M=(X=z[7])==null?void 0:X[0])==null?void 0:M.data)&&Y!=0)g=(H=(G=z[7])==null?void 0:G[0])==null?void 0:H.data,d=(B=(U=z[6])==null?void 0:U[0])==null?void 0:B.data;else if(((N=(A=z[4])==null?void 0:A[0])==null?void 0:N.data)&&Y!=1)g=(q=(D=z[4])==null?void 0:D[0])==null?void 0:q.data,d=(O=(K=z[3])==null?void 0:K[0])==null?void 0:O.data;else throw"NUMBERS Tile missing ".concat(Y," cell storage");var I=S?4:1,F=kN(g),R=[];for(var j=0;j<g.length/2;++j){var x=F.getUint16(j*2,!0);if(x<65535)R.push([j,x])}if(R.length!=L)throw"Expected ".concat(L," cells, found ").concat(R.length);var _=[];for(j=0;j<R.length-1;++j)_[R[j][0]]=d.subarray(R[j][1]*I,R[j+1][1]*I);if(R.length>=1)_[R[R.length-1][0]]=d.subarray(R[R.length-1][1]*I);return{R:V,cells:_}}function i20(J,Y){var W,Q=v2(Y.data),X=((W=Q==null?void 0:Q[7])==null?void 0:W[0])?J2(Q[7][0].data)>>>0>0?1:0:-1,M=xN(Q[5],function(G){return n20(G,X)});return{nrows:J2(Q[4][0].data)>>>0,data:M.reduce(function(G,H){if(!G[H.R])G[H.R]=[];return H.cells.forEach(function(U,B){if(G[H.R][B])throw new Error("Duplicate cell r=".concat(H.R," c=").concat(B));G[H.R][B]=U}),G},[])}}function l20(J,Y,W){var Q,X=v2(Y.data),M={s:{r:0,c:0},e:{r:0,c:0}};if(M.e.r=(J2(X[6][0].data)>>>0)-1,M.e.r<0)throw new Error("Invalid row varint ".concat(X[6][0].data));if(M.e.c=(J2(X[7][0].data)>>>0)-1,M.e.c<0)throw new Error("Invalid col varint ".concat(X[7][0].data));W["!ref"]=E1(M);var G=v2(X[4][0].data),H=Y3(J,J[F9(G[4][0].data)][0]),U=((Q=G[17])==null?void 0:Q[0])?Y3(J,J[F9(G[17][0].data)][0]):[],B=v2(G[3][0].data),A=0;B[1].forEach(function(N){var D=v2(N.data),q=J[F9(D[2][0].data)][0],K=J2(q.meta[1][0].data);if(K!=6002)throw new Error("6001 unexpected reference to ".concat(K));var O=i20(J,q);O.data.forEach(function(z,V){z.forEach(function(L,S){var g=o0({r:A+V,c:S}),d=p20(L,H,U);if(d)W[g]=d})}),A+=O.nrows})}function o20(J,Y){var W=v2(Y.data),Q={"!ref":"A1"},X=J[F9(W[2][0].data)],M=J2(X[0].meta[1][0].data);if(M!=6001)throw new Error("6000 unexpected reference to ".concat(M));return l20(J,X[0],Q),Q}function r20(J,Y){var W,Q=v2(Y.data),X={name:((W=Q[1])==null?void 0:W[0])?$N(Q[1][0].data):"",sheets:[]},M=xN(Q[2],F9);return M.forEach(function(G){J[G].forEach(function(H){var U=J2(H.meta[1][0].data);if(U==6000)X.sheets.push(o20(J,H))})}),X}function a20(J,Y){var W=fN(),Q=v2(Y.data),X=xN(Q[1],F9);if(X.forEach(function(M){J[M].forEach(function(G){var H=J2(G.meta[1][0].data);if(H==2){var U=r20(J,G);U.sheets.forEach(function(B,A){vN(W,B,A==0?U.name:U.name+"_"+A,!0)})}})}),W.SheetNames.length==0)throw new Error("Empty NUMBERS file");return W}function oA(J){var Y,W,Q,X,M={},G=[];if(J.FullPaths.forEach(function(U){if(U.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),J.FileIndex.forEach(function(U){if(!U.name.match(/\.iwa$/))return;var B;try{B=d20(U.content)}catch(N){return console.log("?? "+U.content.length+" "+(N.message||N))}var A;try{A=h20(B)}catch(N){return console.log("## "+(N.message||N))}A.forEach(function(N){M[N.id]=N.messages,G.push(N.id)})}),!G.length)throw new Error("File has no messages");var H=((X=(Q=(W=(Y=M==null?void 0:M[1])==null?void 0:Y[0])==null?void 0:W.meta)==null?void 0:Q[1])==null?void 0:X[0].data)&&J2(M[1][0].meta[1][0].data)==1&&M[1][0];if(!H)G.forEach(function(U){M[U].forEach(function(B){var A=J2(B.meta[1][0].data)>>>0;if(A==1)if(!H)H=B;else throw new Error("Document has multiple roots")})});if(!H)throw new Error("Cannot find Document root");return a20(M,H)}function s20(J){return function Y(W){for(var Q=0;Q!=J.length;++Q){var X=J[Q];if(W[X[0]]===void 0)W[X[0]]=X[1];if(X[2]==="n")W[X[0]]=Number(W[X[0]])}}}function gN(J){s20([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(J)}function t20(J){if(F7.WS.indexOf(J)>-1)return"sheet";if(F7.CS&&J==F7.CS)return"chart";if(F7.DS&&J==F7.DS)return"dialog";if(F7.MS&&J==F7.MS)return"macro";return J&&J.length?J:"sheet"}function e20(J,Y){if(!J)return 0;try{J=Y.map(function W(Q){if(!Q.id)Q.id=Q.strRelID;return[Q.name,J["!id"][Q.id].Target,t20(J["!id"][Q.id].Type)]})}catch(W){return null}return!J||J.length===0?null:J}function J80(J,Y,W,Q,X,M,G,H,U,B,A,N){try{M[Q]=b$(b8(J,W,!0),Y);var D=v5(J,Y),q;switch(H){case"sheet":q=M20(D,Y,X,U,M[Q],B,A,N);break;case"chart":if(q=G20(D,Y,X,U,M[Q],B,A,N),!q||!q["!drawel"])break;var K=x$(q["!drawel"].Target,Y),O=eA(K),z=X00(b8(J,K,!0),b$(b8(J,O,!0),K)),V=x$(z,K),L=eA(V);q=u50(b8(J,V,!0),V,U,b$(b8(J,L,!0),V),B,q);break;case"macro":q=H20(D,Y,X,U,M[Q],B,A,N);break;case"dialog":q=U20(D,Y,X,U,M[Q],B,A,N);break;default:throw new Error("Unrecognized sheet type "+H)}G[Q]=q;var S=[];if(M&&M[Q])w4(M[Q]).forEach(function(g){var d="";if(M[Q][g].Type==F7.CMNT){d=x$(M[Q][g].Target,Y);var I=q20(v5(J,d,!0),d,U);if(!I||!I.length)return;mE(q,I,!1)}if(M[Q][g].Type==F7.TCMNT)d=x$(M[Q][g].Target,Y),S=S.concat(G00(v5(J,d,!0),U))});if(S&&S.length)mE(q,S,!0,U.people||[])}catch(g){if(U.WTF)throw g}}function G6(J){return J.charAt(0)=="/"?J.slice(1):J}function Y80(J,Y){if(O3(),Y=Y||{},gN(Y),U6(J,"META-INF/manifest.xml"))return tE(J,Y);if(U6(J,"objectdata.xml"))return tE(J,Y);if(U6(J,"Index/Document.iwa")){if(typeof Uint8Array=="undefined")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof oA!="undefined"){if(J.FileIndex)return oA(J);var W=F1.utils.cfb_new();return qE(J).forEach(function(q0){Ja(W,q0,F3(J,q0))}),oA(W)}throw new Error("Unsupported NUMBERS file")}if(!U6(J,"[Content_Types].xml")){if(U6(J,"index.xml.gz"))throw new Error("Unsupported NUMBERS 08 file");if(U6(J,"index.xml"))throw new Error("Unsupported NUMBERS 09 file");throw new Error("Unsupported ZIP file")}var Q=qE(J),X=aa(b8(J,"[Content_Types].xml")),M=!1,G,H;if(X.workbooks.length===0){if(H="xl/workbook.xml",v5(J,H,!0))X.workbooks.push(H)}if(X.workbooks.length===0){if(H="xl/workbook.bin",!v5(J,H,!0))throw new Error("Could not find workbook");X.workbooks.push(H),M=!0}if(X.workbooks[0].slice(-3)=="bin")M=!0;var U={},B={};if(!Y.bookSheets&&!Y.bookProps){if(d$=[],X.sst)try{d$=N20(v5(J,G6(X.sst)),X.sst,Y)}catch(q0){if(Y.WTF)throw q0}if(Y.cellStyles&&X.themes.length)U=A20(b8(J,X.themes[0].replace(/^\//,""),!0)||"",X.themes[0],Y);if(X.style)B=B20(v5(J,G6(X.style)),X.style,U,Y)}X.links.map(function(q0){try{var r=b$(b8(J,eA(G6(q0))),q0);return Z20(v5(J,G6(q0)),r,q0,Y)}catch(Z0){}});var A=X20(v5(J,G6(X.workbooks[0])),X.workbooks[0],Y),N={},D="";if(X.coreprops.length){if(D=v5(J,G6(X.coreprops[0]),!0),D)N=d3(D);if(X.extprops.length!==0){if(D=v5(J,G6(X.extprops[0]),!0),D)Ys(D,N,Y)}}var q={};if(!Y.bookSheets||Y.bookProps){if(X.custprops.length!==0){if(D=b8(J,G6(X.custprops[0]),!0),D)q=Qs(D,Y)}}var K={};if(Y.bookSheets||Y.bookProps){if(A.Sheets)G=A.Sheets.map(function q0(r){return r.name});else if(N.Worksheets&&N.SheetNames.length>0)G=N.SheetNames;if(Y.bookProps)K.Props=N,K.Custprops=q;if(Y.bookSheets&&typeof G!=="undefined")K.SheetNames=G;if(Y.bookSheets?K.SheetNames:Y.bookProps)return K}G={};var O={};if(Y.bookDeps&&X.calcchain)O=D20(v5(J,G6(X.calcchain)),X.calcchain,Y);var z=0,V={},L,S;{var g=A.Sheets;N.Worksheets=g.length,N.SheetNames=[];for(var d=0;d!=g.length;++d)N.SheetNames[d]=g[d].name}var I=M?"bin":"xml",F=X.workbooks[0].lastIndexOf("/"),R=(X.workbooks[0].slice(0,F+1)+"_rels/"+X.workbooks[0].slice(F+1)+".rels").replace(/^\//,"");if(!U6(J,R))R="xl/_rels/workbook."+I+".rels";var j=b$(b8(J,R,!0),R.replace(/_rels.*/,"s5s"));if((X.metadata||[]).length>=1)Y.xlmeta=O20(v5(J,G6(X.metadata[0])),X.metadata[0],Y);if((X.people||[]).length>=1)Y.people=H00(v5(J,G6(X.people[0])),Y);if(j)j=e20(j,A.Sheets);var x=v5(J,"xl/worksheets/sheet.xml",!0)?1:0;J:for(z=0;z!=N.Worksheets;++z){var _="sheet";if(j&&j[z]){if(L="xl/"+j[z][1].replace(/[\/]?xl\//,""),!U6(J,L))L=j[z][1];if(!U6(J,L))L=R.replace(/_rels\/.*$/,"")+j[z][1];_=j[z][2]}else L="xl/worksheets/sheet"+(z+1-x)+"."+I,L=L.replace(/sheet0\./,"sheet.");if(S=L.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),Y&&Y.sheets!=null)switch(typeof Y.sheets){case"number":if(z!=Y.sheets)continue J;break;case"string":if(N.SheetNames[z].toLowerCase()!=Y.sheets.toLowerCase())continue J;break;default:if(Array.isArray&&Array.isArray(Y.sheets)){var k=!1;for(var l=0;l!=Y.sheets.length;++l){if(typeof Y.sheets[l]=="number"&&Y.sheets[l]==z)k=1;if(typeof Y.sheets[l]=="string"&&Y.sheets[l].toLowerCase()==N.SheetNames[z].toLowerCase())k=1}if(!k)continue J}}J80(J,L,S,N.SheetNames[z],z,V,G,_,Y,A,U,B)}if(K={Directory:X,Workbook:A,Props:N,Custprops:q,Deps:O,Sheets:G,SheetNames:N.SheetNames,Strings:d$,Styles:B,Themes:U,SSF:V2(e0)},Y&&Y.bookFiles)if(J.files)K.keys=Q,K.files=J.files;else K.keys=[],K.files={},J.FullPaths.forEach(function(q0,r){q0=q0.replace(/^Root Entry[\/]/,""),K.keys.push(q0),K.files[q0]=J.FileIndex[r]});if(Y&&Y.bookVBA){if(X.vba.length>0)K.vbaraw=v5(J,G6(X.vba[0]),!0);else if(X.defaults&&X.defaults.bin===N00)K.vbaraw=v5(J,"xl/vbaProject.bin",!0)}return K}function W80(J,Y){var W=Y||{},Q="Workbook",X=F1.find(J,Q);try{if(Q="/!DataSpaces/Version",X=F1.find(J,Q),!X||!X.content)throw new Error("ECMA-376 Encrypted file missing "+Q);if(lt(X.content),Q="/!DataSpaces/DataSpaceMap",X=F1.find(J,Q),!X||!X.content)throw new Error("ECMA-376 Encrypted file missing "+Q);var M=rt(X.content);if(M.length!==1||M[0].comps.length!==1||M[0].comps[0].t!==0||M[0].name!=="StrongEncryptionDataSpace"||M[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+Q);if(Q="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",X=F1.find(J,Q),!X||!X.content)throw new Error("ECMA-376 Encrypted file missing "+Q);var G=at(X.content);if(G.length!=1||G[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+Q);if(Q="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",X=F1.find(J,Q),!X||!X.content)throw new Error("ECMA-376 Encrypted file missing "+Q);tt(X.content)}catch(U){}if(Q="/EncryptionInfo",X=F1.find(J,Q),!X||!X.content)throw new Error("ECMA-376 Encrypted file missing "+Q);var H=et(X.content);if(Q="/EncryptedPackage",X=F1.find(J,Q),!X||!X.content)throw new Error("ECMA-376 Encrypted file missing "+Q);if(H[0]==4&&typeof decrypt_agile!=="undefined")return decrypt_agile(H[1],X.content,W.password||"",W);if(H[0]==2&&typeof decrypt_std76!=="undefined")return decrypt_std76(H[1],X.content,W.password||"",W);throw new Error("File is password-protected")}function yN(J,Y){var W="";switch((Y||{}).type||"base64"){case"buffer":return[J[0],J[1],J[2],J[3],J[4],J[5],J[6],J[7]];case"base64":W=h8(J.slice(0,12));break;case"binary":W=J;break;case"array":return[J[0],J[1],J[2],J[3],J[4],J[5],J[6],J[7]];default:throw new Error("Unrecognized type "+(Y&&Y.type||"undefined"))}return[W.charCodeAt(0),W.charCodeAt(1),W.charCodeAt(2),W.charCodeAt(3),W.charCodeAt(4),W.charCodeAt(5),W.charCodeAt(6),W.charCodeAt(7)]}function Q80(J,Y){if(F1.find(J,"EncryptedPackage"))return W80(J,Y);return Pj(J,Y)}function $80(J,Y){var W,Q=J,X=Y||{};if(!X.type)X.type=K1&&Buffer.isBuffer(J)?"buffer":"base64";return W=E3(Q,X),Y80(W,X)}function Tj(J,Y){var W=0;J:while(W<J.length)switch(J.charCodeAt(W)){case 10:case 13:case 32:++W;break;case 60:return WN(J.slice(W),Y);default:break J}return l$.to_workbook(J,Y)}function X80(J,Y){var W="",Q=yN(J,Y);switch(Y.type){case"base64":W=h8(J);break;case"binary":W=J;break;case"buffer":W=J.toString("binary");break;case"array":W=PJ(J);break;default:throw new Error("Unrecognized type "+Y.type)}if(Q[0]==239&&Q[1]==187&&Q[2]==191)W=s1(W);return Y.type="binary",Tj(W,Y)}function M80(J,Y){var W=J;if(Y.type=="base64")W=h8(W);return W=w1.utils.decode(1200,W.slice(2),"str"),Y.type="binary",Tj(W,Y)}function G80(J){return!J.match(/[^\x00-\x7F]/)?J:g$(J)}function rA(J,Y,W,Q){if(Q)return W.type="string",l$.to_workbook(J,W);return l$.to_workbook(Y,W)}function hG(J,Y){$3();var W=Y||{};if(typeof ArrayBuffer!=="undefined"&&J instanceof ArrayBuffer)return hG(new Uint8Array(J),(W=V2(W),W.type="array",W));if(typeof Uint8Array!=="undefined"&&J instanceof Uint8Array&&!W.type)W.type=typeof Deno!=="undefined"?"buffer":"array";var Q=J,X=[0,0,0,0],M=!1;if(W.cellStyles)W.cellNF=!0,W.sheetStubs=!0;if(OW={},W.dateNF)OW.dateNF=W.dateNF;if(!W.type)W.type=K1&&Buffer.isBuffer(J)?"buffer":"base64";if(W.type=="file"){if(W.type=K1?"buffer":"binary",Q=lr(J),typeof Uint8Array!=="undefined"&&!K1)W.type="array"}if(W.type=="string")M=!0,W.type="binary",W.codepage=65001,Q=G80(J);if(W.type=="array"&&typeof Uint8Array!=="undefined"&&J instanceof Uint8Array&&typeof ArrayBuffer!=="undefined"){var G=new ArrayBuffer(3),H=new Uint8Array(G);if(H.foo="bar",!H.foo)return W=V2(W),W.type="array",hG(UN(Q),W)}switch((X=yN(Q,W))[0]){case 208:if(X[1]===207&&X[2]===17&&X[3]===224&&X[4]===161&&X[5]===177&&X[6]===26&&X[7]===225)return Q80(F1.read(Q,W),W);break;case 9:if(X[1]<=8)return Pj(Q,W);break;case 60:return WN(Q,W);case 73:if(X[1]===73&&X[2]===42&&X[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(X[1]===68)return gt(Q,W);break;case 84:if(X[1]===65&&X[2]===66&&X[3]===76)return kt.to_workbook(Q,W);break;case 80:return X[1]===75&&X[2]<9&&X[3]<9?$80(Q,W):rA(J,Q,W,M);case 239:return X[3]===60?WN(Q,W):rA(J,Q,W,M);case 255:if(X[1]===254)return M80(Q,W);else if(X[1]===0&&X[2]===2&&X[3]===0)return m$.to_workbook(Q,W);break;case 0:if(X[1]===0){if(X[2]>=2&&X[3]===0)return m$.to_workbook(Q,W);if(X[2]===0&&(X[3]===8||X[3]===9))return m$.to_workbook(Q,W)}break;case 3:case 131:case 139:case 140:return hE.to_workbook(Q,W);case 123:if(X[1]===92&&X[2]===114&&X[3]===116)return Ae.to_workbook(Q,W);break;case 10:case 13:case 32:return X80(Q,W);case 137:if(X[1]===80&&X[2]===78&&X[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}if(_t.indexOf(X[0])>-1&&X[2]<=12&&X[3]<=31)return hE.to_workbook(Q,W);return rA(J,Q,W,M)}function H80(J,Y,W,Q,X,M,G,H){var U=F2(W),B=H.defval,A=H.raw||!Object.prototype.hasOwnProperty.call(H,"raw"),N=!0,D=X===1?[]:{};if(X!==1)if(Object.defineProperty)try{Object.defineProperty(D,"__rowNum__",{value:W,enumerable:!1})}catch(z){D.__rowNum__=W}else D.__rowNum__=W;if(!G||J[W])for(var q=Y.s.c;q<=Y.e.c;++q){var K=G?J[W][q]:J[Q[q]+U];if(K===void 0||K.t===void 0){if(B===void 0)continue;if(M[q]!=null)D[M[q]]=B;continue}var O=K.v;switch(K.t){case"z":if(O==null)break;continue;case"e":O=O==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+K.t)}if(M[q]!=null){if(O==null)if(K.t=="e"&&O===null)D[M[q]]=null;else if(B!==void 0)D[M[q]]=B;else if(A&&O===null)D[M[q]]=null;else continue;else D[M[q]]=A&&(K.t!=="n"||K.t==="n"&&H.rawNumbers!==!1)?O:C7(K,O,H);if(O!=null)N=!1}}return{row:D,isempty:N}}function MN(J,Y){if(J==null||J["!ref"]==null)return[];var W={t:"n",v:0},Q=0,X=1,M=[],G=0,H="",U={s:{r:0,c:0},e:{r:0,c:0}},B=Y||{},A=B.range!=null?B.range:J["!ref"];if(B.header===1)Q=1;else if(B.header==="A")Q=2;else if(Array.isArray(B.header))Q=3;else if(B.header==null)Q=0;switch(typeof A){case"string":U=E5(A);break;case"number":U=E5(J["!ref"]),U.s.r=A;break;default:U=A}if(Q>0)X=0;var N=F2(U.s.r),D=[],q=[],K=0,O=0,z=Array.isArray(J),V=U.s.r,L=0,S={};if(z&&!J[V])J[V]=[];var g=B.skipHidden&&J["!cols"]||[],d=B.skipHidden&&J["!rows"]||[];for(L=U.s.c;L<=U.e.c;++L){if((g[L]||{}).hidden)continue;switch(D[L]=e5(L),W=z?J[V][L]:J[D[L]+N],Q){case 1:M[L]=L-U.s.c;break;case 2:M[L]=D[L];break;case 3:M[L]=B.header[L-U.s.c];break;default:if(W==null)W={w:"__EMPTY",t:"s"};if(H=G=C7(W,null,B),O=S[G]||0,!O)S[G]=1;else{do H=G+"_"+O++;while(S[H]);S[G]=O,S[H]=1}M[L]=H}}for(V=U.s.r+X;V<=U.e.r;++V){if((d[V]||{}).hidden)continue;var I=H80(J,U,V,D,Q,M,z,B);if(I.isempty===!1||(Q===1?B.blankrows!==!1:!!B.blankrows))q[K++]=I.row}return q.length=K,q}var W3=/"/g;function U80(J,Y,W,Q,X,M,G,H){var U=!0,B=[],A="",N=F2(W);for(var D=Y.s.c;D<=Y.e.c;++D){if(!Q[D])continue;var q=H.dense?(J[W]||[])[D]:J[Q[D]+N];if(q==null)A="";else if(q.v!=null){U=!1,A=""+(H.rawNumbers&&q.t=="n"?q.v:C7(q,null,H));for(var K=0,O=0;K!==A.length;++K)if((O=A.charCodeAt(K))===X||O===M||O===34||H.forceQuotes){A='"'+A.replace(W3,'""')+'"';break}if(A=="ID")A='"ID"'}else if(q.f!=null&&!q.F){if(U=!1,A="="+q.f,A.indexOf(",")>=0)A='"'+A.replace(W3,'""')+'"'}else A="";B.push(A)}if(H.blankrows===!1&&U)return null;return B.join(G)}function _j(J,Y){var W=[],Q=Y==null?{}:Y;if(J==null||J["!ref"]==null)return"";var X=E5(J["!ref"]),M=Q.FS!==void 0?Q.FS:",",G=M.charCodeAt(0),H=Q.RS!==void 0?Q.RS:`
`,U=H.charCodeAt(0),B=new RegExp((M=="|"?"\\|":M)+"+$"),A="",N=[];Q.dense=Array.isArray(J);var D=Q.skipHidden&&J["!cols"]||[],q=Q.skipHidden&&J["!rows"]||[];for(var K=X.s.c;K<=X.e.c;++K)if(!(D[K]||{}).hidden)N[K]=e5(K);var O=0;for(var z=X.s.r;z<=X.e.r;++z){if((q[z]||{}).hidden)continue;if(A=U80(J,X,z,N,G,U,M,Q),A==null)continue;if(Q.strip)A=A.replace(B,"");if(A||Q.blankrows!==!1)W.push((O++?H:"")+A)}return delete Q.dense,W.join("")}function B80(J,Y){if(!Y)Y={};Y.FS="\t",Y.RS=`
`;var W=_j(J,Y);if(typeof w1=="undefined"||Y.type=="string")return W;var Q=w1.utils.encode(1200,W,"str");return String.fromCharCode(255)+String.fromCharCode(254)+Q}function A80(J){var Y="",W,Q="";if(J==null||J["!ref"]==null)return[];var X=E5(J["!ref"]),M="",G=[],H,U=[],B=Array.isArray(J);for(H=X.s.c;H<=X.e.c;++H)G[H]=e5(H);for(var A=X.s.r;A<=X.e.r;++A){M=F2(A);for(H=X.s.c;H<=X.e.c;++H){if(Y=G[H]+M,W=B?(J[A]||[])[H]:J[Y],Q="",W===void 0)continue;else if(W.F!=null){if(Y=W.F,!W.f)continue;if(Q=W.f,Y.indexOf(":")==-1)Y=Y+":"+Y}if(W.f!=null)Q=W.f;else if(W.t=="z")continue;else if(W.t=="n"&&W.v!=null)Q=""+W.v;else if(W.t=="b")Q=W.v?"TRUE":"FALSE";else if(W.w!==void 0)Q="'"+W.w;else if(W.v===void 0)continue;else if(W.t=="s")Q="'"+W.v;else Q=""+W.v;U[U.length]=Y+"="+Q}}return U}function wj(J,Y,W){var Q=W||{},X=+!Q.skipHeader,M=J||{},G=0,H=0;if(M&&Q.origin!=null)if(typeof Q.origin=="number")G=Q.origin;else{var U=typeof Q.origin=="string"?J8(Q.origin):Q.origin;G=U.r,H=U.c}var B,A={s:{c:0,r:0},e:{c:H,r:G+Y.length-1+X}};if(M["!ref"]){var N=E5(M["!ref"]);if(A.e.c=Math.max(A.e.c,N.e.c),A.e.r=Math.max(A.e.r,N.e.r),G==-1)G=N.e.r+1,A.e.r=G+Y.length-1+X}else if(G==-1)G=0,A.e.r=Y.length-1+X;var D=Q.header||[],q=0;Y.forEach(function(O,z){w4(O).forEach(function(V){if((q=D.indexOf(V))==-1)D[q=D.length]=V;var L=O[V],S="z",g="",d=o0({c:H+q,r:G+z+X});if(B=s$(M,d),L&&typeof L==="object"&&!(L instanceof Date))M[d]=L;else{if(typeof L=="number")S="n";else if(typeof L=="boolean")S="b";else if(typeof L=="string")S="s";else if(L instanceof Date){if(S="d",!Q.cellDates)S="n",L=Y8(L);g=Q.dateNF||e0[14]}else if(L===null&&Q.nullError)S="e",L=0;if(!B)M[d]=B={t:S,v:L};else if(B.t=S,B.v=L,delete B.w,delete B.R,g)B.z=g;if(g)B.z=g}})}),A.e.c=Math.max(A.e.c,H+D.length-1);var K=F2(G);if(X)for(q=0;q<D.length;++q)M[e5(q+H)+K]={t:"s",v:D[q]};return M["!ref"]=E1(A),M}function N80(J,Y){return wj(null,J,Y)}function s$(J,Y,W){if(typeof Y=="string"){if(Array.isArray(J)){var Q=J8(Y);if(!J[Q.r])J[Q.r]=[];return J[Q.r][Q.c]||(J[Q.r][Q.c]={t:"z"})}return J[Y]||(J[Y]={t:"z"})}if(typeof Y!="number")return s$(J,o0(Y));return s$(J,o0({r:Y,c:W||0}))}function q80(J,Y){if(typeof Y=="number"){if(Y>=0&&J.SheetNames.length>Y)return Y;throw new Error("Cannot find sheet # "+Y)}else if(typeof Y=="string"){var W=J.SheetNames.indexOf(Y);if(W>-1)return W;throw new Error("Cannot find sheet name |"+Y+"|")}else throw new Error("Cannot find sheet |"+Y+"|")}function fN(){return{SheetNames:[],Sheets:{}}}function vN(J,Y,W,Q){var X=1;if(!W){for(;X<=65535;++X,W=void 0)if(J.SheetNames.indexOf(W="Sheet"+X)==-1)break}if(!W||J.SheetNames.length>=65535)throw new Error("Too many worksheets");if(Q&&J.SheetNames.indexOf(W)>=0){var M=W.match(/(^.*?)(\d+)$/);X=M&&+M[2]||0;var G=M&&M[1]||W;for(++X;X<=65535;++X)if(J.SheetNames.indexOf(W=G+X)==-1)break}if(s50(W),J.SheetNames.indexOf(W)>=0)throw new Error("Worksheet with name |"+W+"| already exists!");return J.SheetNames.push(W),J.Sheets[W]=Y,W}function D80(J,Y,W){if(!J.Workbook)J.Workbook={};if(!J.Workbook.Sheets)J.Workbook.Sheets=[];var Q=q80(J,Y);if(!J.Workbook.Sheets[Q])J.Workbook.Sheets[Q]={};switch(W){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+W)}J.Workbook.Sheets[Q].Hidden=W}function Z80(J,Y){return J.z=Y,J}function kj(J,Y,W){if(!Y)delete J.l;else if(J.l={Target:Y},W)J.l.Tooltip=W;return J}function O80(J,Y,W){return kj(J,"#"+Y,W)}function K80(J,Y,W){if(!J.c)J.c=[];J.c.push({t:Y,a:W||"SheetJS"})}function z80(J,Y,W,Q){var X=typeof Y!="string"?Y:E5(Y),M=typeof Y=="string"?Y:E1(Y);for(var G=X.s.r;G<=X.e.r;++G)for(var H=X.s.c;H<=X.e.c;++H){var U=s$(J,G,H);if(U.t="n",U.F=M,delete U.v,G==X.s.r&&H==X.s.c){if(U.f=W,Q)U.D=!0}}return J}var xj={encode_col:e5,encode_row:F2,encode_cell:o0,encode_range:E1,decode_col:FN,decode_row:VN,split_cell:Ta,decode_cell:J8,decode_range:FW,format_cell:C7,sheet_add_aoa:f3,sheet_add_json:wj,sheet_add_dom:Cj,aoa_to_sheet:EW,json_to_sheet:N80,table_to_sheet:Ij,table_to_book:y20,sheet_to_csv:_j,sheet_to_txt:B80,sheet_to_json:MN,sheet_to_html:g20,sheet_to_formulae:A80,sheet_to_row_object_array:MN,sheet_get_cell:s$,book_new:fN,book_append_sheet:vN,book_set_sheet_visibility:D80,cell_set_number_format:Z80,cell_set_hyperlink:kj,cell_set_internal_link:O80,cell_add_comment:K80,sheet_set_array_formula:z80,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};var mF0=Q3.version;var R7;((pF0)=>{async function J(H,U){let B=await U.arrayBuffer(),A=hG(B,{type:"array"}),N=A.SheetNames[0],D=A.Sheets[N],q=xj.sheet_to_json(D,{header:1}),K=[];for(let V=10;V<q.length;V++){let L=q[V],S=L[2]||"",g=L[3]||"";if(S&&g)K.push({studentId:S,fullName:g})}if(!await M6.findById(H))throw new Error(`Classroom with ID ${H} not found.`);return await M6.update(H,{students:K})}pF0.uploadStudentsFromExcel=J;async function Y(H){let U=await M6.findById(H);if(!U)throw new Error(`Classroom with ID ${H} not found.`);let B=[],A=0,N=U.students;for(let D of N){let q=0;for(let K of U.orders)if(K.customerName===D.name)for(let O of K.order_items)q+=O.pound;B.push({...D,totalPounds:q}),A+=q}return{students:B,totalPoundsForClassroom:A}}pF0.getStudentsWithCakePounds=Y;async function W(H){if(!H.name||H.name.trim()==="")throw new Error("Classroom name is required and cannot be empty.");try{return M6.create(H)}catch(U){if(U instanceof X1&&U.code==="P2002")throw new Error("Classroom name already exists");throw U}}pF0.create=W;async function Q(H={}){let U=H.page??1,B=H.itemsPerPage??10,A=H.search,{skip:N,take:D}=M2(U,B),q=await M6.findAll({skip:N,take:D,search:A}),K=await M6.countAll(A),O=(K+B-1)/B>>0,z=U<O,V=U>1;return{data:q,meta_data:{page:U,itemsPerPage:B,total:K,totalPages:O,nextPage:z,previousPage:V}}}pF0.findAll=Q;async function X(H){return M6.findById(H)}pF0.findById=X;async function M(H,U){try{let B={...U};return await M6.update(H,B)}catch(B){if(B instanceof X1&&B.code==="P2002")throw new Error("Classroom name already exists");throw B}}pF0.update=M;async function G(H){return M6.deleteById(H)}pF0.deleteById=G})(R7||={});var bN;((gj)=>gj.classroomController=new a0({prefix:"/classrooms"}).post("/:ClassroomId/upload-students",async({params:Y,body:W,set:Q})=>{try{let{ClassroomId:X}=Y,{file:M}=W;if(!M)return Q.status="Bad Request","No file uploaded.";let G=await R7.uploadStudentsFromExcel(X,M);return Q.status="OK",{updatedClassroom:G,message:"Students uploaded and classroom updated successfully."}}catch(X){if(Q.status="Internal Server Error","message"in X)return X.message;return"Internal Server Error"}},{params:Z.Object({ClassroomId:Z.String()}),body:Z.Object({file:Z.File()}),type:"formdata",response:{200:Z.Object({updatedClassroom:LJ,message:Z.String()}),400:Z.String(),500:Z.String()},tags:["Classrooms"]}).post("/",async({body:Y,set:W})=>{try{let Q=await R7.create(Y);return W.status=201,{newClassroom:Q,message:"Classroom has created"}}catch(Q){if(Q.message==="Classroom name already exists")return W.status="Conflict",Q.message;if(W.status="Internal Server Error","message"in Q)return Q.message;return"Internal Server Error"}},{body:hA,response:{201:Z.Object({newClassroom:LJ,message:Z.String()}),409:Z.String(),500:Z.String()},tags:["Classrooms"]}).get("/",async({query:Y,set:W})=>{let Q=Y.page?Number(Y.page):1,X=Y.itemsPerPage?Number(Y.itemsPerPage):10,M=Y.search,G=await R7.findAll({page:Q,itemsPerPage:X,search:M});if(G.data.length===0&&M!==void 0)return W.status="Not Found",{message:"No Classroom found matching your search query."};return G},{query:Z.Object({page:Z.Optional(Z.Numeric()),itemsPerPage:Z.Optional(Z.Numeric()),search:Z.Optional(Z.String())}),response:{200:Z.Object({data:Z.Array(eF),meta_data:Z.Object({page:Z.Number(),itemsPerPage:Z.Number(),total:Z.Number(),totalPages:Z.Number(),nextPage:Z.Boolean(),previousPage:Z.Boolean()})}),404:Z.Object({message:Z.String()}),500:Z.String()},tags:["Classrooms"]}).get("/:ClassroomId/students-with-cake-pounds",async({params:Y,set:W})=>{try{let{ClassroomId:Q}=Y,X=await R7.getStudentsWithCakePounds(Q);return W.status="OK",X}catch(Q){if(W.status="Internal Server Error","message"in Q)return Q.message;return"Internal Server Error"}},{params:Z.Object({ClassroomId:Z.String()}),response:{200:Z.Object({students:Z.Array(Z.Object({number:Z.String(),name:Z.String(),totalPounds:Z.Number()})),totalPoundsForClassroom:Z.Number()}),500:Z.String()},tags:["Classrooms"]}).get("/:ClassroomId",async({params:Y})=>{return await R7.findById(Y.ClassroomId)},{params:Z.Object({ClassroomId:Z.String()}),response:{200:LJ,500:Z.String()},tags:["Classrooms"]}).patch("/:ClassroomId",async({params:Y,body:W,set:Q})=>{try{let X=await R7.update(Y.ClassroomId,W);return Q.status="OK",{updateClassroom:X,message:"Classroom has updated"}}catch(X){if(X.message==="Classroomname already exists")return Q.status="Conflict",X.message;if(Q.status="Internal Server Error","message"in X)return X.message;return"Internal Server Error"}},{body:tF,params:Z.Object({ClassroomId:Z.String()}),response:{200:LJ,409:Z.String(),500:Z.String()},tags:["Classrooms"]}).delete("/:ClassroomId",async({params:Y,set:W})=>{try{let Q=await R7.deleteById(Y.ClassroomId);return W.status="OK",{deleteClassroom:Q,message:"Classroom has deleted"}}catch(Q){if(W.status="Internal Server Error","message"in Q)return Q.message;return"Internal Server Error"}},{params:Z.Object({ClassroomId:Z.String()}),response:{200:LJ,500:Z.String()},tags:["Classrooms"]}))(bN||={});var nG=Z.Object({id:Z.String(),name:Z.String(),classroom_ids:Z.Array(Z.String()),team_type:Z.UnionEnum(["team","person"]),createdAt:Z.Date(),updatedAt:Z.Date()}),S80=Z.Object({name:Z.String(),classroom_ids:Z.Array(Z.String()),team_type:Z.UnionEnum(["team","person"])}),sF0=Z.Partial(S80),V80=Z.Object({id:Z.String(),name:Z.String(),teacher_id:Z.String(),department_id:Z.String(),grade_level_id:Z.String(),students:Z.Any()}),F80=Z.Object({id:Z.String(),name:Z.String()}),E80=Z.Object({id:Z.String(),level:Z.UnionEnum(["VOCATIONAL","HIGHER"]),year:Z.Number()}),hN=Z.Composite([nG,Z.Object({classrooms:Z.Optional(Z.Array(V80)),departments:Z.Optional(Z.Array(F80)),gradeLevels:Z.Optional(Z.Array(E80)),orders:Z.Optional(Z.Array(Z.Object({id:Z.String()})))})]);var C9;((JE0)=>{async function J(G){return S0.team.create({data:{name:G.name,classroom_ids:G.classroom_ids,team_type:G.team_type}})}JE0.create=J;async function Y(G){let H={...G.search&&{name:{contains:G.search}},team_type:{in:["team","person"]}},U=await S0.team.findMany({where:H,include:{orders:{select:{id:!0}}},take:G.take,skip:G.skip});return await Promise.all(U.map(async(A)=>{let N=await S0.classroom.findMany({where:{id:{in:A.classroom_ids}},include:{department:!0,grade_level:!0}}),D=new Map,q=new Map;return N.forEach((K)=>{if(K.department)D.set(K.department.id,K.department);if(K.grade_level)q.set(K.grade_level.id,K.grade_level)}),{...A,classrooms:N,departments:Array.from(D.values()),gradeLevels:Array.from(q.values())}}))}JE0.findAll=Y;async function W(G){let H=await S0.team.findUnique({where:{id:G},include:{orders:!0}});if(!H)return null;let U=await S0.classroom.findMany({where:{id:{in:H.classroom_ids}},include:{department:!0,grade_level:!0}}),B=new Map,A=new Map;return U.forEach((N)=>{if(N.department)B.set(N.department.id,N.department);if(N.grade_level)A.set(N.grade_level.id,N.grade_level)}),{...H,classrooms:U,departments:Array.from(B.values()),gradeLevels:Array.from(A.values())}}JE0.findById=W;async function Q(G,H){return await S0.team.update({where:{id:G},data:{...H.name!==void 0&&{name:H.name},...H.classroom_ids!==void 0&&{classroom_ids:H.classroom_ids},...H.team_type!==void 0&&{team_type:H.team_type}}})}JE0.update=Q;async function X(G){return await S0.team.delete({where:{id:G}})}JE0.remove=X;async function M(G){let H=G?{name:{contains:G}}:{};return S0.team.count({where:H})}JE0.countAll=M})(C9||={});var xJ;((XE0)=>{async function J(M){if(!M.name||M.name.trim()==="")throw new Error("Team name is required and cannot be empty.");if(!M.classroom_ids||M.classroom_ids.length===0)throw new Error("At least one classroom is required.");try{return await C9.create(M)}catch(G){if(G instanceof X1&&G.code==="P2002")throw new Error("Team name already exists");throw G}}XE0.create=J;async function Y(M={}){let G=M.page??1,H=M.itemsPerPage??10,U=M.search,{skip:B,take:A}=M2(G,H),N=await C9.findAll({skip:B,take:A,search:U}),D=await C9.countAll(U),q=Math.ceil(D/H),K=G<q,O=G>1;return{data:N,meta_data:{page:G,itemsPerPage:H,total:D,totalPages:q,nextPage:K,previousPage:O}}}XE0.findAll=Y;async function W(M){let G=await C9.findById(M);if(!G)throw new Error("Team not found");return G}XE0.findById=W;async function Q(M,G){if(G.classroom_ids&&G.classroom_ids.length===0)throw new Error("At least one classroom is required.");try{return await C9.update(M,G)}catch(H){if(H instanceof X1){if(H.code==="P2025")throw new Error("Team not found");if(H.code==="P2002")throw new Error("Team name already exists")}throw H}}XE0.update=Q;async function X(M){try{return await C9.remove(M)}catch(G){if(G instanceof X1&&G.code==="P2025")throw new Error("Team not found");throw G}}XE0.remove=X})(xJ||={});var mN;((yj)=>yj.teamController=new a0({prefix:"/teams"}).post("/",async({body:Y,set:W})=>{try{let Q=await xJ.create(Y);return W.status=201,{newTeam:Q,message:"Team has been created"}}catch(Q){if(Q.message==="Team name already exists")return W.status="Conflict",Q.message;if(W.status="Internal Server Error","message"in Q)return Q.message;return"Internal Server Error"}},{body:R$,response:{201:Z.Object({newTeam:nG,message:Z.String()}),409:Z.String(),500:Z.String()},tags:["Teams"]}).get("/",async({query:Y,set:W})=>{let Q=Y.page?Number(Y.page):1,X=Y.itemsPerPage?Number(Y.itemsPerPage):10,M=Y.search,G=await xJ.findAll({page:Q,itemsPerPage:X,search:M});if(G.data.length===0&&M!==void 0)return W.status="Not Found",{message:"No team found matching your search query."};return G},{query:Z.Object({page:Z.Optional(Z.Numeric()),itemsPerPage:Z.Optional(Z.Numeric()),search:Z.Optional(Z.String())}),response:{200:Z.Object({data:Z.Array(hN),meta_data:Z.Object({page:Z.Number(),itemsPerPage:Z.Number(),total:Z.Number(),totalPages:Z.Number(),nextPage:Z.Boolean(),previousPage:Z.Boolean()})}),404:Z.Object({message:Z.String()}),500:Z.String()},tags:["Teams"]}).get("/:teamId",async({params:{teamId:Y},set:W})=>{try{return await xJ.findById(Y)}catch(Q){if(Q.message==="Team not found")return W.status="Not Found",Q.message;return W.status="Internal Server Error","Internal Server Error"}},{params:Z.Object({teamId:Z.String()}),response:{200:hN,404:Z.String(),500:Z.String()},tags:["Teams"]}).put("/:teamId",async({params:{teamId:Y},body:W,set:Q})=>{try{return{updatedTeam:await xJ.update(Y,W),message:"Team has been updated"}}catch(X){if(X.message==="Team not found")return Q.status="Not Found",X.message;if(X.message==="Team name already exists")return Q.status="Conflict",X.message;return Q.status="Internal Server Error","Internal Server Error"}},{params:Z.Object({teamId:Z.String()}),body:zG,response:{200:Z.Object({updatedTeam:nG,message:Z.String()}),404:Z.String(),409:Z.String(),500:Z.String()},tags:["Teams"]}).delete("/:teamId",async({params:{teamId:Y},set:W})=>{try{return await xJ.remove(Y),{message:"Team has been deleted"}}catch(Q){if(Q.message==="Team not found")return W.status="Not Found",Q.message;return W.status="Internal Server Error","Internal Server Error"}},{params:Z.Object({teamId:Z.String()}),response:{200:Z.Object({message:Z.String()}),404:Z.String(),500:Z.String()},tags:["Teams"]}))(mN||={});var iG=Z.Object({id:Z.String(),name:Z.String(),price:Z.Number(),description:Z.Optional(Z.String()),createdAt:Z.Date(),updatedAt:Z.Date()}),dN=Z.Object({name:Z.String(),price:Z.Number(),description:Z.Optional(Z.String())}),fj=Z.Partial(dN),j80=Z.Object({id:Z.String(),quantity:Z.Number(),order_id:Z.String(),product_id:Z.String()}),cN=Z.Composite([iG,Z.Object({orderItems:Z.Array(j80)})]);var I9;((ZE0)=>{async function J(G){return S0.product.create({data:{...G}})}ZE0.create=J;async function Y(G){let H=G.search?{OR:[{name:{contains:G.search}},{description:{contains:G.search}}]}:{};return S0.product.findMany({where:H,include:{orderItems:{select:{id:!0,quantity:!0,order_id:!0,product_id:!0}}},take:G.take,skip:G.skip})}ZE0.findAll=Y;async function W(G){return await S0.product.findUnique({where:{id:G},include:{orderItems:!0}})}ZE0.findById=W;async function Q(G,H){return await S0.product.update({where:{id:G},data:H})}ZE0.update=Q;async function X(G){return await S0.product.delete({where:{id:G}})}ZE0.remove=X;async function M(G){let H=G?{OR:[{name:{contains:G}},{description:{contains:G}}]}:{};return S0.product.count({where:H})}ZE0.countAll=M})(I9||={});var gJ;((SE0)=>{async function J(M){if(!M.name||M.name.trim()==="")throw new Error("Product name is required and cannot be empty.");if(M.price<0)throw new Error("Product price cannot be negative.");try{return await I9.create(M)}catch(G){if(G instanceof X1&&G.code==="P2002")throw new Error("Product name already exists");throw G}}SE0.create=J;async function Y(M={}){let G=M.page??1,H=M.itemsPerPage??10,U=M.search,{skip:B,take:A}=M2(G,H),N=await I9.findAll({skip:B,take:A,search:U}),D=await I9.countAll(U),q=Math.ceil(D/H),K=G<q,O=G>1;return{data:N,meta_data:{page:G,itemsPerPage:H,total:D,totalPages:q,nextPage:K,previousPage:O}}}SE0.findAll=Y;async function W(M){let G=await I9.findById(M);if(!G)throw new Error("Product not found");return G}SE0.findById=W;async function Q(M,G){if(G.price!==void 0&&G.price<0)throw new Error("Product price cannot be negative.");try{return await I9.update(M,G)}catch(H){if(H instanceof X1){if(H.code==="P2025")throw new Error("Product not found");if(H.code==="P2002")throw new Error("Product name already exists")}throw H}}SE0.update=Q;async function X(M){try{return await I9.remove(M)}catch(G){if(G instanceof X1&&G.code==="P2025")throw new Error("Product not found");throw G}}SE0.remove=X})(gJ||={});var uN;((vj)=>vj.productController=new a0({prefix:"/products"}).post("/",async({body:Y,set:W})=>{try{let Q=await gJ.create(Y);return W.status=201,{newProduct:Q,message:"Product has been created"}}catch(Q){if(Q.message==="Product name already exists")return W.status="Conflict",Q.message;if(Q.message.includes("price"))return W.status=400,Q.message;if(W.status="Internal Server Error","message"in Q)return Q.message;return"Internal Server Error"}},{body:dN,response:{201:Z.Object({newProduct:iG,message:Z.String()}),400:Z.String(),409:Z.String(),500:Z.String()},tags:["Products"]}).get("/",async({query:Y,set:W})=>{let Q=Y.page?Number(Y.page):1,X=Y.itemsPerPage?Number(Y.itemsPerPage):10,M=Y.search,G=await gJ.findAll({page:Q,itemsPerPage:X,search:M});if(G.data.length===0&&M!==void 0)return W.status="Not Found",{message:"No product found matching your search query."};return G},{query:Z.Object({page:Z.Optional(Z.Numeric()),itemsPerPage:Z.Optional(Z.Numeric()),search:Z.Optional(Z.String())}),response:{200:Z.Object({data:Z.Array(cN),meta_data:Z.Object({page:Z.Number(),itemsPerPage:Z.Number(),total:Z.Number(),totalPages:Z.Number(),nextPage:Z.Boolean(),previousPage:Z.Boolean()})}),404:Z.Object({message:Z.String()}),500:Z.String()},tags:["Products"]}).get("/:productId",async({params:{productId:Y},set:W})=>{try{return await gJ.findById(Y)}catch(Q){if(Q.message==="Product not found")return W.status="Not Found",Q.message;return W.status="Internal Server Error","Internal Server Error"}},{params:Z.Object({productId:Z.String()}),response:{200:cN,404:Z.String(),500:Z.String()},tags:["Products"]}).put("/:productId",async({params:{productId:Y},body:W,set:Q})=>{try{return{updatedProduct:await gJ.update(Y,W),message:"Product has been updated"}}catch(X){if(X.message==="Product not found")return Q.status="Not Found",X.message;if(X.message==="Product name already exists")return Q.status="Conflict",X.message;if(X.message.includes("price"))return Q.status=400,X.message;return Q.status="Internal Server Error","Internal Server Error"}},{params:Z.Object({productId:Z.String()}),body:fj,response:{200:Z.Object({updatedProduct:iG,message:Z.String()}),400:Z.String(),404:Z.String(),409:Z.String(),500:Z.String()},tags:["Products"]}).delete("/:productId",async({params:{productId:Y},set:W})=>{try{return await gJ.remove(Y),{message:"Product has been deleted"}}catch(Q){if(Q.message==="Product not found")return W.status="Not Found",Q.message;return W.status="Internal Server Error","Internal Server Error"}},{params:Z.Object({productId:Z.String()}),response:{200:Z.Object({message:Z.String()}),404:Z.String(),500:Z.String()},tags:["Products"]}))(uN||={});var lG=Z.Object({id:Z.String(),customerName:Z.String(),classroom_id:Z.Optional(Z.String()),team_id:Z.Optional(Z.Nullable(Z.String())),orderDate:Z.Date(),totalPrice:Z.Number(),book_number:Z.Number(),number:Z.Number(),phone:Z.String(),pickup_date:Z.Date(),deposit:Z.Number(),advisor:Z.String(),status:Z.UnionEnum(["pending","complete","cancelled"]),createdAt:Z.Date(),updatedAt:Z.Date()}),pN=Z.Object({customerName:Z.String(),classroom_id:Z.Optional(Z.String()),team_id:Z.Optional(Z.Nullable(Z.String())),orderDate:Z.Date(),totalPrice:Z.Number(),book_number:Z.Number(),number:Z.Number(),phone:Z.String(),pickup_date:Z.Date(),deposit:Z.Number(),advisor:Z.String(),status:Z.Optional(Z.UnionEnum(["pending","complete","cancelled"]))}),bj=Z.Partial(pN),P80=Z.Object({id:Z.String(),name:Z.String(),teacher_id:Z.String(),department_id:Z.String(),grade_level_id:Z.String()}),C80=Z.Object({id:Z.Optional(Z.String()),name:Z.Optional(Z.String()),classroom_id:Z.Optional(Z.String())}),I80=Z.Object({id:Z.String(),order_id:Z.String(),product_id:Z.String(),pound:Z.Number(),quantity:Z.Number(),unitPrice:Z.Number(),subtotal:Z.Number(),createdAt:Z.Date(),updatedAt:Z.Date()}),nN=Z.Composite([lG,Z.Object({classroom:Z.Optional(P80),team:Z.Nullable(C80),order_items:Z.Array(I80)})]);var g4;((TE0)=>{async function J(H){return S0.order.create({data:{...H},include:{classroom:!0,team:!0,order_items:!0}})}TE0.create=J;async function Y(H){let U=H.search?{OR:[{customerName:{contains:H.search}},{advisor:{contains:H.search}}]}:{};return S0.order.findMany({where:U,include:{classroom:!0,team:!0,order_items:!0},take:H.take,skip:H.skip,orderBy:{createdAt:"desc"}})}TE0.findAll=Y;async function W(H){return await S0.order.findUnique({where:{id:H},include:{classroom:!0,team:!0,order_items:!0}})}TE0.findById=W;async function Q(H,U){return await S0.order.update({where:{id:H},data:U,include:{classroom:!0,team:!0,order_items:!0}})}TE0.update=Q;async function X(H){return await S0.order.delete({where:{id:H}})}TE0.remove=X;async function M(H){let U=H?{OR:[{advisor:{contains:H}}]}:{};return S0.order.count({where:U})}TE0.countAll=M;async function G(H,U){return S0.order.findFirst({where:{book_number:H,number:U}})}TE0.findByBookNumberAndNumber=G})(g4||={});var yJ;((gE0)=>{async function J(M){if(!M.customerName||M.customerName.trim()==="")throw new Error("Customer name is required and cannot be empty.");if(M.totalPrice<0)throw new Error("Total price cannot be negative.");if(M.deposit<0)throw new Error("Deposit cannot be negative.");if(M.deposit>M.totalPrice)throw new Error("Deposit cannot be greater than total price.");if(await g4.findByBookNumberAndNumber(M.book_number,M.number))throw new Error("Book number and number combination already exists.");try{return await g4.create(M)}catch(H){if(H instanceof X1){if(H.code==="P2002")throw new Error("Book number and number combination already exists")}throw H}}gE0.create=J;async function Y(M={}){let G=M.page??1,H=M.itemsPerPage??10,U=M.search,{skip:B,take:A}=M2(G,H),N=await g4.findAll({skip:B,take:A,search:U}),D=await g4.countAll(U),q=Math.ceil(D/H),K=G<q,O=G>1;return{data:N,meta_data:{page:G,itemsPerPage:H,total:D,totalPages:q,nextPage:K,previousPage:O}}}gE0.findAll=Y;async function W(M){let G=await g4.findById(M);if(!G)throw new Error("Order not found");return G}gE0.findById=W;async function Q(M,G){if(G.totalPrice!==void 0&&G.totalPrice<0)throw new Error("Total price cannot be negative.");if(G.deposit!==void 0&&G.deposit<0)throw new Error("Deposit cannot be negative.");let H=await g4.findById(M);if(!H)throw new Error("Order not found");if(G.deposit!==void 0&&G.totalPrice===void 0&&G.deposit>H.totalPrice)throw new Error("Deposit cannot be greater than total price.");if(G.totalPrice!==void 0&&G.deposit===void 0&&H.deposit>G.totalPrice)throw new Error("Total price cannot be less than deposit.");if(G.totalPrice!==void 0&&G.deposit!==void 0&&G.deposit>G.totalPrice)throw new Error("Deposit cannot be greater than total price.");try{return await g4.update(M,G)}catch(U){if(U instanceof X1){if(U.code==="P2025")throw new Error("Order not found");if(U.code==="P2002")throw new Error("Book number and number combination already exists")}throw U}}gE0.update=Q;async function X(M){try{return await g4.remove(M)}catch(G){if(G instanceof X1&&G.code==="P2025")throw new Error("Order not found");throw G}}gE0.remove=X})(yJ||={});var iN;((hj)=>hj.orderController=new a0({prefix:"/orders"}).post("/",async({body:Y,set:W})=>{try{let Q=await yJ.create(Y);return W.status=201,{newOrder:Q,message:"Order has been created"}}catch(Q){if(Q instanceof Error){if(Q.message.includes("already exists"))return W.status="Conflict",Q.message;if(Q.message.includes("cannot be"))return W.status=400,Q.message}return W.status="Internal Server Error","Internal Server Error"}},{body:pN,response:{201:Z.Object({newOrder:lG,message:Z.String()}),400:Z.String(),409:Z.String(),500:Z.String()},tags:["Orders"]}).get("/",async({query:Y,set:W})=>{let Q=Y.page?Number(Y.page):1,X=Y.itemsPerPage?Number(Y.itemsPerPage):10,M=Y.search,G=await yJ.findAll({page:Q,itemsPerPage:X,search:M});if(G.data.length===0&&M!==void 0)return W.status="Not Found",{message:"No order found matching your search query."};return G},{query:Z.Object({page:Z.Optional(Z.Numeric()),itemsPerPage:Z.Optional(Z.Numeric()),search:Z.Optional(Z.String())}),response:{200:Z.Object({data:Z.Array(nN),meta_data:Z.Object({page:Z.Number(),itemsPerPage:Z.Number(),total:Z.Number(),totalPages:Z.Number(),nextPage:Z.Boolean(),previousPage:Z.Boolean()})}),404:Z.Object({message:Z.String()}),500:Z.String()},tags:["Orders"]}).get("/:orderId",async({params:{orderId:Y},set:W})=>{try{return await yJ.findById(Y)}catch(Q){if(Q instanceof Error){if(Q.message==="Order not found")return W.status="Not Found",Q.message}return W.status="Internal Server Error","Internal Server Error"}},{params:Z.Object({orderId:Z.String()}),response:{200:nN,404:Z.String(),500:Z.String()},tags:["Orders"]}).put("/:orderId",async({params:{orderId:Y},body:W,set:Q})=>{try{return{updatedOrder:await yJ.update(Y,W),message:"Order has been updated"}}catch(X){if(X instanceof Error){if(X.message==="Order not found")return Q.status="Not Found",X.message;if(X.message.includes("already exists"))return Q.status="Conflict",X.message;if(X.message.includes("cannot be"))return Q.status=400,X.message}return Q.status="Internal Server Error","Internal Server Error"}},{params:Z.Object({orderId:Z.String()}),body:bj,response:{200:Z.Object({updatedOrder:lG,message:Z.String()}),400:Z.String(),404:Z.String(),409:Z.String(),500:Z.String()},tags:["Orders"]}).delete("/:orderId",async({params:{orderId:Y},set:W})=>{try{return await yJ.remove(Y),{message:"Order has been deleted"}}catch(Q){if(Q instanceof Error){if(Q.message==="Order not found")return W.status="Not Found",Q.message}return W.status="Internal Server Error","Internal Server Error"}},{params:Z.Object({orderId:Z.String()}),response:{200:Z.Object({message:Z.String()}),404:Z.String(),500:Z.String()},tags:["Orders"]}))(iN||={});var m8;((dE0)=>{async function J(H){let U=await S0.product.findUnique({where:{id:H.product_id},select:{price:!0}});if(!U)throw new Error("Product not found");let B=U.price*H.pound*H.quantity;return S0.orderItem.create({data:{...H,subtotal:B},include:{product:!0,order:!0}})}dE0.create=J;async function Y(H){let{skip:U,take:B,orderId:A}=H,N=A?{order_id:A}:void 0;return S0.orderItem.findMany({where:N,include:{product:!0,order:!0},take:B,skip:U,orderBy:{createdAt:"desc"}})}dE0.findAll=Y;async function W(H){return await S0.orderItem.findUnique({where:{id:H},include:{product:!0,order:!0}})}dE0.findById=W;async function Q(H,U){let B={};if(U.pound!==void 0||U.quantity!==void 0||U.product_id!==void 0){let A=await S0.orderItem.findUnique({where:{id:H},include:{product:!0}});if(!A)throw new Error("Order item not found");let N=U.product_id||A.product_id,D=N!==A.product_id?await S0.product.findUnique({where:{id:N}}):A.product;if(!D)throw new Error("Product not found");let q=U.pound??A.pound,K=U.quantity??A.quantity;B={subtotal:D.price*q*K}}return await S0.orderItem.update({where:{id:H},data:{...U,...B},include:{product:!0,order:!0}})}dE0.update=Q;async function X(H){return await S0.orderItem.delete({where:{id:H}})}dE0.remove=X;async function M(H){let U=H?{order_id:H}:void 0;return await S0.orderItem.count({where:U})}dE0.countAll=M;async function G(H){return await S0.orderItem.findMany({where:{order_id:H},include:{product:!0,order:!0}})}dE0.findByOrder=G})(m8||={});var R9;((iE0)=>{async function J(G){if(G.pound<=0)throw new Error("Pound must be greater than 0");if(G.quantity<=0)throw new Error("Quantity must be greater than 0");if(G.unitPrice<0)throw new Error("Unit price cannot be negative");try{return await m8.create(G)}catch(H){if(H instanceof X1){if(H.code==="P2003")throw new Error("Referenced order or product does not exist")}throw H}}iE0.create=J;async function Y(G={}){let H=G.page??1,U=G.itemsPerPage??10,B=G.orderId,{skip:A,take:N}=M2(H,U),D=await m8.findAll({skip:A,take:N,orderId:B}),q=await m8.countAll(B),K=Math.ceil(q/U),O=H<K,z=H>1;return{data:D,meta_data:{page:H,itemsPerPage:U,total:q,totalPages:K,nextPage:O,previousPage:z}}}iE0.findAll=Y;async function W(G){let H=await m8.findById(G);if(!H)throw new Error("Order item not found");return H}iE0.findById=W;async function Q(G){return await m8.findByOrder(G)}iE0.findByOrder=Q;async function X(G,H){if(H.pound!==void 0&&H.pound<=0)throw new Error("Pound must be greater than 0");if(H.quantity!==void 0&&H.quantity<=0)throw new Error("Quantity must be greater than 0");if(H.unitPrice!==void 0&&H.unitPrice<0)throw new Error("Unit price cannot be negative");if(!await m8.findById(G))throw new Error("Order item not found");try{return await m8.update(G,H)}catch(B){if(B instanceof X1){if(B.code==="P2003")throw new Error("Referenced order or product does not exist")}throw B}}iE0.update=X;async function M(G){if(!await m8.findById(G))throw new Error("Order item not found");return await m8.remove(G)}iE0.remove=M})(R9||={});var lN=Z.Object({id:Z.String(),order_id:Z.String(),product_id:Z.String(),pound:Z.Number(),quantity:Z.Number(),unitPrice:Z.Number(),subtotal:Z.Number(),createdAt:Z.Date(),updatedAt:Z.Date()}),R80=Z.Object({id:Z.String(),name:Z.String(),price:Z.Number(),description:Z.Optional(Z.String())}),T80=Z.Object({id:Z.String(),customerName:Z.String(),classroom_id:Z.Optional(Z.String()),team_id:Z.Optional(Z.Nullable(Z.String())),orderDate:Z.Date(),totalPrice:Z.Number(),book_number:Z.Number(),number:Z.Number(),phone:Z.String(),pickup_date:Z.Date(),deposit:Z.Number(),advisor:Z.String(),status:Z.UnionEnum(["pending","complete","cancelled"])}),jW=Z.Composite([lN,Z.Object({product:R80,order:T80})]),mj=Z.Omit(lN,["id","createdAt","updatedAt","subtotal"]),dj=Z.Partial(Z.Omit(lN,["id","createdAt","updatedAt"]));var oN;((cj)=>cj.orderItemController=new a0({prefix:"/order-items"}).post("/",async({body:Y,set:W})=>{try{let Q=await R9.create(Y);return W.status=201,{newOrderItem:Q,message:"Order item has been created"}}catch(Q){if(Q instanceof Error){if(Q.message.includes("does not exist"))return W.status=404,Q.message;if(Q.message.includes("must be")||Q.message.includes("cannot be"))return W.status=400,Q.message}return W.status="Internal Server Error","Internal Server Error"}},{body:mj,response:{201:Z.Object({newOrderItem:jW,message:Z.String()}),400:Z.String(),404:Z.String(),500:Z.String()},tags:["Order Items"]}).get("/",async({query:Y,set:W})=>{let Q=Y.page?Number(Y.page):1,X=Y.itemsPerPage?Number(Y.itemsPerPage):10,M=Y.orderId,G=await R9.findAll({page:Q,itemsPerPage:X,orderId:M});if(G.data.length===0&&M!==void 0)return W.status="Not Found",{message:"No order items found for the specified order."};return G},{query:Z.Object({page:Z.Optional(Z.Numeric()),itemsPerPage:Z.Optional(Z.Numeric()),orderId:Z.Optional(Z.String())}),response:{200:Z.Object({data:Z.Array(jW),meta_data:Z.Object({page:Z.Number(),itemsPerPage:Z.Number(),total:Z.Number(),totalPages:Z.Number(),nextPage:Z.Boolean(),previousPage:Z.Boolean()})}),404:Z.Object({message:Z.String()}),500:Z.String()},tags:["Order Items"]}).get("/:orderItemId",async({params:{orderItemId:Y},set:W})=>{try{return await R9.findById(Y)}catch(Q){if(Q instanceof Error)return W.status=404,Q.message;return W.status="Internal Server Error","Internal Server Error"}},{params:Z.Object({orderItemId:Z.String()}),response:{200:jW,404:Z.String(),500:Z.String()},tags:["Order Items"]}).get("/order/:orderId",async({params:{orderId:Y},set:W})=>{try{let Q=await R9.findByOrder(Y);if(Q.length===0)return W.status=404,"No order items found for this order";return Q}catch{return W.status="Internal Server Error","Internal Server Error"}},{params:Z.Object({orderId:Z.String()}),response:{200:Z.Array(jW),404:Z.String(),500:Z.String()},tags:["Order Items"]}).put("/:orderItemId",async({params:{orderItemId:Y},body:W,set:Q})=>{try{return{updatedOrderItem:await R9.update(Y,W),message:"Order item has been updated"}}catch(X){if(X instanceof Error){if(X.message.includes("not found"))return Q.status=404,X.message;if(X.message.includes("must be")||X.message.includes("cannot be"))return Q.status=400,X.message;if(X.message.includes("does not exist"))return Q.status=404,X.message}return Q.status="Internal Server Error","Internal Server Error"}},{params:Z.Object({orderItemId:Z.String()}),body:dj,response:{200:Z.Object({updatedOrderItem:jW,message:Z.String()}),400:Z.String(),404:Z.String(),500:Z.String()},tags:["Order Items"]}).delete("/:orderItemId",async({params:{orderItemId:Y},set:W})=>{try{return await R9.remove(Y),{message:"Order item has been deleted"}}catch(Q){if(Q instanceof Error)return W.status=404,Q.message;return W.status="Internal Server Error","Internal Server Error"}},{params:Z.Object({orderItemId:Z.String()}),response:{200:Z.Object({message:Z.String()}),404:Z.String(),500:Z.String()},tags:["Order Items"]}))(oN||={});var S8=new TextEncoder,N6=new TextDecoder;function oG(...J){let Y=J.reduce((X,{length:M})=>X+M,0),W=new Uint8Array(Y),Q=0;for(let X of J)W.set(X,Q),Q+=X.length;return W}function uj(J){if(Uint8Array.prototype.toBase64)return J.toBase64();let Y=32768,W=[];for(let Q=0;Q<J.length;Q+=Y)W.push(String.fromCharCode.apply(null,J.subarray(Q,Q+Y)));return btoa(W.join(""))}function pj(J){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(J);let Y=atob(J),W=new Uint8Array(Y.length);for(let Q=0;Q<Y.length;Q++)W[Q]=Y.charCodeAt(Q);return W}function PW(J){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(typeof J==="string"?J:N6.decode(J),{alphabet:"base64url"});let Y=J;if(Y instanceof Uint8Array)Y=N6.decode(Y);Y=Y.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return pj(Y)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}function rG(J){let Y=J;if(typeof Y==="string")Y=S8.encode(Y);if(Uint8Array.prototype.toBase64)return Y.toBase64({alphabet:"base64url",omitPadding:!0});return uj(Y).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class T9 extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(J,Y){super(J,Y);this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class q6 extends T9{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(J,Y,W="unspecified",Q="unspecified"){super(J,{cause:{claim:W,reason:Q,payload:Y}});this.claim=W,this.reason=Q,this.payload=Y}}class aG extends T9{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(J,Y,W="unspecified",Q="unspecified"){super(J,{cause:{claim:W,reason:Q,payload:Y}});this.claim=W,this.reason=Q,this.payload=Y}}class rN extends T9{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class Y4 extends T9{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class n1 extends T9{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class fJ extends T9{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class aN extends T9{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(J="signature verification failed",Y){super(J,Y)}}function y4(J,Y="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${Y} must be ${J}`)}function CW(J,Y){return J.name===Y}function sN(J){return parseInt(J.name.slice(4),10)}function k80(J){switch(J){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function x80(J,Y){if(Y&&!J.usages.includes(Y))throw new TypeError(`CryptoKey does not support this operation, its usages must include ${Y}.`)}function nj(J,Y,W){switch(Y){case"HS256":case"HS384":case"HS512":{if(!CW(J.algorithm,"HMAC"))throw y4("HMAC");let Q=parseInt(Y.slice(2),10);if(sN(J.algorithm.hash)!==Q)throw y4(`SHA-${Q}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!CW(J.algorithm,"RSASSA-PKCS1-v1_5"))throw y4("RSASSA-PKCS1-v1_5");let Q=parseInt(Y.slice(2),10);if(sN(J.algorithm.hash)!==Q)throw y4(`SHA-${Q}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!CW(J.algorithm,"RSA-PSS"))throw y4("RSA-PSS");let Q=parseInt(Y.slice(2),10);if(sN(J.algorithm.hash)!==Q)throw y4(`SHA-${Q}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":{if(!CW(J.algorithm,"Ed25519"))throw y4("Ed25519");break}case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":{if(!CW(J.algorithm,Y))throw y4(Y);break}case"ES256":case"ES384":case"ES512":{if(!CW(J.algorithm,"ECDSA"))throw y4("ECDSA");let Q=k80(Y);if(J.algorithm.namedCurve!==Q)throw y4(Q,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}x80(J,W)}function ij(J,Y,...W){if(W=W.filter(Boolean),W.length>2){let Q=W.pop();J+=`one of type ${W.join(", ")}, or ${Q}.`}else if(W.length===2)J+=`one of type ${W[0]} or ${W[1]}.`;else J+=`of type ${W[0]}.`;if(Y==null)J+=` Received ${Y}`;else if(typeof Y==="function"&&Y.name)J+=` Received function ${Y.name}`;else if(typeof Y==="object"&&Y!=null){if(Y.constructor?.name)J+=` Received an instance of ${Y.constructor.name}`}return J}var lj=(J,...Y)=>{return ij("Key must be ",J,...Y)};function tN(J,Y,...W){return ij(`Key for the ${J} algorithm must be `,Y,...W)}function eN(J){return J?.[Symbol.toStringTag]==="CryptoKey"}function Jq(J){return J?.[Symbol.toStringTag]==="KeyObject"}var Yq=(J)=>{return eN(J)||Jq(J)};var sG=(...J)=>{let Y=J.filter(Boolean);if(Y.length===0||Y.length===1)return!0;let W;for(let Q of Y){let X=Object.keys(Q);if(!W||W.size===0){W=new Set(X);continue}for(let M of X){if(W.has(M))return!1;W.add(M)}}return!0};function g80(J){return typeof J==="object"&&J!==null}var _9=(J)=>{if(!g80(J)||Object.prototype.toString.call(J)!=="[object Object]")return!1;if(Object.getPrototypeOf(J)===null)return!0;let Y=J;while(Object.getPrototypeOf(Y)!==null)Y=Object.getPrototypeOf(Y);return Object.getPrototypeOf(J)===Y};var tG=(J,Y)=>{if(J.startsWith("RS")||J.startsWith("PS")){let{modulusLength:W}=Y.algorithm;if(typeof W!=="number"||W<2048)throw new TypeError(`${J} requires key modulusLength to be 2048 bits or larger`)}};function y80(J){let Y,W;switch(J.kty){case"AKP":{switch(J.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":Y={name:J.alg},W=J.priv?["sign"]:["verify"];break;default:throw new Y4('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"RSA":{switch(J.alg){case"PS256":case"PS384":case"PS512":Y={name:"RSA-PSS",hash:`SHA-${J.alg.slice(-3)}`},W=J.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":Y={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${J.alg.slice(-3)}`},W=J.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":Y={name:"RSA-OAEP",hash:`SHA-${parseInt(J.alg.slice(-3),10)||1}`},W=J.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new Y4('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(J.alg){case"ES256":Y={name:"ECDSA",namedCurve:"P-256"},W=J.d?["sign"]:["verify"];break;case"ES384":Y={name:"ECDSA",namedCurve:"P-384"},W=J.d?["sign"]:["verify"];break;case"ES512":Y={name:"ECDSA",namedCurve:"P-521"},W=J.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":Y={name:"ECDH",namedCurve:J.crv},W=J.d?["deriveBits"]:[];break;default:throw new Y4('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(J.alg){case"Ed25519":case"EdDSA":Y={name:"Ed25519"},W=J.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":Y={name:J.crv},W=J.d?["deriveBits"]:[];break;default:throw new Y4('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new Y4('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:Y,keyUsages:W}}var oj=async(J)=>{if(!J.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:Y,keyUsages:W}=y80(J),Q={...J};if(Q.kty!=="AKP")delete Q.alg;return delete Q.use,crypto.subtle.importKey("jwk",Q,Y,J.ext??(J.d||J.priv?!1:!0),J.key_ops??W)};var eG=(J,Y,W,Q,X)=>{if(X.crit!==void 0&&Q?.crit===void 0)throw new J('"crit" (Critical) Header Parameter MUST be integrity protected');if(!Q||Q.crit===void 0)return new Set;if(!Array.isArray(Q.crit)||Q.crit.length===0||Q.crit.some((G)=>typeof G!=="string"||G.length===0))throw new J('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let M;if(W!==void 0)M=new Map([...Object.entries(W),...Y.entries()]);else M=Y;for(let G of Q.crit){if(!M.has(G))throw new Y4(`Extension Header Parameter "${G}" is not recognized`);if(X[G]===void 0)throw new J(`Extension Header Parameter "${G}" is missing`);if(M.get(G)&&Q[G]===void 0)throw new J(`Extension Header Parameter "${G}" MUST be integrity protected`)}return new Set(Q.crit)};var rj=(J,Y)=>{if(Y!==void 0&&(!Array.isArray(Y)||Y.some((W)=>typeof W!=="string")))throw new TypeError(`"${J}" option must be an array of strings`);if(!Y)return;return new Set(Y)};function QX(J){return _9(J)&&typeof J.kty==="string"}function aj(J){return J.kty!=="oct"&&(J.kty==="AKP"&&typeof J.priv==="string"||typeof J.d==="string")}function sj(J){return J.kty!=="oct"&&typeof J.d==="undefined"&&typeof J.priv==="undefined"}function tj(J){return J.kty==="oct"&&typeof J.k==="string"}var IW,ej=async(J,Y,W,Q=!1)=>{IW||=new WeakMap;let X=IW.get(J);if(X?.[W])return X[W];let M=await oj({...Y,alg:W});if(Q)Object.freeze(J);if(!X)IW.set(J,{[W]:M});else X[W]=M;return M},v80=(J,Y)=>{IW||=new WeakMap;let W=IW.get(J);if(W?.[Y])return W[Y];let Q=J.type==="public",X=Q?!0:!1,M;if(J.asymmetricKeyType==="x25519"){switch(Y){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}M=J.toCryptoKey(J.asymmetricKeyType,X,Q?[]:["deriveBits"])}if(J.asymmetricKeyType==="ed25519"){if(Y!=="EdDSA"&&Y!=="Ed25519")throw new TypeError("given KeyObject instance cannot be used for this algorithm");M=J.toCryptoKey(J.asymmetricKeyType,X,[Q?"verify":"sign"])}switch(J.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":{if(Y!==J.asymmetricKeyType.toUpperCase())throw new TypeError("given KeyObject instance cannot be used for this algorithm");M=J.toCryptoKey(J.asymmetricKeyType,X,[Q?"verify":"sign"])}}if(J.asymmetricKeyType==="rsa"){let G;switch(Y){case"RSA-OAEP":G="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":G="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":G="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":G="SHA-512";break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}if(Y.startsWith("RSA-OAEP"))return J.toCryptoKey({name:"RSA-OAEP",hash:G},X,Q?["encrypt"]:["decrypt"]);M=J.toCryptoKey({name:Y.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:G},X,[Q?"verify":"sign"])}if(J.asymmetricKeyType==="ec"){let H=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(J.asymmetricKeyDetails?.namedCurve);if(!H)throw new TypeError("given KeyObject instance cannot be used for this algorithm");if(Y==="ES256"&&H==="P-256")M=J.toCryptoKey({name:"ECDSA",namedCurve:H},X,[Q?"verify":"sign"]);if(Y==="ES384"&&H==="P-384")M=J.toCryptoKey({name:"ECDSA",namedCurve:H},X,[Q?"verify":"sign"]);if(Y==="ES512"&&H==="P-521")M=J.toCryptoKey({name:"ECDSA",namedCurve:H},X,[Q?"verify":"sign"]);if(Y.startsWith("ECDH-ES"))M=J.toCryptoKey({name:"ECDH",namedCurve:H},X,Q?[]:["deriveBits"])}if(!M)throw new TypeError("given KeyObject instance cannot be used for this algorithm");if(!W)IW.set(J,{[Y]:M});else W[Y]=M;return M},JH=async(J,Y)=>{if(J instanceof Uint8Array)return J;if(eN(J))return J;if(Jq(J)){if(J.type==="secret")return J.export();if("toCryptoKey"in J&&typeof J.toCryptoKey==="function")try{return v80(J,Y)}catch(Q){if(Q instanceof TypeError)throw Q}let W=J.export({format:"jwk"});return ej(J,W,Y)}if(QX(J)){if(J.k)return PW(J.k);return ej(J,J,Y,!0)}throw new Error("unreachable")};var RW=(J)=>J?.[Symbol.toStringTag],Wq=(J,Y,W)=>{if(Y.use!==void 0){let Q;switch(W){case"sign":case"verify":Q="sig";break;case"encrypt":case"decrypt":Q="enc";break}if(Y.use!==Q)throw new TypeError(`Invalid key for this operation, its "use" must be "${Q}" when present`)}if(Y.alg!==void 0&&Y.alg!==J)throw new TypeError(`Invalid key for this operation, its "alg" must be "${J}" when present`);if(Array.isArray(Y.key_ops)){let Q;switch(!0){case(W==="sign"||W==="verify"):case J==="dir":case J.includes("CBC-HS"):Q=W;break;case J.startsWith("PBES2"):Q="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(J):if(!J.includes("GCM")&&J.endsWith("KW"))Q=W==="encrypt"?"wrapKey":"unwrapKey";else Q=W;break;case(W==="encrypt"&&J.startsWith("RSA")):Q="wrapKey";break;case W==="decrypt":Q=J.startsWith("RSA")?"unwrapKey":"deriveBits";break}if(Q&&Y.key_ops?.includes?.(Q)===!1)throw new TypeError(`Invalid key for this operation, its "key_ops" must include "${Q}" when present`)}return!0},b80=(J,Y,W)=>{if(Y instanceof Uint8Array)return;if(QX(Y)){if(tj(Y)&&Wq(J,Y,W))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!Yq(Y))throw new TypeError(tN(J,Y,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if(Y.type!=="secret")throw new TypeError(`${RW(Y)} instances for symmetric algorithms must be of type "secret"`)},h80=(J,Y,W)=>{if(QX(Y))switch(W){case"decrypt":case"sign":if(aj(Y)&&Wq(J,Y,W))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if(sj(Y)&&Wq(J,Y,W))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!Yq(Y))throw new TypeError(tN(J,Y,"CryptoKey","KeyObject","JSON Web Key"));if(Y.type==="secret")throw new TypeError(`${RW(Y)} instances for asymmetric algorithms must not be of type "secret"`);if(Y.type==="public")switch(W){case"sign":throw new TypeError(`${RW(Y)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw new TypeError(`${RW(Y)} instances for asymmetric algorithm decryption must be of type "private"`);default:break}if(Y.type==="private")switch(W){case"verify":throw new TypeError(`${RW(Y)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw new TypeError(`${RW(Y)} instances for asymmetric algorithm encryption must be of type "public"`);default:break}},YH=(J,Y,W)=>{if(J.startsWith("HS")||J==="dir"||J.startsWith("PBES2")||/^A(?:128|192|256)(?:GCM)?(?:KW)?$/.test(J)||/^A(?:128|192|256)CBC-HS(?:256|384|512)$/.test(J))b80(J,Y,W);else h80(J,Y,W)};var WH=(J,Y)=>{let W=`SHA-${J.slice(-3)}`;switch(J){case"HS256":case"HS384":case"HS512":return{hash:W,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:W,name:"RSA-PSS",saltLength:parseInt(J.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:W,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:W,name:"ECDSA",namedCurve:Y.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return{name:J};default:throw new Y4(`alg ${J} is not supported either by JOSE or your javascript runtime`)}};var QH=async(J,Y,W)=>{if(Y instanceof Uint8Array){if(!J.startsWith("HS"))throw new TypeError(lj(Y,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",Y,{hash:`SHA-${J.slice(-3)}`,name:"HMAC"},!1,[W])}return nj(Y,J,W),Y};var JP=async(J,Y,W,Q)=>{let X=await QH(J,Y,"verify");tG(J,X);let M=WH(J,X.algorithm);try{return await crypto.subtle.verify(M,X,W,Q)}catch{return!1}};async function YP(J,Y,W){if(!_9(J))throw new n1("Flattened JWS must be an object");if(J.protected===void 0&&J.header===void 0)throw new n1('Flattened JWS must have either of the "protected" or "header" members');if(J.protected!==void 0&&typeof J.protected!=="string")throw new n1("JWS Protected Header incorrect type");if(J.payload===void 0)throw new n1("JWS Payload missing");if(typeof J.signature!=="string")throw new n1("JWS Signature missing or incorrect type");if(J.header!==void 0&&!_9(J.header))throw new n1("JWS Unprotected Header incorrect type");let Q={};if(J.protected)try{let z=PW(J.protected);Q=JSON.parse(N6.decode(z))}catch{throw new n1("JWS Protected Header is invalid")}if(!sG(Q,J.header))throw new n1("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let X={...Q,...J.header},M=eG(n1,new Map([["b64",!0]]),W?.crit,Q,X),G=!0;if(M.has("b64")){if(G=Q.b64,typeof G!=="boolean")throw new n1('The "b64" (base64url-encode payload) Header Parameter must be a boolean')}let{alg:H}=X;if(typeof H!=="string"||!H)throw new n1('JWS "alg" (Algorithm) Header Parameter missing or invalid');let U=W&&rj("algorithms",W.algorithms);if(U&&!U.has(H))throw new rN('"alg" (Algorithm) Header Parameter value not allowed');if(G){if(typeof J.payload!=="string")throw new n1("JWS Payload must be a string")}else if(typeof J.payload!=="string"&&!(J.payload instanceof Uint8Array))throw new n1("JWS Payload must be a string or an Uint8Array instance");let B=!1;if(typeof Y==="function")Y=await Y(Q,J),B=!0;YH(H,Y,"verify");let A=oG(S8.encode(J.protected??""),S8.encode("."),typeof J.payload==="string"?S8.encode(J.payload):J.payload),N;try{N=PW(J.signature)}catch{throw new n1("Failed to base64url decode the signature")}let D=await JH(Y,H);if(!await JP(H,D,N,A))throw new aN;let K;if(G)try{K=PW(J.payload)}catch{throw new n1("Failed to base64url decode the payload")}else if(typeof J.payload==="string")K=S8.encode(J.payload);else K=J.payload;let O={payload:K};if(J.protected!==void 0)O.protectedHeader=Q;if(J.header!==void 0)O.unprotectedHeader=J.header;if(B)return{...O,key:D};return O}async function WP(J,Y,W){if(J instanceof Uint8Array)J=N6.decode(J);if(typeof J!=="string")throw new n1("Compact JWS must be a string or Uint8Array");let{0:Q,1:X,2:M,length:G}=J.split(".");if(G!==3)throw new n1("Invalid Compact JWS");let H=await YP({payload:X,protected:Q,signature:M},Y,W),U={payload:H.payload,protectedHeader:H.protectedHeader};if(typeof Y==="function")return{...U,key:H.key};return U}var T7=(J)=>Math.floor(J.getTime()/1000);var m80=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,TW=(J)=>{let Y=m80.exec(J);if(!Y||Y[4]&&Y[1])throw new TypeError("Invalid time period format");let W=parseFloat(Y[2]),Q=Y[3].toLowerCase(),X;switch(Q){case"sec":case"secs":case"second":case"seconds":case"s":X=Math.round(W);break;case"minute":case"minutes":case"min":case"mins":case"m":X=Math.round(W*60);break;case"hour":case"hours":case"hr":case"hrs":case"h":X=Math.round(W*3600);break;case"day":case"days":case"d":X=Math.round(W*86400);break;case"week":case"weeks":case"w":X=Math.round(W*604800);break;default:X=Math.round(W*31557600);break}if(Y[1]==="-"||Y[4]==="ago")return-X;return X};function vJ(J,Y){if(!Number.isFinite(Y))throw new TypeError(`Invalid ${J} input`);return Y}var QP=(J)=>{if(J.includes("/"))return J.toLowerCase();return`application/${J.toLowerCase()}`},d80=(J,Y)=>{if(typeof J==="string")return Y.includes(J);if(Array.isArray(J))return Y.some(Set.prototype.has.bind(new Set(J)));return!1};function $P(J,Y,W={}){let Q;try{Q=JSON.parse(N6.decode(Y))}catch{}if(!_9(Q))throw new fJ("JWT Claims Set must be a top-level JSON object");let{typ:X}=W;if(X&&(typeof J.typ!=="string"||QP(J.typ)!==QP(X)))throw new q6('unexpected "typ" JWT header value',Q,"typ","check_failed");let{requiredClaims:M=[],issuer:G,subject:H,audience:U,maxTokenAge:B}=W,A=[...M];if(B!==void 0)A.push("iat");if(U!==void 0)A.push("aud");if(H!==void 0)A.push("sub");if(G!==void 0)A.push("iss");for(let K of new Set(A.reverse()))if(!(K in Q))throw new q6(`missing required "${K}" claim`,Q,K,"missing");if(G&&!(Array.isArray(G)?G:[G]).includes(Q.iss))throw new q6('unexpected "iss" claim value',Q,"iss","check_failed");if(H&&Q.sub!==H)throw new q6('unexpected "sub" claim value',Q,"sub","check_failed");if(U&&!d80(Q.aud,typeof U==="string"?[U]:U))throw new q6('unexpected "aud" claim value',Q,"aud","check_failed");let N;switch(typeof W.clockTolerance){case"string":N=TW(W.clockTolerance);break;case"number":N=W.clockTolerance;break;case"undefined":N=0;break;default:throw new TypeError("Invalid clockTolerance option type")}let{currentDate:D}=W,q=T7(D||new Date);if((Q.iat!==void 0||B)&&typeof Q.iat!=="number")throw new q6('"iat" claim must be a number',Q,"iat","invalid");if(Q.nbf!==void 0){if(typeof Q.nbf!=="number")throw new q6('"nbf" claim must be a number',Q,"nbf","invalid");if(Q.nbf>q+N)throw new q6('"nbf" claim timestamp check failed',Q,"nbf","check_failed")}if(Q.exp!==void 0){if(typeof Q.exp!=="number")throw new q6('"exp" claim must be a number',Q,"exp","invalid");if(Q.exp<=q-N)throw new aG('"exp" claim timestamp check failed',Q,"exp","check_failed")}if(B){let K=q-Q.iat,O=typeof B==="number"?B:TW(B);if(K-N>O)throw new aG('"iat" claim timestamp check failed (too far in the past)',Q,"iat","check_failed");if(K<0-N)throw new q6('"iat" claim timestamp check failed (it should be in the past)',Q,"iat","check_failed")}return Q}class Qq{#J;constructor(J){if(!_9(J))throw new TypeError("JWT Claims Set MUST be an object");this.#J=structuredClone(J)}data(){return S8.encode(JSON.stringify(this.#J))}get iss(){return this.#J.iss}set iss(J){this.#J.iss=J}get sub(){return this.#J.sub}set sub(J){this.#J.sub=J}get aud(){return this.#J.aud}set aud(J){this.#J.aud=J}set jti(J){this.#J.jti=J}set nbf(J){if(typeof J==="number")this.#J.nbf=vJ("setNotBefore",J);else if(J instanceof Date)this.#J.nbf=vJ("setNotBefore",T7(J));else this.#J.nbf=T7(new Date)+TW(J)}set exp(J){if(typeof J==="number")this.#J.exp=vJ("setExpirationTime",J);else if(J instanceof Date)this.#J.exp=vJ("setExpirationTime",T7(J));else this.#J.exp=T7(new Date)+TW(J)}set iat(J){if(typeof J==="undefined")this.#J.iat=T7(new Date);else if(J instanceof Date)this.#J.iat=vJ("setIssuedAt",T7(J));else if(typeof J==="string")this.#J.iat=vJ("setIssuedAt",T7(new Date)+TW(J));else this.#J.iat=vJ("setIssuedAt",J)}}async function $H(J,Y,W){let Q=await WP(J,Y,W);if(Q.protectedHeader.crit?.includes("b64")&&Q.protectedHeader.b64===!1)throw new fJ("JWTs MUST NOT use unencoded payload");let M={payload:$P(Q.protectedHeader,Q.payload,W),protectedHeader:Q.protectedHeader};if(typeof Y==="function")return{...M,key:Q.key};return M}var XP=async(J,Y,W)=>{let Q=await QH(J,Y,"sign");tG(J,Q);let X=await crypto.subtle.sign(WH(J,Q.algorithm),Q,W);return new Uint8Array(X)};class $q{#J;#Y;#W;constructor(J){if(!(J instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this.#J=J}setProtectedHeader(J){if(this.#Y)throw new TypeError("setProtectedHeader can only be called once");return this.#Y=J,this}setUnprotectedHeader(J){if(this.#W)throw new TypeError("setUnprotectedHeader can only be called once");return this.#W=J,this}async sign(J,Y){if(!this.#Y&&!this.#W)throw new n1("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!sG(this.#Y,this.#W))throw new n1("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let W={...this.#Y,...this.#W},Q=eG(n1,new Map([["b64",!0]]),Y?.crit,this.#Y,W),X=!0;if(Q.has("b64")){if(X=this.#Y.b64,typeof X!=="boolean")throw new n1('The "b64" (base64url-encode payload) Header Parameter must be a boolean')}let{alg:M}=W;if(typeof M!=="string"||!M)throw new n1('JWS "alg" (Algorithm) Header Parameter missing or invalid');YH(M,J,"sign");let G=this.#J;if(X)G=S8.encode(rG(G));let H;if(this.#Y)H=S8.encode(rG(JSON.stringify(this.#Y)));else H=S8.encode("");let U=oG(H,S8.encode("."),G),B=await JH(J,M),A=await XP(M,B,U),N={signature:rG(A),payload:""};if(X)N.payload=N6.decode(G);if(this.#W)N.header=this.#W;if(this.#Y)N.protected=N6.decode(H);return N}}class Xq{#J;constructor(J){this.#J=new $q(J)}setProtectedHeader(J){return this.#J.setProtectedHeader(J),this}async sign(J,Y){let W=await this.#J.sign(J,Y);if(W.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${W.protected}.${W.payload}.${W.signature}`}}class XH{#J;#Y;constructor(J={}){this.#Y=new Qq(J)}setIssuer(J){return this.#Y.iss=J,this}setSubject(J){return this.#Y.sub=J,this}setAudience(J){return this.#Y.aud=J,this}setJti(J){return this.#Y.jti=J,this}setNotBefore(J){return this.#Y.nbf=J,this}setExpirationTime(J){return this.#Y.exp=J,this}setIssuedAt(J){return this.#Y.iat=J,this}setProtectedHeader(J){return this.#J=J,this}async sign(J,Y){let W=new Xq(this.#Y.data());if(W.setProtectedHeader(this.#J),Array.isArray(this.#J?.crit)&&this.#J.crit.includes("b64")&&this.#J.b64===!1)throw new fJ("JWTs MUST NOT use unencoded payload");return W.sign(J,Y)}}var c80=Object.defineProperty,Dq=(J,Y)=>{for(var W in Y)c80(J,W,{get:Y[W],enumerable:!0})},_7={};Dq(_7,{HasPropertyKey:()=>Gq,IsArray:()=>Q8,IsAsyncIterator:()=>KP,IsBigInt:()=>Zq,IsBoolean:()=>gW,IsDate:()=>AH,IsFunction:()=>zP,IsIterator:()=>LP,IsNull:()=>SP,IsNumber:()=>f4,IsObject:()=>N5,IsRegExp:()=>Oq,IsString:()=>j5,IsSymbol:()=>VP,IsUint8Array:()=>yW,IsUndefined:()=>W8});function Gq(J,Y){return Y in J}function KP(J){return N5(J)&&!Q8(J)&&!yW(J)&&Symbol.asyncIterator in J}function Q8(J){return Array.isArray(J)}function Zq(J){return typeof J==="bigint"}function gW(J){return typeof J==="boolean"}function AH(J){return J instanceof globalThis.Date}function zP(J){return typeof J==="function"}function LP(J){return N5(J)&&!Q8(J)&&!yW(J)&&Symbol.iterator in J}function SP(J){return J===null}function f4(J){return typeof J==="number"}function N5(J){return typeof J==="object"&&J!==null}function Oq(J){return J instanceof globalThis.RegExp}function j5(J){return typeof J==="string"}function VP(J){return typeof J==="symbol"}function yW(J){return J instanceof globalThis.Uint8Array}function W8(J){return J===void 0}function u80(J){return J.map((Y)=>HH(Y))}function p80(J){return new Date(J.getTime())}function n80(J){return new Uint8Array(J)}function i80(J){return new RegExp(J.source,J.flags)}function l80(J){let Y={};for(let W of Object.getOwnPropertyNames(J))Y[W]=HH(J[W]);for(let W of Object.getOwnPropertySymbols(J))Y[W]=HH(J[W]);return Y}function HH(J){return Q8(J)?u80(J):AH(J)?p80(J):yW(J)?n80(J):Oq(J)?i80(J):N5(J)?l80(J):J}function d8(J){return HH(J)}function Kq(J,Y){return Y===void 0?d8(J):d8({...Y,...J})}function o80(J){return J!==null&&typeof J==="object"}function r80(J){return globalThis.Array.isArray(J)&&!globalThis.ArrayBuffer.isView(J)}function a80(J){return J===void 0}function s80(J){return typeof J==="number"}var Hq;(function(J){J.InstanceMode="default",J.ExactOptionalPropertyTypes=!1,J.AllowArrayObject=!1,J.AllowNaN=!1,J.AllowNullVoid=!1;function Y(G,H){return J.ExactOptionalPropertyTypes?H in G:G[H]!==void 0}J.IsExactOptionalProperty=Y;function W(G){let H=o80(G);return J.AllowArrayObject?H:H&&!r80(G)}J.IsObjectLike=W;function Q(G){return W(G)&&!(G instanceof Date)&&!(G instanceof Uint8Array)}J.IsRecordLike=Q;function X(G){return J.AllowNaN?s80(G):Number.isFinite(G)}J.IsNumberLike=X;function M(G){let H=a80(G);return J.AllowNullVoid?H||G===null:H}J.IsVoidLike=M})(Hq||(Hq={}));function t80(J){return globalThis.Object.freeze(J).map((Y)=>UH(Y))}function e80(J){return J}function J60(J){return J}function Y60(J){return J}function W60(J){let Y={};for(let W of Object.getOwnPropertyNames(J))Y[W]=UH(J[W]);for(let W of Object.getOwnPropertySymbols(J))Y[W]=UH(J[W]);return globalThis.Object.freeze(Y)}function UH(J){return Q8(J)?t80(J):AH(J)?e80(J):yW(J)?J60(J):Oq(J)?Y60(J):N5(J)?W60(J):J}function P0(J,Y){let W=Y!==void 0?{...Y,...J}:J;switch(Hq.InstanceMode){case"freeze":return UH(W);case"clone":return d8(W);default:return W}}var k9=class extends Error{constructor(J){super(J)}},Z6=Symbol.for("TypeBox.Transform"),fW=Symbol.for("TypeBox.Readonly"),k7=Symbol.for("TypeBox.Optional"),_W=Symbol.for("TypeBox.Hint"),v0=Symbol.for("TypeBox.Kind");function zq(J){return N5(J)&&J[fW]==="Readonly"}function x9(J){return N5(J)&&J[k7]==="Optional"}function FP(J){return q1(J,"Any")}function EP(J){return q1(J,"Argument")}function vW(J){return q1(J,"Array")}function NH(J){return q1(J,"AsyncIterator")}function qH(J){return q1(J,"BigInt")}function UX(J){return q1(J,"Boolean")}function bW(J){return q1(J,"Computed")}function hW(J){return q1(J,"Constructor")}function Q60(J){return q1(J,"Date")}function mW(J){return q1(J,"Function")}function dW(J){return q1(J,"Integer")}function K6(J){return q1(J,"Intersect")}function DH(J){return q1(J,"Iterator")}function q1(J,Y){return N5(J)&&v0 in J&&J[v0]===Y}function jP(J){return gW(J)||f4(J)||j5(J)}function hJ(J){return q1(J,"Literal")}function mJ(J){return q1(J,"MappedKey")}function p8(J){return q1(J,"MappedResult")}function BX(J){return q1(J,"Never")}function $60(J){return q1(J,"Not")}function Lq(J){return q1(J,"Null")}function cW(J){return q1(J,"Number")}function Q4(J){return q1(J,"Object")}function ZH(J){return q1(J,"Promise")}function OH(J){return q1(J,"Record")}function V8(J){return q1(J,"Ref")}function PP(J){return q1(J,"RegExp")}function AX(J){return q1(J,"String")}function Sq(J){return q1(J,"Symbol")}function dJ(J){return q1(J,"TemplateLiteral")}function X60(J){return q1(J,"This")}function KH(J){return N5(J)&&Z6 in J}function cJ(J){return q1(J,"Tuple")}function Vq(J){return q1(J,"Undefined")}function N2(J){return q1(J,"Union")}function M60(J){return q1(J,"Uint8Array")}function G60(J){return q1(J,"Unknown")}function H60(J){return q1(J,"Unsafe")}function U60(J){return q1(J,"Void")}function B60(J){return N5(J)&&v0 in J&&j5(J[v0])}function w9(J){return FP(J)||EP(J)||vW(J)||UX(J)||qH(J)||NH(J)||bW(J)||hW(J)||Q60(J)||mW(J)||dW(J)||K6(J)||DH(J)||hJ(J)||mJ(J)||p8(J)||BX(J)||$60(J)||Lq(J)||cW(J)||Q4(J)||ZH(J)||OH(J)||V8(J)||PP(J)||AX(J)||Sq(J)||dJ(J)||X60(J)||cJ(J)||Vq(J)||N2(J)||M60(J)||G60(J)||H60(J)||U60(J)||B60(J)}var p={};Dq(p,{IsAny:()=>TP,IsArgument:()=>_P,IsArray:()=>wP,IsAsyncIterator:()=>kP,IsBigInt:()=>xP,IsBoolean:()=>gP,IsComputed:()=>yP,IsConstructor:()=>fP,IsDate:()=>vP,IsFunction:()=>bP,IsImport:()=>K60,IsInteger:()=>hP,IsIntersect:()=>mP,IsIterator:()=>dP,IsKind:()=>qC,IsKindOf:()=>M1,IsLiteral:()=>NX,IsLiteralBoolean:()=>z60,IsLiteralNumber:()=>uP,IsLiteralString:()=>cP,IsLiteralValue:()=>pP,IsMappedKey:()=>nP,IsMappedResult:()=>iP,IsNever:()=>lP,IsNot:()=>oP,IsNull:()=>rP,IsNumber:()=>aP,IsObject:()=>sP,IsOptional:()=>O60,IsPromise:()=>tP,IsProperties:()=>zH,IsReadonly:()=>Z60,IsRecord:()=>eP,IsRecursive:()=>L60,IsRef:()=>JC,IsRegExp:()=>YC,IsSchema:()=>B2,IsString:()=>WC,IsSymbol:()=>QC,IsTemplateLiteral:()=>$C,IsThis:()=>XC,IsTransform:()=>MC,IsTuple:()=>GC,IsUint8Array:()=>UC,IsUndefined:()=>HC,IsUnion:()=>jq,IsUnionLiteral:()=>S60,IsUnknown:()=>BC,IsUnsafe:()=>AC,IsVoid:()=>NC,TypeGuardUnknownTypeError:()=>A60});var A60=class extends k9{},N60=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function CP(J){try{return new RegExp(J),!0}catch{return!1}}function Fq(J){if(!j5(J))return!1;for(let Y=0;Y<J.length;Y++){let W=J.charCodeAt(Y);if(W>=7&&W<=13||W===27||W===127)return!1}return!0}function IP(J){return Eq(J)||B2(J)}function $X(J){return W8(J)||Zq(J)}function i1(J){return W8(J)||f4(J)}function Eq(J){return W8(J)||gW(J)}function b1(J){return W8(J)||j5(J)}function q60(J){return W8(J)||j5(J)&&Fq(J)&&CP(J)}function D60(J){return W8(J)||j5(J)&&Fq(J)}function RP(J){return W8(J)||B2(J)}function Z60(J){return N5(J)&&J[fW]==="Readonly"}function O60(J){return N5(J)&&J[k7]==="Optional"}function TP(J){return M1(J,"Any")&&b1(J.$id)}function _P(J){return M1(J,"Argument")&&f4(J.index)}function wP(J){return M1(J,"Array")&&J.type==="array"&&b1(J.$id)&&B2(J.items)&&i1(J.minItems)&&i1(J.maxItems)&&Eq(J.uniqueItems)&&RP(J.contains)&&i1(J.minContains)&&i1(J.maxContains)}function kP(J){return M1(J,"AsyncIterator")&&J.type==="AsyncIterator"&&b1(J.$id)&&B2(J.items)}function xP(J){return M1(J,"BigInt")&&J.type==="bigint"&&b1(J.$id)&&$X(J.exclusiveMaximum)&&$X(J.exclusiveMinimum)&&$X(J.maximum)&&$X(J.minimum)&&$X(J.multipleOf)}function gP(J){return M1(J,"Boolean")&&J.type==="boolean"&&b1(J.$id)}function yP(J){return M1(J,"Computed")&&j5(J.target)&&Q8(J.parameters)&&J.parameters.every((Y)=>B2(Y))}function fP(J){return M1(J,"Constructor")&&J.type==="Constructor"&&b1(J.$id)&&Q8(J.parameters)&&J.parameters.every((Y)=>B2(Y))&&B2(J.returns)}function vP(J){return M1(J,"Date")&&J.type==="Date"&&b1(J.$id)&&i1(J.exclusiveMaximumTimestamp)&&i1(J.exclusiveMinimumTimestamp)&&i1(J.maximumTimestamp)&&i1(J.minimumTimestamp)&&i1(J.multipleOfTimestamp)}function bP(J){return M1(J,"Function")&&J.type==="Function"&&b1(J.$id)&&Q8(J.parameters)&&J.parameters.every((Y)=>B2(Y))&&B2(J.returns)}function K60(J){return M1(J,"Import")&&Gq(J,"$defs")&&N5(J.$defs)&&zH(J.$defs)&&Gq(J,"$ref")&&j5(J.$ref)&&J.$ref in J.$defs}function hP(J){return M1(J,"Integer")&&J.type==="integer"&&b1(J.$id)&&i1(J.exclusiveMaximum)&&i1(J.exclusiveMinimum)&&i1(J.maximum)&&i1(J.minimum)&&i1(J.multipleOf)}function zH(J){return N5(J)&&Object.entries(J).every(([Y,W])=>Fq(Y)&&B2(W))}function mP(J){return M1(J,"Intersect")&&(j5(J.type)&&J.type!=="object"?!1:!0)&&Q8(J.allOf)&&J.allOf.every((Y)=>B2(Y)&&!MC(Y))&&b1(J.type)&&(Eq(J.unevaluatedProperties)||RP(J.unevaluatedProperties))&&b1(J.$id)}function dP(J){return M1(J,"Iterator")&&J.type==="Iterator"&&b1(J.$id)&&B2(J.items)}function M1(J,Y){return N5(J)&&v0 in J&&J[v0]===Y}function cP(J){return NX(J)&&j5(J.const)}function uP(J){return NX(J)&&f4(J.const)}function z60(J){return NX(J)&&gW(J.const)}function NX(J){return M1(J,"Literal")&&b1(J.$id)&&pP(J.const)}function pP(J){return gW(J)||f4(J)||j5(J)}function nP(J){return M1(J,"MappedKey")&&Q8(J.keys)&&J.keys.every((Y)=>f4(Y)||j5(Y))}function iP(J){return M1(J,"MappedResult")&&zH(J.properties)}function lP(J){return M1(J,"Never")&&N5(J.not)&&Object.getOwnPropertyNames(J.not).length===0}function oP(J){return M1(J,"Not")&&B2(J.not)}function rP(J){return M1(J,"Null")&&J.type==="null"&&b1(J.$id)}function aP(J){return M1(J,"Number")&&J.type==="number"&&b1(J.$id)&&i1(J.exclusiveMaximum)&&i1(J.exclusiveMinimum)&&i1(J.maximum)&&i1(J.minimum)&&i1(J.multipleOf)}function sP(J){return M1(J,"Object")&&J.type==="object"&&b1(J.$id)&&zH(J.properties)&&IP(J.additionalProperties)&&i1(J.minProperties)&&i1(J.maxProperties)}function tP(J){return M1(J,"Promise")&&J.type==="Promise"&&b1(J.$id)&&B2(J.item)}function eP(J){return M1(J,"Record")&&J.type==="object"&&b1(J.$id)&&IP(J.additionalProperties)&&N5(J.patternProperties)&&((Y)=>{let W=Object.getOwnPropertyNames(Y.patternProperties);return W.length===1&&CP(W[0])&&N5(Y.patternProperties)&&B2(Y.patternProperties[W[0]])})(J)}function L60(J){return N5(J)&&_W in J&&J[_W]==="Recursive"}function JC(J){return M1(J,"Ref")&&b1(J.$id)&&j5(J.$ref)}function YC(J){return M1(J,"RegExp")&&b1(J.$id)&&j5(J.source)&&j5(J.flags)&&i1(J.maxLength)&&i1(J.minLength)}function WC(J){return M1(J,"String")&&J.type==="string"&&b1(J.$id)&&i1(J.minLength)&&i1(J.maxLength)&&q60(J.pattern)&&D60(J.format)}function QC(J){return M1(J,"Symbol")&&J.type==="symbol"&&b1(J.$id)}function $C(J){return M1(J,"TemplateLiteral")&&J.type==="string"&&j5(J.pattern)&&J.pattern[0]==="^"&&J.pattern[J.pattern.length-1]==="$"}function XC(J){return M1(J,"This")&&b1(J.$id)&&j5(J.$ref)}function MC(J){return N5(J)&&Z6 in J}function GC(J){return M1(J,"Tuple")&&J.type==="array"&&b1(J.$id)&&f4(J.minItems)&&f4(J.maxItems)&&J.minItems===J.maxItems&&(W8(J.items)&&W8(J.additionalItems)&&J.minItems===0||Q8(J.items)&&J.items.every((Y)=>B2(Y)))}function HC(J){return M1(J,"Undefined")&&J.type==="undefined"&&b1(J.$id)}function S60(J){return jq(J)&&J.anyOf.every((Y)=>cP(Y)||uP(Y))}function jq(J){return M1(J,"Union")&&b1(J.$id)&&N5(J)&&Q8(J.anyOf)&&J.anyOf.every((Y)=>B2(Y))}function UC(J){return M1(J,"Uint8Array")&&J.type==="Uint8Array"&&b1(J.$id)&&i1(J.minByteLength)&&i1(J.maxByteLength)}function BC(J){return M1(J,"Unknown")&&b1(J.$id)}function AC(J){return M1(J,"Unsafe")}function NC(J){return M1(J,"Void")&&J.type==="void"&&b1(J.$id)}function qC(J){return N5(J)&&v0 in J&&j5(J[v0])&&!N60.includes(J[v0])}function B2(J){return N5(J)&&(TP(J)||_P(J)||wP(J)||gP(J)||xP(J)||kP(J)||yP(J)||fP(J)||vP(J)||bP(J)||hP(J)||mP(J)||dP(J)||NX(J)||nP(J)||iP(J)||lP(J)||oP(J)||rP(J)||aP(J)||sP(J)||tP(J)||eP(J)||JC(J)||YC(J)||WC(J)||QC(J)||$C(J)||XC(J)||GC(J)||HC(J)||jq(J)||UC(J)||BC(J)||AC(J)||NC(J)||qC(J))}var DC="(true|false)",GH="(0|[1-9][0-9]*)",ZC="(.*)",V60="(?!.*)",kj0=`^${DC}$`,wW=`^${GH}$`,kW=`^${ZC}$`,F60=`^${V60}$`;function E60(J,Y){return J.includes(Y)}function j60(J){return[...new Set(J)]}function P60(J,Y){return J.filter((W)=>Y.includes(W))}function C60(J,Y){return J.reduce((W,Q)=>{return P60(W,Q)},Y)}function I60(J){return J.length===1?J[0]:J.length>1?C60(J.slice(1),J[0]):[]}function R60(J){let Y=[];for(let W of J)Y.push(...W);return Y}function MX(J){return P0({[v0]:"Any"},J)}function Pq(J,Y){return P0({[v0]:"Array",type:"array",items:J},Y)}function T60(J){return P0({[v0]:"Argument",index:J})}function Cq(J,Y){return P0({[v0]:"AsyncIterator",type:"AsyncIterator",items:J},Y)}function Y2(J,Y,W){return P0({[v0]:"Computed",target:J,parameters:Y},W)}function _60(J,Y){let{[Y]:W,...Q}=J;return Q}function c8(J,Y){return Y.reduce((W,Q)=>_60(W,Q),J)}function u5(J){return P0({[v0]:"Never",not:{}},J)}function E2(J){return P0({[v0]:"MappedResult",properties:J})}function Iq(J,Y,W){return P0({[v0]:"Constructor",type:"Constructor",parameters:J,returns:Y},W)}function qX(J,Y,W){return P0({[v0]:"Function",type:"Function",parameters:J,returns:Y},W)}function Uq(J,Y){return P0({[v0]:"Union",anyOf:J},Y)}function w60(J){return J.some((Y)=>x9(Y))}function MP(J){return J.map((Y)=>x9(Y)?k60(Y):Y)}function k60(J){return c8(J,[k7])}function x60(J,Y){return w60(J)?f9(Uq(MP(J),Y)):Uq(MP(J),Y)}function uW(J,Y){return J.length===1?P0(J[0],Y):J.length===0?u5(Y):x60(J,Y)}function j2(J,Y){return J.length===0?u5(Y):J.length===1?P0(J[0],Y):Uq(J,Y)}var GP=class extends k9{};function g60(J){return J.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}function Rq(J,Y,W){return J[Y]===W&&J.charCodeAt(Y-1)!==92}function w7(J,Y){return Rq(J,Y,"(")}function GX(J,Y){return Rq(J,Y,")")}function OC(J,Y){return Rq(J,Y,"|")}function y60(J){if(!(w7(J,0)&&GX(J,J.length-1)))return!1;let Y=0;for(let W=0;W<J.length;W++){if(w7(J,W))Y+=1;if(GX(J,W))Y-=1;if(Y===0&&W!==J.length-1)return!1}return!0}function f60(J){return J.slice(1,J.length-1)}function v60(J){let Y=0;for(let W=0;W<J.length;W++){if(w7(J,W))Y+=1;if(GX(J,W))Y-=1;if(OC(J,W)&&Y===0)return!0}return!1}function b60(J){for(let Y=0;Y<J.length;Y++)if(w7(J,Y))return!0;return!1}function h60(J){let[Y,W]=[0,0],Q=[];for(let M=0;M<J.length;M++){if(w7(J,M))Y+=1;if(GX(J,M))Y-=1;if(OC(J,M)&&Y===0){let G=J.slice(W,M);if(G.length>0)Q.push(xW(G));W=M+1}}let X=J.slice(W);if(X.length>0)Q.push(xW(X));if(Q.length===0)return{type:"const",const:""};if(Q.length===1)return Q[0];return{type:"or",expr:Q}}function m60(J){function Y(X,M){if(!w7(X,M))throw new GP("TemplateLiteralParser: Index must point to open parens");let G=0;for(let H=M;H<X.length;H++){if(w7(X,H))G+=1;if(GX(X,H))G-=1;if(G===0)return[M,H]}throw new GP("TemplateLiteralParser: Unclosed group parens in expression")}function W(X,M){for(let G=M;G<X.length;G++)if(w7(X,G))return[M,G];return[M,X.length]}let Q=[];for(let X=0;X<J.length;X++)if(w7(J,X)){let[M,G]=Y(J,X),H=J.slice(M,G+1);Q.push(xW(H)),X=G}else{let[M,G]=W(J,X),H=J.slice(M,G);if(H.length>0)Q.push(xW(H));X=G-1}return Q.length===0?{type:"const",const:""}:Q.length===1?Q[0]:{type:"and",expr:Q}}function xW(J){return y60(J)?xW(f60(J)):v60(J)?h60(J):b60(J)?m60(J):{type:"const",const:g60(J)}}function Tq(J){return xW(J.slice(1,J.length-1))}var d60=class extends k9{};function c60(J){return J.type==="or"&&J.expr.length===2&&J.expr[0].type==="const"&&J.expr[0].const==="0"&&J.expr[1].type==="const"&&J.expr[1].const==="[1-9][0-9]*"}function u60(J){return J.type==="or"&&J.expr.length===2&&J.expr[0].type==="const"&&J.expr[0].const==="true"&&J.expr[1].type==="const"&&J.expr[1].const==="false"}function p60(J){return J.type==="const"&&J.const===".*"}function HX(J){return c60(J)||p60(J)?!1:u60(J)?!0:J.type==="and"?J.expr.every((Y)=>HX(Y)):J.type==="or"?J.expr.every((Y)=>HX(Y)):J.type==="const"?!0:(()=>{throw new d60("Unknown expression type")})()}function n60(J){let Y=Tq(J.pattern);return HX(Y)}var i60=class extends k9{};function*KC(J){if(J.length===1)return yield*J[0];for(let Y of J[0])for(let W of KC(J.slice(1)))yield`${Y}${W}`}function*l60(J){return yield*KC(J.expr.map((Y)=>[...LH(Y)]))}function*o60(J){for(let Y of J.expr)yield*LH(Y)}function*r60(J){return yield J.const}function*LH(J){return J.type==="and"?yield*l60(J):J.type==="or"?yield*o60(J):J.type==="const"?yield*r60(J):(()=>{throw new i60("Unknown expression")})()}function zC(J){let Y=Tq(J.pattern);return HX(Y)?[...LH(Y)]:[]}function c5(J,Y){return P0({[v0]:"Literal",const:J,type:typeof J},Y)}function LC(J){return P0({[v0]:"Boolean",type:"boolean"},J)}function _q(J){return P0({[v0]:"BigInt",type:"bigint"},J)}function uJ(J){return P0({[v0]:"Number",type:"number"},J)}function bJ(J){return P0({[v0]:"String",type:"string"},J)}function*a60(J){let Y=J.trim().replace(/"|'/g,"");return Y==="boolean"?yield LC():Y==="number"?yield uJ():Y==="bigint"?yield _q():Y==="string"?yield bJ():yield(()=>{let W=Y.split("|").map((Q)=>c5(Q.trim()));return W.length===0?u5():W.length===1?W[0]:uW(W)})()}function*s60(J){if(J[1]!=="{"){let Y=c5("$"),W=Bq(J.slice(1));return yield*[Y,...W]}for(let Y=2;Y<J.length;Y++)if(J[Y]==="}"){let W=a60(J.slice(2,Y)),Q=Bq(J.slice(Y+1));return yield*[...W,...Q]}yield c5(J)}function*Bq(J){for(let Y=0;Y<J.length;Y++)if(J[Y]==="$"){let W=c5(J.slice(0,Y)),Q=s60(J.slice(Y));return yield*[W,...Q]}yield c5(J)}function t60(J){return[...Bq(J)]}var e60=class extends k9{};function J40(J){return J.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function SC(J,Y){return dJ(J)?J.pattern.slice(1,J.pattern.length-1):N2(J)?`(${J.anyOf.map((W)=>SC(W,Y)).join("|")})`:cW(J)?`${Y}${GH}`:dW(J)?`${Y}${GH}`:qH(J)?`${Y}${GH}`:AX(J)?`${Y}${ZC}`:hJ(J)?`${Y}${J40(J.const.toString())}`:UX(J)?`${Y}${DC}`:(()=>{throw new e60(`Unexpected Kind '${J[v0]}'`)})()}function HP(J){return`^${J.map((Y)=>SC(Y,"")).join("")}$`}function BH(J){let W=zC(J).map((Q)=>c5(Q));return uW(W)}function VC(J,Y){let W=j5(J)?HP(t60(J)):HP(J);return P0({[v0]:"TemplateLiteral",type:"string",pattern:W},Y)}function Y40(J){return zC(J).map((W)=>W.toString())}function W40(J){let Y=[];for(let W of J)Y.push(...g9(W));return Y}function Q40(J){return[J.toString()]}function g9(J){return[...new Set(dJ(J)?Y40(J):N2(J)?W40(J.anyOf):hJ(J)?Q40(J.const):cW(J)?["[number]"]:dW(J)?["[number]"]:[])]}function $40(J,Y,W){let Q={};for(let X of Object.getOwnPropertyNames(Y))Q[X]=SH(J,g9(Y[X]),W);return Q}function X40(J,Y,W){return $40(J,Y.properties,W)}function M40(J,Y,W){let Q=X40(J,Y,W);return E2(Q)}function FC(J,Y){return J.map((W)=>EC(W,Y))}function G40(J){return J.filter((Y)=>!BX(Y))}function H40(J,Y){return IC(G40(FC(J,Y)))}function U40(J){return J.some((Y)=>BX(Y))?[]:J}function B40(J,Y){return uW(U40(FC(J,Y)))}function A40(J,Y){return Y in J?J[Y]:Y==="[number]"?uW(J):u5()}function N40(J,Y){return Y==="[number]"?J:u5()}function q40(J,Y){return Y in J?J[Y]:u5()}function EC(J,Y){return K6(J)?H40(J.allOf,Y):N2(J)?B40(J.anyOf,Y):cJ(J)?A40(J.items??[],Y):vW(J)?N40(J.items,Y):Q4(J)?q40(J.properties,Y):u5()}function jC(J,Y){return Y.map((W)=>EC(J,W))}function UP(J,Y){return uW(jC(J,Y))}function SH(J,Y,W){if(V8(J)||V8(Y)){if(!w9(J)||!w9(Y))throw new k9("Index types using Ref parameters require both Type and Key to be of TSchema");return Y2("Index",[J,Y])}if(p8(Y))return M40(J,Y,W);if(mJ(Y))return K40(J,Y,W);return P0(w9(Y)?UP(J,g9(Y)):UP(J,Y),W)}function D40(J,Y,W){return{[Y]:SH(J,[Y],d8(W))}}function Z40(J,Y,W){return Y.reduce((Q,X)=>{return{...Q,...D40(J,X,W)}},{})}function O40(J,Y,W){return Z40(J,Y.keys,W)}function K40(J,Y,W){let Q=O40(J,Y,W);return E2(Q)}function wq(J,Y){return P0({[v0]:"Iterator",type:"Iterator",items:J},Y)}function z40(J){let Y=[];for(let W in J)if(!x9(J[W]))Y.push(W);return Y}function L40(J,Y){let W=z40(J),Q=W.length>0?{[v0]:"Object",type:"object",properties:J,required:W}:{[v0]:"Object",type:"object",properties:J};return P0(Q,Y)}var A2=L40;function PC(J,Y){return P0({[v0]:"Promise",type:"Promise",item:J},Y)}function S40(J){return P0(c8(J,[fW]))}function V40(J){return P0({...J,[fW]:"Readonly"})}function F40(J,Y){return Y===!1?S40(J):V40(J)}function y9(J,Y){let W=Y??!0;return p8(J)?P40(J,W):F40(J,W)}function E40(J,Y){let W={};for(let Q of globalThis.Object.getOwnPropertyNames(J))W[Q]=y9(J[Q],Y);return W}function j40(J,Y){return E40(J.properties,Y)}function P40(J,Y){let W=j40(J,Y);return E2(W)}function pW(J,Y){return P0(J.length>0?{[v0]:"Tuple",type:"array",items:J,additionalItems:!1,minItems:J.length,maxItems:J.length}:{[v0]:"Tuple",type:"array",minItems:J.length,maxItems:J.length},Y)}function CC(J,Y){return J in Y?D6(J,Y[J]):E2(Y)}function C40(J){return{[J]:c5(J)}}function I40(J){let Y={};for(let W of J)Y[W]=c5(W);return Y}function R40(J,Y){return E60(Y,J)?C40(J):I40(Y)}function T40(J,Y){let W=R40(J,Y);return CC(J,W)}function XX(J,Y){return Y.map((W)=>D6(J,W))}function _40(J,Y){let W={};for(let Q of globalThis.Object.getOwnPropertyNames(Y))W[Q]=D6(J,Y[Q]);return W}function D6(J,Y){let W={...Y};return x9(Y)?f9(D6(J,c8(Y,[k7]))):zq(Y)?y9(D6(J,c8(Y,[fW]))):p8(Y)?CC(J,Y.properties):mJ(Y)?T40(J,Y.keys):hW(Y)?Iq(XX(J,Y.parameters),D6(J,Y.returns),W):mW(Y)?qX(XX(J,Y.parameters),D6(J,Y.returns),W):NH(Y)?Cq(D6(J,Y.items),W):DH(Y)?wq(D6(J,Y.items),W):K6(Y)?v9(XX(J,Y.allOf),W):N2(Y)?j2(XX(J,Y.anyOf),W):cJ(Y)?pW(XX(J,Y.items??[]),W):Q4(Y)?A2(_40(J,Y.properties),W):vW(Y)?Pq(D6(J,Y.items),W):ZH(Y)?PC(D6(J,Y.item),W):Y}function w40(J,Y){let W={};for(let Q of J)W[Q]=D6(Q,Y);return W}function k40(J,Y,W){let Q=w9(J)?g9(J):J,X=Y({[v0]:"MappedKey",keys:Q}),M=w40(Q,X);return A2(M,W)}function x40(J){return P0(c8(J,[k7]))}function g40(J){return P0({...J,[k7]:"Optional"})}function y40(J,Y){return Y===!1?x40(J):g40(J)}function f9(J,Y){let W=Y??!0;return p8(J)?b40(J,W):y40(J,W)}function f40(J,Y){let W={};for(let Q of globalThis.Object.getOwnPropertyNames(J))W[Q]=f9(J[Q],Y);return W}function v40(J,Y){return f40(J.properties,Y)}function b40(J,Y){let W=v40(J,Y);return E2(W)}function Aq(J,Y={}){let W=J.every((X)=>Q4(X)),Q=w9(Y.unevaluatedProperties)?{unevaluatedProperties:Y.unevaluatedProperties}:{};return P0(Y.unevaluatedProperties===!1||w9(Y.unevaluatedProperties)||W?{...Q,[v0]:"Intersect",type:"object",allOf:J}:{...Q,[v0]:"Intersect",allOf:J},Y)}function h40(J){return J.every((Y)=>x9(Y))}function m40(J){return c8(J,[k7])}function BP(J){return J.map((Y)=>x9(Y)?m40(Y):Y)}function d40(J,Y){return h40(J)?f9(Aq(BP(J),Y)):Aq(BP(J),Y)}function IC(J,Y={}){if(J.length===1)return P0(J[0],Y);if(J.length===0)return u5(Y);if(J.some((W)=>KH(W)))throw new Error("Cannot intersect transform types");return d40(J,Y)}function v9(J,Y){if(J.length===1)return P0(J[0],Y);if(J.length===0)return u5(Y);if(J.some((W)=>KH(W)))throw new Error("Cannot intersect transform types");return Aq(J,Y)}function DX(...J){let[Y,W]=typeof J[0]==="string"?[J[0],J[1]]:[J[0].$id,J[1]];if(typeof Y!=="string")throw new k9("Ref: $ref must be a string");return P0({[v0]:"Ref",$ref:Y},W)}function c40(J,Y){return Y2("Awaited",[Y2(J,Y)])}function u40(J){return Y2("Awaited",[DX(J)])}function p40(J){return v9(RC(J))}function n40(J){return j2(RC(J))}function i40(J){return VH(J)}function RC(J){return J.map((Y)=>VH(Y))}function VH(J,Y){return P0(bW(J)?c40(J.target,J.parameters):K6(J)?p40(J.allOf):N2(J)?n40(J.anyOf):ZH(J)?i40(J.item):V8(J)?u40(J.$ref):J,Y)}function TC(J){let Y=[];for(let W of J)Y.push(kq(W));return Y}function l40(J){let Y=TC(J);return R60(Y)}function o40(J){let Y=TC(J);return I60(Y)}function r40(J){return J.map((Y,W)=>W.toString())}function a40(J){return["[number]"]}function s40(J){return globalThis.Object.getOwnPropertyNames(J)}function t40(J){if(!e40)return[];return globalThis.Object.getOwnPropertyNames(J).map((W)=>{return W[0]==="^"&&W[W.length-1]==="$"?W.slice(1,W.length-1):W})}function kq(J){return K6(J)?l40(J.allOf):N2(J)?o40(J.anyOf):cJ(J)?r40(J.items??[]):vW(J)?a40(J.items):Q4(J)?s40(J.properties):OH(J)?t40(J.patternProperties):[]}var e40=!1;function J70(J,Y){return Y2("KeyOf",[Y2(J,Y)])}function Y70(J){return Y2("KeyOf",[DX(J)])}function W70(J,Y){let W=kq(J),Q=Q70(W),X=uW(Q);return P0(X,Y)}function Q70(J){return J.map((Y)=>Y==="[number]"?uJ():c5(Y))}function xq(J,Y){return bW(J)?J70(J.target,J.parameters):V8(J)?Y70(J.$ref):p8(J)?M70(J,Y):W70(J,Y)}function $70(J,Y){let W={};for(let Q of globalThis.Object.getOwnPropertyNames(J))W[Q]=xq(J[Q],d8(Y));return W}function X70(J,Y){return $70(J.properties,Y)}function M70(J,Y){let W=X70(J,Y);return E2(W)}function G70(J){let Y=[];for(let W of J)Y.push(...kq(W));return j60(Y)}function H70(J){return J.filter((Y)=>!BX(Y))}function U70(J,Y){let W=[];for(let Q of J)W.push(...jC(Q,[Y]));return H70(W)}function B70(J,Y){let W={};for(let Q of Y)W[Q]=IC(U70(J,Q));return W}function A70(J,Y){let W=G70(J),Q=B70(J,W);return A2(Q,Y)}function _C(J){return P0({[v0]:"Date",type:"Date"},J)}function wC(J){return P0({[v0]:"Null",type:"null"},J)}function kC(J){return P0({[v0]:"Symbol",type:"symbol"},J)}function xC(J){return P0({[v0]:"Undefined",type:"undefined"},J)}function gC(J){return P0({[v0]:"Uint8Array",type:"Uint8Array"},J)}function FH(J){return P0({[v0]:"Unknown"},J)}function N70(J){return J.map((Y)=>gq(Y,!1))}function q70(J){let Y={};for(let W of globalThis.Object.getOwnPropertyNames(J))Y[W]=y9(gq(J[W],!1));return Y}function MH(J,Y){return Y===!0?J:y9(J)}function gq(J,Y){return KP(J)?MH(MX(),Y):LP(J)?MH(MX(),Y):Q8(J)?y9(pW(N70(J))):yW(J)?gC():AH(J)?_C():N5(J)?MH(A2(q70(J)),Y):zP(J)?MH(qX([],FH()),Y):W8(J)?xC():SP(J)?wC():VP(J)?kC():Zq(J)?_q():f4(J)?c5(J):gW(J)?c5(J):j5(J)?c5(J):A2({})}function D70(J,Y){return P0(gq(J,!0),Y)}function Z70(J,Y){return hW(J)?pW(J.parameters,Y):u5(Y)}function O70(J,Y){if(W8(J))throw new Error("Enum undefined or empty");let W=globalThis.Object.getOwnPropertyNames(J).filter((M)=>isNaN(M)).map((M)=>J[M]),X=[...new Set(W)].map((M)=>c5(M));return j2(X,{...Y,[_W]:"Enum"})}var K70=class extends k9{},M0;(function(J){J[J.Union=0]="Union",J[J.True=1]="True",J[J.False=2]="False"})(M0||(M0={}));function O6(J){return J===M0.False?J:M0.True}function nW(J){throw new K70(J)}function p5(J){return p.IsNever(J)||p.IsIntersect(J)||p.IsUnion(J)||p.IsUnknown(J)||p.IsAny(J)}function n5(J,Y){return p.IsNever(Y)?vC(J,Y):p.IsIntersect(Y)?EH(J,Y):p.IsUnion(Y)?fq(J,Y):p.IsUnknown(Y)?dC(J,Y):p.IsAny(Y)?yq(J,Y):nW("StructuralRight")}function yq(J,Y){return M0.True}function z70(J,Y){return p.IsIntersect(Y)?EH(J,Y):p.IsUnion(Y)&&Y.anyOf.some((W)=>p.IsAny(W)||p.IsUnknown(W))?M0.True:p.IsUnion(Y)?M0.Union:p.IsUnknown(Y)?M0.True:p.IsAny(Y)?M0.True:M0.Union}function L70(J,Y){return p.IsUnknown(J)?M0.False:p.IsAny(J)?M0.Union:p.IsNever(J)?M0.True:M0.False}function S70(J,Y){return p.IsObject(Y)&&jH(Y)?M0.True:p5(Y)?n5(J,Y):!p.IsArray(Y)?M0.False:O6(v1(J.items,Y.items))}function V70(J,Y){return p5(Y)?n5(J,Y):!p.IsAsyncIterator(Y)?M0.False:O6(v1(J.items,Y.items))}function F70(J,Y){return p5(Y)?n5(J,Y):p.IsObject(Y)?c2(J,Y):p.IsRecord(Y)?z6(J,Y):p.IsBigInt(Y)?M0.True:M0.False}function yC(J,Y){return p.IsLiteralBoolean(J)?M0.True:p.IsBoolean(J)?M0.True:M0.False}function E70(J,Y){return p5(Y)?n5(J,Y):p.IsObject(Y)?c2(J,Y):p.IsRecord(Y)?z6(J,Y):p.IsBoolean(Y)?M0.True:M0.False}function j70(J,Y){return p5(Y)?n5(J,Y):p.IsObject(Y)?c2(J,Y):!p.IsConstructor(Y)?M0.False:J.parameters.length>Y.parameters.length?M0.False:!J.parameters.every((W,Q)=>O6(v1(Y.parameters[Q],W))===M0.True)?M0.False:O6(v1(J.returns,Y.returns))}function P70(J,Y){return p5(Y)?n5(J,Y):p.IsObject(Y)?c2(J,Y):p.IsRecord(Y)?z6(J,Y):p.IsDate(Y)?M0.True:M0.False}function C70(J,Y){return p5(Y)?n5(J,Y):p.IsObject(Y)?c2(J,Y):!p.IsFunction(Y)?M0.False:J.parameters.length>Y.parameters.length?M0.False:!J.parameters.every((W,Q)=>O6(v1(Y.parameters[Q],W))===M0.True)?M0.False:O6(v1(J.returns,Y.returns))}function fC(J,Y){return p.IsLiteral(J)&&_7.IsNumber(J.const)?M0.True:p.IsNumber(J)||p.IsInteger(J)?M0.True:M0.False}function I70(J,Y){return p.IsInteger(Y)||p.IsNumber(Y)?M0.True:p5(Y)?n5(J,Y):p.IsObject(Y)?c2(J,Y):p.IsRecord(Y)?z6(J,Y):M0.False}function EH(J,Y){return Y.allOf.every((W)=>v1(J,W)===M0.True)?M0.True:M0.False}function R70(J,Y){return J.allOf.some((W)=>v1(W,Y)===M0.True)?M0.True:M0.False}function T70(J,Y){return p5(Y)?n5(J,Y):!p.IsIterator(Y)?M0.False:O6(v1(J.items,Y.items))}function _70(J,Y){return p.IsLiteral(Y)&&Y.const===J.const?M0.True:p5(Y)?n5(J,Y):p.IsObject(Y)?c2(J,Y):p.IsRecord(Y)?z6(J,Y):p.IsString(Y)?mC(J,Y):p.IsNumber(Y)?bC(J,Y):p.IsInteger(Y)?fC(J,Y):p.IsBoolean(Y)?yC(J,Y):M0.False}function vC(J,Y){return M0.False}function w70(J,Y){return M0.True}function AP(J){let[Y,W]=[J,0];while(!0){if(!p.IsNot(Y))break;Y=Y.not,W+=1}return W%2===0?Y:FH()}function k70(J,Y){return p.IsNot(J)?v1(AP(J),Y):p.IsNot(Y)?v1(J,AP(Y)):nW("Invalid fallthrough for Not")}function x70(J,Y){return p5(Y)?n5(J,Y):p.IsObject(Y)?c2(J,Y):p.IsRecord(Y)?z6(J,Y):p.IsNull(Y)?M0.True:M0.False}function bC(J,Y){return p.IsLiteralNumber(J)?M0.True:p.IsNumber(J)||p.IsInteger(J)?M0.True:M0.False}function g70(J,Y){return p5(Y)?n5(J,Y):p.IsObject(Y)?c2(J,Y):p.IsRecord(Y)?z6(J,Y):p.IsInteger(Y)||p.IsNumber(Y)?M0.True:M0.False}function F8(J,Y){return Object.getOwnPropertyNames(J.properties).length===Y}function NP(J){return jH(J)}function qP(J){return F8(J,0)||F8(J,1)&&"description"in J.properties&&p.IsUnion(J.properties.description)&&J.properties.description.anyOf.length===2&&(p.IsString(J.properties.description.anyOf[0])&&p.IsUndefined(J.properties.description.anyOf[1])||p.IsString(J.properties.description.anyOf[1])&&p.IsUndefined(J.properties.description.anyOf[0]))}function Mq(J){return F8(J,0)}function DP(J){return F8(J,0)}function y70(J){return F8(J,0)}function f70(J){return F8(J,0)}function v70(J){return jH(J)}function b70(J){let Y=uJ();return F8(J,0)||F8(J,1)&&"length"in J.properties&&O6(v1(J.properties.length,Y))===M0.True}function h70(J){return F8(J,0)}function jH(J){let Y=uJ();return F8(J,0)||F8(J,1)&&"length"in J.properties&&O6(v1(J.properties.length,Y))===M0.True}function m70(J){let Y=qX([MX()],MX());return F8(J,0)||F8(J,1)&&"then"in J.properties&&O6(v1(J.properties.then,Y))===M0.True}function hC(J,Y){return v1(J,Y)===M0.False?M0.False:p.IsOptional(J)&&!p.IsOptional(Y)?M0.False:M0.True}function c2(J,Y){return p.IsUnknown(J)?M0.False:p.IsAny(J)?M0.Union:p.IsNever(J)||p.IsLiteralString(J)&&NP(Y)||p.IsLiteralNumber(J)&&Mq(Y)||p.IsLiteralBoolean(J)&&DP(Y)||p.IsSymbol(J)&&qP(Y)||p.IsBigInt(J)&&y70(Y)||p.IsString(J)&&NP(Y)||p.IsSymbol(J)&&qP(Y)||p.IsNumber(J)&&Mq(Y)||p.IsInteger(J)&&Mq(Y)||p.IsBoolean(J)&&DP(Y)||p.IsUint8Array(J)&&v70(Y)||p.IsDate(J)&&f70(Y)||p.IsConstructor(J)&&h70(Y)||p.IsFunction(J)&&b70(Y)?M0.True:p.IsRecord(J)&&p.IsString(Nq(J))?(()=>{return Y[_W]==="Record"?M0.True:M0.False})():p.IsRecord(J)&&p.IsNumber(Nq(J))?(()=>{return F8(Y,0)?M0.True:M0.False})():M0.False}function d70(J,Y){return p5(Y)?n5(J,Y):p.IsRecord(Y)?z6(J,Y):!p.IsObject(Y)?M0.False:(()=>{for(let W of Object.getOwnPropertyNames(Y.properties)){if(!(W in J.properties)&&!p.IsOptional(Y.properties[W]))return M0.False;if(p.IsOptional(Y.properties[W]))return M0.True;if(hC(J.properties[W],Y.properties[W])===M0.False)return M0.False}return M0.True})()}function c70(J,Y){return p5(Y)?n5(J,Y):p.IsObject(Y)&&m70(Y)?M0.True:!p.IsPromise(Y)?M0.False:O6(v1(J.item,Y.item))}function Nq(J){return wW in J.patternProperties?uJ():(kW in J.patternProperties)?bJ():nW("Unknown record key pattern")}function qq(J){return wW in J.patternProperties?J.patternProperties[wW]:(kW in J.patternProperties)?J.patternProperties[kW]:nW("Unable to get record value schema")}function z6(J,Y){let[W,Q]=[Nq(Y),qq(Y)];return p.IsLiteralString(J)&&p.IsNumber(W)&&O6(v1(J,Q))===M0.True?M0.True:p.IsUint8Array(J)&&p.IsNumber(W)?v1(J,Q):p.IsString(J)&&p.IsNumber(W)?v1(J,Q):p.IsArray(J)&&p.IsNumber(W)?v1(J,Q):p.IsObject(J)?(()=>{for(let X of Object.getOwnPropertyNames(J.properties))if(hC(Q,J.properties[X])===M0.False)return M0.False;return M0.True})():M0.False}function u70(J,Y){return p5(Y)?n5(J,Y):p.IsObject(Y)?c2(J,Y):!p.IsRecord(Y)?M0.False:v1(qq(J),qq(Y))}function p70(J,Y){let W=p.IsRegExp(J)?bJ():J,Q=p.IsRegExp(Y)?bJ():Y;return v1(W,Q)}function mC(J,Y){return p.IsLiteral(J)&&_7.IsString(J.const)?M0.True:p.IsString(J)?M0.True:M0.False}function n70(J,Y){return p5(Y)?n5(J,Y):p.IsObject(Y)?c2(J,Y):p.IsRecord(Y)?z6(J,Y):p.IsString(Y)?M0.True:M0.False}function i70(J,Y){return p5(Y)?n5(J,Y):p.IsObject(Y)?c2(J,Y):p.IsRecord(Y)?z6(J,Y):p.IsSymbol(Y)?M0.True:M0.False}function l70(J,Y){return p.IsTemplateLiteral(J)?v1(BH(J),Y):p.IsTemplateLiteral(Y)?v1(J,BH(Y)):nW("Invalid fallthrough for TemplateLiteral")}function o70(J,Y){return p.IsArray(Y)&&J.items!==void 0&&J.items.every((W)=>v1(W,Y.items)===M0.True)}function r70(J,Y){return p.IsNever(J)?M0.True:p.IsUnknown(J)?M0.False:p.IsAny(J)?M0.Union:M0.False}function a70(J,Y){return p5(Y)?n5(J,Y):p.IsObject(Y)&&jH(Y)?M0.True:p.IsArray(Y)&&o70(J,Y)?M0.True:!p.IsTuple(Y)?M0.False:_7.IsUndefined(J.items)&&!_7.IsUndefined(Y.items)||!_7.IsUndefined(J.items)&&_7.IsUndefined(Y.items)?M0.False:_7.IsUndefined(J.items)&&!_7.IsUndefined(Y.items)?M0.True:J.items.every((W,Q)=>v1(W,Y.items[Q])===M0.True)?M0.True:M0.False}function s70(J,Y){return p5(Y)?n5(J,Y):p.IsObject(Y)?c2(J,Y):p.IsRecord(Y)?z6(J,Y):p.IsUint8Array(Y)?M0.True:M0.False}function t70(J,Y){return p5(Y)?n5(J,Y):p.IsObject(Y)?c2(J,Y):p.IsRecord(Y)?z6(J,Y):p.IsVoid(Y)?Y90(J,Y):p.IsUndefined(Y)?M0.True:M0.False}function fq(J,Y){return Y.anyOf.some((W)=>v1(J,W)===M0.True)?M0.True:M0.False}function e70(J,Y){return J.anyOf.every((W)=>v1(W,Y)===M0.True)?M0.True:M0.False}function dC(J,Y){return M0.True}function J90(J,Y){return p.IsNever(Y)?vC(J,Y):p.IsIntersect(Y)?EH(J,Y):p.IsUnion(Y)?fq(J,Y):p.IsAny(Y)?yq(J,Y):p.IsString(Y)?mC(J,Y):p.IsNumber(Y)?bC(J,Y):p.IsInteger(Y)?fC(J,Y):p.IsBoolean(Y)?yC(J,Y):p.IsArray(Y)?L70(J,Y):p.IsTuple(Y)?r70(J,Y):p.IsObject(Y)?c2(J,Y):p.IsUnknown(Y)?M0.True:M0.False}function Y90(J,Y){return p.IsUndefined(J)?M0.True:p.IsUndefined(J)?M0.True:M0.False}function W90(J,Y){return p.IsIntersect(Y)?EH(J,Y):p.IsUnion(Y)?fq(J,Y):p.IsUnknown(Y)?dC(J,Y):p.IsAny(Y)?yq(J,Y):p.IsObject(Y)?c2(J,Y):p.IsVoid(Y)?M0.True:M0.False}function v1(J,Y){return p.IsTemplateLiteral(J)||p.IsTemplateLiteral(Y)?l70(J,Y):p.IsRegExp(J)||p.IsRegExp(Y)?p70(J,Y):p.IsNot(J)||p.IsNot(Y)?k70(J,Y):p.IsAny(J)?z70(J,Y):p.IsArray(J)?S70(J,Y):p.IsBigInt(J)?F70(J,Y):p.IsBoolean(J)?E70(J,Y):p.IsAsyncIterator(J)?V70(J,Y):p.IsConstructor(J)?j70(J,Y):p.IsDate(J)?P70(J,Y):p.IsFunction(J)?C70(J,Y):p.IsInteger(J)?I70(J,Y):p.IsIntersect(J)?R70(J,Y):p.IsIterator(J)?T70(J,Y):p.IsLiteral(J)?_70(J,Y):p.IsNever(J)?w70(J,Y):p.IsNull(J)?x70(J,Y):p.IsNumber(J)?g70(J,Y):p.IsObject(J)?d70(J,Y):p.IsRecord(J)?u70(J,Y):p.IsString(J)?n70(J,Y):p.IsSymbol(J)?i70(J,Y):p.IsTuple(J)?a70(J,Y):p.IsPromise(J)?c70(J,Y):p.IsUint8Array(J)?s70(J,Y):p.IsUndefined(J)?t70(J,Y):p.IsUnion(J)?e70(J,Y):p.IsUnknown(J)?J90(J,Y):p.IsVoid(J)?W90(J,Y):nW(`Unknown left type operand '${J[v0]}'`)}function ZX(J,Y){return v1(J,Y)}function Q90(J,Y,W,Q,X){let M={};for(let G of globalThis.Object.getOwnPropertyNames(J))M[G]=vq(J[G],Y,W,Q,d8(X));return M}function $90(J,Y,W,Q,X){return Q90(J.properties,Y,W,Q,X)}function X90(J,Y,W,Q,X){let M=$90(J,Y,W,Q,X);return E2(M)}function M90(J,Y,W,Q){let X=ZX(J,Y);return X===M0.Union?j2([W,Q]):X===M0.True?W:Q}function vq(J,Y,W,Q,X){return p8(J)?X90(J,Y,W,Q,X):mJ(J)?P0(B90(J,Y,W,Q,X)):P0(M90(J,Y,W,Q),X)}function G90(J,Y,W,Q,X){return{[J]:vq(c5(J),Y,W,Q,d8(X))}}function H90(J,Y,W,Q,X){return J.reduce((M,G)=>{return{...M,...G90(G,Y,W,Q,X)}},{})}function U90(J,Y,W,Q,X){return H90(J.keys,Y,W,Q,X)}function B90(J,Y,W,Q,X){let M=U90(J,Y,W,Q,X);return E2(M)}function A90(J,Y){return bq(BH(J),Y)}function N90(J,Y){let W=J.filter((Q)=>ZX(Q,Y)===M0.False);return W.length===1?W[0]:j2(W)}function bq(J,Y,W={}){if(dJ(J))return P0(A90(J,Y),W);if(p8(J))return P0(Z90(J,Y),W);return P0(N2(J)?N90(J.anyOf,Y):ZX(J,Y)!==M0.False?u5():J,W)}function q90(J,Y){let W={};for(let Q of globalThis.Object.getOwnPropertyNames(J))W[Q]=bq(J[Q],Y);return W}function D90(J,Y){return q90(J.properties,Y)}function Z90(J,Y){let W=D90(J,Y);return E2(W)}function O90(J,Y){return hq(BH(J),Y)}function K90(J,Y){let W=J.filter((Q)=>ZX(Q,Y)!==M0.False);return W.length===1?W[0]:j2(W)}function hq(J,Y,W){if(dJ(J))return P0(O90(J,Y),W);if(p8(J))return P0(S90(J,Y),W);return P0(N2(J)?K90(J.anyOf,Y):ZX(J,Y)!==M0.False?J:u5(),W)}function z90(J,Y){let W={};for(let Q of globalThis.Object.getOwnPropertyNames(J))W[Q]=hq(J[Q],Y);return W}function L90(J,Y){return z90(J.properties,Y)}function S90(J,Y){let W=L90(J,Y);return E2(W)}function V90(J,Y){return hW(J)?P0(J.returns,Y):u5(Y)}function cC(J){return y9(f9(J))}function pJ(J,Y,W){return P0({[v0]:"Record",type:"object",patternProperties:{[J]:Y}},W)}function mq(J,Y,W){let Q={};for(let X of J)Q[X]=Y;return A2(Q,{...W,[_W]:"Record"})}function F90(J,Y,W){return n60(J)?mq(g9(J),Y,W):pJ(J.pattern,Y,W)}function E90(J,Y,W){return mq(g9(j2(J)),Y,W)}function j90(J,Y,W){return mq([J.toString()],Y,W)}function P90(J,Y,W){return pJ(J.source,Y,W)}function C90(J,Y,W){let Q=W8(J.pattern)?kW:J.pattern;return pJ(Q,Y,W)}function I90(J,Y,W){return pJ(kW,Y,W)}function R90(J,Y,W){return pJ(F60,Y,W)}function T90(J,Y,W){return A2({true:Y,false:Y},W)}function _90(J,Y,W){return pJ(wW,Y,W)}function w90(J,Y,W){return pJ(wW,Y,W)}function uC(J,Y,W={}){return N2(J)?E90(J.anyOf,Y,W):dJ(J)?F90(J,Y,W):hJ(J)?j90(J.const,Y,W):UX(J)?T90(J,Y,W):dW(J)?_90(J,Y,W):cW(J)?w90(J,Y,W):PP(J)?P90(J,Y,W):AX(J)?C90(J,Y,W):FP(J)?I90(J,Y,W):BX(J)?R90(J,Y,W):u5(W)}function dq(J){return globalThis.Object.getOwnPropertyNames(J.patternProperties)[0]}function k90(J){let Y=dq(J);return Y===kW?bJ():Y===wW?uJ():bJ({pattern:Y})}function pC(J){return J.patternProperties[dq(J)]}function x90(J,Y){return Y.parameters=OX(J,Y.parameters),Y.returns=W4(J,Y.returns),Y}function g90(J,Y){return Y.parameters=OX(J,Y.parameters),Y.returns=W4(J,Y.returns),Y}function y90(J,Y){return Y.allOf=OX(J,Y.allOf),Y}function f90(J,Y){return Y.anyOf=OX(J,Y.anyOf),Y}function v90(J,Y){if(W8(Y.items))return Y;return Y.items=OX(J,Y.items),Y}function b90(J,Y){return Y.items=W4(J,Y.items),Y}function h90(J,Y){return Y.items=W4(J,Y.items),Y}function m90(J,Y){return Y.items=W4(J,Y.items),Y}function d90(J,Y){return Y.item=W4(J,Y.item),Y}function c90(J,Y){let W=i90(J,Y.properties);return{...Y,...A2(W)}}function u90(J,Y){let W=W4(J,k90(Y)),Q=W4(J,pC(Y)),X=uC(W,Q);return{...Y,...X}}function p90(J,Y){return Y.index in J?J[Y.index]:FH()}function n90(J,Y){let W=zq(Y),Q=x9(Y),X=W4(J,Y);return W&&Q?cC(X):W&&!Q?y9(X):!W&&Q?f9(X):X}function i90(J,Y){return globalThis.Object.getOwnPropertyNames(Y).reduce((W,Q)=>{return{...W,[Q]:n90(J,Y[Q])}},{})}function OX(J,Y){return Y.map((W)=>W4(J,W))}function W4(J,Y){return hW(Y)?x90(J,Y):mW(Y)?g90(J,Y):K6(Y)?y90(J,Y):N2(Y)?f90(J,Y):cJ(Y)?v90(J,Y):vW(Y)?b90(J,Y):NH(Y)?h90(J,Y):DH(Y)?m90(J,Y):ZH(Y)?d90(J,Y):Q4(Y)?c90(J,Y):OH(Y)?u90(J,Y):EP(Y)?p90(J,Y):Y}function l90(J,Y){return W4(Y,Kq(J))}function o90(J){return P0({[v0]:"Integer",type:"integer"},J)}function r90(J,Y,W){return{[J]:iW(c5(J),Y,d8(W))}}function a90(J,Y,W){return J.reduce((X,M)=>{return{...X,...r90(M,Y,W)}},{})}function s90(J,Y,W){return a90(J.keys,Y,W)}function t90(J,Y,W){let Q=s90(J,Y,W);return E2(Q)}function e90(J){let[Y,W]=[J.slice(0,1),J.slice(1)];return[Y.toLowerCase(),W].join("")}function JJ0(J){let[Y,W]=[J.slice(0,1),J.slice(1)];return[Y.toUpperCase(),W].join("")}function YJ0(J){return J.toUpperCase()}function WJ0(J){return J.toLowerCase()}function QJ0(J,Y,W){let Q=Tq(J.pattern);if(!HX(Q))return{...J,pattern:nC(J.pattern,Y)};let G=[...LH(Q)].map((B)=>c5(B)),H=iC(G,Y),U=j2(H);return VC([U],W)}function nC(J,Y){return typeof J==="string"?Y==="Uncapitalize"?e90(J):Y==="Capitalize"?JJ0(J):Y==="Uppercase"?YJ0(J):Y==="Lowercase"?WJ0(J):J:J.toString()}function iC(J,Y){return J.map((W)=>iW(W,Y))}function iW(J,Y,W={}){return mJ(J)?t90(J,Y,W):dJ(J)?QJ0(J,Y,W):N2(J)?j2(iC(J.anyOf,Y),W):hJ(J)?c5(nC(J.const,Y),W):P0(J,W)}function $J0(J,Y={}){return iW(J,"Capitalize",Y)}function XJ0(J,Y={}){return iW(J,"Lowercase",Y)}function MJ0(J,Y={}){return iW(J,"Uncapitalize",Y)}function GJ0(J,Y={}){return iW(J,"Uppercase",Y)}function HJ0(J,Y,W){let Q={};for(let X of globalThis.Object.getOwnPropertyNames(J))Q[X]=PH(J[X],Y,d8(W));return Q}function UJ0(J,Y,W){return HJ0(J.properties,Y,W)}function BJ0(J,Y,W){let Q=UJ0(J,Y,W);return E2(Q)}function AJ0(J,Y){return J.map((W)=>cq(W,Y))}function NJ0(J,Y){return J.map((W)=>cq(W,Y))}function qJ0(J,Y){let{[Y]:W,...Q}=J;return Q}function DJ0(J,Y){return Y.reduce((W,Q)=>qJ0(W,Q),J)}function ZJ0(J,Y){let W=c8(J,[Z6,"$id","required","properties"]),Q=DJ0(J.properties,Y);return A2(Q,W)}function OJ0(J){let Y=J.reduce((W,Q)=>jP(Q)?[...W,c5(Q)]:W,[]);return j2(Y)}function cq(J,Y){return K6(J)?v9(AJ0(J.allOf,Y)):N2(J)?j2(NJ0(J.anyOf,Y)):Q4(J)?ZJ0(J,Y):A2({})}function PH(J,Y,W){let Q=Q8(Y)?OJ0(Y):Y,X=w9(Y)?g9(Y):Y,M=V8(J),G=V8(Y);return p8(J)?BJ0(J,X,W):mJ(Y)?SJ0(J,Y,W):M&&G?Y2("Omit",[J,Q],W):!M&&G?Y2("Omit",[J,Q],W):M&&!G?Y2("Omit",[J,Q],W):P0({...cq(J,X),...W})}function KJ0(J,Y,W){return{[Y]:PH(J,[Y],d8(W))}}function zJ0(J,Y,W){return Y.reduce((Q,X)=>{return{...Q,...KJ0(J,X,W)}},{})}function LJ0(J,Y,W){return zJ0(J,Y.keys,W)}function SJ0(J,Y,W){let Q=LJ0(J,Y,W);return E2(Q)}function VJ0(J,Y,W){let Q={};for(let X of globalThis.Object.getOwnPropertyNames(J))Q[X]=CH(J[X],Y,d8(W));return Q}function FJ0(J,Y,W){return VJ0(J.properties,Y,W)}function EJ0(J,Y,W){let Q=FJ0(J,Y,W);return E2(Q)}function jJ0(J,Y){return J.map((W)=>uq(W,Y))}function PJ0(J,Y){return J.map((W)=>uq(W,Y))}function CJ0(J,Y){let W={};for(let Q of Y)if(Q in J)W[Q]=J[Q];return W}function IJ0(J,Y){let W=c8(J,[Z6,"$id","required","properties"]),Q=CJ0(J.properties,Y);return A2(Q,W)}function RJ0(J){let Y=J.reduce((W,Q)=>jP(Q)?[...W,c5(Q)]:W,[]);return j2(Y)}function uq(J,Y){return K6(J)?v9(jJ0(J.allOf,Y)):N2(J)?j2(PJ0(J.anyOf,Y)):Q4(J)?IJ0(J,Y):A2({})}function CH(J,Y,W){let Q=Q8(Y)?RJ0(Y):Y,X=w9(Y)?g9(Y):Y,M=V8(J),G=V8(Y);return p8(J)?EJ0(J,X,W):mJ(Y)?kJ0(J,Y,W):M&&G?Y2("Pick",[J,Q],W):!M&&G?Y2("Pick",[J,Q],W):M&&!G?Y2("Pick",[J,Q],W):P0({...uq(J,X),...W})}function TJ0(J,Y,W){return{[Y]:CH(J,[Y],d8(W))}}function _J0(J,Y,W){return Y.reduce((Q,X)=>{return{...Q,...TJ0(J,X,W)}},{})}function wJ0(J,Y,W){return _J0(J,Y.keys,W)}function kJ0(J,Y,W){let Q=wJ0(J,Y,W);return E2(Q)}function xJ0(J,Y){return Y2("Partial",[Y2(J,Y)])}function gJ0(J){return Y2("Partial",[DX(J)])}function yJ0(J){let Y={};for(let W of globalThis.Object.getOwnPropertyNames(J))Y[W]=f9(J[W]);return Y}function fJ0(J){let Y=c8(J,[Z6,"$id","required","properties"]),W=yJ0(J.properties);return A2(W,Y)}function ZP(J){return J.map((Y)=>lC(Y))}function lC(J){return bW(J)?xJ0(J.target,J.parameters):V8(J)?gJ0(J.$ref):K6(J)?v9(ZP(J.allOf)):N2(J)?j2(ZP(J.anyOf)):Q4(J)?fJ0(J):qH(J)?J:UX(J)?J:dW(J)?J:hJ(J)?J:Lq(J)?J:cW(J)?J:AX(J)?J:Sq(J)?J:Vq(J)?J:A2({})}function pq(J,Y){if(p8(J))return hJ0(J,Y);else return P0({...lC(J),...Y})}function vJ0(J,Y){let W={};for(let Q of globalThis.Object.getOwnPropertyNames(J))W[Q]=pq(J[Q],d8(Y));return W}function bJ0(J,Y){return vJ0(J.properties,Y)}function hJ0(J,Y){let W=bJ0(J,Y);return E2(W)}function mJ0(J,Y){return Y2("Required",[Y2(J,Y)])}function dJ0(J){return Y2("Required",[DX(J)])}function cJ0(J){let Y={};for(let W of globalThis.Object.getOwnPropertyNames(J))Y[W]=c8(J[W],[k7]);return Y}function uJ0(J){let Y=c8(J,[Z6,"$id","required","properties"]),W=cJ0(J.properties);return A2(W,Y)}function OP(J){return J.map((Y)=>oC(Y))}function oC(J){return bW(J)?mJ0(J.target,J.parameters):V8(J)?dJ0(J.$ref):K6(J)?v9(OP(J.allOf)):N2(J)?j2(OP(J.anyOf)):Q4(J)?uJ0(J):qH(J)?J:UX(J)?J:dW(J)?J:hJ(J)?J:Lq(J)?J:cW(J)?J:AX(J)?J:Sq(J)?J:Vq(J)?J:A2({})}function nq(J,Y){if(p8(J))return iJ0(J,Y);else return P0({...oC(J),...Y})}function pJ0(J,Y){let W={};for(let Q of globalThis.Object.getOwnPropertyNames(J))W[Q]=nq(J[Q],Y);return W}function nJ0(J,Y){return pJ0(J.properties,Y)}function iJ0(J,Y){let W=nJ0(J,Y);return E2(W)}function lJ0(J,Y){return Y.map((W)=>{return V8(W)?iq(J,W.$ref):u8(J,W)})}function iq(J,Y){return Y in J?V8(J[Y])?iq(J,J[Y].$ref):u8(J,J[Y]):u5()}function oJ0(J){return VH(J[0])}function rJ0(J){return SH(J[0],J[1])}function aJ0(J){return xq(J[0])}function sJ0(J){return pq(J[0])}function tJ0(J){return PH(J[0],J[1])}function eJ0(J){return CH(J[0],J[1])}function JY0(J){return nq(J[0])}function YY0(J,Y,W){let Q=lJ0(J,W);return Y==="Awaited"?oJ0(Q):Y==="Index"?rJ0(Q):Y==="KeyOf"?aJ0(Q):Y==="Partial"?sJ0(Q):Y==="Omit"?tJ0(Q):Y==="Pick"?eJ0(Q):Y==="Required"?JY0(Q):u5()}function WY0(J,Y){return Pq(u8(J,Y))}function QY0(J,Y){return Cq(u8(J,Y))}function $Y0(J,Y,W){return Iq(KX(J,Y),u8(J,W))}function XY0(J,Y,W){return qX(KX(J,Y),u8(J,W))}function MY0(J,Y){return v9(KX(J,Y))}function GY0(J,Y){return wq(u8(J,Y))}function HY0(J,Y){return A2(globalThis.Object.keys(Y).reduce((W,Q)=>{return{...W,[Q]:u8(J,Y[Q])}},{}))}function UY0(J,Y){let[W,Q]=[u8(J,pC(Y)),dq(Y)],X=Kq(Y);return X.patternProperties[Q]=W,X}function BY0(J,Y){return V8(Y)?{...iq(J,Y.$ref),[Z6]:Y[Z6]}:Y}function AY0(J,Y){return pW(KX(J,Y))}function NY0(J,Y){return j2(KX(J,Y))}function KX(J,Y){return Y.map((W)=>u8(J,W))}function u8(J,Y){return x9(Y)?P0(u8(J,c8(Y,[k7])),Y):zq(Y)?P0(u8(J,c8(Y,[fW])),Y):KH(Y)?P0(BY0(J,Y),Y):vW(Y)?P0(WY0(J,Y.items),Y):NH(Y)?P0(QY0(J,Y.items),Y):bW(Y)?P0(YY0(J,Y.target,Y.parameters)):hW(Y)?P0($Y0(J,Y.parameters,Y.returns),Y):mW(Y)?P0(XY0(J,Y.parameters,Y.returns),Y):K6(Y)?P0(MY0(J,Y.allOf),Y):DH(Y)?P0(GY0(J,Y.items),Y):Q4(Y)?P0(HY0(J,Y.properties),Y):OH(Y)?P0(UY0(J,Y)):cJ(Y)?P0(AY0(J,Y.items||[]),Y):N2(Y)?P0(NY0(J,Y.anyOf),Y):Y}function qY0(J,Y){return Y in J?u8(J,J[Y]):u5()}function DY0(J){return globalThis.Object.getOwnPropertyNames(J).reduce((Y,W)=>{return{...Y,[W]:qY0(J,W)}},{})}var ZY0=class{constructor(J){let Y=DY0(J),W=this.WithIdentifiers(Y);this.$defs=W}Import(J,Y){let W={...this.$defs,[J]:P0(this.$defs[J],Y)};return P0({[v0]:"Import",$defs:W,$ref:J})}WithIdentifiers(J){return globalThis.Object.getOwnPropertyNames(J).reduce((Y,W)=>{return{...Y,[W]:{...J[W],$id:W}}},{})}};function OY0(J){return new ZY0(J)}function KY0(J,Y){return P0({[v0]:"Not",not:J},Y)}function zY0(J,Y){return mW(J)?pW(J.parameters,Y):u5()}var LY0=0;function SY0(J,Y={}){if(W8(Y.$id))Y.$id=`T${LY0++}`;let W=Kq(J({[v0]:"This",$ref:`${Y.$id}`}));return W.$id=Y.$id,P0({[_W]:"Recursive",...W},Y)}function VY0(J,Y){let W=j5(J)?new globalThis.RegExp(J):J;return P0({[v0]:"RegExp",type:"RegExp",source:W.source,flags:W.flags},Y)}function FY0(J){return K6(J)?J.allOf:N2(J)?J.anyOf:cJ(J)?J.items??[]:[]}function EY0(J){return FY0(J)}function jY0(J,Y){return mW(J)?P0(J.returns,Y):u5(Y)}var PY0=class{constructor(J){this.schema=J}Decode(J){return new CY0(this.schema,J)}},CY0=class{constructor(J,Y){this.schema=J,this.decode=Y}EncodeTransform(J,Y){let X={Encode:(M)=>Y[Z6].Encode(J(M)),Decode:(M)=>this.decode(Y[Z6].Decode(M))};return{...Y,[Z6]:X}}EncodeSchema(J,Y){let W={Decode:this.decode,Encode:J};return{...Y,[Z6]:W}}Encode(J){return KH(this.schema)?this.EncodeTransform(J,this.schema):this.EncodeSchema(J,this.schema)}};function IY0(J){return new PY0(J)}function RY0(J={}){return P0({[v0]:J[v0]??"Unsafe"},J)}function TY0(J){return P0({[v0]:"Void",type:"void"},J)}var rC={};Dq(rC,{Any:()=>MX,Argument:()=>T60,Array:()=>Pq,AsyncIterator:()=>Cq,Awaited:()=>VH,BigInt:()=>_q,Boolean:()=>LC,Capitalize:()=>$J0,Composite:()=>A70,Const:()=>D70,Constructor:()=>Iq,ConstructorParameters:()=>Z70,Date:()=>_C,Enum:()=>O70,Exclude:()=>bq,Extends:()=>vq,Extract:()=>hq,Function:()=>qX,Index:()=>SH,InstanceType:()=>V90,Instantiate:()=>l90,Integer:()=>o90,Intersect:()=>v9,Iterator:()=>wq,KeyOf:()=>xq,Literal:()=>c5,Lowercase:()=>XJ0,Mapped:()=>k40,Module:()=>OY0,Never:()=>u5,Not:()=>KY0,Null:()=>wC,Number:()=>uJ,Object:()=>A2,Omit:()=>PH,Optional:()=>f9,Parameters:()=>zY0,Partial:()=>pq,Pick:()=>CH,Promise:()=>PC,Readonly:()=>y9,ReadonlyOptional:()=>cC,Record:()=>uC,Recursive:()=>SY0,Ref:()=>DX,RegExp:()=>VY0,Required:()=>nq,Rest:()=>EY0,ReturnType:()=>jY0,String:()=>bJ,Symbol:()=>kC,TemplateLiteral:()=>VC,Transform:()=>IY0,Tuple:()=>pW,Uint8Array:()=>gC,Uncapitalize:()=>MJ0,Undefined:()=>xC,Union:()=>j2,Unknown:()=>FH,Unsafe:()=>RY0,Uppercase:()=>GJ0,Void:()=>TY0});var d5=rC,aC=({name:J="jwt",secret:Y,schema:W,...Q})=>{if(!Y)throw new Error("Secret can't be empty");let X=typeof Y==="string"?new TextEncoder().encode(Y):Y,M=W?_5(d5.Intersect([W,d5.Object({iss:d5.Optional(d5.String()),sub:d5.Optional(d5.String()),aud:d5.Optional(d5.Union([d5.String(),d5.Array(d5.String())])),jti:d5.Optional(d5.String()),nbf:d5.Optional(d5.Number()),exp:d5.Optional(d5.Number()),iat:d5.Optional(d5.Number())})]),{modules:d5.Module({})}):void 0;return new a0({name:"@elysiajs/jwt",seed:{name:J,secret:Y,schema:W,...Q}}).decorate(J,{sign(G){let{nbf:H,exp:U,iat:B,...A}=G,N={alg:Q.alg??"HS256",b64:Q.b64,crit:Q.crit,cty:Q.cty,jku:Q.jku,jwk:Q.jwk,kid:Q.kid,typ:Q.typ??"JWT",x5c:Q.x5c,x5t:Q.x5t,x5u:Q.x5u},D={aud:A.aud??Q.aud,iss:A.iss??Q.iss,jti:A.jti??Q.jti,sub:A.sub??Q.sub,...A},q=new XH({...D}).setProtectedHeader({alg:N.alg,...N}),K="nbf"in G?H:Q.nbf;if(K!==void 0)q=q.setNotBefore(K);let O="exp"in G?U:Q.exp;if(O!==void 0)q=q.setExpirationTime(O);if(("iat"in G?B:Q.iat)!==!1)q=q.setIssuedAt(new Date);return q.sign(X)},async verify(G,H){if(!G)return!1;try{let U=(await(H?$H(G,X,H):$H(G,X))).payload;if(M&&!M.Check(U))throw new V1("JWT",M,U);return U}catch(U){return!1}}})};var lq;((sC)=>{let J={name:"jwt",secret:process.env.JWT_SECRET||"supersecret"};sC.authController=new a0({prefix:"/auth"}).use(aC(J)).post("/login",async({body:W,set:Q,jwt:X})=>{try{let{username:M,password:G}=W,H=await I4.login(M,G,X);return Q.status="OK",H}catch(M){return console.error(M),Q.status="Internal Server Error","Login failed"}},{body:Z.Object({username:Z.String(),password:Z.String()}),response:{200:Z.Object({access_token:Z.String(),refresh_token:Z.String(),user:Z.Object({id:Z.String(),username:Z.String(),role:Z.String(),firstname:Z.String(),lastname:Z.String(),email:Z.Optional(Z.String())})}),500:Z.String()},tags:["Authentication"]}).get("/me",async({jwt:W,set:Q,headers:X})=>{try{let M=X.authorization,G=X["x-refresh-token"];if(!M)return Q.status=401,{message:"Authorization header missing"};let H=M.split(" ")[1],U=await W.verify(H);if(!U||typeof U!=="object"){if(G){let A=await v8.verifyToken(G);if(A){let N={role:A.user.role,username:A.user.username,sub:A.user_id},D=await W.sign(N);return Q.status=200,Q.headers["x-user-role"]=A.user.role,Q.headers["x-username"]=A.user.username,{...A.user,access_token:D}}}return Q.status=401,{message:"Invalid token"}}let B=await I4.findById(U.sub);if(!B)return Q.status=401,{message:"User not found"};return Q.status=200,Q.headers["x-user-role"]=B.role,Q.headers["x-username"]=B.username,{id:B.id,username:B.username,role:B.role,firstname:B.firstname,lastname:B.lastname,email:B.email}}catch(M){return console.error(M),Q.status="Internal Server Error","Failed"}},{response:{200:Z.Object({id:Z.String(),username:Z.String(),role:Z.String(),firstname:Z.String(),lastname:Z.String(),email:Z.Optional(Z.String())}),401:Z.Object({message:Z.String()}),500:Z.String()},tags:["Authentication"],detail:{security:[{bearerAuth:[]}]}}).post("/logout",async({headers:W,set:Q})=>{try{let X=W["x-refresh-token"];if(!X)return Q.status=400,{message:"Refresh token missing"};return await v8.revokeToken(X),Q.status=200,{message:"Logged out successfully"}}catch(X){return console.error(X),Q.status="Internal Server Error",{message:"Failed to logout"}}},{response:{200:Z.Object({message:Z.String()}),400:Z.Object({message:Z.String()}),500:Z.Object({message:Z.String()})},tags:["Authentication"]})})(lq||={});var _Y0=Z.Object({id:Z.String(),token:Z.String(),user_id:Z.String(),expires_at:Z.Date(),created_at:Z.Date(),updated_at:Z.Date()}),tC=Z.Object({user_id:Z.String(),expires_in:Z.Optional(Z.Number())}),oq=Z.Object({token:Z.String()}),sj0=Z.Composite([_Y0,Z.Object({user:$9})]);var rq;((eC)=>eC.tokenController=new a0({prefix:"/tokens"}).post("/generate",async({body:Y,set:W})=>{try{let Q=await v8.generateToken(Y);return W.status=201,Q}catch(Q){return W.status="Bad Request",{error:Q.message}}},{body:tC,tags:["Token"]}).get("/verify/:token",async({params:Y,set:W})=>{try{let Q=await v8.verifyToken(Y);if(!Q)return W.status="Not Found",{error:"Token not found or expired"};return Q}catch(Q){return W.status="Bad Request",{error:Q.message}}},{params:oq}).get("/user/:userId",async({params:{userId:Y},set:W})=>{try{return await v8.getUserTokens(Y)}catch(Q){return W.status="Bad Request",{error:Q.message}}},{tags:["Token"]}).delete("/:token",async({params:Y,set:W})=>{try{return await v8.revokeToken(Y),W.status=204,null}catch(Q){return W.status="Bad Request",{error:Q.message}}},{params:oq}).delete("/user/:userId",async({params:{userId:Y},set:W})=>{try{return await v8.revokeAllUserTokens(Y),W.status=204,null}catch(Q){return W.status="Bad Request",{error:Q.message}}},{tags:["Token"]}).delete("/cleanup/expired",async({set:Y})=>{try{return await v8.cleanupExpiredTokens()}catch(W){return Y.status="Bad Request",{error:W.message}}},{tags:["Token"]}))(rq||={});var JI=new a0().group("/api/v1",(J)=>{return J.use(lq.authController),J.use(rq.tokenController),J.use(wA.userController),J.use(gA.departmentController),J.use(yA.teacherController),J.use(bA.gradeLevelController),J.use(bN.classroomController),J.use(mN.teamController),J.use(uN.productController),J.use(iN.orderController),J.use(oN.orderItemController),J});var YI=new a0().use(JI).use(rL({methods:["GET","POST","PUT","DELETE","PATCH"],origin:"*"})).use(oL({path:"/docs"})).use(aL).listen(process.env.PORT??3000);console.log(`\uD83E\uDD8A Elysia is running at http://${YI.server?.hostname}:${YI.server?.port}/docs`);
