import{createRequire as Uj}from"node:module";var Bj=Object.create;var{getPrototypeOf:wj,defineProperty:yQ,getOwnPropertyNames:qj}=Object;var Hj=Object.prototype.hasOwnProperty;var V9=($,W,J)=>{J=$!=null?Bj(wj($)):{};let X=W||!$||!$.__esModule?yQ(J,"default",{value:$,enumerable:!0}):J;for(let Q of qj($))if(!Hj.call(X,Q))yQ(X,Q,{get:()=>$[Q],enumerable:!0});return X};var e8=($,W)=>()=>(W||$((W={exports:{}}).exports,W),W.exports);var $6=($,W)=>{for(var J in W)yQ($,J,{get:W[J],enumerable:!0,configurable:!0,set:(X)=>W[J]=()=>X})};var Q1=($,W)=>()=>($&&(W=$($=0)),W);var cQ=Uj(import.meta.url);var R7=e8((t20,zH)=>{var HH=12,Qb=0,NY=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7];function Yb($){var W=$.indexOf("%");if(W===-1)return $;var J=$.length,X="",Q=0,Y=0,M=W,G=HH;while(W>-1&&W<J){var B=UH($[W+1],4),w=UH($[W+2],0),q=B|w,H=NY[q];if(G=NY[256+G+H],Y=Y<<6|q&NY[364+H],G===HH)X+=$.slice(Q,M),X+=Y<=65535?String.fromCharCode(Y):String.fromCharCode(55232+(Y>>10),56320+(Y&1023)),Y=0,Q=W+3,W=M=$.indexOf("%",Q);else if(G===Qb)return null;else{if(W+=3,W<J&&$.charCodeAt(W)===37)continue;return null}}return X+$.slice(Q)}var Mb={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};function UH($,W){var J=Mb[$];return J===void 0?255:J<<W}zH.exports=Yb});var aH=e8((rH)=>{Object.defineProperty(rH,"__esModule",{value:!0});rH.parse=JE;rH.serialize=XE;var rP=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,aP=/^[\u0021-\u003A\u003C-\u007E]*$/,tP=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,eP=/^[\u0020-\u003A\u003D-\u007E]*$/,$E=Object.prototype.toString,WE=(()=>{let $=function(){};return $.prototype=Object.create(null),$})();function JE($,W){let J=new WE,X=$.length;if(X<2)return J;let Q=W?.decode||QE,Y=0;do{let M=$.indexOf("=",Y);if(M===-1)break;let G=$.indexOf(";",Y),B=G===-1?X:G;if(M>B){Y=$.lastIndexOf(";",M-1)+1;continue}let w=oH($,Y,M),q=sH($,M,w),H=$.slice(w,q);if(J[H]===void 0){let z=oH($,M+1,B),U=sH($,B,z),N=Q($.slice(z,U));J[H]=N}Y=B+1}while(Y<X);return J}function oH($,W,J){do{let X=$.charCodeAt(W);if(X!==32&&X!==9)return W}while(++W<J);return J}function sH($,W,J){while(W>J){let X=$.charCodeAt(--W);if(X!==32&&X!==9)return W+1}return J}function XE($,W,J){let X=J?.encode||encodeURIComponent;if(!rP.test($))throw new TypeError(`argument name is invalid: ${$}`);let Q=X(W);if(!aP.test(Q))throw new TypeError(`argument val is invalid: ${W}`);let Y=$+"="+Q;if(!J)return Y;if(J.maxAge!==void 0){if(!Number.isInteger(J.maxAge))throw new TypeError(`option maxAge is invalid: ${J.maxAge}`);Y+="; Max-Age="+J.maxAge}if(J.domain){if(!tP.test(J.domain))throw new TypeError(`option domain is invalid: ${J.domain}`);Y+="; Domain="+J.domain}if(J.path){if(!eP.test(J.path))throw new TypeError(`option path is invalid: ${J.path}`);Y+="; Path="+J.path}if(J.expires){if(!YE(J.expires)||!Number.isFinite(J.expires.valueOf()))throw new TypeError(`option expires is invalid: ${J.expires}`);Y+="; Expires="+J.expires.toUTCString()}if(J.httpOnly)Y+="; HttpOnly";if(J.secure)Y+="; Secure";if(J.partitioned)Y+="; Partitioned";if(J.priority)switch(typeof J.priority==="string"?J.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${J.priority}`)}if(J.sameSite)switch(typeof J.sameSite==="string"?J.sameSite.toLowerCase():J.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${J.sameSite}`)}return Y}function QE($){if($.indexOf("%")===-1)return $;try{return decodeURIComponent($)}catch(W){return $}}function YE($){return $E.call($)==="[object Date]"}});var $1,s4;var v7=Q1(()=>{$1=class $1 extends Error{constructor(){super("End-Of-Stream");this.name="EndOfStreamError"}};s4=class s4 extends Error{constructor($="The operation was aborted"){super($);this.name="AbortError"}}});class RY{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise(($,W)=>{this.reject=W,this.resolve=$})}}class r4{constructor(){this.endOfStream=!1,this.interrupted=!1,this.peekQueue=[]}async peek($,W=!1){let J=await this.read($,W);return this.peekQueue.push($.subarray(0,J)),J}async read($,W=!1){if($.length===0)return 0;let J=this.readFromPeekBuffer($);if(!this.endOfStream)J+=await this.readRemainderFromStream($.subarray(J),W);if(J===0&&!W)throw new $1;return J}readFromPeekBuffer($){let W=$.length,J=0;while(this.peekQueue.length>0&&W>0){let X=this.peekQueue.pop();if(!X)throw new Error("peekData should be defined");let Q=Math.min(X.length,W);if($.set(X.subarray(0,Q),J),J+=Q,W-=Q,Q<X.length)this.peekQueue.push(X.subarray(Q))}return J}async readRemainderFromStream($,W){let J=0;while(J<$.length&&!this.endOfStream){if(this.interrupted)throw new s4;let X=await this.readFromStream($.subarray(J),W);if(X===0)break;J+=X}if(!W&&J<$.length)throw new $1;return J}}var iJ=Q1(()=>{v7()});var nJ;var JU=Q1(()=>{v7();iJ();nJ=class nJ extends r4{constructor($){super();if(this.s=$,this.deferred=null,!$.read||!$.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>{if(this.endOfStream=!0,this.deferred)this.deferred.resolve(0)}),this.s.once("error",(W)=>this.reject(W)),this.s.once("close",()=>this.abort())}async readFromStream($,W){if($.length===0)return 0;let J=this.s.read($.length);if(J)return $.set(J),J.length;let X={buffer:$,mayBeLess:W,deferred:new RY};return this.deferred=X.deferred,this.s.once("readable",()=>{this.readDeferred(X)}),X.deferred.promise}readDeferred($){let W=this.s.read($.buffer.length);if(W)$.buffer.set(W),$.deferred.resolve(W.length),this.deferred=null;else this.s.once("readable",()=>{this.readDeferred($)})}reject($){if(this.interrupted=!0,this.deferred)this.deferred.reject($),this.deferred=null}async abort(){this.reject(new s4)}async close(){return this.abort()}}});var IY;var XU=Q1(()=>{iJ();IY=class IY extends r4{constructor($){super();this.reader=$}async abort(){return this.close()}async close(){this.reader.releaseLock()}}});var oJ;var xY=Q1(()=>{XU();oJ=class oJ extends IY{async readFromStream($,W){if($.length===0)return 0;let J=await this.reader.read(new Uint8Array($.length),{min:W?void 0:$.length});if(J.done)this.endOfStream=J.done;if(J.value)return $.set(J.value),J.value.length;return 0}}});var d7;var kY=Q1(()=>{v7();iJ();d7=class d7 extends r4{constructor($){super();this.reader=$,this.buffer=null}writeChunk($,W){let J=Math.min(W.length,$.length);if($.set(W.subarray(0,J)),J<W.length)this.buffer=W.subarray(J);else this.buffer=null;return J}async readFromStream($,W){if($.length===0)return 0;let J=0;if(this.buffer)J+=this.writeChunk($,this.buffer);while(J<$.length&&!this.endOfStream){let X=await this.reader.read();if(X.done){this.endOfStream=!0;break}if(X.value)J+=this.writeChunk($.subarray(J),X.value)}if(!W&&J===0&&this.endOfStream)throw new $1;return J}abort(){return this.interrupted=!0,this.reader.cancel()}async close(){await this.abort(),this.reader.releaseLock()}}});function TY($){try{let W=$.getReader({mode:"byob"});if(W instanceof ReadableStreamDefaultReader)return new d7(W);return new oJ(W)}catch(W){if(W instanceof TypeError)return new d7($.getReader());throw W}}var QU=Q1(()=>{xY();kY()});var s6=Q1(()=>{v7();JU();xY();kY();QU()});class Z6{constructor($){if(this.numBuffer=new Uint8Array(8),this.position=0,this.onClose=$?.onClose,$?.abortSignal)$.abortSignal.addEventListener("abort",()=>{this.abort()})}async readToken($,W=this.position){let J=new Uint8Array($.len);if(await this.readBuffer(J,{position:W})<$.len)throw new $1;return $.get(J,0)}async peekToken($,W=this.position){let J=new Uint8Array($.len);if(await this.peekBuffer(J,{position:W})<$.len)throw new $1;return $.get(J,0)}async readNumber($){if(await this.readBuffer(this.numBuffer,{length:$.len})<$.len)throw new $1;return $.get(this.numBuffer,0)}async peekNumber($){if(await this.peekBuffer(this.numBuffer,{length:$.len})<$.len)throw new $1;return $.get(this.numBuffer,0)}async ignore($){if(this.fileInfo.size!==void 0){let W=this.fileInfo.size-this.position;if($>W)return this.position+=W,W}return this.position+=$,$}async close(){await this.abort(),await this.onClose?.()}normalizeOptions($,W){if(!this.supportsRandomAccess()&&W&&W.position!==void 0&&W.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return{...{mayBeLess:!1,offset:0,length:$.length,position:this.position},...W}}abort(){return Promise.resolve()}}var e9=Q1(()=>{s6()});var AE=256000,sJ;var YU=Q1(()=>{e9();s6();sJ=class sJ extends Z6{constructor($,W){super(W);this.streamReader=$,this.fileInfo=W?.fileInfo??{}}async readBuffer($,W){let J=this.normalizeOptions($,W),X=J.position-this.position;if(X>0)return await this.ignore(X),this.readBuffer($,W);if(X<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(J.length===0)return 0;let Q=await this.streamReader.read($.subarray(0,J.length),J.mayBeLess);if(this.position+=Q,(!W||!W.mayBeLess)&&Q<J.length)throw new $1;return Q}async peekBuffer($,W){let J=this.normalizeOptions($,W),X=0;if(J.position){let Q=J.position-this.position;if(Q>0){let Y=new Uint8Array(J.length+Q);return X=await this.peekBuffer(Y,{mayBeLess:J.mayBeLess}),$.set(Y.subarray(Q)),X-Q}if(Q<0)throw new Error("Cannot peek from a negative offset in a stream")}if(J.length>0){try{X=await this.streamReader.peek($.subarray(0,J.length),J.mayBeLess)}catch(Q){if(W?.mayBeLess&&Q instanceof $1)return 0;throw Q}if(!J.mayBeLess&&X<J.length)throw new $1}return X}async ignore($){let W=Math.min(AE,$),J=new Uint8Array(W),X=0;while(X<$){let Q=$-X,Y=await this.readBuffer(J,{length:Math.min(W,Q)});if(Y<0)return Y;X+=Y}return X}abort(){return this.streamReader.abort()}async close(){return this.streamReader.close()}supportsRandomAccess(){return!1}}});var gY;var MU=Q1(()=>{s6();e9();gY=class gY extends Z6{constructor($,W){super(W);this.uint8Array=$,this.fileInfo={...W?.fileInfo??{},...{size:$.length}}}async readBuffer($,W){if(W?.position)this.position=W.position;let J=await this.peekBuffer($,W);return this.position+=J,J}async peekBuffer($,W){let J=this.normalizeOptions($,W),X=Math.min(this.uint8Array.length-J.position,J.length);if(!J.mayBeLess&&X<J.length)throw new $1;return $.set(this.uint8Array.subarray(J.position,J.position+X)),X}close(){return super.close()}supportsRandomAccess(){return!0}setPosition($){this.position=$}}});var GU=Q1(()=>{s6();e9()});function BU($,W){let J=new nJ($),X=W??{},Q=X.onClose;return X.onClose=async()=>{if(await J.close(),Q)return Q()},new sJ(J,X)}function rJ($,W){let J=TY($),X=W??{},Q=X.onClose;return X.onClose=async()=>{if(await J.close(),Q)return Q()},new sJ(J,X)}function wU($,W){return new gY($,W)}var aJ=Q1(()=>{s6();YU();MU();GU();s6();e9()});import{open as DE}from"node:fs/promises";var y7;var fY=Q1(()=>{e9();s6();y7=class y7 extends Z6{static async fromFile($){let W=await DE($,"r"),J=await W.stat();return new y7(W,{fileInfo:{path:$,size:J.size}})}constructor($,W){super(W);this.fileHandle=$,this.fileInfo=W.fileInfo}async readBuffer($,W){let J=this.normalizeOptions($,W);if(this.position=J.position,J.length===0)return 0;let X=await this.fileHandle.read($,0,J.length,J.position);if(this.position+=X.bytesRead,X.bytesRead<J.length&&(!W||!W.mayBeLess))throw new $1;return X.bytesRead}async peekBuffer($,W){let J=this.normalizeOptions($,W),X=await this.fileHandle.read($,0,J.length,J.position);if(!J.mayBeLess&&X.bytesRead<J.length)throw new $1;return X.bytesRead}async close(){return await this.fileHandle.close(),super.close()}setPosition($){this.position=$}supportsRandomAccess(){return!0}}});import{stat as ZE}from"node:fs/promises";async function qU($,W){let J=BU($,W);if($.path){let X=await ZE($.path);J.fileInfo.path=$.path,J.fileInfo.size=X.size}return J}var HU;var UU=Q1(()=>{aJ();fY();fY();aJ();HU=y7.fromFile});var zU=Q1(()=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */});function AU($,W="utf-8"){switch(W.toLowerCase()){case"utf-8":case"utf8":if(typeof globalThis.TextDecoder!=="undefined")return new globalThis.TextDecoder("utf-8").decode($);return LE($);case"utf-16le":return _E($);case"ascii":return FE($);case"latin1":case"iso-8859-1":return KE($);case"windows-1252":return bE($);default:throw new RangeError(`Encoding '${W}' not supported`)}}function LE($){let W="",J=0;while(J<$.length){let X=$[J++];if(X<128)W+=String.fromCharCode(X);else if(X<224){let Q=$[J++]&63;W+=String.fromCharCode((X&31)<<6|Q)}else if(X<240){let Q=$[J++]&63,Y=$[J++]&63;W+=String.fromCharCode((X&15)<<12|Q<<6|Y)}else{let Q=$[J++]&63,Y=$[J++]&63,M=$[J++]&63,G=(X&7)<<18|Q<<12|Y<<6|M;G-=65536,W+=String.fromCharCode(55296+(G>>10&1023),56320+(G&1023))}}return W}function _E($){let W="";for(let J=0;J<$.length;J+=2)W+=String.fromCharCode($[J]|$[J+1]<<8);return W}function FE($){return String.fromCharCode(...$.map((W)=>W&127))}function KE($){return String.fromCharCode(...$)}function bE($){let W="";for(let J of $)if(J>=128&&J<=159&&vY[J])W+=vY[J];else W+=String.fromCharCode(J);return W}var vY,jE;var NU=Q1(()=>{vY={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},jE={};for(let[$,W]of Object.entries(vY))jE[W]=Number.parseInt($)});function i5($){return new DataView($.buffer,$.byteOffset)}class z2{constructor($,W){this.len=$,this.encoding=W}get($,W=0){let J=$.subarray(W,W+this.len);return AU(J,this.encoding)}}var DU,O1,$$,f1,ZU,OU,SU;var c7=Q1(()=>{zU();NU();DU={len:1,get($,W){return i5($).getUint8(W)},put($,W,J){return i5($).setUint8(W,J),W+1}},O1={len:2,get($,W){return i5($).getUint16(W,!0)},put($,W,J){return i5($).setUint16(W,J,!0),W+2}},$$={len:2,get($,W){return i5($).getUint16(W)},put($,W,J){return i5($).setUint16(W,J),W+2}},f1={len:4,get($,W){return i5($).getUint32(W,!0)},put($,W,J){return i5($).setUint32(W,J,!0),W+4}},ZU={len:4,get($,W){return i5($).getUint32(W)},put($,W,J){return i5($).setUint32(W,J),W+4}},OU={len:4,get($,W){return i5($).getInt32(W)},put($,W,J){return i5($).setInt32(W,J),W+4}},SU={len:8,get($,W){return i5($).getBigUint64(W,!0)},put($,W,J){return i5($).setBigUint64(W,J,!0),W+8}}});import{createRequire as VE}from"module";function uE($,W){return hY($,{i:2},W&&W.out,W&&W.dictionary)}function lE($,W){var J=cE($);if(J+8>$.length)A2(6,"invalid gzip data");return hY($.subarray(J,-8),{i:2},W&&W.out||new N2(hE($)),W&&W.dictionary)}function pE($,W){return hY($.subarray(mE($,W&&W.dictionary),-4),{i:2},W&&W.out,W&&W.dictionary)}function VU($,W){return $[0]==31&&$[1]==139&&$[2]==8?lE($,W):($[0]&15)!=8||$[0]>>4>7||($[0]<<8|$[1])%31?uE($,W):pE($,W)}var PE,EE,N2,W$,RE,jU,LU,IE,_U=function($,W){var J=new W$(31);for(var X=0;X<31;++X)J[X]=W+=1<<$[X-1];var Q=new RE(J[30]);for(var X=1;X<30;++X)for(var Y=J[X];Y<J[X+1];++Y)Q[Y]=Y-J[X]<<5|X;return{b:J,r:Q}},FU,KU,xE,bU,kE,v$0,cY,R8,b0,h7=function($,W,J){var X=$.length,Q=0,Y=new W$(W);for(;Q<X;++Q)if($[Q])++Y[$[Q]-1];var M=new W$(W);for(Q=1;Q<W;++Q)M[Q]=M[Q-1]+Y[Q-1]<<1;var G;if(J){G=new W$(1<<W);var B=15-W;for(Q=0;Q<X;++Q)if($[Q]){var w=Q<<4|$[Q],q=W-$[Q],H=M[$[Q]-1]++<<q;for(var z=H|(1<<q)-1;H<=z;++H)G[cY[H]>>B]=w}}else{G=new W$(X);for(Q=0;Q<X;++Q)if($[Q])G[Q]=cY[M[$[Q]-1]++]>>15-$[Q]}return G},m7,b0,b0,b0,b0,CU,b0,TE,gE,dY=function($){var W=$[0];for(var J=1;J<$.length;++J)if($[J]>W)W=$[J];return W},H8=function($,W,J){var X=W/8|0;return($[X]|$[X+1]<<8)>>(W&7)&J},yY=function($,W){var J=W/8|0;return($[J]|$[J+1]<<8|$[J+2]<<16)>>(W&7)},fE=function($){return($+7)/8|0},vE=function($,W,J){if(W==null||W<0)W=0;if(J==null||J>$.length)J=$.length;return new N2($.subarray(W,J))},dE,A2=function($,W,J){var X=new Error(W||dE[$]);if(X.code=$,Error.captureStackTrace)Error.captureStackTrace(X,A2);if(!J)throw X;return X},hY=function($,W,J,X){var Q=$.length,Y=X?X.length:0;if(!Q||W.f&&!W.l)return J||new N2(0);var M=!J,G=M||W.i!=2,B=W.i;if(M)J=new N2(Q*3);var w=function(Z){var V=J.length;if(Z>V){var S=new N2(Math.max(V*2,Z));S.set(J),J=S}},q=W.f||0,H=W.p||0,z=W.b||0,U=W.l,N=W.d,D=W.m,j=W.n,K=Q*8;do{if(!U){q=H8($,H,1);var O=H8($,H+1,3);if(H+=3,!O){var E=fE(H)+4,m=$[E-4]|$[E-3]<<8,e=E+m;if(e>Q){if(B)A2(0);break}if(G)w(z+m);J.set($.subarray(E,e),z),W.b=z+=m,W.p=H=e*8,W.f=q;continue}else if(O==1)U=TE,N=gE,D=9,j=5;else if(O==2){var T=H8($,H,31)+257,b=H8($,H+10,15)+4,x=T+H8($,H+5,31)+1;H+=14;var k=new N2(x),P=new N2(19);for(var C=0;C<b;++C)P[IE[C]]=H8($,H+C*3,7);H+=b*3;var d=dY(P),u=(1<<d)-1,$0=h7(P,d,1);for(var C=0;C<x;){var Q0=$0[H8($,H,u)];H+=Q0&15;var E=Q0>>4;if(E<16)k[C++]=E;else{var t=0,d5=0;if(E==16)d5=3+H8($,H,3),H+=2,t=k[C-1];else if(E==17)d5=3+H8($,H,7),H+=3;else if(E==18)d5=11+H8($,H,127),H+=7;while(d5--)k[C++]=t}}var f6=k.subarray(0,T),J2=k.subarray(T);D=dY(f6),j=dY(J2),U=h7(f6,D,1),N=h7(J2,j,1)}else A2(1);if(H>K){if(B)A2(0);break}}if(G)w(z+131072);var l2=(1<<D)-1,_1=(1<<j)-1,B1=H;for(;;B1=H){var t=U[yY($,H)&l2],G5=t>>4;if(H+=t&15,H>K){if(B)A2(0);break}if(!t)A2(2);if(G5<256)J[z++]=G5;else if(G5==256){B1=H,U=null;break}else{var p2=G5-254;if(G5>264){var C=G5-257,E5=jU[C];p2=H8($,H,(1<<E5)-1)+KU[C],H+=E5}var L2=N[yY($,H)&_1],v6=L2>>4;if(!L2)A2(3);H+=L2&15;var J2=kE[v6];if(v6>3){var E5=LU[v6];J2+=yY($,H)&(1<<E5)-1,H+=E5}if(H>K){if(B)A2(0);break}if(G)w(z+131072);var i2=z+p2;if(z<J2){var o=Y-J2,p=Math.min(J2,i2);if(o+z<0)A2(3);for(;z<p;++z)J[z]=X[o+z]}for(;z<i2;++z)J[z]=J[z-J2]}}if(W.l=U,W.p=B1,W.b=z,W.f=q,U)q=1,W.m=D,W.d=N,W.n=j}while(!q);return z!=J.length&&M?vE(J,0,z):J.subarray(0,z)},yE,cE=function($){if($[0]!=31||$[1]!=139||$[2]!=8)A2(6,"invalid gzip data");var W=$[3],J=10;if(W&4)J+=($[10]|$[11]<<8)+2;for(var X=(W>>3&1)+(W>>4&1);X>0;X-=!$[J++]);return J+(W&2)},hE=function($){var W=$.length;return($[W-4]|$[W-3]<<8|$[W-2]<<16|$[W-1]<<24)>>>0},mE=function($,W){if(($[0]&15)!=8||$[0]>>4>7||($[0]<<8|$[1])%31)A2(6,"invalid zlib data");if(($[1]>>5&1)==+!W)A2(6,"invalid zlib data: "+($[1]&32?"need":"unexpected")+" dictionary");return($[1]>>3&4)+2},iE,nE=0;var PU=Q1(()=>{PE=VE("/");try{EE=PE("worker_threads").Worker}catch($){}N2=Uint8Array,W$=Uint16Array,RE=Int32Array,jU=new N2([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),LU=new N2([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),IE=new N2([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),FU=_U(jU,2),KU=FU.b,xE=FU.r;KU[28]=258,xE[258]=28;bU=_U(LU,0),kE=bU.b,v$0=bU.r,cY=new W$(32768);for(b0=0;b0<32768;++b0)R8=(b0&43690)>>1|(b0&21845)<<1,R8=(R8&52428)>>2|(R8&13107)<<2,R8=(R8&61680)>>4|(R8&3855)<<4,cY[b0]=((R8&65280)>>8|(R8&255)<<8)>>1;m7=new N2(288);for(b0=0;b0<144;++b0)m7[b0]=8;for(b0=144;b0<256;++b0)m7[b0]=9;for(b0=256;b0<280;++b0)m7[b0]=7;for(b0=280;b0<288;++b0)m7[b0]=8;CU=new N2(32);for(b0=0;b0<32;++b0)CU[b0]=5;TE=h7(m7,9,1),gE=h7(CU,5,1),dE=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],yE=new N2(0);iE=typeof TextDecoder!="undefined"&&new TextDecoder;try{iE.decode(yE,{stream:!0}),nE=1}catch($){}});var RU=e8((y$0,EU)=>{var J$=1000,X$=J$*60,Q$=X$*60,a4=Q$*24,oE=a4*7,sE=a4*365.25;EU.exports=function($,W){W=W||{};var J=typeof $;if(J==="string"&&$.length>0)return rE($);else if(J==="number"&&isFinite($))return W.long?tE($):aE($);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify($))};function rE($){if($=String($),$.length>100)return;var W=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec($);if(!W)return;var J=parseFloat(W[1]),X=(W[2]||"ms").toLowerCase();switch(X){case"years":case"year":case"yrs":case"yr":case"y":return J*sE;case"weeks":case"week":case"w":return J*oE;case"days":case"day":case"d":return J*a4;case"hours":case"hour":case"hrs":case"hr":case"h":return J*Q$;case"minutes":case"minute":case"mins":case"min":case"m":return J*X$;case"seconds":case"second":case"secs":case"sec":case"s":return J*J$;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return J;default:return}}function aE($){var W=Math.abs($);if(W>=a4)return Math.round($/a4)+"d";if(W>=Q$)return Math.round($/Q$)+"h";if(W>=X$)return Math.round($/X$)+"m";if(W>=J$)return Math.round($/J$)+"s";return $+"ms"}function tE($){var W=Math.abs($);if(W>=a4)return tJ($,W,a4,"day");if(W>=Q$)return tJ($,W,Q$,"hour");if(W>=X$)return tJ($,W,X$,"minute");if(W>=J$)return tJ($,W,J$,"second");return $+" ms"}function tJ($,W,J,X){var Q=W>=J*1.5;return Math.round($/J)+" "+X+(Q?"s":"")}});var mY=e8((c$0,IU)=>{function eE($){J.debug=J,J.default=J,J.coerce=B,J.disable=M,J.enable=Q,J.enabled=G,J.humanize=RU(),J.destroy=w,Object.keys($).forEach((q)=>{J[q]=$[q]}),J.names=[],J.skips=[],J.formatters={};function W(q){let H=0;for(let z=0;z<q.length;z++)H=(H<<5)-H+q.charCodeAt(z),H|=0;return J.colors[Math.abs(H)%J.colors.length]}J.selectColor=W;function J(q){let H,z=null,U,N;function D(...j){if(!D.enabled)return;let K=D,O=Number(new Date),E=O-(H||O);if(K.diff=E,K.prev=H,K.curr=O,H=O,j[0]=J.coerce(j[0]),typeof j[0]!=="string")j.unshift("%O");let m=0;j[0]=j[0].replace(/%([a-zA-Z%])/g,(T,b)=>{if(T==="%%")return"%";m++;let x=J.formatters[b];if(typeof x==="function"){let k=j[m];T=x.call(K,k),j.splice(m,1),m--}return T}),J.formatArgs.call(K,j),(K.log||J.log).apply(K,j)}if(D.namespace=q,D.useColors=J.useColors(),D.color=J.selectColor(q),D.extend=X,D.destroy=J.destroy,Object.defineProperty(D,"enabled",{enumerable:!0,configurable:!1,get:()=>{if(z!==null)return z;if(U!==J.namespaces)U=J.namespaces,N=J.enabled(q);return N},set:(j)=>{z=j}}),typeof J.init==="function")J.init(D);return D}function X(q,H){let z=J(this.namespace+(typeof H==="undefined"?":":H)+q);return z.log=this.log,z}function Q(q){J.save(q),J.namespaces=q,J.names=[],J.skips=[];let H=(typeof q==="string"?q:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let z of H)if(z[0]==="-")J.skips.push(z.slice(1));else J.names.push(z)}function Y(q,H){let z=0,U=0,N=-1,D=0;while(z<q.length)if(U<H.length&&(H[U]===q[z]||H[U]==="*"))if(H[U]==="*")N=U,D=z,U++;else z++,U++;else if(N!==-1)U=N+1,D++,z=D;else return!1;while(U<H.length&&H[U]==="*")U++;return U===H.length}function M(){let q=[...J.names,...J.skips.map((H)=>"-"+H)].join(",");return J.enable(""),q}function G(q){for(let H of J.skips)if(Y(q,H))return!1;for(let H of J.names)if(Y(q,H))return!0;return!1}function B(q){if(q instanceof Error)return q.stack||q.message;return q}function w(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return J.enable(J.load()),J}IU.exports=eE});var kU=e8((xU,eJ)=>{xU.formatArgs=WR;xU.save=JR;xU.load=XR;xU.useColors=$R;xU.storage=QR();xU.destroy=(()=>{let $=!1;return()=>{if(!$)$=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}})();xU.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function $R(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let $;return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&($=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt($[1],10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function WR($){if($[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+$[0]+(this.useColors?"%c ":" ")+"+"+eJ.exports.humanize(this.diff),!this.useColors)return;let W="color: "+this.color;$.splice(1,0,W,"color: inherit");let J=0,X=0;$[0].replace(/%[a-zA-Z%]/g,(Q)=>{if(Q==="%%")return;if(J++,Q==="%c")X=J}),$.splice(X,0,W)}xU.log=console.debug||console.log||(()=>{});function JR($){try{if($)xU.storage.setItem("debug",$);else xU.storage.removeItem("debug")}catch(W){}}function XR(){let $;try{$=xU.storage.getItem("debug")||xU.storage.getItem("DEBUG")}catch(W){}if(!$&&typeof process!=="undefined"&&"env"in process)$=process.env.DEBUG;return $}function QR(){try{return localStorage}catch($){}}eJ.exports=mY()(xU);var{formatters:YR}=eJ.exports;YR.j=function($){try{return JSON.stringify($)}catch(W){return"[UnexpectedJSONParseError]: "+W.message}}});var gU=e8((m$0,TU)=>{TU.exports=($,W)=>{W=W||process.argv;let J=$.startsWith("-")?"":$.length===1?"-":"--",X=W.indexOf(J+$),Q=W.indexOf("--");return X!==-1&&(Q===-1?!0:X<Q)}});var vU=e8((u$0,fU)=>{var zR=cQ("os"),U8=gU(),F5=process.env,Y$;if(U8("no-color")||U8("no-colors")||U8("color=false"))Y$=!1;else if(U8("color")||U8("colors")||U8("color=true")||U8("color=always"))Y$=!0;if("FORCE_COLOR"in F5)Y$=F5.FORCE_COLOR.length===0||parseInt(F5.FORCE_COLOR,10)!==0;function AR($){if($===0)return!1;return{level:$,hasBasic:!0,has256:$>=2,has16m:$>=3}}function NR($){if(Y$===!1)return 0;if(U8("color=16m")||U8("color=full")||U8("color=truecolor"))return 3;if(U8("color=256"))return 2;if($&&!$.isTTY&&Y$!==!0)return 0;let W=Y$?1:0;if(process.platform==="win32"){let J=zR.release().split(".");if(Number(process.versions.node.split(".")[0])>=8&&Number(J[0])>=10&&Number(J[2])>=10586)return Number(J[2])>=14931?3:2;return 1}if("CI"in F5){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((J)=>(J in F5))||F5.CI_NAME==="codeship")return 1;return W}if("TEAMCITY_VERSION"in F5)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(F5.TEAMCITY_VERSION)?1:0;if(F5.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in F5){let J=parseInt((F5.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(F5.TERM_PROGRAM){case"iTerm.app":return J>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(F5.TERM))return 2;if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(F5.TERM))return 1;if("COLORTERM"in F5)return 1;if(F5.TERM==="dumb")return W;return W}function uY($){let W=NR($);return AR(W)}fU.exports={supportsColor:uY,stdout:uY(process.stdout),stderr:uY(process.stderr)}});var hU=e8((yU,WX)=>{var DR=cQ("tty"),$X=cQ("util");yU.init=FR;yU.log=jR;yU.formatArgs=OR;yU.save=LR;yU.load=_R;yU.useColors=ZR;yU.destroy=$X.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");yU.colors=[6,2,3,4,5,1];try{let $=vU();if($&&($.stderr||$).level>=2)yU.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}catch($){}yU.inspectOpts=Object.keys(process.env).filter(($)=>{return/^debug_/i.test($)}).reduce(($,W)=>{let J=W.substring(6).toLowerCase().replace(/_([a-z])/g,(Q,Y)=>{return Y.toUpperCase()}),X=process.env[W];if(/^(yes|on|true|enabled)$/i.test(X))X=!0;else if(/^(no|off|false|disabled)$/i.test(X))X=!1;else if(X==="null")X=null;else X=Number(X);return $[J]=X,$},{});function ZR(){return"colors"in yU.inspectOpts?Boolean(yU.inspectOpts.colors):DR.isatty(process.stderr.fd)}function OR($){let{namespace:W,useColors:J}=this;if(J){let X=this.color,Q="\x1B[3"+(X<8?X:"8;5;"+X),Y=`  ${Q};1m${W} \x1B[0m`;$[0]=Y+$[0].split(`
`).join(`
`+Y),$.push(Q+"m+"+WX.exports.humanize(this.diff)+"\x1B[0m")}else $[0]=SR()+W+" "+$[0]}function SR(){if(yU.inspectOpts.hideDate)return"";return new Date().toISOString()+" "}function jR(...$){return process.stderr.write($X.formatWithOptions(yU.inspectOpts,...$)+`
`)}function LR($){if($)process.env.DEBUG=$;else delete process.env.DEBUG}function _R(){return process.env.DEBUG}function FR($){$.inspectOpts={};let W=Object.keys(yU.inspectOpts);for(let J=0;J<W.length;J++)$.inspectOpts[W[J]]=yU.inspectOpts[W[J]]}WX.exports=mY()(yU);var{formatters:dU}=WX.exports;dU.o=function($){return this.inspectOpts.colors=this.useColors,$X.inspect($,this.inspectOpts).split(`
`).map((W)=>W.trim()).join(" ")};dU.O=function($){return this.inspectOpts.colors=this.useColors,$X.inspect($,this.inspectOpts)}});var mU=e8((p$0,lY)=>{if(typeof process==="undefined"||process.type==="renderer"||!1||process.__nwjs)lY.exports=kU();else lY.exports=hU()});var e4,pY,uU,lU,pU;var iU=Q1(()=>{c7();e4={LocalFileHeader:67324752,DataDescriptor:134695760,CentralFileHeader:33639248,EndOfCentralDirectory:101010256},pY={get($){let W=O1.get($,6);return{signature:f1.get($,0),compressedSize:f1.get($,8),uncompressedSize:f1.get($,12)}},len:16},uU={get($){let W=O1.get($,6);return{signature:f1.get($,0),minVersion:O1.get($,4),dataDescriptor:!!(W&8),compressedMethod:O1.get($,8),compressedSize:f1.get($,18),uncompressedSize:f1.get($,22),filenameLength:O1.get($,26),extraFieldLength:O1.get($,28),filename:null}},len:30},lU={get($){return{signature:f1.get($,0),nrOfThisDisk:O1.get($,4),nrOfThisDiskWithTheStart:O1.get($,6),nrOfEntriesOnThisDisk:O1.get($,8),nrOfEntriesOfSize:O1.get($,10),sizeOfCd:f1.get($,12),offsetOfStartOfCd:f1.get($,16),zipFileCommentLength:O1.get($,20)}},len:22},pU={get($){let W=O1.get($,8);return{signature:f1.get($,0),minVersion:O1.get($,6),dataDescriptor:!!(W&8),compressedMethod:O1.get($,10),compressedSize:f1.get($,20),uncompressedSize:f1.get($,24),filenameLength:O1.get($,28),extraFieldLength:O1.get($,30),fileCommentLength:O1.get($,32),relativeOffsetOfLocalHeader:f1.get($,42),filename:null}},len:46}});function oU($){let W=new Uint8Array(f1.len);return f1.put(W,0,$),W}class nY{constructor($){this.tokenizer=$,this.syncBuffer=new Uint8Array(iY)}async isZip(){return await this.peekSignature()===e4.LocalFileHeader}peekSignature(){return this.tokenizer.peekToken(f1)}async findEndOfCentralDirectoryLocator(){let $=this.tokenizer,W=Math.min(16384,$.fileInfo.size),J=this.syncBuffer.subarray(0,W);await this.tokenizer.readBuffer(J,{position:$.fileInfo.size-W});for(let X=J.length-4;X>=0;X--)if(J[X]===JX[0]&&J[X+1]===JX[1]&&J[X+2]===JX[2]&&J[X+3]===JX[3])return $.fileInfo.size-W+X;return-1}async readCentralDirectory(){if(!this.tokenizer.supportsRandomAccess()){I8("Cannot reading central-directory without random-read support");return}I8("Reading central-directory...");let $=this.tokenizer.position,W=await this.findEndOfCentralDirectoryLocator();if(W>0){I8("Central-directory 32-bit signature found");let J=await this.tokenizer.readToken(lU,W),X=[];this.tokenizer.setPosition(J.offsetOfStartOfCd);for(let Q=0;Q<J.nrOfEntriesOfSize;++Q){let Y=await this.tokenizer.readToken(pU);if(Y.signature!==e4.CentralFileHeader)throw new Error("Expected Central-File-Header signature");Y.filename=await this.tokenizer.readToken(new z2(Y.filenameLength,"utf-8")),await this.tokenizer.ignore(Y.extraFieldLength),await this.tokenizer.ignore(Y.fileCommentLength),X.push(Y),I8(`Add central-directory file-entry: n=${Q+1}/${X.length}: filename=${X[Q].filename}`)}return this.tokenizer.setPosition($),X}this.tokenizer.setPosition($)}async unzip($){let W=await this.readCentralDirectory();if(W)return this.iterateOverCentralDirectory(W,$);let J=!1;do{let X=await this.readLocalFileHeader();if(!X)break;let Q=$(X);J=!!Q.stop;let Y=void 0;if(await this.tokenizer.ignore(X.extraFieldLength),X.dataDescriptor&&X.compressedSize===0){let M=[],G=iY;I8("Compressed-file-size unknown, scanning for next data-descriptor-signature....");let B=-1;while(B<0&&G===iY){G=await this.tokenizer.peekBuffer(this.syncBuffer,{mayBeLess:!0}),B=xR(this.syncBuffer.subarray(0,G),IR);let w=B>=0?B:G;if(Q.handler){let q=new Uint8Array(w);await this.tokenizer.readBuffer(q),M.push(q)}else await this.tokenizer.ignore(w)}if(I8(`Found data-descriptor-signature at pos=${this.tokenizer.position}`),Q.handler)await this.inflate(X,kR(M),Q.handler)}else if(Q.handler)I8(`Reading compressed-file-data: ${X.compressedSize} bytes`),Y=new Uint8Array(X.compressedSize),await this.tokenizer.readBuffer(Y),await this.inflate(X,Y,Q.handler);else I8(`Ignoring compressed-file-data: ${X.compressedSize} bytes`),await this.tokenizer.ignore(X.compressedSize);if(I8(`Reading data-descriptor at pos=${this.tokenizer.position}`),X.dataDescriptor){if((await this.tokenizer.readToken(pY)).signature!==134695760)throw new Error(`Expected data-descriptor-signature at position ${this.tokenizer.position-pY.len}`)}}while(!J)}async iterateOverCentralDirectory($,W){for(let J of $){let X=W(J);if(X.handler){this.tokenizer.setPosition(J.relativeOffsetOfLocalHeader);let Q=await this.readLocalFileHeader();if(Q){await this.tokenizer.ignore(Q.extraFieldLength);let Y=new Uint8Array(J.compressedSize);await this.tokenizer.readBuffer(Y),await this.inflate(Q,Y,X.handler)}}if(X.stop)break}}inflate($,W,J){if($.compressedMethod===0)return J(W);I8(`Decompress filename=${$.filename}, compressed-size=${W.length}`);let X=VU(W);return J(X)}async readLocalFileHeader(){let $=await this.tokenizer.peekToken(f1);if($===e4.LocalFileHeader){let W=await this.tokenizer.readToken(uU);return W.filename=await this.tokenizer.readToken(new z2(W.filenameLength,"utf-8")),W}if($===e4.CentralFileHeader)return!1;if($===3759263696)throw new Error("Encrypted ZIP");throw new Error("Unexpected signature")}}function xR($,W){let J=$.length,X=W.length;if(X>J)return-1;for(let Q=0;Q<=J-X;Q++){let Y=!0;for(let M=0;M<X;M++)if($[Q+M]!==W[M]){Y=!1;break}if(Y)return Q}return-1}function kR($){let W=$.reduce((Q,Y)=>Q+Y.length,0),J=new Uint8Array(W),X=0;for(let Q of $)J.set(Q,X),X+=Q.length;return J}var nU,I8,iY=262144,IR,JX;var sU=Q1(()=>{c7();PU();nU=V9(mU(),1);iU();I8=nU.default("tokenizer:inflate"),IR=oU(e4.DataDescriptor),JX=oU(e4.EndOfCentralDirectory)});function oY($){let{byteLength:W}=$;if(W===6)return $.getUint16(0)*4294967296+$.getUint32(2);if(W===5)return $.getUint8(0)*4294967296+$.getUint32(1);if(W===4)return $.getUint32(0);if(W===3)return $.getUint8(0)*65536+$.getUint16(1);if(W===2)return $.getUint16(0);if(W===1)return $.getUint8(0)}var t$0,e$0,$70;var rU=Q1(()=>{t$0={utf8:new globalThis.TextDecoder("utf8")},e$0=new globalThis.TextEncoder,$70=Array.from({length:256},($,W)=>W.toString(16).padStart(2,"0"))});function aU($){return[...$].map((W)=>W.charCodeAt(0))}function tU($,W=0){let J=Number.parseInt(new z2(6).get($,148).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(J))return!1;let X=256;for(let Q=W;Q<W+148;Q++)X+=$[Q];for(let Q=W+156;Q<W+512;Q++)X+=$[Q];return J===X}var eU;var $z=Q1(()=>{c7();eU={get:($,W)=>$[W+3]&127|$[W+2]<<7|$[W+1]<<14|$[W]<<21,len:4}});var Wz,Jz;var Xz=Q1(()=>{Wz=["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","elf","macho","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ttc","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","j2c","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf","jls","pst","dwg","parquet","class","arj","cpio","ace","avro","icc","fbx","vsdx","vtt","apk","drc","lz4","potx","xltx","dotx","xltm","ott","ots","otp","odg","otg","xlsm","docm","dotm","potm","pptm","jar","rm","ppsm","ppsx"],Jz=["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/vnd.apache.arrow.file","video/mp4","audio/midi","video/matroska","video/webm","video/quicktime","video/vnd.avi","audio/wav","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","video/ogg","audio/ogg","audio/ogg; codecs=opus","application/ogg","audio/flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-elf","application/x-mach-binary","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","font/collection","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/j2c","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","text/vtt","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd","image/jls","application/vnd.ms-outlook","image/vnd.dwg","application/vnd.apache.parquet","application/java-vm","application/x-arj","application/x-cpio","application/x-ace-compressed","application/avro","application/vnd.iccprofile","application/x.autodesk.fbx","application/vnd.visio","application/vnd.android.package-archive","application/vnd.google.draco","application/x-lz4","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-excel.template.macroenabled.12","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.presentation-template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.graphics-template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/java-archive","application/vnd.rn-realmedia"]});async function Qz($,W){return new M$(W).fromBuffer($)}async function Yz($,W){return new M$(W).fromBlob($)}function sY($){switch($=$.toLowerCase(),$){case"application/epub+zip":return{ext:"epub",mime:$};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:$};case"application/vnd.oasis.opendocument.text-template":return{ext:"ott",mime:$};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:$};case"application/vnd.oasis.opendocument.spreadsheet-template":return{ext:"ots",mime:$};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:$};case"application/vnd.oasis.opendocument.presentation-template":return{ext:"otp",mime:$};case"application/vnd.oasis.opendocument.graphics":return{ext:"odg",mime:$};case"application/vnd.oasis.opendocument.graphics-template":return{ext:"otg",mime:$};case"application/vnd.openxmlformats-officedocument.presentationml.slideshow":return{ext:"ppsx",mime:$};case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return{ext:"xlsx",mime:$};case"application/vnd.ms-excel.sheet.macroenabled":return{ext:"xlsm",mime:"application/vnd.ms-excel.sheet.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.spreadsheetml.template":return{ext:"xltx",mime:$};case"application/vnd.ms-excel.template.macroenabled":return{ext:"xltm",mime:"application/vnd.ms-excel.template.macroenabled.12"};case"application/vnd.ms-powerpoint.slideshow.macroenabled":return{ext:"ppsm",mime:"application/vnd.ms-powerpoint.slideshow.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return{ext:"docx",mime:$};case"application/vnd.ms-word.document.macroenabled":return{ext:"docm",mime:"application/vnd.ms-word.document.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.wordprocessingml.template":return{ext:"dotx",mime:$};case"application/vnd.ms-word.template.macroenabledtemplate":return{ext:"dotm",mime:"application/vnd.ms-word.template.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.presentationml.template":return{ext:"potx",mime:$};case"application/vnd.ms-powerpoint.template.macroenabled":return{ext:"potm",mime:"application/vnd.ms-powerpoint.template.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return{ext:"pptx",mime:$};case"application/vnd.ms-powerpoint.presentation.macroenabled":return{ext:"pptm",mime:"application/vnd.ms-powerpoint.presentation.macroenabled.12"};case"application/vnd.ms-visio.drawing":return{ext:"vsdx",mime:"application/vnd.visio"};case"application/vnd.ms-package.3dmanufacturing-3dmodel+xml":return{ext:"3mf",mime:"model/3mf"};default:}}function x8($,W,J){J={offset:0,...J};for(let[X,Q]of W.entries())if(J.mask){if(Q!==(J.mask[X]&$[X+J.offset]))return!1}else if(Q!==$[X+J.offset])return!1;return!0}async function Mz($,W){return new M$(W).fromTokenizer($)}class M${constructor($){this.options={mpegOffsetTolerance:0,...$},this.detectors=[...$?.customDetectors??[],{id:"core",detect:this.detectConfident},{id:"core.imprecise",detect:this.detectImprecise}],this.tokenizerOptions={abortSignal:$?.signal}}async fromTokenizer($){let W=$.position;for(let J of this.detectors){let X=await J.detect($);if(X)return X;if(W!==$.position)return}}async fromBuffer($){if(!($ instanceof Uint8Array||$ instanceof ArrayBuffer))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof $}\``);let W=$ instanceof Uint8Array?$:new Uint8Array($);if(!(W?.length>1))return;return this.fromTokenizer(wU(W,this.tokenizerOptions))}async fromBlob($){return this.fromStream($.stream())}async fromStream($){let W=await rJ($,this.tokenizerOptions);try{return await this.fromTokenizer(W)}finally{await W.close()}}async toDetectionStream($,W){let{sampleSize:J=l7}=W,X,Q,Y=$.getReader({mode:"byob"});try{let{value:B,done:w}=await Y.read(new Uint8Array(J));if(Q=B,!w&&B)try{X=await this.fromBuffer(B.subarray(0,J))}catch(q){if(!(q instanceof $1))throw q;X=void 0}Q=B}finally{Y.releaseLock()}let M=new TransformStream({async start(B){B.enqueue(Q)},transform(B,w){w.enqueue(B)}}),G=$.pipeThrough(M);return G.fileType=X,G}check($,W){return x8(this.buffer,$,W)}checkString($,W){return this.check(aU($),W)}detectConfident=async($)=>{if(this.buffer=new Uint8Array(l7),$.fileInfo.size===void 0)$.fileInfo.size=Number.MAX_SAFE_INTEGER;if(this.tokenizer=$,await $.peekBuffer(this.buffer,{length:12,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33])){if(await $.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14}))return{ext:"eps",mime:"application/eps"};return{ext:"ps",mime:"application/postscript"}}if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([199,113]))return{ext:"cpio",mime:"application/x-cpio"};if(this.check([96,234]))return{ext:"arj",mime:"application/x-arj"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.detectConfident($);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await $.ignore(6);let W=await $.readToken(eU);if($.position+W>$.fileInfo.size)return{ext:"mp3",mime:"audio/mpeg"};return await $.ignore(W),this.fromTokenizer($)}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((this.buffer[0]===67||this.buffer[0]===70)&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.check([255,216,255])){if(this.check([247],{offset:3}))return{ext:"jls",mime:"image/jls"};return{ext:"jpg",mime:"image/jpeg"}}if(this.check([79,98,106,1]))return{ext:"avro",mime:"application/avro"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){let W;return await new nY($).unzip((J)=>{switch(J.filename){case"META-INF/mozilla.rsa":return W={ext:"xpi",mime:"application/x-xpinstall"},{stop:!0};case"META-INF/MANIFEST.MF":return W={ext:"jar",mime:"application/java-archive"},{stop:!0};case"mimetype":return{async handler(X){let Q=new TextDecoder("utf-8").decode(X).trim();W=sY(Q)},stop:!0};case"[Content_Types].xml":return{async handler(X){let Q=new TextDecoder("utf-8").decode(X),Y=Q.indexOf('.main+xml"');if(Y===-1){if(Q.includes('ContentType="application/vnd.ms-package.3dmanufacturing-3dmodel+xml"'))W=sY("application/vnd.ms-package.3dmanufacturing-3dmodel+xml")}else{Q=Q.slice(0,Math.max(0,Y));let M=Q.lastIndexOf('"'),G=Q.slice(Math.max(0,M+1));W=sY(G)}},stop:!0};default:if(/classes\d*\.dex/.test(J.filename))return W={ext:"apk",mime:"application/vnd.android.package-archive"},{stop:!0};return{}}}),W??{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await $.ignore(28);let W=new Uint8Array(8);if(await $.readBuffer(W),x8(W,[79,112,117,115,72,101,97,100]))return{ext:"opus",mime:"audio/ogg; codecs=opus"};if(x8(W,[128,116,104,101,111,114,97]))return{ext:"ogv",mime:"video/ogg"};if(x8(W,[1,118,105,100,101,111,0]))return{ext:"ogm",mime:"video/ogg"};if(x8(W,[127,70,76,65,67]))return{ext:"oga",mime:"audio/ogg"};if(x8(W,[83,112,101,101,120,32,32]))return{ext:"spx",mime:"audio/ogg"};if(x8(W,[1,118,111,114,98,105,115]))return{ext:"ogg",mime:"audio/ogg"};return{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(this.buffer[2]===3||this.buffer[2]===5||this.buffer[2]===7)&&(this.buffer[3]===4||this.buffer[3]===6||this.buffer[3]===8))return{ext:"zip",mime:"application/zip"};if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF"))return{ext:"pdf",mime:"application/pdf"};if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){let W=await this.readTiffHeader(!1);if(W)return W}if(this.check([77,77])){let W=await this.readTiffHeader(!0);if(W)return W}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function W(){let M=await $.peekNumber(DU),G=128,B=0;while((M&G)===0&&G!==0)++B,G>>=1;let w=new Uint8Array(B+1);return await $.readBuffer(w),w}async function J(){let M=await W(),G=await W();G[0]^=128>>G.length-1;let B=Math.min(6,G.length),w=new DataView(M.buffer),q=new DataView(G.buffer,G.length-B,B);return{id:oY(w),len:oY(q)}}async function X(M){while(M>0){let G=await J();if(G.id===17026)return(await $.readToken(new z2(G.len))).replaceAll(/\00.*$/g,"");await $.ignore(G.len),--M}}let Q=await J();switch(await X(Q.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/matroska"};default:return}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([33,66,68,78]))return{ext:"pst",mime:"application/vnd.ms-outlook"};if(this.checkString("PAR1")||this.checkString("PARE"))return{ext:"parquet",mime:"application/vnd.apache.parquet"};if(this.checkString("ttcf"))return{ext:"ttc",mime:"font/collection"};if(this.check([207,250,237,254]))return{ext:"macho",mime:"application/x-mach-binary"};if(this.check([4,34,77,24]))return{ext:"lz4",mime:"application/x-lz4"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([202,254,186,190]))return{ext:"class",mime:"application/java-vm"};if(this.checkString(".RMF"))return{ext:"rm",mime:"application/vnd.rn-realmedia"};if(this.checkString("DRACO"))return{ext:"drc",mime:"application/vnd.google.draco"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(this.buffer[6]===0||this.buffer[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("AC")){let W=new z2(4,"latin1").get(this.buffer,2);if(W.match("^d*")&&W>=1000&&W<=1050)return{ext:"dwg",mime:"image/vnd.dwg"}}if(this.checkString("070707"))return{ext:"cpio",mime:"application/x-cpio"};if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>")){if(await $.ignore(8),await $.readToken(new z2(13,"ascii"))==="debian-binary")return{ext:"deb",mime:"application/x-deb"};return{ext:"ar",mime:"application/x-unix-archive"}}if(this.checkString("WEBVTT")&&[`
`,"\r","\t"," ","\x00"].some((W)=>this.checkString(W,{offset:6})))return{ext:"vtt",mime:"text/vtt"};if(this.check([137,80,78,71,13,10,26,10])){await $.ignore(8);async function W(){return{length:await $.readToken(OU),type:await $.readToken(new z2(4,"latin1"))}}do{let J=await W();if(J.length<0)return;switch(J.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await $.ignore(J.length+4)}}while($.position+8<$.fileInfo.size);return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/vnd.apache.arrow.file"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.checkString("ftyp",{offset:4})&&(this.buffer[8]&96)!==0){let W=new z2(4,"latin1").get(this.buffer,8).replace("\x00"," ").trim();switch(W){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:if(W.startsWith("3g")){if(W.startsWith("3g2"))return{ext:"3g2",mime:"video/3gpp2"};return{ext:"3gp",mime:"video/3gpp"}}return{ext:"mp4",mime:"video/mp4"}}}if(this.check([82,73,70,70])){if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/wav"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function W(){let J=new Uint8Array(16);return await $.readBuffer(J),{id:J,size:Number(await $.readToken(SU))}}await $.ignore(30);while($.position+24<$.fileInfo.size){let J=await W(),X=J.size-24;if(x8(J.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){let Q=new Uint8Array(16);if(X-=await $.readBuffer(Q),x8(Q,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(x8(Q,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await $.ignore(X)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([255,79,255,81]))return{ext:"j2c",mime:"image/j2c"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await $.ignore(20),await $.readToken(new z2(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255])){if(this.check([0,60,0,63,0,120,0,109,0,108],{offset:2}))return{ext:"xml",mime:"application/xml"};return}if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await $.peekBuffer(this.buffer,{length:Math.min(256,$.fileInfo.size),mayBeLess:!0}),this.check([97,99,115,112],{offset:36}))return{ext:"icc",mime:"application/vnd.iccprofile"};if(this.checkString("**ACE",{offset:7})&&this.checkString("**",{offset:12}))return{ext:"ace",mime:"application/x-ace-compressed"};if(this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){let W=new DataView(this.buffer.buffer).getUint32(12,!0);if(W>12&&this.buffer.length>=W+16)try{let J=new TextDecoder().decode(this.buffer.subarray(16,W+16));if(JSON.parse(J).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(this.checkString("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(this.check([71])&&this.check([71],{offset:188}))return{ext:"mts",mime:"video/mp2t"};if(this.check([71],{offset:4})&&this.check([71],{offset:196}))return{ext:"mts",mime:"video/mp2t"};if(this.check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(this.check([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(this.checkString("Kaydara FBX Binary  \x00"))return{ext:"fbx",mime:"application/x.autodesk.fbx"};if(this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await $.peekBuffer(this.buffer,{length:Math.min(512,$.fileInfo.size),mayBeLess:!0}),this.checkString("ustar",{offset:257})&&(this.checkString("\x00",{offset:262})||this.checkString(" ",{offset:262}))||this.check([0,0,0,0,0,0],{offset:257})&&tU(this.buffer))return{ext:"tar",mime:"application/x-tar"};if(this.check([255,254])){if(this.check([60,0,63,0,120,0,109,0,108,0],{offset:2}))return{ext:"xml",mime:"application/xml"};if(this.check([255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0],{offset:2}))return{ext:"skp",mime:"application/vnd.sketchup.skp"};return}if(this.checkString("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"}};detectImprecise=async($)=>{if(this.buffer=new Uint8Array(l7),await $.peekBuffer(this.buffer,{length:Math.min(8,$.fileInfo.size),mayBeLess:!0}),this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(await $.peekBuffer(this.buffer,{length:Math.min(2+this.options.mpegOffsetTolerance,$.fileInfo.size),mayBeLess:!0}),this.buffer.length>=2+this.options.mpegOffsetTolerance)for(let W=0;W<=this.options.mpegOffsetTolerance;++W){let J=this.scanMpeg(W);if(J)return J}};async readTiffTag($){let W=await this.tokenizer.readToken($?$$:O1);switch(this.tokenizer.ignore(10),W){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"};default:}}async readTiffIFD($){let W=await this.tokenizer.readToken($?$$:O1);for(let J=0;J<W;++J){let X=await this.readTiffTag($);if(X)return X}}async readTiffHeader($){let W=($?$$:O1).get(this.buffer,2),J=($?ZU:f1).get(this.buffer,4);if(W===42){if(J>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(J>=8){let Q=($?$$:O1).get(this.buffer,8),Y=($?$$:O1).get(this.buffer,10);if(Q===28&&Y===254||Q===31&&Y===11)return{ext:"nef",mime:"image/x-nikon-nef"}}}return await this.tokenizer.ignore(J),await this.readTiffIFD($)??{ext:"tif",mime:"image/tiff"}}if(W===43)return{ext:"tif",mime:"image/tiff"}}scanMpeg($){if(this.check([255,224],{offset:$,mask:[255,224]})){if(this.check([16],{offset:$+1,mask:[22]})){if(this.check([8],{offset:$+1,mask:[8]}))return{ext:"aac",mime:"audio/aac"};return{ext:"aac",mime:"audio/aac"}}if(this.check([2],{offset:$+1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:$+1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:$+1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}}var l7=4100,Gz,Bz;var rY=Q1(()=>{c7();aJ();sU();rU();$z();Xz();Gz=new Set(Wz),Bz=new Set(Jz)});var qz={};$6(qz,{supportedMimeTypes:()=>Bz,supportedExtensions:()=>Gz,fileTypeStream:()=>yR,fileTypeFromTokenizer:()=>Mz,fileTypeFromStream:()=>dR,fileTypeFromFile:()=>vR,fileTypeFromBuffer:()=>Qz,fileTypeFromBlob:()=>Yz,FileTypeParser:()=>p7});import{ReadableStream as TR}from"node:stream/web";import{pipeline as wz,PassThrough as gR,Readable as fR}from"node:stream";async function vR($,W){return new p7(W).fromFile($,W)}async function dR($,W){return new p7(W).fromStream($)}async function yR($,W={}){return new p7(W).toDetectionStream($,W)}var p7;var Hz=Q1(()=>{UU();rY();rY();p7=class p7 extends M${async fromStream($){let W=await($ instanceof TR?rJ($,this.tokenizerOptions):qU($,this.tokenizerOptions));try{return await super.fromTokenizer(W)}finally{await W.close()}}async fromFile($){let W=await HU($);try{return await super.fromTokenizer(W)}finally{await W.close()}}async toDetectionStream($,W={}){if(!($ instanceof fR))return super.toDetectionStream($,W);let{sampleSize:J=l7}=W;return new Promise((X,Q)=>{$.on("error",Q),$.once("readable",()=>{(async()=>{try{let Y=new gR,M=wz?wz($,Y,()=>{}):$.pipe(Y),G=$.read(J)??$.read()??new Uint8Array(0);try{Y.fileType=await this.fromBuffer(G)}catch(B){if(B instanceof $1)Y.fileType=void 0;else Q(B)}X(M)}catch(Y){Q(Y)}})()})})}}});var O5={};$6(O5,{IsUndefined:()=>T1,IsUint8Array:()=>J6,IsSymbol:()=>pQ,IsString:()=>t0,IsRegExp:()=>D7,IsObject:()=>l0,IsNumber:()=>Q2,IsNull:()=>lQ,IsIterator:()=>uQ,IsFunction:()=>mQ,IsDate:()=>v4,IsBoolean:()=>W6,IsBigInt:()=>N7,IsAsyncIterator:()=>hQ,IsArray:()=>k1,HasPropertyKey:()=>YJ});function YJ($,W){return W in $}function hQ($){return l0($)&&!k1($)&&!J6($)&&Symbol.asyncIterator in $}function k1($){return Array.isArray($)}function N7($){return typeof $==="bigint"}function W6($){return typeof $==="boolean"}function v4($){return $ instanceof globalThis.Date}function mQ($){return typeof $==="function"}function uQ($){return l0($)&&!k1($)&&!J6($)&&Symbol.iterator in $}function lQ($){return $===null}function Q2($){return typeof $==="number"}function l0($){return typeof $==="object"&&$!==null}function D7($){return $ instanceof globalThis.RegExp}function t0($){return typeof $==="string"}function pQ($){return typeof $==="symbol"}function J6($){return $ instanceof globalThis.Uint8Array}function T1($){return $===void 0}function zj($){return $.map((W)=>MJ(W))}function Aj($){return new Date($.getTime())}function Nj($){return new Uint8Array($)}function Dj($){return new RegExp($.source,$.flags)}function Zj($){let W={};for(let J of Object.getOwnPropertyNames($))W[J]=MJ($[J]);for(let J of Object.getOwnPropertySymbols($))W[J]=MJ($[J]);return W}function MJ($){return k1($)?zj($):v4($)?Aj($):J6($)?Nj($):D7($)?Dj($):l0($)?Zj($):$}function w1($){return MJ($)}function P9($,W){return W===void 0?w1($):w1({...W,...$})}function GJ($){return A0($)&&globalThis.Symbol.asyncIterator in $}function BJ($){return A0($)&&globalThis.Symbol.iterator in $}function iQ($){return A0($)&&(globalThis.Object.getPrototypeOf($)===Object.prototype||globalThis.Object.getPrototypeOf($)===null)}function wJ($){return $ instanceof globalThis.Promise}function R5($){return $ instanceof Date&&globalThis.Number.isFinite($.getTime())}function uB($){return $ instanceof globalThis.Map}function lB($){return $ instanceof globalThis.Set}function _2($){return globalThis.ArrayBuffer.isView($)}function E9($){return $ instanceof globalThis.Uint8Array}function H0($,W){return W in $}function A0($){return $!==null&&typeof $==="object"}function M0($){return globalThis.Array.isArray($)&&!globalThis.ArrayBuffer.isView($)}function q1($){return $===void 0}function X6($){return $===null}function C8($){return typeof $==="boolean"}function X0($){return typeof $==="number"}function qJ($){return globalThis.Number.isInteger($)}function w5($){return typeof $==="bigint"}function I0($){return typeof $==="string"}function d6($){return typeof $==="function"}function Q6($){return typeof $==="symbol"}function Y2($){return w5($)||C8($)||X6($)||X0($)||I0($)||Q6($)||q1($)}var Y1;(function($){$.InstanceMode="default",$.ExactOptionalPropertyTypes=!1,$.AllowArrayObject=!1,$.AllowNaN=!1,$.AllowNullVoid=!1;function W(M,G){return $.ExactOptionalPropertyTypes?G in M:M[G]!==void 0}$.IsExactOptionalProperty=W;function J(M){let G=A0(M);return $.AllowArrayObject?G:G&&!M0(M)}$.IsObjectLike=J;function X(M){return J(M)&&!(M instanceof Date)&&!(M instanceof Uint8Array)}$.IsRecordLike=X;function Q(M){return $.AllowNaN?X0(M):Number.isFinite(M)}$.IsNumberLike=Q;function Y(M){let G=q1(M);return $.AllowNullVoid?G||M===null:G}$.IsVoidLike=Y})(Y1||(Y1={}));function Oj($){return globalThis.Object.freeze($).map((W)=>Z7(W))}function Sj($){return $}function jj($){return $}function Lj($){return $}function _j($){let W={};for(let J of Object.getOwnPropertyNames($))W[J]=Z7($[J]);for(let J of Object.getOwnPropertySymbols($))W[J]=Z7($[J]);return globalThis.Object.freeze(W)}function Z7($){return k1($)?Oj($):v4($)?Sj($):J6($)?jj($):D7($)?Lj($):l0($)?_j($):$}function g($,W){let J=W!==void 0?{...W,...$}:$;switch(Y1.InstanceMode){case"freeze":return Z7(J);case"clone":return w1(J);default:return J}}class B0 extends Error{constructor($){super($)}}var r0=Symbol.for("TypeBox.Transform"),n2=Symbol.for("TypeBox.Readonly"),n1=Symbol.for("TypeBox.Optional"),F2=Symbol.for("TypeBox.Hint"),F=Symbol.for("TypeBox.Kind");function R9($){return l0($)&&$[n2]==="Readonly"}function y5($){return l0($)&&$[n1]==="Optional"}function nQ($){return P0($,"Any")}function oQ($){return P0($,"Argument")}function o2($){return P0($,"Array")}function d4($){return P0($,"AsyncIterator")}function y4($){return P0($,"BigInt")}function Y6($){return P0($,"Boolean")}function s2($){return P0($,"Computed")}function r2($){return P0($,"Constructor")}function Fj($){return P0($,"Date")}function a2($){return P0($,"Function")}function t2($){return P0($,"Integer")}function F1($){return P0($,"Intersect")}function c4($){return P0($,"Iterator")}function P0($,W){return l0($)&&F in $&&$[F]===W}function HJ($){return W6($)||Q2($)||t0($)}function M2($){return P0($,"Literal")}function G2($){return P0($,"MappedKey")}function H1($){return P0($,"MappedResult")}function y6($){return P0($,"Never")}function Kj($){return P0($,"Not")}function O7($){return P0($,"Null")}function e2($){return P0($,"Number")}function g1($){return P0($,"Object")}function h4($){return P0($,"Promise")}function m4($){return P0($,"Record")}function R1($){return P0($,"Ref")}function sQ($){return P0($,"RegExp")}function M6($){return P0($,"String")}function S7($){return P0($,"Symbol")}function B2($){return P0($,"TemplateLiteral")}function bj($){return P0($,"This")}function v0($){return l0($)&&r0 in $}function w2($){return P0($,"Tuple")}function G6($){return P0($,"Undefined")}function x0($){return P0($,"Union")}function Cj($){return P0($,"Uint8Array")}function Vj($){return P0($,"Unknown")}function Pj($){return P0($,"Unsafe")}function Ej($){return P0($,"Void")}function c6($){return l0($)&&F in $&&t0($[F])}function D1($){return nQ($)||oQ($)||o2($)||Y6($)||y4($)||d4($)||s2($)||r2($)||Fj($)||a2($)||t2($)||F1($)||c4($)||M2($)||G2($)||H1($)||y6($)||Kj($)||O7($)||e2($)||g1($)||h4($)||m4($)||R1($)||sQ($)||M6($)||S7($)||B2($)||bj($)||w2($)||G6($)||x0($)||Cj($)||Vj($)||Pj($)||Ej($)||c6($)}var L={};$6(L,{TypeGuardUnknownTypeError:()=>pB,IsVoid:()=>xw,IsUnsafe:()=>Iw,IsUnknown:()=>Rw,IsUnionLiteral:()=>dj,IsUnion:()=>tQ,IsUndefined:()=>Pw,IsUint8Array:()=>Ew,IsTuple:()=>Vw,IsTransform:()=>Cw,IsThis:()=>bw,IsTemplateLiteral:()=>Kw,IsSymbol:()=>Fw,IsString:()=>_w,IsSchema:()=>U1,IsRegExp:()=>Lw,IsRef:()=>jw,IsRecursive:()=>vj,IsRecord:()=>Sw,IsReadonly:()=>kj,IsProperties:()=>UJ,IsPromise:()=>Ow,IsOptional:()=>Tj,IsObject:()=>Zw,IsNumber:()=>Dw,IsNull:()=>Nw,IsNot:()=>Aw,IsNever:()=>zw,IsMappedResult:()=>Uw,IsMappedKey:()=>Hw,IsLiteralValue:()=>qw,IsLiteralString:()=>Bw,IsLiteralNumber:()=>ww,IsLiteralBoolean:()=>fj,IsLiteral:()=>L7,IsKindOf:()=>L0,IsKind:()=>kw,IsIterator:()=>Gw,IsIntersect:()=>Mw,IsInteger:()=>Yw,IsImport:()=>gj,IsFunction:()=>Qw,IsDate:()=>Xw,IsConstructor:()=>Jw,IsComputed:()=>Ww,IsBoolean:()=>$w,IsBigInt:()=>eB,IsAsyncIterator:()=>tB,IsArray:()=>aB,IsArgument:()=>rB,IsAny:()=>sB});class pB extends B0{}var Rj=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function iB($){try{return new RegExp($),!0}catch{return!1}}function rQ($){if(!t0($))return!1;for(let W=0;W<$.length;W++){let J=$.charCodeAt(W);if(J>=7&&J<=13||J===27||J===127)return!1}return!0}function nB($){return aQ($)||U1($)}function j7($){return T1($)||N7($)}function e0($){return T1($)||Q2($)}function aQ($){return T1($)||W6($)}function p0($){return T1($)||t0($)}function Ij($){return T1($)||t0($)&&rQ($)&&iB($)}function xj($){return T1($)||t0($)&&rQ($)}function oB($){return T1($)||U1($)}function kj($){return l0($)&&$[n2]==="Readonly"}function Tj($){return l0($)&&$[n1]==="Optional"}function sB($){return L0($,"Any")&&p0($.$id)}function rB($){return L0($,"Argument")&&Q2($.index)}function aB($){return L0($,"Array")&&$.type==="array"&&p0($.$id)&&U1($.items)&&e0($.minItems)&&e0($.maxItems)&&aQ($.uniqueItems)&&oB($.contains)&&e0($.minContains)&&e0($.maxContains)}function tB($){return L0($,"AsyncIterator")&&$.type==="AsyncIterator"&&p0($.$id)&&U1($.items)}function eB($){return L0($,"BigInt")&&$.type==="bigint"&&p0($.$id)&&j7($.exclusiveMaximum)&&j7($.exclusiveMinimum)&&j7($.maximum)&&j7($.minimum)&&j7($.multipleOf)}function $w($){return L0($,"Boolean")&&$.type==="boolean"&&p0($.$id)}function Ww($){return L0($,"Computed")&&t0($.target)&&k1($.parameters)&&$.parameters.every((W)=>U1(W))}function Jw($){return L0($,"Constructor")&&$.type==="Constructor"&&p0($.$id)&&k1($.parameters)&&$.parameters.every((W)=>U1(W))&&U1($.returns)}function Xw($){return L0($,"Date")&&$.type==="Date"&&p0($.$id)&&e0($.exclusiveMaximumTimestamp)&&e0($.exclusiveMinimumTimestamp)&&e0($.maximumTimestamp)&&e0($.minimumTimestamp)&&e0($.multipleOfTimestamp)}function Qw($){return L0($,"Function")&&$.type==="Function"&&p0($.$id)&&k1($.parameters)&&$.parameters.every((W)=>U1(W))&&U1($.returns)}function gj($){return L0($,"Import")&&YJ($,"$defs")&&l0($.$defs)&&UJ($.$defs)&&YJ($,"$ref")&&t0($.$ref)&&$.$ref in $.$defs}function Yw($){return L0($,"Integer")&&$.type==="integer"&&p0($.$id)&&e0($.exclusiveMaximum)&&e0($.exclusiveMinimum)&&e0($.maximum)&&e0($.minimum)&&e0($.multipleOf)}function UJ($){return l0($)&&Object.entries($).every(([W,J])=>rQ(W)&&U1(J))}function Mw($){return L0($,"Intersect")&&(t0($.type)&&$.type!=="object"?!1:!0)&&k1($.allOf)&&$.allOf.every((W)=>U1(W)&&!Cw(W))&&p0($.type)&&(aQ($.unevaluatedProperties)||oB($.unevaluatedProperties))&&p0($.$id)}function Gw($){return L0($,"Iterator")&&$.type==="Iterator"&&p0($.$id)&&U1($.items)}function L0($,W){return l0($)&&F in $&&$[F]===W}function Bw($){return L7($)&&t0($.const)}function ww($){return L7($)&&Q2($.const)}function fj($){return L7($)&&W6($.const)}function L7($){return L0($,"Literal")&&p0($.$id)&&qw($.const)}function qw($){return W6($)||Q2($)||t0($)}function Hw($){return L0($,"MappedKey")&&k1($.keys)&&$.keys.every((W)=>Q2(W)||t0(W))}function Uw($){return L0($,"MappedResult")&&UJ($.properties)}function zw($){return L0($,"Never")&&l0($.not)&&Object.getOwnPropertyNames($.not).length===0}function Aw($){return L0($,"Not")&&U1($.not)}function Nw($){return L0($,"Null")&&$.type==="null"&&p0($.$id)}function Dw($){return L0($,"Number")&&$.type==="number"&&p0($.$id)&&e0($.exclusiveMaximum)&&e0($.exclusiveMinimum)&&e0($.maximum)&&e0($.minimum)&&e0($.multipleOf)}function Zw($){return L0($,"Object")&&$.type==="object"&&p0($.$id)&&UJ($.properties)&&nB($.additionalProperties)&&e0($.minProperties)&&e0($.maxProperties)}function Ow($){return L0($,"Promise")&&$.type==="Promise"&&p0($.$id)&&U1($.item)}function Sw($){return L0($,"Record")&&$.type==="object"&&p0($.$id)&&nB($.additionalProperties)&&l0($.patternProperties)&&((W)=>{let J=Object.getOwnPropertyNames(W.patternProperties);return J.length===1&&iB(J[0])&&l0(W.patternProperties)&&U1(W.patternProperties[J[0]])})($)}function vj($){return l0($)&&F2 in $&&$[F2]==="Recursive"}function jw($){return L0($,"Ref")&&p0($.$id)&&t0($.$ref)}function Lw($){return L0($,"RegExp")&&p0($.$id)&&t0($.source)&&t0($.flags)&&e0($.maxLength)&&e0($.minLength)}function _w($){return L0($,"String")&&$.type==="string"&&p0($.$id)&&e0($.minLength)&&e0($.maxLength)&&Ij($.pattern)&&xj($.format)}function Fw($){return L0($,"Symbol")&&$.type==="symbol"&&p0($.$id)}function Kw($){return L0($,"TemplateLiteral")&&$.type==="string"&&t0($.pattern)&&$.pattern[0]==="^"&&$.pattern[$.pattern.length-1]==="$"}function bw($){return L0($,"This")&&p0($.$id)&&t0($.$ref)}function Cw($){return l0($)&&r0 in $}function Vw($){return L0($,"Tuple")&&$.type==="array"&&p0($.$id)&&Q2($.minItems)&&Q2($.maxItems)&&$.minItems===$.maxItems&&(T1($.items)&&T1($.additionalItems)&&$.minItems===0||k1($.items)&&$.items.every((W)=>U1(W)))}function Pw($){return L0($,"Undefined")&&$.type==="undefined"&&p0($.$id)}function dj($){return tQ($)&&$.anyOf.every((W)=>Bw(W)||ww(W))}function tQ($){return L0($,"Union")&&p0($.$id)&&l0($)&&k1($.anyOf)&&$.anyOf.every((W)=>U1(W))}function Ew($){return L0($,"Uint8Array")&&$.type==="Uint8Array"&&p0($.$id)&&e0($.minByteLength)&&e0($.maxByteLength)}function Rw($){return L0($,"Unknown")&&p0($.$id)}function Iw($){return L0($,"Unsafe")}function xw($){return L0($,"Void")&&$.type==="void"&&p0($.$id)}function kw($){return l0($)&&F in $&&t0($[F])&&!Rj.includes($[F])}function U1($){return l0($)&&(sB($)||rB($)||aB($)||$w($)||eB($)||tB($)||Ww($)||Jw($)||Xw($)||Qw($)||Yw($)||Mw($)||Gw($)||L7($)||Hw($)||Uw($)||zw($)||Aw($)||Nw($)||Dw($)||Zw($)||Ow($)||Sw($)||jw($)||Lw($)||_w($)||Fw($)||Kw($)||bw($)||Vw($)||Pw($)||tQ($)||Ew($)||Rw($)||Iw($)||xw($)||kw($))}var Tw="(true|false)",zJ="(0|[1-9][0-9]*)",gw="(.*)";var h6="^(0|[1-9][0-9]*)$",m6="^(.*)$",fw="^(?!.*)$";var u0={};$6(u0,{Set:()=>uj,Has:()=>mj,Get:()=>lj,Entries:()=>yj,Delete:()=>hj,Clear:()=>cj});var I9=new Map;function yj(){return new Map(I9)}function cj(){return I9.clear()}function hj($){return I9.delete($)}function mj($){return I9.has($)}function uj($,W){I9.set($,W)}function lj($){return I9.get($)}var o1={};$6(o1,{Set:()=>sj,Has:()=>oj,Get:()=>rj,Entries:()=>pj,Delete:()=>nj,Clear:()=>ij});var x9=new Map;function pj(){return new Map(x9)}function ij(){return x9.clear()}function nj($){return x9.delete($)}function oj($){return x9.has($)}function sj($,W){x9.set($,W)}function rj($){return x9.get($)}function vw($,W){return $.includes(W)}function dw($){return[...new Set($)]}function aj($,W){return $.filter((J)=>W.includes(J))}function tj($,W){return $.reduce((J,X)=>{return aj(J,X)},W)}function yw($){return $.length===1?$[0]:$.length>1?tj($.slice(1),$[0]):[]}function cw($){let W=[];for(let J of $)W.push(...J);return W}function u6($){return g({[F]:"Any"},$)}function k9($,W){return g({[F]:"Array",type:"array",items:$},W)}function hw($){return g({[F]:"Argument",index:$})}function T9($,W){return g({[F]:"AsyncIterator",type:"AsyncIterator",items:$},W)}function M1($,W,J){return g({[F]:"Computed",target:$,parameters:W},J)}function ej($,W){let{[W]:J,...X}=$;return X}function K1($,W){return W.reduce((J,X)=>ej(J,X),$)}function O0($){return g({[F]:"Never",not:{}},$)}function T0($){return g({[F]:"MappedResult",properties:$})}function g9($,W,J){return g({[F]:"Constructor",type:"Constructor",parameters:$,returns:W},J)}function V8($,W,J){return g({[F]:"Function",type:"Function",parameters:$,returns:W},J)}function _7($,W){return g({[F]:"Union",anyOf:$},W)}function $L($){return $.some((W)=>y5(W))}function mw($){return $.map((W)=>y5(W)?WL(W):W)}function WL($){return K1($,[n1])}function JL($,W){return $L($)?S5(_7(mw($),W)):_7(mw($),W)}function P8($,W){return $.length===1?g($[0],W):$.length===0?O0(W):JL($,W)}function d0($,W){return $.length===0?O0(W):$.length===1?g($[0],W):_7($,W)}class eQ extends B0{}function XL($){return $.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}function $Y($,W,J){return $[W]===J&&$.charCodeAt(W-1)!==92}function w6($,W){return $Y($,W,"(")}function F7($,W){return $Y($,W,")")}function uw($,W){return $Y($,W,"|")}function QL($){if(!(w6($,0)&&F7($,$.length-1)))return!1;let W=0;for(let J=0;J<$.length;J++){if(w6($,J))W+=1;if(F7($,J))W-=1;if(W===0&&J!==$.length-1)return!1}return!0}function YL($){return $.slice(1,$.length-1)}function ML($){let W=0;for(let J=0;J<$.length;J++){if(w6($,J))W+=1;if(F7($,J))W-=1;if(uw($,J)&&W===0)return!0}return!1}function GL($){for(let W=0;W<$.length;W++)if(w6($,W))return!0;return!1}function BL($){let[W,J]=[0,0],X=[];for(let Y=0;Y<$.length;Y++){if(w6($,Y))W+=1;if(F7($,Y))W-=1;if(uw($,Y)&&W===0){let M=$.slice(J,Y);if(M.length>0)X.push(f9(M));J=Y+1}}let Q=$.slice(J);if(Q.length>0)X.push(f9(Q));if(X.length===0)return{type:"const",const:""};if(X.length===1)return X[0];return{type:"or",expr:X}}function wL($){function W(Q,Y){if(!w6(Q,Y))throw new eQ("TemplateLiteralParser: Index must point to open parens");let M=0;for(let G=Y;G<Q.length;G++){if(w6(Q,G))M+=1;if(F7(Q,G))M-=1;if(M===0)return[Y,G]}throw new eQ("TemplateLiteralParser: Unclosed group parens in expression")}function J(Q,Y){for(let M=Y;M<Q.length;M++)if(w6(Q,M))return[Y,M];return[Y,Q.length]}let X=[];for(let Q=0;Q<$.length;Q++)if(w6($,Q)){let[Y,M]=W($,Q),G=$.slice(Y,M+1);X.push(f9(G)),Q=M}else{let[Y,M]=J($,Q),G=$.slice(Y,M);if(G.length>0)X.push(f9(G));Q=M-1}return X.length===0?{type:"const",const:""}:X.length===1?X[0]:{type:"and",expr:X}}function f9($){return QL($)?f9(YL($)):ML($)?BL($):GL($)?wL($):{type:"const",const:XL($)}}function v9($){return f9($.slice(1,$.length-1))}class lw extends B0{}function qL($){return $.type==="or"&&$.expr.length===2&&$.expr[0].type==="const"&&$.expr[0].const==="0"&&$.expr[1].type==="const"&&$.expr[1].const==="[1-9][0-9]*"}function HL($){return $.type==="or"&&$.expr.length===2&&$.expr[0].type==="const"&&$.expr[0].const==="true"&&$.expr[1].type==="const"&&$.expr[1].const==="false"}function UL($){return $.type==="const"&&$.const===".*"}function u4($){return qL($)||UL($)?!1:HL($)?!0:$.type==="and"?$.expr.every((W)=>u4(W)):$.type==="or"?$.expr.every((W)=>u4(W)):$.type==="const"?!0:(()=>{throw new lw("Unknown expression type")})()}function AJ($){let W=v9($.pattern);return u4(W)}class pw extends B0{}function*iw($){if($.length===1)return yield*$[0];for(let W of $[0])for(let J of iw($.slice(1)))yield`${W}${J}`}function*zL($){return yield*iw($.expr.map((W)=>[...K7(W)]))}function*AL($){for(let W of $.expr)yield*K7(W)}function*NL($){return yield $.const}function*K7($){return $.type==="and"?yield*zL($):$.type==="or"?yield*AL($):$.type==="const"?yield*NL($):(()=>{throw new pw("Unknown expression")})()}function d9($){let W=v9($.pattern);return u4(W)?[...K7(W)]:[]}function E0($,W){return g({[F]:"Literal",const:$,type:typeof $},W)}function NJ($){return g({[F]:"Boolean",type:"boolean"},$)}function y9($){return g({[F]:"BigInt",type:"bigint"},$)}function K2($){return g({[F]:"Number",type:"number"},$)}function I5($){return g({[F]:"String",type:"string"},$)}function*DL($){let W=$.trim().replace(/"|'/g,"");return W==="boolean"?yield NJ():W==="number"?yield K2():W==="bigint"?yield y9():W==="string"?yield I5():yield(()=>{let J=W.split("|").map((X)=>E0(X.trim()));return J.length===0?O0():J.length===1?J[0]:P8(J)})()}function*ZL($){if($[1]!=="{"){let W=E0("$"),J=WY($.slice(1));return yield*[W,...J]}for(let W=2;W<$.length;W++)if($[W]==="}"){let J=DL($.slice(2,W)),X=WY($.slice(W+1));return yield*[...J,...X]}yield E0($)}function*WY($){for(let W=0;W<$.length;W++)if($[W]==="$"){let J=E0($.slice(0,W)),X=ZL($.slice(W));return yield*[J,...X]}yield E0($)}function nw($){return[...WY($)]}class ow extends B0{}function OL($){return $.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function sw($,W){return B2($)?$.pattern.slice(1,$.pattern.length-1):x0($)?`(${$.anyOf.map((J)=>sw(J,W)).join("|")})`:e2($)?`${W}${zJ}`:t2($)?`${W}${zJ}`:y4($)?`${W}${zJ}`:M6($)?`${W}${gw}`:M2($)?`${W}${OL($.const.toString())}`:Y6($)?`${W}${Tw}`:(()=>{throw new ow(`Unexpected Kind '${$[F]}'`)})()}function JY($){return`^${$.map((W)=>sw(W,"")).join("")}$`}function l4($){let J=d9($).map((X)=>E0(X));return P8(J)}function DJ($,W){let J=t0($)?JY(nw($)):JY($);return g({[F]:"TemplateLiteral",type:"string",pattern:J},W)}function SL($){return d9($).map((J)=>J.toString())}function jL($){let W=[];for(let J of $)W.push(...c5(J));return W}function LL($){return[$.toString()]}function c5($){return[...new Set(B2($)?SL($):x0($)?jL($.anyOf):M2($)?LL($.const):e2($)?["[number]"]:t2($)?["[number]"]:[])]}function _L($,W,J){let X={};for(let Q of Object.getOwnPropertyNames(W))X[Q]=l6($,c5(W[Q]),J);return X}function FL($,W,J){return _L($,W.properties,J)}function rw($,W,J){let X=FL($,W,J);return T0(X)}function tw($,W){return $.map((J)=>ew(J,W))}function KL($){return $.filter((W)=>!y6(W))}function bL($,W){return ZJ(KL(tw($,W)))}function CL($){return $.some((W)=>y6(W))?[]:$}function VL($,W){return P8(CL(tw($,W)))}function PL($,W){return W in $?$[W]:W==="[number]"?P8($):O0()}function EL($,W){return W==="[number]"?$:O0()}function RL($,W){return W in $?$[W]:O0()}function ew($,W){return F1($)?bL($.allOf,W):x0($)?VL($.anyOf,W):w2($)?PL($.items??[],W):o2($)?EL($.items,W):g1($)?RL($.properties,W):O0()}function b7($,W){return W.map((J)=>ew($,J))}function aw($,W){return P8(b7($,W))}function l6($,W,J){if(R1($)||R1(W)){if(!D1($)||!D1(W))throw new B0("Index types using Ref parameters require both Type and Key to be of TSchema");return M1("Index",[$,W])}if(H1(W))return rw($,W,J);if(G2(W))return $q($,W,J);return g(D1(W)?aw($,c5(W)):aw($,W),J)}function IL($,W,J){return{[W]:l6($,[W],w1(J))}}function xL($,W,J){return W.reduce((X,Q)=>{return{...X,...IL($,Q,J)}},{})}function kL($,W,J){return xL($,W.keys,J)}function $q($,W,J){let X=kL($,W,J);return T0(X)}function c9($,W){return g({[F]:"Iterator",type:"Iterator",items:$},W)}function TL($){let W=[];for(let J in $)if(!y5($[J]))W.push(J);return W}function gL($,W){let J=TL($),X=J.length>0?{[F]:"Object",type:"object",properties:$,required:J}:{[F]:"Object",type:"object",properties:$};return g(X,W)}var y0=gL;function OJ($,W){return g({[F]:"Promise",type:"Promise",item:$},W)}function fL($){return g(K1($,[n2]))}function vL($){return g({...$,[n2]:"Readonly"})}function dL($,W){return W===!1?fL($):vL($)}function h5($,W){let J=W??!0;return H1($)?Wq($,J):dL($,J)}function yL($,W){let J={};for(let X of globalThis.Object.getOwnPropertyNames($))J[X]=h5($[X],W);return J}function cL($,W){return yL($.properties,W)}function Wq($,W){let J=cL($,W);return T0(J)}function b2($,W){return g($.length>0?{[F]:"Tuple",type:"array",items:$,additionalItems:!1,minItems:$.length,maxItems:$.length}:{[F]:"Tuple",type:"array",minItems:$.length,maxItems:$.length},W)}function Jq($,W){return $ in W?C2($,W[$]):T0(W)}function hL($){return{[$]:E0($)}}function mL($){let W={};for(let J of $)W[J]=E0(J);return W}function uL($,W){return vw(W,$)?hL($):mL(W)}function lL($,W){let J=uL($,W);return Jq($,J)}function C7($,W){return W.map((J)=>C2($,J))}function pL($,W){let J={};for(let X of globalThis.Object.getOwnPropertyNames(W))J[X]=C2($,W[X]);return J}function C2($,W){let J={...W};return y5(W)?S5(C2($,K1(W,[n1]))):R9(W)?h5(C2($,K1(W,[n2]))):H1(W)?Jq($,W.properties):G2(W)?lL($,W.keys):r2(W)?g9(C7($,W.parameters),C2($,W.returns),J):a2(W)?V8(C7($,W.parameters),C2($,W.returns),J):d4(W)?T9(C2($,W.items),J):c4(W)?c9(C2($,W.items),J):F1(W)?j5(C7($,W.allOf),J):x0(W)?d0(C7($,W.anyOf),J):w2(W)?b2(C7($,W.items??[]),J):g1(W)?y0(pL($,W.properties),J):o2(W)?k9(C2($,W.items),J):h4(W)?OJ(C2($,W.item),J):W}function iL($,W){let J={};for(let X of $)J[X]=C2(X,W);return J}function Xq($,W,J){let X=D1($)?c5($):$,Q=W({[F]:"MappedKey",keys:X}),Y=iL(X,Q);return y0(Y,J)}function nL($){return g(K1($,[n1]))}function oL($){return g({...$,[n1]:"Optional"})}function sL($,W){return W===!1?nL($):oL($)}function S5($,W){let J=W??!0;return H1($)?Qq($,J):sL($,J)}function rL($,W){let J={};for(let X of globalThis.Object.getOwnPropertyNames($))J[X]=S5($[X],W);return J}function aL($,W){return rL($.properties,W)}function Qq($,W){let J=aL($,W);return T0(J)}function V7($,W={}){let J=$.every((Q)=>g1(Q)),X=D1(W.unevaluatedProperties)?{unevaluatedProperties:W.unevaluatedProperties}:{};return g(W.unevaluatedProperties===!1||D1(W.unevaluatedProperties)||J?{...X,[F]:"Intersect",type:"object",allOf:$}:{...X,[F]:"Intersect",allOf:$},W)}function tL($){return $.every((W)=>y5(W))}function eL($){return K1($,[n1])}function Yq($){return $.map((W)=>y5(W)?eL(W):W)}function $_($,W){return tL($)?S5(V7(Yq($),W)):V7(Yq($),W)}function ZJ($,W={}){if($.length===1)return g($[0],W);if($.length===0)return O0(W);if($.some((J)=>v0(J)))throw new Error("Cannot intersect transform types");return $_($,W)}function j5($,W){if($.length===1)return g($[0],W);if($.length===0)return O0(W);if($.some((J)=>v0(J)))throw new Error("Cannot intersect transform types");return V7($,W)}function V2(...$){let[W,J]=typeof $[0]==="string"?[$[0],$[1]]:[$[0].$id,$[1]];if(typeof W!=="string")throw new B0("Ref: $ref must be a string");return g({[F]:"Ref",$ref:W},J)}function W_($,W){return M1("Awaited",[M1($,W)])}function J_($){return M1("Awaited",[V2($)])}function X_($){return j5(Mq($))}function Q_($){return d0(Mq($))}function Y_($){return h9($)}function Mq($){return $.map((W)=>h9(W))}function h9($,W){return g(s2($)?W_($.target,$.parameters):F1($)?X_($.allOf):x0($)?Q_($.anyOf):h4($)?Y_($.item):R1($)?J_($.$ref):$,W)}function Gq($){let W=[];for(let J of $)W.push(m5(J));return W}function M_($){let W=Gq($);return cw(W)}function G_($){let W=Gq($);return yw(W)}function B_($){return $.map((W,J)=>J.toString())}function w_($){return["[number]"]}function q_($){return globalThis.Object.getOwnPropertyNames($)}function H_($){if(!XY)return[];return globalThis.Object.getOwnPropertyNames($).map((J)=>{return J[0]==="^"&&J[J.length-1]==="$"?J.slice(1,J.length-1):J})}function m5($){return F1($)?M_($.allOf):x0($)?G_($.anyOf):w2($)?B_($.items??[]):o2($)?w_($.items):g1($)?q_($.properties):m4($)?H_($.patternProperties):[]}var XY=!1;function q6($){XY=!0;let W=m5($);return XY=!1,`^(${W.map((X)=>`(${X})`).join("|")})$`}function U_($,W){return M1("KeyOf",[M1($,W)])}function z_($){return M1("KeyOf",[V2($)])}function A_($,W){let J=m5($),X=N_(J),Q=P8(X);return g(Q,W)}function N_($){return $.map((W)=>W==="[number]"?K2():E0(W))}function m9($,W){return s2($)?U_($.target,$.parameters):R1($)?z_($.$ref):H1($)?Bq($,W):A_($,W)}function D_($,W){let J={};for(let X of globalThis.Object.getOwnPropertyNames($))J[X]=m9($[X],w1(W));return J}function Z_($,W){return D_($.properties,W)}function Bq($,W){let J=Z_($,W);return T0(J)}function SJ($){let W=m5($),J=b7($,W);return W.map((X,Q)=>[W[Q],J[Q]])}function O_($){let W=[];for(let J of $)W.push(...m5(J));return dw(W)}function S_($){return $.filter((W)=>!y6(W))}function j_($,W){let J=[];for(let X of $)J.push(...b7(X,[W]));return S_(J)}function L_($,W){let J={};for(let X of W)J[X]=ZJ(j_($,X));return J}function wq($,W){let J=O_($),X=L_($,J);return y0(X,W)}function jJ($){return g({[F]:"Date",type:"Date"},$)}function LJ($){return g({[F]:"Null",type:"null"},$)}function _J($){return g({[F]:"Symbol",type:"symbol"},$)}function FJ($){return g({[F]:"Undefined",type:"undefined"},$)}function KJ($){return g({[F]:"Uint8Array",type:"Uint8Array"},$)}function $8($){return g({[F]:"Unknown"},$)}function __($){return $.map((W)=>QY(W,!1))}function F_($){let W={};for(let J of globalThis.Object.getOwnPropertyNames($))W[J]=h5(QY($[J],!1));return W}function bJ($,W){return W===!0?$:h5($)}function QY($,W){return hQ($)?bJ(u6(),W):uQ($)?bJ(u6(),W):k1($)?h5(b2(__($))):J6($)?KJ():v4($)?jJ():l0($)?bJ(y0(F_($)),W):mQ($)?bJ(V8([],$8()),W):T1($)?FJ():lQ($)?LJ():pQ($)?_J():N7($)?y9():Q2($)?E0($):W6($)?E0($):t0($)?E0($):y0({})}function qq($,W){return g(QY($,!0),W)}function Hq($,W){return r2($)?b2($.parameters,W):O0(W)}function Uq($,W){if(T1($))throw new Error("Enum undefined or empty");let J=globalThis.Object.getOwnPropertyNames($).filter((Y)=>isNaN(Y)).map((Y)=>$[Y]),Q=[...new Set(J)].map((Y)=>E0(Y));return d0(Q,{...W,[F2]:"Enum"})}class Zq extends B0{}var f;(function($){$[$.Union=0]="Union",$[$.True=1]="True",$[$.False=2]="False"})(f||(f={}));function P2($){return $===f.False?$:f.True}function u9($){throw new Zq($)}function y1($){return L.IsNever($)||L.IsIntersect($)||L.IsUnion($)||L.IsUnknown($)||L.IsAny($)}function c1($,W){return L.IsNever(W)?jq($,W):L.IsIntersect(W)?CJ($,W):L.IsUnion(W)?wY($,W):L.IsUnknown(W)?Kq($,W):L.IsAny(W)?BY($,W):u9("StructuralRight")}function BY($,W){return f.True}function K_($,W){return L.IsIntersect(W)?CJ($,W):L.IsUnion(W)&&W.anyOf.some((J)=>L.IsAny(J)||L.IsUnknown(J))?f.True:L.IsUnion(W)?f.Union:L.IsUnknown(W)?f.True:L.IsAny(W)?f.True:f.Union}function b_($,W){return L.IsUnknown($)?f.False:L.IsAny($)?f.Union:L.IsNever($)?f.True:f.False}function C_($,W){return L.IsObject(W)&&VJ(W)?f.True:y1(W)?c1($,W):!L.IsArray(W)?f.False:P2(i0($.items,W.items))}function V_($,W){return y1(W)?c1($,W):!L.IsAsyncIterator(W)?f.False:P2(i0($.items,W.items))}function P_($,W){return y1(W)?c1($,W):L.IsObject(W)?L5($,W):L.IsRecord(W)?E2($,W):L.IsBigInt(W)?f.True:f.False}function Oq($,W){return L.IsLiteralBoolean($)?f.True:L.IsBoolean($)?f.True:f.False}function E_($,W){return y1(W)?c1($,W):L.IsObject(W)?L5($,W):L.IsRecord(W)?E2($,W):L.IsBoolean(W)?f.True:f.False}function R_($,W){return y1(W)?c1($,W):L.IsObject(W)?L5($,W):!L.IsConstructor(W)?f.False:$.parameters.length>W.parameters.length?f.False:!$.parameters.every((J,X)=>P2(i0(W.parameters[X],J))===f.True)?f.False:P2(i0($.returns,W.returns))}function I_($,W){return y1(W)?c1($,W):L.IsObject(W)?L5($,W):L.IsRecord(W)?E2($,W):L.IsDate(W)?f.True:f.False}function x_($,W){return y1(W)?c1($,W):L.IsObject(W)?L5($,W):!L.IsFunction(W)?f.False:$.parameters.length>W.parameters.length?f.False:!$.parameters.every((J,X)=>P2(i0(W.parameters[X],J))===f.True)?f.False:P2(i0($.returns,W.returns))}function Sq($,W){return L.IsLiteral($)&&O5.IsNumber($.const)?f.True:L.IsNumber($)||L.IsInteger($)?f.True:f.False}function k_($,W){return L.IsInteger(W)||L.IsNumber(W)?f.True:y1(W)?c1($,W):L.IsObject(W)?L5($,W):L.IsRecord(W)?E2($,W):f.False}function CJ($,W){return W.allOf.every((J)=>i0($,J)===f.True)?f.True:f.False}function T_($,W){return $.allOf.some((J)=>i0(J,W)===f.True)?f.True:f.False}function g_($,W){return y1(W)?c1($,W):!L.IsIterator(W)?f.False:P2(i0($.items,W.items))}function f_($,W){return L.IsLiteral(W)&&W.const===$.const?f.True:y1(W)?c1($,W):L.IsObject(W)?L5($,W):L.IsRecord(W)?E2($,W):L.IsString(W)?Fq($,W):L.IsNumber(W)?Lq($,W):L.IsInteger(W)?Sq($,W):L.IsBoolean(W)?Oq($,W):f.False}function jq($,W){return f.False}function v_($,W){return f.True}function zq($){let[W,J]=[$,0];while(!0){if(!L.IsNot(W))break;W=W.not,J+=1}return J%2===0?W:$8()}function d_($,W){return L.IsNot($)?i0(zq($),W):L.IsNot(W)?i0($,zq(W)):u9("Invalid fallthrough for Not")}function y_($,W){return y1(W)?c1($,W):L.IsObject(W)?L5($,W):L.IsRecord(W)?E2($,W):L.IsNull(W)?f.True:f.False}function Lq($,W){return L.IsLiteralNumber($)?f.True:L.IsNumber($)||L.IsInteger($)?f.True:f.False}function c_($,W){return y1(W)?c1($,W):L.IsObject(W)?L5($,W):L.IsRecord(W)?E2($,W):L.IsInteger(W)||L.IsNumber(W)?f.True:f.False}function u5($,W){return Object.getOwnPropertyNames($.properties).length===W}function Aq($){return VJ($)}function Nq($){return u5($,0)||u5($,1)&&"description"in $.properties&&L.IsUnion($.properties.description)&&$.properties.description.anyOf.length===2&&(L.IsString($.properties.description.anyOf[0])&&L.IsUndefined($.properties.description.anyOf[1])||L.IsString($.properties.description.anyOf[1])&&L.IsUndefined($.properties.description.anyOf[0]))}function YY($){return u5($,0)}function Dq($){return u5($,0)}function h_($){return u5($,0)}function m_($){return u5($,0)}function u_($){return VJ($)}function l_($){let W=K2();return u5($,0)||u5($,1)&&"length"in $.properties&&P2(i0($.properties.length,W))===f.True}function p_($){return u5($,0)}function VJ($){let W=K2();return u5($,0)||u5($,1)&&"length"in $.properties&&P2(i0($.properties.length,W))===f.True}function i_($){let W=V8([u6()],u6());return u5($,0)||u5($,1)&&"then"in $.properties&&P2(i0($.properties.then,W))===f.True}function _q($,W){return i0($,W)===f.False?f.False:L.IsOptional($)&&!L.IsOptional(W)?f.False:f.True}function L5($,W){return L.IsUnknown($)?f.False:L.IsAny($)?f.Union:L.IsNever($)||L.IsLiteralString($)&&Aq(W)||L.IsLiteralNumber($)&&YY(W)||L.IsLiteralBoolean($)&&Dq(W)||L.IsSymbol($)&&Nq(W)||L.IsBigInt($)&&h_(W)||L.IsString($)&&Aq(W)||L.IsSymbol($)&&Nq(W)||L.IsNumber($)&&YY(W)||L.IsInteger($)&&YY(W)||L.IsBoolean($)&&Dq(W)||L.IsUint8Array($)&&u_(W)||L.IsDate($)&&m_(W)||L.IsConstructor($)&&p_(W)||L.IsFunction($)&&l_(W)?f.True:L.IsRecord($)&&L.IsString(MY($))?(()=>{return W[F2]==="Record"?f.True:f.False})():L.IsRecord($)&&L.IsNumber(MY($))?(()=>{return u5(W,0)?f.True:f.False})():f.False}function n_($,W){return y1(W)?c1($,W):L.IsRecord(W)?E2($,W):!L.IsObject(W)?f.False:(()=>{for(let J of Object.getOwnPropertyNames(W.properties)){if(!(J in $.properties)&&!L.IsOptional(W.properties[J]))return f.False;if(L.IsOptional(W.properties[J]))return f.True;if(_q($.properties[J],W.properties[J])===f.False)return f.False}return f.True})()}function o_($,W){return y1(W)?c1($,W):L.IsObject(W)&&i_(W)?f.True:!L.IsPromise(W)?f.False:P2(i0($.item,W.item))}function MY($){return h6 in $.patternProperties?K2():(m6 in $.patternProperties)?I5():u9("Unknown record key pattern")}function GY($){return h6 in $.patternProperties?$.patternProperties[h6]:(m6 in $.patternProperties)?$.patternProperties[m6]:u9("Unable to get record value schema")}function E2($,W){let[J,X]=[MY(W),GY(W)];return L.IsLiteralString($)&&L.IsNumber(J)&&P2(i0($,X))===f.True?f.True:L.IsUint8Array($)&&L.IsNumber(J)?i0($,X):L.IsString($)&&L.IsNumber(J)?i0($,X):L.IsArray($)&&L.IsNumber(J)?i0($,X):L.IsObject($)?(()=>{for(let Q of Object.getOwnPropertyNames($.properties))if(_q(X,$.properties[Q])===f.False)return f.False;return f.True})():f.False}function s_($,W){return y1(W)?c1($,W):L.IsObject(W)?L5($,W):!L.IsRecord(W)?f.False:i0(GY($),GY(W))}function r_($,W){let J=L.IsRegExp($)?I5():$,X=L.IsRegExp(W)?I5():W;return i0(J,X)}function Fq($,W){return L.IsLiteral($)&&O5.IsString($.const)?f.True:L.IsString($)?f.True:f.False}function a_($,W){return y1(W)?c1($,W):L.IsObject(W)?L5($,W):L.IsRecord(W)?E2($,W):L.IsString(W)?f.True:f.False}function t_($,W){return y1(W)?c1($,W):L.IsObject(W)?L5($,W):L.IsRecord(W)?E2($,W):L.IsSymbol(W)?f.True:f.False}function e_($,W){return L.IsTemplateLiteral($)?i0(l4($),W):L.IsTemplateLiteral(W)?i0($,l4(W)):u9("Invalid fallthrough for TemplateLiteral")}function $F($,W){return L.IsArray(W)&&$.items!==void 0&&$.items.every((J)=>i0(J,W.items)===f.True)}function WF($,W){return L.IsNever($)?f.True:L.IsUnknown($)?f.False:L.IsAny($)?f.Union:f.False}function JF($,W){return y1(W)?c1($,W):L.IsObject(W)&&VJ(W)?f.True:L.IsArray(W)&&$F($,W)?f.True:!L.IsTuple(W)?f.False:O5.IsUndefined($.items)&&!O5.IsUndefined(W.items)||!O5.IsUndefined($.items)&&O5.IsUndefined(W.items)?f.False:O5.IsUndefined($.items)&&!O5.IsUndefined(W.items)?f.True:$.items.every((J,X)=>i0(J,W.items[X])===f.True)?f.True:f.False}function XF($,W){return y1(W)?c1($,W):L.IsObject(W)?L5($,W):L.IsRecord(W)?E2($,W):L.IsUint8Array(W)?f.True:f.False}function QF($,W){return y1(W)?c1($,W):L.IsObject(W)?L5($,W):L.IsRecord(W)?E2($,W):L.IsVoid(W)?GF($,W):L.IsUndefined(W)?f.True:f.False}function wY($,W){return W.anyOf.some((J)=>i0($,J)===f.True)?f.True:f.False}function YF($,W){return $.anyOf.every((J)=>i0(J,W)===f.True)?f.True:f.False}function Kq($,W){return f.True}function MF($,W){return L.IsNever(W)?jq($,W):L.IsIntersect(W)?CJ($,W):L.IsUnion(W)?wY($,W):L.IsAny(W)?BY($,W):L.IsString(W)?Fq($,W):L.IsNumber(W)?Lq($,W):L.IsInteger(W)?Sq($,W):L.IsBoolean(W)?Oq($,W):L.IsArray(W)?b_($,W):L.IsTuple(W)?WF($,W):L.IsObject(W)?L5($,W):L.IsUnknown(W)?f.True:f.False}function GF($,W){return L.IsUndefined($)?f.True:L.IsUndefined($)?f.True:f.False}function BF($,W){return L.IsIntersect(W)?CJ($,W):L.IsUnion(W)?wY($,W):L.IsUnknown(W)?Kq($,W):L.IsAny(W)?BY($,W):L.IsObject(W)?L5($,W):L.IsVoid(W)?f.True:f.False}function i0($,W){return L.IsTemplateLiteral($)||L.IsTemplateLiteral(W)?e_($,W):L.IsRegExp($)||L.IsRegExp(W)?r_($,W):L.IsNot($)||L.IsNot(W)?d_($,W):L.IsAny($)?K_($,W):L.IsArray($)?C_($,W):L.IsBigInt($)?P_($,W):L.IsBoolean($)?E_($,W):L.IsAsyncIterator($)?V_($,W):L.IsConstructor($)?R_($,W):L.IsDate($)?I_($,W):L.IsFunction($)?x_($,W):L.IsInteger($)?k_($,W):L.IsIntersect($)?T_($,W):L.IsIterator($)?g_($,W):L.IsLiteral($)?f_($,W):L.IsNever($)?v_($,W):L.IsNull($)?y_($,W):L.IsNumber($)?c_($,W):L.IsObject($)?n_($,W):L.IsRecord($)?s_($,W):L.IsString($)?a_($,W):L.IsSymbol($)?t_($,W):L.IsTuple($)?JF($,W):L.IsPromise($)?o_($,W):L.IsUint8Array($)?XF($,W):L.IsUndefined($)?QF($,W):L.IsUnion($)?YF($,W):L.IsUnknown($)?MF($,W):L.IsVoid($)?BF($,W):u9(`Unknown left type operand '${$[F]}'`)}function p6($,W){return i0($,W)}function wF($,W,J,X,Q){let Y={};for(let M of globalThis.Object.getOwnPropertyNames($))Y[M]=l9($[M],W,J,X,w1(Q));return Y}function qF($,W,J,X,Q){return wF($.properties,W,J,X,Q)}function bq($,W,J,X,Q){let Y=qF($,W,J,X,Q);return T0(Y)}function HF($,W,J,X){let Q=p6($,W);return Q===f.Union?d0([J,X]):Q===f.True?J:X}function l9($,W,J,X,Q){return H1($)?bq($,W,J,X,Q):G2($)?g(Cq($,W,J,X,Q)):g(HF($,W,J,X),Q)}function UF($,W,J,X,Q){return{[$]:l9(E0($),W,J,X,w1(Q))}}function zF($,W,J,X,Q){return $.reduce((Y,M)=>{return{...Y,...UF(M,W,J,X,Q)}},{})}function AF($,W,J,X,Q){return zF($.keys,W,J,X,Q)}function Cq($,W,J,X,Q){let Y=AF($,W,J,X,Q);return T0(Y)}function NF($){return $.allOf.every((W)=>H6(W))}function DF($){return $.anyOf.some((W)=>H6(W))}function ZF($){return!H6($.not)}function H6($){return $[F]==="Intersect"?NF($):$[F]==="Union"?DF($):$[F]==="Not"?ZF($):$[F]==="Undefined"?!0:!1}function Vq($,W){return p9(l4($),W)}function OF($,W){let J=$.filter((X)=>p6(X,W)===f.False);return J.length===1?J[0]:d0(J)}function p9($,W,J={}){if(B2($))return g(Vq($,W),J);if(H1($))return g(Pq($,W),J);return g(x0($)?OF($.anyOf,W):p6($,W)!==f.False?O0():$,J)}function SF($,W){let J={};for(let X of globalThis.Object.getOwnPropertyNames($))J[X]=p9($[X],W);return J}function jF($,W){return SF($.properties,W)}function Pq($,W){let J=jF($,W);return T0(J)}function Eq($,W){return i9(l4($),W)}function LF($,W){let J=$.filter((X)=>p6(X,W)!==f.False);return J.length===1?J[0]:d0(J)}function i9($,W,J){if(B2($))return g(Eq($,W),J);if(H1($))return g(Rq($,W),J);return g(x0($)?LF($.anyOf,W):p6($,W)!==f.False?$:O0(),J)}function _F($,W){let J={};for(let X of globalThis.Object.getOwnPropertyNames($))J[X]=i9($[X],W);return J}function FF($,W){return _F($.properties,W)}function Rq($,W){let J=FF($,W);return T0(J)}function Iq($,W){return r2($)?g($.returns,W):O0(W)}function PJ($){return h5(S5($))}function p4($,W,J){return g({[F]:"Record",type:"object",patternProperties:{[$]:W}},J)}function qY($,W,J){let X={};for(let Q of $)X[Q]=W;return y0(X,{...J,[F2]:"Record"})}function KF($,W,J){return AJ($)?qY(c5($),W,J):p4($.pattern,W,J)}function bF($,W,J){return qY(c5(d0($)),W,J)}function CF($,W,J){return qY([$.toString()],W,J)}function VF($,W,J){return p4($.source,W,J)}function PF($,W,J){let X=T1($.pattern)?m6:$.pattern;return p4(X,W,J)}function EF($,W,J){return p4(m6,W,J)}function RF($,W,J){return p4(fw,W,J)}function IF($,W,J){return y0({true:W,false:W},J)}function xF($,W,J){return p4(h6,W,J)}function kF($,W,J){return p4(h6,W,J)}function EJ($,W,J={}){return x0($)?bF($.anyOf,W,J):B2($)?KF($,W,J):M2($)?CF($.const,W,J):Y6($)?IF($,W,J):t2($)?xF($,W,J):e2($)?kF($,W,J):sQ($)?VF($,W,J):M6($)?PF($,W,J):nQ($)?EF($,W,J):y6($)?RF($,W,J):O0(J)}function RJ($){return globalThis.Object.getOwnPropertyNames($.patternProperties)[0]}function xq($){let W=RJ($);return W===m6?I5():W===h6?K2():I5({pattern:W})}function IJ($){return $.patternProperties[RJ($)]}function TF($,W){return W.parameters=P7($,W.parameters),W.returns=W8($,W.returns),W}function gF($,W){return W.parameters=P7($,W.parameters),W.returns=W8($,W.returns),W}function fF($,W){return W.allOf=P7($,W.allOf),W}function vF($,W){return W.anyOf=P7($,W.anyOf),W}function dF($,W){if(T1(W.items))return W;return W.items=P7($,W.items),W}function yF($,W){return W.items=W8($,W.items),W}function cF($,W){return W.items=W8($,W.items),W}function hF($,W){return W.items=W8($,W.items),W}function mF($,W){return W.item=W8($,W.item),W}function uF($,W){let J=nF($,W.properties);return{...W,...y0(J)}}function lF($,W){let J=W8($,xq(W)),X=W8($,IJ(W)),Q=EJ(J,X);return{...W,...Q}}function pF($,W){return W.index in $?$[W.index]:$8()}function iF($,W){let J=R9(W),X=y5(W),Q=W8($,W);return J&&X?PJ(Q):J&&!X?h5(Q):!J&&X?S5(Q):Q}function nF($,W){return globalThis.Object.getOwnPropertyNames(W).reduce((J,X)=>{return{...J,[X]:iF($,W[X])}},{})}function P7($,W){return W.map((J)=>W8($,J))}function W8($,W){return r2(W)?TF($,W):a2(W)?gF($,W):F1(W)?fF($,W):x0(W)?vF($,W):w2(W)?dF($,W):o2(W)?yF($,W):d4(W)?cF($,W):c4(W)?hF($,W):h4(W)?mF($,W):g1(W)?uF($,W):m4(W)?lF($,W):oQ(W)?pF($,W):W}function kq($,W){return W8(W,P9($))}function Tq($){return g({[F]:"Integer",type:"integer"},$)}function oF($,W,J){return{[$]:J8(E0($),W,w1(J))}}function sF($,W,J){return $.reduce((Q,Y)=>{return{...Q,...oF(Y,W,J)}},{})}function rF($,W,J){return sF($.keys,W,J)}function gq($,W,J){let X=rF($,W,J);return T0(X)}function aF($){let[W,J]=[$.slice(0,1),$.slice(1)];return[W.toLowerCase(),J].join("")}function tF($){let[W,J]=[$.slice(0,1),$.slice(1)];return[W.toUpperCase(),J].join("")}function eF($){return $.toUpperCase()}function $K($){return $.toLowerCase()}function WK($,W,J){let X=v9($.pattern);if(!u4(X))return{...$,pattern:fq($.pattern,W)};let M=[...K7(X)].map((w)=>E0(w)),G=vq(M,W),B=d0(G);return DJ([B],J)}function fq($,W){return typeof $==="string"?W==="Uncapitalize"?aF($):W==="Capitalize"?tF($):W==="Uppercase"?eF($):W==="Lowercase"?$K($):$:$.toString()}function vq($,W){return $.map((J)=>J8(J,W))}function J8($,W,J={}){return G2($)?gq($,W,J):B2($)?WK($,W,J):x0($)?d0(vq($.anyOf,W),J):M2($)?E0(fq($.const,W),J):g($,J)}function dq($,W={}){return J8($,"Capitalize",W)}function yq($,W={}){return J8($,"Lowercase",W)}function cq($,W={}){return J8($,"Uncapitalize",W)}function hq($,W={}){return J8($,"Uppercase",W)}function JK($,W,J){let X={};for(let Q of globalThis.Object.getOwnPropertyNames($))X[Q]=i6($[Q],W,w1(J));return X}function XK($,W,J){return JK($.properties,W,J)}function mq($,W,J){let X=XK($,W,J);return T0(X)}function QK($,W){return $.map((J)=>HY(J,W))}function YK($,W){return $.map((J)=>HY(J,W))}function MK($,W){let{[W]:J,...X}=$;return X}function GK($,W){return W.reduce((J,X)=>MK(J,X),$)}function BK($,W){let J=K1($,[r0,"$id","required","properties"]),X=GK($.properties,W);return y0(X,J)}function wK($){let W=$.reduce((J,X)=>HJ(X)?[...J,E0(X)]:J,[]);return d0(W)}function HY($,W){return F1($)?j5(QK($.allOf,W)):x0($)?d0(YK($.anyOf,W)):g1($)?BK($,W):y0({})}function i6($,W,J){let X=k1(W)?wK(W):W,Q=D1(W)?c5(W):W,Y=R1($),M=R1(W);return H1($)?mq($,Q,J):G2(W)?uq($,W,J):Y&&M?M1("Omit",[$,X],J):!Y&&M?M1("Omit",[$,X],J):Y&&!M?M1("Omit",[$,X],J):g({...HY($,Q),...J})}function qK($,W,J){return{[W]:i6($,[W],w1(J))}}function HK($,W,J){return W.reduce((X,Q)=>{return{...X,...qK($,Q,J)}},{})}function UK($,W,J){return HK($,W.keys,J)}function uq($,W,J){let X=UK($,W,J);return T0(X)}function zK($,W,J){let X={};for(let Q of globalThis.Object.getOwnPropertyNames($))X[Q]=n6($[Q],W,w1(J));return X}function AK($,W,J){return zK($.properties,W,J)}function lq($,W,J){let X=AK($,W,J);return T0(X)}function NK($,W){return $.map((J)=>UY(J,W))}function DK($,W){return $.map((J)=>UY(J,W))}function ZK($,W){let J={};for(let X of W)if(X in $)J[X]=$[X];return J}function OK($,W){let J=K1($,[r0,"$id","required","properties"]),X=ZK($.properties,W);return y0(X,J)}function SK($){let W=$.reduce((J,X)=>HJ(X)?[...J,E0(X)]:J,[]);return d0(W)}function UY($,W){return F1($)?j5(NK($.allOf,W)):x0($)?d0(DK($.anyOf,W)):g1($)?OK($,W):y0({})}function n6($,W,J){let X=k1(W)?SK(W):W,Q=D1(W)?c5(W):W,Y=R1($),M=R1(W);return H1($)?lq($,Q,J):G2(W)?pq($,W,J):Y&&M?M1("Pick",[$,X],J):!Y&&M?M1("Pick",[$,X],J):Y&&!M?M1("Pick",[$,X],J):g({...UY($,Q),...J})}function jK($,W,J){return{[W]:n6($,[W],w1(J))}}function LK($,W,J){return W.reduce((X,Q)=>{return{...X,...jK($,Q,J)}},{})}function _K($,W,J){return LK($,W.keys,J)}function pq($,W,J){let X=_K($,W,J);return T0(X)}function FK($,W){return M1("Partial",[M1($,W)])}function KK($){return M1("Partial",[V2($)])}function bK($){let W={};for(let J of globalThis.Object.getOwnPropertyNames($))W[J]=S5($[J]);return W}function CK($){let W=K1($,[r0,"$id","required","properties"]),J=bK($.properties);return y0(J,W)}function iq($){return $.map((W)=>nq(W))}function nq($){return s2($)?FK($.target,$.parameters):R1($)?KK($.$ref):F1($)?j5(iq($.allOf)):x0($)?d0(iq($.anyOf)):g1($)?CK($):y4($)?$:Y6($)?$:t2($)?$:M2($)?$:O7($)?$:e2($)?$:M6($)?$:S7($)?$:G6($)?$:y0({})}function n9($,W){if(H1($))return oq($,W);else return g({...nq($),...W})}function VK($,W){let J={};for(let X of globalThis.Object.getOwnPropertyNames($))J[X]=n9($[X],w1(W));return J}function PK($,W){return VK($.properties,W)}function oq($,W){let J=PK($,W);return T0(J)}function EK($,W){return M1("Required",[M1($,W)])}function RK($){return M1("Required",[V2($)])}function IK($){let W={};for(let J of globalThis.Object.getOwnPropertyNames($))W[J]=K1($[J],[n1]);return W}function xK($){let W=K1($,[r0,"$id","required","properties"]),J=IK($.properties);return y0(J,W)}function sq($){return $.map((W)=>rq(W))}function rq($){return s2($)?EK($.target,$.parameters):R1($)?RK($.$ref):F1($)?j5(sq($.allOf)):x0($)?d0(sq($.anyOf)):g1($)?xK($):y4($)?$:Y6($)?$:t2($)?$:M2($)?$:O7($)?$:e2($)?$:M6($)?$:S7($)?$:G6($)?$:y0({})}function o9($,W){if(H1($))return aq($,W);else return g({...rq($),...W})}function kK($,W){let J={};for(let X of globalThis.Object.getOwnPropertyNames($))J[X]=o9($[X],W);return J}function TK($,W){return kK($.properties,W)}function aq($,W){let J=TK($,W);return T0(J)}function gK($,W){return W.map((J)=>{return R1(J)?zY($,J.$ref):q2($,J)})}function zY($,W){return W in $?R1($[W])?zY($,$[W].$ref):q2($,$[W]):O0()}function fK($){return h9($[0])}function vK($){return l6($[0],$[1])}function dK($){return m9($[0])}function yK($){return n9($[0])}function cK($){return i6($[0],$[1])}function hK($){return n6($[0],$[1])}function mK($){return o9($[0])}function uK($,W,J){let X=gK($,J);return W==="Awaited"?fK(X):W==="Index"?vK(X):W==="KeyOf"?dK(X):W==="Partial"?yK(X):W==="Omit"?cK(X):W==="Pick"?hK(X):W==="Required"?mK(X):O0()}function lK($,W){return k9(q2($,W))}function pK($,W){return T9(q2($,W))}function iK($,W,J){return g9(E7($,W),q2($,J))}function nK($,W,J){return V8(E7($,W),q2($,J))}function oK($,W){return j5(E7($,W))}function sK($,W){return c9(q2($,W))}function rK($,W){return y0(globalThis.Object.keys(W).reduce((J,X)=>{return{...J,[X]:q2($,W[X])}},{}))}function aK($,W){let[J,X]=[q2($,IJ(W)),RJ(W)],Q=P9(W);return Q.patternProperties[X]=J,Q}function tK($,W){return R1(W)?{...zY($,W.$ref),[r0]:W[r0]}:W}function eK($,W){return b2(E7($,W))}function $b($,W){return d0(E7($,W))}function E7($,W){return W.map((J)=>q2($,J))}function q2($,W){return y5(W)?g(q2($,K1(W,[n1])),W):R9(W)?g(q2($,K1(W,[n2])),W):v0(W)?g(tK($,W),W):o2(W)?g(lK($,W.items),W):d4(W)?g(pK($,W.items),W):s2(W)?g(uK($,W.target,W.parameters)):r2(W)?g(iK($,W.parameters,W.returns),W):a2(W)?g(nK($,W.parameters,W.returns),W):F1(W)?g(oK($,W.allOf),W):c4(W)?g(sK($,W.items),W):g1(W)?g(rK($,W.properties),W):m4(W)?g(aK($,W)):w2(W)?g(eK($,W.items||[]),W):x0(W)?g($b($,W.anyOf),W):W}function Wb($,W){return W in $?q2($,$[W]):O0()}function tq($){return globalThis.Object.getOwnPropertyNames($).reduce((W,J)=>{return{...W,[J]:Wb($,J)}},{})}class eq{constructor($){let W=tq($),J=this.WithIdentifiers(W);this.$defs=J}Import($,W){let J={...this.$defs,[$]:g(this.$defs[$],W)};return g({[F]:"Import",$defs:J,$ref:$})}WithIdentifiers($){return globalThis.Object.getOwnPropertyNames($).reduce((W,J)=>{return{...W,[J]:{...$[J],$id:J}}},{})}}function $H($){return new eq($)}function WH($,W){return g({[F]:"Not",not:$},W)}function JH($,W){return a2($)?b2($.parameters,W):O0()}var Jb=0;function XH($,W={}){if(T1(W.$id))W.$id=`T${Jb++}`;let J=P9($({[F]:"This",$ref:`${W.$id}`}));return J.$id=W.$id,g({[F2]:"Recursive",...J},W)}function QH($,W){let J=t0($)?new globalThis.RegExp($):$;return g({[F]:"RegExp",type:"RegExp",source:J.source,flags:J.flags},W)}function Xb($){return F1($)?$.allOf:x0($)?$.anyOf:w2($)?$.items??[]:[]}function YH($){return Xb($)}function MH($,W){return a2($)?g($.returns,W):O0(W)}class GH{constructor($){this.schema=$}Decode($){return new BH(this.schema,$)}}class BH{constructor($,W){this.schema=$,this.decode=W}EncodeTransform($,W){let Q={Encode:(Y)=>W[r0].Encode($(Y)),Decode:(Y)=>this.decode(W[r0].Decode(Y))};return{...W,[r0]:Q}}EncodeSchema($,W){let J={Decode:this.decode,Encode:$};return{...W,[r0]:J}}Encode($){return v0(this.schema)?this.EncodeTransform($,this.schema):this.EncodeSchema($,this.schema)}}function wH($){return new GH($)}function xJ($={}){return g({[F]:$[F]??"Unsafe"},$)}function qH($){return g({[F]:"Void",type:"void"},$)}var AY={};$6(AY,{Void:()=>qH,Uppercase:()=>hq,Unsafe:()=>xJ,Unknown:()=>$8,Union:()=>d0,Undefined:()=>FJ,Uncapitalize:()=>cq,Uint8Array:()=>KJ,Tuple:()=>b2,Transform:()=>wH,TemplateLiteral:()=>DJ,Symbol:()=>_J,String:()=>I5,ReturnType:()=>MH,Rest:()=>YH,Required:()=>o9,RegExp:()=>QH,Ref:()=>V2,Recursive:()=>XH,Record:()=>EJ,ReadonlyOptional:()=>PJ,Readonly:()=>h5,Promise:()=>OJ,Pick:()=>n6,Partial:()=>n9,Parameters:()=>JH,Optional:()=>S5,Omit:()=>i6,Object:()=>y0,Number:()=>K2,Null:()=>LJ,Not:()=>WH,Never:()=>O0,Module:()=>$H,Mapped:()=>Xq,Lowercase:()=>yq,Literal:()=>E0,KeyOf:()=>m9,Iterator:()=>c9,Intersect:()=>j5,Integer:()=>Tq,Instantiate:()=>kq,InstanceType:()=>Iq,Index:()=>l6,Function:()=>V8,Extract:()=>i9,Extends:()=>l9,Exclude:()=>p9,Enum:()=>Uq,Date:()=>jJ,ConstructorParameters:()=>Hq,Constructor:()=>g9,Const:()=>qq,Composite:()=>wq,Capitalize:()=>dq,Boolean:()=>NJ,BigInt:()=>y9,Awaited:()=>h9,AsyncIterator:()=>T9,Array:()=>k9,Argument:()=>hw,Any:()=>u6});var X8=AY;var BM=V9(R7(),1);function Gb($){switch($.errorType){case I.ArrayContains:return"Expected array to contain at least one matching value";case I.ArrayMaxContains:return`Expected array to contain no more than ${$.schema.maxContains} matching values`;case I.ArrayMinContains:return`Expected array to contain at least ${$.schema.minContains} matching values`;case I.ArrayMaxItems:return`Expected array length to be less or equal to ${$.schema.maxItems}`;case I.ArrayMinItems:return`Expected array length to be greater or equal to ${$.schema.minItems}`;case I.ArrayUniqueItems:return"Expected array elements to be unique";case I.Array:return"Expected array";case I.AsyncIterator:return"Expected AsyncIterator";case I.BigIntExclusiveMaximum:return`Expected bigint to be less than ${$.schema.exclusiveMaximum}`;case I.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${$.schema.exclusiveMinimum}`;case I.BigIntMaximum:return`Expected bigint to be less or equal to ${$.schema.maximum}`;case I.BigIntMinimum:return`Expected bigint to be greater or equal to ${$.schema.minimum}`;case I.BigIntMultipleOf:return`Expected bigint to be a multiple of ${$.schema.multipleOf}`;case I.BigInt:return"Expected bigint";case I.Boolean:return"Expected boolean";case I.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${$.schema.exclusiveMinimumTimestamp}`;case I.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${$.schema.exclusiveMaximumTimestamp}`;case I.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${$.schema.minimumTimestamp}`;case I.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${$.schema.maximumTimestamp}`;case I.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${$.schema.multipleOfTimestamp}`;case I.Date:return"Expected Date";case I.Function:return"Expected function";case I.IntegerExclusiveMaximum:return`Expected integer to be less than ${$.schema.exclusiveMaximum}`;case I.IntegerExclusiveMinimum:return`Expected integer to be greater than ${$.schema.exclusiveMinimum}`;case I.IntegerMaximum:return`Expected integer to be less or equal to ${$.schema.maximum}`;case I.IntegerMinimum:return`Expected integer to be greater or equal to ${$.schema.minimum}`;case I.IntegerMultipleOf:return`Expected integer to be a multiple of ${$.schema.multipleOf}`;case I.Integer:return"Expected integer";case I.IntersectUnevaluatedProperties:return"Unexpected property";case I.Intersect:return"Expected all values to match";case I.Iterator:return"Expected Iterator";case I.Literal:return`Expected ${typeof $.schema.const==="string"?`'${$.schema.const}'`:$.schema.const}`;case I.Never:return"Never";case I.Not:return"Value should not match";case I.Null:return"Expected null";case I.NumberExclusiveMaximum:return`Expected number to be less than ${$.schema.exclusiveMaximum}`;case I.NumberExclusiveMinimum:return`Expected number to be greater than ${$.schema.exclusiveMinimum}`;case I.NumberMaximum:return`Expected number to be less or equal to ${$.schema.maximum}`;case I.NumberMinimum:return`Expected number to be greater or equal to ${$.schema.minimum}`;case I.NumberMultipleOf:return`Expected number to be a multiple of ${$.schema.multipleOf}`;case I.Number:return"Expected number";case I.Object:return"Expected object";case I.ObjectAdditionalProperties:return"Unexpected property";case I.ObjectMaxProperties:return`Expected object to have no more than ${$.schema.maxProperties} properties`;case I.ObjectMinProperties:return`Expected object to have at least ${$.schema.minProperties} properties`;case I.ObjectRequiredProperty:return"Expected required property";case I.Promise:return"Expected Promise";case I.RegExp:return"Expected string to match regular expression";case I.StringFormatUnknown:return`Unknown format '${$.schema.format}'`;case I.StringFormat:return`Expected string to match '${$.schema.format}' format`;case I.StringMaxLength:return`Expected string length less or equal to ${$.schema.maxLength}`;case I.StringMinLength:return`Expected string length greater or equal to ${$.schema.minLength}`;case I.StringPattern:return`Expected string to match '${$.schema.pattern}'`;case I.String:return"Expected string";case I.Symbol:return"Expected symbol";case I.TupleLength:return`Expected tuple to have ${$.schema.maxItems||0} elements`;case I.Tuple:return"Expected tuple";case I.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${$.schema.maxByteLength}`;case I.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${$.schema.minByteLength}`;case I.Uint8Array:return"Expected Uint8Array";case I.Undefined:return"Expected undefined";case I.Union:return"Expected union value";case I.Void:return"Expected void";case I.Kind:return`Expected kind '${$.schema[F]}'`;default:return"Unknown error type"}}var Bb=Gb;function AH(){return Bb}class NH extends B0{constructor($){super(`Unable to dereference schema with $id '${$.$ref}'`);this.schema=$}}function wb($,W){let J=W.find((X)=>X.$id===$.$ref);if(J===void 0)throw new NH($);return k0(J,W)}function $5($,W){if(!I0($.$id)||W.some((J)=>J.$id===$.$id))return W;return W.push($),W}function k0($,W){return $[F]==="This"||$[F]==="Ref"?wb($,W):$}class DH extends B0{constructor($){super("Unable to hash value");this.value=$}}var H2;(function($){$[$.Undefined=0]="Undefined",$[$.Null=1]="Null",$[$.Boolean=2]="Boolean",$[$.Number=3]="Number",$[$.String=4]="String",$[$.Object=5]="Object",$[$.Array=6]="Array",$[$.Date=7]="Date",$[$.Uint8Array=8]="Uint8Array",$[$.Symbol=9]="Symbol",$[$.BigInt=10]="BigInt"})(H2||(H2={}));var s9=BigInt("14695981039346656037"),[qb,Hb]=[BigInt("1099511628211"),BigInt("18446744073709551616")],Ub=Array.from({length:256}).map(($,W)=>BigInt(W)),ZH=new Float64Array(1),OH=new DataView(ZH.buffer),SH=new Uint8Array(ZH.buffer);function*zb($){let W=$===0?1:Math.ceil(Math.floor(Math.log2($)+1)/8);for(let J=0;J<W;J++)yield $>>8*(W-1-J)&255}function Ab($){_5(H2.Array);for(let W of $)r9(W)}function Nb($){_5(H2.Boolean),_5($?1:0)}function Db($){_5(H2.BigInt),OH.setBigInt64(0,$);for(let W of SH)_5(W)}function Zb($){_5(H2.Date),r9($.getTime())}function Ob($){_5(H2.Null)}function Sb($){_5(H2.Number),OH.setFloat64(0,$);for(let W of SH)_5(W)}function jb($){_5(H2.Object);for(let W of globalThis.Object.getOwnPropertyNames($).sort())r9(W),r9($[W])}function Lb($){_5(H2.String);for(let W=0;W<$.length;W++)for(let J of zb($.charCodeAt(W)))_5(J)}function _b($){_5(H2.Symbol),r9($.description)}function Fb($){_5(H2.Uint8Array);for(let W=0;W<$.length;W++)_5($[W])}function Kb($){return _5(H2.Undefined)}function r9($){if(M0($))return Ab($);if(C8($))return Nb($);if(w5($))return Db($);if(R5($))return Zb($);if(X6($))return Ob($);if(X0($))return Sb($);if(A0($))return jb($);if(I0($))return Lb($);if(Q6($))return _b($);if(E9($))return Fb($);if(q1($))return Kb($);throw new DH($)}function _5($){s9=s9^Ub[$],s9=s9*qb%Hb}function o6($){return s9=BigInt("14695981039346656037"),r9($),s9}class jH extends B0{constructor($){super("Unknown type");this.schema=$}}function bb($){return $[F]==="Any"||$[F]==="Unknown"}function F0($){return $!==void 0}function Cb($,W,J){return!0}function Vb($,W,J){return!0}function Pb($,W,J){if(!M0(J))return!1;if(F0($.minItems)&&!(J.length>=$.minItems))return!1;if(F0($.maxItems)&&!(J.length<=$.maxItems))return!1;if(!J.every((Y)=>W5($.items,W,Y)))return!1;if($.uniqueItems===!0&&!function(){let Y=new Set;for(let M of J){let G=o6(M);if(Y.has(G))return!1;else Y.add(G)}return!0}())return!1;if(!(F0($.contains)||X0($.minContains)||X0($.maxContains)))return!0;let X=F0($.contains)?$.contains:O0(),Q=J.reduce((Y,M)=>W5(X,W,M)?Y+1:Y,0);if(Q===0)return!1;if(X0($.minContains)&&Q<$.minContains)return!1;if(X0($.maxContains)&&Q>$.maxContains)return!1;return!0}function Eb($,W,J){return GJ(J)}function Rb($,W,J){if(!w5(J))return!1;if(F0($.exclusiveMaximum)&&!(J<$.exclusiveMaximum))return!1;if(F0($.exclusiveMinimum)&&!(J>$.exclusiveMinimum))return!1;if(F0($.maximum)&&!(J<=$.maximum))return!1;if(F0($.minimum)&&!(J>=$.minimum))return!1;if(F0($.multipleOf)&&J%$.multipleOf!==BigInt(0))return!1;return!0}function Ib($,W,J){return C8(J)}function xb($,W,J){return W5($.returns,W,J.prototype)}function kb($,W,J){if(!R5(J))return!1;if(F0($.exclusiveMaximumTimestamp)&&!(J.getTime()<$.exclusiveMaximumTimestamp))return!1;if(F0($.exclusiveMinimumTimestamp)&&!(J.getTime()>$.exclusiveMinimumTimestamp))return!1;if(F0($.maximumTimestamp)&&!(J.getTime()<=$.maximumTimestamp))return!1;if(F0($.minimumTimestamp)&&!(J.getTime()>=$.minimumTimestamp))return!1;if(F0($.multipleOfTimestamp)&&J.getTime()%$.multipleOfTimestamp!==0)return!1;return!0}function Tb($,W,J){return d6(J)}function gb($,W,J){let X=globalThis.Object.values($.$defs),Q=$.$defs[$.$ref];return W5(Q,[...W,...X],J)}function fb($,W,J){if(!qJ(J))return!1;if(F0($.exclusiveMaximum)&&!(J<$.exclusiveMaximum))return!1;if(F0($.exclusiveMinimum)&&!(J>$.exclusiveMinimum))return!1;if(F0($.maximum)&&!(J<=$.maximum))return!1;if(F0($.minimum)&&!(J>=$.minimum))return!1;if(F0($.multipleOf)&&J%$.multipleOf!==0)return!1;return!0}function vb($,W,J){let X=$.allOf.every((Q)=>W5(Q,W,J));if($.unevaluatedProperties===!1){let Q=new RegExp(q6($)),Y=Object.getOwnPropertyNames(J).every((M)=>Q.test(M));return X&&Y}else if(D1($.unevaluatedProperties)){let Q=new RegExp(q6($)),Y=Object.getOwnPropertyNames(J).every((M)=>Q.test(M)||W5($.unevaluatedProperties,W,J[M]));return X&&Y}else return X}function db($,W,J){return BJ(J)}function yb($,W,J){return J===$.const}function cb($,W,J){return!1}function hb($,W,J){return!W5($.not,W,J)}function mb($,W,J){return X6(J)}function ub($,W,J){if(!Y1.IsNumberLike(J))return!1;if(F0($.exclusiveMaximum)&&!(J<$.exclusiveMaximum))return!1;if(F0($.exclusiveMinimum)&&!(J>$.exclusiveMinimum))return!1;if(F0($.minimum)&&!(J>=$.minimum))return!1;if(F0($.maximum)&&!(J<=$.maximum))return!1;if(F0($.multipleOf)&&J%$.multipleOf!==0)return!1;return!0}function lb($,W,J){if(!Y1.IsObjectLike(J))return!1;if(F0($.minProperties)&&!(Object.getOwnPropertyNames(J).length>=$.minProperties))return!1;if(F0($.maxProperties)&&!(Object.getOwnPropertyNames(J).length<=$.maxProperties))return!1;let X=Object.getOwnPropertyNames($.properties);for(let Q of X){let Y=$.properties[Q];if($.required&&$.required.includes(Q)){if(!W5(Y,W,J[Q]))return!1;if((H6(Y)||bb(Y))&&!(Q in J))return!1}else if(Y1.IsExactOptionalProperty(J,Q)&&!W5(Y,W,J[Q]))return!1}if($.additionalProperties===!1){let Q=Object.getOwnPropertyNames(J);if($.required&&$.required.length===X.length&&Q.length===X.length)return!0;else return Q.every((Y)=>X.includes(Y))}else if(typeof $.additionalProperties==="object")return Object.getOwnPropertyNames(J).every((Y)=>X.includes(Y)||W5($.additionalProperties,W,J[Y]));else return!0}function pb($,W,J){return wJ(J)}function ib($,W,J){if(!Y1.IsRecordLike(J))return!1;if(F0($.minProperties)&&!(Object.getOwnPropertyNames(J).length>=$.minProperties))return!1;if(F0($.maxProperties)&&!(Object.getOwnPropertyNames(J).length<=$.maxProperties))return!1;let[X,Q]=Object.entries($.patternProperties)[0],Y=new RegExp(X),M=Object.entries(J).every(([w,q])=>{return Y.test(w)?W5(Q,W,q):!0}),G=typeof $.additionalProperties==="object"?Object.entries(J).every(([w,q])=>{return!Y.test(w)?W5($.additionalProperties,W,q):!0}):!0,B=$.additionalProperties===!1?Object.getOwnPropertyNames(J).every((w)=>{return Y.test(w)}):!0;return M&&G&&B}function nb($,W,J){return W5(k0($,W),W,J)}function ob($,W,J){let X=new RegExp($.source,$.flags);if(F0($.minLength)){if(!(J.length>=$.minLength))return!1}if(F0($.maxLength)){if(!(J.length<=$.maxLength))return!1}return X.test(J)}function sb($,W,J){if(!I0(J))return!1;if(F0($.minLength)){if(!(J.length>=$.minLength))return!1}if(F0($.maxLength)){if(!(J.length<=$.maxLength))return!1}if(F0($.pattern)){if(!new RegExp($.pattern).test(J))return!1}if(F0($.format)){if(!u0.Has($.format))return!1;return u0.Get($.format)(J)}return!0}function rb($,W,J){return Q6(J)}function ab($,W,J){return I0(J)&&new RegExp($.pattern).test(J)}function tb($,W,J){return W5(k0($,W),W,J)}function eb($,W,J){if(!M0(J))return!1;if($.items===void 0&&J.length!==0)return!1;if(J.length!==$.maxItems)return!1;if(!$.items)return!0;for(let X=0;X<$.items.length;X++)if(!W5($.items[X],W,J[X]))return!1;return!0}function $3($,W,J){return q1(J)}function W3($,W,J){return $.anyOf.some((X)=>W5(X,W,J))}function J3($,W,J){if(!E9(J))return!1;if(F0($.maxByteLength)&&!(J.length<=$.maxByteLength))return!1;if(F0($.minByteLength)&&!(J.length>=$.minByteLength))return!1;return!0}function X3($,W,J){return!0}function Q3($,W,J){return Y1.IsVoidLike(J)}function Y3($,W,J){if(!o1.Has($[F]))return!1;return o1.Get($[F])($,J)}function W5($,W,J){let X=F0($.$id)?$5($,W):W,Q=$;switch(Q[F]){case"Any":return Cb(Q,X,J);case"Argument":return Vb(Q,X,J);case"Array":return Pb(Q,X,J);case"AsyncIterator":return Eb(Q,X,J);case"BigInt":return Rb(Q,X,J);case"Boolean":return Ib(Q,X,J);case"Constructor":return xb(Q,X,J);case"Date":return kb(Q,X,J);case"Function":return Tb(Q,X,J);case"Import":return gb(Q,X,J);case"Integer":return fb(Q,X,J);case"Intersect":return vb(Q,X,J);case"Iterator":return db(Q,X,J);case"Literal":return yb(Q,X,J);case"Never":return cb(Q,X,J);case"Not":return hb(Q,X,J);case"Null":return mb(Q,X,J);case"Number":return ub(Q,X,J);case"Object":return lb(Q,X,J);case"Promise":return pb(Q,X,J);case"Record":return ib(Q,X,J);case"Ref":return nb(Q,X,J);case"RegExp":return ob(Q,X,J);case"String":return sb(Q,X,J);case"Symbol":return rb(Q,X,J);case"TemplateLiteral":return ab(Q,X,J);case"This":return tb(Q,X,J);case"Tuple":return eb(Q,X,J);case"Undefined":return $3(Q,X,J);case"Union":return W3(Q,X,J);case"Uint8Array":return J3(Q,X,J);case"Unknown":return X3(Q,X,J);case"Void":return Q3(Q,X,J);default:if(!o1.Has(Q[F]))throw new jH(Q);return Y3(Q,X,J)}}function S0(...$){return $.length===3?W5($[0],$[1],$[2]):W5($[0],[],$[1])}var I;(function($){$[$.ArrayContains=0]="ArrayContains",$[$.ArrayMaxContains=1]="ArrayMaxContains",$[$.ArrayMaxItems=2]="ArrayMaxItems",$[$.ArrayMinContains=3]="ArrayMinContains",$[$.ArrayMinItems=4]="ArrayMinItems",$[$.ArrayUniqueItems=5]="ArrayUniqueItems",$[$.Array=6]="Array",$[$.AsyncIterator=7]="AsyncIterator",$[$.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",$[$.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",$[$.BigIntMaximum=10]="BigIntMaximum",$[$.BigIntMinimum=11]="BigIntMinimum",$[$.BigIntMultipleOf=12]="BigIntMultipleOf",$[$.BigInt=13]="BigInt",$[$.Boolean=14]="Boolean",$[$.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",$[$.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",$[$.DateMaximumTimestamp=17]="DateMaximumTimestamp",$[$.DateMinimumTimestamp=18]="DateMinimumTimestamp",$[$.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",$[$.Date=20]="Date",$[$.Function=21]="Function",$[$.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",$[$.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",$[$.IntegerMaximum=24]="IntegerMaximum",$[$.IntegerMinimum=25]="IntegerMinimum",$[$.IntegerMultipleOf=26]="IntegerMultipleOf",$[$.Integer=27]="Integer",$[$.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",$[$.Intersect=29]="Intersect",$[$.Iterator=30]="Iterator",$[$.Kind=31]="Kind",$[$.Literal=32]="Literal",$[$.Never=33]="Never",$[$.Not=34]="Not",$[$.Null=35]="Null",$[$.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",$[$.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",$[$.NumberMaximum=38]="NumberMaximum",$[$.NumberMinimum=39]="NumberMinimum",$[$.NumberMultipleOf=40]="NumberMultipleOf",$[$.Number=41]="Number",$[$.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",$[$.ObjectMaxProperties=43]="ObjectMaxProperties",$[$.ObjectMinProperties=44]="ObjectMinProperties",$[$.ObjectRequiredProperty=45]="ObjectRequiredProperty",$[$.Object=46]="Object",$[$.Promise=47]="Promise",$[$.RegExp=48]="RegExp",$[$.StringFormatUnknown=49]="StringFormatUnknown",$[$.StringFormat=50]="StringFormat",$[$.StringMaxLength=51]="StringMaxLength",$[$.StringMinLength=52]="StringMinLength",$[$.StringPattern=53]="StringPattern",$[$.String=54]="String",$[$.Symbol=55]="Symbol",$[$.TupleLength=56]="TupleLength",$[$.Tuple=57]="Tuple",$[$.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",$[$.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",$[$.Uint8Array=60]="Uint8Array",$[$.Undefined=61]="Undefined",$[$.Union=62]="Union",$[$.Void=63]="Void"})(I||(I={}));class LH extends B0{constructor($){super("Unknown type");this.schema=$}}function U6($){return $.replace(/~/g,"~0").replace(/\//g,"~1")}function K0($){return $!==void 0}class i4{constructor($){this.iterator=$}[Symbol.iterator](){return this.iterator}First(){let $=this.iterator.next();return $.done?void 0:$.value}}function a($,W,J,X,Q=[]){return{type:$,schema:W,path:J,value:X,message:AH()({errorType:$,path:J,schema:W,value:X,errors:Q}),errors:Q}}function*M3($,W,J,X){}function*G3($,W,J,X){}function*B3($,W,J,X){if(!M0(X))return yield a(I.Array,$,J,X);if(K0($.minItems)&&!(X.length>=$.minItems))yield a(I.ArrayMinItems,$,J,X);if(K0($.maxItems)&&!(X.length<=$.maxItems))yield a(I.ArrayMaxItems,$,J,X);for(let M=0;M<X.length;M++)yield*J5($.items,W,`${J}/${M}`,X[M]);if($.uniqueItems===!0&&!function(){let M=new Set;for(let G of X){let B=o6(G);if(M.has(B))return!1;else M.add(B)}return!0}())yield a(I.ArrayUniqueItems,$,J,X);if(!(K0($.contains)||K0($.minContains)||K0($.maxContains)))return;let Q=K0($.contains)?$.contains:O0(),Y=X.reduce((M,G,B)=>J5(Q,W,`${J}${B}`,G).next().done===!0?M+1:M,0);if(Y===0)yield a(I.ArrayContains,$,J,X);if(X0($.minContains)&&Y<$.minContains)yield a(I.ArrayMinContains,$,J,X);if(X0($.maxContains)&&Y>$.maxContains)yield a(I.ArrayMaxContains,$,J,X)}function*w3($,W,J,X){if(!GJ(X))yield a(I.AsyncIterator,$,J,X)}function*q3($,W,J,X){if(!w5(X))return yield a(I.BigInt,$,J,X);if(K0($.exclusiveMaximum)&&!(X<$.exclusiveMaximum))yield a(I.BigIntExclusiveMaximum,$,J,X);if(K0($.exclusiveMinimum)&&!(X>$.exclusiveMinimum))yield a(I.BigIntExclusiveMinimum,$,J,X);if(K0($.maximum)&&!(X<=$.maximum))yield a(I.BigIntMaximum,$,J,X);if(K0($.minimum)&&!(X>=$.minimum))yield a(I.BigIntMinimum,$,J,X);if(K0($.multipleOf)&&X%$.multipleOf!==BigInt(0))yield a(I.BigIntMultipleOf,$,J,X)}function*H3($,W,J,X){if(!C8(X))yield a(I.Boolean,$,J,X)}function*U3($,W,J,X){yield*J5($.returns,W,J,X.prototype)}function*z3($,W,J,X){if(!R5(X))return yield a(I.Date,$,J,X);if(K0($.exclusiveMaximumTimestamp)&&!(X.getTime()<$.exclusiveMaximumTimestamp))yield a(I.DateExclusiveMaximumTimestamp,$,J,X);if(K0($.exclusiveMinimumTimestamp)&&!(X.getTime()>$.exclusiveMinimumTimestamp))yield a(I.DateExclusiveMinimumTimestamp,$,J,X);if(K0($.maximumTimestamp)&&!(X.getTime()<=$.maximumTimestamp))yield a(I.DateMaximumTimestamp,$,J,X);if(K0($.minimumTimestamp)&&!(X.getTime()>=$.minimumTimestamp))yield a(I.DateMinimumTimestamp,$,J,X);if(K0($.multipleOfTimestamp)&&X.getTime()%$.multipleOfTimestamp!==0)yield a(I.DateMultipleOfTimestamp,$,J,X)}function*A3($,W,J,X){if(!d6(X))yield a(I.Function,$,J,X)}function*N3($,W,J,X){let Q=globalThis.Object.values($.$defs),Y=$.$defs[$.$ref];yield*J5(Y,[...W,...Q],J,X)}function*D3($,W,J,X){if(!qJ(X))return yield a(I.Integer,$,J,X);if(K0($.exclusiveMaximum)&&!(X<$.exclusiveMaximum))yield a(I.IntegerExclusiveMaximum,$,J,X);if(K0($.exclusiveMinimum)&&!(X>$.exclusiveMinimum))yield a(I.IntegerExclusiveMinimum,$,J,X);if(K0($.maximum)&&!(X<=$.maximum))yield a(I.IntegerMaximum,$,J,X);if(K0($.minimum)&&!(X>=$.minimum))yield a(I.IntegerMinimum,$,J,X);if(K0($.multipleOf)&&X%$.multipleOf!==0)yield a(I.IntegerMultipleOf,$,J,X)}function*Z3($,W,J,X){let Q=!1;for(let Y of $.allOf)for(let M of J5(Y,W,J,X))Q=!0,yield M;if(Q)return yield a(I.Intersect,$,J,X);if($.unevaluatedProperties===!1){let Y=new RegExp(q6($));for(let M of Object.getOwnPropertyNames(X))if(!Y.test(M))yield a(I.IntersectUnevaluatedProperties,$,`${J}/${M}`,X)}if(typeof $.unevaluatedProperties==="object"){let Y=new RegExp(q6($));for(let M of Object.getOwnPropertyNames(X))if(!Y.test(M)){let G=J5($.unevaluatedProperties,W,`${J}/${M}`,X[M]).next();if(!G.done)yield G.value}}}function*O3($,W,J,X){if(!BJ(X))yield a(I.Iterator,$,J,X)}function*S3($,W,J,X){if(X!==$.const)yield a(I.Literal,$,J,X)}function*j3($,W,J,X){yield a(I.Never,$,J,X)}function*L3($,W,J,X){if(J5($.not,W,J,X).next().done===!0)yield a(I.Not,$,J,X)}function*_3($,W,J,X){if(!X6(X))yield a(I.Null,$,J,X)}function*F3($,W,J,X){if(!Y1.IsNumberLike(X))return yield a(I.Number,$,J,X);if(K0($.exclusiveMaximum)&&!(X<$.exclusiveMaximum))yield a(I.NumberExclusiveMaximum,$,J,X);if(K0($.exclusiveMinimum)&&!(X>$.exclusiveMinimum))yield a(I.NumberExclusiveMinimum,$,J,X);if(K0($.maximum)&&!(X<=$.maximum))yield a(I.NumberMaximum,$,J,X);if(K0($.minimum)&&!(X>=$.minimum))yield a(I.NumberMinimum,$,J,X);if(K0($.multipleOf)&&X%$.multipleOf!==0)yield a(I.NumberMultipleOf,$,J,X)}function*K3($,W,J,X){if(!Y1.IsObjectLike(X))return yield a(I.Object,$,J,X);if(K0($.minProperties)&&!(Object.getOwnPropertyNames(X).length>=$.minProperties))yield a(I.ObjectMinProperties,$,J,X);if(K0($.maxProperties)&&!(Object.getOwnPropertyNames(X).length<=$.maxProperties))yield a(I.ObjectMaxProperties,$,J,X);let Q=Array.isArray($.required)?$.required:[],Y=Object.getOwnPropertyNames($.properties),M=Object.getOwnPropertyNames(X);for(let G of Q){if(M.includes(G))continue;yield a(I.ObjectRequiredProperty,$.properties[G],`${J}/${U6(G)}`,void 0)}if($.additionalProperties===!1){for(let G of M)if(!Y.includes(G))yield a(I.ObjectAdditionalProperties,$,`${J}/${U6(G)}`,X[G])}if(typeof $.additionalProperties==="object")for(let G of M){if(Y.includes(G))continue;yield*J5($.additionalProperties,W,`${J}/${U6(G)}`,X[G])}for(let G of Y){let B=$.properties[G];if($.required&&$.required.includes(G)){if(yield*J5(B,W,`${J}/${U6(G)}`,X[G]),H6($)&&!(G in X))yield a(I.ObjectRequiredProperty,B,`${J}/${U6(G)}`,void 0)}else if(Y1.IsExactOptionalProperty(X,G))yield*J5(B,W,`${J}/${U6(G)}`,X[G])}}function*b3($,W,J,X){if(!wJ(X))yield a(I.Promise,$,J,X)}function*C3($,W,J,X){if(!Y1.IsRecordLike(X))return yield a(I.Object,$,J,X);if(K0($.minProperties)&&!(Object.getOwnPropertyNames(X).length>=$.minProperties))yield a(I.ObjectMinProperties,$,J,X);if(K0($.maxProperties)&&!(Object.getOwnPropertyNames(X).length<=$.maxProperties))yield a(I.ObjectMaxProperties,$,J,X);let[Q,Y]=Object.entries($.patternProperties)[0],M=new RegExp(Q);for(let[G,B]of Object.entries(X))if(M.test(G))yield*J5(Y,W,`${J}/${U6(G)}`,B);if(typeof $.additionalProperties==="object"){for(let[G,B]of Object.entries(X))if(!M.test(G))yield*J5($.additionalProperties,W,`${J}/${U6(G)}`,B)}if($.additionalProperties===!1)for(let[G,B]of Object.entries(X)){if(M.test(G))continue;return yield a(I.ObjectAdditionalProperties,$,`${J}/${U6(G)}`,B)}}function*V3($,W,J,X){yield*J5(k0($,W),W,J,X)}function*P3($,W,J,X){if(!I0(X))return yield a(I.String,$,J,X);if(K0($.minLength)&&!(X.length>=$.minLength))yield a(I.StringMinLength,$,J,X);if(K0($.maxLength)&&!(X.length<=$.maxLength))yield a(I.StringMaxLength,$,J,X);if(!new RegExp($.source,$.flags).test(X))return yield a(I.RegExp,$,J,X)}function*E3($,W,J,X){if(!I0(X))return yield a(I.String,$,J,X);if(K0($.minLength)&&!(X.length>=$.minLength))yield a(I.StringMinLength,$,J,X);if(K0($.maxLength)&&!(X.length<=$.maxLength))yield a(I.StringMaxLength,$,J,X);if(I0($.pattern)){if(!new RegExp($.pattern).test(X))yield a(I.StringPattern,$,J,X)}if(I0($.format)){if(!u0.Has($.format))yield a(I.StringFormatUnknown,$,J,X);else if(!u0.Get($.format)(X))yield a(I.StringFormat,$,J,X)}}function*R3($,W,J,X){if(!Q6(X))yield a(I.Symbol,$,J,X)}function*I3($,W,J,X){if(!I0(X))return yield a(I.String,$,J,X);if(!new RegExp($.pattern).test(X))yield a(I.StringPattern,$,J,X)}function*x3($,W,J,X){yield*J5(k0($,W),W,J,X)}function*k3($,W,J,X){if(!M0(X))return yield a(I.Tuple,$,J,X);if($.items===void 0&&X.length!==0)return yield a(I.TupleLength,$,J,X);if(X.length!==$.maxItems)return yield a(I.TupleLength,$,J,X);if(!$.items)return;for(let Q=0;Q<$.items.length;Q++)yield*J5($.items[Q],W,`${J}/${Q}`,X[Q])}function*T3($,W,J,X){if(!q1(X))yield a(I.Undefined,$,J,X)}function*g3($,W,J,X){if(S0($,W,X))return;let Q=$.anyOf.map((Y)=>new i4(J5(Y,W,J,X)));yield a(I.Union,$,J,X,Q)}function*f3($,W,J,X){if(!E9(X))return yield a(I.Uint8Array,$,J,X);if(K0($.maxByteLength)&&!(X.length<=$.maxByteLength))yield a(I.Uint8ArrayMaxByteLength,$,J,X);if(K0($.minByteLength)&&!(X.length>=$.minByteLength))yield a(I.Uint8ArrayMinByteLength,$,J,X)}function*v3($,W,J,X){}function*d3($,W,J,X){if(!Y1.IsVoidLike(X))yield a(I.Void,$,J,X)}function*y3($,W,J,X){if(!o1.Get($[F])($,X))yield a(I.Kind,$,J,X)}function*J5($,W,J,X){let Q=K0($.$id)?[...W,$]:W,Y=$;switch(Y[F]){case"Any":return yield*M3(Y,Q,J,X);case"Argument":return yield*G3(Y,Q,J,X);case"Array":return yield*B3(Y,Q,J,X);case"AsyncIterator":return yield*w3(Y,Q,J,X);case"BigInt":return yield*q3(Y,Q,J,X);case"Boolean":return yield*H3(Y,Q,J,X);case"Constructor":return yield*U3(Y,Q,J,X);case"Date":return yield*z3(Y,Q,J,X);case"Function":return yield*A3(Y,Q,J,X);case"Import":return yield*N3(Y,Q,J,X);case"Integer":return yield*D3(Y,Q,J,X);case"Intersect":return yield*Z3(Y,Q,J,X);case"Iterator":return yield*O3(Y,Q,J,X);case"Literal":return yield*S3(Y,Q,J,X);case"Never":return yield*j3(Y,Q,J,X);case"Not":return yield*L3(Y,Q,J,X);case"Null":return yield*_3(Y,Q,J,X);case"Number":return yield*F3(Y,Q,J,X);case"Object":return yield*K3(Y,Q,J,X);case"Promise":return yield*b3(Y,Q,J,X);case"Record":return yield*C3(Y,Q,J,X);case"Ref":return yield*V3(Y,Q,J,X);case"RegExp":return yield*P3(Y,Q,J,X);case"String":return yield*E3(Y,Q,J,X);case"Symbol":return yield*R3(Y,Q,J,X);case"TemplateLiteral":return yield*I3(Y,Q,J,X);case"This":return yield*x3(Y,Q,J,X);case"Tuple":return yield*k3(Y,Q,J,X);case"Undefined":return yield*T3(Y,Q,J,X);case"Union":return yield*g3(Y,Q,J,X);case"Uint8Array":return yield*f3(Y,Q,J,X);case"Unknown":return yield*v3(Y,Q,J,X);case"Void":return yield*d3(Y,Q,J,X);default:if(!o1.Has(Y[F]))throw new LH($);return yield*y3(Y,Q,J,X)}}function E8(...$){let W=$.length===3?J5($[0],$[1],"",$[2]):J5($[0],[],"",$[1]);return new i4(W)}var c3=function($,W,J,X,Q){if(X==="m")throw new TypeError("Private method is not writable");if(X==="a"&&!Q)throw new TypeError("Private accessor was defined without a setter");if(typeof W==="function"?$!==W||!Q:!W.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return X==="a"?Q.call($,J):Q?Q.value=J:W.set($,J),J},FH=function($,W,J,X){if(J==="a"&&!X)throw new TypeError("Private accessor was defined without a getter");if(typeof W==="function"?$!==W||!X:!W.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return J==="m"?X:J==="a"?X.call($):X?X.value:W.get($)},DY,kJ,KH;class bH extends B0{constructor($){let W=$.First();super(W===void 0?"Invalid Value":W.message);DY.add(this),kJ.set(this,void 0),c3(this,kJ,$,"f"),this.error=W}Errors(){return new i4(FH(this,DY,"m",KH).call(this))}}kJ=new WeakMap,DY=new WeakSet,KH=function*$(){if(this.error)yield this.error;yield*FH(this,kJ,"f")};function _H($,W,J){if(S0($,W,J))return;throw new bH(E8($,W,J))}function TJ(...$){return $.length===3?_H($[0],$[1],$[2]):_H($[0],[],$[1])}function h3($){let W={};for(let J of Object.getOwnPropertyNames($))W[J]=g0($[J]);for(let J of Object.getOwnPropertySymbols($))W[J]=g0($[J]);return W}function m3($){return $.map((W)=>g0(W))}function u3($){return $.slice()}function l3($){return new Map(g0([...$.entries()]))}function p3($){return new Set(g0([...$.entries()]))}function i3($){return new Date($.toISOString())}function n3($){return $}function g0($){if(M0($))return m3($);if(R5($))return i3($);if(_2($))return u3($);if(uB($))return l3($);if(lB($))return p3($);if(A0($))return h3($);if(Y2($))return n3($);throw new Error("ValueClone: Unable to clone value")}class R2 extends B0{constructor($,W){super(W);this.schema=$}}function f0($){return d6($)?$():g0($)}function o3($,W){if(H0($,"default"))return f0($.default);else return{}}function s3($,W){return{}}function r3($,W){if($.uniqueItems===!0&&!H0($,"default"))throw new R2($,"Array with the uniqueItems constraint requires a default value");else if("contains"in $&&!H0($,"default"))throw new R2($,"Array with the contains constraint requires a default value");else if("default"in $)return f0($.default);else if($.minItems!==void 0)return Array.from({length:$.minItems}).map((J)=>{return U2($.items,W)});else return[]}function a3($,W){if(H0($,"default"))return f0($.default);else return async function*(){}()}function t3($,W){if(H0($,"default"))return f0($.default);else return BigInt(0)}function e3($,W){if(H0($,"default"))return f0($.default);else return!1}function $C($,W){if(H0($,"default"))return f0($.default);else{let J=U2($.returns,W);if(typeof J==="object"&&!Array.isArray(J))return class{constructor(){for(let[X,Q]of Object.entries(J)){let Y=this;Y[X]=Q}}};else return class{}}}function WC($,W){if(H0($,"default"))return f0($.default);else if($.minimumTimestamp!==void 0)return new Date($.minimumTimestamp);else return new Date}function JC($,W){if(H0($,"default"))return f0($.default);else return()=>U2($.returns,W)}function XC($,W){let J=globalThis.Object.values($.$defs),X=$.$defs[$.$ref];return U2(X,[...W,...J])}function QC($,W){if(H0($,"default"))return f0($.default);else if($.minimum!==void 0)return $.minimum;else return 0}function YC($,W){if(H0($,"default"))return f0($.default);else{let J=$.allOf.reduce((X,Q)=>{let Y=U2(Q,W);return typeof Y==="object"?{...X,...Y}:Y},{});if(!S0($,W,J))throw new R2($,"Intersect produced invalid value. Consider using a default value.");return J}}function MC($,W){if(H0($,"default"))return f0($.default);else return function*(){}()}function GC($,W){if(H0($,"default"))return f0($.default);else return $.const}function BC($,W){if(H0($,"default"))return f0($.default);else throw new R2($,"Never types cannot be created. Consider using a default value.")}function wC($,W){if(H0($,"default"))return f0($.default);else throw new R2($,"Not types must have a default value")}function qC($,W){if(H0($,"default"))return f0($.default);else return null}function HC($,W){if(H0($,"default"))return f0($.default);else if($.minimum!==void 0)return $.minimum;else return 0}function UC($,W){if(H0($,"default"))return f0($.default);else{let J=new Set($.required),X={};for(let[Q,Y]of Object.entries($.properties)){if(!J.has(Q))continue;X[Q]=U2(Y,W)}return X}}function zC($,W){if(H0($,"default"))return f0($.default);else return Promise.resolve(U2($.item,W))}function AC($,W){if(H0($,"default"))return f0($.default);else return{}}function NC($,W){if(H0($,"default"))return f0($.default);else return U2(k0($,W),W)}function DC($,W){if(H0($,"default"))return f0($.default);else throw new R2($,"RegExp types cannot be created. Consider using a default value.")}function ZC($,W){if($.pattern!==void 0)if(!H0($,"default"))throw new R2($,"String types with patterns must specify a default value");else return f0($.default);else if($.format!==void 0)if(!H0($,"default"))throw new R2($,"String types with formats must specify a default value");else return f0($.default);else if(H0($,"default"))return f0($.default);else if($.minLength!==void 0)return Array.from({length:$.minLength}).map(()=>" ").join("");else return""}function OC($,W){if(H0($,"default"))return f0($.default);else if("value"in $)return Symbol.for($.value);else return Symbol()}function SC($,W){if(H0($,"default"))return f0($.default);if(!AJ($))throw new R2($,"Can only create template literals that produce a finite variants. Consider using a default value.");return d9($)[0]}function jC($,W){if(CH++>PC)throw new R2($,"Cannot create recursive type as it appears possibly infinite. Consider using a default.");if(H0($,"default"))return f0($.default);else return U2(k0($,W),W)}function LC($,W){if(H0($,"default"))return f0($.default);if($.items===void 0)return[];else return Array.from({length:$.minItems}).map((J,X)=>U2($.items[X],W))}function _C($,W){if(H0($,"default"))return f0($.default);else return}function FC($,W){if(H0($,"default"))return f0($.default);else if($.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");else return U2($.anyOf[0],W)}function KC($,W){if(H0($,"default"))return f0($.default);else if($.minByteLength!==void 0)return new Uint8Array($.minByteLength);else return new Uint8Array(0)}function bC($,W){if(H0($,"default"))return f0($.default);else return{}}function CC($,W){if(H0($,"default"))return f0($.default);else return}function VC($,W){if(H0($,"default"))return f0($.default);else throw new Error("User defined types must specify a default value")}function U2($,W){let J=$5($,W),X=$;switch(X[F]){case"Any":return o3(X,J);case"Argument":return s3(X,J);case"Array":return r3(X,J);case"AsyncIterator":return a3(X,J);case"BigInt":return t3(X,J);case"Boolean":return e3(X,J);case"Constructor":return $C(X,J);case"Date":return WC(X,J);case"Function":return JC(X,J);case"Import":return XC(X,J);case"Integer":return QC(X,J);case"Intersect":return YC(X,J);case"Iterator":return MC(X,J);case"Literal":return GC(X,J);case"Never":return BC(X,J);case"Not":return wC(X,J);case"Null":return qC(X,J);case"Number":return HC(X,J);case"Object":return UC(X,J);case"Promise":return zC(X,J);case"Record":return AC(X,J);case"Ref":return NC(X,J);case"RegExp":return DC(X,J);case"String":return ZC(X,J);case"Symbol":return OC(X,J);case"TemplateLiteral":return SC(X,J);case"This":return jC(X,J);case"Tuple":return LC(X,J);case"Undefined":return _C(X,J);case"Union":return FC(X,J);case"Uint8Array":return KC(X,J);case"Unknown":return bC(X,J);case"Void":return CC(X,J);default:if(!o1.Has(X[F]))throw new R2(X,"Unknown type");return VC(X,J)}}var PC=512,CH=0;function Q8(...$){return CH=0,$.length===2?U2($[0],$[1]):U2($[0],[])}class ZY extends B0{constructor($,W){super(W);this.schema=$}}function VH($,W,J){if($[F]==="Object"&&typeof J==="object"&&!X6(J)){let X=$,Q=Object.getOwnPropertyNames(J);return Object.entries(X.properties).reduce((M,[G,B])=>{let w=B[F]==="Literal"&&B.const===J[G]?100:0,q=S0(B,W,J[G])?10:0,H=Q.includes(G)?1:0;return M+(w+q+H)},0)}else if($[F]==="Union"){let Q=$.anyOf.map((Y)=>k0(Y,W)).map((Y)=>VH(Y,W,J));return Math.max(...Q)}else return S0($,W,J)?1:0}function EC($,W,J){let X=$.anyOf.map((M)=>k0(M,W)),[Q,Y]=[X[0],0];for(let M of X){let G=VH(M,W,J);if(G>Y)Q=M,Y=G}return Q}function RC($,W,J){if("default"in $)return typeof J==="function"?$.default:g0($.default);else{let X=EC($,W,J);return I7(X,W,J)}}function IC($,W,J){return S0($,W,J)?g0(J):Q8($,W)}function xC($,W,J){return S0($,W,J)?J:Q8($,W)}function kC($,W,J){if(S0($,W,J))return g0(J);let X=M0(J)?g0(J):Q8($,W),Q=X0($.minItems)&&X.length<$.minItems?[...X,...Array.from({length:$.minItems-X.length},()=>null)]:X,M=(X0($.maxItems)&&Q.length>$.maxItems?Q.slice(0,$.maxItems):Q).map((B)=>Y8($.items,W,B));if($.uniqueItems!==!0)return M;let G=[...new Set(M)];if(!S0($,W,G))throw new ZY($,"Array cast produced invalid data due to uniqueItems constraint");return G}function TC($,W,J){if(S0($,W,J))return Q8($,W);let X=new Set($.returns.required||[]),Q=function(){};for(let[Y,M]of Object.entries($.returns.properties)){if(!X.has(Y)&&J.prototype[Y]===void 0)continue;Q.prototype[Y]=Y8(M,W,J.prototype[Y])}return Q}function gC($,W,J){let X=globalThis.Object.values($.$defs),Q=$.$defs[$.$ref];return Y8(Q,[...W,...X],J)}function PH($,W){if(A0($)&&!A0(W)||!A0($)&&A0(W))return $;if(!A0($)||!A0(W))return W;return globalThis.Object.getOwnPropertyNames($).reduce((J,X)=>{let Q=X in W?PH($[X],W[X]):$[X];return{...J,[X]:Q}},{})}function fC($,W,J){if(S0($,W,J))return J;let X=Q8($,W),Q=PH(X,J);return S0($,W,Q)?Q:X}function vC($,W,J){throw new ZY($,"Never types cannot be cast")}function dC($,W,J){if(S0($,W,J))return J;if(J===null||typeof J!=="object")return Q8($,W);let X=new Set($.required||[]),Q={};for(let[Y,M]of Object.entries($.properties)){if(!X.has(Y)&&J[Y]===void 0)continue;Q[Y]=Y8(M,W,J[Y])}if(typeof $.additionalProperties==="object"){let Y=Object.getOwnPropertyNames($.properties);for(let M of Object.getOwnPropertyNames(J)){if(Y.includes(M))continue;Q[M]=Y8($.additionalProperties,W,J[M])}}return Q}function yC($,W,J){if(S0($,W,J))return g0(J);if(J===null||typeof J!=="object"||Array.isArray(J)||J instanceof Date)return Q8($,W);let X=Object.getOwnPropertyNames($.patternProperties)[0],Q=$.patternProperties[X],Y={};for(let[M,G]of Object.entries(J))Y[M]=Y8(Q,W,G);return Y}function cC($,W,J){return Y8(k0($,W),W,J)}function hC($,W,J){return Y8(k0($,W),W,J)}function mC($,W,J){if(S0($,W,J))return g0(J);if(!M0(J))return Q8($,W);if($.items===void 0)return[];return $.items.map((X,Q)=>Y8(X,W,J[Q]))}function uC($,W,J){return S0($,W,J)?g0(J):RC($,W,J)}function Y8($,W,J){let X=I0($.$id)?$5($,W):W,Q=$;switch($[F]){case"Array":return kC(Q,X,J);case"Constructor":return TC(Q,X,J);case"Import":return gC(Q,X,J);case"Intersect":return fC(Q,X,J);case"Never":return vC(Q,X,J);case"Object":return dC(Q,X,J);case"Record":return yC(Q,X,J);case"Ref":return cC(Q,X,J);case"This":return hC(Q,X,J);case"Tuple":return mC(Q,X,J);case"Union":return uC(Q,X,J);case"Date":case"Symbol":case"Uint8Array":return IC($,W,J);default:return xC(Q,X,J)}}function I7(...$){return $.length===3?Y8($[0],$[1],$[2]):Y8($[0],[],$[1])}function lC($){return c6($)&&$[F]!=="Unsafe"}function pC($,W,J){if(!M0(J))return J;return J.map((X)=>l5($.items,W,X))}function iC($,W,J){let X=globalThis.Object.values($.$defs),Q=$.$defs[$.$ref];return l5(Q,[...W,...X],J)}function nC($,W,J){let X=$.unevaluatedProperties,Y=$.allOf.map((G)=>l5(G,W,g0(J))).reduce((G,B)=>A0(B)?{...G,...B}:B,{});if(!A0(J)||!A0(Y)||!c6(X))return Y;let M=m5($);for(let G of Object.getOwnPropertyNames(J)){if(M.includes(G))continue;if(S0(X,W,J[G]))Y[G]=l5(X,W,J[G])}return Y}function oC($,W,J){if(!A0(J)||M0(J))return J;let X=$.additionalProperties;for(let Q of Object.getOwnPropertyNames(J)){if(H0($.properties,Q)){J[Q]=l5($.properties[Q],W,J[Q]);continue}if(c6(X)&&S0(X,W,J[Q])){J[Q]=l5(X,W,J[Q]);continue}delete J[Q]}return J}function sC($,W,J){if(!A0(J))return J;let X=$.additionalProperties,Q=Object.getOwnPropertyNames(J),[Y,M]=Object.entries($.patternProperties)[0],G=new RegExp(Y);for(let B of Q){if(G.test(B)){J[B]=l5(M,W,J[B]);continue}if(c6(X)&&S0(X,W,J[B])){J[B]=l5(X,W,J[B]);continue}delete J[B]}return J}function rC($,W,J){return l5(k0($,W),W,J)}function aC($,W,J){return l5(k0($,W),W,J)}function tC($,W,J){if(!M0(J))return J;if(q1($.items))return[];let X=Math.min(J.length,$.items.length);for(let Q=0;Q<X;Q++)J[Q]=l5($.items[Q],W,J[Q]);return J.length>X?J.slice(0,X):J}function eC($,W,J){for(let X of $.anyOf)if(lC(X)&&S0(X,W,J))return l5(X,W,J);return J}function l5($,W,J){let X=I0($.$id)?$5($,W):W,Q=$;switch(Q[F]){case"Array":return pC(Q,X,J);case"Import":return iC(Q,X,J);case"Intersect":return nC(Q,X,J);case"Object":return oC(Q,X,J);case"Record":return sC(Q,X,J);case"Ref":return rC(Q,X,J);case"This":return aC(Q,X,J);case"Tuple":return tC(Q,X,J);case"Union":return eC(Q,X,J);default:return J}}function gJ(...$){return $.length===3?l5($[0],$[1],$[2]):l5($[0],[],$[1])}function fJ($){return I0($)&&!isNaN($)&&!isNaN(parseFloat($))}function $V($){return w5($)||C8($)||X0($)}function x7($){return $===!0||X0($)&&$===1||w5($)&&$===BigInt("1")||I0($)&&($.toLowerCase()==="true"||$==="1")}function k7($){return $===!1||X0($)&&($===0||Object.is($,-0))||w5($)&&$===BigInt("0")||I0($)&&($.toLowerCase()==="false"||$==="0"||$==="-0")}function WV($){return I0($)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test($)}function JV($){return I0($)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test($)}function XV($){return I0($)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test($)}function QV($){return I0($)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test($)}function YV($){return I0($)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test($)}function MV($,W){let J=RH($);return J===W?J:$}function GV($,W){let J=IH($);return J===W?J:$}function BV($,W){let J=EH($);return J===W?J:$}function wV($,W){return I0($.const)?MV(W,$.const):X0($.const)?GV(W,$.const):C8($.const)?BV(W,$.const):W}function EH($){return x7($)?!0:k7($)?!1:$}function qV($){let W=(J)=>J.split(".")[0];return fJ($)?BigInt(W($)):X0($)?BigInt(Math.trunc($)):k7($)?BigInt(0):x7($)?BigInt(1):$}function RH($){return Q6($)&&$.description!==void 0?$.description.toString():$V($)?$.toString():$}function IH($){return fJ($)?parseFloat($):x7($)?1:k7($)?0:$}function HV($){return fJ($)?parseInt($):X0($)?Math.trunc($):x7($)?1:k7($)?0:$}function UV($){return I0($)&&$.toLowerCase()==="null"?null:$}function zV($){return I0($)&&$==="undefined"?void 0:$}function AV($){return R5($)?$:X0($)?new Date($):x7($)?new Date(1):k7($)?new Date(0):fJ($)?new Date(parseInt($)):JV($)?new Date(`1970-01-01T${$}.000Z`):WV($)?new Date(`1970-01-01T${$}`):QV($)?new Date(`${$}.000Z`):XV($)?new Date($):YV($)?new Date(`${$}T00:00:00.000Z`):$}function NV($){return $}function DV($,W,J){return(M0(J)?J:[J]).map((Q)=>M8($.items,W,Q))}function ZV($,W,J){return qV(J)}function OV($,W,J){return EH(J)}function SV($,W,J){return AV(J)}function jV($,W,J){let X=globalThis.Object.values($.$defs),Q=$.$defs[$.$ref];return M8(Q,[...W,...X],J)}function LV($,W,J){return HV(J)}function _V($,W,J){return $.allOf.reduce((X,Q)=>M8(Q,W,X),J)}function FV($,W,J){return wV($,J)}function KV($,W,J){return UV(J)}function bV($,W,J){return IH(J)}function CV($,W,J){if(!A0(J)||M0(J))return J;for(let X of Object.getOwnPropertyNames($.properties)){if(!H0(J,X))continue;J[X]=M8($.properties[X],W,J[X])}return J}function VV($,W,J){if(!(A0(J)&&!M0(J)))return J;let Q=Object.getOwnPropertyNames($.patternProperties)[0],Y=$.patternProperties[Q];for(let[M,G]of Object.entries(J))J[M]=M8(Y,W,G);return J}function PV($,W,J){return M8(k0($,W),W,J)}function EV($,W,J){return RH(J)}function RV($,W,J){return I0(J)||X0(J)?Symbol(J):J}function IV($,W,J){return M8(k0($,W),W,J)}function xV($,W,J){if(!(M0(J)&&!q1($.items)))return J;return J.map((Q,Y)=>{return Y<$.items.length?M8($.items[Y],W,Q):Q})}function kV($,W,J){return zV(J)}function TV($,W,J){for(let X of $.anyOf)if(S0(X,W,J))return J;for(let X of $.anyOf){let Q=M8(X,W,g0(J));if(!S0(X,W,Q))continue;return Q}return J}function M8($,W,J){let X=$5($,W),Q=$;switch($[F]){case"Array":return DV(Q,X,J);case"BigInt":return ZV(Q,X,J);case"Boolean":return OV(Q,X,J);case"Date":return SV(Q,X,J);case"Import":return jV(Q,X,J);case"Integer":return LV(Q,X,J);case"Intersect":return _V(Q,X,J);case"Literal":return FV(Q,X,J);case"Null":return KV(Q,X,J);case"Number":return bV(Q,X,J);case"Object":return CV(Q,X,J);case"Record":return VV(Q,X,J);case"Ref":return PV(Q,X,J);case"String":return EV(Q,X,J);case"Symbol":return RV(Q,X,J);case"This":return IV(Q,X,J);case"Tuple":return xV(Q,X,J);case"Undefined":return kV(Q,X,J);case"Union":return TV(Q,X,J);default:return NV(J)}}function vJ(...$){return $.length===3?M8($[0],$[1],$[2]):M8($[0],[],$[1])}class T7 extends B0{constructor($,W,J){super("Unable to decode value as it does not match the expected schema");this.schema=$,this.value=W,this.error=J}}class dJ extends B0{constructor($,W,J,X){super(X instanceof Error?X.message:"Unknown error");this.schema=$,this.path=W,this.value=J,this.error=X}}function Z1($,W,J){try{return v0($)?$[r0].Decode(J):J}catch(X){throw new dJ($,W,J,X)}}function gV($,W,J,X){return M0(X)?Z1($,J,X.map((Q,Y)=>G8($.items,W,`${J}/${Y}`,Q))):Z1($,J,X)}function fV($,W,J,X){if(!A0(X)||Y2(X))return Z1($,J,X);let Q=SJ($),Y=Q.map((q)=>q[0]),M={...X};for(let[q,H]of Q)if(q in M)M[q]=G8(H,W,`${J}/${q}`,M[q]);if(!v0($.unevaluatedProperties))return Z1($,J,M);let G=Object.getOwnPropertyNames(M),B=$.unevaluatedProperties,w={...M};for(let q of G)if(!Y.includes(q))w[q]=Z1(B,`${J}/${q}`,w[q]);return Z1($,J,w)}function vV($,W,J,X){let Q=globalThis.Object.values($.$defs),Y=$.$defs[$.$ref],M=G8(Y,[...W,...Q],J,X);return Z1($,J,M)}function dV($,W,J,X){return Z1($,J,G8($.not,W,J,X))}function yV($,W,J,X){if(!A0(X))return Z1($,J,X);let Q=m5($),Y={...X};for(let w of Q){if(!H0(Y,w))continue;if(q1(Y[w])&&(!G6($.properties[w])||Y1.IsExactOptionalProperty(Y,w)))continue;Y[w]=G8($.properties[w],W,`${J}/${w}`,Y[w])}if(!D1($.additionalProperties))return Z1($,J,Y);let M=Object.getOwnPropertyNames(Y),G=$.additionalProperties,B={...Y};for(let w of M)if(!Q.includes(w))B[w]=Z1(G,`${J}/${w}`,B[w]);return Z1($,J,B)}function cV($,W,J,X){if(!A0(X))return Z1($,J,X);let Q=Object.getOwnPropertyNames($.patternProperties)[0],Y=new RegExp(Q),M={...X};for(let q of Object.getOwnPropertyNames(X))if(Y.test(q))M[q]=G8($.patternProperties[Q],W,`${J}/${q}`,M[q]);if(!D1($.additionalProperties))return Z1($,J,M);let G=Object.getOwnPropertyNames(M),B=$.additionalProperties,w={...M};for(let q of G)if(!Y.test(q))w[q]=Z1(B,`${J}/${q}`,w[q]);return Z1($,J,w)}function hV($,W,J,X){let Q=k0($,W);return Z1($,J,G8(Q,W,J,X))}function mV($,W,J,X){let Q=k0($,W);return Z1($,J,G8(Q,W,J,X))}function uV($,W,J,X){return M0(X)&&M0($.items)?Z1($,J,$.items.map((Q,Y)=>G8(Q,W,`${J}/${Y}`,X[Y]))):Z1($,J,X)}function lV($,W,J,X){for(let Q of $.anyOf){if(!S0(Q,W,X))continue;let Y=G8(Q,W,J,X);return Z1($,J,Y)}return Z1($,J,X)}function G8($,W,J,X){let Q=$5($,W),Y=$;switch($[F]){case"Array":return gV(Y,Q,J,X);case"Import":return vV(Y,Q,J,X);case"Intersect":return fV(Y,Q,J,X);case"Not":return dV(Y,Q,J,X);case"Object":return yV(Y,Q,J,X);case"Record":return cV(Y,Q,J,X);case"Ref":return hV(Y,Q,J,X);case"Symbol":return Z1(Y,J,X);case"This":return mV(Y,Q,J,X);case"Tuple":return uV(Y,Q,J,X);case"Union":return lV(Y,Q,J,X);default:return Z1(Y,J,X)}}function a9($,W,J){return G8($,W,"",J)}class g7 extends B0{constructor($,W,J){super("The encoded value does not match the expected schema");this.schema=$,this.value=W,this.error=J}}class xH extends B0{constructor($,W,J,X){super(`${X instanceof Error?X.message:"Unknown error"}`);this.schema=$,this.path=W,this.value=J,this.error=X}}function q5($,W,J){try{return v0($)?$[r0].Encode(J):J}catch(X){throw new xH($,W,J,X)}}function pV($,W,J,X){let Q=q5($,J,X);return M0(Q)?Q.map((Y,M)=>B8($.items,W,`${J}/${M}`,Y)):Q}function iV($,W,J,X){let Q=globalThis.Object.values($.$defs),Y=$.$defs[$.$ref],M=q5($,J,X);return B8(Y,[...W,...Q],J,M)}function nV($,W,J,X){let Q=q5($,J,X);if(!A0(X)||Y2(X))return Q;let Y=SJ($),M=Y.map((H)=>H[0]),G={...Q};for(let[H,z]of Y)if(H in G)G[H]=B8(z,W,`${J}/${H}`,G[H]);if(!v0($.unevaluatedProperties))return G;let B=Object.getOwnPropertyNames(G),w=$.unevaluatedProperties,q={...G};for(let H of B)if(!M.includes(H))q[H]=q5(w,`${J}/${H}`,q[H]);return q}function oV($,W,J,X){return q5($.not,J,q5($,J,X))}function sV($,W,J,X){let Q=q5($,J,X);if(!A0(Q))return Q;let Y=m5($),M={...Q};for(let q of Y){if(!H0(M,q))continue;if(q1(M[q])&&(!G6($.properties[q])||Y1.IsExactOptionalProperty(M,q)))continue;M[q]=B8($.properties[q],W,`${J}/${q}`,M[q])}if(!D1($.additionalProperties))return M;let G=Object.getOwnPropertyNames(M),B=$.additionalProperties,w={...M};for(let q of G)if(!Y.includes(q))w[q]=q5(B,`${J}/${q}`,w[q]);return w}function rV($,W,J,X){let Q=q5($,J,X);if(!A0(X))return Q;let Y=Object.getOwnPropertyNames($.patternProperties)[0],M=new RegExp(Y),G={...Q};for(let H of Object.getOwnPropertyNames(X))if(M.test(H))G[H]=B8($.patternProperties[Y],W,`${J}/${H}`,G[H]);if(!D1($.additionalProperties))return G;let B=Object.getOwnPropertyNames(G),w=$.additionalProperties,q={...G};for(let H of B)if(!M.test(H))q[H]=q5(w,`${J}/${H}`,q[H]);return q}function aV($,W,J,X){let Q=k0($,W),Y=B8(Q,W,J,X);return q5($,J,Y)}function tV($,W,J,X){let Q=k0($,W),Y=B8(Q,W,J,X);return q5($,J,Y)}function eV($,W,J,X){let Q=q5($,J,X);return M0($.items)?$.items.map((Y,M)=>B8(Y,W,`${J}/${M}`,Q[M])):[]}function $P($,W,J,X){for(let Q of $.anyOf){if(!S0(Q,W,X))continue;let Y=B8(Q,W,J,X);return q5($,J,Y)}for(let Q of $.anyOf){let Y=B8(Q,W,J,X);if(!S0($,W,Y))continue;return q5($,J,Y)}return q5($,J,X)}function B8($,W,J,X){let Q=$5($,W),Y=$;switch($[F]){case"Array":return pV(Y,Q,J,X);case"Import":return iV(Y,Q,J,X);case"Intersect":return nV(Y,Q,J,X);case"Not":return oV(Y,Q,J,X);case"Object":return sV(Y,Q,J,X);case"Record":return rV(Y,Q,J,X);case"Ref":return aV(Y,Q,J,X);case"This":return tV(Y,Q,J,X);case"Tuple":return eV(Y,Q,J,X);case"Union":return $P(Y,Q,J,X);default:return q5(Y,J,X)}}function t9($,W,J){return B8($,W,"",J)}function WP($,W){return v0($)||s1($.items,W)}function JP($,W){return v0($)||s1($.items,W)}function XP($,W){return v0($)||s1($.returns,W)||$.parameters.some((J)=>s1(J,W))}function QP($,W){return v0($)||s1($.returns,W)||$.parameters.some((J)=>s1(J,W))}function YP($,W){return v0($)||v0($.unevaluatedProperties)||$.allOf.some((J)=>s1(J,W))}function MP($,W){let J=globalThis.Object.getOwnPropertyNames($.$defs).reduce((Q,Y)=>[...Q,$.$defs[Y]],[]),X=$.$defs[$.$ref];return v0($)||s1(X,[...J,...W])}function GP($,W){return v0($)||s1($.items,W)}function BP($,W){return v0($)||s1($.not,W)}function wP($,W){return v0($)||Object.values($.properties).some((J)=>s1(J,W))||D1($.additionalProperties)&&s1($.additionalProperties,W)}function qP($,W){return v0($)||s1($.item,W)}function HP($,W){let J=Object.getOwnPropertyNames($.patternProperties)[0],X=$.patternProperties[J];return v0($)||s1(X,W)||D1($.additionalProperties)&&v0($.additionalProperties)}function UP($,W){if(v0($))return!0;return s1(k0($,W),W)}function zP($,W){if(v0($))return!0;return s1(k0($,W),W)}function AP($,W){return v0($)||!q1($.items)&&$.items.some((J)=>s1(J,W))}function NP($,W){return v0($)||$.anyOf.some((J)=>s1(J,W))}function s1($,W){let J=$5($,W),X=$;if($.$id&&OY.has($.$id))return!1;if($.$id)OY.add($.$id);switch($[F]){case"Array":return WP(X,J);case"AsyncIterator":return JP(X,J);case"Constructor":return XP(X,J);case"Function":return QP(X,J);case"Import":return MP(X,J);case"Intersect":return YP(X,J);case"Iterator":return GP(X,J);case"Not":return BP(X,J);case"Object":return wP(X,J);case"Promise":return qP(X,J);case"Record":return HP(X,J);case"Ref":return UP(X,J);case"This":return zP(X,J);case"Tuple":return AP(X,J);case"Union":return NP(X,J);default:return v0($)}}var OY=new Set;function z6($,W){return OY.clear(),s1($,W)}function kH(...$){let[W,J,X]=$.length===3?[$[0],$[1],$[2]]:[$[0],[],$[1]];if(!S0(W,J,X))throw new T7(W,X,E8(W,J,X).First());return z6(W,J)?a9(W,J,X):X}function A6($,W){let J=H0($,"default")?$.default:void 0,X=d6(J)?J():g0(J);return q1(W)?X:A0(W)&&A0(X)?Object.assign(X,W):W}function SY($){return c6($)&&"default"in $}function DP($,W,J){if(M0(J)){for(let Q=0;Q<J.length;Q++)J[Q]=x5($.items,W,J[Q]);return J}let X=A6($,J);if(!M0(X))return X;for(let Q=0;Q<X.length;Q++)X[Q]=x5($.items,W,X[Q]);return X}function ZP($,W,J){return R5(J)?J:A6($,J)}function OP($,W,J){let X=globalThis.Object.values($.$defs),Q=$.$defs[$.$ref];return x5(Q,[...W,...X],J)}function SP($,W,J){let X=A6($,J);return $.allOf.reduce((Q,Y)=>{let M=x5(Y,W,X);return A0(M)?{...Q,...M}:M},{})}function jP($,W,J){let X=A6($,J);if(!A0(X))return X;let Q=Object.getOwnPropertyNames($.properties);for(let Y of Q){let M=x5($.properties[Y],W,X[Y]);if(q1(M))continue;X[Y]=x5($.properties[Y],W,X[Y])}if(!SY($.additionalProperties))return X;for(let Y of Object.getOwnPropertyNames(X)){if(Q.includes(Y))continue;X[Y]=x5($.additionalProperties,W,X[Y])}return X}function LP($,W,J){let X=A6($,J);if(!A0(X))return X;let Q=$.additionalProperties,[Y,M]=Object.entries($.patternProperties)[0],G=new RegExp(Y);for(let B of Object.getOwnPropertyNames(X)){if(!(G.test(B)&&SY(M)))continue;X[B]=x5(M,W,X[B])}if(!SY(Q))return X;for(let B of Object.getOwnPropertyNames(X)){if(G.test(B))continue;X[B]=x5(Q,W,X[B])}return X}function _P($,W,J){return x5(k0($,W),W,A6($,J))}function FP($,W,J){return x5(k0($,W),W,J)}function KP($,W,J){let X=A6($,J);if(!M0(X)||q1($.items))return X;let[Q,Y]=[$.items,Math.max($.items.length,X.length)];for(let M=0;M<Y;M++)if(M<Q.length)X[M]=x5(Q[M],W,X[M]);return X}function bP($,W,J){let X=A6($,J);for(let Q of $.anyOf){let Y=x5(Q,W,g0(X));if(S0(Q,W,Y))return Y}return X}function x5($,W,J){let X=$5($,W),Q=$;switch(Q[F]){case"Array":return DP(Q,X,J);case"Date":return ZP(Q,X,J);case"Import":return OP(Q,X,J);case"Intersect":return SP(Q,X,J);case"Object":return jP(Q,X,J);case"Record":return LP(Q,X,J);case"Ref":return _P(Q,X,J);case"This":return FP(Q,X,J);case"Tuple":return KP(Q,X,J);case"Union":return bP(Q,X,J);default:return A6(Q,J)}}function yJ(...$){return $.length===3?x5($[0],$[1],$[2]):x5($[0],[],$[1])}var w8={};$6(w8,{ValuePointerRootSetError:()=>jY,ValuePointerRootDeleteError:()=>LY,Set:()=>CP,Has:()=>PP,Get:()=>EP,Format:()=>f7,Delete:()=>VP});class jY extends B0{constructor($,W,J){super("Cannot set root value");this.value=$,this.path=W,this.update=J}}class LY extends B0{constructor($,W){super("Cannot delete root value");this.value=$,this.path=W}}function TH($){return $.indexOf("~")===-1?$:$.replace(/~1/g,"/").replace(/~0/g,"~")}function*f7($){if($==="")return;let[W,J]=[0,0];for(let X=0;X<$.length;X++)if($.charAt(X)==="/")if(X===0)W=X+1;else J=X,yield TH($.slice(W,J)),W=X+1;else J=X;yield TH($.slice(W))}function CP($,W,J){if(W==="")throw new jY($,W,J);let[X,Q,Y]=[null,$,""];for(let M of f7(W)){if(Q[M]===void 0)Q[M]={};X=Q,Q=Q[M],Y=M}X[Y]=J}function VP($,W){if(W==="")throw new LY($,W);let[J,X,Q]=[null,$,""];for(let Y of f7(W)){if(X[Y]===void 0||X[Y]===null)return;J=X,X=X[Y],Q=Y}if(Array.isArray(J)){let Y=parseInt(Q);J.splice(Y,1)}else delete J[Q]}function PP($,W){if(W==="")return!0;let[J,X,Q]=[null,$,""];for(let Y of f7(W)){if(X[Y]===void 0)return!1;J=X,X=X[Y],Q=Y}return Object.getOwnPropertyNames(J).includes(Q)}function EP($,W){if(W==="")return $;let J=$;for(let X of f7(W)){if(J[X]===void 0)return;J=J[X]}return J}function RP($,W){if(!A0(W))return!1;let J=[...Object.keys($),...Object.getOwnPropertySymbols($)],X=[...Object.keys(W),...Object.getOwnPropertySymbols(W)];if(J.length!==X.length)return!1;return J.every((Q)=>n4($[Q],W[Q]))}function IP($,W){return R5(W)&&$.getTime()===W.getTime()}function xP($,W){if(!M0(W)||$.length!==W.length)return!1;return $.every((J,X)=>n4(J,W[X]))}function kP($,W){if(!_2(W)||$.length!==W.length||Object.getPrototypeOf($).constructor.name!==Object.getPrototypeOf(W).constructor.name)return!1;return $.every((J,X)=>n4(J,W[X]))}function TP($,W){return $===W}function n4($,W){if(R5($))return IP($,W);if(_2($))return kP($,W);if(M0($))return xP($,W);if(A0($))return RP($,W);if(Y2($))return TP($,W);throw new Error("ValueEquals: Unable to compare value")}var gP=y0({type:E0("insert"),path:I5(),value:$8()}),fP=y0({type:E0("update"),path:I5(),value:$8()}),vP=y0({type:E0("delete"),path:I5()}),fH=d0([gP,fP,vP]);class _Y extends B0{constructor($,W){super(W);this.value=$}}function cJ($,W){return{type:"update",path:$,value:W}}function vH($,W){return{type:"insert",path:$,value:W}}function dH($){return{type:"delete",path:$}}function gH($){if(globalThis.Object.getOwnPropertySymbols($).length>0)throw new _Y($,"Cannot diff objects with symbols")}function*dP($,W,J){if(gH(W),gH(J),!iQ(J))return yield cJ($,J);let X=globalThis.Object.getOwnPropertyNames(W),Q=globalThis.Object.getOwnPropertyNames(J);for(let Y of Q){if(H0(W,Y))continue;yield vH(`${$}/${Y}`,J[Y])}for(let Y of X){if(!H0(J,Y))continue;if(n4(W,J))continue;yield*hJ(`${$}/${Y}`,W[Y],J[Y])}for(let Y of X){if(H0(J,Y))continue;yield dH(`${$}/${Y}`)}}function*yP($,W,J){if(!M0(J))return yield cJ($,J);for(let X=0;X<Math.min(W.length,J.length);X++)yield*hJ(`${$}/${X}`,W[X],J[X]);for(let X=0;X<J.length;X++){if(X<W.length)continue;yield vH(`${$}/${X}`,J[X])}for(let X=W.length-1;X>=0;X--){if(X<J.length)continue;yield dH(`${$}/${X}`)}}function*cP($,W,J){if(!_2(J)||W.length!==J.length||globalThis.Object.getPrototypeOf(W).constructor.name!==globalThis.Object.getPrototypeOf(J).constructor.name)return yield cJ($,J);for(let X=0;X<Math.min(W.length,J.length);X++)yield*hJ(`${$}/${X}`,W[X],J[X])}function*hP($,W,J){if(W===J)return;yield cJ($,J)}function*hJ($,W,J){if(iQ(W))return yield*dP($,W,J);if(M0(W))return yield*yP($,W,J);if(_2(W))return yield*cP($,W,J);if(Y2(W))return yield*hP($,W,J);throw new _Y(W,"Unable to diff value")}function yH($,W){return[...hJ("",$,W)]}function mP($){return $.length>0&&$[0].path===""&&$[0].type==="update"}function uP($){return $.length===0}function cH($,W){if(mP(W))return g0(W[0].value);if(uP(W))return g0($);let J=g0($);for(let X of W)switch(X.type){case"insert":{w8.Set(J,X.path,X.value);break}case"update":{w8.Set(J,X.path,X.value);break}case"delete":{w8.Delete(J,X.path);break}}return J}function hH(...$){let[W,J,X]=$.length===3?[$[0],$[1],$[2]]:[$[0],[],$[1]],Q=z6(W,J)?t9(W,J,X):X;if(!S0(W,J,Q))throw new g7(W,Q,E8(W,J,Q).First());return Q}function mJ($){return A0($)&&!M0($)}class FY extends B0{constructor($){super($)}}function lP($,W,J,X){if(!mJ(J))w8.Set($,W,g0(X));else{let Q=Object.getOwnPropertyNames(J),Y=Object.getOwnPropertyNames(X);for(let M of Q)if(!Y.includes(M))delete J[M];for(let M of Y)if(!Q.includes(M))J[M]=null;for(let M of Y)KY($,`${W}/${M}`,J[M],X[M])}}function pP($,W,J,X){if(!M0(J))w8.Set($,W,g0(X));else{for(let Q=0;Q<X.length;Q++)KY($,`${W}/${Q}`,J[Q],X[Q]);J.splice(X.length)}}function iP($,W,J,X){if(_2(J)&&J.length===X.length)for(let Q=0;Q<J.length;Q++)J[Q]=X[Q];else w8.Set($,W,g0(X))}function nP($,W,J,X){if(J===X)return;w8.Set($,W,X)}function KY($,W,J,X){if(M0(X))return pP($,W,J,X);if(_2(X))return iP($,W,J,X);if(mJ(X))return lP($,W,J,X);if(Y2(X))return nP($,W,J,X)}function mH($){return _2($)||Y2($)}function oP($,W){return mJ($)&&M0(W)||M0($)&&mJ(W)}function uH($,W){if(mH($)||mH(W))throw new FY("Only object and array types can be mutated at the root level");if(oP($,W))throw new FY("Cannot assign due type mismatch of assignable values");KY($,"",$,W)}class CY extends B0{constructor($){super($)}}var bY;(function($){let W=new Map([["Assert",(Y,M,G)=>{return TJ(Y,M,G),G}],["Cast",(Y,M,G)=>I7(Y,M,G)],["Clean",(Y,M,G)=>gJ(Y,M,G)],["Clone",(Y,M,G)=>g0(G)],["Convert",(Y,M,G)=>vJ(Y,M,G)],["Decode",(Y,M,G)=>z6(Y,M)?a9(Y,M,G):G],["Default",(Y,M,G)=>yJ(Y,M,G)],["Encode",(Y,M,G)=>z6(Y,M)?t9(Y,M,G):G]]);function J(Y){W.delete(Y)}$.Delete=J;function X(Y,M){W.set(Y,M)}$.Set=X;function Q(Y){return W.get(Y)}$.Get=Q})(bY||(bY={}));var lH=["Clone","Clean","Default","Convert","Assert","Decode"];function sP($,W,J,X){return $.reduce((Q,Y)=>{let M=bY.Get(Y);if(q1(M))throw new CY(`Unable to find Parse operation '${Y}'`);return M(W,J,Q)},X)}function pH(...$){let[W,J,X,Q]=$.length===4?[$[0],$[1],$[2],$[3]]:$.length===3?M0($[0])?[$[0],$[1],[],$[2]]:[lH,$[0],$[1],$[2]]:$.length===2?[lH,$[0],[],$[1]]:(()=>{throw new CY("Invalid Arguments")})();return sP(W,J,X,Q)}var n0={};$6(n0,{ValueErrorIterator:()=>i4,Patch:()=>cH,Parse:()=>pH,Mutate:()=>uH,Hash:()=>o6,Errors:()=>E8,Equal:()=>n4,Encode:()=>hH,Edit:()=>fH,Diff:()=>yH,Default:()=>yJ,Decode:()=>kH,Create:()=>Q8,Convert:()=>vJ,Clone:()=>g0,Clean:()=>gJ,Check:()=>S0,Cast:()=>I7,Assert:()=>TJ});class iH{constructor($,W,J,X){this.schema=$,this.references=W,this.checkFunc=J,this.code=X,this.hasTransform=z6($,W)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors($){return E8(this.schema,this.references,$)}Check($){return this.checkFunc($)}Decode($){if(!this.checkFunc($))throw new T7(this.schema,$,this.Errors($).First());return this.hasTransform?a9(this.schema,this.references,$):$}Encode($){let W=this.hasTransform?t9(this.schema,this.references,$):$;if(!this.checkFunc(W))throw new g7(this.schema,$,this.Errors($).First());return W}}var N6;(function($){function W(Y){return Y===36}$.DollarSign=W;function J(Y){return Y===95}$.IsUnderscore=J;function X(Y){return Y>=65&&Y<=90||Y>=97&&Y<=122}$.IsAlpha=X;function Q(Y){return Y>=48&&Y<=57}$.IsNumeric=Q})(N6||(N6={}));var uJ;(function($){function W(Y){if(Y.length===0)return!1;return N6.IsNumeric(Y.charCodeAt(0))}function J(Y){if(W(Y))return!1;for(let M=0;M<Y.length;M++){let G=Y.charCodeAt(M);if(!(N6.IsAlpha(G)||N6.IsNumeric(G)||N6.DollarSign(G)||N6.IsUnderscore(G)))return!1}return!0}function X(Y){return Y.replace(/'/g,"\\'")}function Q(Y,M){return J(M)?`${Y}.${M}`:`${Y}['${X(M)}']`}$.Encode=Q})(uJ||(uJ={}));var VY;(function($){function W(J){let X=[];for(let Q=0;Q<J.length;Q++){let Y=J.charCodeAt(Q);if(N6.IsNumeric(Y)||N6.IsAlpha(Y))X.push(J.charAt(Q));else X.push(`_${Y}_`)}return X.join("").replace(/__/g,"_")}$.Encode=W})(VY||(VY={}));var PY;(function($){function W(J){return J.replace(/'/g,"\\'")}$.Escape=W})(PY||(PY={}));class nH extends B0{constructor($){super("Unknown type");this.schema=$}}class EY extends B0{constructor($){super("Preflight validation check failed to guard for the given schema");this.schema=$}}var o4;(function($){function W(M,G,B){return Y1.ExactOptionalPropertyTypes?`('${G}' in ${M} ? ${B} : true)`:`(${uJ.Encode(M,G)} !== undefined ? ${B} : true)`}$.IsExactOptionalProperty=W;function J(M){return!Y1.AllowArrayObject?`(typeof ${M} === 'object' && ${M} !== null && !Array.isArray(${M}))`:`(typeof ${M} === 'object' && ${M} !== null)`}$.IsObjectLike=J;function X(M){return!Y1.AllowArrayObject?`(typeof ${M} === 'object' && ${M} !== null && !Array.isArray(${M}) && !(${M} instanceof Date) && !(${M} instanceof Uint8Array))`:`(typeof ${M} === 'object' && ${M} !== null && !(${M} instanceof Date) && !(${M} instanceof Uint8Array))`}$.IsRecordLike=X;function Q(M){return Y1.AllowNaN?`typeof ${M} === 'number'`:`Number.isFinite(${M})`}$.IsNumberLike=Q;function Y(M){return Y1.AllowNullVoid?`(${M} === undefined || ${M} === null)`:`${M} === undefined`}$.IsVoidLike=Y})(o4||(o4={}));var q8;(function($){function W(Z){return Z[F]==="Any"||Z[F]==="Unknown"}function*J(Z,V,S){yield"true"}function*X(Z,V,S){yield"true"}function*Q(Z,V,S){yield`Array.isArray(${S})`;let[h,l]=[L2("value","any"),L2("acc","number")];if(X0(Z.maxItems))yield`${S}.length <= ${Z.maxItems}`;if(X0(Z.minItems))yield`${S}.length >= ${Z.minItems}`;let n=B1(Z.items,V,"value");if(yield`${S}.every((${h}) => ${n})`,U1(Z.contains)||X0(Z.minContains)||X0(Z.maxContains)){let N0=U1(Z.contains)?Z.contains:O0(),a0=B1(N0,V,"value"),Z5=X0(Z.minContains)?[`(count >= ${Z.minContains})`]:[],B5=X0(Z.maxContains)?[`(count <= ${Z.maxContains})`]:[],X2=`const count = value.reduce((${l}, ${h}) => ${a0} ? acc + 1 : acc, 0)`,t8=["(count > 0)",...Z5,...B5].join(" && ");yield`((${h}) => { ${X2}; return ${t8}})(${S})`}if(Z.uniqueItems===!0)yield`((${h}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${S})`}function*Y(Z,V,S){yield`(typeof value === 'object' && Symbol.asyncIterator in ${S})`}function*M(Z,V,S){if(yield`(typeof ${S} === 'bigint')`,w5(Z.exclusiveMaximum))yield`${S} < BigInt(${Z.exclusiveMaximum})`;if(w5(Z.exclusiveMinimum))yield`${S} > BigInt(${Z.exclusiveMinimum})`;if(w5(Z.maximum))yield`${S} <= BigInt(${Z.maximum})`;if(w5(Z.minimum))yield`${S} >= BigInt(${Z.minimum})`;if(w5(Z.multipleOf))yield`(${S} % BigInt(${Z.multipleOf})) === 0`}function*G(Z,V,S){yield`(typeof ${S} === 'boolean')`}function*B(Z,V,S){yield*l2(Z.returns,V,`${S}.prototype`)}function*w(Z,V,S){if(yield`(${S} instanceof Date) && Number.isFinite(${S}.getTime())`,X0(Z.exclusiveMaximumTimestamp))yield`${S}.getTime() < ${Z.exclusiveMaximumTimestamp}`;if(X0(Z.exclusiveMinimumTimestamp))yield`${S}.getTime() > ${Z.exclusiveMinimumTimestamp}`;if(X0(Z.maximumTimestamp))yield`${S}.getTime() <= ${Z.maximumTimestamp}`;if(X0(Z.minimumTimestamp))yield`${S}.getTime() >= ${Z.minimumTimestamp}`;if(X0(Z.multipleOfTimestamp))yield`(${S}.getTime() % ${Z.multipleOfTimestamp}) === 0`}function*q(Z,V,S){yield`(typeof ${S} === 'function')`}function*H(Z,V,S){let h=globalThis.Object.getOwnPropertyNames(Z.$defs).reduce((l,n)=>{return[...l,Z.$defs[n]]},[]);yield*l2(V2(Z.$ref),[...V,...h],S)}function*z(Z,V,S){if(yield`Number.isInteger(${S})`,X0(Z.exclusiveMaximum))yield`${S} < ${Z.exclusiveMaximum}`;if(X0(Z.exclusiveMinimum))yield`${S} > ${Z.exclusiveMinimum}`;if(X0(Z.maximum))yield`${S} <= ${Z.maximum}`;if(X0(Z.minimum))yield`${S} >= ${Z.minimum}`;if(X0(Z.multipleOf))yield`(${S} % ${Z.multipleOf}) === 0`}function*U(Z,V,S){let h=Z.allOf.map((l)=>B1(l,V,S)).join(" && ");if(Z.unevaluatedProperties===!1){let l=p2(`${new RegExp(q6(Z))};`),n=`Object.getOwnPropertyNames(${S}).every(key => ${l}.test(key))`;yield`(${h} && ${n})`}else if(U1(Z.unevaluatedProperties)){let l=p2(`${new RegExp(q6(Z))};`),n=`Object.getOwnPropertyNames(${S}).every(key => ${l}.test(key) || ${B1(Z.unevaluatedProperties,V,`${S}[key]`)})`;yield`(${h} && ${n})`}else yield`(${h})`}function*N(Z,V,S){yield`(typeof value === 'object' && Symbol.iterator in ${S})`}function*D(Z,V,S){if(typeof Z.const==="number"||typeof Z.const==="boolean")yield`(${S} === ${Z.const})`;else yield`(${S} === '${PY.Escape(Z.const)}')`}function*j(Z,V,S){yield"false"}function*K(Z,V,S){yield`(!${B1(Z.not,V,S)})`}function*O(Z,V,S){yield`(${S} === null)`}function*E(Z,V,S){if(yield o4.IsNumberLike(S),X0(Z.exclusiveMaximum))yield`${S} < ${Z.exclusiveMaximum}`;if(X0(Z.exclusiveMinimum))yield`${S} > ${Z.exclusiveMinimum}`;if(X0(Z.maximum))yield`${S} <= ${Z.maximum}`;if(X0(Z.minimum))yield`${S} >= ${Z.minimum}`;if(X0(Z.multipleOf))yield`(${S} % ${Z.multipleOf}) === 0`}function*m(Z,V,S){if(yield o4.IsObjectLike(S),X0(Z.minProperties))yield`Object.getOwnPropertyNames(${S}).length >= ${Z.minProperties}`;if(X0(Z.maxProperties))yield`Object.getOwnPropertyNames(${S}).length <= ${Z.maxProperties}`;let h=Object.getOwnPropertyNames(Z.properties);for(let l of h){let n=uJ.Encode(S,l),N0=Z.properties[l];if(Z.required&&Z.required.includes(l)){if(yield*l2(N0,V,n),H6(N0)||W(N0))yield`('${l}' in ${S})`}else{let a0=B1(N0,V,n);yield o4.IsExactOptionalProperty(S,l,a0)}}if(Z.additionalProperties===!1)if(Z.required&&Z.required.length===h.length)yield`Object.getOwnPropertyNames(${S}).length === ${h.length}`;else{let l=`[${h.map((n)=>`'${n}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${S}).every(key => ${l}.includes(key))`}if(typeof Z.additionalProperties==="object"){let l=B1(Z.additionalProperties,V,`${S}[key]`),n=`[${h.map((N0)=>`'${N0}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${S}).every(key => ${n}.includes(key) || ${l}))`}}function*e(Z,V,S){yield`${S} instanceof Promise`}function*T(Z,V,S){if(yield o4.IsRecordLike(S),X0(Z.minProperties))yield`Object.getOwnPropertyNames(${S}).length >= ${Z.minProperties}`;if(X0(Z.maxProperties))yield`Object.getOwnPropertyNames(${S}).length <= ${Z.maxProperties}`;let[h,l]=Object.entries(Z.patternProperties)[0],n=p2(`${new RegExp(h)}`),N0=B1(l,V,"value"),a0=U1(Z.additionalProperties)?B1(Z.additionalProperties,V,S):Z.additionalProperties===!1?"false":"true",Z5=`(${n}.test(key) ? ${N0} : ${a0})`;yield`(Object.entries(${S}).every(([key, value]) => ${Z5}))`}function*b(Z,V,S){let h=k0(Z,V);if(_1.functions.has(Z.$ref))return yield`${G5(Z.$ref)}(${S})`;yield*l2(h,V,S)}function*x(Z,V,S){let h=p2(`${new RegExp(Z.source,Z.flags)};`);if(yield`(typeof ${S} === 'string')`,X0(Z.maxLength))yield`${S}.length <= ${Z.maxLength}`;if(X0(Z.minLength))yield`${S}.length >= ${Z.minLength}`;yield`${h}.test(${S})`}function*k(Z,V,S){if(yield`(typeof ${S} === 'string')`,X0(Z.maxLength))yield`${S}.length <= ${Z.maxLength}`;if(X0(Z.minLength))yield`${S}.length >= ${Z.minLength}`;if(Z.pattern!==void 0)yield`${p2(`${new RegExp(Z.pattern)};`)}.test(${S})`;if(Z.format!==void 0)yield`format('${Z.format}', ${S})`}function*P(Z,V,S){yield`(typeof ${S} === 'symbol')`}function*C(Z,V,S){yield`(typeof ${S} === 'string')`,yield`${p2(`${new RegExp(Z.pattern)};`)}.test(${S})`}function*d(Z,V,S){yield`${G5(Z.$ref)}(${S})`}function*u(Z,V,S){if(yield`Array.isArray(${S})`,Z.items===void 0)return yield`${S}.length === 0`;yield`(${S}.length === ${Z.maxItems})`;for(let h=0;h<Z.items.length;h++)yield`${B1(Z.items[h],V,`${S}[${h}]`)}`}function*$0(Z,V,S){yield`${S} === undefined`}function*Q0(Z,V,S){yield`(${Z.anyOf.map((l)=>B1(l,V,S)).join(" || ")})`}function*t(Z,V,S){if(yield`${S} instanceof Uint8Array`,X0(Z.maxByteLength))yield`(${S}.length <= ${Z.maxByteLength})`;if(X0(Z.minByteLength))yield`(${S}.length >= ${Z.minByteLength})`}function*d5(Z,V,S){yield"true"}function*f6(Z,V,S){yield o4.IsVoidLike(S)}function*J2(Z,V,S){let h=_1.instances.size;_1.instances.set(h,Z),yield`kind('${Z[F]}', ${h}, ${S})`}function*l2(Z,V,S,h=!0){let l=I0(Z.$id)?[...V,Z]:V,n=Z;if(h&&I0(Z.$id)){let N0=G5(Z.$id);if(_1.functions.has(N0))return yield`${N0}(${S})`;else{_1.functions.set(N0,"<deferred>");let a0=E5(N0,Z,V,"value",!1);return _1.functions.set(N0,a0),yield`${N0}(${S})`}}switch(n[F]){case"Any":return yield*J(n,l,S);case"Argument":return yield*X(n,l,S);case"Array":return yield*Q(n,l,S);case"AsyncIterator":return yield*Y(n,l,S);case"BigInt":return yield*M(n,l,S);case"Boolean":return yield*G(n,l,S);case"Constructor":return yield*B(n,l,S);case"Date":return yield*w(n,l,S);case"Function":return yield*q(n,l,S);case"Import":return yield*H(n,l,S);case"Integer":return yield*z(n,l,S);case"Intersect":return yield*U(n,l,S);case"Iterator":return yield*N(n,l,S);case"Literal":return yield*D(n,l,S);case"Never":return yield*j(n,l,S);case"Not":return yield*K(n,l,S);case"Null":return yield*O(n,l,S);case"Number":return yield*E(n,l,S);case"Object":return yield*m(n,l,S);case"Promise":return yield*e(n,l,S);case"Record":return yield*T(n,l,S);case"Ref":return yield*b(n,l,S);case"RegExp":return yield*x(n,l,S);case"String":return yield*k(n,l,S);case"Symbol":return yield*P(n,l,S);case"TemplateLiteral":return yield*C(n,l,S);case"This":return yield*d(n,l,S);case"Tuple":return yield*u(n,l,S);case"Undefined":return yield*$0(n,l,S);case"Union":return yield*Q0(n,l,S);case"Uint8Array":return yield*t(n,l,S);case"Unknown":return yield*d5(n,l,S);case"Void":return yield*f6(n,l,S);default:if(!o1.Has(n[F]))throw new nH(Z);return yield*J2(n,l,S)}}let _1={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function B1(Z,V,S,h=!0){return`(${[...l2(Z,V,S,h)].join(" && ")})`}function G5(Z){return`check_${VY.Encode(Z)}`}function p2(Z){let V=`local_${_1.variables.size}`;return _1.variables.set(V,`const ${V} = ${Z}`),V}function E5(Z,V,S,h,l=!0){let[n,N0]=[`
`,(X2)=>"".padStart(X2," ")],a0=L2("value","any"),Z5=v6("boolean"),B5=[...l2(V,S,h,l)].map((X2)=>`${N0(4)}${X2}`).join(` &&${n}`);return`function ${Z}(${a0})${Z5} {${n}${N0(2)}return (${n}${B5}${n}${N0(2)})
}`}function L2(Z,V){let S=_1.language==="typescript"?`: ${V}`:"";return`${Z}${S}`}function v6(Z){return _1.language==="typescript"?`: ${Z}`:""}function i2(Z,V,S){let h=E5("check",Z,V,"value"),l=L2("value","any"),n=v6("boolean"),N0=[..._1.functions.values()],a0=[..._1.variables.values()],Z5=I0(Z.$id)?`return function check(${l})${n} {
  return ${G5(Z.$id)}(value)
}`:`return ${h}`;return[...a0,...N0,Z5].join(`
`)}function o(...Z){let V={language:"javascript"},[S,h,l]=Z.length===2&&M0(Z[1])?[Z[0],Z[1],V]:Z.length===2&&!M0(Z[1])?[Z[0],[],Z[1]]:Z.length===3?[Z[0],Z[1],Z[2]]:Z.length===1?[Z[0],[],V]:[null,[],V];if(_1.language=l.language,_1.variables.clear(),_1.functions.clear(),_1.instances.clear(),!U1(S))throw new EY(S);for(let n of h)if(!U1(n))throw new EY(n);return i2(S,h,l)}$.Code=o;function p(Z,V=[]){let S=o(Z,V,{language:"javascript"}),h=globalThis.Function("kind","format","hash",S),l=new Map(_1.instances);function n(B5,X2,t8){if(!o1.Has(B5)||!l.has(X2))return!1;let Mj=o1.Get(B5),Gj=l.get(X2);return Mj(Gj,t8)}function N0(B5,X2){if(!u0.Has(B5))return!1;return u0.Get(B5)(X2)}function a0(B5){return o6(B5)}let Z5=h(n,N0,a0);return new iH(Z,V,Z5,S)}$.Compile=p})(q8||(q8={}));var OX=V9(aH(),1),WA=V9(R7(),1);var MA=V9(R7(),1),J9=V9(R7(),1);var p5=Symbol.for("TypeBox.Kind"),BE=Symbol.for("TypeBox.Hint"),eH=($)=>/(\ |-|\t|\n|\.)/.test($)||!isNaN(+$[0]),$U=($,W,J=!1)=>{if(typeof W==="number")return`${$}[${W}]`;if(eH(W))return`${$}${J?"?.":""}["${W}"]`;return`${$}${J?"?":""}.${W}`},wE=($)=>eH($)?`"${$}"`:$,tH=($,W=0,J)=>{if(J.type!=="string"||J.const||J.trusted)return $;let X="";for(let Q=W-1;Q>=0;Q--)X+=`d.h${Q}(`;return X+$+")".repeat(W)},WU=($)=>{if(!$.allOf||p5 in $&&($[p5]!=="Intersect"||$.type!=="object"))return $;let{allOf:W,...J}=$;if(J.properties={},p5 in J)J[p5]="Object";for(let X of W){if(X.type!=="object")continue;let{properties:Q,required:Y,type:M,[p5]:G,...B}=X;if(Y)J.required=J.required?J.required.concat(Y):Y;Object.assign(J,B);for(let w in X.properties)J.properties[w]=WU(X.properties[w])}return J},qE=($,W,J)=>{let X=$.patternProperties["^(.*)$"]??$.patternProperties[Object.keys($.patternProperties)[0]];if(!X)return W;let Q=J.array;J.array++;let Y=`(()=>{const ar${Q}s=Object.keys(${W}),ar${Q}v={};for(let i=0;i<ar${Q}s.length;i++){const ar${Q}p=${W}[ar${Q}s[i]];ar${Q}v[ar${Q}s[i]]=${D6(X,`ar${Q}p`,J)}`,M=J.optionalsInArray[Q+1];if(M)for(let G=0;G<M.length;G++){let B=`ar${Q}v[ar${Q}s[i]].${M[G]}`;Y+=`;if(${B}===undefined)delete ${B}`}return Y+=`}return ar${Q}v})()`,Y},HE=($,W,J)=>{let X=J.array;J.array++;let Q=W==="v"&&!J.unions.length,Y="";if(!Q)Y="(()=>{";Y+=`const ar${X}v=[`;for(let M=0;M<$.length;M++){if(M!==0)Y+=",";Y+=D6($[M],$U(W,M,J.parentIsOptional),J)}if(Y+="];",!Q)Y+=`return ar${X}v})()`;return Y};function lJ($,W=new WeakMap){if($===null||typeof $!=="object"||typeof $==="function")return $;if(W.has($))return W.get($);if(Array.isArray($)){let J=new Array($.length);W.set($,J);for(let X=0;X<$.length;X++)J[X]=lJ($[X],W);return J}if(typeof $==="object"){let J=Object.keys($).concat(Object.getOwnPropertySymbols($)),X={};for(let Q of J)X[Q]=lJ($[Q],W);return X}return $}var UE=($,W,J)=>{if(J.TypeCompiler===void 0){if(!J.typeCompilerWanred)console.warn(new Error("[exact-mirror] TypeBox's TypeCompiler is required to use Union")),J.typeCompilerWanred=!0;return W}J.unionKeys[W]=1;let X=J.unions.length,Q=J.unions[X]=[],Y=`(()=>{
`,M=(G)=>{if(!(p5 in G)||!G.$ref)return G;if(G[p5]==="This")return lJ(J.definitions[G.$ref]);else if(G[p5]==="Ref")if(!J.modules)console.warn(new Error("[exact-mirror] modules is required when using nested cyclic reference"));else return J.modules.Import(G.$ref);return G};for(let G=0;G<$.length;G++){let B=M($[G]);if(Array.isArray(B.anyOf))for(let w=0;w<B.anyOf.length;w++)B.anyOf[w]=M(B.anyOf[w]);else if(B.items)if(Array.isArray(B.items))for(let w=0;w<B.items.length;w++)B.items[w]=M(B.items[w]);else B.items=M(B.items);Q.push(q8.Compile(B)),Y+=`if(d.unions[${X}][${G}].Check(${W})){return ${D6(B,W,{...J,recursion:J.recursion+1,parentIsOptional:!0})}}
`}return Y+=`return ${J.removeUnknownUnionType?"undefined":W}})()`,Y},D6=($,W,J)=>{if(!$)return"";let X=W==="v"&&!J.unions.length;if(p5 in $&&$[p5]==="Import"&&$.$ref in $.$defs)return D6($.$defs[$.$ref],W,{...J,definitions:Object.assign(J.definitions,$.$defs)});if(X&&$.type!=="object"&&$.type!=="array"&&!$.anyOf)return`return ${tH("v",J.sanitize?.length,$)}`;if(J.recursion>=J.recursionLimit)return W;let Q="";if($.$id&&BE in $)J.definitions[$.$id]=$;switch($.type){case"object":if($[p5]==="Record"){Q=qE($,W,J);break}if($=WU($),Q+="{",$.additionalProperties)Q+=`...${W},`;let Y=Object.keys($.properties);for(let w=0;w<Y.length;w++){let q=Y[w],H=!$.required||$.required&&!$.required.includes(q)||Array.isArray($.properties[q].anyOf),z=$U(W,q,J.parentIsOptional);if(H){let N=J.array;if(W.startsWith("ar")){let D=z.slice(z.indexOf(".")+1),j=J.optionalsInArray;if(j[N])j[N].push(D);else j[N]=[D]}else J.optionals.push(z)}let U=$.properties[q];if(w!==0)Q+=",";Q+=`${wE(q)}:${H?`${z}===undefined?undefined:`:""}${D6(U,z,{...J,recursion:J.recursion+1,parentIsOptional:H})}`}Q+="}";break;case"array":if($.items.type!=="object"&&$.items.type!=="array")if(Array.isArray($.items)){Q=HE($.items,W,J);break}else if(X)return"return v";else if(p5 in $.items&&$.items.$ref&&($.items[p5]==="Ref"||$.items[p5]==="This"))Q=D6(lJ(J.definitions[$.items.$ref]),W,{...J,parentIsOptional:!0,recursion:J.recursion+1});else{Q=W;break}let M=J.array;J.array++;let G=W;if(X)Q=`const ar${M}v=new Array(${W}.length);`;else G=`ar${M}s`,Q=`((${G})=>{const ar${M}v=new Array(${G}.length);`;Q+=`for(let i=0;i<${G}.length;i++){const ar${M}p=${G}[i];ar${M}v[i]=${D6($.items,`ar${M}p`,J)}`;let B=J.optionalsInArray[M+1];if(B)for(let w=0;w<B.length;w++){let q=`ar${M}v[i].${B[w]}`;Q+=`;if(${q}===undefined)delete ${q}`}if(Q+="}",!X)Q+=`return ar${M}v})(${W})`;break;default:if($.$ref&&$.$ref in J.definitions)return D6(J.definitions[$.$ref],W,J);if(Array.isArray($.anyOf)){Q=UE($.anyOf,W,J);break}Q=tH(W,J.sanitize?.length,$);break}if(!X)return Q;if($.type==="array")Q=`${Q}const x=ar0v;`;else Q=`const x=${Q}
`;for(let Y=0;Y<J.optionals.length;Y++){let M=J.optionals[Y],G=M.slice(1);if(Q+=`if(${M}===undefined`,J.unionKeys[M])Q+=`||x${G}===undefined`;let B=G.charCodeAt(0)!==63&&$.type!=="array";Q+=`)delete x${B?G.charCodeAt(0)===91?"?.":"?":""}${G}
`}return`${Q}return x`},pJ=($,{TypeCompiler:W,modules:J,definitions:X,sanitize:Q,recursionLimit:Y=8,removeUnknownUnionType:M=!1}={})=>{let G=[];if(typeof Q==="function")Q=[Q];let B=D6($,"v",{optionals:[],optionalsInArray:[],array:0,parentIsOptional:!1,unions:G,unionKeys:{},TypeCompiler:W,modules:J,definitions:X??J?.$defs??{},sanitize:Q,recursion:0,recursionLimit:Y,removeUnknownUnionType:M});if(!G.length&&!Q?.length)return Function("v",B);let w;if(Q?.length){w={};for(let q=0;q<Q.length;q++)w[`h${q}`]=Q[q]}return Function("d",`return function mirror(v){${B}}`)({unions:G,...w})};var G$=($,W)=>{let J=W?.length?{}:null;if(J)for(let X of W)J[X.part.charCodeAt(0)]=X;return{part:$,store:null,inert:J,params:null,wildcardStore:null}},Uz=($,W)=>({...$,part:W}),zz=($)=>({name:$,store:null,inert:null}),Az=class ${constructor(W={}){this.config=W,W.lazy&&(this.find=this.lazyFind),W.onParam&&!Array.isArray(W.onParam)&&(this.config.onParam=[this.config.onParam])}root={};history=[];deferred=[];static regex={static:/:.+?(?=\/|$)/,params:/:.+?(?=\/|$)/g,optionalParams:/(\/:\w+\?)/g};lazyFind=(W,J)=>this.config.lazy?(this.build(),this.find(W,J)):this.find;build(){if(this.config.lazy){for(let[W,J,X]of this.deferred)this.add(W,J,X,{lazy:!1,ignoreHistory:!0});this.deferred=[],this.find=(W,J)=>{let X=this.root[W];return X?BX(J,J.length,X,0,this.config.onParam):null}}}add(W,J,X,{ignoreError:Q=!1,ignoreHistory:Y=!1,lazy:M=this.config.lazy}={}){if(M)return this.find=this.lazyFind,this.deferred.push([W,J,X]),X;if(typeof J!="string")throw new TypeError("Route path must be a string");J===""?J="/":J[0]!=="/"&&(J=`/${J}`);let G=J[J.length-1]==="*",B=J.match($.regex.optionalParams);if(B){let U=J.replaceAll("?","");this.add(W,U,X,{ignoreError:Q,ignoreHistory:Y,lazy:M});for(let N=0;N<B.length;N++){let D=J.replace(B[N],"");this.add(W,D,X,{ignoreError:!0,ignoreHistory:Y,lazy:M})}return X}if(B&&(J=J.replaceAll("?","")),this.history.find(([U,N,D])=>U===W&&N===J))return X;(G||B&&J.charCodeAt(J.length-1)===63)&&(J=J.slice(0,-1)),Y||this.history.push([W,J,X]);let w=J.split($.regex.static),q=J.match($.regex.params)||[];w[w.length-1]===""&&w.pop();let H;this.root[W]?H=this.root[W]:H=this.root[W]=G$("/");let z=0;for(let U=0;U<w.length;++U){let N=w[U];if(U>0){let D=q[z++].slice(1);if(H.params===null)H.params=zz(D);else if(H.params.name!==D){if(Q)return X;throw new Error(`Cannot create route "${J}" with parameter "${D}" because a route already exists with a different parameter name ("${H.params.name}") in the same location`)}let j=H.params;if(j.inert===null){H=j.inert=G$(N);continue}H=j.inert}for(let D=0;;){if(D===N.length){if(D<H.part.length){let j=Uz(H,H.part.slice(D));Object.assign(H,G$(N,[j]))}break}if(D===H.part.length){H.inert===null&&(H.inert={});let j=H.inert[N.charCodeAt(D)];if(j){H=j,N=N.slice(D),D=0;continue}let K=G$(N.slice(D));H.inert[N.charCodeAt(D)]=K,H=K;break}if(N[D]!==H.part[D]){let j=Uz(H,H.part.slice(D)),K=G$(N.slice(D));Object.assign(H,G$(H.part.slice(0,D),[j,K])),H=K;break}++D}}if(z<q.length){let U=q[z].slice(1);if(H.params===null)H.params=zz(U);else if(H.params.name!==U){if(Q)return X;throw new Error(`Cannot create route "${J}" with parameter "${U}" because a route already exists with a different parameter name ("${H.params.name}") in the same location`)}return H.params.store===null&&(H.params.store=X),H.params.store}return G?(H.wildcardStore===null&&(H.wildcardStore=X),H.wildcardStore):(H.store===null&&(H.store=X),H.store)}find(W,J){let X=this.root[W];return X?BX(J,J.length,X,0,this.config.onParam):null}},BX=($,W,J,X,Q)=>{let Y=J.part,M=Y.length,G=X+M;if(M>1){if(G>W)return null;if(M<15){for(let B=1,w=X+1;B<M;++B,++w)if(Y.charCodeAt(B)!==$.charCodeAt(w))return null}else if($.slice(X,G)!==Y)return null}if(G===W)return J.store!==null?{store:J.store,params:{}}:J.wildcardStore!==null?{store:J.wildcardStore,params:{"*":""}}:null;if(J.inert!==null){let B=J.inert[$.charCodeAt(G)];if(B!==void 0){let w=BX($,W,B,G,Q);if(w!==null)return w}}if(J.params!==null){let{store:B,name:w,inert:q}=J.params,H=$.indexOf("/",G);if(H!==G){if(H===-1||H>=W){if(B!==null){let z={};if(z[w]=$.substring(G,W),Q)for(let U=0;U<Q.length;U++){let N=Q[U](z[w],w);N!==void 0&&(z[w]=N)}return{store:B,params:z}}}else if(q!==null){let z=BX($,W,q,H,Q);if(z!==null){if(z.params[w]=$.substring(G,H),Q)for(let U=0;U<Q.length;U++){let N=Q[U](z.params[w],w);N!==void 0&&(z.params[w]=N)}return z}}}}return J.wildcardStore!==null?{store:J.wildcardStore,params:{"*":$.substring(G,W)}}:null},jM={date:mz,time:wM(!0),"date-time":Nz(!0),"iso-time":wM(!1),"iso-date-time":Nz(!1),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:nR,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:$I,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:oR,int32:{type:"number",validate:aR},int64:{type:"number",validate:tR},float:{type:"number",validate:Zz},double:{type:"number",validate:Zz},password:!0,binary:!0};function cR($){return $%4===0&&($%100!==0||$%400===0)}var hR=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,mR=[0,31,28,31,30,31,30,31,31,30,31,30,31];function mz($){let W=hR.exec($);if(!W)return!1;let J=+W[1],X=+W[2],Q=+W[3];return X>=1&&X<=12&&Q>=1&&Q<=(X===2&&cR(J)?29:mR[X])}var uR=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function wM($){return function(W){let J=uR.exec(W);if(!J)return!1;let X=+J[1],Q=+J[2],Y=+J[3],M=J[4],G=J[5]==="-"?-1:1,B=+(J[6]||0),w=+(J[7]||0);if(B>23||w>59||$&&!M)return!1;if(X<=23&&Q<=59&&Y<60)return!0;let q=Q-w*G,H=X-B*G-(q<0?1:0);return(H===23||H===-1)&&(q===59||q===-1)&&Y<61}}var qM=($)=>$.charCodeAt($.length-6)===32?$.slice(0,-6)+"+"+$.slice(-5):$,lR=/t|\s/i;function Nz($){let W=wM($);return function(J){let X=J.split(lR);return X.length===2&&mz(X[0])&&W(X[1])}}var pR=/\/|:/,iR=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function nR($){return pR.test($)&&iR.test($)}var Dz=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function oR($){return Dz.lastIndex=0,Dz.test($)}var sR=-2147483648,rR=2147483647;function aR($){return Number.isInteger($)&&$<=rR&&$>=sR}function tR($){return Number.isInteger($)}function Zz(){return!0}var eR=/[^\\]\\Z/;function $I($){if(eR.test($))return!1;try{return new RegExp($),!0}catch{return!1}}var uz=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,lz=/(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s\d{2}\s\d{4}\s\d{2}:\d{2}:\d{2}\sGMT(?:\+|-)\d{4}\s\([^)]+\)/,pz=/^(?:(?:(?:(?:0?[1-9]|[12][0-9]|3[01])[/\s-](?:0?[1-9]|1[0-2])[/\s-](?:19|20)\d{2})|(?:(?:19|20)\d{2}[/\s-](?:0?[1-9]|1[0-2])[/\s-](?:0?[1-9]|[12][0-9]|3[01]))))(?:\s(?:1[012]|0?[1-9]):[0-5][0-9](?::[0-5][0-9])?(?:\s[AP]M)?)?$/,WI=jM.date,JI=jM["date-time"];u0.Has("date")||u0.Set("date",($)=>{let W=qM($).replace(/"/g,"");if(uz.test(W)||lz.test(W)||pz.test(W)||WI(W)){let J=new Date(W);if(!Number.isNaN(J.getTime()))return!0}return!1});u0.Has("date-time")||u0.Set("date-time",($)=>{let W=$.replace(/"/g,"");if(uz.test(W)||lz.test(W)||pz.test(W)||JI(W)){let J=new Date(W);if(!Number.isNaN(J.getTime()))return!0}return!1});Object.entries(jM).forEach(($)=>{let[W,J]=$;u0.Has(W)||(J instanceof RegExp?u0.Set(W,(X)=>J.test(X)):typeof J=="function"&&u0.Set(W,J))});u0.Has("numeric")||u0.Set("numeric",($)=>!!$&&!isNaN(+$));u0.Has("integer")||u0.Set("integer",($)=>!!$&&Number.isInteger(+$));u0.Has("boolean")||u0.Set("boolean",($)=>$==="true"||$==="false");u0.Has("ObjectString")||u0.Set("ObjectString",($)=>{let W=$.charCodeAt(0);if((W===9||W===10||W===32)&&(W=$.trimStart().charCodeAt(0)),W!==123&&W!==91)return!1;try{return JSON.parse($),!0}catch{return!1}});u0.Has("ArrayString")||u0.Set("ArrayString",($)=>{let W=$.charCodeAt(0);if((W===9||W===10||W===32)&&(W=$.trimStart().charCodeAt(0)),W!==123&&W!==91)return!1;try{return JSON.parse($),!0}catch{return!1}});var z$=typeof Bun<"u",iz={aac:"audio/aac",abw:"application/x-abiword",ai:"application/postscript",arc:"application/octet-stream",avi:"video/x-msvideo",azw:"application/vnd.amazon.ebook",bin:"application/octet-stream",bz:"application/x-bzip",bz2:"application/x-bzip2",csh:"application/x-csh",css:"text/css",csv:"text/csv",doc:"application/msword",dll:"application/octet-stream",eot:"application/vnd.ms-fontobject",epub:"application/epub+zip",gif:"image/gif",htm:"text/html",html:"text/html",ico:"image/x-icon",ics:"text/calendar",jar:"application/java-archive",jpeg:"image/jpeg",jpg:"image/jpeg",js:"application/javascript",json:"application/json",mid:"audio/midi",midi:"audio/midi",mp2:"audio/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mpa:"video/mpeg",mpe:"video/mpeg",mpeg:"video/mpeg",mpkg:"application/vnd.apple.installer+xml",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",oga:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",otf:"font/otf",png:"image/png",pdf:"application/pdf",ppt:"application/vnd.ms-powerpoint",rar:"application/x-rar-compressed",rtf:"application/rtf",sh:"application/x-sh",svg:"image/svg+xml",swf:"application/x-shockwave-flash",tar:"application/x-tar",tif:"image/tiff",tiff:"image/tiff",ts:"application/typescript",ttf:"font/ttf",txt:"text/plain",vsd:"application/vnd.visio",wav:"audio/x-wav",weba:"audio/webm",webm:"video/webm",webp:"image/webp",woff:"font/woff",woff2:"font/woff2",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xlsx:"application/vnd.ms-excel",xlsx_OLD:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xml:"application/xml",xul:"application/vnd.mozilla.xul+xml",zip:"application/zip","3gp":"video/3gpp","3gp_DOES_NOT_CONTAIN_VIDEO":"audio/3gpp","3gp2":"video/3gpp2","3gp2_DOES_NOT_CONTAIN_VIDEO":"audio/3gpp2","7z":"application/x-7z-compressed"},XI=($)=>{let W=$.lastIndexOf(".");return W===-1?"":$.slice(W+1)};var aY,tY,HM=class{constructor($){if(this.path=$,z$)this.value=Bun.file($);else{if(!aY||!tY){if(typeof window<"u"){console.warn("Browser environment does not support file");return}let W=(X)=>console.warn(new Error(`[elysia] \`file\` require \`fs${X?"."+X:""}\` ${X?.includes(".")?"module ":""}which is not available in this environment`));if(typeof process>"u"||typeof process.getBuiltinModule!="function"){W();return}let J=process.getBuiltinModule("fs");if(!J){W();return}if(typeof J.createReadStream!="function"){W();return}if(typeof J.promises?.stat!="function"){W();return}aY=J.createReadStream,tY=J.promises.stat}this.value=aY($),this.stats=tY($)}}get type(){return iz[XI(this.path)]||"application/octet-stream"}get length(){return z$?this.value.size:this.stats?.then(($)=>$.size)??0}},UM="toJSON"in new Headers,Oz=($,W)=>{let J=new URL($);return J.pathname=W,J.toString()},QI=($)=>typeof $=="function"&&/^\s*class\s+/.test($.toString())||$.toString&&$.toString().startsWith("[object ")&&$.toString()!=="[object Object]"||z1(Object.getPrototypeOf($)),eY=($)=>$&&typeof $=="object"&&!Array.isArray($),X5=($,W,J)=>{let X=J?.skipKeys,Q=J?.override??!0,Y=J?.mergeArray??!1;if(!eY($)||!eY(W))return $;for(let[M,G]of Object.entries(W))if(!X?.includes(M)){if(Y&&Array.isArray(G)){$[M]=Array.isArray($[M])?[...$[M],...G]:$[M]=G;continue}if(!eY(G)||!(M in $)||QI(G)){if((Q||!(M in $))&&!Object.isFrozen($))try{$[M]=G}catch{}continue}if(!Object.isFrozen($[M]))try{$[M]=X5($[M],G,{skipKeys:X,override:Q,mergeArray:Y})}catch{}}return $},zM=($,W)=>{let J=X5(Object.assign({},$),W,{skipKeys:["properties"],mergeArray:!1});return J.properties&&delete J.properties,J},C1=($,W)=>{if(!W)return $;let J=[],X=[];if($){Array.isArray($)||($=[$]);for(let Q of $)J.push(Q),Q.checksum&&X.push(Q.checksum)}if(W){Array.isArray(W)||(W=[W]);for(let Q of W)X.includes(Q.checksum)||J.push(Q)}return J},YI=["start","request","parse","transform","resolve","beforeHandle","afterHandle","mapResponse","afterResponse","trace","error","stop","body","headers","params","query","response","type","detail"],L70=YI.reduce(($,W)=>($[W]=!0,$),{}),XX=($)=>typeof $=="object"&&Object.keys($).every((W)=>!isNaN(+W)),nz=($,W)=>XX($)&&XX(W)?Object.assign({},$,W):$&&!XX($)&&XX(W)?Object.assign({200:$},W):W??$,i7=($,W)=>!$&&!W?{body:void 0,headers:void 0,params:void 0,query:void 0,cookie:void 0,response:void 0}:{body:W?.body??$?.body,headers:W?.headers??$?.headers,params:W?.params??$?.params,query:W?.query??$?.query,cookie:W?.cookie??$?.cookie,response:nz($?.response,W?.response)},$9=($,W)=>{if(!W)return $??{};if(!$)return W??{};if(!Object.values(W).find((X)=>X!=null))return{...$};let J={...$,...W,body:W.body??$.body,headers:W.headers??$.headers,params:W.params??$.params,query:W.query??$.query,cookie:W.cookie??$.cookie,response:nz($.response,W.response),type:$.type||W.type,detail:X5(W.detail??{},$.detail??{}),parse:C1($.parse,W.parse),transform:C1($.transform,W.transform),beforeHandle:C1(C1(a1($.resolve,"resolve"),$.beforeHandle),C1(a1(W.resolve,"resolve"),W.beforeHandle)),afterHandle:C1($.afterHandle,W.afterHandle),mapResponse:C1($.mapResponse,W.mapResponse),afterResponse:C1($.afterResponse,W.afterResponse),trace:C1($.trace,W.trace),error:C1($.error,W.error),standaloneSchema:$.standaloneSchema||W.standaloneSchema?$.standaloneSchema&&!W.standaloneSchema?$.standaloneSchema:W.standaloneSchema&&!$.standaloneSchema?W.standaloneSchema:[...$.standaloneSchema??[],...W.standaloneSchema??[]]:void 0};return J.resolve&&delete J.resolve,J},MI=($)=>{$.parse&&!Array.isArray($.parse)&&($.parse=[$.parse]),$.transform&&!Array.isArray($.transform)&&($.transform=[$.transform]),$.afterHandle&&!Array.isArray($.afterHandle)&&($.afterHandle=[$.afterHandle]),$.mapResponse&&!Array.isArray($.mapResponse)&&($.mapResponse=[$.mapResponse]),$.afterResponse&&!Array.isArray($.afterResponse)&&($.afterResponse=[$.afterResponse]),$.trace&&!Array.isArray($.trace)&&($.trace=[$.trace]),$.error&&!Array.isArray($.error)&&($.error=[$.error]);let W=[];return $.resolve&&(W=a1(Array.isArray($.resolve)?$.resolve:[$.resolve],"resolve"),delete $.resolve),$.beforeHandle&&(W.length?W=W.concat(Array.isArray($.beforeHandle)?$.beforeHandle:[$.beforeHandle]):W=Array.isArray($.beforeHandle)?$.beforeHandle:[$.beforeHandle]),W.length&&($.beforeHandle=W),$},GI=typeof Bun<"u",BI=GI&&typeof Bun.hash=="function",o7=($)=>{if(BI)return Bun.hash($);let W=9;for(let J=0;J<$.length;)W=Math.imul(W^$.charCodeAt(J++),387420489);return W=W^W>>>9},z8=($,W)=>{if(!W)return;if(!Array.isArray(W)){let X=W;return $&&!X.checksum&&(X.checksum=$),X.scope==="scoped"&&(X.scope="local"),X}let J=[...W];for(let X of J)$&&!X.checksum&&(X.checksum=$),X.scope==="scoped"&&(X.scope="local");return J},Sz=($,W,J)=>({start:C1($.start,z8(J,W?.start)),request:C1($.request,z8(J,W?.request)),parse:C1($.parse,z8(J,W?.parse)),transform:C1($.transform,z8(J,W?.transform)),beforeHandle:C1(C1(a1($.resolve,"resolve"),$.beforeHandle),z8(J,C1(a1(W?.resolve,"resolve"),W?.beforeHandle))),afterHandle:C1($.afterHandle,z8(J,W?.afterHandle)),mapResponse:C1($.mapResponse,z8(J,W?.mapResponse)),afterResponse:C1($.afterResponse,z8(J,W?.afterResponse)),trace:C1($.trace,z8(J,W?.trace)),error:C1($.error,z8(J,W?.error)),stop:C1($.stop,z8(J,W?.stop))}),wI=($,W,{skipIfHasType:J=!1})=>{if(!$)return $;if(!Array.isArray($))return J?$.scope??=W:$.scope=W,$;for(let X of $)J?X.scope??=W:X.scope=W;return $},r6=($)=>{if(!$)return $;if(!Array.isArray($))switch($.scope){case"global":case"scoped":return{...$};default:return{fn:$}}let W=[];for(let J of $)switch(J.scope){case"global":case"scoped":W.push({...J});break}return W},jz=($)=>({...$,type:$?.type,detail:$?.detail,parse:r6($?.parse),transform:r6($?.transform),beforeHandle:r6($?.beforeHandle),afterHandle:r6($?.afterHandle),mapResponse:r6($?.mapResponse),afterResponse:r6($?.afterResponse),error:r6($?.error),trace:r6($?.trace)}),JW={Continue:100,"Switching Protocols":101,Processing:102,"Early Hints":103,OK:200,Created:201,Accepted:202,"Non-Authoritative Information":203,"No Content":204,"Reset Content":205,"Partial Content":206,"Multi-Status":207,"Already Reported":208,"Multiple Choices":300,"Moved Permanently":301,Found:302,"See Other":303,"Not Modified":304,"Temporary Redirect":307,"Permanent Redirect":308,"Bad Request":400,Unauthorized:401,"Payment Required":402,Forbidden:403,"Not Found":404,"Method Not Allowed":405,"Not Acceptable":406,"Proxy Authentication Required":407,"Request Timeout":408,Conflict:409,Gone:410,"Length Required":411,"Precondition Failed":412,"Payload Too Large":413,"URI Too Long":414,"Unsupported Media Type":415,"Range Not Satisfiable":416,"Expectation Failed":417,"I'm a teapot":418,"Enhance Your Calm":420,"Misdirected Request":421,"Unprocessable Content":422,Locked:423,"Failed Dependency":424,"Too Early":425,"Upgrade Required":426,"Precondition Required":428,"Too Many Requests":429,"Request Header Fields Too Large":431,"Unavailable For Legal Reasons":451,"Internal Server Error":500,"Not Implemented":501,"Bad Gateway":502,"Service Unavailable":503,"Gateway Timeout":504,"HTTP Version Not Supported":505,"Variant Also Negotiates":506,"Insufficient Storage":507,"Loop Detected":508,"Not Extended":510,"Network Authentication Required":511},Lz=Object.fromEntries(Object.entries(JW).map(([$,W])=>[W,$]));function qI($){let W=$;for(;W.endsWith("=");)W=W.slice(0,-1);return W}var _z=new TextEncoder,wX=async($,W)=>{if(typeof $=="object"?$=JSON.stringify($):typeof $!="string"&&($=$+""),W===null)throw new TypeError("Secret key must be provided.");let J=await crypto.subtle.importKey("raw",_z.encode(W),{name:"HMAC",hash:"SHA-256"},!1,["sign"]),X=await crypto.subtle.sign("HMAC",J,_z.encode($));return $+"."+qI(Buffer.from(X).toString("base64"))},Fz=async($,W)=>{if(typeof $!="string")throw new TypeError("Signed cookie string must be provided.");if(W===null)throw new TypeError("Secret key must be provided.");let J=$.slice(0,$.lastIndexOf("."));return await wX(J,W)===$?J:!1},HI=($,W,J)=>{if(!$.standaloneValidator?.length||!Array.isArray($.standaloneValidator)){$.standaloneValidator=[{[W]:J}];return}let X=$.standaloneValidator[$.standaloneValidator.length-1];W in X?$.standaloneValidator.push({[W]:J}):X[W]=J},UI=($)=>{if(typeof $=="number")return $;if($.length<16){if($.trim().length===0)return null;let W=Number($);return Number.isNaN(W)?null:W}if($.length===16){if($.trim().length===0)return null;let W=Number($);return Number.isNaN(W)||W.toString()!==$?null:W}return null},oz=($)=>UI($)!==null,zI=class{constructor($=console.error,W=()=>{}){this.onError=$,this.onFinally=W,this.root=null,this.promises=[]}get size(){return this.promises.length}add($){return this.promises.push($),this.root||=this.drain(),this.promises.length===1&&this.then(this.onFinally),$}async drain(){for(;this.promises.length>0;){try{await this.promises[0]}catch($){this.onError($)}this.promises.shift()}this.root=null}then($,W){return(this.root??Promise.resolve()).then($,W)}},a1=($,W)=>{if(!$)return $;if(!Array.isArray($)){if(typeof $=="function"||typeof $=="string")return W?{fn:$,subType:W}:{fn:$};if("fn"in $)return $}let J=[];for(let X of $)typeof X=="function"||typeof X=="string"?J.push(W?{fn:X,subType:W}:{fn:X}):("fn"in X)&&J.push(X);return J},Kz=($)=>($.start&&($.start=a1($.start)),$.request&&($.request=a1($.request)),$.parse&&($.parse=a1($.parse)),$.transform&&($.transform=a1($.transform)),$.beforeHandle&&($.beforeHandle=a1($.beforeHandle)),$.afterHandle&&($.afterHandle=a1($.afterHandle)),$.mapResponse&&($.mapResponse=a1($.mapResponse)),$.afterResponse&&($.afterResponse=a1($.afterResponse)),$.trace&&($.trace=a1($.trace)),$.error&&($.error=a1($.error)),$.stop&&($.stop=a1($.stop)),$),bz=($)=>{let W=Object.create(null);return $.start?.map&&(W.start=$.start.map((J)=>J.fn)),$.request?.map&&(W.request=$.request.map((J)=>J.fn)),$.parse?.map&&(W.parse=$.parse.map((J)=>J.fn)),$.transform?.map&&(W.transform=$.transform.map((J)=>J.fn)),$.beforeHandle?.map&&(W.beforeHandle=$.beforeHandle.map((J)=>J.fn)),$.afterHandle?.map&&(W.afterHandle=$.afterHandle.map((J)=>J.fn)),$.mapResponse?.map&&(W.mapResponse=$.mapResponse.map((J)=>J.fn)),$.afterResponse?.map&&(W.afterResponse=$.afterResponse.map((J)=>J.fn)),$.error?.map&&(W.error=$.error.map((J)=>J.fn)),$.stop?.map&&(W.stop=$.stop.map((J)=>J.fn)),$.trace?.map?W.trace=$.trace.map((J)=>J.fn):W.trace=[],W},Cz=($)=>({body:$.body,cookie:$.cookie,headers:$.headers,query:$.query,set:$.set,server:$.server,path:$.path,route:$.route,url:$.url}),DX=($,W=302)=>Response.redirect($,W),W9=Symbol("ElysiaFormData"),BW=Symbol("ElysiaRequestId"),AI=($)=>{let W=new FormData;if(W[W9]={},$)for(let[J,X]of Object.entries($)){if(Array.isArray(X)){W[W9][J]=[];for(let Q of X)X instanceof File?W.append(J,X,X.name):X instanceof HM?W.append(J,X.value,X.value?.name):W.append(J,X),W[W9][J].push(X);continue}X instanceof File?W.append(J,X,X.name):X instanceof HM?W.append(J,X.value,X.value?.name):W.append(J,X),W[W9][J]=X}return W},ZX=()=>{let $=crypto.randomUUID();return $.slice(0,8)+$.slice(24,32)},NI=($)=>{if(!$.length)return[];let W=[];for(let J=0;J<$.length;J++){let X=$[J];X.checksum&&(W.includes(X.checksum)&&($.splice(J,1),J--),W.push(X.checksum))}return $},a6=($,W="scoped")=>{if($){if(W==="scoped"){for(let J of $)"scope"in J&&J.scope==="local"&&(J.scope="scoped");return}for(let J of $)"scope"in J&&(J.scope="global")}},s7=($)=>$.charCodeAt($.length-1)===47?$.slice(0,$.length-1):$+"/",z1=($)=>{if(!$)return!1;for(let W in $)return!0;return!1},r7=($,{dynamic:W=!1}={})=>{let J=encodeURIComponent($).replace(/%2F/g,"/");return W&&(J=J.replace(/%3A/g,":").replace(/%3F/g,"?")),J},sz=(()=>{if(typeof Bun>"u")return!0;let $=Bun.version.split(".");return!(+$[0]<1||+$[1]<2||+$[2]<14)})();async function DI($){if($.bodyUsed||!$.body)return 0;let W=0,J=$.body.getReader();for(;;){let{done:X,value:Q}=await J.read();if(X)break;W+=Q.byteLength}return W}var ZI={headers:!0,cookie:!0,query:!0,params:!0,body:!0,response:!0},Vz=typeof Bun<"u"?Bun.env:typeof process<"u"?process?.env:void 0,qX=Symbol("ElysiaErrorCode"),e6=(Vz?.NODE_ENV??Vz?.ENV)==="production",OI={101:void 0,204:void 0,205:void 0,304:void 0,307:void 0,308:void 0},K5=class{constructor($,W){let J=W??($ in Lz?Lz[$]:$);this.code=JW[$]??$,$ in OI?this.response=void 0:this.response=J}},XW=($,W)=>new K5($,W);var rz=class extends Error{constructor($){super($??"NOT_FOUND");this.code="NOT_FOUND",this.status=404}},SI=class extends Error{constructor($){super("Bad Request",{cause:$});this.code="PARSE",this.status=400}},Pz=class extends Error{constructor($,W){super(W??`"${$}" has invalid cookie signature`);this.key=$,this.code="INVALID_COOKIE_SIGNATURE",this.status=400}},H5=($)=>{if(!$)return{summary:void 0};let{message:W,path:J,value:X,type:Q}=$,Y=J.slice(1).replaceAll("/","."),M=J==="";switch(Q){case 42:return{...$,summary:M?"Value should not be provided":`Property '${Y}' should not be provided`};case 45:return{...$,summary:M?"Value is missing":`Property '${Y}' is missing`};case 50:let G=W.indexOf("'"),B=W.slice(G+1,W.indexOf("'",G+1));return{...$,summary:M?"Value should be an email":`Property '${Y}' should be ${B}`};case 54:return{...$,summary:`${W.slice(0,9).trim()} property '${Y}' to be ${W.slice(8).trim()} but found: ${X}`};case 62:let w=$.schema.anyOf.map((q)=>`'${q?.format??q.type}'`).join(", ");return{...$,summary:M?`Value should be one of ${w}`:`Property '${Y}' should be one of: ${w}`};default:return{summary:W,...$}}},$M=class $ extends Error{constructor(W,J,X=`"${W}" has invalid file type`){super(X);this.property=W,this.expected=J,this.message=X,this.code="INVALID_FILE_TYPE",this.status=422,Object.setPrototypeOf(this,$.prototype)}toResponse(W){return e6?new Response(JSON.stringify({type:"validation",on:"body"}),{status:422,headers:{...W,"content-type":"application/json"}}):new Response(JSON.stringify({type:"validation",on:"body",summary:"Invalid file type",message:this.message,property:this.property,expected:this.expected}),{status:422,headers:{...W,"content-type":"application/json"}})}},c0=class $ extends Error{constructor(W,J,X,Q){let Y="",M,G,B;if(J?.provider==="standard"||"~standard"in J||J.schema&&"~standard"in J.schema){let w=("~standard"in J?J:J.schema)["~standard"];M=(Q??w.validate(X).issues)?.[0],e6?Y=JSON.stringify({type:"validation",on:W,found:X}):Y=JSON.stringify({type:"validation",on:W,property:M.path?.[0]||"root",message:M?.message,summary:M?.problem,expected:G,found:X,errors:Q},null,2),B=M?.message}else{X&&typeof X=="object"&&X instanceof K5&&(X=X.response),M=Q?.First()??("Errors"in J?J.Errors(X).First():n0.Errors(J,X).First());let w=M?.path||"root",q=J?.schema??J;if(!e6)try{G=n0.Create(q)}catch(H){G={type:"Could not create expected value",message:H?.message,error:H}}B=M?.schema?.message||M?.schema?.error!==void 0?typeof M.schema.error=="function"?M.schema.error(e6?{type:"validation",on:W,found:X}:{type:"validation",on:W,value:X,property:w,message:M?.message,summary:H5(M).summary,found:X,expected:G,errors:"Errors"in J?[...J.Errors(X)].map(H5):[...n0.Errors(J,X)].map(H5)},J):M.schema.error:void 0,B!==void 0?Y=typeof B=="object"?JSON.stringify(B):B+"":e6?Y=JSON.stringify({type:"validation",on:W,found:X}):Y=JSON.stringify({type:"validation",on:W,property:w,message:M?.message,summary:H5(M).summary,expected:G,found:X,errors:"Errors"in J?[...J.Errors(X)].map(H5):[...n0.Errors(J,X)].map(H5)},null,2)}super(Y);this.type=W,this.validator=J,this.value=X,this.code="VALIDATION",this.status=422,this.valueError=M,this.expected=G,this.customError=B,Object.setPrototypeOf(this,$.prototype)}get all(){return"Errors"in this.validator?[...this.validator.Errors(this.value)].map(H5):[...n0.Errors(this.validator,this.value)].map(H5)}static simplifyModel(W){let J="schema"in W?W.schema:W;try{return n0.Create(J)}catch{return J}}get model(){return"~standard"in this.validator?this.validator:$.simplifyModel(this.validator)}toResponse(W){return new Response(this.message,{status:400,headers:{...W,"content-type":"application/json"}})}detail(W){if(!this.customError)return this.message;let J=this.validator,X=this.value,Q=this.expected,Y=this.all;return e6?{type:"validation",on:this.type,found:X,message:W}:{type:"validation",on:this.type,property:this.valueError?.path||"root",message:W,summary:H5(this.valueError).summary,found:X,expected:Q,errors:Y}}},n7=($,W)=>{try{return JSON.parse($)}catch{throw new c0("property",W,$)}};function wW($,W){return o1.Has($)||o1.Set($,W),(J={})=>xJ({...J,[F]:$})}var O6=($)=>{try{let W=q8.Compile($);return W.Create=()=>n0.Create($),W.Error=(J)=>new c0("property",$,J,W.Errors(J)),W}catch{return{Check:(W)=>n0.Check($,W),CheckThrow:(W)=>{if(!n0.Check($,W))throw new c0("property",$,W,n0.Errors($,W))},Decode:(W)=>n0.Decode($,W),Create:()=>n0.Create($),Error:(W)=>new c0("property",$,W,n0.Errors($,W))}}},Ez=($)=>{if(typeof $=="string")switch($.slice(-1)){case"k":return+$.slice(0,$.length-1)*1024;case"m":return+$.slice(0,$.length-1)*1048576;default:return+$}return $},HX=($,W)=>$.startsWith(W)?!0:W.charCodeAt(W.length-1)===42&&W.charCodeAt(W.length-2)===47&&$.startsWith(W.slice(0,-1)),Rz=!1,jI=()=>{Rz||(console.warn("[Elysia] Attempt to validate file type without 'file-type'. This may lead to security risks. We recommend installing 'file-type' to properly validate file extension."),Rz=!0)},LM=async()=>Promise.resolve().then(() => (Hz(),qz)).then(($)=>(UX=$.fileTypeFromBlob,UX)).catch(jI),UX,LI=($)=>UX?UX($):LM().then((W)=>{if(W)return W($)}),az=async($,W,J=$?.name??"")=>{if(Array.isArray($))return await Promise.all($.map((Q)=>az(Q,W,J))),!0;if(!$)return!1;let X=await LI($);if(!X)throw new $M(J,W);if(typeof W=="string"&&!HX(X.mime,W))throw new $M(J,W);for(let Q=0;Q<W.length;Q++)if(HX(X.mime,W[Q]))return!0;throw new $M(J,W)},AM=($,W)=>{if(W instanceof HM)return!0;if(!(W instanceof Blob)||$.minSize&&W.size<Ez($.minSize)||$.maxSize&&W.size>Ez($.maxSize))return!1;if($.extension){if(typeof $.extension=="string")return HX(W.type,$.extension);for(let J=0;J<$.extension.length;J++)if(HX(W.type,$.extension[J]))return!0;return!1}return!0};var A=Object.assign({},X8);wW("UnionEnum",($,W)=>(typeof W=="number"||typeof W=="string"||W===null)&&$.enum.includes(W));wW("ArrayBuffer",($,W)=>W instanceof ArrayBuffer);var _I=wW("Files",($,W)=>{if($.minItems&&$.minItems>1&&!Array.isArray(W))return!1;if(!Array.isArray(W))return AM($,W);if($.minItems&&W.length<$.minItems||$.maxItems&&W.length>$.maxItems)return!1;for(let J=0;J<W.length;J++)if(!AM($,W[J]))return!1;return!0}),FI=wW("ElysiaForm",({compiler:$,...W},J)=>{if(!(J instanceof FormData))return!1;if($){if(!(W9 in J))throw new c0("property",W,J);if(!$.Check(J[W9]))throw $.Error(J[W9])}return!0}),U5={String:($)=>X8.String($),Numeric:($)=>{let W=X8.Number($),J=O6(W);return A.Transform(A.Union([A.String({format:"numeric",default:0}),A.Number($)],$)).Decode((X)=>{let Q=+X;if(isNaN(Q))return X;if($&&!J.Check(Q))throw J.Error(Q);return Q}).Encode((X)=>X)},Integer:($)=>{let W=X8.Integer($),J=O6(W);return A.Transform(A.Union([A.String({format:"integer",default:0}),X8.Integer($)],$)).Decode((X)=>{let Q=+X;if(!J.Check(Q))throw J.Error(Q);return Q}).Encode((X)=>X)},Date:($)=>{let W=X8.Date($),J=O6(W),X=$?.default?new Date($.default):void 0;return A.Transform(A.Union([X8.Date($),A.String({format:"date-time",default:X?.toISOString()}),A.String({format:"date",default:X?.toISOString()}),A.Number({default:X?.getTime()})],$)).Decode((Q)=>{if(typeof Q=="number"){let M=new Date(Q);if(!J.Check(M))throw J.Error(M);return M}if(Q instanceof Date)return Q;let Y=new Date(qM(Q));if(!Y||isNaN(Y.getTime()))throw new c0("property",W,Y);if(!J.Check(Y))throw J.Error(Y);return Y}).Encode((Q)=>{if(Q instanceof Date)return Q.toISOString();if(typeof Q=="string"){if(isNaN(new Date(qM(Q)).getTime()))throw new c0("property",W,Q);return Q}if(!J.Check(Q))throw J.Error(Q);return Q})},BooleanString:($)=>{let W=X8.Boolean($),J=O6(W);return A.Transform(A.Union([A.Boolean($),A.String({format:"boolean",default:!1})],$)).Decode((X)=>{if(typeof X=="string")return X==="true";if(X!==void 0&&!J.Check(X))throw J.Error(X);return X}).Encode((X)=>X)},ObjectString:($,W)=>{let J=A.Object($,W),X=O6(J);return A.Transform(A.Union([A.String({format:"ObjectString",default:"{}"}),J],{elysiaMeta:"ObjectString"})).Decode((Q)=>{if(typeof Q=="string"){if(Q.charCodeAt(0)!==123)throw new c0("property",J,Q);if(!X.Check(Q=n7(Q,J)))throw X.Error(Q);return X.Decode(Q)}return Q}).Encode((Q)=>{let Y;if(typeof Q=="string"&&(Q=n7(Y=Q,J)),!X.Check(Q))throw X.Error(Q);return Y??JSON.stringify(Q)})},ArrayString:($=A.String(),W)=>{let J=A.Array($,W),X=O6(J),Q=(Y,M=!1)=>{if(Y.charCodeAt(0)===91){if(!X.Check(Y=n7(Y,J)))throw X.Error(Y);return X.Decode(Y)}if(M)return Y;throw new c0("property",J,Y)};return A.Transform(A.Union([A.String({format:"ArrayString",default:W?.default}),J])).Decode((Y)=>{if(Array.isArray(Y)){let M=[];for(let G=0;G<Y.length;G++){let B=Y[G];if(typeof B=="string"){let w=Q(B,!0);Array.isArray(w)?M=M.concat(w):M.push(w);continue}M.push(B)}return M}return typeof Y=="string"?Q(Y):Y}).Encode((Y)=>{let M;if(typeof Y=="string"&&(Y=n7(M=Y,J)),!X.Check(Y))throw new c0("property",J,Y);return M??JSON.stringify(Y)})},ArrayQuery:($=A.String(),W)=>{let J=A.Array($,W),X=O6(J),Q=(Y)=>Y.indexOf(",")!==-1?X.Decode(Y.split(",")):[Y];return A.Transform(A.Union([A.String({default:W?.default}),J],{elysiaMeta:"ArrayQuery"})).Decode((Y)=>{if(Array.isArray(Y)){let M=[];for(let G=0;G<Y.length;G++){let B=Y[G];if(typeof B=="string"){let w=Q(B);Array.isArray(w)?M=M.concat(w):M.push(w);continue}M.push(B)}return M}return typeof Y=="string"?Q(Y):Y}).Encode((Y)=>{let M;if(typeof Y=="string"&&(Y=n7(M=Y,J)),!X.Check(Y))throw new c0("property",J,Y);return M??JSON.stringify(Y)})},File:wW("File",AM),Files:($={})=>A.Transform(_I($)).Decode((W)=>Array.isArray(W)?W:[W]).Encode((W)=>W),Nullable:($,W)=>A.Union([$,A.Null()],{...W,nullable:!0}),MaybeEmpty:($,W)=>A.Union([$,A.Null(),A.Undefined()],W),Cookie:($,{domain:W,expires:J,httpOnly:X,maxAge:Q,path:Y,priority:M,sameSite:G,secure:B,secrets:w,sign:q,...H}={})=>{let z=A.Object($,H);return z.config={domain:W,expires:J,httpOnly:X,maxAge:Q,path:Y,priority:M,sameSite:G,secure:B,secrets:w,sign:q},z},UnionEnum:($,W={})=>{let J=$.every((X)=>typeof X=="string")?{type:"string"}:$.every((X)=>typeof X=="number")?{type:"number"}:$.every((X)=>X===null)?{type:"null"}:{};if($.some((X)=>typeof X=="object"&&X!==null))throw new Error("This type does not support objects or arrays");return{default:$[0],...W,[F]:"UnionEnum",...J,enum:$}},NoValidate:($,W=!0)=>($.noValidate=W,$),Form:($,W={})=>{let J=A.Object($,{default:AI({}),...W}),X=O6(J);return A.Union([J,FI({compiler:X})])},ArrayBuffer($={}){return{default:[1,2,3],...$,[F]:"ArrayBuffer"}},Uint8Array:($)=>{let W=X8.Uint8Array($),J=O6(W);return A.Transform(A.Union([A.ArrayBuffer(),X8.Uint8Array($)])).Decode((X)=>{if(X instanceof ArrayBuffer){if(!J.Check(X=new Uint8Array(X)))throw J.Error(X);return X}return X}).Encode((X)=>X)}};A.BooleanString=U5.BooleanString;A.ObjectString=U5.ObjectString;A.ArrayString=U5.ArrayString;A.ArrayQuery=U5.ArrayQuery;A.Numeric=U5.Numeric;A.Integer=U5.Integer;A.File=($)=>($?.type&&LM(),U5.File({default:"File",...$,extension:$?.type,type:"string",format:"binary"}));A.Files=($)=>($?.type&&LM(),U5.Files({...$,elysiaMeta:"Files",default:"Files",extension:$?.type,type:"array",items:{...$,default:"Files",type:"string",format:"binary"}}));A.Nullable=U5.Nullable;A.MaybeEmpty=U5.MaybeEmpty;A.Cookie=U5.Cookie;A.Date=U5.Date;A.UnionEnum=U5.UnionEnum;A.NoValidate=U5.NoValidate;A.Form=U5.Form;A.ArrayBuffer=U5.ArrayBuffer;A.Uint8Array=U5.Uint8Array;var KI=($)=>{$.startsWith("async")&&($=$.slice(5)),$=$.trimStart();let W=-1;if($.charCodeAt(0)===40&&(W=$.indexOf("=>",$.indexOf(")")),W!==-1)){let Q=W;for(;Q>0&&$.charCodeAt(--Q)!==41;);let Y=$.slice(W+2);return Y.charCodeAt(0)===32&&(Y=Y.trimStart()),[$.slice(1,Q),Y,{isArrowReturn:Y.charCodeAt(0)!==123}]}if(/^(\w+)=>/g.test($)&&(W=$.indexOf("=>"),W!==-1)){let Q=$.slice(W+2);return Q.charCodeAt(0)===32&&(Q=Q.trimStart()),[$.slice(0,W),Q,{isArrowReturn:Q.charCodeAt(0)!==123}]}if($.startsWith("function")){W=$.indexOf("(");let Q=$.indexOf(")");return[$.slice(W+1,Q),$.slice(Q+2),{isArrowReturn:!1}]}let J=$.indexOf("(");if(J!==-1){let Q=$.indexOf(`
`,2),Y=$.slice(0,Q),M=Y.lastIndexOf(")")+1,G=$.slice(Q+1);return[Y.slice(J,M),"{"+G,{isArrowReturn:!1}]}let X=$.split(`
`,2);return[X[0],X[1],{isArrowReturn:!1}]},bI=($)=>{let W=$.indexOf("{");if(W===-1)return[-1,0];let J=W+1,X=1;for(;J<$.length;J++){let Q=$.charCodeAt(J);if(Q===123?X++:Q===125&&X--,X===0)break}return X!==0?[0,$.length]:[W,J+1]},CI=($)=>{let W=$.lastIndexOf("}");if(W===-1)return[-1,0];let J=W-1,X=1;for(;J>=0;J--){let Q=$.charCodeAt(J);if(Q===125?X++:Q===123&&X--,X===0)break}return X!==0?[-1,0]:[J,W+1]},tz=($)=>{for(;;){let W=$.indexOf(":");if(W===-1)break;let J=$.indexOf(",",W);J===-1&&(J=$.indexOf("}",W)-1),J===-2&&(J=$.length),$=$.slice(0,W)+$.slice(J)}return $},ez=($)=>{let W=!1;$.charCodeAt(0)===40&&($=$.slice(1,-1)),$.charCodeAt(0)===123&&(W=!0,$=$.slice(1,-1)),$=$.replace(/( |\t|\n)/g,"").trim();let J=[];for(;;){let[Q,Y]=bI($);if(Q===-1)break;J.push($.slice(0,Q-1)),$.charCodeAt(Y)===44&&Y++,$=$.slice(Y)}$=tz($),$&&(J=J.concat($.split(",")));let X=Object.create(null);for(let Q of J){if(Q.indexOf(",")===-1){X[Q]=!0;continue}for(let Y of Q.split(","))X[Y.trim()]=!0}return{hasParenthesis:W,parameters:X}},VI=($,W)=>{let{parameters:J,hasParenthesis:X}=ez($);return J.query&&(W.query=!0),J.headers&&(W.headers=!0),J.body&&(W.body=!0),J.cookie&&(W.cookie=!0),J.set&&(W.set=!0),J.server&&(W.server=!0),J.route&&(W.route=!0),J.url&&(W.url=!0),J.path&&(W.path=!0),X?`{ ${Object.keys(J).join(", ")} }`:Object.keys(J).join(", ")},Iz=($,W,J)=>{let X=new RegExp(`${$.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}[\\n\\t,; ]`);J!==void 0&&(X.lastIndex=J);let Q=X.exec(W);return Q?Q.index:-1},$A=($,W,J=0)=>{if(J>5)return[];let X=[],Q=W;for(;;){let Y=Iz(" = "+$,Q);if(Y===-1&&(Y=Iz("="+$,Q)),Y===-1){let w=Q.indexOf(" = "+$);if(w===-1&&(w=Q.indexOf("="+$)),w+3+$.length!==Q.length)break;Y=w}let M=Q.slice(0,Y),G=M.lastIndexOf(" "),B=M.slice(G!==-1?G+1:-1);if(B==="}"){let[w,q]=CI(M);X.push(tz(Q.slice(w,q))),Q=Q.slice(Y+3+$.length);continue}for(;B.charCodeAt(0)===44;)B=B.slice(1);for(;B.charCodeAt(0)===9;)B=B.slice(1);B.includes("(")||X.push(B),Q=Q.slice(Y+3+$.length)}for(let Y of X){if(Y.charCodeAt(0)===123)continue;let M=$A(Y,W);M.length>0&&X.push(...M)}return X},PI=($)=>{if(!$)return;if($.charCodeAt(0)!==123)return $;if($=$.slice(2,-2),!$.includes(","))return $.indexOf("...")!==-1?$.slice($.indexOf("...")+3):void 0;let W=$.indexOf("...");if(W!==-1)return $.slice(W+3).trimEnd()},EI=($,W,J)=>{let X=(Q,Y)=>new RegExp(`${Y}\\.(${Q})|${Y}\\["${Q}"\\]|${Y}\\['${Q}'\\]`).test($);for(let Q of W)if(Q){if(Q.charCodeAt(0)===123){let Y=ez(Q).parameters;Y.query&&(J.query=!0),Y.headers&&(J.headers=!0),Y.body&&(J.body=!0),Y.cookie&&(J.cookie=!0),Y.set&&(J.set=!0),Y.server&&(J.server=!0),Y.url&&(J.url=!0),Y.route&&(J.route=!0),Y.path&&(J.path=!0);continue}if(!J.query&&(X("query",Q)||$.includes("return "+Q)||$.includes("return "+Q+".query"))&&(J.query=!0),!J.headers&&X("headers",Q)&&(J.headers=!0),!J.body&&X("body",Q)&&(J.body=!0),!J.cookie&&X("cookie",Q)&&(J.cookie=!0),!J.set&&X("set",Q)&&(J.set=!0),!J.server&&X("server",Q)&&(J.server=!0),!J.route&&X("route",Q)&&(J.route=!0),!J.url&&X("url",Q)&&(J.url=!0),!J.path&&X("path",Q)&&(J.path=!0),J.query&&J.headers&&J.body&&J.cookie&&J.set&&J.server&&J.route&&J.url&&J.path)break}return W},RI=($,W,J)=>{try{let X=new RegExp(`\\w\\((.*?)?${$}`,"gs");X.test(W);let Q=W.charCodeAt(X.lastIndex);return Q===41||Q===44?(J.query=!0,J.headers=!0,J.body=!0,J.cookie=!0,J.set=!0,J.server=!0,J.url=!0,J.route=!0,J.path=!0,!0):!1}catch{return console.log("[Sucrose] warning: unexpected isContextPassToFunction error, you may continue development as usual but please report the following to maintainers:"),console.log("--- body ---"),console.log(W),console.log("--- context ---"),console.log($),!0}},QX,GX={},xz=($=0)=>{QX&&clearTimeout(QX),QX=setTimeout(()=>{GX={},QX=void 0,z$&&Bun.gc(!1)},$)},NM=($,W)=>({body:$.body||W.body,cookie:$.cookie||W.cookie,headers:$.headers||W.headers,query:$.query||W.query,set:$.set||W.set,server:$.server||W.server,url:$.url||W.url,route:$.route||W.route,path:$.path||W.path}),QW=($,W={query:!1,headers:!1,body:!1,cookie:!1,set:!1,server:!1,url:!1,route:!1,path:!1})=>{let J=[];$.request?.length&&J.push(...$.request),$.beforeHandle?.length&&J.push(...$.beforeHandle),$.parse?.length&&J.push(...$.parse),$.error?.length&&J.push(...$.error),$.transform?.length&&J.push(...$.transform),$.afterHandle?.length&&J.push(...$.afterHandle),$.mapResponse?.length&&J.push(...$.mapResponse),$.afterResponse?.length&&J.push(...$.afterResponse),$.handler&&typeof $.handler=="function"&&J.push($.handler);for(let X=0;X<J.length;X++){let Q=J[X];if(!Q)continue;let Y=typeof Q=="object"?Q.fn:Q;if(typeof Y!="function")continue;let M=Y.toString(),G=o7(M),B=GX[G];if(B){W=NM(W,B);continue}let w={query:!1,headers:!1,body:!1,cookie:!1,set:!1,server:!1,url:!1,route:!1,path:!1},[q,H]=KI(M),z=VI(q,w),U=PI(z);if(U){let N=$A(U,H.slice(1,-1));N.splice(0,-1,U);let D=H;D.charCodeAt(0)===123&&D.charCodeAt(H.length-1)===125&&(D=D.slice(1,-1)),RI(U,D,w)||EI(D,N,w),!w.query&&D.includes("return "+U+".query")&&(w.query=!0)}if(GX[G]||(GX[G]=w),W=NM(W,w),W.query&&W.headers&&W.body&&W.cookie&&W.set&&W.server&&W.url&&W.route&&W.path)break}return W},X4=class{constructor($,W,J={}){this.name=$,this.jar=W,this.initial=J}get cookie(){return this.jar[this.name]??this.initial}set cookie($){this.name in this.jar||(this.jar[this.name]=this.initial),this.jar[this.name]=$}get setCookie(){return this.name in this.jar||(this.jar[this.name]=this.initial),this.jar[this.name]}set setCookie($){this.cookie=$}get value(){return this.cookie.value}set value($){this.setCookie.value=$}get expires(){return this.cookie.expires}set expires($){this.setCookie.expires=$}get maxAge(){return this.cookie.maxAge}set maxAge($){this.setCookie.maxAge=$}get domain(){return this.cookie.domain}set domain($){this.setCookie.domain=$}get path(){return this.cookie.path}set path($){this.setCookie.path=$}get secure(){return this.cookie.secure}set secure($){this.setCookie.secure=$}get httpOnly(){return this.cookie.httpOnly}set httpOnly($){this.setCookie.httpOnly=$}get sameSite(){return this.cookie.sameSite}set sameSite($){this.setCookie.sameSite=$}get priority(){return this.cookie.priority}set priority($){this.setCookie.priority=$}get partitioned(){return this.cookie.partitioned}set partitioned($){this.setCookie.partitioned=$}get secrets(){return this.cookie.secrets}set secrets($){this.setCookie.secrets=$}update($){return this.setCookie=Object.assign(this.cookie,typeof $=="function"?$(this.cookie):$),this}set($){return this.setCookie=Object.assign({...this.initial,value:this.value},typeof $=="function"?$(this.cookie):$),this}remove(){if(this.value!==void 0)return this.set({expires:new Date(0),maxAge:0,value:""}),this}toString(){return typeof this.value=="object"?JSON.stringify(this.value):this.value?.toString()??""}},kz=($,W,J)=>($.cookie||($.cookie={}),new Proxy(W,{get(X,Q){return Q in W?new X4(Q,$.cookie,Object.assign({},J??{},W[Q])):new X4(Q,$.cookie,Object.assign({},J))}})),JA=async($,W,{secrets:J,sign:X,...Q}={})=>{if(!W)return kz($,{},Q);let Y=typeof J=="string";X&&X!==!0&&!Array.isArray(X)&&(X=[X]);let M={},G=OX.parse(W);for(let[B,w]of Object.entries(G)){if(w===void 0)continue;let q=WA.default(w);if(q){let H=q.charCodeAt(0),z=q.charCodeAt(q.length-1);if(H===123&&z===125||H===91&&z===93)try{q=JSON.parse(q)}catch{}}if(X===!0||X?.includes(B)){if(!J)throw new Error("No secret is provided to cookie plugin");if(Y){let H=await Fz(q,J);if(H===!1)throw new Pz(B);q=H}else{let H=!0;for(let z=0;z<J.length;z++){let U=await Fz(q,J[z]);if(U!==!1){H=!0,q=U;break}}if(!H)throw new Pz(B)}}M[B]={value:q}}return kz($,M,Q)},XA=($)=>{if(!$||!z1($))return;let W=[];for(let[J,X]of Object.entries($)){if(!J||!X)continue;let Q=X.value;Q!=null&&W.push(OX.serialize(J,typeof Q=="object"?JSON.stringify(Q):Q+"",X))}if(W.length!==0)return W.length===1?W[0]:W},V1=($,W)=>{if(!z$&&$ instanceof Promise)return $.then((Y)=>V1(Y,W));let J=$.size,X=W&&(W.status===206||W.status===304||W.status===412||W.status===416),Q=X?{"transfer-encoding":"chunked"}:{"accept-ranges":"bytes","content-range":J?`bytes 0-${J-1}/${J}`:void 0,"transfer-encoding":"chunked"};if(!W&&!J)return new Response($);if(!W)return new Response($,{headers:Q});if(W.headers instanceof Headers){for(let Y of Object.keys(Q))Y in W.headers&&W.headers.append(Y,Q[Y]);return X&&(W.headers.delete("content-length"),W.headers.delete("accept-ranges")),new Response($,W)}return z1(W.headers)?new Response($,{status:W.status,headers:Object.assign(Q,W.headers)}):new Response($,{status:W.status,headers:Q})},QA=($,W)=>{if(!$)return $;$.delete("set-cookie");for(let J=0;J<W.length;J++){let X=W[J].indexOf("=");$.append("set-cookie",`${W[J].slice(0,X)}=${W[J].slice(X+1)||""}`)}return $},Tz=($,W)=>{if(W?.headers){if($)if(UM)Object.assign(W.headers,$.headers.toJSON());else for(let[J,X]of $.headers.entries())J in W.headers&&(W.headers[J]=X);return W.status===200&&(W.status=$.status),W.headers["content-encoding"]&&delete W.headers["content-encoding"],W}if(!$)return{headers:{},status:W?.status??200};if(UM)return W={headers:$.headers.toJSON(),status:W?.status??200},W.headers["content-encoding"]&&delete W.headers["content-encoding"],W;W={headers:{},status:W?.status??200};for(let[J,X]of $.headers.entries())J!=="content-encoding"&&J in W.headers&&(W.headers[J]=X);return W},_M=({mapResponse:$,mapCompactResponse:W})=>async(J,X,Q)=>{let Y=J.next?.();if(Y instanceof Promise&&(Y=await Y),Y?.value instanceof ReadableStream)J=Y.value;else if(Y&&(typeof Y?.done>"u"||Y?.done))return X?$(Y.value,X,Q):W(Y.value,Q);let M=Y?.value?.sse??J?.sse??X?.headers["content-type"]?.startsWith("text/event-stream"),G=M?(w)=>`data: ${w}

`:(w)=>w,B=M?"text/event-stream":Y?.value&&typeof Y?.value=="object"?"application/json":"text/plain";return X?.headers?(X.headers["transfer-encoding"]||(X.headers["transfer-encoding"]="chunked"),X.headers["content-type"]||(X.headers["content-type"]=B),X.headers["cache-control"]||(X.headers["cache-control"]="no-cache")):X={status:200,headers:{"content-type":B,"transfer-encoding":"chunked","cache-control":"no-cache",connection:"keep-alive"}},new Response(new ReadableStream({async start(w){let q=!1;if(Q?.signal?.addEventListener("abort",()=>{q=!0;try{w.close()}catch{}}),!(!Y||Y.value instanceof ReadableStream)){if(Y.value!==void 0&&Y.value!==null)if(Y.value.toSSE)w.enqueue(Y.value.toSSE());else if(typeof Y.value=="object")try{w.enqueue(G(JSON.stringify(Y.value)))}catch{w.enqueue(G(Y.value.toString()))}else w.enqueue(G(Y.value.toString()))}try{for await(let H of J){if(q)break;if(H!=null)if(H.toSSE)w.enqueue(H.toSSE());else{if(typeof H=="object")try{w.enqueue(G(JSON.stringify(H)))}catch{w.enqueue(G(H.toString()))}else w.enqueue(G(H.toString()));M||await new Promise((z)=>setTimeout(()=>z(),0))}}}catch(H){console.warn(H)}try{w.close()}catch{}}}),X)};async function*gz($){let W=$.body;if(!W)return;let J=W.getReader(),X=new TextDecoder;try{for(;;){let{done:Q,value:Y}=await J.read();if(Q)break;typeof Y=="string"?yield Y:yield X.decode(Y)}}finally{J.releaseLock()}}var SX=($)=>{if(typeof $.status=="string"&&($.status=JW[$.status]),$.cookie&&z1($.cookie)){let W=XA($.cookie);W&&($.headers["set-cookie"]=W)}$.headers["set-cookie"]&&Array.isArray($.headers["set-cookie"])&&($.headers=QA(new Headers($.headers),$.headers["set-cookie"]))},YA=($)=>{let W=_M($);return(J,X,Q)=>{let Y=!1;if(X.headers instanceof Headers)for(let G of X.headers.keys())if(G==="set-cookie"){if(Y)continue;Y=!0;for(let B of X.headers.getSetCookie())J.headers.append("set-cookie",B)}else J.headers.append(G,X.headers?.get(G)??"");else for(let G in X.headers)J.headers.append(G,X.headers[G]);let M=X.status??200;return J.status!==M&&M!==200&&(J.status<=300||J.status>400)?J.text().then((G)=>{let B=new Response(G,{headers:J.headers,status:X.status});return!B.headers.has("content-length")&&B.headers.get("transfer-encoding")==="chunked"?W(gz(B),Tz(B,X),Q):B}):!J.headers.has("content-length")&&J.headers.get("transfer-encoding")==="chunked"?W(gz(J),Tz(J,X),Q):J}},zX=($,W={headers:{}})=>{let J=$.path,X=iz[J.slice(J.lastIndexOf(".")+1)];return X&&(W.headers["content-type"]=X),$.stats&&W.status!==206&&W.status!==304&&W.status!==412&&W.status!==416?$.stats.then((Q)=>{let Y=Q.size;return Y!==void 0&&(W.headers["content-range"]=`bytes 0-${Y-1}/${Y}`,W.headers["content-length"]=Y),V1($.value,W)}):V1($.value,W)},o5=($,W,J)=>{if(z1(W.headers)||W.status!==200||W.cookie)switch(SX(W),$?.constructor?.name){case"String":return W.headers["content-type"]="text/plain",new Response($,W);case"Array":case"Object":return W.headers["content-type"]="application/json",new Response(JSON.stringify($),W);case"ElysiaFile":return zX($,W);case"File":return V1($,W);case"Blob":return V1($,W);case"ElysiaCustomStatusResponse":return W.status=$.code,o5($.response,W,J);case void 0:return $?new Response(JSON.stringify($),W):new Response("",W);case"Response":return AX($,W,J);case"Error":return $4($,W);case"Promise":return $.then((X)=>o5(X,W,J));case"Function":return o5($(),W,J);case"Number":case"Boolean":return new Response($.toString(),W);case"Cookie":return $ instanceof X4?new Response($.value,W):new Response($?.toString(),W);case"FormData":return new Response($,W);default:if($ instanceof Response)return AX($,W,J);if($ instanceof Promise)return $.then((X)=>o5(X,W));if($ instanceof Error)return $4($,W);if($ instanceof K5)return W.status=$.code,o5($.response,W,J);if(typeof $?.next=="function"||$ instanceof ReadableStream)return YW($,W,J);if(typeof $?.then=="function")return $.then((X)=>o5(X,W));if(typeof $?.toResponse=="function")return o5($.toResponse(),W);if("charCodeAt"in $){let X=$.charCodeAt(0);if(X===123||X===91)return W.headers["Content-Type"]||(W.headers["Content-Type"]="application/json"),new Response(JSON.stringify($),W)}return new Response($,W)}return typeof $?.next=="function"||$ instanceof ReadableStream?YW($,W,J):L6($,J)},n5=($,W,J)=>{if($!=null)if(z1(W.headers)||W.status!==200||W.cookie)switch(SX(W),$?.constructor?.name){case"String":return W.headers["content-type"]="text/plain",new Response($,W);case"Array":case"Object":return W.headers["content-type"]="application/json",new Response(JSON.stringify($),W);case"ElysiaFile":return zX($,W);case"File":return V1($,W);case"Blob":return V1($,W);case"ElysiaCustomStatusResponse":return W.status=$.code,n5($.response,W,J);case void 0:return $?new Response(JSON.stringify($),W):void 0;case"Response":return AX($,W,J);case"Promise":return $.then((X)=>n5(X,W));case"Error":return $4($,W);case"Function":return n5($(),W);case"Number":case"Boolean":return new Response($.toString(),W);case"FormData":return new Response($);case"Cookie":return $ instanceof X4?new Response($.value,W):new Response($?.toString(),W);default:if($ instanceof Response)return AX($,W,J);if($ instanceof Promise)return $.then((X)=>n5(X,W));if($ instanceof Error)return $4($,W);if($ instanceof K5)return W.status=$.code,n5($.response,W,J);if(typeof $?.next=="function"||$ instanceof ReadableStream)return YW($,W,J);if(typeof $?.then=="function")return $.then((X)=>n5(X,W));if(typeof $?.toResponse=="function")return n5($.toResponse(),W);if("charCodeAt"in $){let X=$.charCodeAt(0);if(X===123||X===91)return W.headers["Content-Type"]||(W.headers["Content-Type"]="application/json"),new Response(JSON.stringify($),W)}return new Response($,W)}else switch($?.constructor?.name){case"String":return W.headers["content-type"]="text/plain",new Response($);case"Array":case"Object":return W.headers["content-type"]="application/json",new Response(JSON.stringify($),W);case"ElysiaFile":return zX($,W);case"File":return V1($,W);case"Blob":return V1($,W);case"ElysiaCustomStatusResponse":return W.status=$.code,n5($.response,W,J);case void 0:return $?new Response(JSON.stringify($),{headers:{"content-type":"application/json"}}):new Response("");case"Response":return $;case"Promise":return $.then((X)=>{let Q=n5(X,W);if(Q!==void 0)return Q});case"Error":return $4($,W);case"Function":return L6($(),J);case"Number":case"Boolean":return new Response($.toString());case"Cookie":return $ instanceof X4?new Response($.value,W):new Response($?.toString(),W);case"FormData":return new Response($);default:if($ instanceof Response)return $;if($ instanceof Promise)return $.then((X)=>n5(X,W));if($ instanceof Error)return $4($,W);if($ instanceof K5)return W.status=$.code,n5($.response,W,J);if(typeof $?.next=="function"||$ instanceof ReadableStream)return YW($,W,J);if(typeof $?.then=="function")return $.then((X)=>n5(X,W));if(typeof $?.toResponse=="function")return n5($.toResponse(),W);if("charCodeAt"in $){let X=$.charCodeAt(0);if(X===123||X===91)return W.headers["Content-Type"]||(W.headers["Content-Type"]="application/json"),new Response(JSON.stringify($),W)}return new Response($)}},L6=($,W)=>{switch($?.constructor?.name){case"String":return new Response($,{headers:{"Content-Type":"text/plain"}});case"Object":case"Array":return new Response(JSON.stringify($),{headers:{"Content-Type":"application/json"}});case"ElysiaFile":return zX($);case"File":return V1($);case"Blob":return V1($);case"ElysiaCustomStatusResponse":return o5($.response,{status:$.code,headers:{}});case void 0:return $?new Response(JSON.stringify($),{headers:{"content-type":"application/json"}}):new Response("");case"Response":return $;case"Error":return $4($);case"Promise":return $.then((J)=>L6(J,W));case"Function":return L6($(),W);case"Number":case"Boolean":return new Response($.toString());case"FormData":return new Response($);default:if($ instanceof Response)return $;if($ instanceof Promise)return $.then((J)=>L6(J,W));if($ instanceof Error)return $4($);if($ instanceof K5)return o5($.response,{status:$.code,headers:{}});if(typeof $?.next=="function"||$ instanceof ReadableStream)return YW($,void 0,W);if(typeof $?.then=="function")return $.then((J)=>o5(J,set));if(typeof $?.toResponse=="function")return L6($.toResponse());if("charCodeAt"in $){let J=$.charCodeAt(0);if(J===123||J===91)return new Response(JSON.stringify($),{headers:{"Content-Type":"application/json"}})}return new Response($)}},$4=($,W)=>new Response(JSON.stringify({name:$?.name,message:$?.message,cause:$?.cause}),{status:W?.status!==200?W?.status??500:500,headers:W?.headers}),II=($,W,J={})=>{if(typeof $=="function")return;let X=o5($,{headers:J});if(!W.parse?.length&&!W.transform?.length&&!W.beforeHandle?.length&&!W.afterHandle?.length)return()=>X.clone()},AX=YA({mapResponse:o5,mapCompactResponse:L6}),YW=_M({mapResponse:o5,mapCompactResponse:L6}),DM={name:"web-standard",isWebStandard:!0,handler:{mapResponse:o5,mapEarlyResponse:n5,mapCompactResponse:L6,createStaticHandler:II},composeHandler:{mapResponseContext:"c.request",preferWebstandardHeaders:!0,headers:`c.headers={}
for(const [k,v] of c.request.headers.entries())c.headers[k]=v
`,parser:{json($){return $?`try{c.body=await c.request.json()}catch{}
`:`c.body=await c.request.json()
`},text(){return`c.body=await c.request.text()
`},urlencoded(){return`c.body=parseQuery(await c.request.text())
`},arrayBuffer(){return`c.body=await c.request.arrayBuffer()
`},formData($){let W=`
c.body={}
`;return $?W+="let form;try{form=await c.request.formData()}catch{}":W+=`const form=await c.request.formData()
`,W+`for(const key of form.keys()){if(c.body[key]) continue
const value=form.getAll(key)
if(value.length===1)c.body[key]=value[0]
else c.body[key]=value}`}}},async stop($,W){if(!$.server)throw new Error("Elysia isn't running. Call `app.listen` to start the server.");if($.server&&($.server.stop(W),$.server=null,$.event.stop?.length))for(let J=0;J<$.event.stop.length;J++)$.event.stop[J].fn($)},composeGeneralHandler:{parameters:"r",createContext($){let W="",J="",X=$.setHeaders;for(let M of Object.keys($.decorator))W+=`,'${M}':decorator['${M}']`;let Q=$.config.handler?.standardHostname??!0,Y=!!$.event.trace?.length;return J+=`const u=r.url,s=u.indexOf('/',${Q?11:7}),qi=u.indexOf('?',s+1)
let p
if(qi===-1)p=u.substring(s)
else p=u.substring(s, qi)
`,Y&&(J+=`const id=randomId()
`),J+="const c={request:r,store,qi,path:p,url:u,redirect,status,set:{headers:",J+=Object.keys(X??{}).length?"Object.assign({},app.setHeaders)":"Object.create(null)",J+=",status:200}",$.inference.server&&(J+=",get server(){return app.getServer()}"),Y&&(J+=",[ELYSIA_REQUEST_ID]:id"),J+=W,J+=`}
`,J},error404($,W,J=""){let X="if(route===null){"+J+`
return `;return W?X+=`app.handleError(c,notFound,false,${this.parameters})`:X+=$?"new Response(error404Message,{status:c.set.status===200?404:c.set.status,headers:c.set.headers})":"error404.clone()",X+="}",{declare:W?"":`const error404Message=notFound.message.toString()
const error404=new Response(error404Message,{status:404})
`,code:X}}},composeError:{mapResponseContext:"",validationError:"return new Response(error.message,{headers:Object.assign({'content-type':'application/json'},set.headers),status:set.status})",unknownError:"return new Response(error.message,{headers:set.headers,status:error.status??set.status??500})"},listen(){return()=>{throw new Error("WebStandard does not support listen, you might want to export default Elysia.fetch instead")}}},T5=($,W,J)=>{if(z1(W.headers)||W.status!==200||W.cookie)switch(SX(W),$?.constructor?.name){case"String":return new Response($,W);case"Array":case"Object":return W.headers["content-type"]="application/json",new Response(JSON.stringify($),W);case"ElysiaFile":return V1($.value);case"File":return V1($,W);case"Blob":return V1($,W);case"ElysiaCustomStatusResponse":return W.status=$.code,T5($.response,W,J);case void 0:return $?new Response(JSON.stringify($),W):new Response("",W);case"Response":return NX($,W,J);case"Error":return W4($,W);case"Promise":return $.then((X)=>T5(X,W,J));case"Function":return T5($(),W,J);case"Number":case"Boolean":return new Response($.toString(),W);case"Cookie":return $ instanceof X4?new Response($.value,W):new Response($?.toString(),W);case"FormData":return new Response($,W);default:if($ instanceof Response)return NX($,W,J);if($ instanceof Promise)return $.then((X)=>T5(X,W));if($ instanceof Error)return W4($,W);if($ instanceof K5)return W.status=$.code,T5($.response,W,J);if(typeof $?.next=="function"||$ instanceof ReadableStream)return MW($,W,J);if(typeof $?.then=="function")return $.then((X)=>T5(X,W));if(typeof $?.toResponse=="function")return T5($.toResponse(),W);if("charCodeAt"in $){let X=$.charCodeAt(0);if(X===123||X===91)return W.headers["Content-Type"]||(W.headers["Content-Type"]="application/json"),new Response(JSON.stringify($),W)}return new Response($,W)}return typeof $?.next=="function"||$ instanceof ReadableStream?MW($,W,J):_6($,J)},k5=($,W,J)=>{if($!=null)if(z1(W.headers)||W.status!==200||W.cookie)switch(SX(W),$?.constructor?.name){case"String":return new Response($,W);case"Array":case"Object":return W.headers["content-type"]="application/json",new Response(JSON.stringify($),W);case"ElysiaFile":return V1($.value);case"File":return V1($,W);case"Blob":return V1($,W);case"ElysiaCustomStatusResponse":return W.status=$.code,k5($.response,W,J);case void 0:return $?new Response(JSON.stringify($),W):void 0;case"Response":return NX($,W,J);case"Promise":return $.then((X)=>k5(X,W));case"Error":return W4($,W);case"Function":return k5($(),W);case"Number":case"Boolean":return new Response($.toString(),W);case"FormData":return new Response($);case"Cookie":return $ instanceof X4?new Response($.value,W):new Response($?.toString(),W);default:if($ instanceof Response)return NX($,W,J);if($ instanceof Promise)return $.then((X)=>k5(X,W));if($ instanceof Error)return W4($,W);if($ instanceof K5)return W.status=$.code,k5($.response,W,J);if(typeof $?.next=="function"||$ instanceof ReadableStream)return MW($,W,J);if(typeof $?.then=="function")return $.then((X)=>k5(X,W));if(typeof $?.toResponse=="function")return k5($.toResponse(),W);if("charCodeAt"in $){let X=$.charCodeAt(0);if(X===123||X===91)return W.headers["Content-Type"]||(W.headers["Content-Type"]="application/json"),new Response(JSON.stringify($),W)}return new Response($,W)}else switch($?.constructor?.name){case"String":return new Response($);case"Array":case"Object":return W.headers["content-type"]="application/json",new Response(JSON.stringify($),W);case"ElysiaFile":return V1($.value);case"File":return V1($,W);case"Blob":return V1($,W);case"ElysiaCustomStatusResponse":return W.status=$.code,k5($.response,W,J);case void 0:return $?new Response(JSON.stringify($),{headers:{"content-type":"application/json"}}):new Response("");case"Response":return $;case"Promise":return $.then((X)=>{let Q=k5(X,W);if(Q!==void 0)return Q});case"Error":return W4($,W);case"Function":return _6($(),J);case"Number":case"Boolean":return new Response($.toString());case"Cookie":return $ instanceof X4?new Response($.value,W):new Response($?.toString(),W);case"FormData":return new Response($);default:if($ instanceof Response)return $;if($ instanceof Promise)return $.then((X)=>k5(X,W));if($ instanceof Error)return W4($,W);if($ instanceof K5)return W.status=$.code,k5($.response,W,J);if(typeof $?.next=="function"||$ instanceof ReadableStream)return MW($,W,J);if(typeof $?.then=="function")return $.then((X)=>k5(X,W));if(typeof $?.toResponse=="function")return k5($.toResponse(),W);if("charCodeAt"in $){let X=$.charCodeAt(0);if(X===123||X===91)return W.headers["Content-Type"]||(W.headers["Content-Type"]="application/json"),new Response(JSON.stringify($),W)}return new Response($)}},_6=($,W)=>{switch($?.constructor?.name){case"String":return new Response($);case"Object":case"Array":return new Response(JSON.stringify($),{headers:{"Content-Type":"application/json"}});case"ElysiaFile":return V1($.value);case"File":return V1($);case"Blob":return V1($);case"ElysiaCustomStatusResponse":return T5($.response,{status:$.code,headers:{}});case void 0:return $?new Response(JSON.stringify($),{headers:{"content-type":"application/json"}}):new Response("");case"Response":return $;case"Error":return W4($);case"Promise":return $.then((J)=>_6(J,W));case"Function":return _6($(),W);case"Number":case"Boolean":return new Response($.toString());case"FormData":return new Response($);default:if($ instanceof Response)return $;if($ instanceof Promise)return $.then((J)=>_6(J,W));if($ instanceof Error)return W4($);if($ instanceof K5)return T5($.response,{status:$.code,headers:{}});if(typeof $?.next=="function"||$ instanceof ReadableStream)return MW($,void 0,W);if(typeof $?.then=="function")return $.then((J)=>T5(J,set));if(typeof $?.toResponse=="function")return _6($.toResponse());if("charCodeAt"in $){let J=$.charCodeAt(0);if(J===123||J===91)return new Response(JSON.stringify($),{headers:{"Content-Type":"application/json"}})}return new Response($)}},W4=($,W)=>new Response(JSON.stringify({name:$?.name,message:$?.message,cause:$?.cause}),{status:W?.status!==200?W?.status??500:500,headers:W?.headers}),xI=($,W,J={})=>{if(typeof $=="function")return;let X=T5($,{headers:J});if(!W.parse?.length&&!W.transform?.length&&!W.beforeHandle?.length&&!W.afterHandle?.length)return()=>X.clone()},NX=YA({mapResponse:T5,mapCompactResponse:_6}),MW=_M({mapResponse:T5,mapCompactResponse:_6}),A$=1,N$=2,D$=4,F6=8;function GA($,W=0,J,X){let Q=Object.create(null),Y=0,M=$.length,G=W-1,B=G;for(let q=0;q<M;q++)switch($.charCodeAt(q)){case 38:w($,q),G=q,B=q,Y=0;break;case 61:B<=G?B=q:Y|=F6;break;case 43:B>G?Y|=D$:Y|=A$;break;case 37:B>G?Y|=F6:Y|=N$;break}return G<M&&w($,M),Q;function w(q,H){let z=B>G,U=z?B:H,N=q.slice(G+1,U);if(!z&&N.length===0)return;let D=N;Y&A$&&(D=D.replace(/\+/g," ")),Y&N$&&(D=J9.default(D)||D);let j="";if(z){let O=q.slice(B+1,H);Y&D$&&(O=O.replace(/\+/g," ")),Y&F6&&(O=J9.default(O)||O),j=O}let K=Q[D];J?.[D]?j.charCodeAt(0)===91?(X?.[D]?j=JSON.parse(j):j=j.slice(1,-1).split(","),K===void 0?Q[D]=j:Array.isArray(K)?K.push(...j):(Q[D]=j,Q[D].unshift(K))):K===void 0?Q[D]=j:Array.isArray(K)?K.push(j):Q[D]=[K,j]:Q[D]=j}}function kI($,W=0){let J=Object.create(null),X=0,Q=$.length,Y=W-1,M=Y;for(let B=0;B<Q;B++)switch($.charCodeAt(B)){case 38:G($,B),Y=B,M=B,X=0;break;case 61:M<=Y?M=B:X|=F6;break;case 43:M>Y?X|=D$:X|=A$;break;case 37:M>Y?X|=F6:X|=N$;break}return Y<Q&&G($,Q),J;function G(B,w){let q=M>Y,H=q?M:w,z=B.slice(Y+1,H);if(!q&&z.length===0)return;let U=z;X&A$&&(U=U.replace(/\+/g," ")),X&N$&&(U=J9.default(U)||U);let N="";if(q){let j=B.slice(M+1,w);X&D$&&(j=j.replace(/\+/g," ")),X&F6&&(j=J9.default(j)||j),N=j}let D=J[U];if(N.charCodeAt(0)===91&&N.charCodeAt(N.length-1)===93){try{N=JSON.parse(N)}catch{}D===void 0?J[U]=N:Array.isArray(D)?D.push(N):J[U]=[D,N]}else if(N.charCodeAt(0)===123&&N.charCodeAt(N.length-1)===125){try{N=JSON.parse(N)}catch{}D===void 0?J[U]=N:Array.isArray(D)?D.push(N):J[U]=[D,N]}else N.includes(",")&&(N=N.split(",")),D===void 0?J[U]=N:Array.isArray(D)?D.push(N):J[U]=[D,N]}}function U$($){let W=Object.create(null),J=0,X=$.length,Q=-1,Y=-1;for(let G=0;G<X;G++)switch($.charCodeAt(G)){case 38:M($,G),Q=G,Y=G,J=0;break;case 61:Y<=Q?Y=G:J|=F6;break;case 43:Y>Q?J|=D$:J|=A$;break;case 37:Y>Q?J|=F6:J|=N$;break}return Q<X&&M($,X),W;function M(G,B){let w=Y>Q,q=w?Y:B,H=G.slice(Q+1,q);if(!w&&H.length===0)return;let z=H;J&A$&&(z=z.replace(/\+/g," ")),J&N$&&(z=J9.default(z)||z);let U="";if(w){let D=G.slice(Y+1,B);J&D$&&(D=D.replace(/\+/g," ")),J&F6&&(D=J9.default(D)||D),U=D}let N=W[z];N===void 0?W[z]=U:Array.isArray(N)?N.push(U):W[z]=[N,U]}}var jX=Symbol("ElysiaTrace"),S6=()=>{let{promise:$,resolve:W}=Promise.withResolvers(),{promise:J,resolve:X}=Promise.withResolvers(),{promise:Q,resolve:Y}=Promise.withResolvers(),M=[],G=[];return[(B)=>(B&&M.push(B),$),(B)=>{let w=[],q=[],H=null;for(let U=0;U<(B.total??0);U++){let{promise:N,resolve:D}=Promise.withResolvers(),{promise:j,resolve:K}=Promise.withResolvers(),{promise:O,resolve:E}=Promise.withResolvers(),m=[],e=[];w.push((T)=>(T&&m.push(T),N)),q.push((T)=>{let b={...T,end:j,error:O,index:U,onStop(x){return x&&e.push(x),j}};D(b);for(let x=0;x<m.length;x++)m[x](b);return(x=null)=>{let k=performance.now();x&&(H=x);let P={end:k,error:x,get elapsed(){return k-T.begin}};for(let C=0;C<e.length;C++)e[C](P);K(k),E(x)}})}let z={...B,end:J,error:Q,onEvent(U){for(let N=0;N<w.length;N++)w[N](U)},onStop(U){return U&&G.push(U),J}};W(z);for(let U=0;U<M.length;U++)M[U](z);return{resolveChild:q,resolve(U=null){let N=performance.now();!U&&H&&(U=H);let D={end:N,error:U,get elapsed(){return N-B.begin}};for(let j=0;j<G.length;j++)G[j](D);X(N),Y(U)}}}]},TI=($)=>(W)=>{let[J,X]=S6(),[Q,Y]=S6(),[M,G]=S6(),[B,w]=S6(),[q,H]=S6(),[z,U]=S6(),[N,D]=S6(),[j,K]=S6(),[O,E]=S6();return $({id:W[BW],context:W,set:W.set,onRequest:J,onParse:Q,onTransform:M,onBeforeHandle:B,onHandle:q,onAfterHandle:z,onMapResponse:j,onAfterResponse:O,onError:N,time:Date.now(),store:W.store}),{request:X,parse:Y,transform:G,beforeHandle:w,handle:H,afterHandle:U,error:D,mapResponse:K,afterResponse:E}},ZM=($)=>$?$?.[F]==="Import"&&$.References?$.References().some(ZM):($.schema&&($=$.schema),!!$&&(n1 in $)):!1,k8=($)=>{if(!$)return!1;let W=$?.schema??$;if(W[F]==="Import"&&$.References)return $.References().some(k8);if(W.anyOf)return W.anyOf.some(k8);if(W.someOf)return W.someOf.some(k8);if(W.allOf)return W.allOf.some(k8);if(W.not)return W.not.some(k8);if(W.type==="object"){let J=W.properties;if("additionalProperties"in W)return W.additionalProperties;if("patternProperties"in W)return!1;for(let X of Object.keys(J)){let Q=J[X];if(Q.type==="object"){if(k8(Q))return!0}else if(Q.anyOf){for(let Y=0;Y<Q.anyOf.length;Y++)if(k8(Q.anyOf[Y]))return!0}return Q.additionalProperties}return!1}return W.type==="array"&&W.items&&!Array.isArray(W.items)?k8(W.items):!1},t6=($,W)=>{if(!W)return!1;if(F in W&&W[F]===$)return!0;if(W.type==="object"){let J=W.properties;if(!J)return!1;for(let X of Object.keys(J)){let Q=J[X];if(Q.type==="object"){if(t6($,Q))return!0}else if(Q.anyOf){for(let Y=0;Y<Q.anyOf.length;Y++)if(t6($,Q.anyOf[Y]))return!0}if(F in Q&&Q[F]===$)return!0}return!1}return!!W.properties&&F in W.properties&&W.properties[F]===$},T8=($,W)=>{if(!W)return!1;let J=W?.schema??W;if(J.elysiaMeta===$)return!0;if(J[F]==="Import"&&W.References)return W.References().some((X)=>T8($,X));if(J.anyOf)return J.anyOf.some((X)=>T8($,X));if(J.someOf)return J.someOf.some((X)=>T8($,X));if(J.allOf)return J.allOf.some((X)=>T8($,X));if(J.not)return J.not.some((X)=>T8($,X));if(J.type==="object"){let X=J.properties;for(let Q of Object.keys(X)){let Y=X[Q];if(Y.type==="object"){if(T8($,Y))return!0}else if(Y.anyOf){for(let M=0;M<Y.anyOf.length;M++)if(T8($,Y.anyOf[M]))return!0}return J.elysiaMeta===$}return!1}return J.type==="array"&&J.items&&!Array.isArray(J.items)?T8($,J.items):!1},e7=($,W)=>{if(!W)return;let J=W.schema??W;if(J[F]==="Import"&&W.References)return W.References().some((X)=>e7($,X));if(J.type==="object"){let X=J.properties;if(!X)return!1;for(let Q of Object.keys(X)){let Y=X[Q];if($ in Y)return!0;if(Y.type==="object"){if(e7($,Y))return!0}else if(Y.anyOf){for(let M=0;M<Y.anyOf.length;M++)if(e7($,Y.anyOf[M]))return!0}}return!1}return $ in J},A8=($)=>{if(!$)return!1;if($.oneOf){for(let W=0;W<$.oneOf.length;W++)if(A8($.oneOf[W]))return!0}if($.anyOf){for(let W=0;W<$.anyOf.length;W++)if(A8($.anyOf[W]))return!0}if($.oneOf){for(let W=0;W<$.oneOf.length;W++)if(A8($.oneOf[W]))return!0}if($.allOf){for(let W=0;W<$.allOf.length;W++)if(A8($.allOf[W]))return!0}if($.not&&A8($.not))return!0;if($.type==="object"&&$.properties){let W=$.properties;for(let J of Object.keys(W)){let X=W[J];if(A8(X)||X.type==="array"&&X.items&&A8(X.items))return!0}}return $.type==="array"&&$.items&&A8($.items)?!0:$[F]==="Ref"&&("$ref"in $)},N8=($)=>{if(!$)return!1;if($.$ref&&$.$defs&&$.$ref in $.$defs&&N8($.$defs[$.$ref]))return!0;if($.oneOf){for(let W=0;W<$.oneOf.length;W++)if(N8($.oneOf[W]))return!0}if($.anyOf){for(let W=0;W<$.anyOf.length;W++)if(N8($.anyOf[W]))return!0}if($.allOf){for(let W=0;W<$.allOf.length;W++)if(N8($.allOf[W]))return!0}if($.not&&N8($.not))return!0;if($.type==="object"&&$.properties){let W=$.properties;for(let J of Object.keys(W)){let X=W[J];if(N8(X)||X.type==="array"&&X.items&&N8(X.items))return!0}}return $.type==="array"&&$.items&&N8($.items)?!0:(r0 in $)},$W=($,W,J={})=>{let X=J;if(X.root=!0,!Array.isArray(W))return W.original=$,r1($,W,X);for(let Q of W)Q.original=$,$=r1($,Q,X);return $},r1=($,W,J)=>{if(!$)return $;let X=J.root;if(W.onlyFirst&&$.type===W.onlyFirst)return W.to($)??$;if(W.untilObjectFound&&!X&&$.type==="object")return $;let Q=W.from[F];if($.oneOf){for(let G=0;G<$.oneOf.length;G++)$.oneOf[G]=r1($.oneOf[G],W,J);return $}if($.anyOf){for(let G=0;G<$.anyOf.length;G++)$.anyOf[G]=r1($.anyOf[G],W,J);return $}if($.allOf){for(let G=0;G<$.allOf.length;G++)$.allOf[G]=r1($.allOf[G],W,J);return $}if($.not)return r1($.not,W,J);let Y=X&&!!W.excludeRoot;if($[F]===Q){let{anyOf:G,oneOf:B,allOf:w,not:q,properties:H,items:z,...U}=$,N=W.to(U);if(!N)return $;let D,j=(O)=>{let E=K(O);return E.$id&&delete E.$id,E},K=(O)=>{if(H&&O.type==="object"){let m={};for(let[e,T]of Object.entries(H))m[e]=r1(T,W,{...J,root:!1});return{...U,...O,properties:m}}if(z&&O.type==="array")return{...U,...O,items:r1(z,W,{...J,root:!1})};let E={...U,...O};return delete E.required,H&&O.type==="string"&&O.format==="ObjectString"&&O.default==="{}"?(D=A.ObjectString(H,U),E.properties=H):z&&O.type==="string"&&O.format==="ArrayString"&&O.default==="[]"&&(D=A.ArrayString(z,U),E.items=z),E};if(Y){if(H){let O={};for(let[E,m]of Object.entries(H))O[E]=r1(m,W,{...J,root:!1});return{...U,properties:O}}else if(z?.map)return{...U,items:z.map((O)=>r1(O,W,{...J,root:!1}))};return U}if(N.anyOf)for(let O=0;O<N.anyOf.length;O++)N.anyOf[O]=j(N.anyOf[O]);else if(N.oneOf)for(let O=0;O<N.oneOf.length;O++)N.oneOf[O]=j(N.oneOf[O]);else if(N.allOf)for(let O=0;O<N.allOf.length;O++)N.allOf[O]=j(N.allOf[O]);else N.not&&(N.not=j(N.not));if(D&&(N[r0]=D[r0]),N.anyOf||N.oneOf||N.allOf||N.not)return N;if(H){let O={};for(let[E,m]of Object.entries(H))O[E]=r1(m,W,{...J,root:!1});return{...U,...N,properties:O}}else if(z?.map)return{...U,...N,items:z.map((O)=>r1(O,W,{...J,root:!1}))};return{...U,...N}}let M=$?.properties;if(M&&X&&W.rootOnly!==!0)for(let[G,B]of Object.entries(M))switch(B[F]){case Q:let{anyOf:w,oneOf:q,allOf:H,not:z,type:U,...N}=B,D=W.to(N);if(!D)return $;if(D.anyOf)for(let j=0;j<D.anyOf.length;j++)D.anyOf[j]={...N,...D.anyOf[j]};else if(D.oneOf)for(let j=0;j<D.oneOf.length;j++)D.oneOf[j]={...N,...D.oneOf[j]};else if(D.allOf)for(let j=0;j<D.allOf.length;j++)D.allOf[j]={...N,...D.allOf[j]};else D.not&&(D.not={...N,...D.not});M[G]={...N,...r1(N,W,{...J,root:!1})};break;case"Object":case"Union":M[G]=r1(B,W,{...J,root:!1});break;default:if(Array.isArray(B.items))for(let j=0;j<B.items.length;j++)B.items[j]=r1(B.items[j],W,{...J,root:!1});else B.anyOf||B.oneOf||B.allOf||B.not?M[G]=r1(B,W,{...J,root:!1}):B.type==="array"&&(B.items=r1(B.items,W,{...J,root:!1}));break}return $.type==="array"&&$.items&&(Array.isArray($.items)?$.items=$.items.map((G)=>r1(G,W,{...J,root:!1})):$.items=r1($.items,W,{...J,root:!1})),$},B$=($)=>(W)=>{if(typeof W=="object")try{return n0.Clean($,W)}catch{}return W},v1=($,{models:W={},dynamic:J=!1,modules:X,normalize:Q=!1,additionalProperties:Y=!1,forceAdditionalProperties:M=!1,coerce:G=!1,additionalCoerce:B=[],validators:w,sanitize:q}={})=>{if(w=w?.filter((K)=>K),!$){if(!w?.length)return;$=w[0],w=w.slice(1)}let H,z=(K)=>G?$W(K,[{from:A.Number(),to:(O)=>A.Numeric(O),untilObjectFound:!0},{from:A.Boolean(),to:(O)=>A.BooleanString(O),untilObjectFound:!0},...Array.isArray(B)?B:[B]]):$W(K,B),U=(K)=>{if(K&&typeof K!="string"&&"~standard"in K)return K;if(!K)return;let O;if(typeof K!="string")O=K;else if(O=X&&K in X.$defs?X.Import(K):W[K],!O)return;if(F in O)if(O[F]==="Import")A8(O.$defs[O.$ref])||(O=O.$defs[O.$ref],(G||B)&&(O=z(O)));else if(A8(O)){let E=ZX();O=A.Module({...X?.$defs,[E]:O}).Import(E)}else(G||B)&&(O=z(O));return O},N=U($),D=w;if("~standard"in N||w?.length&&w.some((K)=>K&&typeof K!="string"&&("~standard"in K))){let K=(T)=>{let b;if(Q===!0||Q==="exactMirror")try{b=pJ(T,{TypeCompiler:q8,sanitize:q?.(),modules:X})}catch{console.warn("Failed to create exactMirror. Please report the following code to https://github.com/elysiajs/elysia/issues"),console.warn(T),b=B$(T)}let x=v1(T,{models:W,modules:X,dynamic:J,normalize:Q,additionalProperties:!0,forceAdditionalProperties:!0,coerce:G,additionalCoerce:B});return x.Decode=b,(k)=>x.Check(k)?{value:x.Decode(k)}:{issues:[...x.Errors(k)]}},O=N["~standard"]?N["~standard"].validate:K(N),E=[];if(w?.length){for(let T of w)if(T&&typeof T!="string"){if(T?.["~standard"]){E.push(T["~standard"]);continue}if(F in T){E.push(K(T));continue}}}async function m(T){let b=O(T);if(b instanceof Promise&&(b=await b),b.issues)return b;let x=[];b&&typeof b=="object"&&x.push(b.value);for(let P=0;P<E.length;P++){if(b=E[P].validate(T),b instanceof Promise&&(b=await b),b.issues)return b;b&&typeof b=="object"&&x.push(b.value)}if(!x.length)return{value:b};if(x.length===1)return{value:x[0]};if(x.length===2)return{value:X5(x[0],x[1])};let k=X5(x[0],x[1]);for(let P=2;P<x.length;P++)k=X5(k,x[P]);return{value:k}}let e={provider:"standard",schema:N,references:"",checkFunc:()=>{},code:"",Check:m,Errors:(T)=>m(T)?.then?.((b)=>b?.issues),Code:()=>"",Decode:m,Encode:(T)=>T,hasAdditionalProperties:!1,hasDefault:!1,isOptional:!1,hasTransform:!1,hasRef:!1};return e.parse=(T)=>{try{return e.Decode(e.Clean?.(T)??T)}catch{throw[...e.Errors(T)].map(H5)}},e.safeParse=(T)=>{try{return{success:!0,data:e.Decode(e.Clean?.(T)??T),error:null}}catch{let b=[...j.Errors(T)].map(H5);return{success:!1,data:null,error:b[0]?.summary,errors:b}}},e}else if(w?.length){let K=!1,O=D,{schema:E,notObjects:m}=fI([N,...O.map(U)]);m&&(N=A.Intersect([...E?[E]:[],...m.map((e)=>{let T=U(e);return T.type==="object"&&"additionalProperties"in T&&(!K&&T.additionalProperties===!1&&(K=!0),delete T.additionalProperties),T})]),N.type==="object"&&K&&(N.additionalProperties=!1))}else N.type==="object"&&(!("additionalProperties"in N)||M)?N.additionalProperties=Y:N=$W(N,{onlyFirst:"object",from:A.Object({}),to({properties:K,...O}){if(K&&!("additionalProperties"in N))return A.Object(K,{...O,additionalProperties:!1})}});if(J)if(F in N){let K={provider:"typebox",schema:N,references:"",checkFunc:()=>{},code:"",Check:(O)=>n0.Check(N,O),Errors:(O)=>n0.Errors(N,O),Code:()=>"",Clean:B$(N),Decode:(O)=>n0.Decode(N,O),Encode:(O)=>n0.Encode(N,O),get hasAdditionalProperties(){return"~hasAdditionalProperties"in this?this["~hasAdditionalProperties"]:this["~hasAdditionalProperties"]=k8(N)},get hasDefault(){return"~hasDefault"in this?this["~hasDefault"]:this["~hasDefault"]=e7("default",N)},get isOptional(){return"~isOptional"in this?this["~isOptional"]:this["~isOptional"]=ZM(N)},get hasTransform(){return"~hasTransform"in this?this["~hasTransform"]:this["~hasTransform"]=N8(N)},"~hasRef":H,get hasRef(){return"~hasRef"in this?this["~hasRef"]:this["~hasRef"]=N8(N)}};if(N.config&&(K.config=N.config,K?.schema?.config&&delete K.schema.config),Q&&N.additionalProperties===!1)if(Q===!0||Q==="exactMirror")try{K.Clean=pJ(N,{TypeCompiler:q8,sanitize:q?.(),modules:X})}catch{console.warn("Failed to create exactMirror. Please report the following code to https://github.com/elysiajs/elysia/issues"),console.warn(N),K.Clean=B$(N)}else K.Clean=B$(N);return K.parse=(O)=>{try{return K.Decode(K.Clean?.(O)??O)}catch{throw[...K.Errors(O)].map(H5)}},K.safeParse=(O)=>{try{return{success:!0,data:K.Decode(K.Clean?.(O)??O),error:null}}catch{let E=[...j.Errors(O)].map(H5);return{success:!1,data:null,error:E[0]?.summary,errors:E}}},K}else{let K={provider:"standard",schema:N,references:"",checkFunc:()=>{},code:"",Check:(O)=>N["~standard"].validate(O),Errors(O){let E=N["~standard"].validate(O);if(E instanceof Promise)throw Error("Async validation is not supported in non-dynamic schema");return E.issues},Code:()=>"",Decode(O){let E=N["~standard"].validate(O);if(E instanceof Promise)throw Error("Async validation is not supported in non-dynamic schema");return E},Encode:(O)=>O,hasAdditionalProperties:!1,hasDefault:!1,isOptional:!1,hasTransform:!1,hasRef:!1};return K.parse=(O)=>{try{return K.Decode(K.Clean?.(O)??O)}catch{throw[...K.Errors(O)].map(H5)}},K.safeParse=(O)=>{try{return{success:!0,data:K.Decode(K.Clean?.(O)??O),error:null}}catch{let E=[...j.Errors(O)].map(H5);return{success:!1,data:null,error:E[0]?.summary,errors:E}}},K}let j;if(F in N)if(j=q8.Compile(N,Object.values(W).filter((K)=>(F in K))),j.provider="typebox",N.config&&(j.config=N.config,j?.schema?.config&&delete j.schema.config),Q===!0||Q==="exactMirror")try{j.Clean=pJ(N,{TypeCompiler:q8,sanitize:q?.(),modules:X})}catch{console.warn("Failed to create exactMirror. Please report the following code to https://github.com/elysiajs/elysia/issues"),console.dir(N,{depth:null}),j.Clean=B$(N)}else Q==="typebox"&&(j.Clean=B$(N));else j={provider:"standard",schema:N,references:"",checkFunc(K){let O=N["~standard"].validate(K);if(O instanceof Promise)throw Error("Async validation is not supported in non-dynamic schema");return O},code:"",Check:(K)=>N["~standard"].validate(K),Errors(K){let O=N["~standard"].validate(K);if(O instanceof Promise)throw Error("Async validation is not supported in non-dynamic schema");return O.issues},Code:()=>"",Decode(K){let O=N["~standard"].validate(K);if(O instanceof Promise)throw Error("Async validation is not supported in non-dynamic schema");return O},Encode:(K)=>K,hasAdditionalProperties:!1,hasDefault:!1,isOptional:!1,hasTransform:!1,hasRef:!1};return j.parse=(K)=>{try{return j.Decode(j.Clean?.(K)??K)}catch{throw[...j.Errors(K)].map(H5)}},j.safeParse=(K)=>{try{return{success:!0,data:j.Decode(j.Clean?.(K)??K),error:null}}catch{let O=[...j.Errors(K)].map(H5);return{success:!1,data:null,error:O[0]?.summary,errors:O}}},F in N&&Object.assign(j,{get hasAdditionalProperties(){return"~hasAdditionalProperties"in this?this["~hasAdditionalProperties"]:this["~hasAdditionalProperties"]=k8(j)},get hasDefault(){return"~hasDefault"in this?this["~hasDefault"]:this["~hasDefault"]=e7("default",j)},get isOptional(){return"~isOptional"in this?this["~isOptional"]:this["~isOptional"]=ZM(j)},get hasTransform(){return"~hasTransform"in this?this["~hasTransform"]:this["~hasTransform"]=N8(N)},get hasRef(){return"~hasRef"in this?this["~hasRef"]:this["~hasRef"]=A8(N)},"~hasRef":H}),j},gI=($)=>$[F]==="Union"||!$.schema&&!!$.anyOf,fI=($)=>{if($.length===0)return{schema:void 0,notObjects:[]};if($.length===1)return $[0].type==="object"?{schema:$[0],notObjects:[]}:{schema:void 0,notObjects:$};let W,J=[],X=!1,Q=!1;for(let Y of $){if(Y.type!=="object"){J.push(Y);continue}if("additionalProperties"in Y&&(Y.additionalProperties===!0?X=!0:Y.additionalProperties===!1&&(Q=!0)),!W){W=Y;continue}W={...W,...Y,properties:{...W.properties,...Y.properties},required:[...W?.required??[],...Y.required]}}return W&&(W.required&&(W.required=[...new Set(W.required)]),Q?W.additionalProperties=!1:X&&(W.additionalProperties=!0)),{schema:W,notObjects:J}},fz=($,{models:W={},modules:J,dynamic:X=!1,normalize:Q=!1,additionalProperties:Y=!1,validators:M=[],sanitize:G})=>{if(M=M.filter((q)=>q),!$){if(!M?.length)return;$=M[0],M=M.slice(1)}let B;if(typeof $!="string")B=$;else if(B=J&&$ in J.$defs?J.Import($):W[$],!B)return;if(!B)return;if(F in B||"~standard"in B)return{200:v1(B,{modules:J,models:W,additionalProperties:Y,dynamic:X,normalize:Q,coerce:!1,additionalCoerce:[],validators:M.map((q)=>q[200]),sanitize:G})};let w={};return Object.keys(B).forEach((q)=>{if(isNaN(+q))return;let H=B[+q];if(typeof H=="string"){if(H in W){let z=W[H];if(!z)return;w[+q]=F in z||"~standard"in z?v1(z,{modules:J,models:W,additionalProperties:Y,dynamic:X,normalize:Q,coerce:!1,additionalCoerce:[],validators:M.map((U)=>U[+q]),sanitize:G}):z}return}w[+q]=F in H||"~standard"in H?v1(H,{modules:J,models:W,additionalProperties:Y,dynamic:X,normalize:Q,coerce:!1,additionalCoerce:[],validators:M.map((z)=>z[+q]),sanitize:G}):H}),w},WM,a7=()=>(WM||(WM=[{from:A.Object({}),to:()=>A.ObjectString({}),excludeRoot:!0},{from:A.Array(A.Any()),to:()=>A.ArrayString(A.Any())}]),WM),JM,vz=()=>(JM||(JM=[{from:A.Object({}),to:()=>A.ObjectString({}),excludeRoot:!0},{from:A.Array(A.Any()),to:()=>A.ArrayQuery(A.Any())}]),JM),XM,OM=()=>(XM||(XM=[{from:A.Number(),to:($)=>A.Numeric($),rootOnly:!0},{from:A.Boolean(),to:($)=>A.BooleanString($),rootOnly:!0}]),XM),vI=({validator:$,modules:W,defaultConfig:J={},config:X,dynamic:Q,normalize:Y=!1,models:M,validators:G,sanitize:B})=>{let w=$?.provider?$:v1($,{modules:W,dynamic:Q,models:M,normalize:Y,additionalProperties:!0,coerce:!0,additionalCoerce:a7(),validators:G,sanitize:B});return w?w.config=zM(w.config,X):(w=v1(A.Cookie(A.Any()),{modules:W,dynamic:Q,models:M,additionalProperties:!0,validators:G,sanitize:B}),w.config=J),w},w$=($)=>$&&$[F]==="Import"&&$.$defs[$.$ref][F]==="Object"?$.$defs[$.$ref]:$,b1=($,W)=>W?$:"",dI=["json","text","urlencoded","arrayBuffer","formdata","application/json","text/plain","application/x-www-form-urlencoded","application/octet-stream","multipart/form-data"],GW=({context:$="c",trace:W=[],addFn:J})=>{if(!W.length)return()=>({resolveChild(){return()=>{}},resolve(){}});for(let X=0;X<W.length;X++)J(`let report${X},reportChild${X},reportErr${X},reportErrChild${X};let trace${X}=${$}[ELYSIA_TRACE]?.[${X}]??trace[${X}](${$});
`);return(X,{name:Q,total:Y=0}={})=>{Q||(Q="anonymous");let M=X==="error"?"reportErr":"report";for(let G=0;G<W.length;G++)J(`${M}${G} = trace${G}.${X}({id,event:'${X}',name:'${Q}',begin:performance.now(),total:${Y}})
`);return{resolve(){for(let G=0;G<W.length;G++)J(`${M}${G}.resolve()
`)},resolveChild(G){for(let B=0;B<W.length;B++)J(`${M}Child${B}=${M}${B}.resolveChild?.shift()?.({id,event:'${X}',name:'${G}',begin:performance.now()})
`);return(B)=>{for(let w=0;w<W.length;w++)J(B?`if(${B} instanceof Error){${M}Child${w}?.(${B}) }else{${M}Child${w}?.()}`:`${M}Child${w}?.()
`)}}}}},t7=({schema:$,name:W,type:J,typeAlias:X=J,normalize:Q,ignoreTryCatch:Y=!1})=>!Q||!$.Clean?"":Q===!0||Q==="exactMirror"?Y?`${W}=validator.${X}.Clean(${W})
`:`try{${W}=validator.${X}.Clean(${W})
}catch{}`:Q==="typebox"?`${W}=validator.${X}.Clean(${W})
`:"",yI=({injectResponse:$="",normalize:W=!1,validator:J,encodeSchema:X=!1,isStaticResponse:Q=!1,hasSanitize:Y=!1})=>({validate:(M,G=`c.${M}`,B)=>`c.set.status=422;throw new ValidationError('${M}',validator.${M},${G}${B?","+B:""})`,response:(M="r")=>{if(Q||!J.response)return"";let G=$+`
`;G+=`if(${M} instanceof ElysiaCustomStatusResponse){c.set.status=${M}.code
${M}=${M}.response}if(${M} instanceof Response === false)switch(c.set.status){`;for(let[B,w]of Object.entries(J.response)){if(G+=`
case ${B}:
`,w.provider==="standard"){G+=`let vare${B}=validator.response[${B}].Check(${M})
if(vare${B} instanceof Promise)vare${B}=await vare${B}
if(vare${B}.issues)throw new ValidationError('response',validator.response[${B}],${M},vare${B}.issues)
${M}=vare${B}.value
c.set.status=${B}
break
`;continue}let q=w.schema?.noValidate===!0;if(!q&&w.schema?.$ref&&w.schema?.$defs){let N=w.schema.$ref,D=typeof N=="string"&&N.includes("/")?N.split("/").pop():N;w.schema.$defs[D]?.noValidate===!0&&(q=!0)}let H=q||Y,z=({ignoreTryCatch:N=!1}={})=>t7({name:M,schema:w,type:"response",typeAlias:`response[${B}]`,normalize:W,ignoreTryCatch:N});H&&(G+=z());let U=!H&&W&&!q;X&&w.hasTransform&&!q?(G+=`try{${M}=validator.response[${B}].Encode(${M})
`,H||(G+=z({ignoreTryCatch:!0})),G+=`c.set.status=${B}}catch{`+(U?`try{
`+z({ignoreTryCatch:!0})+`${M}=validator.response[${B}].Encode(${M})
}catch{throw new ValidationError('response',validator.response[${B}],${M})}`:`throw new ValidationError('response',validator.response[${B}],${M})`)+"}"):(H||(G+=z()),q||(G+=`if(validator.response[${B}].Check(${M})===false)throw new ValidationError('response',validator.response[${B}],${M})
c.set.status=${B}
`)),G+=`break
`}return G+"}"}}),J4=($)=>($?.fn??$).constructor.name==="AsyncFunction",cI=/=>\s?response\.clone\(/,hI=/(?:return|=>)\s?\S+\(|a(?:sync|wait)/,S1=($)=>{let W=typeof $=="object";if(W&&$.isAsync!==void 0)return $.isAsync;let J=W?$.fn:$;if(J.constructor.name==="AsyncFunction")return!0;let X=J.toString();if(cI.test(X))return W&&($.isAsync=!1),!1;let Q=hI.test(X);return W&&($.isAsync=Q),Q},WW=($)=>{let W=typeof $=="object";if(W&&$.hasReturn!==void 0)return $.hasReturn;let J=W?$.fn.toString():typeof $=="string"?$.toString():$,X=J.indexOf(")");if(J.charCodeAt(X+2)===61&&J.charCodeAt(X+5)!==123)return W&&($.hasReturn=!0),!0;let Q=J.includes("return");return W&&($.hasReturn=Q),Q},YX=($)=>{let W=$?.fn??$;return W.constructor.name==="AsyncGeneratorFunction"||W.constructor.name==="GeneratorFunction"},q$=($,W,J=`c.${W}`)=>`try{${$}}catch(error){if(error.constructor.name === 'TransformDecodeError'){c.set.status=422
throw error.error ?? new ValidationError('${W}',validator.${W},${J})}}`,mI=({app:$,path:W,method:J,hooks:X,validator:Q,handler:Y,allowMeta:M=!1,inference:G})=>{let B=$["~adapter"].composeHandler,w=$["~adapter"].handler,q=typeof Y=="function";if(!q){Y=w.mapResponse(Y,{headers:$.setHeaders??{}});let o=Y instanceof Response||Y?.constructor?.name==="Response"&&typeof Y?.clone=="function";if(X.parse?.length&&X.transform?.length&&X.beforeHandle?.length&&X.afterHandle?.length)return o?Function("a",`"use strict";
return function(){return a.clone()}`)(Y):Function("a",`"use strict";
return function(){return a}`)(Y);if(o){let p=Y;Y=()=>p.clone()}}let H=q?"handler(c)":"handler",z=!!X.trace?.length,U="";if(G=QW(X,G),G=QW({handler:Y},G),B.declare){let o=B.declare(G);o&&(U+=o)}G.server&&(U+=`Object.defineProperty(c,'server',{get:function(){return getServer()}})
`),Q.createBody?.(),Q.createQuery?.(),Q.createHeaders?.(),Q.createParams?.(),Q.createCookie?.(),Q.createResponse?.();let N=!!Q.body||!!Q.headers||!!Q.params||!!Q.query||!!Q.cookie||!!Q.response,D=G.query||!!Q.query,j=X.parse?.length===1&&X.parse[0].fn==="none",K=J!==""&&J!=="GET"&&J!=="HEAD"&&(G.body||!!Q.body||!!X.parse?.length)&&!j,O=$.setHeaders,E=O&&!!Object.keys(O).length,m=G.headers||!!Q.headers||B.preferWebstandardHeaders!==!0&&G.body,e=G.cookie||!!Q.cookie,T=Q.cookie?.config?zM(Q?.cookie?.config,$.config.cookie):$.config.cookie,b="",x=()=>{if(b)return b;if(T?.sign){if(!T.secrets)throw new Error(`t.Cookie required secret which is not set in (${J}) ${W}.`);let o=T.secrets?typeof T.secrets=="string"?T.secrets:T.secrets[0]:void 0;if(b+=`const _setCookie = c.set.cookie
if(_setCookie){`,T.sign===!0)b+=`for(const [key, cookie] of Object.entries(_setCookie)){c.set.cookie[key].value=await signCookie(cookie.value,'${o}')}`;else for(let p of T.sign)b+=`if(_setCookie['${p}']?.value)c.set.cookie['${p}'].value=await signCookie(_setCookie['${p}'].value,'${o}')
`;b+=`}
`}return b},k=$.config.normalize,P=$.config.encodeSchema,C=yI({normalize:k,validator:Q,encodeSchema:P,isStaticResponse:Y instanceof Response,hasSanitize:!!$.config.sanitize});m&&(U+=B.headers),z&&(U+=`const id=c[ELYSIA_REQUEST_ID]
`);let d=GW({trace:X.trace,addFn:(o)=>{U+=o}});if(U+="try{",e){let o=(Z,V)=>{let S=T?.[Z]??V;return S?typeof S=="string"?`${Z}:'${S}',`:S instanceof Date?`${Z}: new Date(${S.getTime()}),`:`${Z}:${S},`:typeof V=="string"?`${Z}:"${V}",`:`${Z}:${V},`},p=T?`{secrets:${T.secrets!==void 0?typeof T.secrets=="string"?`'${T.secrets}'`:"["+T.secrets.reduce((Z,V)=>Z+`'${V}',`,"")+"]":"undefined"},sign:${T.sign===!0?!0:T.sign!==void 0?"["+T.sign.reduce((Z,V)=>Z+`'${V}',`,"")+"]":"undefined"},`+o("domain")+o("expires")+o("httpOnly")+o("maxAge")+o("path","/")+o("priority")+o("sameSite")+o("secure")+"}":"undefined";m?U+=`
c.cookie=await parseCookie(c.set,c.headers.cookie,${p})
`:U+=`
c.cookie=await parseCookie(c.set,c.request.headers.get('cookie'),${p})
`}if(D){let o={},p={},Z=!1,V=!1;if(Q.query?.schema){let S=w$(Q.query?.schema);if(F in S&&S.properties)for(let[h,l]of Object.entries(S.properties))T8("ArrayQuery",l)&&(o[h]=1,Z=!0),T8("ObjectString",l)&&(p[h]=1,V=!0)}U+=`if(c.qi===-1){c.query=Object.create(null)}else{c.query=parseQueryFromURL(c.url,c.qi+1,${Z?JSON.stringify(o):void 0},${V?JSON.stringify(p):void 0})}`}let u=typeof Y=="function"&&S1(Y),$0=z||X.afterResponse?.length?"c.response=c.responseValue= ":"",Q0=Object.keys(Q.response??{}),t=Q0.length>1,d5=Q0.length===0||Q0.length===1&&Q0[0]==="200",f6=e||K||u||!!X.parse?.length||!!X.afterHandle?.some(S1)||!!X.beforeHandle?.some(S1)||!!X.transform?.some(S1)||!!X.mapResponse?.some(S1)||Q.body?.provider==="standard"||Q.headers?.provider==="standard"||Q.query?.provider==="standard"||Q.params?.provider==="standard"||Q.cookie?.provider==="standard"||Object.values(Q.response??{}).find((o)=>o.provider==="standard"),J2=(typeof Y=="function"?YX(Y):!1)||!!X.beforeHandle?.some(YX)||!!X.afterHandle?.some(YX)||!!X.transform?.some(YX),l2=G.cookie||G.set||m||z||t||!d5||q&&E||J2,_1=()=>{if(!X.afterResponse?.length&&!z)return"";let o="",p=X.afterResponse?.some(S1)?"async ":"";o+=`
setImmediate(${p}()=>{`;let Z=GW({trace:X.trace,addFn:(V)=>{o+=V}})("afterResponse",{total:X.afterResponse?.length});if(X.afterResponse?.length&&X.afterResponse)for(let V=0;V<X.afterResponse.length;V++){let S=Z.resolveChild(X.afterResponse[V].fn.name),h=S1(X.afterResponse[V])?"await ":"";o+=`
${h}e.afterResponse[${V}](c)
`,S()}return Z.resolve(),o+=`})
`,o},B1=(o="r")=>{let p=_1(),Z=`${l2?"mapResponse":"mapCompactResponse"}(${$0}${o}${l2?",c.set":""}${G5})
`;return p?`const _res=${Z}`+p+"return _res":`return ${Z}`},G5=J2||B.mapResponseContext?`,${B.mapResponseContext}`:"";(z||G.route)&&(U+=`c.route=\`${W}\`
`);let p2=d("parse",{total:X.parse?.length});if(K){let o=!!X.parse?.length||G.body||Q.body;B.parser.declare&&(U+=B.parser.declare),U+=`
try{`;let p=typeof X.parse=="string"?X.parse:Array.isArray(X.parse)&&X.parse.length===1?typeof X.parse[0]=="string"?X.parse[0]:typeof X.parse[0].fn=="string"?X.parse[0].fn:void 0:void 0;if(!p&&Q.body&&!X.parse?.length){let Z=Q.body.schema;Z&&Z.anyOf&&Z[F]==="Union"&&Z.anyOf?.length===2&&Z.anyOf?.find((V)=>V[F]==="ElysiaForm")&&(p="formdata")}if(p&&dI.includes(p)){let Z=d("parse",{total:X.parse?.length}),V=!!Q.body?.isOptional;switch(p){case"json":case"application/json":U+=B.parser.json(V);break;case"text":case"text/plain":U+=B.parser.text(V);break;case"urlencoded":case"application/x-www-form-urlencoded":U+=B.parser.urlencoded(V);break;case"arrayBuffer":case"application/octet-stream":U+=B.parser.arrayBuffer(V);break;case"formdata":case"multipart/form-data":U+=B.parser.formData(V);break;default:p[0]in $["~parser"]&&(U+=m?"let contentType = c.headers['content-type']":"let contentType = c.request.headers.get('content-type')",U+=`
if(contentType){const index=contentType.indexOf(';')
if(index!==-1)contentType=contentType.substring(0,index)}
else{contentType=''}c.contentType=contentType
let result=parser['${p}'](c, contentType)
if(result instanceof Promise)result=await result
if(result instanceof ElysiaCustomStatusResponse)throw result
if(result!==undefined)c.body=result
delete c.contentType
`);break}Z.resolve()}else if(o){U+=`
`,U+=`let contentType
if(c.request.body)`,U+=m?`contentType=c.headers['content-type']
`:`contentType=c.request.headers.get('content-type')
`;let Z=!1;if(X.parse?.length)U+=`if(contentType){
const index=contentType.indexOf(';')

if(index!==-1)contentType=contentType.substring(0,index)}else{contentType=''}let used=false
c.contentType=contentType
`;else{Z=!0;let S=!!Q.body?.isOptional;U+=`if(contentType)switch(contentType.charCodeAt(12)){
case 106:`+B.parser.json(S)+`break
case 120:`+B.parser.urlencoded(S)+`break
case 111:`+B.parser.arrayBuffer(S)+`break
case 114:`+B.parser.formData(S)+`break
default:if(contentType.charCodeAt(0)===116){`+B.parser.text(S)+`}break
}`}let V=d("parse",{total:X.parse?.length});if(X.parse)for(let S=0;S<X.parse.length;S++){let h=`bo${S}`;if(S!==0&&(U+=`
if(!used){`),typeof X.parse[S].fn=="string"){let l=V.resolveChild(X.parse[S].fn),n=!!Q.body?.isOptional;switch(X.parse[S].fn){case"json":case"application/json":Z=!0,U+=B.parser.json(n);break;case"text":case"text/plain":Z=!0,U+=B.parser.text(n);break;case"urlencoded":case"application/x-www-form-urlencoded":Z=!0,U+=B.parser.urlencoded(n);break;case"arrayBuffer":case"application/octet-stream":Z=!0,U+=B.parser.arrayBuffer(n);break;case"formdata":case"multipart/form-data":Z=!0,U+=B.parser.formData(n);break;default:U+=`let ${h}=parser['${X.parse[S].fn}'](c,contentType)
if(${h} instanceof Promise)${h}=await ${h}
if(${h}!==undefined){c.body=${h};used=true;}
`}l()}else{let l=V.resolveChild(X.parse[S].fn.name);U+=`let ${h}=e.parse[${S}]
${h}=${h}(c,contentType)
if(${h} instanceof Promise)${h}=await ${h}
if(${h}!==undefined){c.body=${h};used=true}`,l()}if(S!==0&&(U+="}"),Z)break}if(V.resolve(),!Z){let S=!!Q.body?.isOptional;X.parse?.length&&(U+=`
if(!used){
`),U+=`switch(contentType){case 'application/json':
`+B.parser.json(S)+`break
case 'text/plain':`+B.parser.text(S)+`break
case 'application/x-www-form-urlencoded':`+B.parser.urlencoded(S)+`break
case 'application/octet-stream':`+B.parser.arrayBuffer(S)+`break
case 'multipart/form-data':`+B.parser.formData(S)+`break
`;for(let h of Object.keys($["~parser"]))U+=`case '${h}':let bo${h}=parser['${h}'](c,contentType)
if(bo${h} instanceof Promise)bo${h}=await bo${h}
if(bo${h} instanceof ElysiaCustomStatusResponse){`+B1(`bo${h}`)+`}if(bo${h}!==undefined)c.body=bo${h}
break
`;X.parse?.length&&(U+="}"),U+="}"}X.parse?.length&&(U+=`
delete c.contentType`)}U+="}catch(error){throw new ParseError(error)}"}if(p2.resolve(),X?.transform||z){let o=d("transform",{total:X.transform?.length});if(X.transform?.length){U+=`let transformed
`;for(let p=0;p<X.transform.length;p++){let Z=X.transform[p],V=o.resolveChild(Z.fn.name);U+=S1(Z)?`transformed=await e.transform[${p}](c)
`:`transformed=e.transform[${p}](c)
`,Z.subType==="mapDerive"?U+="if(transformed instanceof ElysiaCustomStatusResponse){"+B1("transformed")+`}else{transformed.request=c.request
transformed.store=c.store
transformed.qi=c.qi
transformed.path=c.path
transformed.url=c.url
transformed.redirect=c.redirect
transformed.set=c.set
transformed.error=c.error
c=transformed}`:U+="if(transformed instanceof ElysiaCustomStatusResponse){"+B1("transformed")+`}else Object.assign(c,transformed)
`,V()}}o.resolve()}let E5=[];if(Q){if(Q.headers){if(Q.headers.hasDefault)for(let[o,p]of Object.entries(n0.Default(Q.headers.schema,{}))){let Z=typeof p=="object"?JSON.stringify(p):typeof p=="string"?`'${p}'`:p;Z!==void 0&&(U+=`c.headers['${o}']??=${Z}
`)}U+=t7({name:"c.headers",schema:Q.headers,type:"headers",normalize:k}),Q.headers.isOptional&&(U+="if(isNotEmpty(c.headers)){"),Q.headers?.provider==="standard"?U+=`let vah=validator.headers.Check(c.headers)
if(vah instanceof Promise)vah=await vah
if(vah.issues){`+C.validate("headers",void 0,"vah.issues")+`}else{c.headers=vah.value}
`:Q.headers?.schema?.noValidate!==!0&&(U+="if(validator.headers.Check(c.headers) === false){"+C.validate("headers")+"}"),Q.headers.hasTransform&&(U+=q$(`c.headers=validator.headers.Decode(c.headers)
`,"headers")),Q.headers.isOptional&&(U+="}")}if(Q.params){if(Q.params.hasDefault)for(let[o,p]of Object.entries(n0.Default(Q.params.schema,{}))){let Z=typeof p=="object"?JSON.stringify(p):typeof p=="string"?`'${p}'`:p;Z!==void 0&&(U+=`c.params['${o}']??=${Z}
`)}Q.params.provider==="standard"?U+=`let vap=validator.params.Check(c.params)
if(vap instanceof Promise)vap=await vap
if(vap.issues){`+C.validate("params",void 0,"vap.issues")+`}else{c.params=vap.value}
`:Q.params?.schema?.noValidate!==!0&&(U+="if(validator.params.Check(c.params)===false){"+C.validate("params")+"}"),Q.params.hasTransform&&(U+=q$(`c.params=validator.params.Decode(c.params)
`,"params"))}if(Q.query){if(F in Q.query?.schema&&Q.query.hasDefault)for(let[o,p]of Object.entries(n0.Default(Q.query.schema,{}))){let Z=typeof p=="object"?JSON.stringify(p):typeof p=="string"?`'${p}'`:p;Z!==void 0&&(U+=`if(c.query['${o}']===undefined)c.query['${o}']=${Z}
`)}U+=t7({name:"c.query",schema:Q.query,type:"query",normalize:k}),Q.query.isOptional&&(U+="if(isNotEmpty(c.query)){"),Q.query.provider==="standard"?U+=`let vaq=validator.query.Check(c.query)
if(vaq instanceof Promise)vaq=await vaq
if(vaq.issues){`+C.validate("query",void 0,"vaq.issues")+`}else{c.query=vaq.value}
`:Q.query?.schema?.noValidate!==!0&&(U+="if(validator.query.Check(c.query)===false){"+C.validate("query")+"}"),Q.query.hasTransform&&(U+=q$(`c.query=validator.query.Decode(c.query)
`,"query"),U+=q$(`c.query=validator.query.Decode(c.query)
`,"query")),Q.query.isOptional&&(U+="}")}if(K&&Q.body){(Q.body.hasTransform||Q.body.isOptional)&&(U+=`const isNotEmptyObject=c.body&&(typeof c.body==="object"&&(isNotEmpty(c.body)||c.body instanceof ArrayBuffer))
`);let o=gI(Q.body.schema),p=!1;if(Q.body.hasDefault){let Z=n0.Default(Q.body.schema,Q.body.schema.type==="object"||w$(Q.body.schema)[F]==="Object"?{}:void 0),V=w$(Q.body.schema);if(!o&&Z&&typeof Z=="object"&&(t6("File",V)||t6("Files",V))){p=!0;for(let[h,l]of Object.entries(Z))(l==="File"||l==="Files")&&delete Z[h];z1(Z)||(Z=void 0)}let S=typeof Z=="object"?JSON.stringify(Z):typeof Z=="string"?`'${Z}'`:Z;Z!=null&&(Array.isArray(Z)?U+=`if(!c.body)c.body=${S}
`:typeof Z=="object"?U+=`c.body=Object.assign(${S},c.body)
`:U+=`c.body=${S}
`),U+=t7({name:"c.body",schema:Q.body,type:"body",normalize:k}),Q.body.provider==="standard"?U+=`let vab=validator.body.Check(c.body)
if(vab instanceof Promise)vab=await vab
if(vab.issues){`+C.validate("body",void 0,"vab.issues")+`}else{c.body=vab.value}
`:Q.body?.schema?.noValidate!==!0&&(Q.body.isOptional?U+="if(isNotEmptyObject&&validator.body.Check(c.body)===false){"+C.validate("body")+"}":U+="if(validator.body.Check(c.body)===false){"+C.validate("body")+"}")}else U+=t7({name:"c.body",schema:Q.body,type:"body",normalize:k}),Q.body.provider==="standard"?U+=`let vab=validator.body.Check(c.body)
if(vab instanceof Promise)vab=await vab
if(vab.issues){`+C.validate("body",void 0,"vab.issues")+`}else{c.body=vab.value}
`:Q.body?.schema?.noValidate!==!0&&(Q.body.isOptional?U+="if(isNotEmptyObject&&validator.body.Check(c.body)===false){"+C.validate("body")+"}":U+="if(validator.body.Check(c.body)===false){"+C.validate("body")+"}");if(Q.body.hasTransform&&(U+=q$(`if(isNotEmptyObject)c.body=validator.body.Decode(c.body)
`,"body")),o&&Q.body.schema.anyOf?.length){let Z=Object.values(Q.body.schema.anyOf);for(let V=0;V<Z.length;V++){let S=Z[V];if(t6("File",S)||t6("Files",S)){let h=v1(S,{modules:$.definitions.typebox,dynamic:!$.config.aot,models:$.definitions.type,normalize:$.config.normalize,additionalCoerce:OM(),sanitize:()=>$.config.sanitize});if(h){let l=E5.length===0,n=Object.entries(S.properties),N0=l?`
`:" else ";N0+=`if(fileUnions[${E5.length}].Check(c.body)){`;let a0="",Z5=0;for(let B5=0;B5<n.length;B5++){let[X2,t8]=n[B5];!t8.extension||t8[F]!=="File"&&t8[F]!=="Files"||(Z5&&(a0+=","),a0+=`fileType(c.body.${X2},${JSON.stringify(t8.extension)},'body.${X2}')`,Z5++)}a0&&(Z5===1?N0+=`await ${a0}
`:Z5>1&&(N0+=`await Promise.all([${a0}])
`),N0+="}",U+=N0,E5.push(h))}}}}else if(p||!o&&(t6("File",w$(Q.body.schema))||t6("Files",w$(Q.body.schema)))){let Z="",V=0;for(let[S,h]of Object.entries(w$(Q.body.schema).properties))!h.extension||h[F]!=="File"&&h[F]!=="Files"||(V&&(Z+=","),Z+=`fileType(c.body.${S},${JSON.stringify(h.extension)},'body.${S}')`,V++);V&&(U+=`
`),V===1?U+=`await ${Z}
`:V>1&&(U+=`await Promise.all([${Z}])
`)}}Q.cookie&&(Q.cookie.config=zM(Q.cookie.config,Q.cookie?.config??{}),U+=`let cookieValue={}
for(const [key,value] of Object.entries(c.cookie))cookieValue[key]=value.value
`,Q.cookie.isOptional&&(U+="if(isNotEmpty(c.cookie)){"),Q.cookie.provider==="standard"?(U+=`let vac=validator.cookie.Check(cookieValue)
if(vac instanceof Promise)vac=await vac
if(vac.issues){`+C.validate("cookie",void 0,"vac.issues")+`}else{cookieValue=vac.value}
`,U+=`for(const k of Object.keys(cookieValue))c.cookie[k].value=cookieValue[k]
`):Q.body?.schema?.noValidate!==!0&&(U+="if(validator.cookie.Check(cookieValue)===false){"+C.validate("cookie","cookieValue")+"}",Q.cookie.hasTransform&&(U+=q$("for(const [key,value] of Object.entries(validator.cookie.Decode(cookieValue))){c.cookie[key].value=value}","cookie"))),Q.cookie.isOptional&&(U+="}"))}if(X?.beforeHandle||z){let o=d("beforeHandle",{total:X.beforeHandle?.length}),p=!1;if(X.beforeHandle?.length)for(let Z=0;Z<X.beforeHandle.length;Z++){let V=X.beforeHandle[Z],S=o.resolveChild(V.fn.name),h=WW(V);if(V.subType==="resolve"||V.subType==="mapResolve")p||(p=!0,U+=`
let resolved
`),U+=S1(V)?`resolved=await e.beforeHandle[${Z}](c);
`:`resolved=e.beforeHandle[${Z}](c);
`,V.subType==="mapResolve"?U+="if(resolved instanceof ElysiaCustomStatusResponse){"+B1("resolved")+`}else{resolved.request=c.request
resolved.store=c.store
resolved.qi=c.qi
resolved.path=c.path
resolved.url=c.url
resolved.redirect=c.redirect
resolved.set=c.set
resolved.error=c.error
c=resolved}`:U+="if(resolved instanceof ElysiaCustomStatusResponse){"+B1("resolved")+`}else Object.assign(c, resolved)
`,S();else if(!h)U+=S1(V)?`await e.beforeHandle[${Z}](c)
`:`e.beforeHandle[${Z}](c)
`,S();else{if(U+=S1(V)?`be=await e.beforeHandle[${Z}](c)
`:`be=e.beforeHandle[${Z}](c)
`,S("be"),U+="if(be!==undefined){",o.resolve(),X.afterHandle?.length||z){d("handle",{name:q?Y.name:void 0}).resolve();let n=d("afterHandle",{total:X.afterHandle?.length});if(X.afterHandle?.length)for(let N0=0;N0<X.afterHandle.length;N0++){let a0=X.afterHandle[N0],Z5=WW(a0),B5=n.resolveChild(a0.fn.name);U+=`c.response = be
`,Z5?(U+=S1(a0.fn)?`af=await e.afterHandle[${N0}](c)
`:`af=e.afterHandle[${N0}](c)
`,U+=`if(af!==undefined) c.response=c.responseValue=be=af
`):U+=S1(a0.fn)?`await e.afterHandle[${N0}](c, be)
`:`e.afterHandle[${N0}](c, be)
`,B5("af")}n.resolve()}Q.response&&(U+=C.response("be"));let l=d("mapResponse",{total:X.mapResponse?.length});if(X.mapResponse?.length){U+=`c.response=c.responseValue=be
`;for(let n=0;n<X.mapResponse.length;n++){let N0=X.mapResponse[n],a0=l.resolveChild(N0.fn.name);U+=`if(mr===undefined){mr=${J4(N0)?"await ":""}e.mapResponse[${n}](c)
if(mr!==undefined)be=c.response=c.responseValue=mr}`,a0()}}l.resolve(),U+=x(),U+=`return mapEarlyResponse(${$0}be,c.set${G5})}
`}}o.resolve()}if(X.afterHandle?.length||z){let o=d("handle",{name:q?Y.name:void 0});X.afterHandle?.length?U+=u?`let r=c.response=c.responseValue=await ${H}
`:`let r=c.response=c.responseValue=${H}
`:U+=u?`let r=await ${H}
`:`let r=${H}
`,o.resolve();let p=d("afterHandle",{total:X.afterHandle?.length});if(X.afterHandle?.length)for(let V=0;V<X.afterHandle.length;V++){let S=X.afterHandle[V],h=WW(S),l=p.resolveChild(S.fn.name);h?(U+=S1(S.fn)?`af=await e.afterHandle[${V}](c)
`:`af=e.afterHandle[${V}](c)
`,l("af"),Q.response?(U+="if(af!==undefined){",p.resolve(),U+=C.response("af"),U+="c.response=c.responseValue=af}"):(U+="if(af!==undefined){",p.resolve(),U+="c.response=c.responseValue=af}")):(U+=S1(S.fn)?`await e.afterHandle[${V}](c)
`:`e.afterHandle[${V}](c)
`,l())}p.resolve(),X.afterHandle?.length&&(U+=`r=c.response
`),Q.response&&(U+=C.response()),U+=x();let Z=d("mapResponse",{total:X.mapResponse?.length});if(X.mapResponse?.length)for(let V=0;V<X.mapResponse.length;V++){let S=X.mapResponse[V],h=Z.resolveChild(S.fn.name);U+=`mr=${J4(S)?"await ":""}e.mapResponse[${V}](c)
if(mr!==undefined)r=c.response=c.responseValue=mr
`,h()}Z.resolve(),U+=B1()}else{let o=d("handle",{name:q?Y.name:void 0});if(Q.response||X.mapResponse?.length||z){U+=u?`let r=await ${H}
`:`let r=${H}
`,o.resolve(),Q.response&&(U+=C.response());let p=d("mapResponse",{total:X.mapResponse?.length});if(X.mapResponse?.length){U+=`
c.response=c.responseValue=r
`;for(let Z=0;Z<X.mapResponse.length;Z++){let V=X.mapResponse[Z],S=p.resolveChild(V.fn.name);U+=`
if(mr===undefined){mr=${J4(V)?"await ":""}e.mapResponse[${Z}](c)
if(mr!==undefined)r=c.response=c.responseValue=mr}
`,S()}}p.resolve(),U+=x(),Y instanceof Response?(U+=_1(),U+=G.set?`if(isNotEmpty(c.set.headers)||c.set.status!==200||c.set.redirect||c.set.cookie)return mapResponse(${$0}${H}.clone(),c.set${G5})
else return ${H}.clone()`:`return ${H}.clone()`,U+=`
`):U+=B1()}else if(e||z){U+=u?`let r=await ${H}
`:`let r=${H}
`,o.resolve();let p=d("mapResponse",{total:X.mapResponse?.length});if(X.mapResponse?.length){U+=`c.response=c.responseValue= r
`;for(let Z=0;Z<X.mapResponse.length;Z++){let V=X.mapResponse[Z],S=p.resolveChild(V.fn.name);U+=`if(mr===undefined){mr=${J4(V)?"await ":""}e.mapResponse[${Z}](c)
if(mr!==undefined)r=c.response=c.responseValue=mr}`,S()}}p.resolve(),U+=x()+B1()}else{o.resolve();let p=u?`await ${H}`:H;Y instanceof Response?(U+=_1(),U+=G.set?`if(isNotEmpty(c.set.headers)||c.set.status!==200||c.set.redirect||c.set.cookie)return mapResponse(${$0}${H}.clone(),c.set${G5})
else return ${H}.clone()
`:`return ${H}.clone()
`):U+=B1(p)}}if(U+=`
}catch(error){`,!f6&&X.error?.length&&(U+="return(async()=>{"),U+=`const set=c.set
if(!set.status||set.status<300)set.status=error?.status||500
`,e&&(U+=x()),z&&X.trace)for(let o=0;o<X.trace.length;o++)U+=`report${o}?.resolve(error);reportChild${o}?.(error)
`;let L2=d("error",{total:X.error?.length});if(X.error?.length){U+=`c.error=error
`,N?U+=`if(error instanceof TypeBoxError){c.code="VALIDATION"
c.set.status=422}else{c.code=error.code??error[ERROR_CODE]??"UNKNOWN"}`:U+=`c.code=error.code??error[ERROR_CODE]??"UNKNOWN"
`,U+=`let er
`,X.mapResponse?.length&&(U+=`let mep
`);for(let o=0;o<X.error.length;o++){let p=L2.resolveChild(X.error[o].fn.name);if(S1(X.error[o])?U+=`er=await e.error[${o}](c)
`:U+=`er=e.error[${o}](c)
if(er instanceof Promise)er=await er
`,p(),X.mapResponse?.length){let Z=d("mapResponse",{total:X.mapResponse?.length});for(let V=0;V<X.mapResponse.length;V++){let S=X.mapResponse[V],h=Z.resolveChild(S.fn.name);U+=`c.response=c.responseValue=er
mep=e.mapResponse[${V}](c)
if(mep instanceof Promise)er=await er
if(mep!==undefined)er=mep
`,h()}Z.resolve()}if(U+=`er=mapEarlyResponse(er,set${G5})
`,U+="if(er){",z&&X.trace){for(let Z=0;Z<X.trace.length;Z++)U+=`report${Z}.resolve()
`;L2.resolve()}U+="return er}"}}L2.resolve(),U+="return handleError(c,error,true)",!f6&&X.error?.length&&(U+="})()"),U+="}";let v6=B.inject?Object.keys(B.inject).join(",")+",":"",i2="const {handler,handleError,hooks:e, "+b1("validator,",N)+"mapResponse,mapCompactResponse,mapEarlyResponse,isNotEmpty,utils:{"+b1("parseQuery,",K)+b1("parseQueryFromURL,",D)+"},error:{"+b1("ValidationError,",N)+b1("ParseError",K)+"},fileType,schema,definitions,ERROR_CODE,"+b1("parseCookie,",e)+b1("signCookie,",e)+b1("decodeURIComponent,",D)+"ElysiaCustomStatusResponse,"+b1("ELYSIA_TRACE,",z)+b1("ELYSIA_REQUEST_ID,",z)+b1("parser,",X.parse?.length)+b1("getServer,",G.server)+b1("fileUnions,",E5.length)+v6+b1("TypeBoxError",N)+`}=hooks
const trace=e.trace
return ${f6?"async ":""}function handle(c){`;X.beforeHandle?.length&&(i2+=`let be
`),X.afterHandle?.length&&(i2+=`let af
`),X.mapResponse?.length&&(i2+=`let mr
`),M&&(i2+=`c.schema=schema
c.defs=definitions
`),U=i2+U+"}",i2="";try{return Function("hooks",`"use strict";
`+U)({handler:Y,hooks:bz(X),validator:N?Q:void 0,handleError:$.handleError,mapResponse:w.mapResponse,mapCompactResponse:w.mapCompactResponse,mapEarlyResponse:w.mapEarlyResponse,isNotEmpty:z1,utils:{parseQuery:K?U$:void 0,parseQueryFromURL:D?Q.query?.provider==="standard"?kI:GA:void 0},error:{ValidationError:N?c0:void 0,ParseError:K?SI:void 0},fileType:az,schema:$.router.history,definitions:$.definitions.type,ERROR_CODE:qX,parseCookie:e?JA:void 0,signCookie:e?wX:void 0,decodeURIComponent:D?MA.default:void 0,ElysiaCustomStatusResponse:K5,ELYSIA_TRACE:z?jX:void 0,ELYSIA_REQUEST_ID:z?BW:void 0,getServer:G.server?()=>$.getServer():void 0,fileUnions:E5.length?E5:void 0,TypeBoxError:N?B0:void 0,parser:$["~parser"],...B.inject})}catch(o){let p=bz(X);console.log("[Composer] failed to generate optimized handler"),console.log("---"),console.log({handler:typeof Y=="function"?Y.toString():Y,instruction:U,hooks:{...p,transform:p?.transform?.map?.((Z)=>Z.toString()),resolve:p?.resolve?.map?.((Z)=>Z.toString()),beforeHandle:p?.beforeHandle?.map?.((Z)=>Z.toString()),afterHandle:p?.afterHandle?.map?.((Z)=>Z.toString()),mapResponse:p?.mapResponse?.map?.((Z)=>Z.toString()),parse:p?.parse?.map?.((Z)=>Z.toString()),error:p?.error?.map?.((Z)=>Z.toString()),afterResponse:p?.afterResponse?.map?.((Z)=>Z.toString()),stop:p?.stop?.map?.((Z)=>Z.toString())},validator:Q,definitions:$.definitions.type,error:o}),console.log("---"),process.exit(1)}},BA=($,W)=>{let J="",X=GW({trace:$.event.trace,addFn:W??((Q)=>{J+=Q})})("request",{total:$.event.request?.length});if($.event.request?.length){J+="try{";for(let Q=0;Q<$.event.request.length;Q++){let Y=$.event.request[Q],M=WW(Y),G=S1(Y),B=X.resolveChild($.event.request[Q].fn.name);M?(J+=`re=mapEarlyResponse(${G?"await ":""}onRequest[${Q}](c),c.set)
`,B("re"),J+=`if(re!==undefined)return re
`):(J+=`${G?"await ":""}onRequest[${Q}](c)
`,B())}J+="}catch(error){return app.handleError(c,error,false)}"}return X.resolve(),J},wA=($,W="map")=>{let J=$.extender.higherOrderFunctions;if(!J.length)return"return "+W;let X=$["~adapter"].composeGeneralHandler,Q=W;for(let Y=0;Y<J.length;Y++)Q=`hoc[${Y}](${Q},${X.parameters})`;return`return function hocMap(${X.parameters}){return ${Q}(${X.parameters})}`},QM=($)=>{let W=$["~adapter"].composeGeneralHandler;$.router.http.build();let J=$["~adapter"].isWebStandard,X=$.event.trace?.length,Q="",Y=$.router,M=Y.http.root.WS?"const route=router.find(r.method==='GET'&&r.headers.get('upgrade')==='websocket'?'WS':r.method,p)":"const route=router.find(r.method,p)";M+=Y.http.root.ALL?`??router.find('ALL',p)
`:`
`,J&&(M+=`if(r.method==='HEAD'){const route=router.find('GET',p)
if(route){c.params=route.params
const _res=route.store.handler?route.store.handler(c):route.store.compile()(c)
if(_res)return getResponseLength(_res).then((length)=>{_res.headers.set('content-length', length)
return new Response(null,{status:_res.status,statusText:_res.statusText,headers:_res.headers})
})}}`);let G=`c.error=notFound
`;if($.event.afterResponse?.length&&!$.event.error){G=`
c.error=notFound
`;let N=$.event.afterResponse.some(S1)?"async":"";G+=`
setImmediate(${N}()=>{`;for(let D=0;D<$.event.afterResponse.length;D++){let j=$.event.afterResponse[D].fn;G+=`
${J4(j)?"await ":""}afterResponse[${D}](c)
`}G+=`})
`}$.inference.query&&(G+=`
if(c.qi===-1){c.query={}}else{c.query=parseQueryFromURL(c.url,c.qi+1)}`);let B=W.error404(!!$.event.request?.length,!!$.event.error?.length,G);M+=B.code,M+=`
c.params=route.params
if(route.store.handler)return route.store.handler(c)
return route.store.compile()(c)
`;let w="";for(let[N,D]of Object.entries(Y.static)){w+=`case'${N}':`,$.config.strictPath!==!0&&(w+=`case'${s7(N)}':`);let j=r7(N);N!==j&&(w+=`case'${j}':`),w+="switch(r.method){",(("GET"in D)||("WS"in D))&&(w+="case 'GET':",("WS"in D)&&(w+=`if(r.headers.get('upgrade')==='websocket')return ht[${D.WS}].composed(c)
`,("GET"in D)||("ALL"in D?w+=`return ht[${D.ALL}].composed(c)
`:w+=`break map
`)),("GET"in D)&&(w+=`return ht[${D.GET}].composed(c)
`)),J&&(("GET"in D)||("ALL"in D))&&!("HEAD"in D)&&(w+=`case 'HEAD':const _res=ht[${D.GET??D.ALL}].composed(c)
return getResponseLength(_res).then((length)=>{_res.headers.set('content-length', length)
return new Response(null,{status:_res.status,statusText:_res.statusText,headers:_res.headers})
})
`);for(let[K,O]of Object.entries(D))K==="ALL"||K==="GET"||K==="WS"||(w+=`case '${K}':return ht[${O}].composed(c)
`);"ALL"in D?w+=`default:return ht[${D.ALL}].composed(c)
`:w+=`default:break map
`,w+="}"}let q=!!$.event.request?.some(S1),H=W.inject?Object.keys(W.inject).join(",")+",":"";Q+=`
const {app,mapEarlyResponse,NotFoundError,randomId,handleError,status,redirect,getResponseLength,`+b1("parseQueryFromURL,",$.inference.query)+b1("ELYSIA_TRACE,",X)+b1("ELYSIA_REQUEST_ID,",X)+H+`}=data
const store=app.singleton.store
const decorator=app.singleton.decorator
const staticRouter=app.router.static.http
const ht=app.router.history
const router=app.router.http
const trace=app.event.trace?.map(x=>typeof x==='function'?x:x.fn)??[]
const notFound=new NotFoundError()
const hoc=app.extender.higherOrderFunctions.map(x=>x.fn)
`,$.event.request?.length&&(Q+=`const onRequest=app.event.request.map(x=>x.fn)
`),$.event.afterResponse?.length&&(Q+=`const afterResponse=app.event.afterResponse.map(x=>x.fn)
`),Q+=B.declare,$.event.trace?.length&&(Q+="const "+$.event.trace.map((N,D)=>`tr${D}=app.event.trace[${D}].fn`).join(",")+`
`),Q+=`${q?"async ":""}function map(${W.parameters}){`,$.event.request?.length&&(Q+=`let re
`),Q+=W.createContext($),$.event.trace?.length&&(Q+="c[ELYSIA_TRACE]=["+$.event.trace.map((N,D)=>`tr${D}(c)`).join(",")+`]
`),Q+=BA($),w&&(Q+=`
map: switch(p){
`+w+"}"),Q+=M+`}
`+wA($);let z=qA($);$.handleError=z;let U=Function("data",`"use strict";
`+Q)({app:$,mapEarlyResponse:$["~adapter"].handler.mapEarlyResponse,NotFoundError:rz,randomId:ZX,handleError:z,status:XW,redirect:DX,getResponseLength:DI,parseQueryFromURL:$.inference.query?GA:void 0,ELYSIA_TRACE:X?jX:void 0,ELYSIA_REQUEST_ID:X?BW:void 0,...W.inject});return z$&&Bun.gc(!1),U},qA=($)=>{let W=$.event,J="",X=$["~adapter"].composeError,Q=X.inject?Object.keys(X.inject).join(",")+",":"",Y=!!$.event.trace?.length;J+="const {mapResponse,ERROR_CODE,ElysiaCustomStatusResponse,"+b1("onError,",$.event.error)+b1("afterResponse,",$.event.afterResponse)+b1("trace,",$.event.trace)+b1("onMapResponse,",$.event.mapResponse)+b1("ELYSIA_TRACE,",Y)+b1("ELYSIA_REQUEST_ID,",Y)+Q+`}=inject
`,J+=`return ${$.event.error?.find(S1)||$.event.mapResponse?.find(S1)?"async ":""}function(context,error,skipGlobal){`,J+="",Y&&(J+=`const id=context[ELYSIA_REQUEST_ID]
`);let M=GW({context:"context",trace:W.trace,addFn:(H)=>{J+=H}}),G=()=>{if(!W.afterResponse?.length&&!Y)return"";let H="",z=W.afterResponse?.some(S1)?"async":"";H+=`
setImmediate(${z}()=>{`;let U=GW({context:"context",trace:W.trace,addFn:(N)=>{H+=N}})("afterResponse",{total:W.afterResponse?.length,name:"context"});if(W.afterResponse?.length&&W.afterResponse)for(let N=0;N<W.afterResponse.length;N++){let D=W.afterResponse[N].fn,j=U.resolveChild(D.name);H+=`
${J4(D)?"await ":""}afterResponse[${N}](context)
`,j()}return U.resolve(),H+=`})
`,H};J+=`const set=context.set
let _r
if(!context.code)context.code=error.code??error[ERROR_CODE]
if(!(context.error instanceof Error))context.error=error
if(error instanceof ElysiaCustomStatusResponse){set.status=error.status=error.code
error.message=error.response}`,X.declare&&(J+=X.declare);let B=Y||W.afterResponse?.length?"context.response = ":"";if($.event.error)for(let H=0;H<$.event.error.length;H++){let z=$.event.error[H],U=`${S1(z)?"await ":""}onError[${H}](context)
`;if(J+="if(skipGlobal!==true){",WW(z)){J+=`_r=${U}
if(_r!==undefined){if(_r instanceof Response){`+G()+`return mapResponse(_r,set${X.mapResponseContext})}if(_r instanceof ElysiaCustomStatusResponse){error.status=error.code
error.message = error.response}if(set.status===200||!set.status)set.status=error.status
`;let N=M("mapResponse",{total:W.mapResponse?.length,name:"context"});if(W.mapResponse?.length)for(let D=0;D<W.mapResponse.length;D++){let j=W.mapResponse[D],K=N.resolveChild(j.fn.name);J+=`context.response=context.responseValue=_r_r=${J4(j)?"await ":""}onMapResponse[${D}](context)
`,K()}N.resolve(),J+=G()+`return mapResponse(${B}_r,set${X.mapResponseContext})}`}else J+=U;J+="}"}J+=`if(error.constructor.name==="ValidationError"||error.constructor.name==="TransformDecodeError"){
if(error.error)error=error.error
set.status=error.status??422
`+G()+X.validationError+`
}
`,J+="if(error instanceof Error){"+G()+`
if(typeof error.toResponse==='function')return context.response=context.responseValue=error.toResponse()
`+X.unknownError+`
}`;let w=M("mapResponse",{total:W.mapResponse?.length,name:"context"});if(J+=`
if(!context.response)context.response=context.responseValue=error.message??error
`,W.mapResponse?.length){J+=`let mr
`;for(let H=0;H<W.mapResponse.length;H++){let z=W.mapResponse[H],U=w.resolveChild(z.fn.name);J+=`if(mr===undefined){mr=${J4(z)?"await ":""}onMapResponse[${H}](context)
if(mr!==undefined)error=context.response=context.responseValue=mr}`,U()}}w.resolve(),J+=G()+`
return mapResponse(${B}error,set${X.mapResponseContext})}`;let q=(H)=>typeof H=="function"?H:H.fn;return Function("inject",`"use strict";
`+J)({mapResponse:$["~adapter"].handler.mapResponse,ERROR_CODE:qX,ElysiaCustomStatusResponse:K5,onError:$.event.error?.map(q),afterResponse:$.event.afterResponse?.map(q),trace:$.event.trace?.map(q),onMapResponse:$.event.mapResponse?.map(q),ELYSIA_TRACE:Y?jX:void 0,ELYSIA_REQUEST_ID:Y?BW:void 0,...X.inject})},j6=($,W)=>W?$:"",dz=($,W,J,X=!1)=>{let Q="",Y=$.setHeaders,M=!!$.event.trace?.length;M&&(Q+=`const id=randomId()
`);let G=/[:*]/.test(W.path),B=`const u=request.url,s=u.indexOf('/',${$.config.handler?.standardHostname??!0?11:7}),qi=u.indexOf('?', s + 1)
`,w=J.query||!!W.hooks.query||!!W.hooks.standaloneValidator?.find((H)=>H.query)||$.event.request?.length;w&&(Q+=B);let q=J.path?G?"get path(){"+(w?"":B)+`if(qi===-1)return u.substring(s)
return u.substring(s,qi)
},`:`path:'${W.path}',`:"";Q+=j6("const c=",!X)+"{request,store,"+j6("qi,",w)+j6("params:request.params,",G)+q+j6("url:request.url,",M||J.url||w)+"redirect,status,set:{headers:"+(z1(Y)?"Object.assign({},app.setHeaders)":"Object.create(null)")+",status:200}",J.server&&(Q+=",get server(){return app.getServer()}"),M&&(Q+=",[ELYSIA_REQUEST_ID]:id");{let H="";for(let z of Object.keys($.singleton.decorator))H+=`,'${z}':decorator['${z}']`;Q+=H}return Q+=`}
`,Q},YM=($,W)=>{let J=!!$.event.trace?.length,X=!!$.extender.higherOrderFunctions.length,Q=QW(W.hooks,$.inference);Q=QW({handler:W.handler},Q);let Y="const handler=data.handler,app=data.app,store=data.store,decorator=data.decorator,redirect=data.redirect,route=data.route,mapEarlyResponse=data.mapEarlyResponse,"+j6("randomId=data.randomId,",J)+j6("ELYSIA_REQUEST_ID=data.ELYSIA_REQUEST_ID,",J)+j6("ELYSIA_TRACE=data.ELYSIA_TRACE,",J)+j6("trace=data.trace,",J)+j6("hoc=data.hoc,",X)+`status=data.status
`;$.event.request?.length&&(Y+=`const onRequest=app.event.request.map(x=>x.fn)
`),Y+=`${$.event.request?.find(S1)?"async":""} function map(request){`;let M=Q.query||!!W.hooks.query||!!W.hooks.standaloneValidator?.find((G)=>G.query);return J||M||$.event.request?.length?(Y+=dz($,W,Q),Y+=BA($),Y+="return handler(c)}"):Y+=`return handler(${dz($,W,Q,!0)})}`,Y+=wA($),Function("data",Y)({app:$,handler:W.compile?.()??W.composed,redirect:DX,status:XW,hoc:$.extender.higherOrderFunctions.map((G)=>G.fn),store:$.store,decorator:$.decorator,route:W.path,randomId:J?ZX:void 0,ELYSIA_TRACE:J?jX:void 0,ELYSIA_REQUEST_ID:J?BW:void 0,trace:J?$.event.trace?.map((G)=>G?.fn??G):void 0,mapEarlyResponse:k5})},uI=($,W,J)=>{if(typeof $=="function"||$ instanceof Blob)return;if(SM($))return()=>$;let X=T5($,J??{headers:{}});if(!W.parse?.length&&!W.transform?.length&&!W.beforeHandle?.length&&!W.afterHandle?.length)return X instanceof Promise?X.then((Q)=>{if(Q)return Q.headers.has("content-type")||Q.headers.append("content-type","text/plain"),Q.clone()}):(X.headers.has("content-type")||X.headers.append("content-type","text/plain"),()=>X.clone())},yz={open($){$.data.open?.($)},message($,W){$.data.message?.($,W)},drain($){$.data.drain?.($)},close($,W,J){$.data.close?.($,W,J)}},MX=class{constructor($,W,J=void 0){this.raw=$,this.data=W,this.body=J,this.validator=$.data?.validator,this.sendText=$.sendText.bind($),this.sendBinary=$.sendBinary.bind($),this.close=$.close.bind($),this.terminate=$.terminate.bind($),this.publishText=$.publishText.bind($),this.publishBinary=$.publishBinary.bind($),this.subscribe=$.subscribe.bind($),this.unsubscribe=$.unsubscribe.bind($),this.isSubscribed=$.isSubscribed.bind($),this.cork=$.cork.bind($),this.remoteAddress=$.remoteAddress,this.binaryType=$.binaryType,this.data=$.data,this.send=this.send.bind(this),this.ping=this.ping.bind(this),this.pong=this.pong.bind(this),this.publish=this.publish.bind(this)}send($,W){return Buffer.isBuffer($)?this.raw.send($,W):this.validator?.Check($)===!1?this.raw.send(new c0("message",this.validator,$).message):(typeof $=="object"&&($=JSON.stringify($)),this.raw.send($,W))}ping($){return Buffer.isBuffer($)?this.raw.ping($):this.validator?.Check($)===!1?this.raw.send(new c0("message",this.validator,$).message):(typeof $=="object"&&($=JSON.stringify($)),this.raw.ping($))}pong($){return Buffer.isBuffer($)?this.raw.pong($):this.validator?.Check($)===!1?this.raw.send(new c0("message",this.validator,$).message):(typeof $=="object"&&($=JSON.stringify($)),this.raw.pong($))}publish($,W,J){return Buffer.isBuffer(W)?this.raw.publish($,W,J):this.validator?.Check(W)===!1?this.raw.send(new c0("message",this.validator,W).message):(typeof W=="object"&&(W=JSON.stringify(W)),this.raw.publish($,W,J))}get readyState(){return this.raw.readyState}get id(){return this.data.id}},lI=($)=>{let W=typeof $=="function"?[$]:$;return async function(J,X){if(typeof X=="string"){let Q=X?.charCodeAt(0);if(Q===34||Q===47||Q===91||Q===123)try{X=JSON.parse(X)}catch{}else oz(X)?X=+X:X==="true"?X=!0:X==="false"?X=!1:X==="null"&&(X=null)}if(W)for(let Q=0;Q<W.length;Q++){let Y=W[Q](J,X);if(Y instanceof Promise&&(Y=await Y),Y!==void 0)return Y}return X}},pI=($)=>{let W=(J,X)=>{if(X instanceof Promise)return X.then((M)=>W(J,M));if(Buffer.isBuffer(X))return J.send(X.toString());if(X===void 0)return;let Q=(M)=>{if($?.Check(M)===!1)return J.send(new c0("message",$,M).message);if(typeof M=="object")return J.send(JSON.stringify(M));J.send(M)};if(typeof X?.next!="function")return void Q(X);let Y=X.next();if(Y instanceof Promise)return(async()=>{let M=await Y;if($?.Check(M)===!1)return J.send(new c0("message",$,M).message);if(Q(M.value),!M.done)for await(let G of X)Q(G)})();if(Q(Y.value),!Y.done)for(let M of X)Q(M)};return W},iI=/:.+?\?(?=\/|$)/,HA=($)=>{let W=iI.exec($);if(!W)return[$];let J=[],X=$.slice(0,W.index),Q=W[0].slice(0,-1),Y=$.slice(W.index+W[0].length);J.push(X.slice(0,-1)),J.push(X+Q);for(let M of HA(Y))M&&(M.startsWith("/:")||J.push(X.slice(0,-1)+M),J.push(X+Q+M));return J},SM=($)=>typeof $=="object"&&$!==null&&($.toString()==="[object HTMLBundle]"||typeof $.index=="string"),UA={GET:!0,HEAD:!0,OPTIONS:!0,DELETE:!0,PATCH:!0,POST:!0,PUT:!0},MM=($)=>{if(!$.config.aot||!$.config.systemRouter)return;let W={},J=(Q,Y)=>{let M=encodeURI(Q.path);W[M]?W[M][Q.method]||(W[M][Q.method]=Y):W[M]={[Q.method]:Y}},X=$.routeTree;for(let Q of $.router.history){if(typeof Q.handler!="function")continue;let Y=Q.method;if(Y==="GET"&&`WS_${Q.path}`in X||Y==="WS"||Q.path.charCodeAt(Q.path.length-1)===42||!(Y in UA))continue;if(Y==="ALL"){`WS_${Q.path}`in X||(W[Q.path]=Q.hooks?.config?.mount?Q.hooks.trace||$.event.trace||$.extender.higherOrderFunctions?YM($,Q):Q.hooks.mount||Q.handler:Q.handler);continue}let M,G=$.config.precompile?YM($,Q):(B)=>M?M(B):(M=YM($,Q))(B);for(let B of HA(Q.path))J({method:Y,path:B},G)}return W},H$=($,W)=>{if(!W)return $;for(let J of Object.keys(W))if($[J]!==W[J]){if(!$[J]){$[J]=W[J];continue}if($[J]&&W[J]){if(typeof $[J]=="function"||$[J]instanceof Response){$[J]=W[J];continue}$[J]={...$[J],...W[J]}}}return $},nI={...DM,name:"bun",handler:{mapResponse:T5,mapEarlyResponse:k5,mapCompactResponse:_6,createStaticHandler:xI,createNativeStaticHandler:uI},composeHandler:{...DM.composeHandler,headers:UM?`c.headers=c.request.headers.toJSON()
`:`c.headers={}
for(const [k,v] of c.request.headers.entries())c.headers[k]=v
`},listen($){return(W,J)=>{if(typeof Bun>"u")throw new Error(".listen() is designed to run on Bun only. If you are running Elysia in other environment please use a dedicated plugin or export the handler via Elysia.fetch");if($.compile(),typeof W=="string"){if(!oz(W))throw new Error("Port must be a numeric value");W=parseInt(W)}let X=(Y,{withAsync:M=!1}={})=>{let G={},B=[];for(let[w,q]of Object.entries(Y))if(w=encodeURI(w),sz){if(!q)continue;for(let[H,z]of Object.entries(q))if(!(!z||!(H in UA))){if(z instanceof Promise){M&&(G[w]||(G[w]={}),B.push(z.then((U)=>{U instanceof Response&&(G[w][H]=U),SM(U)&&(G[w][H]=U)})));continue}!(z instanceof Response)&&!SM(z)||(G[w]||(G[w]={}),G[w][H]=z)}}else{if(!q)continue;if(q instanceof Promise){M&&(G[w]||(G[w]={}),B.push(q.then((H)=>{H instanceof Response&&(G[w]=H)})));continue}if(!(q instanceof Response))continue;G[w]=q}return M?Promise.all(B).then(()=>G):G},Q=typeof W=="object"?{development:!e6,reusePort:!0,idleTimeout:30,...$.config.serve||{},...W||{},routes:H$(H$(X($.router.response),MM($)),$.config.serve?.routes),websocket:{...$.config.websocket||{},...yz||{},...W.websocket||{}},fetch:$.fetch}:{development:!e6,reusePort:!0,idleTimeout:30,...$.config.serve||{},routes:H$(H$(X($.router.response),MM($)),$.config.serve?.routes),websocket:{...$.config.websocket||{},...yz||{}},port:W,fetch:$.fetch};if($.server=Bun.serve(Q),$.event.start)for(let Y=0;Y<$.event.start.length;Y++)$.event.start[Y].fn($);J&&J($.server),process.on("beforeExit",()=>{if($.server&&($.server.stop?.(),$.server=null,$.event.stop))for(let Y=0;Y<$.event.stop.length;Y++)$.event.stop[Y].fn($)}),$.promisedModules.then(async()=>{$.server?.reload({...Q,fetch:$.fetch,routes:H$(H$(await X($.router.response,{withAsync:!0}),MM($)),$.config.serve?.routes)}),Bun?.gc(!1)})}},async stop($,W){if($.server){if($.server.stop(W),$.server=null,$.event.stop?.length)for(let J=0;J<$.event.stop.length;J++)$.event.stop[J].fn($)}else console.log("Elysia isn't running. Call `app.listen` to start the server.",new Error().stack)},ws($,W,J){let{parse:X,body:Q,response:Y,...M}=J,G=v1(Q,{modules:$.definitions.typebox,models:$.definitions.type,normalize:$.config.normalize}),B=v1(Y,{modules:$.definitions.typebox,models:$.definitions.type,normalize:$.config.normalize});$.route("WS",W,async(w)=>{let q=w.server??$.server,{set:H,path:z,qi:U,headers:N,query:D,params:j}=w;if(w.validator=B,J.upgrade)if(typeof J.upgrade=="function"){let b=J.upgrade(w);b instanceof Promise&&await b}else J.upgrade&&Object.assign(H.headers,J.upgrade);if(H.cookie&&z1(H.cookie)){let b=XA(H.cookie);b&&(H.headers["set-cookie"]=b)}H.headers["set-cookie"]&&Array.isArray(H.headers["set-cookie"])&&(H.headers=QA(new Headers(H.headers),H.headers["set-cookie"]));let K=pI(B),O=lI(X),E;if(typeof J.beforeHandle=="function"){let b=J.beforeHandle(w);b instanceof Promise&&await b}let m=[...J.error?Array.isArray(J.error)?J.error:[J.error]:[],...($.event.error??[]).map((b)=>typeof b=="function"?b:b.fn)].filter((b)=>b),e=m.length>0,T=e?async(b,x)=>{for(let k of m){let P=k(Object.assign(w,{error:x}));if(P instanceof Promise&&(P=await P),await K(b,P),P)break}}:()=>{};if(!q?.upgrade(w.request,{headers:z1(H.headers)?H.headers:void 0,data:{...w,get id(){return E||(E=ZX())},validator:B,ping(b){J.ping?.(b)},pong(b){J.pong?.(b)},open:async(b)=>{try{await K(b,J.open?.(new MX(b,w)))}catch(x){T(b,x)}},message:async(b,x)=>{let k=await O(b,x);if(G?.Check(k)===!1){let P=new c0("message",G,k);return e?T(b,P):void b.send(P.message)}try{await K(b,J.message?.(new MX(b,w,k),k))}catch(P){T(b,P)}},drain:async(b)=>{try{await K(b,J.drain?.(new MX(b,w)))}catch(x){T(b,x)}},close:async(b,x,k)=>{try{await K(b,J.close?.(new MX(b,w),x,k))}catch(P){T(b,P)}}}}))return H.status=400,"Expected a websocket connection"},{...M,websocket:J})}},cz=z$?Bun.env:typeof process<"u"&&process?.env?process.env:{},GM=($,W)=>{let J=$.schema;if(J&&(J.$defs?.[J.$ref]&&(J=J.$defs[J.$ref]),!!J?.properties))for(let[X,Q]of Object.entries(J.properties))W[X]??=Q.default},hz=($)=>{let{mapResponse:W,mapEarlyResponse:J}=$["~adapter"].handler,X=$.setHeaders;return async(Q)=>{let Y=Q.url,M=Y.indexOf("/",11),G=Y.indexOf("?",M+1),B=G===-1?Y.substring(M):Y.substring(M,G),w={cookie:{},status:200,headers:X?{...X}:{}},q=Object.assign({},$.singleton.decorator,{set:w,store:$.singleton.store,request:Q,path:B,qi:G,error:XW,status:XW,redirect:DX});try{if($.event.request)for(let k=0;k<$.event.request.length;k++){let P=$.event.request[k].fn,C=P(q);if(C instanceof Promise&&(C=await C),C=J(C,w),C)return q.response=C}let H=Q.method==="GET"&&Q.headers.get("upgrade")?.toLowerCase()==="websocket"?"WS":Q.method,z=$.router.dynamic.find(Q.method,B)??$.router.dynamic.find(H,B)??$.router.dynamic.find("ALL",B);if(!z)throw q.query=G===-1?{}:U$(Y.substring(G+1)),new rz;let{handle:U,hooks:N,validator:D,content:j,route:K}=z.store,O;if(Q.method!=="GET"&&Q.method!=="HEAD")if(j)switch(j){case"application/json":O=await Q.json();break;case"text/plain":O=await Q.text();break;case"application/x-www-form-urlencoded":O=U$(await Q.text());break;case"application/octet-stream":O=await Q.arrayBuffer();break;case"multipart/form-data":O={};let k=await Q.formData();for(let P of k.keys()){if(O[P])continue;let C=k.getAll(P);C.length===1?O[P]=C[0]:O[P]=C}break}else{let k;if(Q.body&&(k=Q.headers.get("content-type")),k){let P=k.indexOf(";");if(P!==-1&&(k=k.slice(0,P)),q.contentType=k,N.parse)for(let C=0;C<N.parse.length;C++){let d=N.parse[C].fn;if(typeof d=="string")switch(d){case"json":case"application/json":O=await Q.json();break;case"text":case"text/plain":O=await Q.text();break;case"urlencoded":case"application/x-www-form-urlencoded":O=U$(await Q.text());break;case"arrayBuffer":case"application/octet-stream":O=await Q.arrayBuffer();break;case"formdata":case"multipart/form-data":O={};let u=await Q.formData();for(let Q0 of u.keys()){if(O[Q0])continue;let t=u.getAll(Q0);t.length===1?O[Q0]=t[0]:O[Q0]=t}break;default:let $0=$["~parser"][d];if($0){let Q0=$0(q,k);if(Q0 instanceof Promise&&(Q0=await Q0),Q0){O=Q0;break}}break}else{let u=d(q,k);if(u instanceof Promise&&(u=await u),u){O=u;break}}}if(delete q.contentType,O===void 0)switch(k){case"application/json":O=await Q.json();break;case"text/plain":O=await Q.text();break;case"application/x-www-form-urlencoded":O=U$(await Q.text());break;case"application/octet-stream":O=await Q.arrayBuffer();break;case"multipart/form-data":O={};let C=await Q.formData();for(let d of C.keys()){if(O[d])continue;let u=C.getAll(d);u.length===1?O[d]=u[0]:O[d]=u}break}}}q.route=K,q.body=O,q.params=z?.params||void 0,q.query=G===-1?{}:U$(Y.substring(G+1)),q.headers={};for(let[k,P]of Q.headers.entries())q.headers[k]=P;let E={domain:$.config.cookie?.domain??D?.cookie?.config.domain,expires:$.config.cookie?.expires??D?.cookie?.config.expires,httpOnly:$.config.cookie?.httpOnly??D?.cookie?.config.httpOnly,maxAge:$.config.cookie?.maxAge??D?.cookie?.config.maxAge,path:$.config.cookie?.path??D?.cookie?.config.path,priority:$.config.cookie?.priority??D?.cookie?.config.priority,partitioned:$.config.cookie?.partitioned??D?.cookie?.config.partitioned,sameSite:$.config.cookie?.sameSite??D?.cookie?.config.sameSite,secure:$.config.cookie?.secure??D?.cookie?.config.secure,secrets:$.config.cookie?.secrets??D?.cookie?.config.secrets,sign:$.config.cookie?.sign??D?.cookie?.config.sign},m=Q.headers.get("cookie");q.cookie=await JA(q.set,m,E);let e=D?.createHeaders?.();e&&GM(e,q.headers);let T=D?.createParams?.();T&&GM(T,q.params);let b=D?.createQuery?.();if(b&&GM(b,q.query),N.transform)for(let k=0;k<N.transform.length;k++){let P=N.transform[k],C=P.fn(q);if(C instanceof Promise&&(C=await C),C instanceof K5){let d=J(C,q.set);if(d)return q.response=d}P.subType==="derive"&&Object.assign(q,C)}if(D){if(e){let k=structuredClone(q.headers);for(let[P,C]of Q.headers)k[P]=C;if(D.headers.Check(k)===!1)throw new c0("header",D.headers,k)}else D.headers?.Decode&&(q.headers=D.headers.Decode(q.headers));if(T?.Check(q.params)===!1)throw new c0("params",D.params,q.params);if(D.params?.Decode&&(q.params=D.params.Decode(q.params)),D.query?.schema){let k=D.query.schema;k.$defs?.[k.$ref]&&(k=k.$defs[k.$ref]);let P=k.properties;for(let C of Object.keys(P)){let d=P[C];(d.type==="array"||d.items?.type==="string")&&typeof q.query[C]=="string"&&q.query[C]&&(q.query[C]=q.query[C].split(","))}}if(b?.Check(q.query)===!1)throw new c0("query",D.query,q.query);if(D.query?.Decode&&(q.query=D.query.Decode(q.query)),D.createCookie?.()){let k={};for(let[P,C]of Object.entries(q.cookie))k[P]=C.value;if(D.cookie.Check(k)===!1)throw new c0("cookie",D.cookie,k);D.cookie?.Decode&&(k=D.cookie.Decode(k))}if(D.createBody?.()?.Check(O)===!1)throw new c0("body",D.body,O);D.body?.Decode&&(q.body=D.body.Decode(O))}if(N.beforeHandle)for(let k=0;k<N.beforeHandle.length;k++){let P=N.beforeHandle[k],C=P.fn(q);if(C instanceof Promise&&(C=await C),C instanceof K5){let d=J(C,q.set);if(d)return q.response=d}if(P.subType==="resolve"){Object.assign(q,C);continue}if(C!==void 0){if(q.response=C,N.afterHandle)for(let u=0;u<N.afterHandle.length;u++){let $0=N.afterHandle[u].fn(q);$0 instanceof Promise&&($0=await $0),$0&&(C=$0)}let d=J(C,q.set);if(d)return q.response=d}}let x=typeof U=="function"?U(q):U;if(x instanceof Promise&&(x=await x),N.afterHandle?.length){q.response=x;for(let k=0;k<N.afterHandle.length;k++){let P=N.afterHandle[k].fn(q);P instanceof Promise&&(P=await P);let C=P instanceof K5,d=C?P.code:w.status?typeof w.status=="string"?JW[w.status]:w.status:200;C&&(w.status=d,P=P.response);let u=D?.createResponse?.()?.[d];if(u?.Check(P)===!1)if(u?.Clean){let Q0=u.Clean(P);if(u?.Check(Q0)===!1)throw new c0("response",u,P);P=Q0}else throw new c0("response",u,P);u?.Encode&&(q.response=P=u.Encode(P)),u?.Clean&&(q.response=P=u.Clean(P));let $0=J(P,q.set);if($0!==void 0)return q.response=$0}}else{let k=x instanceof K5,P=k?x.code:w.status?typeof w.status=="string"?JW[w.status]:w.status:200;k&&(w.status=P,x=x.response);let C=D?.createResponse?.()?.[P];if(C?.Check(x)===!1)if(C?.Clean){let d=C.Clean(x);if(C?.Check(d)===!1)throw new c0("response",C,x);x=d}else throw new c0("response",C,x);C?.Encode&&(x=C.Encode(x)),C?.Clean&&(x=C.Clean(x))}if(q.set.cookie&&E?.sign){let k=E.secrets?typeof E.secrets=="string"?E.secrets:E.secrets[0]:void 0;if(E.sign===!0){if(k)for(let[P,C]of Object.entries(q.set.cookie))q.set.cookie[P].value=await wX(C.value,k)}else{let P=D?.cookie?.schema?.properties;if(k)for(let C of E.sign)C in P&&q.set.cookie[C]?.value&&(q.set.cookie[C].value=await wX(q.set.cookie[C].value,k))}}return W(q.response=x,q.set)}catch(H){let z=H instanceof dJ&&H.error?H.error:H;return $.handleError(q,z)}finally{$.event.afterResponse&&setImmediate(async()=>{for(let H of $.event.afterResponse)await H.fn(q)})}}},oI=($)=>{let{mapResponse:W}=$["~adapter"].handler;return async(J,X)=>{let Q=Object.assign(J,{error:X,code:X.code});if(Q.set=J.set,$.event.error)for(let Y=0;Y<$.event.error.length;Y++){let M=$.event.error[Y].fn(Q);if(M instanceof Promise&&(M=await M),M!=null)return J.response=W(M,J.set)}return new Response(typeof X.cause=="string"?X.cause:X.message,{headers:J.set.headers,status:X.status??500})}},zA;zA=Symbol.dispose;var sI=class ${constructor(W={}){this.server=null,this.dependencies={},this["~Prefix"]="",this["~Singleton"]=null,this["~Definitions"]=null,this["~Metadata"]=null,this["~Ephemeral"]=null,this["~Volatile"]=null,this["~Routes"]=null,this.singleton={decorator:{},store:{},derive:{},resolve:{}},this.definitions={typebox:A.Module({}),type:{},error:{}},this.extender={macro:{},higherOrderFunctions:[]},this.validator={global:null,scoped:null,local:null,getCandidate(){return!this.global&&!this.scoped&&!this.local?{body:void 0,headers:void 0,params:void 0,query:void 0,cookie:void 0,response:void 0}:i7(i7(this.global,this.scoped),this.local)}},this.standaloneValidator={global:null,scoped:null,local:null},this.event={},this.router={"~http":void 0,get http(){return this["~http"]||(this["~http"]=new Az({lazy:!0,onParam:BM.default})),this["~http"]},"~dynamic":void 0,get dynamic(){return this["~dynamic"]||(this["~dynamic"]=new Az({onParam:BM.default})),this["~dynamic"]},static:{},response:{},history:[]},this.routeTree={},this.inference={body:!1,cookie:!1,headers:!1,query:!1,set:!1,server:!1,path:!1,route:!1,url:!1},this["~parser"]={},this.handle=async(J)=>this.fetch(J),this.fetch=(J)=>(this.fetch=this.config.aot?QM(this):hz(this))(J),this.handleError=async(J,X)=>(this.handleError=this.config.aot?qA(this):oI(this))(J,X),this.listen=(J,X)=>(this["~adapter"].listen(this)(J,X),this.promisedModules.size&&xz(5000),this.promisedModules.then(()=>{xz(1000)}),this),this.stop=async(J)=>(await this["~adapter"].stop?.(this,J),this),this[zA]=()=>{this.server&&this.stop()},W.tags&&(W.detail?W.detail.tags=W.tags:W.detail={tags:W.tags}),this.config={aot:cz.ELYSIA_AOT!=="false",nativeStaticResponse:!0,systemRouter:!0,encodeSchema:!0,normalize:!0,...W,prefix:W.prefix?W.prefix.charCodeAt(0)===47?W.prefix:`/${W.prefix}`:void 0,cookie:{path:"/",...W?.cookie},experimental:W?.experimental??{},seed:W?.seed===void 0?"":W?.seed},this["~adapter"]=W.adapter??(typeof Bun<"u"?nI:DM),W?.analytic&&(W?.name||W?.seed!==void 0)&&(this.telemetry={stack:new Error().stack})}get store(){return this.singleton.store}get decorator(){return this.singleton.decorator}get routes(){return this.router.history}getGlobalRoutes(){return this.router.history}getGlobalDefinitions(){return this.definitions}getServer(){return this.server}getParent(){return null}get promisedModules(){return this._promisedModules||(this._promisedModules=new zI(console.error,()=>{})),this._promisedModules}env(W,J=cz){if(v1(W,{modules:this.definitions.typebox,dynamic:!0,additionalProperties:!0,coerce:!0,sanitize:()=>this.config.sanitize}).Check(J)===!1){let X=new c0("env",W,J);throw new Error(X.all.map((Q)=>Q.summary).join(`
`))}return this}wrap(W){return this.extender.higherOrderFunctions.push({checksum:o7(JSON.stringify({name:this.config.name,seed:this.config.seed,content:W.toString()})),fn:W}),this}get models(){let W={};for(let J of Object.keys(this.definitions.type))W[J]=v1(this.definitions.typebox.Import(J));return W.modules=this.definitions.typebox,W}add(W,J,X,Q,Y){let M=Y?.skipPrefix??!1,G=Y?.allowMeta??!1;Q??={},this.applyMacro(Q);let B=[];if(Q.standaloneValidator&&(B=B.concat(Q.standaloneValidator)),this.standaloneValidator.local&&(B=B.concat(this.standaloneValidator.local)),this.standaloneValidator.scoped&&(B=B.concat(this.standaloneValidator.scoped)),this.standaloneValidator.global&&(B=B.concat(this.standaloneValidator.global)),J!==""&&J.charCodeAt(0)!==47&&(J="/"+J),this.config.prefix&&!M&&(J=this.config.prefix+J),Q?.type)switch(Q.type){case"text":Q.type="text/plain";break;case"json":Q.type="application/json";break;case"formdata":Q.type="multipart/form-data";break;case"urlencoded":Q.type="application/x-www-form-urlencoded";break;case"arrayBuffer":Q.type="application/octet-stream";break;default:break}let w=this.validator.getCandidate(),q={body:Q?.body??w?.body,headers:Q?.headers??w?.headers,params:Q?.params??w?.params,query:Q?.query??w?.query,cookie:Q?.cookie??w?.cookie,response:Q?.response??w?.response},H=this.config.precompile===!0||typeof this.config.precompile=="object"&&this.config.precompile.compose===!0,z=()=>{let P=this.definitions.type,C=!this.config.aot,d=this.config.normalize,u=this.definitions.typebox,$0=()=>this.config.sanitize,Q0=()=>{if(q.cookie||B.find((t)=>t.cookie))return vI({modules:u,validator:q.cookie,defaultConfig:this.config.cookie,normalize:d,config:q.cookie?.config??{},dynamic:C,models:P,validators:B.map((t)=>t.cookie),sanitize:$0})};return H?{body:v1(q.body,{modules:u,dynamic:C,models:P,normalize:d,additionalCoerce:OM(),validators:B.map((t)=>t.body),sanitize:$0}),headers:v1(q.headers,{modules:u,dynamic:C,models:P,additionalProperties:!0,coerce:!0,additionalCoerce:a7(),validators:B.map((t)=>t.headers),sanitize:$0}),params:v1(q.params,{modules:u,dynamic:C,models:P,coerce:!0,additionalCoerce:a7(),validators:B.map((t)=>t.params),sanitize:$0}),query:v1(q.query,{modules:u,dynamic:C,models:P,normalize:d,coerce:!0,additionalCoerce:vz(),validators:B.map((t)=>t.query),sanitize:$0}),cookie:Q0(),response:fz(q.response,{modules:u,dynamic:C,models:P,normalize:d,validators:B.map((t)=>t.response),sanitize:$0})}:{createBody(){return this.body?this.body:this.body=v1(q.body,{modules:u,dynamic:C,models:P,normalize:d,additionalCoerce:OM(),validators:B.map((t)=>t.body),sanitize:$0})},createHeaders(){return this.headers?this.headers:this.headers=v1(q.headers,{modules:u,dynamic:C,models:P,normalize:d,additionalProperties:!d,coerce:!0,additionalCoerce:a7(),validators:B.map((t)=>t.headers),sanitize:$0})},createParams(){return this.params?this.params:this.params=v1(q.params,{modules:u,dynamic:C,models:P,normalize:d,coerce:!0,additionalCoerce:a7(),validators:B.map((t)=>t.params),sanitize:$0})},createQuery(){return this.query?this.query:this.query=v1(q.query,{modules:u,dynamic:C,models:P,normalize:d,coerce:!0,additionalCoerce:vz(),validators:B.map((t)=>t.query),sanitize:$0})},createCookie(){return this.cookie?this.cookie:this.cookie=Q0()},createResponse(){return this.response?this.response:this.response=fz(q.response,{modules:u,dynamic:C,models:P,normalize:d,validators:B.map((t)=>t.response),sanitize:$0})}}};(w.body||w.cookie||w.headers||w.params||w.query||w.response)&&(Q=$9(Q,w)),Q.tags&&(Q.detail?Q.detail.tags=Q.tags:Q.detail={tags:Q.tags}),z1(this.config.detail)&&(Q.detail=X5(Object.assign({},this.config.detail),Q.detail));let U=z1(this.event)?$9(this.event,Kz(Q)):{...MI(Kz(Q))};if(B.length&&Object.assign(U,{standaloneValidator:B}),this.config.aot===!1){let P=z();this.router.dynamic.add(W,J,{validator:P,hooks:U,content:Q?.type,handle:X,route:J});let C=r7(J,{dynamic:!0});if(J!==C&&this.router.dynamic.add(W,C,{validator:P,hooks:U,content:Q?.type,handle:X,route:J}),this.config.strictPath===!1){let d=s7(J);this.router.dynamic.add(W,d,{validator:P,hooks:U,content:Q?.type,handle:X,route:J});let u=r7(d);d!==u&&this.router.dynamic.add(W,d,{validator:P,hooks:U,content:Q?.type,handle:X,route:J})}this.router.history.push({method:W,path:J,composed:null,handler:X,compile:void 0,hooks:U});return}let N=this["~adapter"].handler,D=typeof X!="function"?()=>{let P={redirect:DX,request:this["~adapter"].isWebStandard?new Request(`http://e.ly${J}`,{method:W}):void 0,server:null,set:{headers:Object.assign({},this.setHeaders)},status:XW,store:this.store};try{this.event.request?.map((d)=>{if(typeof d.fn=="function")return d.fn(P);if(typeof d=="function")return d(P)})}catch(d){let u;P.error=d,this.event.error?.some(($0)=>{if(typeof $0.fn=="function")return u=$0.fn(P);if(typeof $0=="function")return u=$0(P)}),u!==void 0&&(X=u)}let C=N.createNativeStaticHandler?.(X,U,P.set);return C instanceof Promise?C.then((d)=>{if(d)return d}):C?.()}:void 0,j=this.config.nativeStaticResponse===!0,K=(P)=>{!j||!D||(sz?this.router.response[P]?this.router.response[P][W]=D():this.router.response[P]={[W]:D()}:this.router.response[P]=D())};K(J);let O,E=()=>O||(O=mI({app:this,path:J,method:W,hooks:U,validator:z(),handler:typeof X!="function"&&typeof N.createStaticHandler!="function"?()=>X:X,allowMeta:G,inference:this.inference})),m;if(`${W}_${J}`in this.routeTree)for(let P=0;P<this.router.history.length;P++){let C=this.router.history[P];if(C.path===J&&C.method===W){m=P;break}}else this.routeTree[`${W}_${J}`]=this.router.history.length;let e=m??this.router.history.length,T=H?E():(P)=>(this.router.history[e].composed=E())(P);m!==void 0?this.router.history[m]=Object.assign({method:W,path:J,composed:T,compile:E,handler:X,hooks:U},B.length?{standaloneValidators:B}:void 0,Q.webSocket?{websocket:Q.websocket}:void 0):this.router.history.push(Object.assign({method:W,path:J,composed:T,compile:E,handler:X,hooks:U},Q.webSocket?{websocket:Q.websocket}:void 0));let b={handler:H?T:void 0,compile(){return this.handler=E()}},x=this.router.static,k=J.indexOf(":")===-1&&J.indexOf("*")===-1;if(W==="WS"){if(k){J in x?x[J][W]=e:x[J]={[W]:e};return}this.router.http.add("WS",J,b),this.config.strictPath||this.router.http.add("WS",s7(J),b);let P=r7(J,{dynamic:!0});J!==P&&this.router.http.add("WS",P,b);return}if(k)J in x?x[J][W]=e:x[J]={[W]:e},this.config.strictPath||K(s7(J));else{if(this.router.http.add(W,J,b),!this.config.strictPath){let C=s7(J);K(C),this.router.http.add(W,C,b)}let P=r7(J,{dynamic:!0});J!==P&&(this.router.http.add(W,P,b),K(P))}}headers(W){return W?(this.setHeaders||(this.setHeaders={}),this.setHeaders=X5(this.setHeaders,W),this):this}onStart(W){return this.on("start",W),this}onRequest(W){return this.on("request",W),this}onParse(W,J){return J?this.on(W,"parse",J):typeof W=="string"?this.on("parse",this["~parser"][W]):this.on("parse",W)}parser(W,J){return this["~parser"][W]=J,this}onTransform(W,J){return J?this.on(W,"transform",J):this.on("transform",W)}resolve(W,J){J||(J=W,W={as:"local"});let X={subType:"resolve",fn:J};return this.onBeforeHandle(W,X)}mapResolve(W,J){J||(J=W,W={as:"local"});let X={subType:"mapResolve",fn:J};return this.onBeforeHandle(W,X)}onBeforeHandle(W,J){return J?this.on(W,"beforeHandle",J):this.on("beforeHandle",W)}onAfterHandle(W,J){return J?this.on(W,"afterHandle",J):this.on("afterHandle",W)}mapResponse(W,J){return J?this.on(W,"mapResponse",J):this.on("mapResponse",W)}onAfterResponse(W,J){return J?this.on(W,"afterResponse",J):this.on("afterResponse",W)}trace(W,J){J||(J=W,W={as:"local"}),Array.isArray(J)||(J=[J]);for(let X of J)this.on(W,"trace",TI(X));return this}error(W,J){switch(typeof W){case"string":return J.prototype[qX]=W,this.definitions.error[W]=J,this;case"function":return this.definitions.error=W(this.definitions.error),this}for(let[X,Q]of Object.entries(W))Q.prototype[qX]=X,this.definitions.error[X]=Q;return this}onError(W,J){return J?this.on(W,"error",J):this.on("error",W)}onStop(W){return this.on("stop",W),this}on(W,J,X){let Q;switch(typeof W){case"string":Q=W,X=J;break;case"object":Q=J,!Array.isArray(J)&&typeof J=="object"&&(X=J);break}Array.isArray(X)?X=a1(X):typeof X=="function"?X=[{fn:X}]:X=[X];let Y=X;for(let M of Y)M.scope=typeof W=="string"?"local":W?.as??"local",(Q==="resolve"||Q==="derive")&&(M.subType=Q);Q!=="trace"&&(this.inference=QW({[Q]:Y.map((M)=>M.fn)},this.inference));for(let M of Y){let G=wI(M,"global",{skipIfHasType:!0});switch(Q){case"start":this.event.start??=[],this.event.start.push(G);break;case"request":this.event.request??=[],this.event.request.push(G);break;case"parse":this.event.parse??=[],this.event.parse.push(G);break;case"transform":this.event.transform??=[],this.event.transform.push(G);break;case"derive":this.event.transform??=[],this.event.transform.push(a1(G,"derive"));break;case"beforeHandle":this.event.beforeHandle??=[],this.event.beforeHandle.push(G);break;case"resolve":this.event.beforeHandle??=[],this.event.beforeHandle.push(a1(G,"resolve"));break;case"afterHandle":this.event.afterHandle??=[],this.event.afterHandle.push(G);break;case"mapResponse":this.event.mapResponse??=[],this.event.mapResponse.push(G);break;case"afterResponse":this.event.afterResponse??=[],this.event.afterResponse.push(G);break;case"trace":this.event.trace??=[],this.event.trace.push(G);break;case"error":this.event.error??=[],this.event.error.push(G);break;case"stop":this.event.stop??=[],this.event.stop.push(G);break}}return this}as(W){return a6(this.event.parse,W),a6(this.event.transform,W),a6(this.event.beforeHandle,W),a6(this.event.afterHandle,W),a6(this.event.mapResponse,W),a6(this.event.afterResponse,W),a6(this.event.trace,W),a6(this.event.error,W),W==="scoped"?(this.validator.scoped=i7(this.validator.scoped,this.validator.local),this.validator.local=null,this.standaloneValidator.local!==null&&(this.standaloneValidator.scoped||=[],this.standaloneValidator.scoped.push(...this.standaloneValidator.local),this.standaloneValidator.local=null)):W==="global"&&(this.validator.global=i7(this.validator.global,i7(this.validator.scoped,this.validator.local)),this.validator.scoped=null,this.validator.local=null,this.standaloneValidator.local!==null&&(this.standaloneValidator.scoped||=[],this.standaloneValidator.scoped.push(...this.standaloneValidator.local),this.standaloneValidator.local=null),this.standaloneValidator.scoped!==null&&(this.standaloneValidator.global||=[],this.standaloneValidator.global.push(...this.standaloneValidator.scoped),this.standaloneValidator.scoped=null)),this}group(W,J,X){let Q=new $({...this.config,prefix:""});Q.singleton={...this.singleton},Q.definitions={...this.definitions},Q.getServer=()=>this.getServer(),Q.inference=Cz(this.inference),Q.extender={...this.extender},Q["~parser"]=this["~parser"],Q.standaloneValidator={local:[...this.standaloneValidator.local??[]],scoped:[...this.standaloneValidator.scoped??[]],global:[...this.standaloneValidator.global??[]]};let Y=typeof J=="object",M=(Y?X:J)(Q);return this.singleton=X5(this.singleton,Q.singleton),this.definitions=X5(this.definitions,Q.definitions),M.event.request?.length&&(this.event.request=[...this.event.request||[],...M.event.request||[]]),M.event.mapResponse?.length&&(this.event.mapResponse=[...this.event.mapResponse||[],...M.event.mapResponse||[]]),this.model(M.definitions.type),Object.values(Q.router.history).forEach(({method:G,path:B,handler:w,hooks:q})=>{if(B=(Y?"":this.config.prefix??"")+W+B,Y){let{body:H,headers:z,query:U,params:N,cookie:D,response:j,...K}=J,O=q,E=H||z||U||N||D||j;this.add(G,B,w,$9(K,{...O||{},error:O.error?Array.isArray(O.error)?[...O.error??[],...M.event.error??[]]:[O.error,...M.event.error??[]]:M.event.error,standaloneValidator:E?[...O.standaloneValidator??[],{body:H,headers:z,query:U,params:N,cookie:D,response:j}]:O.standaloneValidator}),void 0)}else this.add(G,B,w,$9(q,{error:M.event.error}),{skipPrefix:!0})}),this}guard(W,J){if(!J){if(typeof W=="object"){this.applyMacro(W),W.detail&&(this.config.detail?this.config.detail=X5(Object.assign({},this.config.detail),W.detail):this.config.detail=W.detail),W.tags&&(this.config.detail?this.config.detail.tags=W.tags:this.config.detail={tags:W.tags});let Y=W.as??"local";if(W.schema==="standalone"){this.standaloneValidator[Y]||(this.standaloneValidator[Y]=[]);let M=W?.response?typeof W.response=="string"||F in W.response||"~standard"in W.response?{200:W.response}:W?.response:void 0;this.standaloneValidator[Y].push({body:W.body,headers:W.headers,params:W.params,query:W.query,response:M,cookie:W.cookie})}else this.validator[Y]={body:W.body??this.validator[Y]?.body,headers:W.headers??this.validator[Y]?.headers,params:W.params??this.validator[Y]?.params,query:W.query??this.validator[Y]?.query,response:W.response??this.validator[Y]?.response,cookie:W.cookie??this.validator[Y]?.cookie};return W.parse&&this.on({as:Y},"parse",W.parse),W.transform&&this.on({as:Y},"transform",W.transform),W.derive&&this.on({as:Y},"derive",W.derive),W.beforeHandle&&this.on({as:Y},"beforeHandle",W.beforeHandle),W.resolve&&this.on({as:Y},"resolve",W.resolve),W.afterHandle&&this.on({as:Y},"afterHandle",W.afterHandle),W.mapResponse&&this.on({as:Y},"mapResponse",W.mapResponse),W.afterResponse&&this.on({as:Y},"afterResponse",W.afterResponse),W.error&&this.on({as:Y},"error",W.error),this}return this.guard({},W)}let X=new $({...this.config,prefix:""});X.singleton={...this.singleton},X.definitions={...this.definitions},X.inference=Cz(this.inference),X.extender={...this.extender},X.getServer=()=>this.getServer();let Q=J(X);return this.singleton=X5(this.singleton,X.singleton),this.definitions=X5(this.definitions,X.definitions),Q.getServer=()=>this.server,Q.event.request?.length&&(this.event.request=[...this.event.request||[],...Q.event.request||[]]),Q.event.mapResponse?.length&&(this.event.mapResponse=[...this.event.mapResponse||[],...Q.event.mapResponse||[]]),this.model(Q.definitions.type),Object.values(X.router.history).forEach(({method:Y,path:M,handler:G,hooks:B})=>{let{body:w,headers:q,query:H,params:z,cookie:U,response:N,...D}=W,j=w||q||H||z||U||N;this.add(Y,M,G,$9(D,{...B||{},error:B.error?Array.isArray(B.error)?[...B.error??[],...Q.event.error??[]]:[B.error,...Q.event.error??[]]:Q.event.error,standaloneValidator:j?[...B.standaloneValidator??[],{body:w,headers:q,query:H,params:z,cookie:U,response:N}]:B.standaloneValidator}))}),this}use(W){if(!W)return this;if(Array.isArray(W)){let J=this;for(let X of W)J=J.use(X);return J}return W instanceof Promise?(this.promisedModules.add(W.then((J)=>{if(typeof J=="function")return J(this);if(J instanceof $)return this._use(J).compile();if(J.constructor?.name==="Elysia")return this._use(J).compile();if(typeof J.default=="function")return J.default(this);if(J.default instanceof $)return this._use(J.default);if(J.constructor?.name==="Elysia")return this._use(J.default);if(J.constructor?.name==="_Elysia")return this._use(J.default);try{return this._use(J.default)}catch(X){throw console.error('Invalid plugin type. Expected Elysia instance, function, or module with "default" as Elysia instance or function that returns Elysia instance.'),X}}).then((J)=>(J&&typeof J.compile=="function"&&J.compile(),J))),this):this._use(W)}propagatePromiseModules(W){if(W.promisedModules.size<=0)return this;for(let J of W.promisedModules.promises)this.promisedModules.add(J.then((X)=>{if(!X)return;let Q=this._use(X);return Q instanceof Promise?Q.then((Y)=>{Y?Y.compile():X.compile()}):X.compile()}));return this}_use(W){if(typeof W=="function"){let Q=W(this);return Q instanceof Promise?(this.promisedModules.add(Q.then((Y)=>{if(Y instanceof $){Y.getServer=()=>this.getServer(),Y.getGlobalRoutes=()=>this.getGlobalRoutes(),Y.getGlobalDefinitions=()=>this.getGlobalDefinitions(),Y.model(this.definitions.type),Y.error(this.definitions.error);for(let{method:M,path:G,handler:B,hooks:w}of Object.values(Y.router.history))this.add(M,G,B,w,void 0);return Y===this?void 0:(this.propagatePromiseModules(Y),Y)}return typeof Y=="function"?Y(this):typeof Y.default=="function"?Y.default(this):this._use(Y)}).then((Y)=>(Y&&typeof Y.compile=="function"&&Y.compile(),Y))),this):Q}this.propagatePromiseModules(W);let J=W.config.name,X=W.config.seed;if(W.getParent=()=>this,W.getServer=()=>this.getServer(),W.getGlobalRoutes=()=>this.getGlobalRoutes(),W.getGlobalDefinitions=()=>this.getGlobalDefinitions(),W.standaloneValidator?.scoped&&(this.standaloneValidator.local?this.standaloneValidator.local=this.standaloneValidator.local.concat(W.standaloneValidator.scoped):this.standaloneValidator.local=W.standaloneValidator.scoped),W.standaloneValidator?.global&&(this.standaloneValidator.global?this.standaloneValidator.global=this.standaloneValidator.global.concat(W.standaloneValidator.global):this.standaloneValidator.global=W.standaloneValidator.global),z1(W["~parser"])&&(this["~parser"]={...W["~parser"],...this["~parser"]}),W.setHeaders&&this.headers(W.setHeaders),J){J in this.dependencies||(this.dependencies[J]=[]);let Q=X!==void 0?o7(J+JSON.stringify(X)):0;this.dependencies[J].some(({checksum:Y})=>Q===Y)||(this.extender.macro={...this.extender.macro,...W.extender.macro},this.extender.higherOrderFunctions=this.extender.higherOrderFunctions.concat(W.extender.higherOrderFunctions))}else z1(W.extender.macro)&&(this.extender.macro={...this.extender.macro,...W.extender.macro}),W.extender.higherOrderFunctions.length&&(this.extender.higherOrderFunctions=this.extender.higherOrderFunctions.concat(W.extender.higherOrderFunctions));if(W.extender.higherOrderFunctions.length){NI(this.extender.higherOrderFunctions);let Q=[];for(let Y=0;Y<this.extender.higherOrderFunctions.length;Y++){let M=this.extender.higherOrderFunctions[Y];M.checksum&&(Q.includes(M.checksum)&&(this.extender.higherOrderFunctions.splice(Y,1),Y--),Q.push(M.checksum))}Q.length=0}this.inference=NM(this.inference,W.inference),z1(W.singleton.decorator)&&this.decorate(W.singleton.decorator),z1(W.singleton.store)&&this.state(W.singleton.store),z1(W.definitions.type)&&this.model(W.definitions.type),z1(W.definitions.error)&&this.error(W.definitions.error),z1(W.extender.macro)&&(this.extender.macro={...this.extender.macro,...W.extender.macro});for(let{method:Q,path:Y,handler:M,hooks:G}of Object.values(W.router.history))this.add(Q,Y,M,G);if(J){J in this.dependencies||(this.dependencies[J]=[]);let Q=X!==void 0?o7(J+JSON.stringify(X)):0;if(this.dependencies[J].some(({checksum:Y})=>Q===Y))return this;this.dependencies[J].push(this.config?.analytic?{name:W.config.name,seed:W.config.seed,checksum:Q,dependencies:W.dependencies,stack:W.telemetry?.stack,routes:W.router.history,decorators:W.singleton,store:W.singleton.store,error:W.definitions.error,derive:W.event.transform?.filter((Y)=>Y?.subType==="derive").map((Y)=>({fn:Y.toString(),stack:new Error().stack??""})),resolve:W.event.transform?.filter((Y)=>Y?.subType==="resolve").map((Y)=>({fn:Y.toString(),stack:new Error().stack??""}))}:{name:W.config.name,seed:W.config.seed,checksum:Q,dependencies:W.dependencies}),z1(W.event)&&(this.event=Sz(this.event,jz(W.event),Q))}else z1(W.event)&&(this.event=Sz(this.event,jz(W.event)));return W.validator.global&&(this.validator.global=$9(this.validator.global,{...W.validator.global})),W.validator.scoped&&(this.validator.local=$9(this.validator.local,{...W.validator.scoped})),this}macro(W,J){if(typeof W=="string"&&!J)throw new Error("Macro function is required");return typeof W=="string"?this.extender.macro[W]=J:this.extender.macro={...this.extender.macro,...W},this}applyMacro(W,J=W,{iteration:X=0,applied:Q={}}={}){if(X>=16)return;let Y=this.extender.macro;for(let[M,G]of Object.entries(J)){if(!(M in Y))continue;let B=typeof Y[M]=="function"?Y[M](G):Y[M];if(!B||typeof Y[M]=="object"&&G===!1)return;let w=o7(M+JSON.stringify(B.seed??G));if(!(w in Q)){Q[w]=!0;for(let[q,H]of Object.entries(B))if(q!=="seed"){if(q in ZI){HI(W,q,H),delete W[M];continue}if(q==="detail"){W.detail||(W.detail={}),W.detail=X5(W.detail,H,{mergeArray:!0}),delete W[M];continue}if(q in Y){this.applyMacro(W,{[q]:H},{applied:Q,iteration:X+1}),delete W[M];continue}switch((q==="derive"||q==="resolve")&&typeof H=="function"&&(H={fn:H,subType:q}),typeof W[q]){case"function":W[q]=[W[q],H];break;case"object":Array.isArray(W[q])?W[q].push(H):W[q]=[W[q],H];break;case"undefined":W[q]=H;break}delete W[M]}}}}mount(W,J,X){if(W instanceof $||typeof W=="function"||W.length===0||W==="/"){let G=typeof W=="function"?W:W instanceof $?W.compile().fetch:J instanceof $?J.compile().fetch:typeof J=="function"?J:(()=>{throw new Error("Invalid handler")})(),B=({request:w,path:q})=>G(new Request(Oz(w.url,q),{method:w.method,headers:w.headers,signal:w.signal,credentials:w.credentials,referrerPolicy:w.referrerPolicy,duplex:w.duplex,redirect:w.redirect,mode:w.mode,keepalive:w.keepalive,integrity:w.integrity,body:w.body}));return this.route("ALL","/*",B,{parse:"none",...X,detail:{...X?.detail,hide:!0},config:{mount:G}}),this}let Q=J instanceof $?J.compile().fetch:typeof J=="function"?J:(()=>{throw new Error("Invalid handler")})(),Y=W.length-(W.endsWith("*")?1:0),M=({request:G,path:B})=>Q(new Request(Oz(G.url,B.slice(Y)||"/"),{method:G.method,headers:G.headers,signal:G.signal,credentials:G.credentials,referrerPolicy:G.referrerPolicy,duplex:G.duplex,redirect:G.redirect,mode:G.mode,keepalive:G.keepalive,integrity:G.integrity,body:G.body}));return this.route("ALL",W,M,{parse:"none",...X,detail:{...X?.detail,hide:!0},config:{mount:Q}}),this.route("ALL",W+(W.endsWith("/")?"*":"/*"),M,{parse:"none",...X,detail:{...X?.detail,hide:!0},config:{mount:Q}}),this}get(W,J,X){return this.add("GET",W,J,X),this}post(W,J,X){return this.add("POST",W,J,X),this}put(W,J,X){return this.add("PUT",W,J,X),this}patch(W,J,X){return this.add("PATCH",W,J,X),this}delete(W,J,X){return this.add("DELETE",W,J,X),this}options(W,J,X){return this.add("OPTIONS",W,J,X),this}all(W,J,X){return this.add("ALL",W,J,X),this}head(W,J,X){return this.add("HEAD",W,J,X),this}connect(W,J,X){return this.add("CONNECT",W,J,X),this}route(W,J,X,Q){return this.add(W.toUpperCase(),J,X,Q,Q?.config),this}ws(W,J){return this["~adapter"].ws?this["~adapter"].ws(this,W,J):console.warn("Current adapter doesn't support WebSocket"),this}state(W,J,X){J===void 0?(X=W,W={as:"append"},J=""):X===void 0&&(typeof W=="string"?(X=J,J=W,W={as:"append"}):typeof W=="object"&&(X=J,J=""));let{as:Q}=W;if(typeof J!="string")return this;switch(typeof X){case"object":return!X||!z1(X)?this:J?((J in this.singleton.store)?this.singleton.store[J]=X5(this.singleton.store[J],X,{override:Q==="override"}):this.singleton.store[J]=X,this):X===null?this:(this.singleton.store=X5(this.singleton.store,X,{override:Q==="override"}),this);case"function":return J?(Q==="override"||!(J in this.singleton.store))&&(this.singleton.store[J]=X):this.singleton.store=X(this.singleton.store),this;default:return(Q==="override"||!(J in this.singleton.store))&&(this.singleton.store[J]=X),this}}decorate(W,J,X){J===void 0?(X=W,W={as:"append"},J=""):X===void 0&&(typeof W=="string"?(X=J,J=W,W={as:"append"}):typeof W=="object"&&(X=J,J=""));let{as:Q}=W;if(typeof J!="string")return this;switch(typeof X){case"object":return J?((J in this.singleton.decorator)?this.singleton.decorator[J]=X5(this.singleton.decorator[J],X,{override:Q==="override"}):this.singleton.decorator[J]=X,this):X===null?this:(this.singleton.decorator=X5(this.singleton.decorator,X,{override:Q==="override"}),this);case"function":return J?(Q==="override"||!(J in this.singleton.decorator))&&(this.singleton.decorator[J]=X):this.singleton.decorator=X(this.singleton.decorator),this;default:return(Q==="override"||!(J in this.singleton.decorator))&&(this.singleton.decorator[J]=X),this}}derive(W,J){J||(J=W,W={as:"local"});let X={subType:"derive",fn:J};return this.onTransform(W,X)}model(W,J){let X=(Q)=>{let Y={};for(let M in Q)"~standard"in Q[M]||(Y[M]=Q[M]);return Y};switch(typeof W){case"object":let Q={},Y=Object.entries(W);if(!Y.length)return this;for(let[B,w]of Y)B in this.definitions.type||("~standard"in w?this.definitions.type[B]=w:(Q[B]=this.definitions.type[B]=w,Q[B].$id??=`#/components/schemas/${B}`));return this.definitions.typebox=A.Module({...this.definitions.typebox.$defs,...Q}),this;case"function":let M=W(this.definitions.type);return this.definitions.type=M,this.definitions.typebox=A.Module(X(M)),this;case"string":if(!J)break;if(this.definitions.type[W]=J,"~standard"in J)return this;let G={...J,id:J.$id??`#/components/schemas/${W}`};return this.definitions.typebox=A.Module({...this.definitions.typebox.$defs,...G}),this}return J?(this.definitions.type[W]=J,("~standard"in J)?this:(this.definitions.typebox=A.Module({...this.definitions.typebox.$defs,[W]:J}),this)):this}Ref(W){return A.Ref(W)}mapDerive(W,J){J||(J=W,W={as:"local"});let X={subType:"mapDerive",fn:J};return this.onTransform(W,X)}affix(W,J,X){if(X==="")return this;let Q=["_","-"," "],Y=(w)=>w[0].toUpperCase()+w.slice(1),M=W==="prefix"?(w,q)=>Q.includes(w.at(-1)??"")?w+q:w+Y(q):Q.includes(X.at(-1)??"")?(w,q)=>q+w:(w,q)=>q+Y(w),G=(w)=>{let q={};switch(w){case"decorator":for(let H in this.singleton.decorator)q[M(X,H)]=this.singleton.decorator[H];this.singleton.decorator=q;break;case"state":for(let H in this.singleton.store)q[M(X,H)]=this.singleton.store[H];this.singleton.store=q;break;case"model":for(let H in this.definitions.type)q[M(X,H)]=this.definitions.type[H];this.definitions.type=q;break;case"error":for(let H in this.definitions.error)q[M(X,H)]=this.definitions.error[H];this.definitions.error=q;break}},B=Array.isArray(J)?J:[J];for(let w of B.some((q)=>q==="all")?["decorator","state","model","error"]:B)G(w);return this}prefix(W,J){return this.affix("prefix",W,J)}suffix(W,J){return this.affix("suffix",W,J)}compile(){return this["~adapter"].beforeCompile?.(this),this["~adapter"].isWebStandard?(this.fetch=this.config.aot?QM(this):hz(this),typeof this.server?.reload=="function"&&this.server.reload({...this.server||{},fetch:this.fetch}),this):(typeof this.server?.reload=="function"&&this.server.reload(this.server||{}),this._handle=QM(this),this)}get modules(){return this.promisedModules}},h1=sI;var AA=`/* basic theme */
:root {
  --scalar-text-decoration: underline;
  --scalar-text-decoration-hover: underline;
}
.light-mode,
.light-mode .dark-mode {
  --scalar-background-1: #f9f9f9;
  --scalar-background-2: #f1f1f1;
  --scalar-background-3: #e7e7e7;
  --scalar-background-card: #fff;

  --scalar-color-1: #2a2f45;
  --scalar-color-2: #757575;
  --scalar-color-3: #8e8e8e;

  --scalar-color-accent: var(--scalar-color-1);
  --scalar-background-accent: var(--scalar-background-3);

  --scalar-border-color: rgba(0, 0, 0, 0.1);
}
.dark-mode {
  --scalar-background-1: #131313;
  --scalar-background-2: #1d1d1d;
  --scalar-background-3: #272727;
  --scalar-background-card: #1d1d1d;

  --scalar-color-1: rgba(255, 255, 255, 0.9);
  --scalar-color-2: rgba(255, 255, 255, 0.62);
  --scalar-color-3: rgba(255, 255, 255, 0.44);

  --scalar-color-accent: var(--scalar-color-1);
  --scalar-background-accent: var(--scalar-background-3);

  --scalar-border-color: #2a2b2a;
}
/* Document Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-hover-color: currentColor;

  --scalar-sidebar-item-active-background: var(--scalar-background-accent);
  --scalar-sidebar-color-active: var(--scalar-color-accent);

  --scalar-sidebar-search-background: transparent;
  --scalar-sidebar-search-color: var(--scalar-color-3);
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
}
/* advanced */
.light-mode .dark-mode,
.light-mode {
  --scalar-color-green: #069061;
  --scalar-color-red: #ef0006;
  --scalar-color-yellow: #edbe20;
  --scalar-color-blue: #0082d0;
  --scalar-color-orange: #fb892c;
  --scalar-color-purple: #5203d1;

  --scalar-button-1: rgba(0, 0, 0, 1);
  --scalar-button-1-hover: rgba(0, 0, 0, 0.8);
  --scalar-button-1-color: rgba(255, 255, 255, 0.9);
}
.dark-mode {
  --scalar-color-green: #00b648;
  --scalar-color-red: #dd2f2c;
  --scalar-color-yellow: #ffc90d;
  --scalar-color-blue: #4eb3ec;
  --scalar-color-orange: #ff8d4d;
  --scalar-color-purple: #b191f9;

  --scalar-button-1: rgba(255, 255, 255, 1);
  --scalar-button-1-hover: rgba(255, 255, 255, 0.9);
  --scalar-button-1-color: black;
}

.scalar-api-client__item,
.scalar-card,
.dark-mode .dark-mode.scalar-card {
  --scalar-background-1: var(--scalar-background-card);
  --scalar-background-2: var(--scalar-background-1);
  --scalar-background-3: var(--scalar-background-1);
}
.dark-mode .dark-mode.scalar-card {
  --scalar-background-3: var(--scalar-background-3);
}
.t-doc__sidebar {
  --scalar-color-green: var(--scalar-color-1);
  --scalar-color-red: var(--scalar-color-1);
  --scalar-color-yellow: var(--scalar-color-1);
  --scalar-color-blue: var(--scalar-color-1);
  --scalar-color-orange: var(--scalar-color-1);
  --scalar-color-purple: var(--scalar-color-1);
}
.light-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-blue), transparent 70%);
}
.dark-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-blue), transparent 50%);
}
`;var NA=`/* basic theme */
:root {
  --scalar-text-decoration: underline;
  --scalar-text-decoration-hover: underline;
}
.light-mode {
  --scalar-background-1: #f0f2f5;
  --scalar-background-2: #eaecf0;
  --scalar-background-3: #e0e2e6;
  --scalar-border-color: rgb(213 213 213);

  --scalar-color-1: rgb(9, 9, 11);
  --scalar-color-2: rgb(113, 113, 122);
  --scalar-color-3: rgba(25, 25, 28, 0.5);

  --scalar-color-accent: var(--scalar-color-1);
  --scalar-background-accent: #8ab4f81f;
}
.light-mode .scalar-card.dark-mode,
.dark-mode {
  --scalar-background-1: #000e23;
  --scalar-background-2: #01132e;
  --scalar-background-3: #03193b;
  --scalar-border-color: #2e394c;

  --scalar-color-1: #fafafa;
  --scalar-color-2: rgb(161, 161, 170);
  --scalar-color-3: rgba(255, 255, 255, 0.533);

  --scalar-color-accent: var(--scalar-color-1);
  --scalar-background-accent: #8ab4f81f;

  --scalar-code-language-color-supersede: var(--scalar-color-1);
}
/* Document Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-hover-color: currentColor;

  --scalar-sidebar-item-active-background: var(--scalar-background-3);
  --scalar-sidebar-color-active: var(--scalar-color-accent);

  --scalar-sidebar-search-background: rgba(255, 255, 255, 0.1);
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
  --scalar-sidebar-search-color: var(--scalar-color-3);
  z-index: 1;
}
.light-mode .t-doc__sidebar {
  --scalar-sidebar-search-background: white;
}
/* advanced */
.light-mode {
  --scalar-color-green: #069061;
  --scalar-color-red: #ef0006;
  --scalar-color-yellow: #edbe20;
  --scalar-color-blue: #0082d0;
  --scalar-color-orange: #fb892c;
  --scalar-color-purple: #5203d1;

  --scalar-button-1: rgba(0, 0, 0, 1);
  --scalar-button-1-hover: rgba(0, 0, 0, 0.8);
  --scalar-button-1-color: rgba(255, 255, 255, 0.9);
}
.dark-mode {
  --scalar-color-green: rgba(69, 255, 165, 0.823);
  --scalar-color-red: #ff8589;
  --scalar-color-yellow: #ffcc4d;
  --scalar-color-blue: #6bc1fe;
  --scalar-color-orange: #f98943;
  --scalar-color-purple: #b191f9;

  --scalar-button-1: rgba(255, 255, 255, 1);
  --scalar-button-1-hover: rgba(255, 255, 255, 0.9);
  --scalar-button-1-color: black;
}
/* Custom theme */
/* Document header */
@keyframes headerbackground {
  from {
    background: transparent;
    backdrop-filter: none;
  }
  to {
    background: var(--header-background-1);
    backdrop-filter: blur(12px);
  }
}
.dark-mode h2.t-editor__heading,
.dark-mode .t-editor__page-title h1,
.dark-mode h1.section-header:not(::selection),
.dark-mode .markdown h1,
.dark-mode .markdown h2,
.dark-mode .markdown h3,
.dark-mode .markdown h4,
.dark-mode .markdown h5,
.dark-mode .markdown h6 {
  -webkit-text-fill-color: transparent;
  background-image: linear-gradient(to right bottom, rgb(255, 255, 255) 30%, rgba(255, 255, 255, 0.38));
  -webkit-background-clip: text;
  background-clip: text;
}
/* Hero Section Flare */
.section-flare-item:nth-of-type(1) {
  --c1: #ffffff;
  --c2: #babfd8;
  --c3: #2e8bb2;
  --c4: #1a8593;
  --c5: #0a143e;
  --c6: #0a0f52;
  --c7: #2341b8;

  --solid: var(--c1), var(--c2), var(--c3), var(--c4), var(--c5), var(--c6), var(--c7);
  --solid-wrap: var(--solid), var(--c1);
  --trans:
    var(--c1), transparent, var(--c2), transparent, var(--c3),
    transparent, var(--c4), transparent, var(--c5), transparent, var(--c6),
    transparent, var(--c7);
  --trans-wrap: var(--trans), transparent, var(--c1);

  background: radial-gradient(circle, var(--trans)), conic-gradient(from 180deg, var(--trans-wrap)),
    radial-gradient(circle, var(--trans)), conic-gradient(var(--solid-wrap));
  width: 70vw;
  height: 700px;
  border-radius: 50%;
  filter: blur(100px);
  z-index: 0;
  right: 0;
  position: absolute;
  transform: rotate(-45deg);
  top: -300px;
  opacity: 0.3;
}
.section-flare-item:nth-of-type(3) {
  --star-color: #6b9acc;
  --star-color2: #446b8d;
  --star-color3: #3e5879;
  background-image: radial-gradient(2px 2px at 20px 30px, var(--star-color2), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 40px 70px, var(--star-color), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 50px 160px, var(--star-color3), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 90px 40px, var(--star-color), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 130px 80px, var(--star-color), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 160px 120px, var(--star-color3), rgba(0, 0, 0, 0));
  background-repeat: repeat;
  background-size: 200px 200px;
  width: 100%;
  height: 100%;
  mask-image: radial-gradient(ellipse at 100% 0%, black 40%, transparent 70%);
}
.section-flare {
  top: -150px !important;
  height: 100vh;
  background: linear-gradient(#000, var(--scalar-background-1));
  width: 100vw;
  overflow-x: hidden;
}
.light-mode .section-flare {
  display: none;
}
.light-mode .scalar-card {
  --scalar-background-1: #fff;
  --scalar-background-2: #fff;
  --scalar-background-3: #fff;
}

*::selection {
  background-color: color-mix(in srgb, var(--scalar-color-blue), transparent 60%);
}
`;var DA=`/* basic theme */
:root {
  --scalar-text-decoration: underline;
  --scalar-text-decoration-hover: underline;
}
.light-mode {
  --scalar-color-1: rgb(9, 9, 11);
  --scalar-color-2: rgb(113, 113, 122);
  --scalar-color-3: rgba(25, 25, 28, 0.5);
  --scalar-color-accent: var(--scalar-color-1);

  --scalar-background-1: #fff;
  --scalar-background-2: #f4f4f5;
  --scalar-background-3: #e3e3e6;
  --scalar-background-accent: #8ab4f81f;

  --scalar-border-color: rgb(228, 228, 231);
  --scalar-code-language-color-supersede: var(--scalar-color-1);
}
.dark-mode {
  --scalar-color-1: #fafafa;
  --scalar-color-2: rgb(161, 161, 170);
  --scalar-color-3: rgba(255, 255, 255, 0.533);
  --scalar-color-accent: var(--scalar-color-1);

  --scalar-background-1: #09090b;
  --scalar-background-2: #18181b;
  --scalar-background-3: #2c2c30;
  --scalar-background-accent: #8ab4f81f;

  --scalar-border-color: rgba(255, 255, 255, 0.16);
  --scalar-code-language-color-supersede: var(--scalar-color-1);
}

/* Document Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-color: currentColor;
  --scalar-sidebar-item-hover-background: var(--scalar-background-2);

  --scalar-sidebar-item-active-background: var(--scalar-background-3);
  --scalar-sidebar-color-active: var(--scalar-color-accent);

  --scalar-sidebar-search-background: transparent;
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
  --scalar-sidebar-search-color: var(--scalar-color-3);
}
.light-mode .t-doc__sidebar {
  --scalar-sidebar-item-active-background: var(--scalar-background-2);
}
/* advanced */
.light-mode {
  --scalar-color-green: #069061;
  --scalar-color-red: #ef0006;
  --scalar-color-yellow: #edbe20;
  --scalar-color-blue: #0082d0;
  --scalar-color-orange: #fb892c;
  --scalar-color-purple: #5203d1;

  --scalar-button-1: rgba(0, 0, 0, 1);
  --scalar-button-1-hover: rgba(0, 0, 0, 0.8);
  --scalar-button-1-color: rgba(255, 255, 255, 0.9);
}
.dark-mode {
  --scalar-color-green: rgba(69, 255, 165, 0.823);
  --scalar-color-red: #ff8589;
  --scalar-color-yellow: #ffcc4d;
  --scalar-color-blue: #6bc1fe;
  --scalar-color-orange: #f98943;
  --scalar-color-purple: #b191f9;

  --scalar-button-1: rgba(255, 255, 255, 1);
  --scalar-button-1-hover: rgba(255, 255, 255, 0.9);
  --scalar-button-1-color: black;
}
/* Custom theme */
.dark-mode h2.t-editor__heading,
.dark-mode .t-editor__page-title h1,
.dark-mode h1.section-header:not(::selection),
.dark-mode .markdown h1,
.dark-mode .markdown h2,
.dark-mode .markdown h3,
.dark-mode .markdown h4,
.dark-mode .markdown h5,
.dark-mode .markdown h6 {
  -webkit-text-fill-color: transparent;
  background-image: linear-gradient(to right bottom, rgb(255, 255, 255) 30%, rgba(255, 255, 255, 0.38));
  -webkit-background-clip: text;
  background-clip: text;
}
.examples .scalar-card-footer {
  --scalar-background-3: transparent;
  padding-top: 0;
}
/* Hero section flare */
.section-flare {
  width: 100vw;
  height: 550px;
  position: absolute;
}
.section-flare-item:nth-of-type(1) {
  position: absolute;
  width: 100vw;
  height: 550px;
  --stripesDark: repeating-linear-gradient(100deg, #000 0%, #000 7%, transparent 10%, transparent 12%, #000 16%);
  --rainbow: repeating-linear-gradient(100deg, #fff 10%, #fff 16%, #fff 22%, #fff 30%);
  background-image: var(--stripesDark), var(--rainbow);
  background-size: 300%, 200%;
  background-position: 50% 50%, 50% 50%;
  filter: invert(100%);
  -webkit-mask-image: radial-gradient(ellipse at 100% 0%, black 40%, transparent 70%);
  mask-image: radial-gradient(ellipse at 100% 0%, black 40%, transparent 70%);
  pointer-events: none;
  opacity: 0.07;
}
.dark-mode .section-flare-item:nth-of-type(1) {
  background-image: var(--stripesDark), var(--rainbow);
  filter: opacity(50%) saturate(200%);
  opacity: 0.25;
  height: 350px;
}
.section-flare-item:nth-of-type(1):after {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-image: var(--stripesDark), var(--rainbow);
  background-size: 200%, 100%;
  background-attachment: fixed;
  mix-blend-mode: difference;
}
.dark-mode .section-flare:after {
  background-image: var(--stripesDark), var(--rainbow);
}
.section-flare-item:nth-of-type(2) {
  --star-color: #fff;
  --star-color2: #fff;
  --star-color3: #fff;
  width: 100%;
  height: 100%;
  position: absolute;
  background-image: radial-gradient(2px 2px at 20px 30px, var(--star-color2), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 40px 70px, var(--star-color), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 50px 160px, var(--star-color3), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 90px 40px, var(--star-color), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 130px 80px, var(--star-color), rgba(0, 0, 0, 0)),
    radial-gradient(2px 2px at 160px 120px, var(--star-color3), rgba(0, 0, 0, 0));
  background-repeat: repeat;
  background-size: 200px 200px;
  mask-image: radial-gradient(ellipse at 100% 0%, black 40%, transparent 70%);
  opacity: 0.2;
}
.light-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-blue), transparent 70%);
}
.dark-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-blue), transparent 50%);
}
`;var ZA=`/* basic theme */
.light-mode {
  --scalar-background-1: #fff;
  --scalar-background-2: #f6f6f6;
  --scalar-background-3: #e7e7e7;
  --scalar-background-accent: #8ab4f81f;

  --scalar-color-1: #2a2f45;
  --scalar-color-2: #757575;
  --scalar-color-3: #8e8e8e;

  --scalar-color-accent: #0099ff;
  --scalar-border-color: #dfdfdf;
}
.dark-mode {
  --scalar-background-1: #0f0f0f;
  --scalar-background-2: #1a1a1a;
  --scalar-background-3: #272727;

  --scalar-color-1: #e7e7e7;
  --scalar-color-2: #a4a4a4;
  --scalar-color-3: #797979;

  --scalar-color-accent: #3ea6ff;
  --scalar-background-accent: #3ea6ff1f;

  --scalar-border-color: #2d2d2d;
}
/* Document Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-hover-color: currentColor;

  --scalar-sidebar-item-active-background: var(--scalar-background-2);
  --scalar-sidebar-color-active: var(--scalar-color-1);

  --scalar-sidebar-indent-border: var(--scalar-sidebar-border-color);
  --scalar-sidebar-indent-border-hover: var(--scalar-sidebar-border-color);
  --scalar-sidebar-indent-border-active: var(--scalar-sidebar-border-color);

  --scalar-sidebar-search-background: transparent;
  --scalar-sidebar-search-color: var(--scalar-color-3);
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
}
/* advanced */
.light-mode {
  --scalar-color-green: #069061;
  --scalar-color-red: #ef0006;
  --scalar-color-yellow: #edbe20;
  --scalar-color-blue: #0082d0;
  --scalar-color-orange: #fb892c;
  --scalar-color-purple: #5203d1;

  --scalar-button-1: rgba(0, 0, 0, 1);
  --scalar-button-1-hover: rgba(0, 0, 0, 0.8);
  --scalar-button-1-color: rgba(255, 255, 255, 0.9);

  --scalar-color-danger: color-mix(in srgb, var(--scalar-color-red), var(--scalar-color-1) 20%);

  --scalar-background-alert: color-mix(in srgb, var(--scalar-color-orange), var(--scalar-background-1) 95%);
  --scalar-background-danger: color-mix(in srgb, var(--scalar-color-red), var(--scalar-background-1) 95%);
}
.dark-mode {
  --scalar-color-green: #00b648;
  --scalar-color-red: #dc1b19;
  --scalar-color-yellow: #ffc90d;
  --scalar-color-blue: #4eb3ec;
  --scalar-color-orange: #ff8d4d;
  --scalar-color-purple: #b191f9;

  --scalar-button-1: rgba(255, 255, 255, 1);
  --scalar-button-1-hover: rgba(255, 255, 255, 0.9);
  --scalar-button-1-color: black;

  --scalar-color-danger: color-mix(in srgb, var(--scalar-color-red), var(--scalar-background-1) 20%);

  --scalar-background-alert: color-mix(in srgb, var(--scalar-color-orange), var(--scalar-background-1) 95%);
  --scalar-background-danger: color-mix(in srgb, var(--scalar-color-red), var(--scalar-background-1) 95%);
}
@supports (color: color(display-p3 1 1 1)) {
  .light-mode {
    --scalar-color-accent: color(display-p3 0.0 0.6 1.0 / 1.0);
    --scalar-color-green: color(display-p3 0.023529 0.564706 0.380392 / 1.0);
    --scalar-color-red: color(display-p3 0.937255 0.0 0.023529 / 1.0);
    --scalar-color-yellow: color(display-p3 0.929412 0.745098 0.12549 / 1.0);
    --scalar-color-blue: color(display-p3 0.0 0.509804 0.815686 / 1.0);
    --scalar-color-orange: color(display-p3 0.984314 0.537255 0.172549 / 1.0);
    --scalar-color-purple: color(display-p3 0.321569 0.011765 0.819608 / 1.0);
  }
  .dark-mode {
    --scalar-color-accent: color(display-p3 0.243137 0.65098 1.0 / 1.0);
    --scalar-color-green: color(display-p3 0.0 0.713725 0.282353 / 1.0);
    --scalar-color-red: color(display-p3 0.862745 0.105882 0.098039 / 1.0);
    --scalar-color-yellow: color(display-p3 1.0 0.788235 0.05098 / 1.0);
    --scalar-color-blue: color(display-p3 0.305882 0.701961 0.92549 / 1.0);
    --scalar-color-orange: color(display-p3 1.0 0.552941 0.301961 / 1.0);
    --scalar-color-purple: color(display-p3 0.694118 0.568627 0.976471 / 1.0);
  }
}
`;var LX=`.light-mode {
  --scalar-color-1: #2a2f45;
  --scalar-color-2: #757575;
  --scalar-color-3: #8e8e8e;
  --scalar-color-accent: #f06292;

  --scalar-background-1: #fff;
  --scalar-background-2: #f6f6f6;
  --scalar-background-3: #e7e7e7;

  --scalar-border-color: rgba(0, 0, 0, 0.1);
}
.dark-mode {
  --scalar-color-1: rgba(255, 255, 255, 0.9);
  --scalar-color-2: rgba(156, 163, 175, 1);
  --scalar-color-3: rgba(255, 255, 255, 0.44);
  --scalar-color-accent: #f06292;

  --scalar-background-1: #111728;
  --scalar-background-2: #1e293b;
  --scalar-background-3: #334155;
  --scalar-background-accent: #f062921f;

  --scalar-border-color: rgba(255, 255, 255, 0.1);
}

/* Document Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-hover-color: currentColor;

  --scalar-sidebar-item-active-background: #f062921f;
  --scalar-sidebar-color-active: var(--scalar-color-accent);

  --scalar-sidebar-search-background: transparent;
  --scalar-sidebar-search-color: var(--scalar-color-3);
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
}

/* advanced */
.light-mode {
  --scalar-button-1: rgb(49 53 56);
  --scalar-button-1-color: #fff;
  --scalar-button-1-hover: rgb(28 31 33);

  --scalar-color-green: #069061;
  --scalar-color-red: #ef0006;
  --scalar-color-yellow: #edbe20;
  --scalar-color-blue: #0082d0;
  --scalar-color-orange: #fb892c;
  --scalar-color-purple: #5203d1;

  --scalar-scrollbar-color: rgba(0, 0, 0, 0.18);
  --scalar-scrollbar-color-active: rgba(0, 0, 0, 0.36);
}
.dark-mode {
  --scalar-button-1: #f6f6f6;
  --scalar-button-1-color: #000;
  --scalar-button-1-hover: #e7e7e7;

  --scalar-color-green: #a3ffa9;
  --scalar-color-red: #ffa3a3;
  --scalar-color-yellow: #fffca3;
  --scalar-color-blue: #a5d6ff;
  --scalar-color-orange: #e2ae83;
  --scalar-color-purple: #d2a8ff;

  --scalar-scrollbar-color: rgba(255, 255, 255, 0.24);
  --scalar-scrollbar-color-active: rgba(255, 255, 255, 0.48);
}
.section-flare {
  width: 100%;
  height: 400px;
  position: absolute;
}
.section-flare-item:first-of-type:before {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  --stripes: repeating-linear-gradient(100deg, #fff 0%, #fff 0%, transparent 2%, transparent 12%, #fff 17%);
  --stripesDark: repeating-linear-gradient(100deg, #000 0%, #000 0%, transparent 10%, transparent 12%, #000 17%);
  --rainbow: repeating-linear-gradient(100deg, #60a5fa 10%, #e879f9 16%, #5eead4 22%, #60a5fa 30%);
  contain: strict;
  contain-intrinsic-size: 100vw 40vh;
  background-image: var(--stripesDark), var(--rainbow);
  background-size: 300%, 200%;
  background-position: 50% 50%, 50% 50%;
  filter: opacity(20%) saturate(200%);
  -webkit-mask-image: radial-gradient(ellipse at 100% 0%, black 40%, transparent 70%);
  mask-image: radial-gradient(ellipse at 100% 0%, black 40%, transparent 70%);
  pointer-events: none;
}
.section-flare-item:first-of-type:after {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-image: var(--stripes), var(--rainbow);
  background-size: 200%, 100%;
  background-attachment: fixed;
  mix-blend-mode: difference;
  background-image: var(--stripesDark), var(--rainbow);
  pointer-events: none;
}
.light-mode .section-flare-item:first-of-type:after,
.light-mode .section-flare-item:first-of-type:before {
  background-image: var(--stripes), var(--rainbow);
  filter: opacity(4%) saturate(200%);
}
`;var OA=`.light-mode {
  color-scheme: light;
  --scalar-color-1: #1c1e21;
  --scalar-color-2: #757575;
  --scalar-color-3: #8e8e8e;
  --scalar-color-disabled: #b4b1b1;
  --scalar-color-ghost: #a7a7a7;
  --scalar-color-accent: #2f8555;
  --scalar-background-1: #fff;
  --scalar-background-2: #f5f5f5;
  --scalar-background-3: #ededed;
  --scalar-background-4: rgba(0, 0, 0, 0.06);
  --scalar-background-accent: #2f85551f;

  --scalar-border-color: rgba(0, 0, 0, 0.1);
  --scalar-scrollbar-color: rgba(0, 0, 0, 0.18);
  --scalar-scrollbar-color-active: rgba(0, 0, 0, 0.36);
  --scalar-lifted-brightness: 1;
  --scalar-backdrop-brightness: 1;

  --scalar-shadow-1: 0 1px 3px 0 rgba(0, 0, 0, 0.11);
  --scalar-shadow-2: rgba(0, 0, 0, 0.08) 0px 13px 20px 0px, rgba(0, 0, 0, 0.08) 0px 3px 8px 0px, #eeeeed 0px 0 0 1px;

  --scalar-button-1: rgb(49 53 56);
  --scalar-button-1-color: #fff;
  --scalar-button-1-hover: rgb(28 31 33);

  --scalar-color-green: #007300;
  --scalar-color-red: #af272b;
  --scalar-color-yellow: #b38200;
  --scalar-color-blue: #3b8ba5;
  --scalar-color-orange: #fb892c;
  --scalar-color-purple: #5203d1;
}

.dark-mode {
  color-scheme: dark;
  --scalar-color-1: rgba(255, 255, 255, 0.9);
  --scalar-color-2: rgba(255, 255, 255, 0.62);
  --scalar-color-3: rgba(255, 255, 255, 0.44);
  --scalar-color-disabled: rgba(255, 255, 255, 0.34);
  --scalar-color-ghost: rgba(255, 255, 255, 0.26);
  --scalar-color-accent: #27c2a0;
  --scalar-background-1: #1b1b1d;
  --scalar-background-2: #242526;
  --scalar-background-3: #3b3b3b;
  --scalar-background-4: rgba(255, 255, 255, 0.06);
  --scalar-background-accent: #27c2a01f;

  --scalar-border-color: rgba(255, 255, 255, 0.1);
  --scalar-scrollbar-color: rgba(255, 255, 255, 0.24);
  --scalar-scrollbar-color-active: rgba(255, 255, 255, 0.48);
  --scalar-lifted-brightness: 1.45;
  --scalar-backdrop-brightness: 0.5;

  --scalar-shadow-1: 0 1px 3px 0 rgb(0, 0, 0, 0.1);
  --scalar-shadow-2: rgba(15, 15, 15, 0.2) 0px 3px 6px, rgba(15, 15, 15, 0.4) 0px 9px 24px, 0 0 0 1px
    rgba(255, 255, 255, 0.1);

  --scalar-button-1: #f6f6f6;
  --scalar-button-1-color: #000;
  --scalar-button-1-hover: #e7e7e7;

  --scalar-color-green: #26b226;
  --scalar-color-red: #fb565b;
  --scalar-color-yellow: #ffc426;
  --scalar-color-blue: #6ecfef;
  --scalar-color-orange: #ff8d4d;
  --scalar-color-purple: #b191f9;
}
`;var SA=`/* basic theme */
.light-mode {
  --scalar-color-1: #2a2f45;
  --scalar-color-2: #757575;
  --scalar-color-3: #8e8e8e;
  --scalar-color-accent: #7070ff;

  --scalar-background-1: #fff;
  --scalar-background-2: #f6f6f6;
  --scalar-background-3: #e7e7e7;
  --scalar-background-accent: #7070ff1f;

  --scalar-border-color: rgba(0, 0, 0, 0.1);

  --scalar-code-language-color-supersede: var(--scalar-color-3);
}
.dark-mode {
  --scalar-color-1: #f7f8f8;
  --scalar-color-2: rgb(180, 188, 208);
  --scalar-color-3: #b4bcd099;
  --scalar-color-accent: #828fff;

  --scalar-background-1: #000212;
  --scalar-background-2: #0d0f1e;
  --scalar-background-3: #232533;
  --scalar-background-accent: #8ab4f81f;

  --scalar-border-color: #313245;
  --scalar-code-language-color-supersede: var(--scalar-color-3);
}
/* Document Sidebar */
.light-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-item-hover-color: currentColor;
  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-active-background: var(--scalar-background-accent);
  --scalar-sidebar-border-color: var(--scalar-border-color);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-color-active: var(--scalar-color-accent);
  --scalar-sidebar-search-background: rgba(0, 0, 0, 0.05);
  --scalar-sidebar-search-border-color: 1px solid rgba(0, 0, 0, 0.05);
  --scalar-sidebar-search-color: var(--scalar-color-3);
  --scalar-background-2: rgba(0, 0, 0, 0.03);
}
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-item-hover-color: currentColor;
  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-active-background: rgba(255, 255, 255, 0.1);
  --scalar-sidebar-border-color: var(--scalar-border-color);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-color-active: var(--scalar-color-accent);
  --scalar-sidebar-search-background: rgba(255, 255, 255, 0.1);
  --scalar-sidebar-search-border-color: 1px solid rgba(255, 255, 255, 0.05);
  --scalar-sidebar-search-color: var(--scalar-color-3);
}
/* advanced */
.light-mode {
  --scalar-color-green: #069061;
  --scalar-color-red: #ef0006;
  --scalar-color-yellow: #edbe20;
  --scalar-color-blue: #0082d0;
  --scalar-color-orange: #fb892c;
  --scalar-color-purple: #5203d1;

  --scalar-button-1: rgba(0, 0, 0, 1);
  --scalar-button-1-hover: rgba(0, 0, 0, 0.8);
  --scalar-button-1-color: rgba(255, 255, 255, 0.9);
}
.dark-mode {
  --scalar-color-green: #00b648;
  --scalar-color-red: #dc1b19;
  --scalar-color-yellow: #ffc90d;
  --scalar-color-blue: #4eb3ec;
  --scalar-color-orange: #ff8d4d;
  --scalar-color-purple: #b191f9;

  --scalar-button-1: rgba(255, 255, 255, 1);
  --scalar-button-1-hover: rgba(255, 255, 255, 0.9);
  --scalar-button-1-color: black;
}
/* Custom Theme */
.dark-mode h2.t-editor__heading,
.dark-mode .t-editor__page-title h1,
.dark-mode h1.section-header:not(::selection),
.dark-mode .markdown h1,
.dark-mode .markdown h2,
.dark-mode .markdown h3,
.dark-mode .markdown h4,
.dark-mode .markdown h5,
.dark-mode .markdown h6 {
  -webkit-text-fill-color: transparent;
  background-image: linear-gradient(to right bottom, rgb(255, 255, 255) 30%, rgba(255, 255, 255, 0.38));
  -webkit-background-clip: text;
  background-clip: text;
}
.sidebar-search {
  backdrop-filter: blur(12px);
}
@keyframes headerbackground {
  from {
    background: transparent;
    backdrop-filter: none;
  }
  to {
    background: var(--header-background-1);
    backdrop-filter: blur(12px);
  }
}
.dark-mode .scalar-card {
  background: rgba(255, 255, 255, 0.05) !important;
}
.dark-mode .scalar-card * {
  --scalar-background-2: transparent !important;
  --scalar-background-1: transparent !important;
}
.light-mode .dark-mode.scalar-card *,
.light-mode .dark-mode.scalar-card {
  --scalar-background-1: #0d0f1e !important;
  --scalar-background-2: #0d0f1e !important;
  --scalar-background-3: #191b29 !important;
}
.light-mode .dark-mode.scalar-card {
  background: #191b29 !important;
}
.badge {
  box-shadow: 0 0 0 1px var(--scalar-border-color);
  margin-right: 6px;
}

.table-row.required-parameter .table-row-item:nth-of-type(2):after {
  background: transparent;
  box-shadow: none;
}
/* Hero Section Flare */
.section-flare {
  width: 100vw;
  background: radial-gradient(ellipse 80% 50% at 50% -20%, rgba(120, 119, 198, 0.3), transparent);
  height: 100vh;
}
.light-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-accent), transparent 70%);
}
.dark-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-accent), transparent 50%);
}
`;var jA=`/* basic theme */
:root {
  --scalar-text-decoration: underline;
  --scalar-text-decoration-hover: underline;
}
.light-mode {
  --scalar-background-1: #f9f6f0;
  --scalar-background-2: #f2efe8;
  --scalar-background-3: #e9e7e2;
  --scalar-border-color: rgba(203, 165, 156, 0.6);

  --scalar-color-1: #c75549;
  --scalar-color-2: #c75549;
  --scalar-color-3: #c75549;

  --scalar-color-accent: #c75549;
  --scalar-background-accent: #dcbfa81f;

  --scalar-code-language-color-supersede: var(--scalar-color-1);
}
.dark-mode {
  --scalar-background-1: #140507;
  --scalar-background-2: #20090c;
  --scalar-background-3: #321116;
  --scalar-border-color: #3c3031;

  --scalar-color-1: rgba(255, 255, 255, 0.9);
  --scalar-color-2: rgba(255, 255, 255, 0.62);
  --scalar-color-3: rgba(255, 255, 255, 0.44);

  --scalar-color-accent: rgba(255, 255, 255, 0.9);
  --scalar-background-accent: #441313;

  --scalar-code-language-color-supersede: var(--scalar-color-1);
}

/* Document Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-color: currentColor;
  --scalar-sidebar-item-hover-background: var(--scalar-background-2);

  --scalar-sidebar-item-active-background: var(--scalar-background-3);
  --scalar-sidebar-color-active: var(--scalar-color-accent);

  --scalar-sidebar-search-background: rgba(255, 255, 255, 0.1);
  --scalar-sidebar-search-color: var(--scalar-color-3);
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
  z-index: 1;
}
/* advanced */
.light-mode {
  --scalar-color-green: #09533a;
  --scalar-color-red: #aa181d;
  --scalar-color-yellow: #ab8d2b;
  --scalar-color-blue: #19689a;
  --scalar-color-orange: #b26c34;
  --scalar-color-purple: #4c2191;

  --scalar-button-1: rgba(0, 0, 0, 1);
  --scalar-button-1-hover: rgba(0, 0, 0, 0.8);
  --scalar-button-1-color: rgba(255, 255, 255, 0.9);
}
.dark-mode {
  --scalar-color-green: rgba(69, 255, 165, 0.823);
  --scalar-color-red: #ff8589;
  --scalar-color-yellow: #ffcc4d;
  --scalar-color-blue: #6bc1fe;
  --scalar-color-orange: #f98943;
  --scalar-color-purple: #b191f9;

  --scalar-button-1: rgba(255, 255, 255, 1);
  --scalar-button-1-hover: rgba(255, 255, 255, 0.9);
  --scalar-button-1-color: black;
}
/* Custom Theme */
.dark-mode h2.t-editor__heading,
.dark-mode .t-editor__page-title h1,
.dark-mode h1.section-header:not(::selection),
.dark-mode .markdown h1,
.dark-mode .markdown h2,
.dark-mode .markdown h3,
.dark-mode .markdown h4,
.dark-mode .markdown h5,
.dark-mode .markdown h6 {
  -webkit-text-fill-color: transparent;
  background-image: linear-gradient(to right bottom, rgb(255, 255, 255) 30%, rgba(255, 255, 255, 0.38));
  -webkit-background-clip: text;
  background-clip: text;
}
.light-mode .t-doc__sidebar {
  --scalar-sidebar-search-background: white;
}
.examples .scalar-card-footer {
  --scalar-background-3: transparent;
  padding-top: 0;
}
/* Hero section flare */
.section-flare {
  overflow-x: hidden;
  height: 100vh;
  left: initial;
}
.section-flare-item:nth-of-type(1) {
  background: #d25019;
  position: relative;
  top: -150px;
  right: -400px;
  width: 80vw;
  height: 500px;
  margin-top: -150px;
  border-radius: 50%;
  filter: blur(100px);
  z-index: 0;
}
.light-mode .section-flare {
  display: none;
}
*::selection {
  background-color: color-mix(in srgb, var(--scalar-color-red), transparent 75%);
}
`;var LA=`.light-mode {
  color-scheme: light;
  --scalar-color-1: #000000;
  --scalar-color-2: #000000;
  --scalar-color-3: #000000;
  --scalar-color-accent: #645b0f;
  --scalar-background-1: #ccc9b3;
  --scalar-background-2: #c2bfaa;
  --scalar-background-3: #b8b5a1;
  --scalar-background-accent: #000000;

  --scalar-border-color: rgba(0, 0, 0, 0.2);
  --scalar-scrollbar-color: rgba(0, 0, 0, 0.18);
  --scalar-scrollbar-color-active: rgba(0, 0, 0, 0.36);
  --scalar-lifted-brightness: 1;
  --scalar-backdrop-brightness: 1;

  --scalar-shadow-1: 0 1px 3px 0 rgba(0, 0, 0, 0.11);
  --scalar-shadow-2: rgba(0, 0, 0, 0.08) 0px 13px 20px 0px, rgba(0, 0, 0, 0.08) 0px 3px 8px 0px,
    var(--scalar-border-color) 0px 0 0 1px;

  --scalar-button-1: rgb(49 53 56);
  --scalar-button-1-color: #fff;
  --scalar-button-1-hover: rgb(28 31 33);

  --scalar-color-red: #b91c1c;
  --scalar-color-orange: #a16207;
  --scalar-color-green: #047857;
  --scalar-color-blue: #1d4ed8;
  --scalar-color-orange: #c2410c;
  --scalar-color-purple: #6d28d9;
}

.dark-mode {
  color-scheme: dark;
  --scalar-color-1: #fffef3;
  --scalar-color-2: #fffef3;
  --scalar-color-3: #fffef3;
  --scalar-color-accent: #c3b531;
  --scalar-background-1: #313332;
  --scalar-background-2: #393b3a;
  --scalar-background-3: #414342;
  --scalar-background-accent: #fffef3;

  --scalar-border-color: #505452;
  --scalar-scrollbar-color: rgba(255, 255, 255, 0.24);
  --scalar-scrollbar-color-active: rgba(255, 255, 255, 0.48);
  --scalar-lifted-brightness: 1.45;
  --scalar-backdrop-brightness: 0.5;

  --scalar-shadow-1: 0 1px 3px 0 rgba(0, 0, 0, 0.11);
  --scalar-shadow-2: rgba(15, 15, 15, 0.2) 0px 3px 6px, rgba(15, 15, 15, 0.4) 0px 9px 24px, 0 0 0 1px
    rgba(255, 255, 255, 0.1);

  --scalar-button-1: #f6f6f6;
  --scalar-button-1-color: #000;
  --scalar-button-1-hover: #e7e7e7;

  --scalar-color-green: #00b648;
  --scalar-color-red: #dc1b19;
  --scalar-color-yellow: #ffc90d;
  --scalar-color-blue: #4eb3ec;
  --scalar-color-orange: #ff8d4d;
  --scalar-color-purple: #b191f9;
}

/* Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-hover-color: currentColor;

  --scalar-sidebar-item-active-background: var(--scalar-background-3);
  --scalar-sidebar-color-active: var(--scalar-color-1);

  --scalar-sidebar-search-background: transparent;
  --scalar-sidebar-search-color: var(--scalar-color-3);
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
}
*::selection {
  background-color: color-mix(in srgb, var(--scalar-color-accent), transparent 80%);
}
`;var _A=`/* basic theme */
.light-mode {
  --scalar-background-1: #fff;
  --scalar-background-2: #f5f6f8;
  --scalar-background-3: #eceef1;

  --scalar-color-1: #2a2f45;
  --scalar-color-2: #757575;
  --scalar-color-3: #8e8e8e;

  --scalar-color-accent: #5469d4;
  --scalar-background-accent: #5469d41f;

  --scalar-border-color: rgba(215, 215, 206, 0.68);
}
.dark-mode {
  --scalar-background-1: #15171c;
  --scalar-background-2: #1c1e24;
  --scalar-background-3: #22252b;

  --scalar-color-1: #fafafa;
  --scalar-color-2: #c9ced8;
  --scalar-color-3: #8c99ad;

  --scalar-color-accent: #5469d4;
  --scalar-background-accent: #5469d41f;

  --scalar-border-color: #3f4145;
}
/* Document Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-color: currentColor;
  --scalar-sidebar-item-hover-background: var(--scalar-background-3);

  --scalar-sidebar-item-active-background: var(--scalar-background-accent);
  --scalar-sidebar-color-active: var(--scalar-color-accent);

  --scalar-sidebar-search-background: var(--scalar-background-1);
  --scalar-sidebar-search-color: var(--scalar-color-3);
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
}

/* advanced */
.light-mode {
  --scalar-color-green: #17803d;
  --scalar-color-red: #e10909;
  --scalar-color-yellow: #edbe20;
  --scalar-color-blue: #1763a6;
  --scalar-color-orange: #e25b09;
  --scalar-color-purple: #5c3993;

  --scalar-button-1: rgba(0, 0, 0, 1);
  --scalar-button-1-hover: rgba(0, 0, 0, 0.8);
  --scalar-button-1-color: rgba(255, 255, 255, 0.9);
}
.dark-mode {
  --scalar-color-green: #30a159;
  --scalar-color-red: #dc1b19;
  --scalar-color-yellow: #eec644;
  --scalar-color-blue: #2b7abf;
  --scalar-color-orange: #f07528;
  --scalar-color-purple: #7a59b1;

  --scalar-button-1: rgba(255, 255, 255, 1);
  --scalar-button-1-hover: rgba(255, 255, 255, 0.9);
  --scalar-button-1-color: black;
}
.light-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-accent), transparent 70%);
}
.dark-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-accent), transparent 50%);
}
`;var FA=`/* basic theme */
.light-mode {
  --scalar-background-1: #f3f3ee;
  --scalar-background-2: #e8e8e3;
  --scalar-background-3: #e4e4df;
  --scalar-border-color: rgba(215, 215, 206, 0.85);

  --scalar-color-1: #2a2f45;
  --scalar-color-2: #757575;
  --scalar-color-3: #8e8e8e;

  --scalar-color-accent: #1763a6;
  --scalar-background-accent: #1f648e1f;
}
.dark-mode {
  --scalar-background-1: #09090b;
  --scalar-background-2: #18181b;
  --scalar-background-3: #2c2c30;
  --scalar-border-color: rgba(255, 255, 255, 0.17);

  --scalar-color-1: #fafafa;
  --scalar-color-2: rgb(161, 161, 170);
  --scalar-color-3: rgba(255, 255, 255, 0.533);

  --scalar-color-accent: #4eb3ec;
  --scalar-background-accent: #8ab4f81f;
}
/* Document Sidebar */
.light-mode .t-doc__sidebar,
.dark-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-border-color: var(--scalar-border-color);

  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-hover-color: currentColor;

  --scalar-sidebar-item-active-background: var(--scalar-background-3);
  --scalar-sidebar-color-active: var(--scalar-color-1);

  --scalar-sidebar-search-background: var(--scalar-background-1);
  --scalar-sidebar-search-border-color: var(--scalar-border-color);
  --scalar-sidebar-search-color: var(--scalar-color-3);
}

/* advanced */
.light-mode {
  --scalar-color-green: #17803d;
  --scalar-color-red: #e10909;
  --scalar-color-yellow: #edbe20;
  --scalar-color-blue: #1763a6;
  --scalar-color-orange: #e25b09;
  --scalar-color-purple: #5c3993;

  --scalar-button-1: rgba(0, 0, 0, 1);
  --scalar-button-1-hover: rgba(0, 0, 0, 0.8);
  --scalar-button-1-color: rgba(255, 255, 255, 0.9);
}
.dark-mode {
  --scalar-color-green: #30a159;
  --scalar-color-red: #dc1b19;
  --scalar-color-yellow: #eec644;
  --scalar-color-blue: #2b7abf;
  --scalar-color-orange: #f07528;
  --scalar-color-purple: #7a59b1;

  --scalar-button-1: rgba(255, 255, 255, 1);
  --scalar-button-1-hover: rgba(255, 255, 255, 0.9);
  --scalar-button-1-color: black;
}
.dark-mode h2.t-editor__heading,
.dark-mode .t-editor__page-title h1,
.dark-mode h1.section-header:not(::selection),
.dark-mode .markdown h1,
.dark-mode .markdown h2,
.dark-mode .markdown h3,
.dark-mode .markdown h4,
.dark-mode .markdown h5,
.dark-mode .markdown h6 {
  -webkit-text-fill-color: transparent;
  background-image: linear-gradient(to right bottom, rgb(255, 255, 255) 30%, rgba(255, 255, 255, 0.38));
  -webkit-background-clip: text;
  background-clip: text;
}
.light-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-accent), transparent 70%);
}
.dark-mode *::selection {
  background-color: color-mix(in srgb, var(--scalar-color-accent), transparent 50%);
}
`;var KA=`.light-mode {
  color-scheme: light;
  --scalar-color-1: #584c27;
  --scalar-color-2: #616161;
  --scalar-color-3: #a89f84;
  --scalar-color-accent: #b58900;
  --scalar-background-1: #fdf6e3;
  --scalar-background-2: #eee8d5;
  --scalar-background-3: #ddd6c1;
  --scalar-background-accent: #b589001f;

  --scalar-border-color: #ded8c8;
  --scalar-scrollbar-color: rgba(0, 0, 0, 0.18);
  --scalar-scrollbar-color-active: rgba(0, 0, 0, 0.36);
  --scalar-lifted-brightness: 1;
  --scalar-backdrop-brightness: 1;

  --scalar-shadow-1: 0 1px 3px 0 rgba(0, 0, 0, 0.11);
  --scalar-shadow-2: rgba(0, 0, 0, 0.08) 0px 13px 20px 0px, rgba(0, 0, 0, 0.08) 0px 3px 8px 0px, #eeeeed 0px 0 0 1px;

  --scalar-button-1: rgb(49 53 56);
  --scalar-button-1-color: #fff;
  --scalar-button-1-hover: rgb(28 31 33);

  --scalar-color-red: #b91c1c;
  --scalar-color-orange: #a16207;
  --scalar-color-green: #047857;
  --scalar-color-blue: #1d4ed8;
  --scalar-color-orange: #c2410c;
  --scalar-color-purple: #6d28d9;
}

.dark-mode {
  color-scheme: dark;
  --scalar-color-1: #fff;
  --scalar-color-2: #cccccc;
  --scalar-color-3: #6d8890;
  --scalar-color-accent: #007acc;
  --scalar-background-1: #00212b;
  --scalar-background-2: #012b36;
  --scalar-background-3: #004052;
  --scalar-background-accent: #015a6f;

  --scalar-border-color: #2f4851;
  --scalar-scrollbar-color: rgba(255, 255, 255, 0.24);
  --scalar-scrollbar-color-active: rgba(255, 255, 255, 0.48);
  --scalar-lifted-brightness: 1.45;
  --scalar-backdrop-brightness: 0.5;

  --scalar-shadow-1: 0 1px 3px 0 rgb(0, 0, 0, 0.1);
  --scalar-shadow-2: rgba(15, 15, 15, 0.2) 0px 3px 6px, rgba(15, 15, 15, 0.4) 0px 9px 24px, 0 0 0 1px
    rgba(255, 255, 255, 0.1);

  --scalar-button-1: #f6f6f6;
  --scalar-button-1-color: #000;
  --scalar-button-1-hover: #e7e7e7;

  --scalar-color-green: #00b648;
  --scalar-color-red: #dc1b19;
  --scalar-color-yellow: #ffc90d;
  --scalar-color-blue: #4eb3ec;
  --scalar-color-orange: #ff8d4d;
  --scalar-color-purple: #b191f9;
}

/* Sidebar */
.light-mode .t-doc__sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-item-hover-color: currentColor;
  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-active-background: var(--scalar-background-accent);
  --scalar-sidebar-border-color: var(--scalar-border-color);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-color-active: var(--scalar-color-accent);
  --scalar-sidebar-search-background: var(--scalar-background-2);
  --scalar-sidebar-search-border-color: var(--scalar-sidebar-search-background);
  --scalar-sidebar-search--color: var(--scalar-color-3);
}

.dark-mode .sidebar {
  --scalar-sidebar-background-1: var(--scalar-background-1);
  --scalar-sidebar-item-hover-color: currentColor;
  --scalar-sidebar-item-hover-background: var(--scalar-background-2);
  --scalar-sidebar-item-active-background: var(--scalar-background-accent);
  --scalar-sidebar-border-color: var(--scalar-border-color);
  --scalar-sidebar-color-1: var(--scalar-color-1);
  --scalar-sidebar-color-2: var(--scalar-color-2);
  --scalar-sidebar-color-active: var(--scalar-sidebar-color-1);
  --scalar-sidebar-search-background: var(--scalar-background-2);
  --scalar-sidebar-search-border-color: var(--scalar-sidebar-search-background);
  --scalar-sidebar-search--color: var(--scalar-color-3);
}
*::selection {
  background-color: color-mix(in srgb, var(--scalar-color-accent), transparent 70%);
}
`;var R={};$6(R,{void:()=>kx,util:()=>C0,unknown:()=>Ix,union:()=>vx,undefined:()=>Px,tuple:()=>cx,transformer:()=>rx,symbol:()=>Vx,string:()=>kA,strictObject:()=>fx,setErrorMap:()=>tI,set:()=>ux,record:()=>hx,quotelessJson:()=>rI,promise:()=>sx,preprocess:()=>ex,pipeline:()=>$k,ostring:()=>Wk,optional:()=>ax,onumber:()=>Jk,oboolean:()=>Xk,objectUtil:()=>FM,object:()=>gx,number:()=>TA,nullable:()=>tx,null:()=>Ex,never:()=>xx,nativeEnum:()=>ox,nan:()=>Kx,map:()=>mx,makeIssue:()=>qW,literal:()=>ix,lazy:()=>px,late:()=>_x,isValid:()=>Q4,isDirty:()=>FX,isAsync:()=>O$,isAborted:()=>_X,intersection:()=>yx,instanceof:()=>Fx,getParsedType:()=>g8,getErrorMap:()=>Z$,function:()=>lx,enum:()=>nx,effect:()=>rx,discriminatedUnion:()=>dx,defaultErrorMap:()=>K6,datetimeRegex:()=>RA,date:()=>Cx,custom:()=>xA,coerce:()=>Qk,boolean:()=>gA,bigint:()=>bx,array:()=>Tx,any:()=>Rx,addIssueToContext:()=>r,ZodVoid:()=>UW,ZodUnknown:()=>Y4,ZodUnion:()=>K$,ZodUndefined:()=>_$,ZodType:()=>j0,ZodTuple:()=>v8,ZodTransformer:()=>j8,ZodSymbol:()=>HW,ZodString:()=>D8,ZodSet:()=>M9,ZodSchema:()=>j0,ZodRecord:()=>zW,ZodReadonly:()=>I$,ZodPromise:()=>G9,ZodPipeline:()=>DW,ZodParsedType:()=>i,ZodOptional:()=>O8,ZodObject:()=>P1,ZodNumber:()=>M4,ZodNullable:()=>C6,ZodNull:()=>F$,ZodNever:()=>f8,ZodNativeEnum:()=>P$,ZodNaN:()=>NW,ZodMap:()=>AW,ZodLiteral:()=>V$,ZodLazy:()=>C$,ZodIssueCode:()=>c,ZodIntersection:()=>b$,ZodFunction:()=>j$,ZodFirstPartyTypeKind:()=>U0,ZodError:()=>s5,ZodEnum:()=>B4,ZodEffects:()=>j8,ZodDiscriminatedUnion:()=>KX,ZodDefault:()=>E$,ZodDate:()=>Q9,ZodCatch:()=>R$,ZodBranded:()=>bX,ZodBoolean:()=>L$,ZodBigInt:()=>G4,ZodArray:()=>Z8,ZodAny:()=>Y9,Schema:()=>j0,ParseStatus:()=>z5,OK:()=>b5,NEVER:()=>Yk,INVALID:()=>w0,EMPTY_PATH:()=>eI,DIRTY:()=>X9,BRAND:()=>Lx});var C0;(function($){$.assertEqual=(Q)=>{};function W(Q){}$.assertIs=W;function J(Q){throw new Error}$.assertNever=J,$.arrayToEnum=(Q)=>{let Y={};for(let M of Q)Y[M]=M;return Y},$.getValidEnumValues=(Q)=>{let Y=$.objectKeys(Q).filter((G)=>typeof Q[Q[G]]!=="number"),M={};for(let G of Y)M[G]=Q[G];return $.objectValues(M)},$.objectValues=(Q)=>{return $.objectKeys(Q).map(function(Y){return Q[Y]})},$.objectKeys=typeof Object.keys==="function"?(Q)=>Object.keys(Q):(Q)=>{let Y=[];for(let M in Q)if(Object.prototype.hasOwnProperty.call(Q,M))Y.push(M);return Y},$.find=(Q,Y)=>{for(let M of Q)if(Y(M))return M;return},$.isInteger=typeof Number.isInteger==="function"?(Q)=>Number.isInteger(Q):(Q)=>typeof Q==="number"&&Number.isFinite(Q)&&Math.floor(Q)===Q;function X(Q,Y=" | "){return Q.map((M)=>typeof M==="string"?`'${M}'`:M).join(Y)}$.joinValues=X,$.jsonStringifyReplacer=(Q,Y)=>{if(typeof Y==="bigint")return Y.toString();return Y}})(C0||(C0={}));var FM;(function($){$.mergeShapes=(W,J)=>{return{...W,...J}}})(FM||(FM={}));var i=C0.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),g8=($)=>{switch(typeof $){case"undefined":return i.undefined;case"string":return i.string;case"number":return Number.isNaN($)?i.nan:i.number;case"boolean":return i.boolean;case"function":return i.function;case"bigint":return i.bigint;case"symbol":return i.symbol;case"object":if(Array.isArray($))return i.array;if($===null)return i.null;if($.then&&typeof $.then==="function"&&$.catch&&typeof $.catch==="function")return i.promise;if(typeof Map!=="undefined"&&$ instanceof Map)return i.map;if(typeof Set!=="undefined"&&$ instanceof Set)return i.set;if(typeof Date!=="undefined"&&$ instanceof Date)return i.date;return i.object;default:return i.unknown}};var c=C0.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),rI=($)=>{return JSON.stringify($,null,2).replace(/"([^"]+)":/g,"$1:")};class s5 extends Error{get errors(){return this.issues}constructor($){super();this.issues=[],this.addIssue=(J)=>{this.issues=[...this.issues,J]},this.addIssues=(J=[])=>{this.issues=[...this.issues,...J]};let W=new.target.prototype;if(Object.setPrototypeOf)Object.setPrototypeOf(this,W);else this.__proto__=W;this.name="ZodError",this.issues=$}format($){let W=$||function(Q){return Q.message},J={_errors:[]},X=(Q)=>{for(let Y of Q.issues)if(Y.code==="invalid_union")Y.unionErrors.map(X);else if(Y.code==="invalid_return_type")X(Y.returnTypeError);else if(Y.code==="invalid_arguments")X(Y.argumentsError);else if(Y.path.length===0)J._errors.push(W(Y));else{let M=J,G=0;while(G<Y.path.length){let B=Y.path[G];if(G!==Y.path.length-1)M[B]=M[B]||{_errors:[]};else M[B]=M[B]||{_errors:[]},M[B]._errors.push(W(Y));M=M[B],G++}}};return X(this),J}static assert($){if(!($ instanceof s5))throw new Error(`Not a ZodError: ${$}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,C0.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten($=(W)=>W.message){let W={},J=[];for(let X of this.issues)if(X.path.length>0){let Q=X.path[0];W[Q]=W[Q]||[],W[Q].push($(X))}else J.push($(X));return{formErrors:J,fieldErrors:W}}get formErrors(){return this.flatten()}}s5.create=($)=>{return new s5($)};var aI=($,W)=>{let J;switch($.code){case c.invalid_type:if($.received===i.undefined)J="Required";else J=`Expected ${$.expected}, received ${$.received}`;break;case c.invalid_literal:J=`Invalid literal value, expected ${JSON.stringify($.expected,C0.jsonStringifyReplacer)}`;break;case c.unrecognized_keys:J=`Unrecognized key(s) in object: ${C0.joinValues($.keys,", ")}`;break;case c.invalid_union:J="Invalid input";break;case c.invalid_union_discriminator:J=`Invalid discriminator value. Expected ${C0.joinValues($.options)}`;break;case c.invalid_enum_value:J=`Invalid enum value. Expected ${C0.joinValues($.options)}, received '${$.received}'`;break;case c.invalid_arguments:J="Invalid function arguments";break;case c.invalid_return_type:J="Invalid function return type";break;case c.invalid_date:J="Invalid date";break;case c.invalid_string:if(typeof $.validation==="object")if("includes"in $.validation){if(J=`Invalid input: must include "${$.validation.includes}"`,typeof $.validation.position==="number")J=`${J} at one or more positions greater than or equal to ${$.validation.position}`}else if("startsWith"in $.validation)J=`Invalid input: must start with "${$.validation.startsWith}"`;else if("endsWith"in $.validation)J=`Invalid input: must end with "${$.validation.endsWith}"`;else C0.assertNever($.validation);else if($.validation!=="regex")J=`Invalid ${$.validation}`;else J="Invalid";break;case c.too_small:if($.type==="array")J=`Array must contain ${$.exact?"exactly":$.inclusive?"at least":"more than"} ${$.minimum} element(s)`;else if($.type==="string")J=`String must contain ${$.exact?"exactly":$.inclusive?"at least":"over"} ${$.minimum} character(s)`;else if($.type==="number")J=`Number must be ${$.exact?"exactly equal to ":$.inclusive?"greater than or equal to ":"greater than "}${$.minimum}`;else if($.type==="bigint")J=`Number must be ${$.exact?"exactly equal to ":$.inclusive?"greater than or equal to ":"greater than "}${$.minimum}`;else if($.type==="date")J=`Date must be ${$.exact?"exactly equal to ":$.inclusive?"greater than or equal to ":"greater than "}${new Date(Number($.minimum))}`;else J="Invalid input";break;case c.too_big:if($.type==="array")J=`Array must contain ${$.exact?"exactly":$.inclusive?"at most":"less than"} ${$.maximum} element(s)`;else if($.type==="string")J=`String must contain ${$.exact?"exactly":$.inclusive?"at most":"under"} ${$.maximum} character(s)`;else if($.type==="number")J=`Number must be ${$.exact?"exactly":$.inclusive?"less than or equal to":"less than"} ${$.maximum}`;else if($.type==="bigint")J=`BigInt must be ${$.exact?"exactly":$.inclusive?"less than or equal to":"less than"} ${$.maximum}`;else if($.type==="date")J=`Date must be ${$.exact?"exactly":$.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number($.maximum))}`;else J="Invalid input";break;case c.custom:J="Invalid input";break;case c.invalid_intersection_types:J="Intersection results could not be merged";break;case c.not_multiple_of:J=`Number must be a multiple of ${$.multipleOf}`;break;case c.not_finite:J="Number must be finite";break;default:J=W.defaultError,C0.assertNever($)}return{message:J}},K6=aI;var bA=K6;function tI($){bA=$}function Z$(){return bA}var qW=($)=>{let{data:W,path:J,errorMaps:X,issueData:Q}=$,Y=[...J,...Q.path||[]],M={...Q,path:Y};if(Q.message!==void 0)return{...Q,path:Y,message:Q.message};let G="",B=X.filter((w)=>!!w).slice().reverse();for(let w of B)G=w(M,{data:W,defaultError:G}).message;return{...Q,path:Y,message:G}},eI=[];function r($,W){let J=Z$(),X=qW({issueData:W,data:$.data,path:$.path,errorMaps:[$.common.contextualErrorMap,$.schemaErrorMap,J,J===K6?void 0:K6].filter((Q)=>!!Q)});$.common.issues.push(X)}class z5{constructor(){this.value="valid"}dirty(){if(this.value==="valid")this.value="dirty"}abort(){if(this.value!=="aborted")this.value="aborted"}static mergeArray($,W){let J=[];for(let X of W){if(X.status==="aborted")return w0;if(X.status==="dirty")$.dirty();J.push(X.value)}return{status:$.value,value:J}}static async mergeObjectAsync($,W){let J=[];for(let X of W){let Q=await X.key,Y=await X.value;J.push({key:Q,value:Y})}return z5.mergeObjectSync($,J)}static mergeObjectSync($,W){let J={};for(let X of W){let{key:Q,value:Y}=X;if(Q.status==="aborted")return w0;if(Y.status==="aborted")return w0;if(Q.status==="dirty")$.dirty();if(Y.status==="dirty")$.dirty();if(Q.value!=="__proto__"&&(typeof Y.value!=="undefined"||X.alwaysSet))J[Q.value]=Y.value}return{status:$.value,value:J}}}var w0=Object.freeze({status:"aborted"}),X9=($)=>({status:"dirty",value:$}),b5=($)=>({status:"valid",value:$}),_X=($)=>$.status==="aborted",FX=($)=>$.status==="dirty",Q4=($)=>$.status==="valid",O$=($)=>typeof Promise!=="undefined"&&$ instanceof Promise;var W0;(function($){$.errToObj=(W)=>typeof W==="string"?{message:W}:W||{},$.toString=(W)=>typeof W==="string"?W:W?.message})(W0||(W0={}));class S8{constructor($,W,J,X){this._cachedPath=[],this.parent=$,this.data=W,this._path=J,this._key=X}get path(){if(!this._cachedPath.length)if(Array.isArray(this._key))this._cachedPath.push(...this._path,...this._key);else this._cachedPath.push(...this._path,this._key);return this._cachedPath}}var CA=($,W)=>{if(Q4(W))return{success:!0,data:W.value};else{if(!$.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let J=new s5($.common.issues);return this._error=J,this._error}}}};function D0($){if(!$)return{};let{errorMap:W,invalid_type_error:J,required_error:X,description:Q}=$;if(W&&(J||X))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);if(W)return{errorMap:W,description:Q};return{errorMap:(M,G)=>{let{message:B}=$;if(M.code==="invalid_enum_value")return{message:B??G.defaultError};if(typeof G.data==="undefined")return{message:B??X??G.defaultError};if(M.code!=="invalid_type")return{message:G.defaultError};return{message:B??J??G.defaultError}},description:Q}}class j0{get description(){return this._def.description}_getType($){return g8($.data)}_getOrReturnCtx($,W){return W||{common:$.parent.common,data:$.data,parsedType:g8($.data),schemaErrorMap:this._def.errorMap,path:$.path,parent:$.parent}}_processInputParams($){return{status:new z5,ctx:{common:$.parent.common,data:$.data,parsedType:g8($.data),schemaErrorMap:this._def.errorMap,path:$.path,parent:$.parent}}}_parseSync($){let W=this._parse($);if(O$(W))throw new Error("Synchronous parse encountered promise.");return W}_parseAsync($){let W=this._parse($);return Promise.resolve(W)}parse($,W){let J=this.safeParse($,W);if(J.success)return J.data;throw J.error}safeParse($,W){let J={common:{issues:[],async:W?.async??!1,contextualErrorMap:W?.errorMap},path:W?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:$,parsedType:g8($)},X=this._parseSync({data:$,path:J.path,parent:J});return CA(J,X)}"~validate"($){let W={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:$,parsedType:g8($)};if(!this["~standard"].async)try{let J=this._parseSync({data:$,path:[],parent:W});return Q4(J)?{value:J.value}:{issues:W.common.issues}}catch(J){if(J?.message?.toLowerCase()?.includes("encountered"))this["~standard"].async=!0;W.common={issues:[],async:!0}}return this._parseAsync({data:$,path:[],parent:W}).then((J)=>Q4(J)?{value:J.value}:{issues:W.common.issues})}async parseAsync($,W){let J=await this.safeParseAsync($,W);if(J.success)return J.data;throw J.error}async safeParseAsync($,W){let J={common:{issues:[],contextualErrorMap:W?.errorMap,async:!0},path:W?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:$,parsedType:g8($)},X=this._parse({data:$,path:J.path,parent:J}),Q=await(O$(X)?X:Promise.resolve(X));return CA(J,Q)}refine($,W){let J=(X)=>{if(typeof W==="string"||typeof W==="undefined")return{message:W};else if(typeof W==="function")return W(X);else return W};return this._refinement((X,Q)=>{let Y=$(X),M=()=>Q.addIssue({code:c.custom,...J(X)});if(typeof Promise!=="undefined"&&Y instanceof Promise)return Y.then((G)=>{if(!G)return M(),!1;else return!0});if(!Y)return M(),!1;else return!0})}refinement($,W){return this._refinement((J,X)=>{if(!$(J))return X.addIssue(typeof W==="function"?W(J,X):W),!1;else return!0})}_refinement($){return new j8({schema:this,typeName:U0.ZodEffects,effect:{type:"refinement",refinement:$}})}superRefine($){return this._refinement($)}constructor($){this.spa=this.safeParseAsync,this._def=$,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:(W)=>this["~validate"](W)}}optional(){return O8.create(this,this._def)}nullable(){return C6.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Z8.create(this)}promise(){return G9.create(this,this._def)}or($){return K$.create([this,$],this._def)}and($){return b$.create(this,$,this._def)}transform($){return new j8({...D0(this._def),schema:this,typeName:U0.ZodEffects,effect:{type:"transform",transform:$}})}default($){let W=typeof $==="function"?$:()=>$;return new E$({...D0(this._def),innerType:this,defaultValue:W,typeName:U0.ZodDefault})}brand(){return new bX({typeName:U0.ZodBranded,type:this,...D0(this._def)})}catch($){let W=typeof $==="function"?$:()=>$;return new R$({...D0(this._def),innerType:this,catchValue:W,typeName:U0.ZodCatch})}describe($){return new this.constructor({...this._def,description:$})}pipe($){return DW.create(this,$)}readonly(){return I$.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}var $x=/^c[^\s-]{8,}$/i,Wx=/^[0-9a-z]+$/,Jx=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Xx=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Qx=/^[a-z0-9_-]{21}$/i,Yx=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Mx=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Gx=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Bx="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",KM,wx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,qx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Hx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ux=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,zx=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ax=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,PA="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Nx=new RegExp(`^${PA}$`);function EA($){let W="[0-5]\\d";if($.precision)W=`${W}\\.\\d{${$.precision}}`;else if($.precision==null)W=`${W}(\\.\\d+)?`;let J=$.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${W})${J}`}function Dx($){return new RegExp(`^${EA($)}$`)}function RA($){let W=`${PA}T${EA($)}`,J=[];if(J.push($.local?"Z?":"Z"),$.offset)J.push("([+-]\\d{2}:?\\d{2})");return W=`${W}(${J.join("|")})`,new RegExp(`^${W}$`)}function Zx($,W){if((W==="v4"||!W)&&wx.test($))return!0;if((W==="v6"||!W)&&Hx.test($))return!0;return!1}function Ox($,W){if(!Yx.test($))return!1;try{let[J]=$.split(".");if(!J)return!1;let X=J.replace(/-/g,"+").replace(/_/g,"/").padEnd(J.length+(4-J.length%4)%4,"="),Q=JSON.parse(atob(X));if(typeof Q!=="object"||Q===null)return!1;if("typ"in Q&&Q?.typ!=="JWT")return!1;if(!Q.alg)return!1;if(W&&Q.alg!==W)return!1;return!0}catch{return!1}}function Sx($,W){if((W==="v4"||!W)&&qx.test($))return!0;if((W==="v6"||!W)&&Ux.test($))return!0;return!1}class D8 extends j0{_parse($){if(this._def.coerce)$.data=String($.data);if(this._getType($)!==i.string){let Q=this._getOrReturnCtx($);return r(Q,{code:c.invalid_type,expected:i.string,received:Q.parsedType}),w0}let J=new z5,X=void 0;for(let Q of this._def.checks)if(Q.kind==="min"){if($.data.length<Q.value)X=this._getOrReturnCtx($,X),r(X,{code:c.too_small,minimum:Q.value,type:"string",inclusive:!0,exact:!1,message:Q.message}),J.dirty()}else if(Q.kind==="max"){if($.data.length>Q.value)X=this._getOrReturnCtx($,X),r(X,{code:c.too_big,maximum:Q.value,type:"string",inclusive:!0,exact:!1,message:Q.message}),J.dirty()}else if(Q.kind==="length"){let Y=$.data.length>Q.value,M=$.data.length<Q.value;if(Y||M){if(X=this._getOrReturnCtx($,X),Y)r(X,{code:c.too_big,maximum:Q.value,type:"string",inclusive:!0,exact:!0,message:Q.message});else if(M)r(X,{code:c.too_small,minimum:Q.value,type:"string",inclusive:!0,exact:!0,message:Q.message});J.dirty()}}else if(Q.kind==="email"){if(!Gx.test($.data))X=this._getOrReturnCtx($,X),r(X,{validation:"email",code:c.invalid_string,message:Q.message}),J.dirty()}else if(Q.kind==="emoji"){if(!KM)KM=new RegExp(Bx,"u");if(!KM.test($.data))X=this._getOrReturnCtx($,X),r(X,{validation:"emoji",code:c.invalid_string,message:Q.message}),J.dirty()}else if(Q.kind==="uuid"){if(!Xx.test($.data))X=this._getOrReturnCtx($,X),r(X,{validation:"uuid",code:c.invalid_string,message:Q.message}),J.dirty()}else if(Q.kind==="nanoid"){if(!Qx.test($.data))X=this._getOrReturnCtx($,X),r(X,{validation:"nanoid",code:c.invalid_string,message:Q.message}),J.dirty()}else if(Q.kind==="cuid"){if(!$x.test($.data))X=this._getOrReturnCtx($,X),r(X,{validation:"cuid",code:c.invalid_string,message:Q.message}),J.dirty()}else if(Q.kind==="cuid2"){if(!Wx.test($.data))X=this._getOrReturnCtx($,X),r(X,{validation:"cuid2",code:c.invalid_string,message:Q.message}),J.dirty()}else if(Q.kind==="ulid"){if(!Jx.test($.data))X=this._getOrReturnCtx($,X),r(X,{validation:"ulid",code:c.invalid_string,message:Q.message}),J.dirty()}else if(Q.kind==="url")try{new URL($.data)}catch{X=this._getOrReturnCtx($,X),r(X,{validation:"url",code:c.invalid_string,message:Q.message}),J.dirty()}else if(Q.kind==="regex"){if(Q.regex.lastIndex=0,!Q.regex.test($.data))X=this._getOrReturnCtx($,X),r(X,{validation:"regex",code:c.invalid_string,message:Q.message}),J.dirty()}else if(Q.kind==="trim")$.data=$.data.trim();else if(Q.kind==="includes"){if(!$.data.includes(Q.value,Q.position))X=this._getOrReturnCtx($,X),r(X,{code:c.invalid_string,validation:{includes:Q.value,position:Q.position},message:Q.message}),J.dirty()}else if(Q.kind==="toLowerCase")$.data=$.data.toLowerCase();else if(Q.kind==="toUpperCase")$.data=$.data.toUpperCase();else if(Q.kind==="startsWith"){if(!$.data.startsWith(Q.value))X=this._getOrReturnCtx($,X),r(X,{code:c.invalid_string,validation:{startsWith:Q.value},message:Q.message}),J.dirty()}else if(Q.kind==="endsWith"){if(!$.data.endsWith(Q.value))X=this._getOrReturnCtx($,X),r(X,{code:c.invalid_string,validation:{endsWith:Q.value},message:Q.message}),J.dirty()}else if(Q.kind==="datetime"){if(!RA(Q).test($.data))X=this._getOrReturnCtx($,X),r(X,{code:c.invalid_string,validation:"datetime",message:Q.message}),J.dirty()}else if(Q.kind==="date"){if(!Nx.test($.data))X=this._getOrReturnCtx($,X),r(X,{code:c.invalid_string,validation:"date",message:Q.message}),J.dirty()}else if(Q.kind==="time"){if(!Dx(Q).test($.data))X=this._getOrReturnCtx($,X),r(X,{code:c.invalid_string,validation:"time",message:Q.message}),J.dirty()}else if(Q.kind==="duration"){if(!Mx.test($.data))X=this._getOrReturnCtx($,X),r(X,{validation:"duration",code:c.invalid_string,message:Q.message}),J.dirty()}else if(Q.kind==="ip"){if(!Zx($.data,Q.version))X=this._getOrReturnCtx($,X),r(X,{validation:"ip",code:c.invalid_string,message:Q.message}),J.dirty()}else if(Q.kind==="jwt"){if(!Ox($.data,Q.alg))X=this._getOrReturnCtx($,X),r(X,{validation:"jwt",code:c.invalid_string,message:Q.message}),J.dirty()}else if(Q.kind==="cidr"){if(!Sx($.data,Q.version))X=this._getOrReturnCtx($,X),r(X,{validation:"cidr",code:c.invalid_string,message:Q.message}),J.dirty()}else if(Q.kind==="base64"){if(!zx.test($.data))X=this._getOrReturnCtx($,X),r(X,{validation:"base64",code:c.invalid_string,message:Q.message}),J.dirty()}else if(Q.kind==="base64url"){if(!Ax.test($.data))X=this._getOrReturnCtx($,X),r(X,{validation:"base64url",code:c.invalid_string,message:Q.message}),J.dirty()}else C0.assertNever(Q);return{status:J.value,value:$.data}}_regex($,W,J){return this.refinement((X)=>$.test(X),{validation:W,code:c.invalid_string,...W0.errToObj(J)})}_addCheck($){return new D8({...this._def,checks:[...this._def.checks,$]})}email($){return this._addCheck({kind:"email",...W0.errToObj($)})}url($){return this._addCheck({kind:"url",...W0.errToObj($)})}emoji($){return this._addCheck({kind:"emoji",...W0.errToObj($)})}uuid($){return this._addCheck({kind:"uuid",...W0.errToObj($)})}nanoid($){return this._addCheck({kind:"nanoid",...W0.errToObj($)})}cuid($){return this._addCheck({kind:"cuid",...W0.errToObj($)})}cuid2($){return this._addCheck({kind:"cuid2",...W0.errToObj($)})}ulid($){return this._addCheck({kind:"ulid",...W0.errToObj($)})}base64($){return this._addCheck({kind:"base64",...W0.errToObj($)})}base64url($){return this._addCheck({kind:"base64url",...W0.errToObj($)})}jwt($){return this._addCheck({kind:"jwt",...W0.errToObj($)})}ip($){return this._addCheck({kind:"ip",...W0.errToObj($)})}cidr($){return this._addCheck({kind:"cidr",...W0.errToObj($)})}datetime($){if(typeof $==="string")return this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:$});return this._addCheck({kind:"datetime",precision:typeof $?.precision==="undefined"?null:$?.precision,offset:$?.offset??!1,local:$?.local??!1,...W0.errToObj($?.message)})}date($){return this._addCheck({kind:"date",message:$})}time($){if(typeof $==="string")return this._addCheck({kind:"time",precision:null,message:$});return this._addCheck({kind:"time",precision:typeof $?.precision==="undefined"?null:$?.precision,...W0.errToObj($?.message)})}duration($){return this._addCheck({kind:"duration",...W0.errToObj($)})}regex($,W){return this._addCheck({kind:"regex",regex:$,...W0.errToObj(W)})}includes($,W){return this._addCheck({kind:"includes",value:$,position:W?.position,...W0.errToObj(W?.message)})}startsWith($,W){return this._addCheck({kind:"startsWith",value:$,...W0.errToObj(W)})}endsWith($,W){return this._addCheck({kind:"endsWith",value:$,...W0.errToObj(W)})}min($,W){return this._addCheck({kind:"min",value:$,...W0.errToObj(W)})}max($,W){return this._addCheck({kind:"max",value:$,...W0.errToObj(W)})}length($,W){return this._addCheck({kind:"length",value:$,...W0.errToObj(W)})}nonempty($){return this.min(1,W0.errToObj($))}trim(){return new D8({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new D8({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new D8({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(($)=>$.kind==="datetime")}get isDate(){return!!this._def.checks.find(($)=>$.kind==="date")}get isTime(){return!!this._def.checks.find(($)=>$.kind==="time")}get isDuration(){return!!this._def.checks.find(($)=>$.kind==="duration")}get isEmail(){return!!this._def.checks.find(($)=>$.kind==="email")}get isURL(){return!!this._def.checks.find(($)=>$.kind==="url")}get isEmoji(){return!!this._def.checks.find(($)=>$.kind==="emoji")}get isUUID(){return!!this._def.checks.find(($)=>$.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(($)=>$.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(($)=>$.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(($)=>$.kind==="cuid2")}get isULID(){return!!this._def.checks.find(($)=>$.kind==="ulid")}get isIP(){return!!this._def.checks.find(($)=>$.kind==="ip")}get isCIDR(){return!!this._def.checks.find(($)=>$.kind==="cidr")}get isBase64(){return!!this._def.checks.find(($)=>$.kind==="base64")}get isBase64url(){return!!this._def.checks.find(($)=>$.kind==="base64url")}get minLength(){let $=null;for(let W of this._def.checks)if(W.kind==="min"){if($===null||W.value>$)$=W.value}return $}get maxLength(){let $=null;for(let W of this._def.checks)if(W.kind==="max"){if($===null||W.value<$)$=W.value}return $}}D8.create=($)=>{return new D8({checks:[],typeName:U0.ZodString,coerce:$?.coerce??!1,...D0($)})};function jx($,W){let J=($.toString().split(".")[1]||"").length,X=(W.toString().split(".")[1]||"").length,Q=J>X?J:X,Y=Number.parseInt($.toFixed(Q).replace(".","")),M=Number.parseInt(W.toFixed(Q).replace(".",""));return Y%M/10**Q}class M4 extends j0{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse($){if(this._def.coerce)$.data=Number($.data);if(this._getType($)!==i.number){let Q=this._getOrReturnCtx($);return r(Q,{code:c.invalid_type,expected:i.number,received:Q.parsedType}),w0}let J=void 0,X=new z5;for(let Q of this._def.checks)if(Q.kind==="int"){if(!C0.isInteger($.data))J=this._getOrReturnCtx($,J),r(J,{code:c.invalid_type,expected:"integer",received:"float",message:Q.message}),X.dirty()}else if(Q.kind==="min"){if(Q.inclusive?$.data<Q.value:$.data<=Q.value)J=this._getOrReturnCtx($,J),r(J,{code:c.too_small,minimum:Q.value,type:"number",inclusive:Q.inclusive,exact:!1,message:Q.message}),X.dirty()}else if(Q.kind==="max"){if(Q.inclusive?$.data>Q.value:$.data>=Q.value)J=this._getOrReturnCtx($,J),r(J,{code:c.too_big,maximum:Q.value,type:"number",inclusive:Q.inclusive,exact:!1,message:Q.message}),X.dirty()}else if(Q.kind==="multipleOf"){if(jx($.data,Q.value)!==0)J=this._getOrReturnCtx($,J),r(J,{code:c.not_multiple_of,multipleOf:Q.value,message:Q.message}),X.dirty()}else if(Q.kind==="finite"){if(!Number.isFinite($.data))J=this._getOrReturnCtx($,J),r(J,{code:c.not_finite,message:Q.message}),X.dirty()}else C0.assertNever(Q);return{status:X.value,value:$.data}}gte($,W){return this.setLimit("min",$,!0,W0.toString(W))}gt($,W){return this.setLimit("min",$,!1,W0.toString(W))}lte($,W){return this.setLimit("max",$,!0,W0.toString(W))}lt($,W){return this.setLimit("max",$,!1,W0.toString(W))}setLimit($,W,J,X){return new M4({...this._def,checks:[...this._def.checks,{kind:$,value:W,inclusive:J,message:W0.toString(X)}]})}_addCheck($){return new M4({...this._def,checks:[...this._def.checks,$]})}int($){return this._addCheck({kind:"int",message:W0.toString($)})}positive($){return this._addCheck({kind:"min",value:0,inclusive:!1,message:W0.toString($)})}negative($){return this._addCheck({kind:"max",value:0,inclusive:!1,message:W0.toString($)})}nonpositive($){return this._addCheck({kind:"max",value:0,inclusive:!0,message:W0.toString($)})}nonnegative($){return this._addCheck({kind:"min",value:0,inclusive:!0,message:W0.toString($)})}multipleOf($,W){return this._addCheck({kind:"multipleOf",value:$,message:W0.toString(W)})}finite($){return this._addCheck({kind:"finite",message:W0.toString($)})}safe($){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:W0.toString($)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:W0.toString($)})}get minValue(){let $=null;for(let W of this._def.checks)if(W.kind==="min"){if($===null||W.value>$)$=W.value}return $}get maxValue(){let $=null;for(let W of this._def.checks)if(W.kind==="max"){if($===null||W.value<$)$=W.value}return $}get isInt(){return!!this._def.checks.find(($)=>$.kind==="int"||$.kind==="multipleOf"&&C0.isInteger($.value))}get isFinite(){let $=null,W=null;for(let J of this._def.checks)if(J.kind==="finite"||J.kind==="int"||J.kind==="multipleOf")return!0;else if(J.kind==="min"){if(W===null||J.value>W)W=J.value}else if(J.kind==="max"){if($===null||J.value<$)$=J.value}return Number.isFinite(W)&&Number.isFinite($)}}M4.create=($)=>{return new M4({checks:[],typeName:U0.ZodNumber,coerce:$?.coerce||!1,...D0($)})};class G4 extends j0{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte}_parse($){if(this._def.coerce)try{$.data=BigInt($.data)}catch{return this._getInvalidInput($)}if(this._getType($)!==i.bigint)return this._getInvalidInput($);let J=void 0,X=new z5;for(let Q of this._def.checks)if(Q.kind==="min"){if(Q.inclusive?$.data<Q.value:$.data<=Q.value)J=this._getOrReturnCtx($,J),r(J,{code:c.too_small,type:"bigint",minimum:Q.value,inclusive:Q.inclusive,message:Q.message}),X.dirty()}else if(Q.kind==="max"){if(Q.inclusive?$.data>Q.value:$.data>=Q.value)J=this._getOrReturnCtx($,J),r(J,{code:c.too_big,type:"bigint",maximum:Q.value,inclusive:Q.inclusive,message:Q.message}),X.dirty()}else if(Q.kind==="multipleOf"){if($.data%Q.value!==BigInt(0))J=this._getOrReturnCtx($,J),r(J,{code:c.not_multiple_of,multipleOf:Q.value,message:Q.message}),X.dirty()}else C0.assertNever(Q);return{status:X.value,value:$.data}}_getInvalidInput($){let W=this._getOrReturnCtx($);return r(W,{code:c.invalid_type,expected:i.bigint,received:W.parsedType}),w0}gte($,W){return this.setLimit("min",$,!0,W0.toString(W))}gt($,W){return this.setLimit("min",$,!1,W0.toString(W))}lte($,W){return this.setLimit("max",$,!0,W0.toString(W))}lt($,W){return this.setLimit("max",$,!1,W0.toString(W))}setLimit($,W,J,X){return new G4({...this._def,checks:[...this._def.checks,{kind:$,value:W,inclusive:J,message:W0.toString(X)}]})}_addCheck($){return new G4({...this._def,checks:[...this._def.checks,$]})}positive($){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:W0.toString($)})}negative($){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:W0.toString($)})}nonpositive($){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:W0.toString($)})}nonnegative($){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:W0.toString($)})}multipleOf($,W){return this._addCheck({kind:"multipleOf",value:$,message:W0.toString(W)})}get minValue(){let $=null;for(let W of this._def.checks)if(W.kind==="min"){if($===null||W.value>$)$=W.value}return $}get maxValue(){let $=null;for(let W of this._def.checks)if(W.kind==="max"){if($===null||W.value<$)$=W.value}return $}}G4.create=($)=>{return new G4({checks:[],typeName:U0.ZodBigInt,coerce:$?.coerce??!1,...D0($)})};class L$ extends j0{_parse($){if(this._def.coerce)$.data=Boolean($.data);if(this._getType($)!==i.boolean){let J=this._getOrReturnCtx($);return r(J,{code:c.invalid_type,expected:i.boolean,received:J.parsedType}),w0}return b5($.data)}}L$.create=($)=>{return new L$({typeName:U0.ZodBoolean,coerce:$?.coerce||!1,...D0($)})};class Q9 extends j0{_parse($){if(this._def.coerce)$.data=new Date($.data);if(this._getType($)!==i.date){let Q=this._getOrReturnCtx($);return r(Q,{code:c.invalid_type,expected:i.date,received:Q.parsedType}),w0}if(Number.isNaN($.data.getTime())){let Q=this._getOrReturnCtx($);return r(Q,{code:c.invalid_date}),w0}let J=new z5,X=void 0;for(let Q of this._def.checks)if(Q.kind==="min"){if($.data.getTime()<Q.value)X=this._getOrReturnCtx($,X),r(X,{code:c.too_small,message:Q.message,inclusive:!0,exact:!1,minimum:Q.value,type:"date"}),J.dirty()}else if(Q.kind==="max"){if($.data.getTime()>Q.value)X=this._getOrReturnCtx($,X),r(X,{code:c.too_big,message:Q.message,inclusive:!0,exact:!1,maximum:Q.value,type:"date"}),J.dirty()}else C0.assertNever(Q);return{status:J.value,value:new Date($.data.getTime())}}_addCheck($){return new Q9({...this._def,checks:[...this._def.checks,$]})}min($,W){return this._addCheck({kind:"min",value:$.getTime(),message:W0.toString(W)})}max($,W){return this._addCheck({kind:"max",value:$.getTime(),message:W0.toString(W)})}get minDate(){let $=null;for(let W of this._def.checks)if(W.kind==="min"){if($===null||W.value>$)$=W.value}return $!=null?new Date($):null}get maxDate(){let $=null;for(let W of this._def.checks)if(W.kind==="max"){if($===null||W.value<$)$=W.value}return $!=null?new Date($):null}}Q9.create=($)=>{return new Q9({checks:[],coerce:$?.coerce||!1,typeName:U0.ZodDate,...D0($)})};class HW extends j0{_parse($){if(this._getType($)!==i.symbol){let J=this._getOrReturnCtx($);return r(J,{code:c.invalid_type,expected:i.symbol,received:J.parsedType}),w0}return b5($.data)}}HW.create=($)=>{return new HW({typeName:U0.ZodSymbol,...D0($)})};class _$ extends j0{_parse($){if(this._getType($)!==i.undefined){let J=this._getOrReturnCtx($);return r(J,{code:c.invalid_type,expected:i.undefined,received:J.parsedType}),w0}return b5($.data)}}_$.create=($)=>{return new _$({typeName:U0.ZodUndefined,...D0($)})};class F$ extends j0{_parse($){if(this._getType($)!==i.null){let J=this._getOrReturnCtx($);return r(J,{code:c.invalid_type,expected:i.null,received:J.parsedType}),w0}return b5($.data)}}F$.create=($)=>{return new F$({typeName:U0.ZodNull,...D0($)})};class Y9 extends j0{constructor(){super(...arguments);this._any=!0}_parse($){return b5($.data)}}Y9.create=($)=>{return new Y9({typeName:U0.ZodAny,...D0($)})};class Y4 extends j0{constructor(){super(...arguments);this._unknown=!0}_parse($){return b5($.data)}}Y4.create=($)=>{return new Y4({typeName:U0.ZodUnknown,...D0($)})};class f8 extends j0{_parse($){let W=this._getOrReturnCtx($);return r(W,{code:c.invalid_type,expected:i.never,received:W.parsedType}),w0}}f8.create=($)=>{return new f8({typeName:U0.ZodNever,...D0($)})};class UW extends j0{_parse($){if(this._getType($)!==i.undefined){let J=this._getOrReturnCtx($);return r(J,{code:c.invalid_type,expected:i.void,received:J.parsedType}),w0}return b5($.data)}}UW.create=($)=>{return new UW({typeName:U0.ZodVoid,...D0($)})};class Z8 extends j0{_parse($){let{ctx:W,status:J}=this._processInputParams($),X=this._def;if(W.parsedType!==i.array)return r(W,{code:c.invalid_type,expected:i.array,received:W.parsedType}),w0;if(X.exactLength!==null){let Y=W.data.length>X.exactLength.value,M=W.data.length<X.exactLength.value;if(Y||M)r(W,{code:Y?c.too_big:c.too_small,minimum:M?X.exactLength.value:void 0,maximum:Y?X.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:X.exactLength.message}),J.dirty()}if(X.minLength!==null){if(W.data.length<X.minLength.value)r(W,{code:c.too_small,minimum:X.minLength.value,type:"array",inclusive:!0,exact:!1,message:X.minLength.message}),J.dirty()}if(X.maxLength!==null){if(W.data.length>X.maxLength.value)r(W,{code:c.too_big,maximum:X.maxLength.value,type:"array",inclusive:!0,exact:!1,message:X.maxLength.message}),J.dirty()}if(W.common.async)return Promise.all([...W.data].map((Y,M)=>{return X.type._parseAsync(new S8(W,Y,W.path,M))})).then((Y)=>{return z5.mergeArray(J,Y)});let Q=[...W.data].map((Y,M)=>{return X.type._parseSync(new S8(W,Y,W.path,M))});return z5.mergeArray(J,Q)}get element(){return this._def.type}min($,W){return new Z8({...this._def,minLength:{value:$,message:W0.toString(W)}})}max($,W){return new Z8({...this._def,maxLength:{value:$,message:W0.toString(W)}})}length($,W){return new Z8({...this._def,exactLength:{value:$,message:W0.toString(W)}})}nonempty($){return this.min(1,$)}}Z8.create=($,W)=>{return new Z8({type:$,minLength:null,maxLength:null,exactLength:null,typeName:U0.ZodArray,...D0(W)})};function S$($){if($ instanceof P1){let W={};for(let J in $.shape){let X=$.shape[J];W[J]=O8.create(S$(X))}return new P1({...$._def,shape:()=>W})}else if($ instanceof Z8)return new Z8({...$._def,type:S$($.element)});else if($ instanceof O8)return O8.create(S$($.unwrap()));else if($ instanceof C6)return C6.create(S$($.unwrap()));else if($ instanceof v8)return v8.create($.items.map((W)=>S$(W)));else return $}class P1 extends j0{constructor(){super(...arguments);this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let $=this._def.shape(),W=C0.objectKeys($);return this._cached={shape:$,keys:W},this._cached}_parse($){if(this._getType($)!==i.object){let B=this._getOrReturnCtx($);return r(B,{code:c.invalid_type,expected:i.object,received:B.parsedType}),w0}let{status:J,ctx:X}=this._processInputParams($),{shape:Q,keys:Y}=this._getCached(),M=[];if(!(this._def.catchall instanceof f8&&this._def.unknownKeys==="strip")){for(let B in X.data)if(!Y.includes(B))M.push(B)}let G=[];for(let B of Y){let w=Q[B],q=X.data[B];G.push({key:{status:"valid",value:B},value:w._parse(new S8(X,q,X.path,B)),alwaysSet:B in X.data})}if(this._def.catchall instanceof f8){let B=this._def.unknownKeys;if(B==="passthrough")for(let w of M)G.push({key:{status:"valid",value:w},value:{status:"valid",value:X.data[w]}});else if(B==="strict"){if(M.length>0)r(X,{code:c.unrecognized_keys,keys:M}),J.dirty()}else if(B==="strip");else throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let B=this._def.catchall;for(let w of M){let q=X.data[w];G.push({key:{status:"valid",value:w},value:B._parse(new S8(X,q,X.path,w)),alwaysSet:w in X.data})}}if(X.common.async)return Promise.resolve().then(async()=>{let B=[];for(let w of G){let q=await w.key,H=await w.value;B.push({key:q,value:H,alwaysSet:w.alwaysSet})}return B}).then((B)=>{return z5.mergeObjectSync(J,B)});else return z5.mergeObjectSync(J,G)}get shape(){return this._def.shape()}strict($){return W0.errToObj,new P1({...this._def,unknownKeys:"strict",...$!==void 0?{errorMap:(W,J)=>{let X=this._def.errorMap?.(W,J).message??J.defaultError;if(W.code==="unrecognized_keys")return{message:W0.errToObj($).message??X};return{message:X}}}:{}})}strip(){return new P1({...this._def,unknownKeys:"strip"})}passthrough(){return new P1({...this._def,unknownKeys:"passthrough"})}extend($){return new P1({...this._def,shape:()=>({...this._def.shape(),...$})})}merge($){return new P1({unknownKeys:$._def.unknownKeys,catchall:$._def.catchall,shape:()=>({...this._def.shape(),...$._def.shape()}),typeName:U0.ZodObject})}setKey($,W){return this.augment({[$]:W})}catchall($){return new P1({...this._def,catchall:$})}pick($){let W={};for(let J of C0.objectKeys($))if($[J]&&this.shape[J])W[J]=this.shape[J];return new P1({...this._def,shape:()=>W})}omit($){let W={};for(let J of C0.objectKeys(this.shape))if(!$[J])W[J]=this.shape[J];return new P1({...this._def,shape:()=>W})}deepPartial(){return S$(this)}partial($){let W={};for(let J of C0.objectKeys(this.shape)){let X=this.shape[J];if($&&!$[J])W[J]=X;else W[J]=X.optional()}return new P1({...this._def,shape:()=>W})}required($){let W={};for(let J of C0.objectKeys(this.shape))if($&&!$[J])W[J]=this.shape[J];else{let Q=this.shape[J];while(Q instanceof O8)Q=Q._def.innerType;W[J]=Q}return new P1({...this._def,shape:()=>W})}keyof(){return IA(C0.objectKeys(this.shape))}}P1.create=($,W)=>{return new P1({shape:()=>$,unknownKeys:"strip",catchall:f8.create(),typeName:U0.ZodObject,...D0(W)})};P1.strictCreate=($,W)=>{return new P1({shape:()=>$,unknownKeys:"strict",catchall:f8.create(),typeName:U0.ZodObject,...D0(W)})};P1.lazycreate=($,W)=>{return new P1({shape:$,unknownKeys:"strip",catchall:f8.create(),typeName:U0.ZodObject,...D0(W)})};class K$ extends j0{_parse($){let{ctx:W}=this._processInputParams($),J=this._def.options;function X(Q){for(let M of Q)if(M.result.status==="valid")return M.result;for(let M of Q)if(M.result.status==="dirty")return W.common.issues.push(...M.ctx.common.issues),M.result;let Y=Q.map((M)=>new s5(M.ctx.common.issues));return r(W,{code:c.invalid_union,unionErrors:Y}),w0}if(W.common.async)return Promise.all(J.map(async(Q)=>{let Y={...W,common:{...W.common,issues:[]},parent:null};return{result:await Q._parseAsync({data:W.data,path:W.path,parent:Y}),ctx:Y}})).then(X);else{let Q=void 0,Y=[];for(let G of J){let B={...W,common:{...W.common,issues:[]},parent:null},w=G._parseSync({data:W.data,path:W.path,parent:B});if(w.status==="valid")return w;else if(w.status==="dirty"&&!Q)Q={result:w,ctx:B};if(B.common.issues.length)Y.push(B.common.issues)}if(Q)return W.common.issues.push(...Q.ctx.common.issues),Q.result;let M=Y.map((G)=>new s5(G));return r(W,{code:c.invalid_union,unionErrors:M}),w0}}get options(){return this._def.options}}K$.create=($,W)=>{return new K$({options:$,typeName:U0.ZodUnion,...D0(W)})};var b6=($)=>{if($ instanceof C$)return b6($.schema);else if($ instanceof j8)return b6($.innerType());else if($ instanceof V$)return[$.value];else if($ instanceof B4)return $.options;else if($ instanceof P$)return C0.objectValues($.enum);else if($ instanceof E$)return b6($._def.innerType);else if($ instanceof _$)return[void 0];else if($ instanceof F$)return[null];else if($ instanceof O8)return[void 0,...b6($.unwrap())];else if($ instanceof C6)return[null,...b6($.unwrap())];else if($ instanceof bX)return b6($.unwrap());else if($ instanceof I$)return b6($.unwrap());else if($ instanceof R$)return b6($._def.innerType);else return[]};class KX extends j0{_parse($){let{ctx:W}=this._processInputParams($);if(W.parsedType!==i.object)return r(W,{code:c.invalid_type,expected:i.object,received:W.parsedType}),w0;let J=this.discriminator,X=W.data[J],Q=this.optionsMap.get(X);if(!Q)return r(W,{code:c.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[J]}),w0;if(W.common.async)return Q._parseAsync({data:W.data,path:W.path,parent:W});else return Q._parseSync({data:W.data,path:W.path,parent:W})}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create($,W,J){let X=new Map;for(let Q of W){let Y=b6(Q.shape[$]);if(!Y.length)throw new Error(`A discriminator value for key \`${$}\` could not be extracted from all schema options`);for(let M of Y){if(X.has(M))throw new Error(`Discriminator property ${String($)} has duplicate value ${String(M)}`);X.set(M,Q)}}return new KX({typeName:U0.ZodDiscriminatedUnion,discriminator:$,options:W,optionsMap:X,...D0(J)})}}function bM($,W){let J=g8($),X=g8(W);if($===W)return{valid:!0,data:$};else if(J===i.object&&X===i.object){let Q=C0.objectKeys(W),Y=C0.objectKeys($).filter((G)=>Q.indexOf(G)!==-1),M={...$,...W};for(let G of Y){let B=bM($[G],W[G]);if(!B.valid)return{valid:!1};M[G]=B.data}return{valid:!0,data:M}}else if(J===i.array&&X===i.array){if($.length!==W.length)return{valid:!1};let Q=[];for(let Y=0;Y<$.length;Y++){let M=$[Y],G=W[Y],B=bM(M,G);if(!B.valid)return{valid:!1};Q.push(B.data)}return{valid:!0,data:Q}}else if(J===i.date&&X===i.date&&+$===+W)return{valid:!0,data:$};else return{valid:!1}}class b$ extends j0{_parse($){let{status:W,ctx:J}=this._processInputParams($),X=(Q,Y)=>{if(_X(Q)||_X(Y))return w0;let M=bM(Q.value,Y.value);if(!M.valid)return r(J,{code:c.invalid_intersection_types}),w0;if(FX(Q)||FX(Y))W.dirty();return{status:W.value,value:M.data}};if(J.common.async)return Promise.all([this._def.left._parseAsync({data:J.data,path:J.path,parent:J}),this._def.right._parseAsync({data:J.data,path:J.path,parent:J})]).then(([Q,Y])=>X(Q,Y));else return X(this._def.left._parseSync({data:J.data,path:J.path,parent:J}),this._def.right._parseSync({data:J.data,path:J.path,parent:J}))}}b$.create=($,W,J)=>{return new b$({left:$,right:W,typeName:U0.ZodIntersection,...D0(J)})};class v8 extends j0{_parse($){let{status:W,ctx:J}=this._processInputParams($);if(J.parsedType!==i.array)return r(J,{code:c.invalid_type,expected:i.array,received:J.parsedType}),w0;if(J.data.length<this._def.items.length)return r(J,{code:c.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),w0;if(!this._def.rest&&J.data.length>this._def.items.length)r(J,{code:c.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),W.dirty();let Q=[...J.data].map((Y,M)=>{let G=this._def.items[M]||this._def.rest;if(!G)return null;return G._parse(new S8(J,Y,J.path,M))}).filter((Y)=>!!Y);if(J.common.async)return Promise.all(Q).then((Y)=>{return z5.mergeArray(W,Y)});else return z5.mergeArray(W,Q)}get items(){return this._def.items}rest($){return new v8({...this._def,rest:$})}}v8.create=($,W)=>{if(!Array.isArray($))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new v8({items:$,typeName:U0.ZodTuple,rest:null,...D0(W)})};class zW extends j0{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse($){let{status:W,ctx:J}=this._processInputParams($);if(J.parsedType!==i.object)return r(J,{code:c.invalid_type,expected:i.object,received:J.parsedType}),w0;let X=[],Q=this._def.keyType,Y=this._def.valueType;for(let M in J.data)X.push({key:Q._parse(new S8(J,M,J.path,M)),value:Y._parse(new S8(J,J.data[M],J.path,M)),alwaysSet:M in J.data});if(J.common.async)return z5.mergeObjectAsync(W,X);else return z5.mergeObjectSync(W,X)}get element(){return this._def.valueType}static create($,W,J){if(W instanceof j0)return new zW({keyType:$,valueType:W,typeName:U0.ZodRecord,...D0(J)});return new zW({keyType:D8.create(),valueType:$,typeName:U0.ZodRecord,...D0(W)})}}class AW extends j0{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse($){let{status:W,ctx:J}=this._processInputParams($);if(J.parsedType!==i.map)return r(J,{code:c.invalid_type,expected:i.map,received:J.parsedType}),w0;let X=this._def.keyType,Q=this._def.valueType,Y=[...J.data.entries()].map(([M,G],B)=>{return{key:X._parse(new S8(J,M,J.path,[B,"key"])),value:Q._parse(new S8(J,G,J.path,[B,"value"]))}});if(J.common.async){let M=new Map;return Promise.resolve().then(async()=>{for(let G of Y){let B=await G.key,w=await G.value;if(B.status==="aborted"||w.status==="aborted")return w0;if(B.status==="dirty"||w.status==="dirty")W.dirty();M.set(B.value,w.value)}return{status:W.value,value:M}})}else{let M=new Map;for(let G of Y){let{key:B,value:w}=G;if(B.status==="aborted"||w.status==="aborted")return w0;if(B.status==="dirty"||w.status==="dirty")W.dirty();M.set(B.value,w.value)}return{status:W.value,value:M}}}}AW.create=($,W,J)=>{return new AW({valueType:W,keyType:$,typeName:U0.ZodMap,...D0(J)})};class M9 extends j0{_parse($){let{status:W,ctx:J}=this._processInputParams($);if(J.parsedType!==i.set)return r(J,{code:c.invalid_type,expected:i.set,received:J.parsedType}),w0;let X=this._def;if(X.minSize!==null){if(J.data.size<X.minSize.value)r(J,{code:c.too_small,minimum:X.minSize.value,type:"set",inclusive:!0,exact:!1,message:X.minSize.message}),W.dirty()}if(X.maxSize!==null){if(J.data.size>X.maxSize.value)r(J,{code:c.too_big,maximum:X.maxSize.value,type:"set",inclusive:!0,exact:!1,message:X.maxSize.message}),W.dirty()}let Q=this._def.valueType;function Y(G){let B=new Set;for(let w of G){if(w.status==="aborted")return w0;if(w.status==="dirty")W.dirty();B.add(w.value)}return{status:W.value,value:B}}let M=[...J.data.values()].map((G,B)=>Q._parse(new S8(J,G,J.path,B)));if(J.common.async)return Promise.all(M).then((G)=>Y(G));else return Y(M)}min($,W){return new M9({...this._def,minSize:{value:$,message:W0.toString(W)}})}max($,W){return new M9({...this._def,maxSize:{value:$,message:W0.toString(W)}})}size($,W){return this.min($,W).max($,W)}nonempty($){return this.min(1,$)}}M9.create=($,W)=>{return new M9({valueType:$,minSize:null,maxSize:null,typeName:U0.ZodSet,...D0(W)})};class j$ extends j0{constructor(){super(...arguments);this.validate=this.implement}_parse($){let{ctx:W}=this._processInputParams($);if(W.parsedType!==i.function)return r(W,{code:c.invalid_type,expected:i.function,received:W.parsedType}),w0;function J(M,G){return qW({data:M,path:W.path,errorMaps:[W.common.contextualErrorMap,W.schemaErrorMap,Z$(),K6].filter((B)=>!!B),issueData:{code:c.invalid_arguments,argumentsError:G}})}function X(M,G){return qW({data:M,path:W.path,errorMaps:[W.common.contextualErrorMap,W.schemaErrorMap,Z$(),K6].filter((B)=>!!B),issueData:{code:c.invalid_return_type,returnTypeError:G}})}let Q={errorMap:W.common.contextualErrorMap},Y=W.data;if(this._def.returns instanceof G9){let M=this;return b5(async function(...G){let B=new s5([]),w=await M._def.args.parseAsync(G,Q).catch((z)=>{throw B.addIssue(J(G,z)),B}),q=await Reflect.apply(Y,this,w);return await M._def.returns._def.type.parseAsync(q,Q).catch((z)=>{throw B.addIssue(X(q,z)),B})})}else{let M=this;return b5(function(...G){let B=M._def.args.safeParse(G,Q);if(!B.success)throw new s5([J(G,B.error)]);let w=Reflect.apply(Y,this,B.data),q=M._def.returns.safeParse(w,Q);if(!q.success)throw new s5([X(w,q.error)]);return q.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...$){return new j$({...this._def,args:v8.create($).rest(Y4.create())})}returns($){return new j$({...this._def,returns:$})}implement($){return this.parse($)}strictImplement($){return this.parse($)}static create($,W,J){return new j$({args:$?$:v8.create([]).rest(Y4.create()),returns:W||Y4.create(),typeName:U0.ZodFunction,...D0(J)})}}class C$ extends j0{get schema(){return this._def.getter()}_parse($){let{ctx:W}=this._processInputParams($);return this._def.getter()._parse({data:W.data,path:W.path,parent:W})}}C$.create=($,W)=>{return new C$({getter:$,typeName:U0.ZodLazy,...D0(W)})};class V$ extends j0{_parse($){if($.data!==this._def.value){let W=this._getOrReturnCtx($);return r(W,{received:W.data,code:c.invalid_literal,expected:this._def.value}),w0}return{status:"valid",value:$.data}}get value(){return this._def.value}}V$.create=($,W)=>{return new V$({value:$,typeName:U0.ZodLiteral,...D0(W)})};function IA($,W){return new B4({values:$,typeName:U0.ZodEnum,...D0(W)})}class B4 extends j0{_parse($){if(typeof $.data!=="string"){let W=this._getOrReturnCtx($),J=this._def.values;return r(W,{expected:C0.joinValues(J),received:W.parsedType,code:c.invalid_type}),w0}if(!this._cache)this._cache=new Set(this._def.values);if(!this._cache.has($.data)){let W=this._getOrReturnCtx($),J=this._def.values;return r(W,{received:W.data,code:c.invalid_enum_value,options:J}),w0}return b5($.data)}get options(){return this._def.values}get enum(){let $={};for(let W of this._def.values)$[W]=W;return $}get Values(){let $={};for(let W of this._def.values)$[W]=W;return $}get Enum(){let $={};for(let W of this._def.values)$[W]=W;return $}extract($,W=this._def){return B4.create($,{...this._def,...W})}exclude($,W=this._def){return B4.create(this.options.filter((J)=>!$.includes(J)),{...this._def,...W})}}B4.create=IA;class P$ extends j0{_parse($){let W=C0.getValidEnumValues(this._def.values),J=this._getOrReturnCtx($);if(J.parsedType!==i.string&&J.parsedType!==i.number){let X=C0.objectValues(W);return r(J,{expected:C0.joinValues(X),received:J.parsedType,code:c.invalid_type}),w0}if(!this._cache)this._cache=new Set(C0.getValidEnumValues(this._def.values));if(!this._cache.has($.data)){let X=C0.objectValues(W);return r(J,{received:J.data,code:c.invalid_enum_value,options:X}),w0}return b5($.data)}get enum(){return this._def.values}}P$.create=($,W)=>{return new P$({values:$,typeName:U0.ZodNativeEnum,...D0(W)})};class G9 extends j0{unwrap(){return this._def.type}_parse($){let{ctx:W}=this._processInputParams($);if(W.parsedType!==i.promise&&W.common.async===!1)return r(W,{code:c.invalid_type,expected:i.promise,received:W.parsedType}),w0;let J=W.parsedType===i.promise?W.data:Promise.resolve(W.data);return b5(J.then((X)=>{return this._def.type.parseAsync(X,{path:W.path,errorMap:W.common.contextualErrorMap})}))}}G9.create=($,W)=>{return new G9({type:$,typeName:U0.ZodPromise,...D0(W)})};class j8 extends j0{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===U0.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse($){let{status:W,ctx:J}=this._processInputParams($),X=this._def.effect||null,Q={addIssue:(Y)=>{if(r(J,Y),Y.fatal)W.abort();else W.dirty()},get path(){return J.path}};if(Q.addIssue=Q.addIssue.bind(Q),X.type==="preprocess"){let Y=X.transform(J.data,Q);if(J.common.async)return Promise.resolve(Y).then(async(M)=>{if(W.value==="aborted")return w0;let G=await this._def.schema._parseAsync({data:M,path:J.path,parent:J});if(G.status==="aborted")return w0;if(G.status==="dirty")return X9(G.value);if(W.value==="dirty")return X9(G.value);return G});else{if(W.value==="aborted")return w0;let M=this._def.schema._parseSync({data:Y,path:J.path,parent:J});if(M.status==="aborted")return w0;if(M.status==="dirty")return X9(M.value);if(W.value==="dirty")return X9(M.value);return M}}if(X.type==="refinement"){let Y=(M)=>{let G=X.refinement(M,Q);if(J.common.async)return Promise.resolve(G);if(G instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return M};if(J.common.async===!1){let M=this._def.schema._parseSync({data:J.data,path:J.path,parent:J});if(M.status==="aborted")return w0;if(M.status==="dirty")W.dirty();return Y(M.value),{status:W.value,value:M.value}}else return this._def.schema._parseAsync({data:J.data,path:J.path,parent:J}).then((M)=>{if(M.status==="aborted")return w0;if(M.status==="dirty")W.dirty();return Y(M.value).then(()=>{return{status:W.value,value:M.value}})})}if(X.type==="transform")if(J.common.async===!1){let Y=this._def.schema._parseSync({data:J.data,path:J.path,parent:J});if(!Q4(Y))return w0;let M=X.transform(Y.value,Q);if(M instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:W.value,value:M}}else return this._def.schema._parseAsync({data:J.data,path:J.path,parent:J}).then((Y)=>{if(!Q4(Y))return w0;return Promise.resolve(X.transform(Y.value,Q)).then((M)=>({status:W.value,value:M}))});C0.assertNever(X)}}j8.create=($,W,J)=>{return new j8({schema:$,typeName:U0.ZodEffects,effect:W,...D0(J)})};j8.createWithPreprocess=($,W,J)=>{return new j8({schema:W,effect:{type:"preprocess",transform:$},typeName:U0.ZodEffects,...D0(J)})};class O8 extends j0{_parse($){if(this._getType($)===i.undefined)return b5(void 0);return this._def.innerType._parse($)}unwrap(){return this._def.innerType}}O8.create=($,W)=>{return new O8({innerType:$,typeName:U0.ZodOptional,...D0(W)})};class C6 extends j0{_parse($){if(this._getType($)===i.null)return b5(null);return this._def.innerType._parse($)}unwrap(){return this._def.innerType}}C6.create=($,W)=>{return new C6({innerType:$,typeName:U0.ZodNullable,...D0(W)})};class E$ extends j0{_parse($){let{ctx:W}=this._processInputParams($),J=W.data;if(W.parsedType===i.undefined)J=this._def.defaultValue();return this._def.innerType._parse({data:J,path:W.path,parent:W})}removeDefault(){return this._def.innerType}}E$.create=($,W)=>{return new E$({innerType:$,typeName:U0.ZodDefault,defaultValue:typeof W.default==="function"?W.default:()=>W.default,...D0(W)})};class R$ extends j0{_parse($){let{ctx:W}=this._processInputParams($),J={...W,common:{...W.common,issues:[]}},X=this._def.innerType._parse({data:J.data,path:J.path,parent:{...J}});if(O$(X))return X.then((Q)=>{return{status:"valid",value:Q.status==="valid"?Q.value:this._def.catchValue({get error(){return new s5(J.common.issues)},input:J.data})}});else return{status:"valid",value:X.status==="valid"?X.value:this._def.catchValue({get error(){return new s5(J.common.issues)},input:J.data})}}removeCatch(){return this._def.innerType}}R$.create=($,W)=>{return new R$({innerType:$,typeName:U0.ZodCatch,catchValue:typeof W.catch==="function"?W.catch:()=>W.catch,...D0(W)})};class NW extends j0{_parse($){if(this._getType($)!==i.nan){let J=this._getOrReturnCtx($);return r(J,{code:c.invalid_type,expected:i.nan,received:J.parsedType}),w0}return{status:"valid",value:$.data}}}NW.create=($)=>{return new NW({typeName:U0.ZodNaN,...D0($)})};var Lx=Symbol("zod_brand");class bX extends j0{_parse($){let{ctx:W}=this._processInputParams($),J=W.data;return this._def.type._parse({data:J,path:W.path,parent:W})}unwrap(){return this._def.type}}class DW extends j0{_parse($){let{status:W,ctx:J}=this._processInputParams($);if(J.common.async)return(async()=>{let Q=await this._def.in._parseAsync({data:J.data,path:J.path,parent:J});if(Q.status==="aborted")return w0;if(Q.status==="dirty")return W.dirty(),X9(Q.value);else return this._def.out._parseAsync({data:Q.value,path:J.path,parent:J})})();else{let X=this._def.in._parseSync({data:J.data,path:J.path,parent:J});if(X.status==="aborted")return w0;if(X.status==="dirty")return W.dirty(),{status:"dirty",value:X.value};else return this._def.out._parseSync({data:X.value,path:J.path,parent:J})}}static create($,W){return new DW({in:$,out:W,typeName:U0.ZodPipeline})}}class I$ extends j0{_parse($){let W=this._def.innerType._parse($),J=(X)=>{if(Q4(X))X.value=Object.freeze(X.value);return X};return O$(W)?W.then((X)=>J(X)):J(W)}unwrap(){return this._def.innerType}}I$.create=($,W)=>{return new I$({innerType:$,typeName:U0.ZodReadonly,...D0(W)})};function VA($,W){let J=typeof $==="function"?$(W):typeof $==="string"?{message:$}:$;return typeof J==="string"?{message:J}:J}function xA($,W={},J){if($)return Y9.create().superRefine((X,Q)=>{let Y=$(X);if(Y instanceof Promise)return Y.then((M)=>{if(!M){let G=VA(W,X),B=G.fatal??J??!0;Q.addIssue({code:"custom",...G,fatal:B})}});if(!Y){let M=VA(W,X),G=M.fatal??J??!0;Q.addIssue({code:"custom",...M,fatal:G})}return});return Y9.create()}var _x={object:P1.lazycreate},U0;(function($){$.ZodString="ZodString",$.ZodNumber="ZodNumber",$.ZodNaN="ZodNaN",$.ZodBigInt="ZodBigInt",$.ZodBoolean="ZodBoolean",$.ZodDate="ZodDate",$.ZodSymbol="ZodSymbol",$.ZodUndefined="ZodUndefined",$.ZodNull="ZodNull",$.ZodAny="ZodAny",$.ZodUnknown="ZodUnknown",$.ZodNever="ZodNever",$.ZodVoid="ZodVoid",$.ZodArray="ZodArray",$.ZodObject="ZodObject",$.ZodUnion="ZodUnion",$.ZodDiscriminatedUnion="ZodDiscriminatedUnion",$.ZodIntersection="ZodIntersection",$.ZodTuple="ZodTuple",$.ZodRecord="ZodRecord",$.ZodMap="ZodMap",$.ZodSet="ZodSet",$.ZodFunction="ZodFunction",$.ZodLazy="ZodLazy",$.ZodLiteral="ZodLiteral",$.ZodEnum="ZodEnum",$.ZodEffects="ZodEffects",$.ZodNativeEnum="ZodNativeEnum",$.ZodOptional="ZodOptional",$.ZodNullable="ZodNullable",$.ZodDefault="ZodDefault",$.ZodCatch="ZodCatch",$.ZodPromise="ZodPromise",$.ZodBranded="ZodBranded",$.ZodPipeline="ZodPipeline",$.ZodReadonly="ZodReadonly"})(U0||(U0={}));var Fx=($,W={message:`Input not instance of ${$.name}`})=>xA((J)=>J instanceof $,W),kA=D8.create,TA=M4.create,Kx=NW.create,bx=G4.create,gA=L$.create,Cx=Q9.create,Vx=HW.create,Px=_$.create,Ex=F$.create,Rx=Y9.create,Ix=Y4.create,xx=f8.create,kx=UW.create,Tx=Z8.create,gx=P1.create,fx=P1.strictCreate,vx=K$.create,dx=KX.create,yx=b$.create,cx=v8.create,hx=zW.create,mx=AW.create,ux=M9.create,lx=j$.create,px=C$.create,ix=V$.create,nx=B4.create,ox=P$.create,sx=G9.create,rx=j8.create,ax=O8.create,tx=C6.create,ex=j8.createWithPreprocess,$k=DW.create,Wk=()=>kA().optional(),Jk=()=>TA().optional(),Xk=()=>gA().optional(),Qk={string:($)=>D8.create({...$,coerce:!0}),number:($)=>M4.create({...$,coerce:!0}),boolean:($)=>L$.create({...$,coerce:!0}),bigint:($)=>G4.create({...$,coerce:!0}),date:($)=>Q9.create({...$,coerce:!0})};var Yk=w0;var Mk=R.object({name:R.string().regex(/^x-/),component:R.unknown()}),fA=R.function().returns(R.object({name:R.string(),extensions:R.array(Mk)}));var vA=[["--theme-","--scalar-"],["--sidebar-","--scalar-sidebar-"]],Gk=vA.map(([$])=>$);function CX($){if(!Gk.some((J)=>$.includes(J)))return $;return console.warn("DEPRECATION WARNING: It looks like you're using legacy CSS variables in your custom CSS string. Please migrate them to use the updated prefixes. See https://github.com/scalar/scalar/blob/main/documentation/themes.md#theme-prefix-changes"),vA.reduce((J,[X,Q])=>J.replaceAll(X,Q),$)}var Bk=R.enum(["alternate","default","moon","purple","solarized","bluePlanet","deepSpace","saturn","kepler","elysiajs","fastify","mars","none"]),wk=R.enum(["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"]),qk=R.enum(["adonisjs","docusaurus","dotnet","elysiajs","express","fastapi","fastify","go","hono","html","laravel","litestar","nestjs","nextjs","nitro","nuxt","platformatic","react","rust","vue"]).nullable(),yA=R.object({url:R.string().optional(),content:R.union([R.string(),R.record(R.any()),R.function().returns(R.record(R.any())),R.null()]).optional(),title:R.string().optional(),slug:R.string().optional()}),Hk=R.object({basePath:R.string()}),cA=R.object({url:R.string().optional(),content:R.union([R.string(),R.record(R.any()),R.function().returns(R.record(R.any())),R.null()]).optional(),title:R.string().optional(),slug:R.string().optional(),spec:yA.optional(),authentication:R.any().optional(),baseServerURL:R.string().optional(),hideClientButton:R.boolean().optional().default(!1).catch(!1),proxyUrl:R.string().optional(),searchHotKey:wk.optional(),servers:R.array(R.any()).optional(),showSidebar:R.boolean().optional().default(!0).catch(!0),theme:Bk.optional().default("default").catch("default"),_integration:qk.optional(),onRequestSent:R.function().args(R.string()).returns(R.void()).optional()}),dA="https://api.scalar.com/request-proxy",CM="https://proxy.scalar.com",Uk=cA.merge(R.object({layout:R.enum(["modern","classic"]).optional().default("modern").catch("modern"),proxy:R.string().optional(),plugins:R.array(fA).optional(),isEditable:R.boolean().optional().default(!1).catch(!1),isLoading:R.boolean().optional().default(!1).catch(!1),hideModels:R.boolean().optional().default(!1).catch(!1),hideDownloadButton:R.boolean().optional().default(!1).catch(!1),hideTestRequestButton:R.boolean().optional().default(!1).catch(!1),hideSearch:R.boolean().optional().default(!1).catch(!1),darkMode:R.boolean().optional(),forceDarkModeState:R.enum(["dark","light"]).optional(),hideDarkModeToggle:R.boolean().optional().default(!1).catch(!1),metaData:R.any().optional(),favicon:R.string().optional(),hiddenClients:R.union([R.record(R.union([R.boolean(),R.array(R.string())])),R.array(R.string()),R.literal(!0)]).optional(),defaultHttpClient:R.object({targetKey:R.custom(),clientKey:R.string()}).optional(),customCss:R.string().optional(),onSpecUpdate:R.function().args(R.string()).returns(R.void()).optional(),onServerChange:R.function().args(R.string()).returns(R.void()).optional(),onDocumentSelect:R.function().returns(R.void().or(R.void().promise())).optional(),onLoaded:R.function().returns(R.void().or(R.void().promise())).optional(),onShowMore:R.function().args(R.string()).returns(R.void().or(R.void().promise())).optional(),onSidebarClick:R.function().args(R.string()).returns(R.void().or(R.void().promise())).optional(),pathRouting:Hk.optional(),generateHeadingSlug:R.function().args(R.object({slug:R.string().default("headingSlug")})).returns(R.string()).optional(),generateModelSlug:R.function().args(R.object({name:R.string().default("modelName")})).returns(R.string()).optional(),generateTagSlug:R.function().args(R.object({name:R.string().default("tagName")})).returns(R.string()).optional(),generateOperationSlug:R.function().args(R.object({path:R.string(),operationId:R.string().optional(),method:R.string(),summary:R.string().optional()})).returns(R.string()).optional(),generateWebhookSlug:R.function().args(R.object({name:R.string(),method:R.string().optional()})).returns(R.string()).optional(),redirect:R.function().args(R.string()).returns(R.string().nullable().optional()).optional(),withDefaultFonts:R.boolean().optional().default(!0).catch(!0),defaultOpenAllTags:R.boolean().optional(),tagsSorter:R.union([R.literal("alpha"),R.function().args(R.any(),R.any()).returns(R.number())]).optional(),operationsSorter:R.union([R.literal("alpha"),R.literal("method"),R.function().args(R.any(),R.any()).returns(R.number())]).optional()})),zk=($)=>{let W={...$};if(W.spec?.url)console.warn("[DEPRECATED] You're using the deprecated 'spec.url' attribute. Remove the spec prefix and move the 'url' attribute to the top level."),W.url=W.spec.url,delete W.spec;if(W.spec?.content)console.warn("[DEPRECATED] You're using the deprecated 'spec.content' attribute. Remove the spec prefix and move the 'content' attribute to the top level."),W.content=W.spec.content,delete W.spec;if(W.customCss)W.customCss=CX(W.customCss);if(W.proxy){if(console.warn("[DEPRECATED] You're using the deprecated 'proxy' attribute, rename it to 'proxyUrl' or update the package."),!W.proxyUrl)W.proxyUrl=W.proxy;delete W.proxy}if(W.proxyUrl===dA)console.warn(`[DEPRECATED] Warning: configuration.proxyUrl points to our old proxy (${dA}).`),console.warn(`[DEPRECATED] We are overwriting the value and use the new proxy URL (${CM}) instead.`),console.warn(`[DEPRECATED] Action Required: You should manually update your configuration to use the new URL (${CM}). Read more: https://github.com/scalar/scalar`),W.proxyUrl=CM;return W},Ak=Uk.transform(zk);var Nk=R.object({cdn:R.string().optional().default("https://cdn.jsdelivr.net/npm/@scalar/api-reference"),pageTitle:R.string().optional().default("Scalar API Reference")});var Dk={alternate:AA,default:ZA,moon:LA,elysiajs:LX,fastify:OA,purple:_A,solarized:KA,bluePlanet:NA,deepSpace:DA,saturn:FA,kepler:SA,mars:jA};var WJ0=Object.keys(Dk);function VM($){return"type"in $||"properties"in $||"items"in $}function Zk($,W){return($==="createdAt"||$==="updatedAt")&&"anyOf"in W&&Array.isArray(W.anyOf)}function uA($){if(!VM($)||typeof $!=="object"||$===null)return $;let W={...$};return Object.entries(W).forEach(([J,X])=>{if(VM(X))if(Zk(J,X)){let Q=X.anyOf?.find((Y)=>VM(Y)&&Y.format==="date-time");if(Q){let Y={type:"string",format:"date-time",default:Q.default};W[J]=Y}}else W[J]=uA(X)}),W}var Ok=($,W,J,X,Q)=>{let Y=JSON.parse(X);if(Y.components&&Y.components.schemas)Y.components.schemas=Object.fromEntries(Object.entries(Y.components.schemas).map(([G,B])=>[G,uA(B)]));let M=JSON.stringify(Y);return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>${$.title}</title>
    <meta
        name="description"
        content="${$.description}"
    />
    <meta
        name="og:description"
        content="${$.description}"
    />
    ${Q&&typeof J==="string"?`
    <style>
        @media (prefers-color-scheme: dark) {
            body {
                background-color: #222;
                color: #faf9a;
            }
            .swagger-ui {
                filter: invert(92%) hue-rotate(180deg);
            }

            .swagger-ui .microlight {
                filter: invert(100%) hue-rotate(180deg);
            }
        }
    </style>`:""}
    ${typeof J==="string"?`<link rel="stylesheet" href="${J}" />`:`<link rel="stylesheet" media="(prefers-color-scheme: light)" href="${J.light}" />
<link rel="stylesheet" media="(prefers-color-scheme: dark)" href="${J.dark}" />`}
</head>
<body>
    <div id="swagger-ui"></div>
    <script src="https://unpkg.com/swagger-ui-dist@${W}/swagger-ui-bundle.js" crossorigin></script>
    <script>
        window.onload = () => {
            window.ui = SwaggerUIBundle(${M});
        };
    </script>
</body>
</html>`},Sk=($,W,J,X)=>`<!doctype html>
<html>
  <head>
    <title>${$.title}</title>
    <meta
        name="description"
        content="${$.description}"
    />
    <meta
        name="og:description"
        content="${$.description}"
    />
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1" />
    <style>
      body {
        margin: 0;
      }
    </style>
    <style>
      ${J.customCss??LX}
    </style>
  </head>
  <body>
    <script
      id="api-reference"
      data-url="${J.spec?.url}"
      data-configuration='${JSON.stringify(J)}'
    >
    </script>
    <script src="${X?X:`https://cdn.jsdelivr.net/npm/@scalar/api-reference@${W}/dist/browser/standalone.min.js`}" crossorigin></script>
  </body>
</html>`,MJ0=Symbol.for("TypeBox.Transform"),GJ0=Symbol.for("TypeBox.Readonly"),BJ0=Symbol.for("TypeBox.Optional"),wJ0=Symbol.for("TypeBox.Hint"),EM=Symbol.for("TypeBox.Kind"),jk=($)=>$.split("/").map((W)=>{if(W.startsWith(":")){if(W=W.slice(1,W.length),W.endsWith("?"))W=W.slice(0,-1);W=`{${W}}`}return W}).join("/"),PM=($,W,J)=>{if(W===void 0)return[];if(typeof W==="string")if(W in J)W=J[W];else throw new Error(`Can't find model ${W}`);return Object.entries(W?.properties??[]).map(([X,Q])=>{let{type:Y=void 0,description:M,examples:G,...B}=Q;return{description:M,examples:G,schema:{type:Y,...B},in:$,name:X,required:W.required?.includes(X)??!1}})},ZW=($,W)=>{if(typeof W==="object"&&["void","undefined","null"].includes(W.type))return;let J={};for(let X of $)J[X]={schema:typeof W==="string"?{$ref:`#/components/schemas/${W}`}:("$ref"in W)&&(EM in W)&&W[EM]==="Ref"?{...W,$ref:`#/components/schemas/${W.$ref}`}:$W({...W},{from:A.Ref(""),to:({$ref:Q,...Y})=>{if(!Q.startsWith("#/components/schemas/"))return A.Ref(`#/components/schemas/${Q}`,Y);return A.Ref(Q,Y)}})};return J},hA=($)=>$.charAt(0).toUpperCase()+$.slice(1),Lk=($,W)=>{let J=$.toLowerCase();if(W==="/")return J+"Index";for(let X of W.split("/"))if(X.charCodeAt(0)===123)J+="By"+hA(X.slice(1,-1));else J+=hA(X);return J},x$=($)=>{if(!$)return;if(typeof $==="string")return $;if(Array.isArray($))return[...$];return{...$}},mA=({schema:$,path:W,method:J,hook:X,models:Q})=>{if(X=x$(X),X.parse&&!Array.isArray(X.parse))X.parse=[X.parse];let Y=X.parse?.map((U)=>{switch(typeof U){case"string":return U;case"object":if(U&&typeof U?.fn!=="string")return;switch(U?.fn){case"json":case"application/json":return"application/json";case"text":case"text/plain":return"text/plain";case"urlencoded":case"application/x-www-form-urlencoded":return"application/x-www-form-urlencoded";case"arrayBuffer":case"application/octet-stream":return"application/octet-stream";case"formdata":case"multipart/form-data":return"multipart/form-data"}}}).filter((U)=>U!==void 0);if(!Y||Y.length===0)Y=["application/json","multipart/form-data","text/plain"];W=jk(W);let M=typeof Y==="string"?[Y]:Y??["application/json"],G=x$(X?.body),B=x$(X?.params),w=x$(X?.headers),q=x$(X?.query),H=x$(X?.response);if(typeof H==="object")if(EM in H){let{type:U,properties:N,required:D,additionalProperties:j,patternProperties:K,$ref:O,...E}=H;H={"200":{...E,description:E.description,content:ZW(M,U==="object"||U==="array"?{type:U,properties:N,patternProperties:K,items:H.items,required:D}:H)}}}else Object.entries(H).forEach(([U,N])=>{if(typeof N==="string"){if(!Q[N])return;let{type:D,properties:j,required:K,additionalProperties:O,patternProperties:E,...m}=Q[N];H[U]={...m,description:m.description,content:ZW(M,N)}}else{let{type:D,properties:j,required:K,additionalProperties:O,patternProperties:E,...m}=N;H[U]={...m,description:m.description,content:ZW(M,D==="object"||D==="array"?{type:D,properties:j,patternProperties:E,items:N.items,required:K}:N)}}});else if(typeof H==="string"){if(!(H in Q))return;let{type:U,properties:N,required:D,$ref:j,additionalProperties:K,patternProperties:O,...E}=Q[H];H={"200":{...E,content:ZW(M,H)}}}let z=[...PM("header",w,Q),...PM("path",B,Q),...PM("query",q,Q)];$[W]={...$[W]?$[W]:{},[J.toLowerCase()]:{...w||B||q||G?{parameters:z}:{},...H?{responses:H}:{},operationId:X?.detail?.operationId??Lk(J,W),...X?.detail,...G?{requestBody:{required:!0,content:ZW(M,typeof G==="string"?{$ref:`#/components/schemas/${G}`}:G)}}:null}}},_k=($,{excludeStaticFile:W=!0,exclude:J=[]})=>{let X={};for(let[Q,Y]of Object.entries($))if(!J.some((M)=>{if(typeof M==="string")return Q===M;return M.test(Q)})&&!Q.includes("*")&&(W?!Q.includes("."):!0))Object.keys(Y).forEach((M)=>{let G=Y[M];if(Q.includes("{")){if(!G.parameters)G.parameters=[];G.parameters=[...Q.split("/").filter((B)=>B.startsWith("{")&&!G.parameters.find((w)=>w.in==="path"&&w.name===B.slice(1,B.length-1))).map((B)=>({schema:{type:"string"},in:"path",name:B.slice(1,B.length-1),required:!0})),...G.parameters]}if(!G.responses)G.responses={200:{}}}),X[Q]=Y;return X},Fk=({provider:$="scalar",scalarVersion:W="latest",scalarCDN:J="",scalarConfig:X={},documentation:Q={},version:Y="5.9.0",excludeStaticFile:M=!0,path:G="/swagger",specPath:B=`${G}/json`,exclude:w=[],swaggerOptions:q={},theme:H=`https://unpkg.com/swagger-ui-dist@${Y}/swagger-ui.css`,autoDarkMode:z=!0,excludeMethods:U=["OPTIONS"],excludeTags:N=[]}={})=>{let D={},j=0;if(!Y)Y=`https://unpkg.com/swagger-ui-dist@${Y}/swagger-ui.css`;let K={title:"Elysia Documentation",description:"Development documentation",version:"0.0.0",...Q.info},O=B.startsWith("/")?B.slice(1):B,E=new h1({name:"@elysiajs/swagger"}),m=new Response($==="swagger-ui"?Ok(K,Y,H,JSON.stringify({url:O,dom_id:"#swagger-ui",...q},(e,T)=>typeof T==="function"?void 0:T),z):Sk(K,W,{spec:{url:O,...X.spec},...X,_integration:"elysiajs"},J),{headers:{"content-type":"text/html; charset=utf8"}});return E.get(G,m,{detail:{hide:!0}}).get(B,function e(){let T=E.getGlobalRoutes();if(T.length!==j){let b=["GET","PUT","POST","DELETE","OPTIONS","HEAD","PATCH","TRACE"];j=T.length,T.forEach((x)=>{if(x.hooks?.detail?.hide===!0)return;if(U.includes(x.method))return;if(b.includes(x.method)===!1&&x.method!=="ALL")return;if(x.method==="ALL")b.forEach((k)=>{mA({schema:D,hook:x.hooks,method:k,path:x.path,models:E.getGlobalDefinitions?.().type,contentType:x.hooks.type})});else mA({schema:D,hook:x.hooks,method:x.method,path:x.path,models:E.getGlobalDefinitions?.().type,contentType:x.hooks.type})})}return{openapi:"3.0.3",...{...Q,tags:Q.tags?.filter((b)=>!N?.includes(b?.name)),info:{title:"Elysia Documentation",description:"Development documentation",version:"0.0.0",...Q.info}},paths:{..._k(D,{excludeStaticFile:M,exclude:Array.isArray(w)?w:[w]}),...Q.paths},components:{...Q.components,schemas:{...E.getGlobalDefinitions?.().type,...Q.components?.schemas}}}},{detail:{hide:!0}}),E},lA=Fk;var Kk=typeof new Headers()?.toJSON==="function",bk=($)=>{if(Kk)return Object.keys($.toJSON()).join(", ");let W="",J=0;return $.forEach((X,Q)=>{if(J)W=W+", "+Q;else W=Q;J++}),W},pA=($)=>{let{aot:W=!0,origin:J=!0,methods:X=!0,allowedHeaders:Q=!0,exposeHeaders:Y=!0,credentials:M=!0,maxAge:G=5,preflight:B=!0}=$??{};if(Array.isArray(Q))Q=Q.join(", ");if(Array.isArray(Y))Y=Y.join(", ");let w=typeof J==="boolean"?void 0:Array.isArray(J)?J:[J],q=new h1({name:"@elysiajs/cors",seed:$,aot:W}),H=w?.some((O)=>O==="*"),z={};if(w){for(let O of w)if(typeof O==="string")z[O]=!0}let U=(O,E,m)=>{if(Array.isArray(O))return O.some((e)=>U(e,E,m));switch(typeof O){case"string":if(m in z)return!0;let e=m.indexOf("://");if(e!==-1)m=m.slice(e+3);return O===m;case"function":return O(E)===!0;case"object":if(O instanceof RegExp)return O.test(m)}return!1},N=(O,E)=>{if(J===!0){O.headers.vary="*",O.headers["access-control-allow-origin"]=E.headers.get("Origin")||"*";return}if(H){O.headers.vary="*",O.headers["access-control-allow-origin"]="*";return}if(!w?.length)return;let m=[];if(w.length){let e=E.headers.get("Origin")??"";for(let T=0;T<w.length;T++)if(U(w[T],E,e)===!0){O.headers.vary=J?"Origin":"*",O.headers["access-control-allow-origin"]=e||"*";return}}if(O.headers.vary="Origin",m.length)O.headers["access-control-allow-origin"]=m.join(", ")},D=(O,E)=>{if(!E)return;if(X===!0)return O.headers["access-control-allow-methods"]=E??"*";if(X===!1||!X?.length)return;if(X==="*")return O.headers["access-control-allow-methods"]="*";if(!Array.isArray(X))return O.headers["access-control-allow-methods"]=X;O.headers["access-control-allow-methods"]=X.join(", ")},j={};if(typeof Y==="string")j["access-control-expose-headers"]=Y;if(typeof Q==="string")j["access-control-allow-headers"]=Q;if(M===!0)j["access-control-allow-credentials"]="true";q.headers(j);function K({set:O,request:E,headers:m}){if(N(O,E),D(O,E.headers.get("access-control-request-method")),Q===!0||Y===!0){if(Q===!0)O.headers["access-control-allow-headers"]=m["access-control-request-headers"];if(Y===!0)O.headers["access-control-expose-headers"]=Object.keys(m).join(",")}if(G)O.headers["access-control-max-age"]=G.toString();return new Response(null,{status:204})}if(B)q.options("/",K).options("/*",K);return q.onRequest(function O({set:E,request:m}){if(N(E,m),D(E,m.method),Q===!0||Y===!0){let e=bk(m.headers);if(Q===!0)E.headers["access-control-allow-headers"]=e;if(Y===!0)E.headers["access-control-expose-headers"]=e}})};var iA=pA({origin:"*"});var r5=new TextEncoder,I2=new TextDecoder;function VX(...$){let W=$.reduce((Q,{length:Y})=>Q+Y,0),J=new Uint8Array(W),X=0;for(let Q of $)J.set(Q,X),X+=Q.length;return J}function nA($){if(Uint8Array.prototype.toBase64)return $.toBase64();let W=32768,J=[];for(let X=0;X<$.length;X+=W)J.push(String.fromCharCode.apply(null,$.subarray(X,X+W)));return btoa(J.join(""))}function oA($){if(Uint8Array.fromBase64)return Uint8Array.fromBase64($);let W=atob($),J=new Uint8Array(W.length);for(let X=0;X<W.length;X++)J[X]=W.charCodeAt(X);return J}function k$($){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(typeof $==="string"?$:I2.decode($),{alphabet:"base64url"});let W=$;if(W instanceof Uint8Array)W=I2.decode(W);W=W.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return oA(W)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}function PX($){let W=$;if(typeof W==="string")W=r5.encode(W);if(Uint8Array.prototype.toBase64)return W.toBase64({alphabet:"base64url",omitPadding:!0});return nA(W).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class w4 extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor($,W){super($,W);this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class x2 extends w4{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor($,W,J="unspecified",X="unspecified"){super($,{cause:{claim:J,reason:X,payload:W}});this.claim=J,this.reason=X,this.payload=W}}class EX extends w4{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor($,W,J="unspecified",X="unspecified"){super($,{cause:{claim:J,reason:X,payload:W}});this.claim=J,this.reason=X,this.payload=W}}class RM extends w4{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class L8 extends w4{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class W1 extends w4{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class B9 extends w4{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class IM extends w4{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor($="signature verification failed",W){super($,W)}}function d8($,W="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${W} must be ${$}`)}function T$($,W){return $.name===W}function xM($){return parseInt($.name.slice(4),10)}function Pk($){switch($){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function Ek($,W){if(W&&!$.usages.includes(W))throw new TypeError(`CryptoKey does not support this operation, its usages must include ${W}.`)}function sA($,W,J){switch(W){case"HS256":case"HS384":case"HS512":{if(!T$($.algorithm,"HMAC"))throw d8("HMAC");let X=parseInt(W.slice(2),10);if(xM($.algorithm.hash)!==X)throw d8(`SHA-${X}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!T$($.algorithm,"RSASSA-PKCS1-v1_5"))throw d8("RSASSA-PKCS1-v1_5");let X=parseInt(W.slice(2),10);if(xM($.algorithm.hash)!==X)throw d8(`SHA-${X}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!T$($.algorithm,"RSA-PSS"))throw d8("RSA-PSS");let X=parseInt(W.slice(2),10);if(xM($.algorithm.hash)!==X)throw d8(`SHA-${X}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":{if(!T$($.algorithm,"Ed25519"))throw d8("Ed25519");break}case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":{if(!T$($.algorithm,W))throw d8(W);break}case"ES256":case"ES384":case"ES512":{if(!T$($.algorithm,"ECDSA"))throw d8("ECDSA");let X=Pk(W);if($.algorithm.namedCurve!==X)throw d8(X,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}Ek($,J)}function rA($,W,...J){if(J=J.filter(Boolean),J.length>2){let X=J.pop();$+=`one of type ${J.join(", ")}, or ${X}.`}else if(J.length===2)$+=`one of type ${J[0]} or ${J[1]}.`;else $+=`of type ${J[0]}.`;if(W==null)$+=` Received ${W}`;else if(typeof W==="function"&&W.name)$+=` Received function ${W.name}`;else if(typeof W==="object"&&W!=null){if(W.constructor?.name)$+=` Received an instance of ${W.constructor.name}`}return $}var aA=($,...W)=>{return rA("Key must be ",$,...W)};function kM($,W,...J){return rA(`Key for the ${$} algorithm must be `,W,...J)}function TM($){return $?.[Symbol.toStringTag]==="CryptoKey"}function gM($){return $?.[Symbol.toStringTag]==="KeyObject"}var fM=($)=>{return TM($)||gM($)};var RX=(...$)=>{let W=$.filter(Boolean);if(W.length===0||W.length===1)return!0;let J;for(let X of W){let Q=Object.keys(X);if(!J||J.size===0){J=new Set(Q);continue}for(let Y of Q){if(J.has(Y))return!1;J.add(Y)}}return!0};function Rk($){return typeof $==="object"&&$!==null}var q4=($)=>{if(!Rk($)||Object.prototype.toString.call($)!=="[object Object]")return!1;if(Object.getPrototypeOf($)===null)return!0;let W=$;while(Object.getPrototypeOf(W)!==null)W=Object.getPrototypeOf(W);return Object.getPrototypeOf($)===W};var IX=($,W)=>{if($.startsWith("RS")||$.startsWith("PS")){let{modulusLength:J}=W.algorithm;if(typeof J!=="number"||J<2048)throw new TypeError(`${$} requires key modulusLength to be 2048 bits or larger`)}};function Ik($){let W,J;switch($.kty){case"AKP":{switch($.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":W={name:$.alg},J=$.priv?["sign"]:["verify"];break;default:throw new L8('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"RSA":{switch($.alg){case"PS256":case"PS384":case"PS512":W={name:"RSA-PSS",hash:`SHA-${$.alg.slice(-3)}`},J=$.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":W={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${$.alg.slice(-3)}`},J=$.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":W={name:"RSA-OAEP",hash:`SHA-${parseInt($.alg.slice(-3),10)||1}`},J=$.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new L8('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch($.alg){case"ES256":W={name:"ECDSA",namedCurve:"P-256"},J=$.d?["sign"]:["verify"];break;case"ES384":W={name:"ECDSA",namedCurve:"P-384"},J=$.d?["sign"]:["verify"];break;case"ES512":W={name:"ECDSA",namedCurve:"P-521"},J=$.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":W={name:"ECDH",namedCurve:$.crv},J=$.d?["deriveBits"]:[];break;default:throw new L8('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch($.alg){case"Ed25519":case"EdDSA":W={name:"Ed25519"},J=$.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":W={name:$.crv},J=$.d?["deriveBits"]:[];break;default:throw new L8('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new L8('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:W,keyUsages:J}}var tA=async($)=>{if(!$.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:W,keyUsages:J}=Ik($),X={...$};if(X.kty!=="AKP")delete X.alg;return delete X.use,crypto.subtle.importKey("jwk",X,W,$.ext??($.d||$.priv?!1:!0),$.key_ops??J)};var xX=($,W,J,X,Q)=>{if(Q.crit!==void 0&&X?.crit===void 0)throw new $('"crit" (Critical) Header Parameter MUST be integrity protected');if(!X||X.crit===void 0)return new Set;if(!Array.isArray(X.crit)||X.crit.length===0||X.crit.some((M)=>typeof M!=="string"||M.length===0))throw new $('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let Y;if(J!==void 0)Y=new Map([...Object.entries(J),...W.entries()]);else Y=W;for(let M of X.crit){if(!Y.has(M))throw new L8(`Extension Header Parameter "${M}" is not recognized`);if(Q[M]===void 0)throw new $(`Extension Header Parameter "${M}" is missing`);if(Y.get(M)&&X[M]===void 0)throw new $(`Extension Header Parameter "${M}" MUST be integrity protected`)}return new Set(X.crit)};var eA=($,W)=>{if(W!==void 0&&(!Array.isArray(W)||W.some((J)=>typeof J!=="string")))throw new TypeError(`"${$}" option must be an array of strings`);if(!W)return;return new Set(W)};function OW($){return q4($)&&typeof $.kty==="string"}function $N($){return $.kty!=="oct"&&($.kty==="AKP"&&typeof $.priv==="string"||typeof $.d==="string")}function WN($){return $.kty!=="oct"&&typeof $.d==="undefined"&&typeof $.priv==="undefined"}function JN($){return $.kty==="oct"&&typeof $.k==="string"}var g$,XN=async($,W,J,X=!1)=>{g$||=new WeakMap;let Q=g$.get($);if(Q?.[J])return Q[J];let Y=await tA({...W,alg:J});if(X)Object.freeze($);if(!Q)g$.set($,{[J]:Y});else Q[J]=Y;return Y},kk=($,W)=>{g$||=new WeakMap;let J=g$.get($);if(J?.[W])return J[W];let X=$.type==="public",Q=X?!0:!1,Y;if($.asymmetricKeyType==="x25519"){switch(W){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}Y=$.toCryptoKey($.asymmetricKeyType,Q,X?[]:["deriveBits"])}if($.asymmetricKeyType==="ed25519"){if(W!=="EdDSA"&&W!=="Ed25519")throw new TypeError("given KeyObject instance cannot be used for this algorithm");Y=$.toCryptoKey($.asymmetricKeyType,Q,[X?"verify":"sign"])}switch($.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":{if(W!==$.asymmetricKeyType.toUpperCase())throw new TypeError("given KeyObject instance cannot be used for this algorithm");Y=$.toCryptoKey($.asymmetricKeyType,Q,[X?"verify":"sign"])}}if($.asymmetricKeyType==="rsa"){let M;switch(W){case"RSA-OAEP":M="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":M="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":M="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":M="SHA-512";break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}if(W.startsWith("RSA-OAEP"))return $.toCryptoKey({name:"RSA-OAEP",hash:M},Q,X?["encrypt"]:["decrypt"]);Y=$.toCryptoKey({name:W.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:M},Q,[X?"verify":"sign"])}if($.asymmetricKeyType==="ec"){let G=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get($.asymmetricKeyDetails?.namedCurve);if(!G)throw new TypeError("given KeyObject instance cannot be used for this algorithm");if(W==="ES256"&&G==="P-256")Y=$.toCryptoKey({name:"ECDSA",namedCurve:G},Q,[X?"verify":"sign"]);if(W==="ES384"&&G==="P-384")Y=$.toCryptoKey({name:"ECDSA",namedCurve:G},Q,[X?"verify":"sign"]);if(W==="ES512"&&G==="P-521")Y=$.toCryptoKey({name:"ECDSA",namedCurve:G},Q,[X?"verify":"sign"]);if(W.startsWith("ECDH-ES"))Y=$.toCryptoKey({name:"ECDH",namedCurve:G},Q,X?[]:["deriveBits"])}if(!Y)throw new TypeError("given KeyObject instance cannot be used for this algorithm");if(!J)g$.set($,{[W]:Y});else J[W]=Y;return Y},kX=async($,W)=>{if($ instanceof Uint8Array)return $;if(TM($))return $;if(gM($)){if($.type==="secret")return $.export();if("toCryptoKey"in $&&typeof $.toCryptoKey==="function")try{return kk($,W)}catch(X){if(X instanceof TypeError)throw X}let J=$.export({format:"jwk"});return XN($,J,W)}if(OW($)){if($.k)return k$($.k);return XN($,$,W,!0)}throw new Error("unreachable")};var f$=($)=>$?.[Symbol.toStringTag],vM=($,W,J)=>{if(W.use!==void 0){let X;switch(J){case"sign":case"verify":X="sig";break;case"encrypt":case"decrypt":X="enc";break}if(W.use!==X)throw new TypeError(`Invalid key for this operation, its "use" must be "${X}" when present`)}if(W.alg!==void 0&&W.alg!==$)throw new TypeError(`Invalid key for this operation, its "alg" must be "${$}" when present`);if(Array.isArray(W.key_ops)){let X;switch(!0){case(J==="sign"||J==="verify"):case $==="dir":case $.includes("CBC-HS"):X=J;break;case $.startsWith("PBES2"):X="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test($):if(!$.includes("GCM")&&$.endsWith("KW"))X=J==="encrypt"?"wrapKey":"unwrapKey";else X=J;break;case(J==="encrypt"&&$.startsWith("RSA")):X="wrapKey";break;case J==="decrypt":X=$.startsWith("RSA")?"unwrapKey":"deriveBits";break}if(X&&W.key_ops?.includes?.(X)===!1)throw new TypeError(`Invalid key for this operation, its "key_ops" must include "${X}" when present`)}return!0},Tk=($,W,J)=>{if(W instanceof Uint8Array)return;if(OW(W)){if(JN(W)&&vM($,W,J))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!fM(W))throw new TypeError(kM($,W,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if(W.type!=="secret")throw new TypeError(`${f$(W)} instances for symmetric algorithms must be of type "secret"`)},gk=($,W,J)=>{if(OW(W))switch(J){case"decrypt":case"sign":if($N(W)&&vM($,W,J))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if(WN(W)&&vM($,W,J))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!fM(W))throw new TypeError(kM($,W,"CryptoKey","KeyObject","JSON Web Key"));if(W.type==="secret")throw new TypeError(`${f$(W)} instances for asymmetric algorithms must not be of type "secret"`);if(W.type==="public")switch(J){case"sign":throw new TypeError(`${f$(W)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw new TypeError(`${f$(W)} instances for asymmetric algorithm decryption must be of type "private"`);default:break}if(W.type==="private")switch(J){case"verify":throw new TypeError(`${f$(W)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw new TypeError(`${f$(W)} instances for asymmetric algorithm encryption must be of type "public"`);default:break}},TX=($,W,J)=>{if($.startsWith("HS")||$==="dir"||$.startsWith("PBES2")||/^A(?:128|192|256)(?:GCM)?(?:KW)?$/.test($)||/^A(?:128|192|256)CBC-HS(?:256|384|512)$/.test($))Tk($,W,J);else gk($,W,J)};var gX=($,W)=>{let J=`SHA-${$.slice(-3)}`;switch($){case"HS256":case"HS384":case"HS512":return{hash:J,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:J,name:"RSA-PSS",saltLength:parseInt($.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:J,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:J,name:"ECDSA",namedCurve:W.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return{name:$};default:throw new L8(`alg ${$} is not supported either by JOSE or your javascript runtime`)}};var fX=async($,W,J)=>{if(W instanceof Uint8Array){if(!$.startsWith("HS"))throw new TypeError(aA(W,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",W,{hash:`SHA-${$.slice(-3)}`,name:"HMAC"},!1,[J])}return sA(W,$,J),W};var QN=async($,W,J,X)=>{let Q=await fX($,W,"verify");IX($,Q);let Y=gX($,Q.algorithm);try{return await crypto.subtle.verify(Y,Q,J,X)}catch{return!1}};async function YN($,W,J){if(!q4($))throw new W1("Flattened JWS must be an object");if($.protected===void 0&&$.header===void 0)throw new W1('Flattened JWS must have either of the "protected" or "header" members');if($.protected!==void 0&&typeof $.protected!=="string")throw new W1("JWS Protected Header incorrect type");if($.payload===void 0)throw new W1("JWS Payload missing");if(typeof $.signature!=="string")throw new W1("JWS Signature missing or incorrect type");if($.header!==void 0&&!q4($.header))throw new W1("JWS Unprotected Header incorrect type");let X={};if($.protected)try{let j=k$($.protected);X=JSON.parse(I2.decode(j))}catch{throw new W1("JWS Protected Header is invalid")}if(!RX(X,$.header))throw new W1("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let Q={...X,...$.header},Y=xX(W1,new Map([["b64",!0]]),J?.crit,X,Q),M=!0;if(Y.has("b64")){if(M=X.b64,typeof M!=="boolean")throw new W1('The "b64" (base64url-encode payload) Header Parameter must be a boolean')}let{alg:G}=Q;if(typeof G!=="string"||!G)throw new W1('JWS "alg" (Algorithm) Header Parameter missing or invalid');let B=J&&eA("algorithms",J.algorithms);if(B&&!B.has(G))throw new RM('"alg" (Algorithm) Header Parameter value not allowed');if(M){if(typeof $.payload!=="string")throw new W1("JWS Payload must be a string")}else if(typeof $.payload!=="string"&&!($.payload instanceof Uint8Array))throw new W1("JWS Payload must be a string or an Uint8Array instance");let w=!1;if(typeof W==="function")W=await W(X,$),w=!0;TX(G,W,"verify");let q=VX(r5.encode($.protected??""),r5.encode("."),typeof $.payload==="string"?r5.encode($.payload):$.payload),H;try{H=k$($.signature)}catch{throw new W1("Failed to base64url decode the signature")}let z=await kX(W,G);if(!await QN(G,z,H,q))throw new IM;let N;if(M)try{N=k$($.payload)}catch{throw new W1("Failed to base64url decode the payload")}else if(typeof $.payload==="string")N=r5.encode($.payload);else N=$.payload;let D={payload:N};if($.protected!==void 0)D.protectedHeader=X;if($.header!==void 0)D.unprotectedHeader=$.header;if(w)return{...D,key:z};return D}async function MN($,W,J){if($ instanceof Uint8Array)$=I2.decode($);if(typeof $!=="string")throw new W1("Compact JWS must be a string or Uint8Array");let{0:X,1:Q,2:Y,length:M}=$.split(".");if(M!==3)throw new W1("Invalid Compact JWS");let G=await YN({payload:Q,protected:X,signature:Y},W,J),B={payload:G.payload,protectedHeader:G.protectedHeader};if(typeof W==="function")return{...B,key:G.key};return B}var V6=($)=>Math.floor($.getTime()/1000);var fk=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,v$=($)=>{let W=fk.exec($);if(!W||W[4]&&W[1])throw new TypeError("Invalid time period format");let J=parseFloat(W[2]),X=W[3].toLowerCase(),Q;switch(X){case"sec":case"secs":case"second":case"seconds":case"s":Q=Math.round(J);break;case"minute":case"minutes":case"min":case"mins":case"m":Q=Math.round(J*60);break;case"hour":case"hours":case"hr":case"hrs":case"h":Q=Math.round(J*3600);break;case"day":case"days":case"d":Q=Math.round(J*86400);break;case"week":case"weeks":case"w":Q=Math.round(J*604800);break;default:Q=Math.round(J*31557600);break}if(W[1]==="-"||W[4]==="ago")return-Q;return Q};function w9($,W){if(!Number.isFinite(W))throw new TypeError(`Invalid ${$} input`);return W}var GN=($)=>{if($.includes("/"))return $.toLowerCase();return`application/${$.toLowerCase()}`},vk=($,W)=>{if(typeof $==="string")return W.includes($);if(Array.isArray($))return W.some(Set.prototype.has.bind(new Set($)));return!1};function BN($,W,J={}){let X;try{X=JSON.parse(I2.decode(W))}catch{}if(!q4(X))throw new B9("JWT Claims Set must be a top-level JSON object");let{typ:Q}=J;if(Q&&(typeof $.typ!=="string"||GN($.typ)!==GN(Q)))throw new x2('unexpected "typ" JWT header value',X,"typ","check_failed");let{requiredClaims:Y=[],issuer:M,subject:G,audience:B,maxTokenAge:w}=J,q=[...Y];if(w!==void 0)q.push("iat");if(B!==void 0)q.push("aud");if(G!==void 0)q.push("sub");if(M!==void 0)q.push("iss");for(let N of new Set(q.reverse()))if(!(N in X))throw new x2(`missing required "${N}" claim`,X,N,"missing");if(M&&!(Array.isArray(M)?M:[M]).includes(X.iss))throw new x2('unexpected "iss" claim value',X,"iss","check_failed");if(G&&X.sub!==G)throw new x2('unexpected "sub" claim value',X,"sub","check_failed");if(B&&!vk(X.aud,typeof B==="string"?[B]:B))throw new x2('unexpected "aud" claim value',X,"aud","check_failed");let H;switch(typeof J.clockTolerance){case"string":H=v$(J.clockTolerance);break;case"number":H=J.clockTolerance;break;case"undefined":H=0;break;default:throw new TypeError("Invalid clockTolerance option type")}let{currentDate:z}=J,U=V6(z||new Date);if((X.iat!==void 0||w)&&typeof X.iat!=="number")throw new x2('"iat" claim must be a number',X,"iat","invalid");if(X.nbf!==void 0){if(typeof X.nbf!=="number")throw new x2('"nbf" claim must be a number',X,"nbf","invalid");if(X.nbf>U+H)throw new x2('"nbf" claim timestamp check failed',X,"nbf","check_failed")}if(X.exp!==void 0){if(typeof X.exp!=="number")throw new x2('"exp" claim must be a number',X,"exp","invalid");if(X.exp<=U-H)throw new EX('"exp" claim timestamp check failed',X,"exp","check_failed")}if(w){let N=U-X.iat,D=typeof w==="number"?w:v$(w);if(N-H>D)throw new EX('"iat" claim timestamp check failed (too far in the past)',X,"iat","check_failed");if(N<0-H)throw new x2('"iat" claim timestamp check failed (it should be in the past)',X,"iat","check_failed")}return X}class dM{#$;constructor($){if(!q4($))throw new TypeError("JWT Claims Set MUST be an object");this.#$=structuredClone($)}data(){return r5.encode(JSON.stringify(this.#$))}get iss(){return this.#$.iss}set iss($){this.#$.iss=$}get sub(){return this.#$.sub}set sub($){this.#$.sub=$}get aud(){return this.#$.aud}set aud($){this.#$.aud=$}set jti($){this.#$.jti=$}set nbf($){if(typeof $==="number")this.#$.nbf=w9("setNotBefore",$);else if($ instanceof Date)this.#$.nbf=w9("setNotBefore",V6($));else this.#$.nbf=V6(new Date)+v$($)}set exp($){if(typeof $==="number")this.#$.exp=w9("setExpirationTime",$);else if($ instanceof Date)this.#$.exp=w9("setExpirationTime",V6($));else this.#$.exp=V6(new Date)+v$($)}set iat($){if(typeof $==="undefined")this.#$.iat=V6(new Date);else if($ instanceof Date)this.#$.iat=w9("setIssuedAt",V6($));else if(typeof $==="string")this.#$.iat=w9("setIssuedAt",V6(new Date)+v$($));else this.#$.iat=w9("setIssuedAt",$)}}async function vX($,W,J){let X=await MN($,W,J);if(X.protectedHeader.crit?.includes("b64")&&X.protectedHeader.b64===!1)throw new B9("JWTs MUST NOT use unencoded payload");let Y={payload:BN(X.protectedHeader,X.payload,J),protectedHeader:X.protectedHeader};if(typeof W==="function")return{...Y,key:X.key};return Y}var wN=async($,W,J)=>{let X=await fX($,W,"sign");IX($,X);let Q=await crypto.subtle.sign(gX($,X.algorithm),X,J);return new Uint8Array(Q)};class yM{#$;#W;#J;constructor($){if(!($ instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this.#$=$}setProtectedHeader($){if(this.#W)throw new TypeError("setProtectedHeader can only be called once");return this.#W=$,this}setUnprotectedHeader($){if(this.#J)throw new TypeError("setUnprotectedHeader can only be called once");return this.#J=$,this}async sign($,W){if(!this.#W&&!this.#J)throw new W1("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!RX(this.#W,this.#J))throw new W1("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let J={...this.#W,...this.#J},X=xX(W1,new Map([["b64",!0]]),W?.crit,this.#W,J),Q=!0;if(X.has("b64")){if(Q=this.#W.b64,typeof Q!=="boolean")throw new W1('The "b64" (base64url-encode payload) Header Parameter must be a boolean')}let{alg:Y}=J;if(typeof Y!=="string"||!Y)throw new W1('JWS "alg" (Algorithm) Header Parameter missing or invalid');TX(Y,$,"sign");let M=this.#$;if(Q)M=r5.encode(PX(M));let G;if(this.#W)G=r5.encode(PX(JSON.stringify(this.#W)));else G=r5.encode("");let B=VX(G,r5.encode("."),M),w=await kX($,Y),q=await wN(Y,w,B),H={signature:PX(q),payload:""};if(Q)H.payload=I2.decode(M);if(this.#J)H.header=this.#J;if(this.#W)H.protected=I2.decode(G);return H}}class cM{#$;constructor($){this.#$=new yM($)}setProtectedHeader($){return this.#$.setProtectedHeader($),this}async sign($,W){let J=await this.#$.sign($,W);if(J.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${J.protected}.${J.payload}.${J.signature}`}}class dX{#$;#W;constructor($={}){this.#W=new dM($)}setIssuer($){return this.#W.iss=$,this}setSubject($){return this.#W.sub=$,this}setAudience($){return this.#W.aud=$,this}setJti($){return this.#W.jti=$,this}setNotBefore($){return this.#W.nbf=$,this}setExpirationTime($){return this.#W.exp=$,this}setIssuedAt($){return this.#W.iat=$,this}setProtectedHeader($){return this.#$=$,this}async sign($,W){let J=new cM(this.#W.data());if(J.setProtectedHeader(this.#$),Array.isArray(this.#$?.crit)&&this.#$.crit.includes("b64")&&this.#$.b64===!1)throw new B9("JWTs MUST NOT use unencoded payload");return J.sign($,W)}}var dk=Object.defineProperty,sM=($,W)=>{for(var J in W)dk($,J,{get:W[J],enumerable:!0})},P6={};sM(P6,{HasPropertyKey:()=>mM,IsArray:()=>f5,IsAsyncIterator:()=>LN,IsBigInt:()=>rM,IsBoolean:()=>m$,IsDate:()=>lX,IsFunction:()=>_N,IsIterator:()=>FN,IsNull:()=>KN,IsNumber:()=>y8,IsObject:()=>j1,IsRegExp:()=>aM,IsString:()=>I1,IsSymbol:()=>bN,IsUint8Array:()=>u$,IsUndefined:()=>g5});function mM($,W){return W in $}function LN($){return j1($)&&!f5($)&&!u$($)&&Symbol.asyncIterator in $}function f5($){return Array.isArray($)}function rM($){return typeof $==="bigint"}function m$($){return typeof $==="boolean"}function lX($){return $ instanceof globalThis.Date}function _N($){return typeof $==="function"}function FN($){return j1($)&&!f5($)&&!u$($)&&Symbol.iterator in $}function KN($){return $===null}function y8($){return typeof $==="number"}function j1($){return typeof $==="object"&&$!==null}function aM($){return $ instanceof globalThis.RegExp}function I1($){return typeof $==="string"}function bN($){return typeof $==="symbol"}function u$($){return $ instanceof globalThis.Uint8Array}function g5($){return $===void 0}function yk($){return $.map((W)=>hX(W))}function ck($){return new Date($.getTime())}function hk($){return new Uint8Array($)}function mk($){return new RegExp($.source,$.flags)}function uk($){let W={};for(let J of Object.getOwnPropertyNames($))W[J]=hX($[J]);for(let J of Object.getOwnPropertySymbols($))W[J]=hX($[J]);return W}function hX($){return f5($)?yk($):lX($)?ck($):u$($)?hk($):aM($)?mk($):j1($)?uk($):$}function D2($){return hX($)}function tM($,W){return W===void 0?D2($):D2({...W,...$})}function lk($){return $!==null&&typeof $==="object"}function pk($){return globalThis.Array.isArray($)&&!globalThis.ArrayBuffer.isView($)}function ik($){return $===void 0}function nk($){return typeof $==="number"}var uM;(function($){$.InstanceMode="default",$.ExactOptionalPropertyTypes=!1,$.AllowArrayObject=!1,$.AllowNaN=!1,$.AllowNullVoid=!1;function W(M,G){return $.ExactOptionalPropertyTypes?G in M:M[G]!==void 0}$.IsExactOptionalProperty=W;function J(M){let G=lk(M);return $.AllowArrayObject?G:G&&!pk(M)}$.IsObjectLike=J;function X(M){return J(M)&&!(M instanceof Date)&&!(M instanceof Uint8Array)}$.IsRecordLike=X;function Q(M){return $.AllowNaN?nk(M):Number.isFinite(M)}$.IsNumberLike=Q;function Y(M){let G=ik(M);return $.AllowNullVoid?G||M===null:G}$.IsVoidLike=Y})(uM||(uM={}));function ok($){return globalThis.Object.freeze($).map((W)=>mX(W))}function sk($){return $}function rk($){return $}function ak($){return $}function tk($){let W={};for(let J of Object.getOwnPropertyNames($))W[J]=mX($[J]);for(let J of Object.getOwnPropertySymbols($))W[J]=mX($[J]);return globalThis.Object.freeze(W)}function mX($){return f5($)?ok($):lX($)?sk($):u$($)?rk($):aM($)?ak($):j1($)?tk($):$}function s($,W){let J=W!==void 0?{...W,...$}:$;switch(uM.InstanceMode){case"freeze":return mX(J);case"clone":return D2(J);default:return J}}var U4=class extends Error{constructor($){super($)}},T2=Symbol.for("TypeBox.Transform"),l$=Symbol.for("TypeBox.Readonly"),R6=Symbol.for("TypeBox.Optional"),d$=Symbol.for("TypeBox.Hint"),G0=Symbol.for("TypeBox.Kind");function eM($){return j1($)&&$[l$]==="Readonly"}function z4($){return j1($)&&$[R6]==="Optional"}function CN($){return R0($,"Any")}function VN($){return R0($,"Argument")}function p$($){return R0($,"Array")}function pX($){return R0($,"AsyncIterator")}function iX($){return R0($,"BigInt")}function KW($){return R0($,"Boolean")}function i$($){return R0($,"Computed")}function n$($){return R0($,"Constructor")}function ek($){return R0($,"Date")}function o$($){return R0($,"Function")}function s$($){return R0($,"Integer")}function f2($){return R0($,"Intersect")}function nX($){return R0($,"Iterator")}function R0($,W){return j1($)&&G0 in $&&$[G0]===W}function PN($){return m$($)||y8($)||I1($)}function H9($){return R0($,"Literal")}function U9($){return R0($,"MappedKey")}function S2($){return R0($,"MappedResult")}function bW($){return R0($,"Never")}function $T($){return R0($,"Not")}function $G($){return R0($,"Null")}function r$($){return R0($,"Number")}function F8($){return R0($,"Object")}function oX($){return R0($,"Promise")}function sX($){return R0($,"Record")}function a5($){return R0($,"Ref")}function EN($){return R0($,"RegExp")}function CW($){return R0($,"String")}function WG($){return R0($,"Symbol")}function z9($){return R0($,"TemplateLiteral")}function WT($){return R0($,"This")}function rX($){return j1($)&&T2 in $}function A9($){return R0($,"Tuple")}function JG($){return R0($,"Undefined")}function M5($){return R0($,"Union")}function JT($){return R0($,"Uint8Array")}function XT($){return R0($,"Unknown")}function QT($){return R0($,"Unsafe")}function YT($){return R0($,"Void")}function MT($){return j1($)&&G0 in $&&I1($[G0])}function H4($){return CN($)||VN($)||p$($)||KW($)||iX($)||pX($)||i$($)||n$($)||ek($)||o$($)||s$($)||f2($)||nX($)||H9($)||U9($)||S2($)||bW($)||$T($)||$G($)||r$($)||F8($)||oX($)||sX($)||a5($)||EN($)||CW($)||WG($)||z9($)||WT($)||A9($)||JG($)||M5($)||JT($)||XT($)||QT($)||YT($)||MT($)}var _={};sM(_,{IsAny:()=>kN,IsArgument:()=>TN,IsArray:()=>gN,IsAsyncIterator:()=>fN,IsBigInt:()=>vN,IsBoolean:()=>dN,IsComputed:()=>yN,IsConstructor:()=>cN,IsDate:()=>hN,IsFunction:()=>mN,IsImport:()=>zT,IsInteger:()=>uN,IsIntersect:()=>lN,IsIterator:()=>pN,IsKind:()=>ZD,IsKindOf:()=>_0,IsLiteral:()=>VW,IsLiteralBoolean:()=>AT,IsLiteralNumber:()=>nN,IsLiteralString:()=>iN,IsLiteralValue:()=>oN,IsMappedKey:()=>sN,IsMappedResult:()=>rN,IsNever:()=>aN,IsNot:()=>tN,IsNull:()=>eN,IsNumber:()=>$D,IsObject:()=>WD,IsOptional:()=>UT,IsPromise:()=>JD,IsProperties:()=>aX,IsReadonly:()=>HT,IsRecord:()=>XD,IsRecursive:()=>NT,IsRef:()=>QD,IsRegExp:()=>YD,IsSchema:()=>Q5,IsString:()=>MD,IsSymbol:()=>GD,IsTemplateLiteral:()=>BD,IsThis:()=>wD,IsTransform:()=>qD,IsTuple:()=>HD,IsUint8Array:()=>zD,IsUndefined:()=>UD,IsUnion:()=>YG,IsUnionLiteral:()=>DT,IsUnknown:()=>AD,IsUnsafe:()=>ND,IsVoid:()=>DD,TypeGuardUnknownTypeError:()=>GT});var GT=class extends U4{},BT=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function RN($){try{return new RegExp($),!0}catch{return!1}}function XG($){if(!I1($))return!1;for(let W=0;W<$.length;W++){let J=$.charCodeAt(W);if(J>=7&&J<=13||J===27||J===127)return!1}return!0}function IN($){return QG($)||Q5($)}function SW($){return g5($)||rM($)}function J1($){return g5($)||y8($)}function QG($){return g5($)||m$($)}function s0($){return g5($)||I1($)}function wT($){return g5($)||I1($)&&XG($)&&RN($)}function qT($){return g5($)||I1($)&&XG($)}function xN($){return g5($)||Q5($)}function HT($){return j1($)&&$[l$]==="Readonly"}function UT($){return j1($)&&$[R6]==="Optional"}function kN($){return _0($,"Any")&&s0($.$id)}function TN($){return _0($,"Argument")&&y8($.index)}function gN($){return _0($,"Array")&&$.type==="array"&&s0($.$id)&&Q5($.items)&&J1($.minItems)&&J1($.maxItems)&&QG($.uniqueItems)&&xN($.contains)&&J1($.minContains)&&J1($.maxContains)}function fN($){return _0($,"AsyncIterator")&&$.type==="AsyncIterator"&&s0($.$id)&&Q5($.items)}function vN($){return _0($,"BigInt")&&$.type==="bigint"&&s0($.$id)&&SW($.exclusiveMaximum)&&SW($.exclusiveMinimum)&&SW($.maximum)&&SW($.minimum)&&SW($.multipleOf)}function dN($){return _0($,"Boolean")&&$.type==="boolean"&&s0($.$id)}function yN($){return _0($,"Computed")&&I1($.target)&&f5($.parameters)&&$.parameters.every((W)=>Q5(W))}function cN($){return _0($,"Constructor")&&$.type==="Constructor"&&s0($.$id)&&f5($.parameters)&&$.parameters.every((W)=>Q5(W))&&Q5($.returns)}function hN($){return _0($,"Date")&&$.type==="Date"&&s0($.$id)&&J1($.exclusiveMaximumTimestamp)&&J1($.exclusiveMinimumTimestamp)&&J1($.maximumTimestamp)&&J1($.minimumTimestamp)&&J1($.multipleOfTimestamp)}function mN($){return _0($,"Function")&&$.type==="Function"&&s0($.$id)&&f5($.parameters)&&$.parameters.every((W)=>Q5(W))&&Q5($.returns)}function zT($){return _0($,"Import")&&mM($,"$defs")&&j1($.$defs)&&aX($.$defs)&&mM($,"$ref")&&I1($.$ref)&&$.$ref in $.$defs}function uN($){return _0($,"Integer")&&$.type==="integer"&&s0($.$id)&&J1($.exclusiveMaximum)&&J1($.exclusiveMinimum)&&J1($.maximum)&&J1($.minimum)&&J1($.multipleOf)}function aX($){return j1($)&&Object.entries($).every(([W,J])=>XG(W)&&Q5(J))}function lN($){return _0($,"Intersect")&&(I1($.type)&&$.type!=="object"?!1:!0)&&f5($.allOf)&&$.allOf.every((W)=>Q5(W)&&!qD(W))&&s0($.type)&&(QG($.unevaluatedProperties)||xN($.unevaluatedProperties))&&s0($.$id)}function pN($){return _0($,"Iterator")&&$.type==="Iterator"&&s0($.$id)&&Q5($.items)}function _0($,W){return j1($)&&G0 in $&&$[G0]===W}function iN($){return VW($)&&I1($.const)}function nN($){return VW($)&&y8($.const)}function AT($){return VW($)&&m$($.const)}function VW($){return _0($,"Literal")&&s0($.$id)&&oN($.const)}function oN($){return m$($)||y8($)||I1($)}function sN($){return _0($,"MappedKey")&&f5($.keys)&&$.keys.every((W)=>y8(W)||I1(W))}function rN($){return _0($,"MappedResult")&&aX($.properties)}function aN($){return _0($,"Never")&&j1($.not)&&Object.getOwnPropertyNames($.not).length===0}function tN($){return _0($,"Not")&&Q5($.not)}function eN($){return _0($,"Null")&&$.type==="null"&&s0($.$id)}function $D($){return _0($,"Number")&&$.type==="number"&&s0($.$id)&&J1($.exclusiveMaximum)&&J1($.exclusiveMinimum)&&J1($.maximum)&&J1($.minimum)&&J1($.multipleOf)}function WD($){return _0($,"Object")&&$.type==="object"&&s0($.$id)&&aX($.properties)&&IN($.additionalProperties)&&J1($.minProperties)&&J1($.maxProperties)}function JD($){return _0($,"Promise")&&$.type==="Promise"&&s0($.$id)&&Q5($.item)}function XD($){return _0($,"Record")&&$.type==="object"&&s0($.$id)&&IN($.additionalProperties)&&j1($.patternProperties)&&((W)=>{let J=Object.getOwnPropertyNames(W.patternProperties);return J.length===1&&RN(J[0])&&j1(W.patternProperties)&&Q5(W.patternProperties[J[0]])})($)}function NT($){return j1($)&&d$ in $&&$[d$]==="Recursive"}function QD($){return _0($,"Ref")&&s0($.$id)&&I1($.$ref)}function YD($){return _0($,"RegExp")&&s0($.$id)&&I1($.source)&&I1($.flags)&&J1($.maxLength)&&J1($.minLength)}function MD($){return _0($,"String")&&$.type==="string"&&s0($.$id)&&J1($.minLength)&&J1($.maxLength)&&wT($.pattern)&&qT($.format)}function GD($){return _0($,"Symbol")&&$.type==="symbol"&&s0($.$id)}function BD($){return _0($,"TemplateLiteral")&&$.type==="string"&&I1($.pattern)&&$.pattern[0]==="^"&&$.pattern[$.pattern.length-1]==="$"}function wD($){return _0($,"This")&&s0($.$id)&&I1($.$ref)}function qD($){return j1($)&&T2 in $}function HD($){return _0($,"Tuple")&&$.type==="array"&&s0($.$id)&&y8($.minItems)&&y8($.maxItems)&&$.minItems===$.maxItems&&(g5($.items)&&g5($.additionalItems)&&$.minItems===0||f5($.items)&&$.items.every((W)=>Q5(W)))}function UD($){return _0($,"Undefined")&&$.type==="undefined"&&s0($.$id)}function DT($){return YG($)&&$.anyOf.every((W)=>iN(W)||nN(W))}function YG($){return _0($,"Union")&&s0($.$id)&&j1($)&&f5($.anyOf)&&$.anyOf.every((W)=>Q5(W))}function zD($){return _0($,"Uint8Array")&&$.type==="Uint8Array"&&s0($.$id)&&J1($.minByteLength)&&J1($.maxByteLength)}function AD($){return _0($,"Unknown")&&s0($.$id)}function ND($){return _0($,"Unsafe")}function DD($){return _0($,"Void")&&$.type==="void"&&s0($.$id)}function ZD($){return j1($)&&G0 in $&&I1($[G0])&&!BT.includes($[G0])}function Q5($){return j1($)&&(kN($)||TN($)||gN($)||dN($)||vN($)||fN($)||yN($)||cN($)||hN($)||mN($)||uN($)||lN($)||pN($)||VW($)||sN($)||rN($)||aN($)||tN($)||eN($)||$D($)||WD($)||JD($)||XD($)||QD($)||YD($)||MD($)||GD($)||BD($)||wD($)||HD($)||UD($)||YG($)||zD($)||AD($)||ND($)||DD($)||ZD($))}var OD="(true|false)",cX="(0|[1-9][0-9]*)",SD="(.*)",ZT="(?!.*)",nX0=`^${OD}$`,y$=`^${cX}$`,c$=`^${SD}$`,OT=`^${ZT}$`;function ST($,W){return $.includes(W)}function jT($){return[...new Set($)]}function LT($,W){return $.filter((J)=>W.includes(J))}function _T($,W){return $.reduce((J,X)=>{return LT(J,X)},W)}function FT($){return $.length===1?$[0]:$.length>1?_T($.slice(1),$[0]):[]}function KT($){let W=[];for(let J of $)W.push(...J);return W}function LW($){return s({[G0]:"Any"},$)}function MG($,W){return s({[G0]:"Array",type:"array",items:$},W)}function bT($){return s({[G0]:"Argument",index:$})}function GG($,W){return s({[G0]:"AsyncIterator",type:"AsyncIterator",items:$},W)}function t1($,W,J){return s({[G0]:"Computed",target:$,parameters:W},J)}function CT($,W){let{[W]:J,...X}=$;return X}function Z2($,W){return W.reduce((J,X)=>CT(J,X),$)}function l1($){return s({[G0]:"Never",not:{}},$)}function A5($){return s({[G0]:"MappedResult",properties:$})}function BG($,W,J){return s({[G0]:"Constructor",type:"Constructor",parameters:$,returns:W},J)}function PW($,W,J){return s({[G0]:"Function",type:"Function",parameters:$,returns:W},J)}function lM($,W){return s({[G0]:"Union",anyOf:$},W)}function VT($){return $.some((W)=>z4(W))}function qN($){return $.map((W)=>z4(W)?PT(W):W)}function PT($){return Z2($,[R6])}function ET($,W){return VT($)?D4(lM(qN($),W)):lM(qN($),W)}function a$($,W){return $.length===1?s($[0],W):$.length===0?l1(W):ET($,W)}function N5($,W){return $.length===0?l1(W):$.length===1?s($[0],W):lM($,W)}var HN=class extends U4{};function RT($){return $.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}function wG($,W,J){return $[W]===J&&$.charCodeAt(W-1)!==92}function E6($,W){return wG($,W,"(")}function _W($,W){return wG($,W,")")}function jD($,W){return wG($,W,"|")}function IT($){if(!(E6($,0)&&_W($,$.length-1)))return!1;let W=0;for(let J=0;J<$.length;J++){if(E6($,J))W+=1;if(_W($,J))W-=1;if(W===0&&J!==$.length-1)return!1}return!0}function xT($){return $.slice(1,$.length-1)}function kT($){let W=0;for(let J=0;J<$.length;J++){if(E6($,J))W+=1;if(_W($,J))W-=1;if(jD($,J)&&W===0)return!0}return!1}function TT($){for(let W=0;W<$.length;W++)if(E6($,W))return!0;return!1}function gT($){let[W,J]=[0,0],X=[];for(let Y=0;Y<$.length;Y++){if(E6($,Y))W+=1;if(_W($,Y))W-=1;if(jD($,Y)&&W===0){let M=$.slice(J,Y);if(M.length>0)X.push(h$(M));J=Y+1}}let Q=$.slice(J);if(Q.length>0)X.push(h$(Q));if(X.length===0)return{type:"const",const:""};if(X.length===1)return X[0];return{type:"or",expr:X}}function fT($){function W(Q,Y){if(!E6(Q,Y))throw new HN("TemplateLiteralParser: Index must point to open parens");let M=0;for(let G=Y;G<Q.length;G++){if(E6(Q,G))M+=1;if(_W(Q,G))M-=1;if(M===0)return[Y,G]}throw new HN("TemplateLiteralParser: Unclosed group parens in expression")}function J(Q,Y){for(let M=Y;M<Q.length;M++)if(E6(Q,M))return[Y,M];return[Y,Q.length]}let X=[];for(let Q=0;Q<$.length;Q++)if(E6($,Q)){let[Y,M]=W($,Q),G=$.slice(Y,M+1);X.push(h$(G)),Q=M}else{let[Y,M]=J($,Q),G=$.slice(Y,M);if(G.length>0)X.push(h$(G));Q=M-1}return X.length===0?{type:"const",const:""}:X.length===1?X[0]:{type:"and",expr:X}}function h$($){return IT($)?h$(xT($)):kT($)?gT($):TT($)?fT($):{type:"const",const:RT($)}}function qG($){return h$($.slice(1,$.length-1))}var vT=class extends U4{};function dT($){return $.type==="or"&&$.expr.length===2&&$.expr[0].type==="const"&&$.expr[0].const==="0"&&$.expr[1].type==="const"&&$.expr[1].const==="[1-9][0-9]*"}function yT($){return $.type==="or"&&$.expr.length===2&&$.expr[0].type==="const"&&$.expr[0].const==="true"&&$.expr[1].type==="const"&&$.expr[1].const==="false"}function cT($){return $.type==="const"&&$.const===".*"}function FW($){return dT($)||cT($)?!1:yT($)?!0:$.type==="and"?$.expr.every((W)=>FW(W)):$.type==="or"?$.expr.every((W)=>FW(W)):$.type==="const"?!0:(()=>{throw new vT("Unknown expression type")})()}function hT($){let W=qG($.pattern);return FW(W)}var mT=class extends U4{};function*LD($){if($.length===1)return yield*$[0];for(let W of $[0])for(let J of LD($.slice(1)))yield`${W}${J}`}function*uT($){return yield*LD($.expr.map((W)=>[...tX(W)]))}function*lT($){for(let W of $.expr)yield*tX(W)}function*pT($){return yield $.const}function*tX($){return $.type==="and"?yield*uT($):$.type==="or"?yield*lT($):$.type==="const"?yield*pT($):(()=>{throw new mT("Unknown expression")})()}function _D($){let W=qG($.pattern);return FW(W)?[...tX(W)]:[]}function u1($,W){return s({[G0]:"Literal",const:$,type:typeof $},W)}function FD($){return s({[G0]:"Boolean",type:"boolean"},$)}function HG($){return s({[G0]:"BigInt",type:"bigint"},$)}function N9($){return s({[G0]:"Number",type:"number"},$)}function q9($){return s({[G0]:"String",type:"string"},$)}function*iT($){let W=$.trim().replace(/"|'/g,"");return W==="boolean"?yield FD():W==="number"?yield N9():W==="bigint"?yield HG():W==="string"?yield q9():yield(()=>{let J=W.split("|").map((X)=>u1(X.trim()));return J.length===0?l1():J.length===1?J[0]:a$(J)})()}function*nT($){if($[1]!=="{"){let W=u1("$"),J=pM($.slice(1));return yield*[W,...J]}for(let W=2;W<$.length;W++)if($[W]==="}"){let J=iT($.slice(2,W)),X=pM($.slice(W+1));return yield*[...J,...X]}yield u1($)}function*pM($){for(let W=0;W<$.length;W++)if($[W]==="$"){let J=u1($.slice(0,W)),X=nT($.slice(W));return yield*[J,...X]}yield u1($)}function oT($){return[...pM($)]}var sT=class extends U4{};function rT($){return $.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function KD($,W){return z9($)?$.pattern.slice(1,$.pattern.length-1):M5($)?`(${$.anyOf.map((J)=>KD(J,W)).join("|")})`:r$($)?`${W}${cX}`:s$($)?`${W}${cX}`:iX($)?`${W}${cX}`:CW($)?`${W}${SD}`:H9($)?`${W}${rT($.const.toString())}`:KW($)?`${W}${OD}`:(()=>{throw new sT(`Unexpected Kind '${$[G0]}'`)})()}function UN($){return`^${$.map((W)=>KD(W,"")).join("")}$`}function uX($){let J=_D($).map((X)=>u1(X));return a$(J)}function bD($,W){let J=I1($)?UN(oT($)):UN($);return s({[G0]:"TemplateLiteral",type:"string",pattern:J},W)}function aT($){return _D($).map((J)=>J.toString())}function tT($){let W=[];for(let J of $)W.push(...A4(J));return W}function eT($){return[$.toString()]}function A4($){return[...new Set(z9($)?aT($):M5($)?tT($.anyOf):H9($)?eT($.const):r$($)?["[number]"]:s$($)?["[number]"]:[])]}function $g($,W,J){let X={};for(let Q of Object.getOwnPropertyNames(W))X[Q]=eX($,A4(W[Q]),J);return X}function Wg($,W,J){return $g($,W.properties,J)}function Jg($,W,J){let X=Wg($,W,J);return A5(X)}function CD($,W){return $.map((J)=>VD(J,W))}function Xg($){return $.filter((W)=>!bW(W))}function Qg($,W){return ID(Xg(CD($,W)))}function Yg($){return $.some((W)=>bW(W))?[]:$}function Mg($,W){return a$(Yg(CD($,W)))}function Gg($,W){return W in $?$[W]:W==="[number]"?a$($):l1()}function Bg($,W){return W==="[number]"?$:l1()}function wg($,W){return W in $?$[W]:l1()}function VD($,W){return f2($)?Qg($.allOf,W):M5($)?Mg($.anyOf,W):A9($)?Gg($.items??[],W):p$($)?Bg($.items,W):F8($)?wg($.properties,W):l1()}function PD($,W){return W.map((J)=>VD($,J))}function zN($,W){return a$(PD($,W))}function eX($,W,J){if(a5($)||a5(W)){if(!H4($)||!H4(W))throw new U4("Index types using Ref parameters require both Type and Key to be of TSchema");return t1("Index",[$,W])}if(S2(W))return Jg($,W,J);if(U9(W))return zg($,W,J);return s(H4(W)?zN($,A4(W)):zN($,W),J)}function qg($,W,J){return{[W]:eX($,[W],D2(J))}}function Hg($,W,J){return W.reduce((X,Q)=>{return{...X,...qg($,Q,J)}},{})}function Ug($,W,J){return Hg($,W.keys,J)}function zg($,W,J){let X=Ug($,W,J);return A5(X)}function UG($,W){return s({[G0]:"Iterator",type:"Iterator",items:$},W)}function Ag($){let W=[];for(let J in $)if(!z4($[J]))W.push(J);return W}function Ng($,W){let J=Ag($),X=J.length>0?{[G0]:"Object",type:"object",properties:$,required:J}:{[G0]:"Object",type:"object",properties:$};return s(X,W)}var Y5=Ng;function ED($,W){return s({[G0]:"Promise",type:"Promise",item:$},W)}function Dg($){return s(Z2($,[l$]))}function Zg($){return s({...$,[l$]:"Readonly"})}function Og($,W){return W===!1?Dg($):Zg($)}function N4($,W){let J=W??!0;return S2($)?Lg($,J):Og($,J)}function Sg($,W){let J={};for(let X of globalThis.Object.getOwnPropertyNames($))J[X]=N4($[X],W);return J}function jg($,W){return Sg($.properties,W)}function Lg($,W){let J=jg($,W);return A5(J)}function t$($,W){return s($.length>0?{[G0]:"Tuple",type:"array",items:$,additionalItems:!1,minItems:$.length,maxItems:$.length}:{[G0]:"Tuple",type:"array",minItems:$.length,maxItems:$.length},W)}function RD($,W){return $ in W?k2($,W[$]):A5(W)}function _g($){return{[$]:u1($)}}function Fg($){let W={};for(let J of $)W[J]=u1(J);return W}function Kg($,W){return ST(W,$)?_g($):Fg(W)}function bg($,W){let J=Kg($,W);return RD($,J)}function jW($,W){return W.map((J)=>k2($,J))}function Cg($,W){let J={};for(let X of globalThis.Object.getOwnPropertyNames(W))J[X]=k2($,W[X]);return J}function k2($,W){let J={...W};return z4(W)?D4(k2($,Z2(W,[R6]))):eM(W)?N4(k2($,Z2(W,[l$]))):S2(W)?RD($,W.properties):U9(W)?bg($,W.keys):n$(W)?BG(jW($,W.parameters),k2($,W.returns),J):o$(W)?PW(jW($,W.parameters),k2($,W.returns),J):pX(W)?GG(k2($,W.items),J):nX(W)?UG(k2($,W.items),J):f2(W)?Z4(jW($,W.allOf),J):M5(W)?N5(jW($,W.anyOf),J):A9(W)?t$(jW($,W.items??[]),J):F8(W)?Y5(Cg($,W.properties),J):p$(W)?MG(k2($,W.items),J):oX(W)?ED(k2($,W.item),J):W}function Vg($,W){let J={};for(let X of $)J[X]=k2(X,W);return J}function Pg($,W,J){let X=H4($)?A4($):$,Q=W({[G0]:"MappedKey",keys:X}),Y=Vg(X,Q);return Y5(Y,J)}function Eg($){return s(Z2($,[R6]))}function Rg($){return s({...$,[R6]:"Optional"})}function Ig($,W){return W===!1?Eg($):Rg($)}function D4($,W){let J=W??!0;return S2($)?Tg($,J):Ig($,J)}function xg($,W){let J={};for(let X of globalThis.Object.getOwnPropertyNames($))J[X]=D4($[X],W);return J}function kg($,W){return xg($.properties,W)}function Tg($,W){let J=kg($,W);return A5(J)}function iM($,W={}){let J=$.every((Q)=>F8(Q)),X=H4(W.unevaluatedProperties)?{unevaluatedProperties:W.unevaluatedProperties}:{};return s(W.unevaluatedProperties===!1||H4(W.unevaluatedProperties)||J?{...X,[G0]:"Intersect",type:"object",allOf:$}:{...X,[G0]:"Intersect",allOf:$},W)}function gg($){return $.every((W)=>z4(W))}function fg($){return Z2($,[R6])}function AN($){return $.map((W)=>z4(W)?fg(W):W)}function vg($,W){return gg($)?D4(iM(AN($),W)):iM(AN($),W)}function ID($,W={}){if($.length===1)return s($[0],W);if($.length===0)return l1(W);if($.some((J)=>rX(J)))throw new Error("Cannot intersect transform types");return vg($,W)}function Z4($,W){if($.length===1)return s($[0],W);if($.length===0)return l1(W);if($.some((J)=>rX(J)))throw new Error("Cannot intersect transform types");return iM($,W)}function EW(...$){let[W,J]=typeof $[0]==="string"?[$[0],$[1]]:[$[0].$id,$[1]];if(typeof W!=="string")throw new U4("Ref: $ref must be a string");return s({[G0]:"Ref",$ref:W},J)}function dg($,W){return t1("Awaited",[t1($,W)])}function yg($){return t1("Awaited",[EW($)])}function cg($){return Z4(xD($))}function hg($){return N5(xD($))}function mg($){return $Q($)}function xD($){return $.map((W)=>$Q(W))}function $Q($,W){return s(i$($)?dg($.target,$.parameters):f2($)?cg($.allOf):M5($)?hg($.anyOf):oX($)?mg($.item):a5($)?yg($.$ref):$,W)}function kD($){let W=[];for(let J of $)W.push(zG(J));return W}function ug($){let W=kD($);return KT(W)}function lg($){let W=kD($);return FT(W)}function pg($){return $.map((W,J)=>J.toString())}function ig($){return["[number]"]}function ng($){return globalThis.Object.getOwnPropertyNames($)}function og($){if(!sg)return[];return globalThis.Object.getOwnPropertyNames($).map((J)=>{return J[0]==="^"&&J[J.length-1]==="$"?J.slice(1,J.length-1):J})}function zG($){return f2($)?ug($.allOf):M5($)?lg($.anyOf):A9($)?pg($.items??[]):p$($)?ig($.items):F8($)?ng($.properties):sX($)?og($.patternProperties):[]}var sg=!1;function rg($,W){return t1("KeyOf",[t1($,W)])}function ag($){return t1("KeyOf",[EW($)])}function tg($,W){let J=zG($),X=eg(J),Q=a$(X);return s(Q,W)}function eg($){return $.map((W)=>W==="[number]"?N9():u1(W))}function AG($,W){return i$($)?rg($.target,$.parameters):a5($)?ag($.$ref):S2($)?Jf($,W):tg($,W)}function $f($,W){let J={};for(let X of globalThis.Object.getOwnPropertyNames($))J[X]=AG($[X],D2(W));return J}function Wf($,W){return $f($.properties,W)}function Jf($,W){let J=Wf($,W);return A5(J)}function Xf($){let W=[];for(let J of $)W.push(...zG(J));return jT(W)}function Qf($){return $.filter((W)=>!bW(W))}function Yf($,W){let J=[];for(let X of $)J.push(...PD(X,[W]));return Qf(J)}function Mf($,W){let J={};for(let X of W)J[X]=ID(Yf($,X));return J}function Gf($,W){let J=Xf($),X=Mf($,J);return Y5(X,W)}function TD($){return s({[G0]:"Date",type:"Date"},$)}function gD($){return s({[G0]:"Null",type:"null"},$)}function fD($){return s({[G0]:"Symbol",type:"symbol"},$)}function vD($){return s({[G0]:"Undefined",type:"undefined"},$)}function dD($){return s({[G0]:"Uint8Array",type:"Uint8Array"},$)}function WQ($){return s({[G0]:"Unknown"},$)}function Bf($){return $.map((W)=>NG(W,!1))}function wf($){let W={};for(let J of globalThis.Object.getOwnPropertyNames($))W[J]=N4(NG($[J],!1));return W}function yX($,W){return W===!0?$:N4($)}function NG($,W){return LN($)?yX(LW(),W):FN($)?yX(LW(),W):f5($)?N4(t$(Bf($))):u$($)?dD():lX($)?TD():j1($)?yX(Y5(wf($)),W):_N($)?yX(PW([],WQ()),W):g5($)?vD():KN($)?gD():bN($)?fD():rM($)?HG():y8($)?u1($):m$($)?u1($):I1($)?u1($):Y5({})}function qf($,W){return s(NG($,!0),W)}function Hf($,W){return n$($)?t$($.parameters,W):l1(W)}function Uf($,W){if(g5($))throw new Error("Enum undefined or empty");let J=globalThis.Object.getOwnPropertyNames($).filter((Y)=>isNaN(Y)).map((Y)=>$[Y]),Q=[...new Set(J)].map((Y)=>u1(Y));return N5(Q,{...W,[d$]:"Enum"})}var zf=class extends U4{},v;(function($){$[$.Union=0]="Union",$[$.True=1]="True",$[$.False=2]="False"})(v||(v={}));function g2($){return $===v.False?$:v.True}function e$($){throw new zf($)}function p1($){return _.IsNever($)||_.IsIntersect($)||_.IsUnion($)||_.IsUnknown($)||_.IsAny($)}function i1($,W){return _.IsNever(W)?hD($,W):_.IsIntersect(W)?JQ($,W):_.IsUnion(W)?ZG($,W):_.IsUnknown(W)?pD($,W):_.IsAny(W)?DG($,W):e$("StructuralRight")}function DG($,W){return v.True}function Af($,W){return _.IsIntersect(W)?JQ($,W):_.IsUnion(W)&&W.anyOf.some((J)=>_.IsAny(J)||_.IsUnknown(J))?v.True:_.IsUnion(W)?v.Union:_.IsUnknown(W)?v.True:_.IsAny(W)?v.True:v.Union}function Nf($,W){return _.IsUnknown($)?v.False:_.IsAny($)?v.Union:_.IsNever($)?v.True:v.False}function Df($,W){return _.IsObject(W)&&XQ(W)?v.True:p1(W)?i1($,W):!_.IsArray(W)?v.False:g2(o0($.items,W.items))}function Zf($,W){return p1(W)?i1($,W):!_.IsAsyncIterator(W)?v.False:g2(o0($.items,W.items))}function Of($,W){return p1(W)?i1($,W):_.IsObject(W)?C5($,W):_.IsRecord(W)?v2($,W):_.IsBigInt(W)?v.True:v.False}function yD($,W){return _.IsLiteralBoolean($)?v.True:_.IsBoolean($)?v.True:v.False}function Sf($,W){return p1(W)?i1($,W):_.IsObject(W)?C5($,W):_.IsRecord(W)?v2($,W):_.IsBoolean(W)?v.True:v.False}function jf($,W){return p1(W)?i1($,W):_.IsObject(W)?C5($,W):!_.IsConstructor(W)?v.False:$.parameters.length>W.parameters.length?v.False:!$.parameters.every((J,X)=>g2(o0(W.parameters[X],J))===v.True)?v.False:g2(o0($.returns,W.returns))}function Lf($,W){return p1(W)?i1($,W):_.IsObject(W)?C5($,W):_.IsRecord(W)?v2($,W):_.IsDate(W)?v.True:v.False}function _f($,W){return p1(W)?i1($,W):_.IsObject(W)?C5($,W):!_.IsFunction(W)?v.False:$.parameters.length>W.parameters.length?v.False:!$.parameters.every((J,X)=>g2(o0(W.parameters[X],J))===v.True)?v.False:g2(o0($.returns,W.returns))}function cD($,W){return _.IsLiteral($)&&P6.IsNumber($.const)?v.True:_.IsNumber($)||_.IsInteger($)?v.True:v.False}function Ff($,W){return _.IsInteger(W)||_.IsNumber(W)?v.True:p1(W)?i1($,W):_.IsObject(W)?C5($,W):_.IsRecord(W)?v2($,W):v.False}function JQ($,W){return W.allOf.every((J)=>o0($,J)===v.True)?v.True:v.False}function Kf($,W){return $.allOf.some((J)=>o0(J,W)===v.True)?v.True:v.False}function bf($,W){return p1(W)?i1($,W):!_.IsIterator(W)?v.False:g2(o0($.items,W.items))}function Cf($,W){return _.IsLiteral(W)&&W.const===$.const?v.True:p1(W)?i1($,W):_.IsObject(W)?C5($,W):_.IsRecord(W)?v2($,W):_.IsString(W)?lD($,W):_.IsNumber(W)?mD($,W):_.IsInteger(W)?cD($,W):_.IsBoolean(W)?yD($,W):v.False}function hD($,W){return v.False}function Vf($,W){return v.True}function NN($){let[W,J]=[$,0];while(!0){if(!_.IsNot(W))break;W=W.not,J+=1}return J%2===0?W:WQ()}function Pf($,W){return _.IsNot($)?o0(NN($),W):_.IsNot(W)?o0($,NN(W)):e$("Invalid fallthrough for Not")}function Ef($,W){return p1(W)?i1($,W):_.IsObject(W)?C5($,W):_.IsRecord(W)?v2($,W):_.IsNull(W)?v.True:v.False}function mD($,W){return _.IsLiteralNumber($)?v.True:_.IsNumber($)||_.IsInteger($)?v.True:v.False}function Rf($,W){return p1(W)?i1($,W):_.IsObject(W)?C5($,W):_.IsRecord(W)?v2($,W):_.IsInteger(W)||_.IsNumber(W)?v.True:v.False}function t5($,W){return Object.getOwnPropertyNames($.properties).length===W}function DN($){return XQ($)}function ZN($){return t5($,0)||t5($,1)&&"description"in $.properties&&_.IsUnion($.properties.description)&&$.properties.description.anyOf.length===2&&(_.IsString($.properties.description.anyOf[0])&&_.IsUndefined($.properties.description.anyOf[1])||_.IsString($.properties.description.anyOf[1])&&_.IsUndefined($.properties.description.anyOf[0]))}function hM($){return t5($,0)}function ON($){return t5($,0)}function If($){return t5($,0)}function xf($){return t5($,0)}function kf($){return XQ($)}function Tf($){let W=N9();return t5($,0)||t5($,1)&&"length"in $.properties&&g2(o0($.properties.length,W))===v.True}function gf($){return t5($,0)}function XQ($){let W=N9();return t5($,0)||t5($,1)&&"length"in $.properties&&g2(o0($.properties.length,W))===v.True}function ff($){let W=PW([LW()],LW());return t5($,0)||t5($,1)&&"then"in $.properties&&g2(o0($.properties.then,W))===v.True}function uD($,W){return o0($,W)===v.False?v.False:_.IsOptional($)&&!_.IsOptional(W)?v.False:v.True}function C5($,W){return _.IsUnknown($)?v.False:_.IsAny($)?v.Union:_.IsNever($)||_.IsLiteralString($)&&DN(W)||_.IsLiteralNumber($)&&hM(W)||_.IsLiteralBoolean($)&&ON(W)||_.IsSymbol($)&&ZN(W)||_.IsBigInt($)&&If(W)||_.IsString($)&&DN(W)||_.IsSymbol($)&&ZN(W)||_.IsNumber($)&&hM(W)||_.IsInteger($)&&hM(W)||_.IsBoolean($)&&ON(W)||_.IsUint8Array($)&&kf(W)||_.IsDate($)&&xf(W)||_.IsConstructor($)&&gf(W)||_.IsFunction($)&&Tf(W)?v.True:_.IsRecord($)&&_.IsString(nM($))?(()=>{return W[d$]==="Record"?v.True:v.False})():_.IsRecord($)&&_.IsNumber(nM($))?(()=>{return t5(W,0)?v.True:v.False})():v.False}function vf($,W){return p1(W)?i1($,W):_.IsRecord(W)?v2($,W):!_.IsObject(W)?v.False:(()=>{for(let J of Object.getOwnPropertyNames(W.properties)){if(!(J in $.properties)&&!_.IsOptional(W.properties[J]))return v.False;if(_.IsOptional(W.properties[J]))return v.True;if(uD($.properties[J],W.properties[J])===v.False)return v.False}return v.True})()}function df($,W){return p1(W)?i1($,W):_.IsObject(W)&&ff(W)?v.True:!_.IsPromise(W)?v.False:g2(o0($.item,W.item))}function nM($){return y$ in $.patternProperties?N9():(c$ in $.patternProperties)?q9():e$("Unknown record key pattern")}function oM($){return y$ in $.patternProperties?$.patternProperties[y$]:(c$ in $.patternProperties)?$.patternProperties[c$]:e$("Unable to get record value schema")}function v2($,W){let[J,X]=[nM(W),oM(W)];return _.IsLiteralString($)&&_.IsNumber(J)&&g2(o0($,X))===v.True?v.True:_.IsUint8Array($)&&_.IsNumber(J)?o0($,X):_.IsString($)&&_.IsNumber(J)?o0($,X):_.IsArray($)&&_.IsNumber(J)?o0($,X):_.IsObject($)?(()=>{for(let Q of Object.getOwnPropertyNames($.properties))if(uD(X,$.properties[Q])===v.False)return v.False;return v.True})():v.False}function yf($,W){return p1(W)?i1($,W):_.IsObject(W)?C5($,W):!_.IsRecord(W)?v.False:o0(oM($),oM(W))}function cf($,W){let J=_.IsRegExp($)?q9():$,X=_.IsRegExp(W)?q9():W;return o0(J,X)}function lD($,W){return _.IsLiteral($)&&P6.IsString($.const)?v.True:_.IsString($)?v.True:v.False}function hf($,W){return p1(W)?i1($,W):_.IsObject(W)?C5($,W):_.IsRecord(W)?v2($,W):_.IsString(W)?v.True:v.False}function mf($,W){return p1(W)?i1($,W):_.IsObject(W)?C5($,W):_.IsRecord(W)?v2($,W):_.IsSymbol(W)?v.True:v.False}function uf($,W){return _.IsTemplateLiteral($)?o0(uX($),W):_.IsTemplateLiteral(W)?o0($,uX(W)):e$("Invalid fallthrough for TemplateLiteral")}function lf($,W){return _.IsArray(W)&&$.items!==void 0&&$.items.every((J)=>o0(J,W.items)===v.True)}function pf($,W){return _.IsNever($)?v.True:_.IsUnknown($)?v.False:_.IsAny($)?v.Union:v.False}function nf($,W){return p1(W)?i1($,W):_.IsObject(W)&&XQ(W)?v.True:_.IsArray(W)&&lf($,W)?v.True:!_.IsTuple(W)?v.False:P6.IsUndefined($.items)&&!P6.IsUndefined(W.items)||!P6.IsUndefined($.items)&&P6.IsUndefined(W.items)?v.False:P6.IsUndefined($.items)&&!P6.IsUndefined(W.items)?v.True:$.items.every((J,X)=>o0(J,W.items[X])===v.True)?v.True:v.False}function of($,W){return p1(W)?i1($,W):_.IsObject(W)?C5($,W):_.IsRecord(W)?v2($,W):_.IsUint8Array(W)?v.True:v.False}function sf($,W){return p1(W)?i1($,W):_.IsObject(W)?C5($,W):_.IsRecord(W)?v2($,W):_.IsVoid(W)?tf($,W):_.IsUndefined(W)?v.True:v.False}function ZG($,W){return W.anyOf.some((J)=>o0($,J)===v.True)?v.True:v.False}function rf($,W){return $.anyOf.every((J)=>o0(J,W)===v.True)?v.True:v.False}function pD($,W){return v.True}function af($,W){return _.IsNever(W)?hD($,W):_.IsIntersect(W)?JQ($,W):_.IsUnion(W)?ZG($,W):_.IsAny(W)?DG($,W):_.IsString(W)?lD($,W):_.IsNumber(W)?mD($,W):_.IsInteger(W)?cD($,W):_.IsBoolean(W)?yD($,W):_.IsArray(W)?Nf($,W):_.IsTuple(W)?pf($,W):_.IsObject(W)?C5($,W):_.IsUnknown(W)?v.True:v.False}function tf($,W){return _.IsUndefined($)?v.True:_.IsUndefined($)?v.True:v.False}function ef($,W){return _.IsIntersect(W)?JQ($,W):_.IsUnion(W)?ZG($,W):_.IsUnknown(W)?pD($,W):_.IsAny(W)?DG($,W):_.IsObject(W)?C5($,W):_.IsVoid(W)?v.True:v.False}function o0($,W){return _.IsTemplateLiteral($)||_.IsTemplateLiteral(W)?uf($,W):_.IsRegExp($)||_.IsRegExp(W)?cf($,W):_.IsNot($)||_.IsNot(W)?Pf($,W):_.IsAny($)?Af($,W):_.IsArray($)?Df($,W):_.IsBigInt($)?Of($,W):_.IsBoolean($)?Sf($,W):_.IsAsyncIterator($)?Zf($,W):_.IsConstructor($)?jf($,W):_.IsDate($)?Lf($,W):_.IsFunction($)?_f($,W):_.IsInteger($)?Ff($,W):_.IsIntersect($)?Kf($,W):_.IsIterator($)?bf($,W):_.IsLiteral($)?Cf($,W):_.IsNever($)?Vf($,W):_.IsNull($)?Ef($,W):_.IsNumber($)?Rf($,W):_.IsObject($)?vf($,W):_.IsRecord($)?yf($,W):_.IsString($)?hf($,W):_.IsSymbol($)?mf($,W):_.IsTuple($)?nf($,W):_.IsPromise($)?df($,W):_.IsUint8Array($)?of($,W):_.IsUndefined($)?sf($,W):_.IsUnion($)?rf($,W):_.IsUnknown($)?af($,W):_.IsVoid($)?ef($,W):e$(`Unknown left type operand '${$[G0]}'`)}function RW($,W){return o0($,W)}function $v($,W,J,X,Q){let Y={};for(let M of globalThis.Object.getOwnPropertyNames($))Y[M]=OG($[M],W,J,X,D2(Q));return Y}function Wv($,W,J,X,Q){return $v($.properties,W,J,X,Q)}function Jv($,W,J,X,Q){let Y=Wv($,W,J,X,Q);return A5(Y)}function Xv($,W,J,X){let Q=RW($,W);return Q===v.Union?N5([J,X]):Q===v.True?J:X}function OG($,W,J,X,Q){return S2($)?Jv($,W,J,X,Q):U9($)?s(Gv($,W,J,X,Q)):s(Xv($,W,J,X),Q)}function Qv($,W,J,X,Q){return{[$]:OG(u1($),W,J,X,D2(Q))}}function Yv($,W,J,X,Q){return $.reduce((Y,M)=>{return{...Y,...Qv(M,W,J,X,Q)}},{})}function Mv($,W,J,X,Q){return Yv($.keys,W,J,X,Q)}function Gv($,W,J,X,Q){let Y=Mv($,W,J,X,Q);return A5(Y)}function Bv($,W){return SG(uX($),W)}function wv($,W){let J=$.filter((X)=>RW(X,W)===v.False);return J.length===1?J[0]:N5(J)}function SG($,W,J={}){if(z9($))return s(Bv($,W),J);if(S2($))return s(Uv($,W),J);return s(M5($)?wv($.anyOf,W):RW($,W)!==v.False?l1():$,J)}function qv($,W){let J={};for(let X of globalThis.Object.getOwnPropertyNames($))J[X]=SG($[X],W);return J}function Hv($,W){return qv($.properties,W)}function Uv($,W){let J=Hv($,W);return A5(J)}function zv($,W){return jG(uX($),W)}function Av($,W){let J=$.filter((X)=>RW(X,W)!==v.False);return J.length===1?J[0]:N5(J)}function jG($,W,J){if(z9($))return s(zv($,W),J);if(S2($))return s(Zv($,W),J);return s(M5($)?Av($.anyOf,W):RW($,W)!==v.False?$:l1(),J)}function Nv($,W){let J={};for(let X of globalThis.Object.getOwnPropertyNames($))J[X]=jG($[X],W);return J}function Dv($,W){return Nv($.properties,W)}function Zv($,W){let J=Dv($,W);return A5(J)}function Ov($,W){return n$($)?s($.returns,W):l1(W)}function iD($){return N4(D4($))}function D9($,W,J){return s({[G0]:"Record",type:"object",patternProperties:{[$]:W}},J)}function LG($,W,J){let X={};for(let Q of $)X[Q]=W;return Y5(X,{...J,[d$]:"Record"})}function Sv($,W,J){return hT($)?LG(A4($),W,J):D9($.pattern,W,J)}function jv($,W,J){return LG(A4(N5($)),W,J)}function Lv($,W,J){return LG([$.toString()],W,J)}function _v($,W,J){return D9($.source,W,J)}function Fv($,W,J){let X=g5($.pattern)?c$:$.pattern;return D9(X,W,J)}function Kv($,W,J){return D9(c$,W,J)}function bv($,W,J){return D9(OT,W,J)}function Cv($,W,J){return Y5({true:W,false:W},J)}function Vv($,W,J){return D9(y$,W,J)}function Pv($,W,J){return D9(y$,W,J)}function nD($,W,J={}){return M5($)?jv($.anyOf,W,J):z9($)?Sv($,W,J):H9($)?Lv($.const,W,J):KW($)?Cv($,W,J):s$($)?Vv($,W,J):r$($)?Pv($,W,J):EN($)?_v($,W,J):CW($)?Fv($,W,J):CN($)?Kv($,W,J):bW($)?bv($,W,J):l1(J)}function _G($){return globalThis.Object.getOwnPropertyNames($.patternProperties)[0]}function Ev($){let W=_G($);return W===c$?q9():W===y$?N9():q9({pattern:W})}function oD($){return $.patternProperties[_G($)]}function Rv($,W){return W.parameters=IW($,W.parameters),W.returns=_8($,W.returns),W}function Iv($,W){return W.parameters=IW($,W.parameters),W.returns=_8($,W.returns),W}function xv($,W){return W.allOf=IW($,W.allOf),W}function kv($,W){return W.anyOf=IW($,W.anyOf),W}function Tv($,W){if(g5(W.items))return W;return W.items=IW($,W.items),W}function gv($,W){return W.items=_8($,W.items),W}function fv($,W){return W.items=_8($,W.items),W}function vv($,W){return W.items=_8($,W.items),W}function dv($,W){return W.item=_8($,W.item),W}function yv($,W){let J=uv($,W.properties);return{...W,...Y5(J)}}function cv($,W){let J=_8($,Ev(W)),X=_8($,oD(W)),Q=nD(J,X);return{...W,...Q}}function hv($,W){return W.index in $?$[W.index]:WQ()}function mv($,W){let J=eM(W),X=z4(W),Q=_8($,W);return J&&X?iD(Q):J&&!X?N4(Q):!J&&X?D4(Q):Q}function uv($,W){return globalThis.Object.getOwnPropertyNames(W).reduce((J,X)=>{return{...J,[X]:mv($,W[X])}},{})}function IW($,W){return W.map((J)=>_8($,J))}function _8($,W){return n$(W)?Rv($,W):o$(W)?Iv($,W):f2(W)?xv($,W):M5(W)?kv($,W):A9(W)?Tv($,W):p$(W)?gv($,W):pX(W)?fv($,W):nX(W)?vv($,W):oX(W)?dv($,W):F8(W)?yv($,W):sX(W)?cv($,W):VN(W)?hv($,W):W}function lv($,W){return _8(W,tM($))}function pv($){return s({[G0]:"Integer",type:"integer"},$)}function iv($,W,J){return{[$]:$7(u1($),W,D2(J))}}function nv($,W,J){return $.reduce((Q,Y)=>{return{...Q,...iv(Y,W,J)}},{})}function ov($,W,J){return nv($.keys,W,J)}function sv($,W,J){let X=ov($,W,J);return A5(X)}function rv($){let[W,J]=[$.slice(0,1),$.slice(1)];return[W.toLowerCase(),J].join("")}function av($){let[W,J]=[$.slice(0,1),$.slice(1)];return[W.toUpperCase(),J].join("")}function tv($){return $.toUpperCase()}function ev($){return $.toLowerCase()}function $d($,W,J){let X=qG($.pattern);if(!FW(X))return{...$,pattern:sD($.pattern,W)};let M=[...tX(X)].map((w)=>u1(w)),G=rD(M,W),B=N5(G);return bD([B],J)}function sD($,W){return typeof $==="string"?W==="Uncapitalize"?rv($):W==="Capitalize"?av($):W==="Uppercase"?tv($):W==="Lowercase"?ev($):$:$.toString()}function rD($,W){return $.map((J)=>$7(J,W))}function $7($,W,J={}){return U9($)?sv($,W,J):z9($)?$d($,W,J):M5($)?N5(rD($.anyOf,W),J):H9($)?u1(sD($.const,W),J):s($,J)}function Wd($,W={}){return $7($,"Capitalize",W)}function Jd($,W={}){return $7($,"Lowercase",W)}function Xd($,W={}){return $7($,"Uncapitalize",W)}function Qd($,W={}){return $7($,"Uppercase",W)}function Yd($,W,J){let X={};for(let Q of globalThis.Object.getOwnPropertyNames($))X[Q]=QQ($[Q],W,D2(J));return X}function Md($,W,J){return Yd($.properties,W,J)}function Gd($,W,J){let X=Md($,W,J);return A5(X)}function Bd($,W){return $.map((J)=>FG(J,W))}function wd($,W){return $.map((J)=>FG(J,W))}function qd($,W){let{[W]:J,...X}=$;return X}function Hd($,W){return W.reduce((J,X)=>qd(J,X),$)}function Ud($,W){let J=Z2($,[T2,"$id","required","properties"]),X=Hd($.properties,W);return Y5(X,J)}function zd($){let W=$.reduce((J,X)=>PN(X)?[...J,u1(X)]:J,[]);return N5(W)}function FG($,W){return f2($)?Z4(Bd($.allOf,W)):M5($)?N5(wd($.anyOf,W)):F8($)?Ud($,W):Y5({})}function QQ($,W,J){let X=f5(W)?zd(W):W,Q=H4(W)?A4(W):W,Y=a5($),M=a5(W);return S2($)?Gd($,Q,J):U9(W)?Zd($,W,J):Y&&M?t1("Omit",[$,X],J):!Y&&M?t1("Omit",[$,X],J):Y&&!M?t1("Omit",[$,X],J):s({...FG($,Q),...J})}function Ad($,W,J){return{[W]:QQ($,[W],D2(J))}}function Nd($,W,J){return W.reduce((X,Q)=>{return{...X,...Ad($,Q,J)}},{})}function Dd($,W,J){return Nd($,W.keys,J)}function Zd($,W,J){let X=Dd($,W,J);return A5(X)}function Od($,W,J){let X={};for(let Q of globalThis.Object.getOwnPropertyNames($))X[Q]=YQ($[Q],W,D2(J));return X}function Sd($,W,J){return Od($.properties,W,J)}function jd($,W,J){let X=Sd($,W,J);return A5(X)}function Ld($,W){return $.map((J)=>KG(J,W))}function _d($,W){return $.map((J)=>KG(J,W))}function Fd($,W){let J={};for(let X of W)if(X in $)J[X]=$[X];return J}function Kd($,W){let J=Z2($,[T2,"$id","required","properties"]),X=Fd($.properties,W);return Y5(X,J)}function bd($){let W=$.reduce((J,X)=>PN(X)?[...J,u1(X)]:J,[]);return N5(W)}function KG($,W){return f2($)?Z4(Ld($.allOf,W)):M5($)?N5(_d($.anyOf,W)):F8($)?Kd($,W):Y5({})}function YQ($,W,J){let X=f5(W)?bd(W):W,Q=H4(W)?A4(W):W,Y=a5($),M=a5(W);return S2($)?jd($,Q,J):U9(W)?Ed($,W,J):Y&&M?t1("Pick",[$,X],J):!Y&&M?t1("Pick",[$,X],J):Y&&!M?t1("Pick",[$,X],J):s({...KG($,Q),...J})}function Cd($,W,J){return{[W]:YQ($,[W],D2(J))}}function Vd($,W,J){return W.reduce((X,Q)=>{return{...X,...Cd($,Q,J)}},{})}function Pd($,W,J){return Vd($,W.keys,J)}function Ed($,W,J){let X=Pd($,W,J);return A5(X)}function Rd($,W){return t1("Partial",[t1($,W)])}function Id($){return t1("Partial",[EW($)])}function xd($){let W={};for(let J of globalThis.Object.getOwnPropertyNames($))W[J]=D4($[J]);return W}function kd($){let W=Z2($,[T2,"$id","required","properties"]),J=xd($.properties);return Y5(J,W)}function SN($){return $.map((W)=>aD(W))}function aD($){return i$($)?Rd($.target,$.parameters):a5($)?Id($.$ref):f2($)?Z4(SN($.allOf)):M5($)?N5(SN($.anyOf)):F8($)?kd($):iX($)?$:KW($)?$:s$($)?$:H9($)?$:$G($)?$:r$($)?$:CW($)?$:WG($)?$:JG($)?$:Y5({})}function bG($,W){if(S2($))return fd($,W);else return s({...aD($),...W})}function Td($,W){let J={};for(let X of globalThis.Object.getOwnPropertyNames($))J[X]=bG($[X],D2(W));return J}function gd($,W){return Td($.properties,W)}function fd($,W){let J=gd($,W);return A5(J)}function vd($,W){return t1("Required",[t1($,W)])}function dd($){return t1("Required",[EW($)])}function yd($){let W={};for(let J of globalThis.Object.getOwnPropertyNames($))W[J]=Z2($[J],[R6]);return W}function cd($){let W=Z2($,[T2,"$id","required","properties"]),J=yd($.properties);return Y5(J,W)}function jN($){return $.map((W)=>tD(W))}function tD($){return i$($)?vd($.target,$.parameters):a5($)?dd($.$ref):f2($)?Z4(jN($.allOf)):M5($)?N5(jN($.anyOf)):F8($)?cd($):iX($)?$:KW($)?$:s$($)?$:H9($)?$:$G($)?$:r$($)?$:CW($)?$:WG($)?$:JG($)?$:Y5({})}function CG($,W){if(S2($))return ud($,W);else return s({...tD($),...W})}function hd($,W){let J={};for(let X of globalThis.Object.getOwnPropertyNames($))J[X]=CG($[X],W);return J}function md($,W){return hd($.properties,W)}function ud($,W){let J=md($,W);return A5(J)}function ld($,W){return W.map((J)=>{return a5(J)?VG($,J.$ref):O2($,J)})}function VG($,W){return W in $?a5($[W])?VG($,$[W].$ref):O2($,$[W]):l1()}function pd($){return $Q($[0])}function id($){return eX($[0],$[1])}function nd($){return AG($[0])}function od($){return bG($[0])}function sd($){return QQ($[0],$[1])}function rd($){return YQ($[0],$[1])}function ad($){return CG($[0])}function td($,W,J){let X=ld($,J);return W==="Awaited"?pd(X):W==="Index"?id(X):W==="KeyOf"?nd(X):W==="Partial"?od(X):W==="Omit"?sd(X):W==="Pick"?rd(X):W==="Required"?ad(X):l1()}function ed($,W){return MG(O2($,W))}function $y($,W){return GG(O2($,W))}function Wy($,W,J){return BG(xW($,W),O2($,J))}function Jy($,W,J){return PW(xW($,W),O2($,J))}function Xy($,W){return Z4(xW($,W))}function Qy($,W){return UG(O2($,W))}function Yy($,W){return Y5(globalThis.Object.keys(W).reduce((J,X)=>{return{...J,[X]:O2($,W[X])}},{}))}function My($,W){let[J,X]=[O2($,oD(W)),_G(W)],Q=tM(W);return Q.patternProperties[X]=J,Q}function Gy($,W){return a5(W)?{...VG($,W.$ref),[T2]:W[T2]}:W}function By($,W){return t$(xW($,W))}function wy($,W){return N5(xW($,W))}function xW($,W){return W.map((J)=>O2($,J))}function O2($,W){return z4(W)?s(O2($,Z2(W,[R6])),W):eM(W)?s(O2($,Z2(W,[l$])),W):rX(W)?s(Gy($,W),W):p$(W)?s(ed($,W.items),W):pX(W)?s($y($,W.items),W):i$(W)?s(td($,W.target,W.parameters)):n$(W)?s(Wy($,W.parameters,W.returns),W):o$(W)?s(Jy($,W.parameters,W.returns),W):f2(W)?s(Xy($,W.allOf),W):nX(W)?s(Qy($,W.items),W):F8(W)?s(Yy($,W.properties),W):sX(W)?s(My($,W)):A9(W)?s(By($,W.items||[]),W):M5(W)?s(wy($,W.anyOf),W):W}function qy($,W){return W in $?O2($,$[W]):l1()}function Hy($){return globalThis.Object.getOwnPropertyNames($).reduce((W,J)=>{return{...W,[J]:qy($,J)}},{})}var Uy=class{constructor($){let W=Hy($),J=this.WithIdentifiers(W);this.$defs=J}Import($,W){let J={...this.$defs,[$]:s(this.$defs[$],W)};return s({[G0]:"Import",$defs:J,$ref:$})}WithIdentifiers($){return globalThis.Object.getOwnPropertyNames($).reduce((W,J)=>{return{...W,[J]:{...$[J],$id:J}}},{})}};function zy($){return new Uy($)}function Ay($,W){return s({[G0]:"Not",not:$},W)}function Ny($,W){return o$($)?t$($.parameters,W):l1()}var Dy=0;function Zy($,W={}){if(g5(W.$id))W.$id=`T${Dy++}`;let J=tM($({[G0]:"This",$ref:`${W.$id}`}));return J.$id=W.$id,s({[d$]:"Recursive",...J},W)}function Oy($,W){let J=I1($)?new globalThis.RegExp($):$;return s({[G0]:"RegExp",type:"RegExp",source:J.source,flags:J.flags},W)}function Sy($){return f2($)?$.allOf:M5($)?$.anyOf:A9($)?$.items??[]:[]}function jy($){return Sy($)}function Ly($,W){return o$($)?s($.returns,W):l1(W)}var _y=class{constructor($){this.schema=$}Decode($){return new Fy(this.schema,$)}},Fy=class{constructor($,W){this.schema=$,this.decode=W}EncodeTransform($,W){let Q={Encode:(Y)=>W[T2].Encode($(Y)),Decode:(Y)=>this.decode(W[T2].Decode(Y))};return{...W,[T2]:Q}}EncodeSchema($,W){let J={Decode:this.decode,Encode:$};return{...W,[T2]:J}}Encode($){return rX(this.schema)?this.EncodeTransform($,this.schema):this.EncodeSchema($,this.schema)}};function Ky($){return new _y($)}function by($={}){return s({[G0]:$[G0]??"Unsafe"},$)}function Cy($){return s({[G0]:"Void",type:"void"},$)}var eD={};sM(eD,{Any:()=>LW,Argument:()=>bT,Array:()=>MG,AsyncIterator:()=>GG,Awaited:()=>$Q,BigInt:()=>HG,Boolean:()=>FD,Capitalize:()=>Wd,Composite:()=>Gf,Const:()=>qf,Constructor:()=>BG,ConstructorParameters:()=>Hf,Date:()=>TD,Enum:()=>Uf,Exclude:()=>SG,Extends:()=>OG,Extract:()=>jG,Function:()=>PW,Index:()=>eX,InstanceType:()=>Ov,Instantiate:()=>lv,Integer:()=>pv,Intersect:()=>Z4,Iterator:()=>UG,KeyOf:()=>AG,Literal:()=>u1,Lowercase:()=>Jd,Mapped:()=>Pg,Module:()=>zy,Never:()=>l1,Not:()=>Ay,Null:()=>gD,Number:()=>N9,Object:()=>Y5,Omit:()=>QQ,Optional:()=>D4,Parameters:()=>Ny,Partial:()=>bG,Pick:()=>YQ,Promise:()=>ED,Readonly:()=>N4,ReadonlyOptional:()=>iD,Record:()=>nD,Recursive:()=>Zy,Ref:()=>EW,RegExp:()=>Oy,Required:()=>CG,Rest:()=>jy,ReturnType:()=>Ly,String:()=>q9,Symbol:()=>fD,TemplateLiteral:()=>bD,Transform:()=>Ky,Tuple:()=>t$,Uint8Array:()=>dD,Uncapitalize:()=>Xd,Undefined:()=>vD,Union:()=>N5,Unknown:()=>WQ,Unsafe:()=>by,Uppercase:()=>Qd,Void:()=>Cy});var m1=eD,Vy=({name:$="jwt",secret:W,schema:J,...X})=>{if(!W)throw new Error("Secret can't be empty");let Q=typeof W==="string"?new TextEncoder().encode(W):W,Y=J?v1(m1.Intersect([J,m1.Object({iss:m1.Optional(m1.String()),sub:m1.Optional(m1.String()),aud:m1.Optional(m1.Union([m1.String(),m1.Array(m1.String())])),jti:m1.Optional(m1.String()),nbf:m1.Optional(m1.Number()),exp:m1.Optional(m1.Number()),iat:m1.Optional(m1.Number())})]),{modules:m1.Module({})}):void 0;return new h1({name:"@elysiajs/jwt",seed:{name:$,secret:W,schema:J,...X}}).decorate($,{sign(M){let{nbf:G,exp:B,iat:w,...q}=M,H={alg:X.alg??"HS256",b64:X.b64,crit:X.crit,cty:X.cty,jku:X.jku,jwk:X.jwk,kid:X.kid,typ:X.typ??"JWT",x5c:X.x5c,x5t:X.x5t,x5u:X.x5u},z={aud:q.aud??X.aud,iss:q.iss??X.iss,jti:q.jti??X.jti,sub:q.sub??X.sub,...q},U=new dX({...z}).setProtectedHeader({alg:H.alg,...H}),N="nbf"in M?G:X.nbf;if(N!==void 0)U=U.setNotBefore(N);let D="exp"in M?B:X.exp;if(D!==void 0)U=U.setExpirationTime(D);if(("iat"in M?w:X.iat)!==!1)U=U.setIssuedAt(new Date);return U.sign(Q)},async verify(M,G){if(!M)return!1;try{let B=(await(G?vX(M,Q,G):vX(M,Q))).payload;if(Y&&!Y.Check(B))throw new c0("JWT",Y,B);return B}catch(B){return!1}}})},$Z=Vy;var O4=A.Object({id:A.String(),firstname:A.String(),lastname:A.String(),username:A.String(),email:A.String(),password:A.String(),role:A.UnionEnum(["USER","ADMIN","OFFICER","SUPERADMIN"])});import*as iS from"node:process";import*as QJ from"node:path";import{fileURLToPath as wn}from"node:url";import*as nZ from"node:module";import*as oZ from"node:path";import*as J0 from"node:process";import*as sZ from"node:url";import Dc from"node:fs";import jc from"node:child_process";import MO from"node:fs/promises";import yG from"node:os";import{promisify as Cc}from"node:util";import DB from"node:process";import N1 from"node:path";import GZ from"node:fs";import BQ from"node:path";import iG from"node:fs";import nW from"node:path";import rm from"node:fs";import{AsyncResource as Ul}from"node:async_hooks";import{EventEmitter as zl}from"node:events";import Al from"node:fs";import IG from"node:path";import Sp from"node:fs";import DQ from"node:path";import IZ from"node:os";import Ui from"node:path";var __dirname="C:\\Users\\D3C3M\\Desktop\\backend_cake\\node_modules\\@prisma\\client\\runtime",qB=sZ.fileURLToPath(import.meta.url);globalThis.__dirname=oZ.dirname(qB);var W7=nZ.createRequire(import.meta.url),Py=Object.create,HB=Object.defineProperty,Ey=Object.getOwnPropertyDescriptor,Ry=Object.getOwnPropertyNames,Iy=Object.getPrototypeOf,xy=Object.prototype.hasOwnProperty,Q7=(($)=>typeof W7<"u"?W7:typeof Proxy<"u"?new Proxy($,{get:(W,J)=>(typeof W7<"u"?W7:W)[J]}):$)(function($){if(typeof W7<"u")return W7.apply(this,arguments);throw Error('Dynamic require of "'+$+'" is not supported')}),rZ=($,W)=>()=>($&&(W=$($=0)),W),y2=($,W)=>()=>(W||$((W={exports:{}}).exports,W),W.exports),H7=($,W)=>{for(var J in W)HB($,J,{get:W[J],enumerable:!0})},ky=($,W,J,X)=>{if(W&&typeof W=="object"||typeof W=="function")for(let Q of Ry(W))!xy.call($,Q)&&Q!==J&&HB($,Q,{get:()=>W[Q],enumerable:!(X=Ey(W,Q))||X.enumerable});return $},c2=($,W,J)=>(J=$!=null?Py(Iy($)):{},ky(W||!$||!$.__esModule?HB(J,"default",{value:$,enumerable:!0}):J,$)),aZ=y2(($,W)=>{W.exports=(J,X=J0.argv)=>{let Q=J.startsWith("-")?"":J.length===1?"-":"--",Y=X.indexOf(Q+J),M=X.indexOf("--");return Y!==-1&&(M===-1||Y<M)}}),Ty=y2(($,W)=>{var J=Q7("node:os"),X=Q7("node:tty"),Q=aZ(),{env:Y}=J0,M;Q("no-color")||Q("no-colors")||Q("color=false")||Q("color=never")?M=0:(Q("color")||Q("colors")||Q("color=true")||Q("color=always"))&&(M=1),"FORCE_COLOR"in Y&&(Y.FORCE_COLOR==="true"?M=1:Y.FORCE_COLOR==="false"?M=0:M=Y.FORCE_COLOR.length===0?1:Math.min(parseInt(Y.FORCE_COLOR,10),3));function G(q){return q===0?!1:{level:q,hasBasic:!0,has256:q>=2,has16m:q>=3}}function B(q,H){if(M===0)return 0;if(Q("color=16m")||Q("color=full")||Q("color=truecolor"))return 3;if(Q("color=256"))return 2;if(q&&!H&&M===void 0)return 0;let z=M||0;if(Y.TERM==="dumb")return z;if(J0.platform==="win32"){let U=J.release().split(".");return Number(U[0])>=10&&Number(U[2])>=10586?Number(U[2])>=14931?3:2:1}if("CI"in Y)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((U)=>(U in Y))||Y.CI_NAME==="codeship"?1:z;if("TEAMCITY_VERSION"in Y)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Y.TEAMCITY_VERSION)?1:0;if(Y.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Y){let U=parseInt((Y.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Y.TERM_PROGRAM){case"iTerm.app":return U>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Y.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Y.TERM)||("COLORTERM"in Y)?1:z}function w(q){let H=B(q,q&&q.isTTY);return G(H)}W.exports={supportsColor:w,stdout:G(B(!0,X.isatty(1))),stderr:G(B(!0,X.isatty(2)))}}),gy=y2(($,W)=>{var J=Ty(),X=aZ();function Q(M){if(/^\d{3,4}$/.test(M)){let B=/(\d{1,2})(\d{2})/.exec(M)||[];return{major:0,minor:parseInt(B[1],10),patch:parseInt(B[2],10)}}let G=(M||"").split(".").map((B)=>parseInt(B,10));return{major:G[0],minor:G[1],patch:G[2]}}function Y(M){let{CI:G,FORCE_HYPERLINK:B,NETLIFY:w,TEAMCITY_VERSION:q,TERM_PROGRAM:H,TERM_PROGRAM_VERSION:z,VTE_VERSION:U,TERM:N}=J0.env;if(B)return!(B.length>0&&parseInt(B,10)===0);if(X("no-hyperlink")||X("no-hyperlinks")||X("hyperlink=false")||X("hyperlink=never"))return!1;if(X("hyperlink=true")||X("hyperlink=always")||w)return!0;if(!J.supportsColor(M)||M&&!M.isTTY)return!1;if("WT_SESSION"in J0.env)return!0;if(J0.platform==="win32"||G||q)return!1;if(H){let D=Q(z||"");switch(H){case"iTerm.app":return D.major===3?D.minor>=1:D.major>3;case"WezTerm":return D.major>=20200620;case"vscode":return D.major>1||D.major===1&&D.minor>=72;case"ghostty":return!0}}if(U){if(U==="0.50.0")return!1;let D=Q(U);return D.major>0||D.minor>=50}switch(N){case"alacritty":return!0}return!1}W.exports={supportsHyperlink:Y,stdout:Y(J0.stdout),stderr:Y(J0.stderr)}}),fy=y2(($,W)=>{W.exports={name:"@prisma/internals",version:"6.16.2",description:"This package is intended for Prisma's internal use",main:"dist/index.js",types:"dist/index.d.ts",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/internals"},homepage:"https://www.prisma.io",author:"Tim Suchanek <suchanek@prisma.io>",bugs:"https://github.com/prisma/prisma/issues",license:"Apache-2.0",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",test:"dotenv -e ../../.db.env -- jest --silent",prepublishOnly:"pnpm run build"},files:["README.md","dist","!**/libquery_engine*","!dist/get-generators/engines/*","scripts"],devDependencies:{"@babel/helper-validator-identifier":"7.25.9","@opentelemetry/api":"1.9.0","@swc/core":"1.11.5","@swc/jest":"0.2.37","@types/babel__helper-validator-identifier":"7.15.2","@types/jest":"29.5.14","@types/node":"18.19.76","@types/resolve":"1.20.6",archiver:"6.0.2","checkpoint-client":"1.1.33","cli-truncate":"4.0.0",dotenv:"16.5.0",empathic:"2.0.0","escape-string-regexp":"5.0.0",execa:"5.1.1","fast-glob":"3.3.3","find-up":"7.0.0","fp-ts":"2.16.9","fs-extra":"11.3.0","fs-jetpack":"5.1.0","global-directory":"4.0.0",globby:"11.1.0","identifier-regex":"1.0.0","indent-string":"4.0.0","is-windows":"1.0.2","is-wsl":"3.1.0",jest:"29.7.0","jest-junit":"16.0.0",kleur:"4.1.5","mock-stdin":"1.0.0","new-github-issue-url":"0.2.1","node-fetch":"3.3.2","npm-packlist":"5.1.3",open:"7.4.2","p-map":"4.0.0",resolve:"1.22.10","string-width":"7.2.0","strip-indent":"4.0.0","temp-dir":"2.0.0",tempy:"1.0.1","terminal-link":"4.0.0",tmp:"0.2.3","ts-pattern":"5.6.2","ts-toolbelt":"9.6.0",typescript:"5.4.5",yarn:"1.22.22"},dependencies:{"@prisma/config":"workspace:*","@prisma/debug":"workspace:*","@prisma/dmmf":"workspace:*","@prisma/driver-adapter-utils":"workspace:*","@prisma/engines":"workspace:*","@prisma/fetch-engine":"workspace:*","@prisma/generator":"workspace:*","@prisma/generator-helper":"workspace:*","@prisma/get-platform":"workspace:*","@prisma/prisma-schema-wasm":"6.16.0-7.1c57fdcd7e44b29b9313256c76699e91c3ac3c43","@prisma/schema-engine-wasm":"6.16.0-7.1c57fdcd7e44b29b9313256c76699e91c3ac3c43","@prisma/schema-files-loader":"workspace:*",arg:"5.0.2",prompts:"2.4.2"},peerDependencies:{typescript:">=5.1.0"},peerDependenciesMeta:{typescript:{optional:!0}},sideEffects:!1}}),tZ=y2(($,W)=>{W.exports={name:"@prisma/engines-version",version:"6.16.0-7.1c57fdcd7e44b29b9313256c76699e91c3ac3c43",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"1c57fdcd7e44b29b9313256c76699e91c3ac3c43"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}}),UB=y2(($)=>{Object.defineProperty($,"__esModule",{value:!0}),$.enginesVersion=void 0,$.enginesVersion=tZ().prisma.enginesVersion}),vy=y2(($,W)=>{W.exports=(J)=>{let X=J.match(/^[ \t]*(?=\S)/gm);return X?X.reduce((Q,Y)=>Math.min(Q,Y.length),1/0):0}}),eZ=y2(($,W)=>{W.exports=(J,X=1,Q)=>{if(Q={indent:" ",includeEmptyLines:!1,...Q},typeof J!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof J}\``);if(typeof X!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof X}\``);if(typeof Q.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof Q.indent}\``);if(X===0)return J;let Y=Q.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return J.replace(Y,Q.indent.repeat(X))}}),dy=y2(($,W)=>{W.exports={name:"dotenv",version:"16.5.0",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}}),yy=y2(($,W)=>{var J=Q7("node:fs"),X=Q7("node:path"),Q=Q7("node:os"),Y=Q7("node:crypto"),M=dy(),G=M.version,B=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function w(b){let x={},k=b.toString();k=k.replace(/\r\n?/mg,`
`);let P;for(;(P=B.exec(k))!=null;){let C=P[1],d=P[2]||"";d=d.trim();let u=d[0];d=d.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),u==='"'&&(d=d.replace(/\\n/g,`
`),d=d.replace(/\\r/g,"\r")),x[C]=d}return x}function q(b){let x=D(b),k=T.configDotenv({path:x});if(!k.parsed){let u=new Error(`MISSING_DATA: Cannot parse ${x} for an unknown reason`);throw u.code="MISSING_DATA",u}let P=U(b).split(","),C=P.length,d;for(let u=0;u<C;u++)try{let $0=P[u].trim(),Q0=N(k,$0);d=T.decrypt(Q0.ciphertext,Q0.key);break}catch($0){if(u+1>=C)throw $0}return T.parse(d)}function H(b){console.log(`[dotenv@${G}][WARN] ${b}`)}function z(b){console.log(`[dotenv@${G}][DEBUG] ${b}`)}function U(b){return b&&b.DOTENV_KEY&&b.DOTENV_KEY.length>0?b.DOTENV_KEY:J0.env.DOTENV_KEY&&J0.env.DOTENV_KEY.length>0?J0.env.DOTENV_KEY:""}function N(b,x){let k;try{k=new URL(x)}catch($0){if($0.code==="ERR_INVALID_URL"){let Q0=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw Q0.code="INVALID_DOTENV_KEY",Q0}throw $0}let P=k.password;if(!P){let $0=new Error("INVALID_DOTENV_KEY: Missing key part");throw $0.code="INVALID_DOTENV_KEY",$0}let C=k.searchParams.get("environment");if(!C){let $0=new Error("INVALID_DOTENV_KEY: Missing environment part");throw $0.code="INVALID_DOTENV_KEY",$0}let d=`DOTENV_VAULT_${C.toUpperCase()}`,u=b.parsed[d];if(!u){let $0=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${d} in your .env.vault file.`);throw $0.code="NOT_FOUND_DOTENV_ENVIRONMENT",$0}return{ciphertext:u,key:P}}function D(b){let x=null;if(b&&b.path&&b.path.length>0)if(Array.isArray(b.path))for(let k of b.path)J.existsSync(k)&&(x=k.endsWith(".vault")?k:`${k}.vault`);else x=b.path.endsWith(".vault")?b.path:`${b.path}.vault`;else x=X.resolve(J0.cwd(),".env.vault");return J.existsSync(x)?x:null}function j(b){return b[0]==="~"?X.join(Q.homedir(),b.slice(1)):b}function K(b){!!(b&&b.debug)&&z("Loading env from encrypted .env.vault");let x=T._parseVault(b),k=J0.env;return b&&b.processEnv!=null&&(k=b.processEnv),T.populate(k,x,b),{parsed:x}}function O(b){let x=X.resolve(J0.cwd(),".env"),k="utf8",P=!!(b&&b.debug);b&&b.encoding?k=b.encoding:P&&z("No encoding is specified. UTF-8 is used by default");let C=[x];if(b&&b.path)if(!Array.isArray(b.path))C=[j(b.path)];else{C=[];for(let Q0 of b.path)C.push(j(Q0))}let d,u={};for(let Q0 of C)try{let t=T.parse(J.readFileSync(Q0,{encoding:k}));T.populate(u,t,b)}catch(t){P&&z(`Failed to load ${Q0} ${t.message}`),d=t}let $0=J0.env;return b&&b.processEnv!=null&&($0=b.processEnv),T.populate($0,u,b),d?{parsed:u,error:d}:{parsed:u}}function E(b){if(U(b).length===0)return T.configDotenv(b);let x=D(b);return x?T._configVault(b):(H(`You set DOTENV_KEY but you are missing a .env.vault file at ${x}. Did you forget to build it?`),T.configDotenv(b))}function m(b,x){let k=Buffer.from(x.slice(-64),"hex"),P=Buffer.from(b,"base64"),C=P.subarray(0,12),d=P.subarray(-16);P=P.subarray(12,-16);try{let u=Y.createDecipheriv("aes-256-gcm",k,C);return u.setAuthTag(d),`${u.update(P)}${u.final()}`}catch(u){let $0=u instanceof RangeError,Q0=u.message==="Invalid key length",t=u.message==="Unsupported state or unable to authenticate data";if($0||Q0){let d5=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw d5.code="INVALID_DOTENV_KEY",d5}else if(t){let d5=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw d5.code="DECRYPTION_FAILED",d5}else throw u}}function e(b,x,k={}){let P=!!(k&&k.debug),C=!!(k&&k.override);if(typeof x!="object"){let d=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw d.code="OBJECT_REQUIRED",d}for(let d of Object.keys(x))Object.prototype.hasOwnProperty.call(b,d)?(C===!0&&(b[d]=x[d]),P&&z(C===!0?`"${d}" is already defined and WAS overwritten`:`"${d}" is already defined and was NOT overwritten`)):b[d]=x[d]}var T={configDotenv:O,_configVault:K,_parseVault:q,config:E,decrypt:m,parse:w,populate:e};W.exports.configDotenv=T.configDotenv,W.exports._configVault=T._configVault,W.exports._parseVault=T._parseVault,W.exports.config=T.config,W.exports.decrypt=T.decrypt,W.exports.parse=T.parse,W.exports.populate=T.populate,W.exports=T}),cy=y2(($,W)=>{W.exports=(J={})=>{let X;if(J.repoUrl)X=J.repoUrl;else if(J.user&&J.repo)X=`https://github.com/${J.user}/${J.repo}`;else throw new Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");let Q=new URL(`${X}/issues/new`),Y=["body","title","labels","template","milestone","assignee","projects"];for(let M of Y){let G=J[M];if(G!==void 0){if(M==="labels"||M==="projects"){if(!Array.isArray(G))throw new TypeError(`The \`${M}\` option should be an array`);G=G.join(",")}Q.searchParams.set(M,G)}}return Q.toString()},W.exports.default=W.exports}),$O=y2(($,W)=>{W.exports=function(){function J(X,Q,Y,M,G){return X<Q||Y<Q?X>Y?Y+1:X+1:M===G?Q:Q+1}return function(X,Q){if(X===Q)return 0;if(X.length>Q.length){var Y=X;X=Q,Q=Y}for(var M=X.length,G=Q.length;M>0&&X.charCodeAt(M-1)===Q.charCodeAt(G-1);)M--,G--;for(var B=0;B<M&&X.charCodeAt(B)===Q.charCodeAt(B);)B++;if(M-=B,G-=B,M===0||G<3)return G;var w=0,q,H,z,U,N,D,j,K,O,E,m,e,T=[];for(q=0;q<M;q++)T.push(q+1),T.push(X.charCodeAt(B+q));for(var b=T.length-1;w<G-3;)for(O=Q.charCodeAt(B+(H=w)),E=Q.charCodeAt(B+(z=w+1)),m=Q.charCodeAt(B+(U=w+2)),e=Q.charCodeAt(B+(N=w+3)),D=w+=4,q=0;q<b;q+=2)j=T[q],K=T[q+1],H=J(j,H,z,O,K),z=J(H,z,U,E,K),U=J(z,U,N,m,K),D=J(U,N,D,e,K),T[q]=D,N=U,U=z,z=H,H=j;for(;w<G;)for(O=Q.charCodeAt(B+(H=w)),D=++w,q=0;q<b;q+=2)j=T[q],T[q]=D=J(j,H,D,O,T[q+1]),H=j;return D}}()}),hy=rZ(()=>{}),my=rZ(()=>{}),bQ={};H7(bQ,{defineExtension:()=>uy,getExtensionContext:()=>ly});function uy($){return typeof $=="function"?$:(W)=>W.$extends($)}function ly($){return $}var py={};H7(py,{validator:()=>iy});function iy(...$){return(W)=>W}var fG={};H7(fG,{$:()=>YO,bgBlack:()=>Jc,bgBlue:()=>Mc,bgCyan:()=>Bc,bgGreen:()=>Qc,bgMagenta:()=>Gc,bgRed:()=>Xc,bgWhite:()=>wc,bgYellow:()=>Yc,black:()=>ty,blue:()=>vW,bold:()=>K8,cyan:()=>O9,dim:()=>rW,gray:()=>zB,green:()=>uW,grey:()=>Wc,hidden:()=>ry,inverse:()=>sy,italic:()=>oy,magenta:()=>ey,red:()=>S9,reset:()=>ny,strikethrough:()=>ay,underline:()=>d2,white:()=>$c,yellow:()=>aW});var vG,WO,JO,XO,QO=!0;typeof J0<"u"&&({FORCE_COLOR:vG,NODE_DISABLE_COLORS:WO,NO_COLOR:JO,TERM:XO}=J0.env||{},QO=J0.stdout&&J0.stdout.isTTY);var YO={enabled:!WO&&JO==null&&XO!=="dumb"&&(vG!=null&&vG!=="0"||QO)};function G1($,W){let J=new RegExp(`\\x1b\\[${W}m`,"g"),X=`\x1B[${$}m`,Q=`\x1B[${W}m`;return function(Y){return!YO.enabled||Y==null?Y:X+(~(""+Y).indexOf(Q)?Y.replace(J,Q+X):Y)+Q}}var ny=G1(0,0),K8=G1(1,22),rW=G1(2,22),oy=G1(3,23),d2=G1(4,24),sy=G1(7,27),ry=G1(8,28),ay=G1(9,29),ty=G1(30,39),S9=G1(31,39),uW=G1(32,39),aW=G1(33,39),vW=G1(34,39),ey=G1(35,39),O9=G1(36,39),$c=G1(37,39),zB=G1(90,39),Wc=G1(90,39),Jc=G1(40,49),Xc=G1(41,49),Qc=G1(42,49),Yc=G1(43,49),Mc=G1(44,49),Gc=G1(45,49),Bc=G1(46,49),wc=G1(47,49),qc=100,WZ=["green","yellow","blue","magenta","cyan","red"],dW=[],JZ=Date.now(),Hc=0,dG=typeof J0<"u"?J0.env:{};globalThis.DEBUG??=dG.DEBUG??"";globalThis.DEBUG_COLORS??=dG.DEBUG_COLORS?dG.DEBUG_COLORS==="true":!0;var yW={enable($){typeof $=="string"&&(globalThis.DEBUG=$)},disable(){let $=globalThis.DEBUG;return globalThis.DEBUG="",$},enabled($){let W=globalThis.DEBUG.split(",").map((Q)=>Q.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),J=W.some((Q)=>Q===""||Q[0]==="-"?!1:$.match(RegExp(Q.split("*").join(".*")+"$"))),X=W.some((Q)=>Q===""||Q[0]!=="-"?!1:$.match(RegExp(Q.slice(1).split("*").join(".*")+"$")));return J&&!X},log:(...$)=>{let[W,J,...X]=$;(console.warn??console.log)(`${W} ${J}`,...X)},formatters:{}};function Uc($){let W={color:WZ[Hc++%WZ.length],enabled:yW.enabled($),namespace:$,log:yW.log,extend:()=>{}};return new Proxy((...X)=>{let{enabled:Q,namespace:Y,color:M,log:G}=W;if(X.length!==0&&dW.push([Y,...X]),dW.length>qc&&dW.shift(),yW.enabled(Y)||Q){let B=X.map((q)=>typeof q=="string"?q:zc(q)),w=`+${Date.now()-JZ}ms`;JZ=Date.now(),globalThis.DEBUG_COLORS?G(fG[M](K8(Y)),...B,fG[M](w)):G(Y,...B,w)}},{get:(X,Q)=>W[Q],set:(X,Q,Y)=>W[Q]=Y})}var $2=new Proxy(Uc,{get:($,W)=>yW[W],set:($,W,J)=>yW[W]=J});function zc($,W=2){let J=new Set;return JSON.stringify($,(X,Q)=>{if(typeof Q=="object"&&Q!==null){if(J.has(Q))return"[Circular *]";J.add(Q)}else if(typeof Q=="bigint")return Q.toString();return Q},W)}function Ac($=7500){let W=dW.map(([J,...X])=>`${J} ${X.map((Q)=>typeof Q=="string"?Q:JSON.stringify(Q)).join(" ")}`).join(`
`);return W.length<$?W:W.slice(-$)}function Nc(){dW.length=0}var AB=$2;function Zc(){let $=J0.env.PRISMA_QUERY_ENGINE_LIBRARY;if(!($&&Dc.existsSync($))&&J0.arch==="ia32")throw new Error('The default query engine type (Node-API, "library") is currently not supported for 32bit Node. Please set `engineType = "binary"` in the "generator" block of your "schema.prisma" file (or use the environment variables "PRISMA_CLIENT_ENGINE_TYPE=binary" and/or "PRISMA_CLI_QUERY_ENGINE_TYPE=binary".)')}var Oc=["darwin","darwin-arm64","debian-openssl-1.0.x","debian-openssl-1.1.x","debian-openssl-3.0.x","rhel-openssl-1.0.x","rhel-openssl-1.1.x","rhel-openssl-3.0.x","linux-arm64-openssl-1.1.x","linux-arm64-openssl-1.0.x","linux-arm64-openssl-3.0.x","linux-arm-openssl-1.1.x","linux-arm-openssl-1.0.x","linux-arm-openssl-3.0.x","linux-musl","linux-musl-openssl-3.0.x","linux-musl-arm64-openssl-1.1.x","linux-musl-arm64-openssl-3.0.x","linux-nixos","linux-static-x64","linux-static-arm64","windows","freebsd11","freebsd12","freebsd13","freebsd14","freebsd15","openbsd","netbsd","arm"],MQ="libquery_engine";function Sc($,W){let J=W==="url";return $.includes("windows")?J?"query_engine.dll.node":`query_engine-${$}.dll.node`:$.includes("darwin")?J?`${MQ}.dylib.node`:`${MQ}-${$}.dylib.node`:J?`${MQ}.so.node`:`${MQ}-${$}.so.node`}var g6=Symbol.for("@ts-pattern/matcher"),Lc=Symbol.for("@ts-pattern/isVariadic"),OQ="@ts-pattern/anonymous-select-key",cG=($)=>!!($&&typeof $=="object"),UQ=($)=>$&&!!$[g6],l8=($,W,J)=>{if(UQ($)){let X=$[g6](),{matched:Q,selections:Y}=X.match(W);return Q&&Y&&Object.keys(Y).forEach((M)=>J(M,Y[M])),Q}if(cG($)){if(!cG(W))return!1;if(Array.isArray($)){if(!Array.isArray(W))return!1;let X=[],Q=[],Y=[];for(let M of $.keys()){let G=$[M];UQ(G)&&G[Lc]?Y.push(G):Y.length?Q.push(G):X.push(G)}if(Y.length){if(Y.length>1)throw new Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(W.length<X.length+Q.length)return!1;let M=W.slice(0,X.length),G=Q.length===0?[]:W.slice(-Q.length),B=W.slice(X.length,Q.length===0?1/0:-Q.length);return X.every((w,q)=>l8(w,M[q],J))&&Q.every((w,q)=>l8(w,G[q],J))&&(Y.length===0||l8(Y[0],B,J))}return $.length===W.length&&$.every((M,G)=>l8(M,W[G],J))}return Reflect.ownKeys($).every((X)=>{let Q=$[X];return((X in W)||UQ(Y=Q)&&Y[g6]().matcherType==="optional")&&l8(Q,W[X],J);var Y})}return Object.is(W,$)},V4=($)=>{var W,J,X;return cG($)?UQ($)?(W=(J=(X=$[g6]()).getSelectionKeys)==null?void 0:J.call(X))!=null?W:[]:Array.isArray($)?lW($,V4):lW(Object.values($),V4):[]},lW=($,W)=>$.reduce((J,X)=>J.concat(W(X)),[]);function h2($){return Object.assign($,{optional:()=>_c($),and:(W)=>L1($,W),or:(W)=>Fc($,W),select:(W)=>W===void 0?XZ($):XZ(W,$)})}function _c($){return h2({[g6]:()=>({match:(W)=>{let J={},X=(Q,Y)=>{J[Q]=Y};return W===void 0?(V4($).forEach((Q)=>X(Q,void 0)),{matched:!0,selections:J}):{matched:l8($,W,X),selections:J}},getSelectionKeys:()=>V4($),matcherType:"optional"})})}function L1(...$){return h2({[g6]:()=>({match:(W)=>{let J={},X=(Q,Y)=>{J[Q]=Y};return{matched:$.every((Q)=>l8(Q,W,X)),selections:J}},getSelectionKeys:()=>lW($,V4),matcherType:"and"})})}function Fc(...$){return h2({[g6]:()=>({match:(W)=>{let J={},X=(Q,Y)=>{J[Q]=Y};return lW($,V4).forEach((Q)=>X(Q,void 0)),{matched:$.some((Q)=>l8(Q,W,X)),selections:J}},getSelectionKeys:()=>lW($,V4),matcherType:"or"})})}function h0($){return{[g6]:()=>({match:(W)=>({matched:!!$(W)})})}}function XZ(...$){let W=typeof $[0]=="string"?$[0]:void 0,J=$.length===2?$[1]:typeof $[0]=="string"?void 0:$[0];return h2({[g6]:()=>({match:(X)=>{let Q={[W??OQ]:X};return{matched:J===void 0||l8(J,X,(Y,M)=>{Q[Y]=M}),selections:Q}},getSelectionKeys:()=>[W??OQ].concat(J===void 0?[]:V4(J))})})}function h8($){return typeof $=="number"}function j4($){return typeof $=="string"}function L4($){return typeof $=="bigint"}var HQ0=h2(h0(function($){return!0})),_4=($)=>Object.assign(h2($),{startsWith:(W)=>{return _4(L1($,(J=W,h0((X)=>j4(X)&&X.startsWith(J)))));var J},endsWith:(W)=>{return _4(L1($,(J=W,h0((X)=>j4(X)&&X.endsWith(J)))));var J},minLength:(W)=>_4(L1($,((J)=>h0((X)=>j4(X)&&X.length>=J))(W))),length:(W)=>_4(L1($,((J)=>h0((X)=>j4(X)&&X.length===J))(W))),maxLength:(W)=>_4(L1($,((J)=>h0((X)=>j4(X)&&X.length<=J))(W))),includes:(W)=>{return _4(L1($,(J=W,h0((X)=>j4(X)&&X.includes(J)))));var J},regex:(W)=>{return _4(L1($,(J=W,h0((X)=>j4(X)&&!!X.match(J)))));var J}}),UQ0=_4(h0(j4)),m8=($)=>Object.assign(h2($),{between:(W,J)=>m8(L1($,((X,Q)=>h0((Y)=>h8(Y)&&X<=Y&&Q>=Y))(W,J))),lt:(W)=>m8(L1($,((J)=>h0((X)=>h8(X)&&X<J))(W))),gt:(W)=>m8(L1($,((J)=>h0((X)=>h8(X)&&X>J))(W))),lte:(W)=>m8(L1($,((J)=>h0((X)=>h8(X)&&X<=J))(W))),gte:(W)=>m8(L1($,((J)=>h0((X)=>h8(X)&&X>=J))(W))),int:()=>m8(L1($,h0((W)=>h8(W)&&Number.isInteger(W)))),finite:()=>m8(L1($,h0((W)=>h8(W)&&Number.isFinite(W)))),positive:()=>m8(L1($,h0((W)=>h8(W)&&W>0))),negative:()=>m8(L1($,h0((W)=>h8(W)&&W<0)))}),zQ0=m8(h0(h8)),F4=($)=>Object.assign(h2($),{between:(W,J)=>F4(L1($,((X,Q)=>h0((Y)=>L4(Y)&&X<=Y&&Q>=Y))(W,J))),lt:(W)=>F4(L1($,((J)=>h0((X)=>L4(X)&&X<J))(W))),gt:(W)=>F4(L1($,((J)=>h0((X)=>L4(X)&&X>J))(W))),lte:(W)=>F4(L1($,((J)=>h0((X)=>L4(X)&&X<=J))(W))),gte:(W)=>F4(L1($,((J)=>h0((X)=>L4(X)&&X>=J))(W))),positive:()=>F4(L1($,h0((W)=>L4(W)&&W>0))),negative:()=>F4(L1($,h0((W)=>L4(W)&&W<0)))}),AQ0=F4(h0(L4)),NQ0=h2(h0(function($){return typeof $=="boolean"})),DQ0=h2(h0(function($){return typeof $=="symbol"})),ZQ0=h2(h0(function($){return $==null})),OQ0=h2(h0(function($){return $!=null})),Kc=class extends Error{constructor($){let W;try{W=JSON.stringify($)}catch{W=$}super(`Pattern matching error: no pattern matches value ${W}`),this.input=void 0,this.input=$}},hG={matched:!1,value:void 0};function CQ($){return new bc($,hG)}var bc=class ${constructor(W,J){this.input=void 0,this.state=void 0,this.input=W,this.state=J}with(...W){if(this.state.matched)return this;let J=W[W.length-1],X=[W[0]],Q;W.length===3&&typeof W[1]=="function"?Q=W[1]:W.length>2&&X.push(...W.slice(1,W.length-1));let Y=!1,M={},G=(w,q)=>{Y=!0,M[w]=q},B=!X.some((w)=>l8(w,this.input,G))||Q&&!Q(this.input)?hG:{matched:!0,value:J(Y?OQ in M?M[OQ]:M:this.input,this.input)};return new $(this.input,B)}when(W,J){if(this.state.matched)return this;let X=!!W(this.input);return new $(this.input,X?{matched:!0,value:J(this.input,this.input)}:hG)}otherwise(W){return this.state.matched?this.state.value:W(this.input)}exhaustive(){if(this.state.matched)return this.state.value;throw new Kc(this.input)}run(){return this.exhaustive()}returnType(){return this}},Vc={warn:aW("prisma:warn")},Pc={warn:()=>!J0.env.PRISMA_DISABLE_WARNINGS};function PG($,...W){Pc.warn()&&console.warn(`${Vc.warn} ${$}`,...W)}var Ec=Cc(jc.exec),v5=AB("prisma:get-platform"),Rc=["1.0.x","1.1.x","3.0.x"];async function Ic(){let $=yG.platform(),W=J0.arch;if($==="freebsd"){let M=await SQ("freebsd-version");if(M&&M.trim().length>0){let G=/^(\d+)\.?/.exec(M);if(G)return{platform:"freebsd",targetDistro:`freebsd${G[1]}`,arch:W}}}if($!=="linux")return{platform:$,arch:W};let J=await kc(),X=await mc(),Q=gc({arch:W,archFromUname:X,familyDistro:J.familyDistro}),{libssl:Y}=await fc(Q);return{platform:"linux",libssl:Y,arch:W,archFromUname:X,...J}}function xc($){let W=/^ID="?([^"\n]*)"?$/im,J=/^ID_LIKE="?([^"\n]*)"?$/im,X=W.exec($),Q=X&&X[1]&&X[1].toLowerCase()||"",Y=J.exec($),M=Y&&Y[1]&&Y[1].toLowerCase()||"",G=CQ({id:Q,idLike:M}).with({id:"alpine"},({id:B})=>({targetDistro:"musl",familyDistro:B,originalDistro:B})).with({id:"raspbian"},({id:B})=>({targetDistro:"arm",familyDistro:"debian",originalDistro:B})).with({id:"nixos"},({id:B})=>({targetDistro:"nixos",originalDistro:B,familyDistro:"nixos"})).with({id:"debian"},{id:"ubuntu"},({id:B})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:B})).with({id:"rhel"},{id:"centos"},{id:"fedora"},({id:B})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:B})).when(({idLike:B})=>B.includes("debian")||B.includes("ubuntu"),({id:B})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:B})).when(({idLike:B})=>Q==="arch"||B.includes("arch"),({id:B})=>({targetDistro:"debian",familyDistro:"arch",originalDistro:B})).when(({idLike:B})=>B.includes("centos")||B.includes("fedora")||B.includes("rhel")||B.includes("suse"),({id:B})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:B})).otherwise(({id:B})=>({targetDistro:void 0,familyDistro:void 0,originalDistro:B}));return v5(`Found distro info:
${JSON.stringify(G,null,2)}`),G}async function kc(){let $="/etc/os-release";try{let W=await MO.readFile($,{encoding:"utf-8"});return xc(W)}catch{return{targetDistro:void 0,familyDistro:void 0,originalDistro:void 0}}}function Tc($){let W=/^OpenSSL\s(\d+\.\d+)\.\d+/.exec($);if(W){let J=`${W[1]}.x`;return GO(J)}}function QZ($){let W=/libssl\.so\.(\d)(\.\d)?/.exec($);if(W){let J=`${W[1]}${W[2]??".0"}.x`;return GO(J)}}function GO($){let W=(()=>{if(wO($))return $;let J=$.split(".");return J[1]="0",J.join(".")})();if(Rc.includes(W))return W}function gc($){return CQ($).with({familyDistro:"musl"},()=>(v5('Trying platform-specific paths for "alpine"'),["/lib","/usr/lib"])).with({familyDistro:"debian"},({archFromUname:W})=>(v5('Trying platform-specific paths for "debian" (and "ubuntu")'),[`/usr/lib/${W}-linux-gnu`,`/lib/${W}-linux-gnu`])).with({familyDistro:"rhel"},()=>(v5('Trying platform-specific paths for "rhel"'),["/lib64","/usr/lib64"])).otherwise(({familyDistro:W,arch:J,archFromUname:X})=>(v5(`Don't know any platform-specific paths for "${W}" on ${J} (${X})`),[]))}async function fc($){let W='grep -v "libssl.so.0"',J=await YZ($);if(J){v5(`Found libssl.so file using platform-specific paths: ${J}`);let Y=QZ(J);if(v5(`The parsed libssl version is: ${Y}`),Y)return{libssl:Y,strategy:"libssl-specific-path"}}v5('Falling back to "ldconfig" and other generic paths');let X=await SQ(`ldconfig -p | sed "s/.*=>s*//" | sed "s|.*/||" | grep libssl | sort | ${W}`);if(X||(X=await YZ(["/lib64","/usr/lib64","/lib","/usr/lib"])),X){v5(`Found libssl.so file using "ldconfig" or other generic paths: ${X}`);let Y=QZ(X);if(v5(`The parsed libssl version is: ${Y}`),Y)return{libssl:Y,strategy:"ldconfig"}}let Q=await SQ("openssl version -v");if(Q){v5(`Found openssl binary with version: ${Q}`);let Y=Tc(Q);if(v5(`The parsed openssl version is: ${Y}`),Y)return{libssl:Y,strategy:"openssl-binary"}}return v5("Couldn't find any version of libssl or OpenSSL in the system"),{}}async function YZ($){for(let W of $){let J=await vc(W);if(J)return J}}async function vc($){try{return(await MO.readdir($)).find((W)=>W.startsWith("libssl.so.")&&!W.startsWith("libssl.so.0"))}catch(W){if(W.code==="ENOENT")return;throw W}}async function NB(){let{binaryTarget:$}=await BO();return $}function dc($){return $.binaryTarget!==void 0}async function yc(){let{memoized:$,...W}=await BO();return W}var GQ={};async function BO(){if(dc(GQ))return Promise.resolve({...GQ,memoized:!0});let $=await Ic(),W=cc($);return GQ={...$,binaryTarget:W},{...GQ,memoized:!1}}function cc($){let{platform:W,arch:J,archFromUname:X,libssl:Q,targetDistro:Y,familyDistro:M,originalDistro:G}=$;W==="linux"&&!["x64","arm64"].includes(J)&&PG(`Prisma only officially supports Linux on amd64 (x86_64) and arm64 (aarch64) system architectures (detected "${J}" instead). If you are using your own custom Prisma engines, you can ignore this warning, as long as you've compiled the engines for your system architecture "${X}".`);let B="1.1.x";if(W==="linux"&&Q===void 0){let q=CQ({familyDistro:M}).with({familyDistro:"debian"},()=>"Please manually install OpenSSL via `apt-get update -y && apt-get install -y openssl` and try installing Prisma again. If you're running Prisma on Docker, add this command to your Dockerfile, or switch to an image that already has OpenSSL installed.").otherwise(()=>"Please manually install OpenSSL and try installing Prisma again.");PG(`Prisma failed to detect the libssl/openssl version to use, and may not work as expected. Defaulting to "openssl-${B}".
${q}`)}let w="debian";if(W==="linux"&&Y===void 0&&v5(`Distro is "${G}". Falling back to Prisma engines built for "${w}".`),W==="darwin"&&J==="arm64")return"darwin-arm64";if(W==="darwin")return"darwin";if(W==="win32")return"windows";if(W==="freebsd")return Y;if(W==="openbsd")return"openbsd";if(W==="netbsd")return"netbsd";if(W==="linux"&&Y==="nixos")return"linux-nixos";if(W==="linux"&&J==="arm64")return`${Y==="musl"?"linux-musl-arm64":"linux-arm64"}-openssl-${Q||B}`;if(W==="linux"&&J==="arm")return`linux-arm-openssl-${Q||B}`;if(W==="linux"&&Y==="musl"){let q="linux-musl";return!Q||wO(Q)?q:`${q}-openssl-${Q}`}return W==="linux"&&Y&&Q?`${Y}-openssl-${Q}`:(W!=="linux"&&PG(`Prisma detected unknown OS "${W}" and may not work as expected. Defaulting to "linux".`),Q?`${w}-openssl-${Q}`:Y?`${Y}-openssl-${B}`:`${w}-openssl-${B}`)}async function hc($){try{return await $()}catch{return}}function SQ($){return hc(async()=>{let W=await Ec($);return v5(`Command "${$}" successfully returned "${W.stdout}"`),W.stdout})}async function mc(){return typeof yG.machine=="function"?yG.machine():(await SQ("uname -m"))?.trim()}function wO($){return $.startsWith("1.")}var qO={};H7(qO,{beep:()=>Ah,clearScreen:()=>qh,clearTerminal:()=>Hh,cursorBackward:()=>sc,cursorDown:()=>nc,cursorForward:()=>oc,cursorGetPosition:()=>tc,cursorHide:()=>Wh,cursorLeft:()=>zO,cursorMove:()=>ic,cursorNextLine:()=>ec,cursorPrevLine:()=>$h,cursorRestorePosition:()=>ac,cursorSavePosition:()=>rc,cursorShow:()=>Jh,cursorTo:()=>pc,cursorUp:()=>UO,enterAlternativeScreen:()=>Uh,eraseDown:()=>Mh,eraseEndLine:()=>Qh,eraseLine:()=>AO,eraseLines:()=>Xh,eraseScreen:()=>mG,eraseStartLine:()=>Yh,eraseUp:()=>Gh,exitAlternativeScreen:()=>zh,iTerm:()=>Zh,image:()=>Dh,link:()=>Nh,scrollDown:()=>wh,scrollUp:()=>Bh});var ZB=globalThis.window?.document!==void 0,LQ0=globalThis.process?.versions?.node!==void 0,_Q0=globalThis.process?.versions?.bun!==void 0,FQ0=globalThis.Deno?.version?.deno!==void 0,KQ0=globalThis.process?.versions?.electron!==void 0,bQ0=globalThis.navigator?.userAgent?.includes("jsdom")===!0,CQ0=typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope,VQ0=typeof DedicatedWorkerGlobalScope<"u"&&globalThis instanceof DedicatedWorkerGlobalScope,PQ0=typeof SharedWorkerGlobalScope<"u"&&globalThis instanceof SharedWorkerGlobalScope,EQ0=typeof ServiceWorkerGlobalScope<"u"&&globalThis instanceof ServiceWorkerGlobalScope,tW=globalThis.navigator?.userAgentData?.platform,RQ0=tW==="macOS"||globalThis.navigator?.platform==="MacIntel"||globalThis.navigator?.userAgent?.includes(" Mac ")===!0||globalThis.process?.platform==="darwin",IQ0=tW==="Windows"||globalThis.navigator?.platform==="Win32"||globalThis.process?.platform==="win32",xQ0=tW==="Linux"||globalThis.navigator?.platform?.startsWith("Linux")===!0||globalThis.navigator?.userAgent?.includes(" Linux ")===!0||globalThis.process?.platform==="linux",kQ0=tW==="iOS"||globalThis.navigator?.platform==="MacIntel"&&globalThis.navigator?.maxTouchPoints>1||/iPad|iPhone|iPod/.test(globalThis.navigator?.platform),TQ0=tW==="Android"||globalThis.navigator?.platform==="Android"||globalThis.navigator?.userAgent?.includes(" Android ")===!0||globalThis.process?.platform==="android",m0="\x1B[",pW="\x1B]",M7="\x07",gW=";",HO=!ZB&&DB.env.TERM_PROGRAM==="Apple_Terminal",uc=!ZB&&DB.platform==="win32",lc=ZB?()=>{throw new Error("`process.cwd()` only works in Node.js, not the browser.")}:DB.cwd,pc=($,W)=>{if(typeof $!="number")throw new TypeError("The `x` argument is required");return typeof W!="number"?m0+($+1)+"G":m0+(W+1)+gW+($+1)+"H"},ic=($,W)=>{if(typeof $!="number")throw new TypeError("The `x` argument is required");let J="";return $<0?J+=m0+-$+"D":$>0&&(J+=m0+$+"C"),W<0?J+=m0+-W+"A":W>0&&(J+=m0+W+"B"),J},UO=($=1)=>m0+$+"A",nc=($=1)=>m0+$+"B",oc=($=1)=>m0+$+"C",sc=($=1)=>m0+$+"D",zO=m0+"G",rc=HO?"\x1B7":m0+"s",ac=HO?"\x1B8":m0+"u",tc=m0+"6n",ec=m0+"E",$h=m0+"F",Wh=m0+"?25l",Jh=m0+"?25h",Xh=($)=>{let W="";for(let J=0;J<$;J++)W+=AO+(J<$-1?UO():"");return $&&(W+=zO),W},Qh=m0+"K",Yh=m0+"1K",AO=m0+"2K",Mh=m0+"J",Gh=m0+"1J",mG=m0+"2J",Bh=m0+"S",wh=m0+"T",qh="\x1Bc",Hh=uc?`${mG}${m0}0f`:`${mG}${m0}3J${m0}H`,Uh=m0+"?1049h",zh=m0+"?1049l",Ah=M7,Nh=($,W)=>[pW,"8",gW,gW,W,M7,$,pW,"8",gW,gW,M7].join(""),Dh=($,W={})=>{let J=`${pW}1337;File=inline=1`;return W.width&&(J+=`;width=${W.width}`),W.height&&(J+=`;height=${W.height}`),W.preserveAspectRatio===!1&&(J+=";preserveAspectRatio=0"),J+":"+Buffer.from($).toString("base64")+M7},Zh={setCwd:($=lc())=>`${pW}50;CurrentDir=${$}${M7}`,annotation($,W={}){let J=`${pW}1337;`,X=W.x!==void 0,Q=W.y!==void 0;if((X||Q)&&!(X&&Q&&W.length!==void 0))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return $=$.replaceAll("|",""),J+=W.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",W.length>0?J+=(X?[$,W.length,W.x,W.y]:[W.length,$]).join("|"):J+=$,J+M7}},OB=c2(gy(),1);function iW($,W,{target:J="stdout",...X}={}){return OB.default[J]?qO.link($,W):X.fallback===!1?$:typeof X.fallback=="function"?X.fallback($,W):`${$} (​${W}​)`}iW.isSupported=OB.default.stdout;iW.stderr=($,W,J={})=>iW($,W,{target:"stderr",...J});iW.stderr.isSupported=OB.default.stderr;function Oh($){return iW($,$,{fallback:d2})}var Sh=fy(),jh=Sh.version;function uG($){return Lh()||($?.config.engineType==="library"?"library":$?.config.engineType==="binary"?"binary":$?.config.engineType==="client"?"client":_h())}function Lh(){let $=J0.env.PRISMA_CLIENT_ENGINE_TYPE;return $==="library"?"library":$==="binary"?"binary":$==="client"?"client":void 0}function _h(){return"library"}function NO($){return $.name==="DriverAdapterError"&&typeof $.cause=="object"}function SB($){return{ok:!0,value:$,map(W){return SB(W($))},flatMap(W){return W($)}}}function G7($){return{ok:!1,error:$,map(){return G7($)},flatMap(){return G7($)}}}var DO=$2("driver-adapter-utils"),Fh=class{registeredErrors=[];consumeError($){return this.registeredErrors[$]}registerNewError($){let W=0;for(;this.registeredErrors[W]!==void 0;)W++;return this.registeredErrors[W]={error:$},W}},MZ=($,W=new Fh)=>{let J={adapterName:$.adapterName,errorRegistry:W,queryRaw:x6(W,$.queryRaw.bind($)),executeRaw:x6(W,$.executeRaw.bind($)),executeScript:x6(W,$.executeScript.bind($)),dispose:x6(W,$.dispose.bind($)),provider:$.provider,startTransaction:async(...X)=>(await x6(W,$.startTransaction.bind($))(...X)).map((Q)=>Kh(W,Q))};return $.getConnectionInfo&&(J.getConnectionInfo=bh(W,$.getConnectionInfo.bind($))),J},Kh=($,W)=>({adapterName:W.adapterName,provider:W.provider,options:W.options,queryRaw:x6($,W.queryRaw.bind(W)),executeRaw:x6($,W.executeRaw.bind(W)),commit:x6($,W.commit.bind(W)),rollback:x6($,W.rollback.bind(W))});function x6($,W){return async(...J)=>{try{return SB(await W(...J))}catch(X){if(DO("[error@wrapAsync]",X),NO(X))return G7(X.cause);let Q=$.registerNewError(X);return G7({kind:"GenericJs",id:Q})}}}function bh($,W){return(...J)=>{try{return SB(W(...J))}catch(X){if(DO("[error@wrapSync]",X),NO(X))return G7(X.cause);let Q=$.registerNewError(X);return G7({kind:"GenericJs",id:Q})}}}var gQ0=c2(UB()),fQ0=c2(UB()),dQ0=$2("prisma:engines");function Ch(){return N1.join(__dirname,"../")}N1.join(__dirname,"../query-engine-darwin");N1.join(__dirname,"../query-engine-darwin-arm64");N1.join(__dirname,"../query-engine-debian-openssl-1.0.x");N1.join(__dirname,"../query-engine-debian-openssl-1.1.x");N1.join(__dirname,"../query-engine-debian-openssl-3.0.x");N1.join(__dirname,"../query-engine-linux-static-x64");N1.join(__dirname,"../query-engine-linux-static-arm64");N1.join(__dirname,"../query-engine-rhel-openssl-1.0.x");N1.join(__dirname,"../query-engine-rhel-openssl-1.1.x");N1.join(__dirname,"../query-engine-rhel-openssl-3.0.x");N1.join(__dirname,"../libquery_engine-darwin.dylib.node");N1.join(__dirname,"../libquery_engine-darwin-arm64.dylib.node");N1.join(__dirname,"../libquery_engine-debian-openssl-1.0.x.so.node");N1.join(__dirname,"../libquery_engine-debian-openssl-1.1.x.so.node");N1.join(__dirname,"../libquery_engine-debian-openssl-3.0.x.so.node");N1.join(__dirname,"../libquery_engine-linux-arm64-openssl-1.0.x.so.node");N1.join(__dirname,"../libquery_engine-linux-arm64-openssl-1.1.x.so.node");N1.join(__dirname,"../libquery_engine-linux-arm64-openssl-3.0.x.so.node");N1.join(__dirname,"../libquery_engine-linux-musl.so.node");N1.join(__dirname,"../libquery_engine-linux-musl-openssl-3.0.x.so.node");N1.join(__dirname,"../libquery_engine-rhel-openssl-1.0.x.so.node");N1.join(__dirname,"../libquery_engine-rhel-openssl-1.1.x.so.node");N1.join(__dirname,"../libquery_engine-rhel-openssl-3.0.x.so.node");N1.join(__dirname,"../query_engine-windows.dll.node");var BZ=AB("chmodPlusX");function Vh($){if(J0.platform==="win32")return;let W=GZ.statSync($),J=W.mode|64|8|1;if(W.mode===J){BZ(`Execution permissions of ${$} are fine`);return}let X=J.toString(8).slice(-3);BZ(`Have to call chmodPlusX on ${$}`),GZ.chmodSync($,X)}function Ph($){let W=$.e,J=(G)=>`Prisma cannot find the required \`${G}\` system library in your system`,X=W.message.includes("cannot open shared object file"),Q=`Please refer to the documentation about Prisma's system requirements: ${Oh("https://pris.ly/d/system-requirements")}`,Y=`Unable to require(\`${rW($.id)}\`).`,M=CQ({message:W.message,code:W.code}).with({code:"ENOENT"},()=>"File does not exist.").when(({message:G})=>X&&G.includes("libz"),()=>`${J("libz")}. Please install it and try again.`).when(({message:G})=>X&&G.includes("libgcc_s"),()=>`${J("libgcc_s")}. Please install it and try again.`).when(({message:G})=>X&&G.includes("libssl"),()=>{let G=$.platformInfo.libssl?`openssl-${$.platformInfo.libssl}`:"openssl";return`${J("libssl")}. Please install ${G} and try again.`}).when(({message:G})=>G.includes("GLIBC"),()=>`Prisma has detected an incompatible version of the \`glibc\` C standard library installed in your system. This probably means your system may be too old to run Prisma. ${Q}`).when(({message:G})=>$.platformInfo.platform==="linux"&&G.includes("symbol not found"),()=>`The Prisma engines are not compatible with your system ${$.platformInfo.originalDistro} on (${$.platformInfo.archFromUname}) which uses the \`${$.platformInfo.binaryTarget}\` binaryTarget by default. ${Q}`).otherwise(()=>`The Prisma engines do not seem to be compatible with your system. ${Q}`);return`${Y}
${M}

Details: ${W.message}`}var Eh=c2(vy(),1);function Rh($){let W=Eh.default($);if(W===0)return $;let J=new RegExp(`^[ \\t]{${W}}`,"gm");return $.replace(J,"")}var Ih="prisma+postgres",ZO=`${Ih}:`;function OO($){return $?.toString().startsWith(`${ZO}//`)??!1}function xh($){if(!OO($))return!1;let{host:W}=new URL($);return W.includes("localhost")||W.includes("127.0.0.1")||W.includes("[::1]")}var kh=c2(eZ());function Th($){return String(new gh($))}var gh=class{constructor($){this.config=$}toString(){let{config:$}=this,W=$.provider.fromEnvVar?`env("${$.provider.fromEnvVar}")`:$.provider.value,J=JSON.parse(JSON.stringify({provider:W,binaryTargets:fh($.binaryTargets)}));return`generator ${$.name} {
${kh.default(vh(J),2)}
}`}};function fh($){let W;if($.length>0){let J=$.find((X)=>X.fromEnvVar!==null);J?W=`env("${J.fromEnvVar}")`:W=$.map((X)=>X.native?"native":X.value)}else W=void 0;return W}function vh($){let W=Object.keys($).reduce((J,X)=>Math.max(J,X.length),0);return Object.entries($).map(([J,X])=>`${J.padEnd(W)} = ${dh(X)}`).join(`
`)}function dh($){return JSON.parse(JSON.stringify($,(W,J)=>Array.isArray(J)?`[${J.map((X)=>JSON.stringify(X)).join(", ")}]`:JSON.stringify(J)))}var lG={};H7(lG,{error:()=>hh,info:()=>ch,log:()=>yh,query:()=>mh,should:()=>SO,tags:()=>eW,warn:()=>jO});var eW={error:S9("prisma:error"),warn:aW("prisma:warn"),info:O9("prisma:info"),query:vW("prisma:query")},SO={warn:()=>!J0.env.PRISMA_DISABLE_WARNINGS};function yh(...$){console.log(...$)}function jO($,...W){SO.warn()&&console.warn(`${eW.warn} ${$}`,...W)}function ch($,...W){console.info(`${eW.info} ${$}`,...W)}function hh($,...W){console.error(`${eW.error} ${$}`,...W)}function mh($,...W){console.log(`${eW.query} ${$}`,...W)}function wZ($,W){if(!$)throw new Error(`${W}. This should never happen. If you see this error, please, open an issue at https://pris.ly/prisma-prisma-bug-report`)}function jB($,W){throw new Error(W)}function uh({onlyFirst:$=!1}={}){let W=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(W,$?void 0:"g")}var lh=uh();function pG($){if(typeof $!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof $}\``);return $.replace(lh,"")}function ph($){return BQ.sep===BQ.posix.sep?$:$.split(BQ.sep).join(BQ.posix.sep)}var LO=c2(yy());function ih($){let W=$.ignoreProcessEnv?{}:J0.env,J=(X)=>X.match(/(.?\${(?:[a-zA-Z0-9_]+)?})/g)?.reduce(function(Q,Y){let M=/(.?)\${([a-zA-Z0-9_]+)?}/g.exec(Y);if(!M)return Q;let G=M[1],B,w;if(G==="\\")w=M[0],B=w.replace("\\$","$");else{let q=M[2];w=M[0].substring(G.length),B=Object.hasOwnProperty.call(W,q)?W[q]:$.parsed[q]||"",B=J(B)}return Q.replace(w,B)},X)??X;for(let X in $.parsed){let Q=Object.hasOwnProperty.call(W,X)?W[X]:$.parsed[X];$.parsed[X]=J(Q)}for(let X in $.parsed)W[X]=$.parsed[X];return $}var nG=AB("prisma:tryLoadEnv");function nh({rootEnvPath:$,schemaEnvPath:W},J={conflictCheck:"none"}){let X=qZ($);J.conflictCheck!=="none"&&oh(X,W,J.conflictCheck);let Q=null;return _O(X?.path,W)||(Q=qZ(W)),!X&&!Q&&nG("No Environment variables loaded"),Q?.dotenvResult.error?console.error(S9(K8("Schema Env Error: "))+Q.dotenvResult.error):{message:[X?.message,Q?.message].filter(Boolean).join(`
`),parsed:{...X?.dotenvResult?.parsed,...Q?.dotenvResult?.parsed}}}function oh($,W,J){let X=$?.dotenvResult.parsed,Q=!_O($?.path,W);if(X&&W&&Q&&iG.existsSync(W)){let Y=LO.default.parse(iG.readFileSync(W)),M=[];for(let G in Y)X[G]===Y[G]&&M.push(G);if(M.length>0){let G=nW.relative(J0.cwd(),$.path),B=nW.relative(J0.cwd(),W);if(J==="error"){let w=`There is a conflict between env var${M.length>1?"s":""} in ${d2(G)} and ${d2(B)}
Conflicting env vars:
${M.map((q)=>`  ${K8(q)}`).join(`
`)}

We suggest to move the contents of ${d2(B)} to ${d2(G)} to consolidate your env vars.
`;throw new Error(w)}else if(J==="warn"){let w=`Conflict for env var${M.length>1?"s":""} ${M.map((q)=>K8(q)).join(", ")} in ${d2(G)} and ${d2(B)}
Env vars from ${d2(B)} overwrite the ones from ${d2(G)}
      `;console.warn(`${aW("warn(prisma)")} ${w}`)}}}}function qZ($){if(sh($)){nG(`Environment variables loaded from ${$}`);let W=LO.default.config({path:$,debug:J0.env.DOTENV_CONFIG_DEBUG?!0:void 0});return{dotenvResult:ih(W),message:rW(`Environment variables loaded from ${nW.relative(J0.cwd(),$)}`),path:$}}else nG(`Environment variables not found at ${$}`);return null}function _O($,W){return $&&W&&nW.resolve($)===nW.resolve(W)}function sh($){return!!($&&iG.existsSync($))}function rh($,W){return Object.prototype.hasOwnProperty.call($,W)}function FO($,W){let J={};for(let X of Object.keys($))J[X]=W($[X],X);return J}function ah($,W){if($.length===0)return;let J=$[0];for(let X=1;X<$.length;X++)W(J,$[X])<0&&(J=$[X]);return J}function x1($,W){Object.defineProperty($,"name",{value:W,configurable:!0})}var HZ=new Set,th=($,W,...J)=>{HZ.has($)||(HZ.add($),jO(W,...J))},d1=class $ extends Error{clientVersion;errorCode;retryable;constructor(W,J,X){super(W),this.name="PrismaClientInitializationError",this.clientVersion=J,this.errorCode=X,Error.captureStackTrace($)}get[Symbol.toStringTag](){return"PrismaClientInitializationError"}};x1(d1,"PrismaClientInitializationError");var E1=class extends Error{code;meta;clientVersion;batchRequestIdx;constructor($,{code:W,clientVersion:J,meta:X,batchRequestIdx:Q}){super($),this.name="PrismaClientKnownRequestError",this.code=W,this.clientVersion=J,this.meta=X,Object.defineProperty(this,"batchRequestIdx",{value:Q,enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return"PrismaClientKnownRequestError"}};x1(E1,"PrismaClientKnownRequestError");var C4=class extends Error{clientVersion;constructor($,W){super($),this.name="PrismaClientRustPanicError",this.clientVersion=W}get[Symbol.toStringTag](){return"PrismaClientRustPanicError"}};x1(C4,"PrismaClientRustPanicError");var j2=class extends Error{clientVersion;batchRequestIdx;constructor($,{clientVersion:W,batchRequestIdx:J}){super($),this.name="PrismaClientUnknownRequestError",this.clientVersion=W,Object.defineProperty(this,"batchRequestIdx",{value:J,writable:!0,enumerable:!1})}get[Symbol.toStringTag](){return"PrismaClientUnknownRequestError"}};x1(j2,"PrismaClientUnknownRequestError");var k6=class extends Error{name="PrismaClientValidationError";clientVersion;constructor($,{clientVersion:W}){super($),this.clientVersion=W}get[Symbol.toStringTag](){return"PrismaClientValidationError"}};x1(k6,"PrismaClientValidationError");var cW=class{_map=new Map;get($){return this._map.get($)?.value}set($,W){this._map.set($,{value:W})}getOrCreate($,W){let J=this._map.get($);if(J)return J.value;let X=W();return this.set($,X),X}};function VQ($){return $.substring(0,1).toLowerCase()+$.substring(1)}function eh($,W){let J={};for(let X of $){let Q=X[W];J[Q]=X}return J}function UZ($){let W;return{get(){return W||(W={value:$()}),W.value}}}function LB($){return $ instanceof Date||Object.prototype.toString.call($)==="[object Date]"}function KO($){return $.toString()!=="Invalid Date"}var Y7=9000000000000000,E4=1e9,oG="0123456789abcdef",jQ="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",LQ="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",sG={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Y7,maxE:Y7,crypto:!1},bO,T6,z0=!0,PQ="[DecimalError] ",P4=PQ+"Invalid argument: ",CO=PQ+"Precision limit exceeded",VO=PQ+"crypto unavailable",PO="[object Decimal]",V5=Math.floor,e1=Math.pow,$m=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Wm=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Jm=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,EO=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,b8=1e7,q0=7,Xm=9007199254740991,Qm=jQ.length-1,rG=LQ.length-1,y={toStringTag:PO};y.absoluteValue=y.abs=function(){var $=new this.constructor(this);return $.s<0&&($.s=1),Y0($)};y.ceil=function(){return Y0(new this.constructor(this),this.e+1,2)};y.clampedTo=y.clamp=function($,W){var J,X=this,Q=X.constructor;if($=new Q($),W=new Q(W),!$.s||!W.s)return new Q(NaN);if($.gt(W))throw Error(P4+W);return J=X.cmp($),J<0?$:X.cmp(W)>0?W:new Q(X)};y.comparedTo=y.cmp=function($){var W,J,X,Q,Y=this,M=Y.d,G=($=new Y.constructor($)).d,B=Y.s,w=$.s;if(!M||!G)return!B||!w?NaN:B!==w?B:M===G?0:!M^B<0?1:-1;if(!M[0]||!G[0])return M[0]?B:G[0]?-w:0;if(B!==w)return B;if(Y.e!==$.e)return Y.e>$.e^B<0?1:-1;for(X=M.length,Q=G.length,W=0,J=X<Q?X:Q;W<J;++W)if(M[W]!==G[W])return M[W]>G[W]^B<0?1:-1;return X===Q?0:X>Q^B<0?1:-1};y.cosine=y.cos=function(){var $,W,J=this,X=J.constructor;return J.d?J.d[0]?($=X.precision,W=X.rounding,X.precision=$+Math.max(J.e,J.sd())+q0,X.rounding=1,J=Ym(X,TO(X,J)),X.precision=$,X.rounding=W,Y0(T6==2||T6==3?J.neg():J,$,W,!0)):new X(1):new X(NaN)};y.cubeRoot=y.cbrt=function(){var $,W,J,X,Q,Y,M,G,B,w,q=this,H=q.constructor;if(!q.isFinite()||q.isZero())return new H(q);for(z0=!1,Y=q.s*e1(q.s*q,0.3333333333333333),!Y||Math.abs(Y)==1/0?(J=D5(q.d),$=q.e,(Y=($-J.length+1)%3)&&(J+=Y==1||Y==-2?"0":"00"),Y=e1(J,0.3333333333333333),$=V5(($+1)/3)-($%3==($<0?-1:2)),Y==1/0?J="5e"+$:(J=Y.toExponential(),J=J.slice(0,J.indexOf("e")+1)+$),X=new H(J),X.s=q.s):X=new H(Y.toString()),M=($=H.precision)+3;;)if(G=X,B=G.times(G).times(G),w=B.plus(q),X=X1(w.plus(q).times(G),w.plus(B),M+2,1),D5(G.d).slice(0,M)===(J=D5(X.d)).slice(0,M))if(J=J.slice(M-3,M+1),J=="9999"||!Q&&J=="4999"){if(!Q&&(Y0(G,$+1,0),G.times(G).times(G).eq(q))){X=G;break}M+=4,Q=1}else{(!+J||!+J.slice(1)&&J.charAt(0)=="5")&&(Y0(X,$+1,1),W=!X.times(X).times(X).eq(q));break}return z0=!0,Y0(X,$,H.rounding,W)};y.decimalPlaces=y.dp=function(){var $,W=this.d,J=NaN;if(W){if($=W.length-1,J=($-V5(this.e/q0))*q0,$=W[$],$)for(;$%10==0;$/=10)J--;J<0&&(J=0)}return J};y.dividedBy=y.div=function($){return X1(this,new this.constructor($))};y.dividedToIntegerBy=y.divToInt=function($){var W=this,J=W.constructor;return Y0(X1(W,new J($),0,1,1),J.precision,J.rounding)};y.equals=y.eq=function($){return this.cmp($)===0};y.floor=function(){return Y0(new this.constructor(this),this.e+1,3)};y.greaterThan=y.gt=function($){return this.cmp($)>0};y.greaterThanOrEqualTo=y.gte=function($){var W=this.cmp($);return W==1||W===0};y.hyperbolicCosine=y.cosh=function(){var $,W,J,X,Q,Y=this,M=Y.constructor,G=new M(1);if(!Y.isFinite())return new M(Y.s?1/0:NaN);if(Y.isZero())return G;J=M.precision,X=M.rounding,M.precision=J+Math.max(Y.e,Y.sd())+4,M.rounding=1,Q=Y.d.length,Q<32?($=Math.ceil(Q/3),W=(1/RQ(4,$)).toString()):($=16,W="2.3283064365386962890625e-10"),Y=B7(M,1,Y.times(W),new M(1),!0);for(var B,w=$,q=new M(8);w--;)B=Y.times(Y),Y=G.minus(B.times(q.minus(B.times(q))));return Y0(Y,M.precision=J,M.rounding=X,!0)};y.hyperbolicSine=y.sinh=function(){var $,W,J,X,Q=this,Y=Q.constructor;if(!Q.isFinite()||Q.isZero())return new Y(Q);if(W=Y.precision,J=Y.rounding,Y.precision=W+Math.max(Q.e,Q.sd())+4,Y.rounding=1,X=Q.d.length,X<3)Q=B7(Y,2,Q,Q,!0);else{$=1.4*Math.sqrt(X),$=$>16?16:$|0,Q=Q.times(1/RQ(5,$)),Q=B7(Y,2,Q,Q,!0);for(var M,G=new Y(5),B=new Y(16),w=new Y(20);$--;)M=Q.times(Q),Q=Q.times(G.plus(M.times(B.times(M).plus(w))))}return Y.precision=W,Y.rounding=J,Y0(Q,W,J,!0)};y.hyperbolicTangent=y.tanh=function(){var $,W,J=this,X=J.constructor;return J.isFinite()?J.isZero()?new X(J):($=X.precision,W=X.rounding,X.precision=$+7,X.rounding=1,X1(J.sinh(),J.cosh(),X.precision=$,X.rounding=W)):new X(J.s)};y.inverseCosine=y.acos=function(){var $=this,W=$.constructor,J=$.abs().cmp(1),X=W.precision,Q=W.rounding;return J!==-1?J===0?$.isNeg()?p8(W,X,Q):new W(0):new W(NaN):$.isZero()?p8(W,X+4,Q).times(0.5):(W.precision=X+6,W.rounding=1,$=new W(1).minus($).div($.plus(1)).sqrt().atan(),W.precision=X,W.rounding=Q,$.times(2))};y.inverseHyperbolicCosine=y.acosh=function(){var $,W,J=this,X=J.constructor;return J.lte(1)?new X(J.eq(1)?0:NaN):J.isFinite()?($=X.precision,W=X.rounding,X.precision=$+Math.max(Math.abs(J.e),J.sd())+4,X.rounding=1,z0=!1,J=J.times(J).minus(1).sqrt().plus(J),z0=!0,X.precision=$,X.rounding=W,J.ln()):new X(J)};y.inverseHyperbolicSine=y.asinh=function(){var $,W,J=this,X=J.constructor;return!J.isFinite()||J.isZero()?new X(J):($=X.precision,W=X.rounding,X.precision=$+2*Math.max(Math.abs(J.e),J.sd())+6,X.rounding=1,z0=!1,J=J.times(J).plus(1).sqrt().plus(J),z0=!0,X.precision=$,X.rounding=W,J.ln())};y.inverseHyperbolicTangent=y.atanh=function(){var $,W,J,X,Q=this,Y=Q.constructor;return Q.isFinite()?Q.e>=0?new Y(Q.abs().eq(1)?Q.s/0:Q.isZero()?Q:NaN):($=Y.precision,W=Y.rounding,X=Q.sd(),Math.max(X,$)<2*-Q.e-1?Y0(new Y(Q),$,W,!0):(Y.precision=J=X-Q.e,Q=X1(Q.plus(1),new Y(1).minus(Q),J+$,1),Y.precision=$+4,Y.rounding=1,Q=Q.ln(),Y.precision=$,Y.rounding=W,Q.times(0.5))):new Y(NaN)};y.inverseSine=y.asin=function(){var $,W,J,X,Q=this,Y=Q.constructor;return Q.isZero()?new Y(Q):(W=Q.abs().cmp(1),J=Y.precision,X=Y.rounding,W!==-1?W===0?($=p8(Y,J+4,X).times(0.5),$.s=Q.s,$):new Y(NaN):(Y.precision=J+6,Y.rounding=1,Q=Q.div(new Y(1).minus(Q.times(Q)).sqrt().plus(1)).atan(),Y.precision=J,Y.rounding=X,Q.times(2)))};y.inverseTangent=y.atan=function(){var $,W,J,X,Q,Y,M,G,B,w=this,q=w.constructor,H=q.precision,z=q.rounding;if(w.isFinite()){if(w.isZero())return new q(w);if(w.abs().eq(1)&&H+4<=rG)return M=p8(q,H+4,z).times(0.25),M.s=w.s,M}else{if(!w.s)return new q(NaN);if(H+4<=rG)return M=p8(q,H+4,z).times(0.5),M.s=w.s,M}for(q.precision=G=H+10,q.rounding=1,J=Math.min(28,G/q0+2|0),$=J;$;--$)w=w.div(w.times(w).plus(1).sqrt().plus(1));for(z0=!1,W=Math.ceil(G/q0),X=1,B=w.times(w),M=new q(w),Q=w;$!==-1;)if(Q=Q.times(B),Y=M.minus(Q.div(X+=2)),Q=Q.times(B),M=Y.plus(Q.div(X+=2)),M.d[W]!==void 0)for($=W;M.d[$]===Y.d[$]&&$--;);return J&&(M=M.times(2<<J-1)),z0=!0,Y0(M,q.precision=H,q.rounding=z,!0)};y.isFinite=function(){return!!this.d};y.isInteger=y.isInt=function(){return!!this.d&&V5(this.e/q0)>this.d.length-2};y.isNaN=function(){return!this.s};y.isNegative=y.isNeg=function(){return this.s<0};y.isPositive=y.isPos=function(){return this.s>0};y.isZero=function(){return!!this.d&&this.d[0]===0};y.lessThan=y.lt=function($){return this.cmp($)<0};y.lessThanOrEqualTo=y.lte=function($){return this.cmp($)<1};y.logarithm=y.log=function($){var W,J,X,Q,Y,M,G,B,w=this,q=w.constructor,H=q.precision,z=q.rounding,U=5;if($==null)$=new q(10),W=!0;else{if($=new q($),J=$.d,$.s<0||!J||!J[0]||$.eq(1))return new q(NaN);W=$.eq(10)}if(J=w.d,w.s<0||!J||!J[0]||w.eq(1))return new q(J&&!J[0]?-1/0:w.s!=1?NaN:J?0:1/0);if(W)if(J.length>1)Y=!0;else{for(Q=J[0];Q%10===0;)Q/=10;Y=Q!==1}if(z0=!1,G=H+U,M=b4(w,G),X=W?_Q(q,G+10):b4($,G),B=X1(M,X,G,1),oW(B.d,Q=H,z))do if(G+=10,M=b4(w,G),X=W?_Q(q,G+10):b4($,G),B=X1(M,X,G,1),!Y){+D5(B.d).slice(Q+1,Q+15)+1==100000000000000&&(B=Y0(B,H+1,0));break}while(oW(B.d,Q+=10,z));return z0=!0,Y0(B,H,z)};y.minus=y.sub=function($){var W,J,X,Q,Y,M,G,B,w,q,H,z,U=this,N=U.constructor;if($=new N($),!U.d||!$.d)return!U.s||!$.s?$=new N(NaN):U.d?$.s=-$.s:$=new N($.d||U.s!==$.s?U:NaN),$;if(U.s!=$.s)return $.s=-$.s,U.plus($);if(w=U.d,z=$.d,G=N.precision,B=N.rounding,!w[0]||!z[0]){if(z[0])$.s=-$.s;else if(w[0])$=new N(U);else return new N(B===3?-0:0);return z0?Y0($,G,B):$}if(J=V5($.e/q0),q=V5(U.e/q0),w=w.slice(),Y=q-J,Y){for(H=Y<0,H?(W=w,Y=-Y,M=z.length):(W=z,J=q,M=w.length),X=Math.max(Math.ceil(G/q0),M)+2,Y>X&&(Y=X,W.length=1),W.reverse(),X=Y;X--;)W.push(0);W.reverse()}else{for(X=w.length,M=z.length,H=X<M,H&&(M=X),X=0;X<M;X++)if(w[X]!=z[X]){H=w[X]<z[X];break}Y=0}for(H&&(W=w,w=z,z=W,$.s=-$.s),M=w.length,X=z.length-M;X>0;--X)w[M++]=0;for(X=z.length;X>Y;){if(w[--X]<z[X]){for(Q=X;Q&&w[--Q]===0;)w[Q]=b8-1;--w[Q],w[X]+=b8}w[X]-=z[X]}for(;w[--M]===0;)w.pop();for(;w[0]===0;w.shift())--J;return w[0]?($.d=w,$.e=EQ(w,J),z0?Y0($,G,B):$):new N(B===3?-0:0)};y.modulo=y.mod=function($){var W,J=this,X=J.constructor;return $=new X($),!J.d||!$.s||$.d&&!$.d[0]?new X(NaN):!$.d||J.d&&!J.d[0]?Y0(new X(J),X.precision,X.rounding):(z0=!1,X.modulo==9?(W=X1(J,$.abs(),0,3,1),W.s*=$.s):W=X1(J,$,0,X.modulo,1),W=W.times($),z0=!0,J.minus(W))};y.naturalExponential=y.exp=function(){return aG(this)};y.naturalLogarithm=y.ln=function(){return b4(this)};y.negated=y.neg=function(){var $=new this.constructor(this);return $.s=-$.s,Y0($)};y.plus=y.add=function($){var W,J,X,Q,Y,M,G,B,w,q,H=this,z=H.constructor;if($=new z($),!H.d||!$.d)return!H.s||!$.s?$=new z(NaN):H.d||($=new z($.d||H.s===$.s?H:NaN)),$;if(H.s!=$.s)return $.s=-$.s,H.minus($);if(w=H.d,q=$.d,G=z.precision,B=z.rounding,!w[0]||!q[0])return q[0]||($=new z(H)),z0?Y0($,G,B):$;if(Y=V5(H.e/q0),X=V5($.e/q0),w=w.slice(),Q=Y-X,Q){for(Q<0?(J=w,Q=-Q,M=q.length):(J=q,X=Y,M=w.length),Y=Math.ceil(G/q0),M=Y>M?Y+1:M+1,Q>M&&(Q=M,J.length=1),J.reverse();Q--;)J.push(0);J.reverse()}for(M=w.length,Q=q.length,M-Q<0&&(Q=M,J=q,q=w,w=J),W=0;Q;)W=(w[--Q]=w[Q]+q[Q]+W)/b8|0,w[Q]%=b8;for(W&&(w.unshift(W),++X),M=w.length;w[--M]==0;)w.pop();return $.d=w,$.e=EQ(w,X),z0?Y0($,G,B):$};y.precision=y.sd=function($){var W,J=this;if($!==void 0&&$!==!!$&&$!==1&&$!==0)throw Error(P4+$);return J.d?(W=RO(J.d),$&&J.e+1>W&&(W=J.e+1)):W=NaN,W};y.round=function(){var $=this,W=$.constructor;return Y0(new W($),$.e+1,W.rounding)};y.sine=y.sin=function(){var $,W,J=this,X=J.constructor;return J.isFinite()?J.isZero()?new X(J):($=X.precision,W=X.rounding,X.precision=$+Math.max(J.e,J.sd())+q0,X.rounding=1,J=Gm(X,TO(X,J)),X.precision=$,X.rounding=W,Y0(T6>2?J.neg():J,$,W,!0)):new X(NaN)};y.squareRoot=y.sqrt=function(){var $,W,J,X,Q,Y,M=this,G=M.d,B=M.e,w=M.s,q=M.constructor;if(w!==1||!G||!G[0])return new q(!w||w<0&&(!G||G[0])?NaN:G?M:1/0);for(z0=!1,w=Math.sqrt(+M),w==0||w==1/0?(W=D5(G),(W.length+B)%2==0&&(W+="0"),w=Math.sqrt(W),B=V5((B+1)/2)-(B<0||B%2),w==1/0?W="5e"+B:(W=w.toExponential(),W=W.slice(0,W.indexOf("e")+1)+B),X=new q(W)):X=new q(w.toString()),J=(B=q.precision)+3;;)if(Y=X,X=Y.plus(X1(M,Y,J+2,1)).times(0.5),D5(Y.d).slice(0,J)===(W=D5(X.d)).slice(0,J))if(W=W.slice(J-3,J+1),W=="9999"||!Q&&W=="4999"){if(!Q&&(Y0(Y,B+1,0),Y.times(Y).eq(M))){X=Y;break}J+=4,Q=1}else{(!+W||!+W.slice(1)&&W.charAt(0)=="5")&&(Y0(X,B+1,1),$=!X.times(X).eq(M));break}return z0=!0,Y0(X,B,q.rounding,$)};y.tangent=y.tan=function(){var $,W,J=this,X=J.constructor;return J.isFinite()?J.isZero()?new X(J):($=X.precision,W=X.rounding,X.precision=$+10,X.rounding=1,J=J.sin(),J.s=1,J=X1(J,new X(1).minus(J.times(J)).sqrt(),$+10,0),X.precision=$,X.rounding=W,Y0(T6==2||T6==4?J.neg():J,$,W,!0)):new X(NaN)};y.times=y.mul=function($){var W,J,X,Q,Y,M,G,B,w,q=this,H=q.constructor,z=q.d,U=($=new H($)).d;if($.s*=q.s,!z||!z[0]||!U||!U[0])return new H(!$.s||z&&!z[0]&&!U||U&&!U[0]&&!z?NaN:!z||!U?$.s/0:$.s*0);for(J=V5(q.e/q0)+V5($.e/q0),B=z.length,w=U.length,B<w&&(Y=z,z=U,U=Y,M=B,B=w,w=M),Y=[],M=B+w,X=M;X--;)Y.push(0);for(X=w;--X>=0;){for(W=0,Q=B+X;Q>X;)G=Y[Q]+U[X]*z[Q-X-1]+W,Y[Q--]=G%b8|0,W=G/b8|0;Y[Q]=(Y[Q]+W)%b8|0}for(;!Y[--M];)Y.pop();return W?++J:Y.shift(),$.d=Y,$.e=EQ(Y,J),z0?Y0($,H.precision,H.rounding):$};y.toBinary=function($,W){return _B(this,2,$,W)};y.toDecimalPlaces=y.toDP=function($,W){var J=this,X=J.constructor;return J=new X(J),$===void 0?J:(W2($,0,E4),W===void 0?W=X.rounding:W2(W,0,8),Y0(J,$+J.e+1,W))};y.toExponential=function($,W){var J,X=this,Q=X.constructor;return $===void 0?J=n8(X,!0):(W2($,0,E4),W===void 0?W=Q.rounding:W2(W,0,8),X=Y0(new Q(X),$+1,W),J=n8(X,!0,$+1)),X.isNeg()&&!X.isZero()?"-"+J:J};y.toFixed=function($,W){var J,X,Q=this,Y=Q.constructor;return $===void 0?J=n8(Q):(W2($,0,E4),W===void 0?W=Y.rounding:W2(W,0,8),X=Y0(new Y(Q),$+Q.e+1,W),J=n8(X,!1,$+X.e+1)),Q.isNeg()&&!Q.isZero()?"-"+J:J};y.toFraction=function($){var W,J,X,Q,Y,M,G,B,w,q,H,z,U=this,N=U.d,D=U.constructor;if(!N)return new D(U);if(w=J=new D(1),X=B=new D(0),W=new D(X),Y=W.e=RO(N)-U.e-1,M=Y%q0,W.d[0]=e1(10,M<0?q0+M:M),$==null)$=Y>0?W:w;else{if(G=new D($),!G.isInt()||G.lt(w))throw Error(P4+G);$=G.gt(W)?Y>0?W:w:G}for(z0=!1,G=new D(D5(N)),q=D.precision,D.precision=Y=N.length*q0*2;H=X1(G,W,0,1,1),Q=J.plus(H.times(X)),Q.cmp($)!=1;)J=X,X=Q,Q=w,w=B.plus(H.times(Q)),B=Q,Q=W,W=G.minus(H.times(Q)),G=Q;return Q=X1($.minus(J),X,0,1,1),B=B.plus(Q.times(w)),J=J.plus(Q.times(X)),B.s=w.s=U.s,z=X1(w,X,Y,1).minus(U).abs().cmp(X1(B,J,Y,1).minus(U).abs())<1?[w,X]:[B,J],D.precision=q,z0=!0,z};y.toHexadecimal=y.toHex=function($,W){return _B(this,16,$,W)};y.toNearest=function($,W){var J=this,X=J.constructor;if(J=new X(J),$==null){if(!J.d)return J;$=new X(1),W=X.rounding}else{if($=new X($),W===void 0?W=X.rounding:W2(W,0,8),!J.d)return $.s?J:$;if(!$.d)return $.s&&($.s=J.s),$}return $.d[0]?(z0=!1,J=X1(J,$,0,W,1).times($),z0=!0,Y0(J)):($.s=J.s,J=$),J};y.toNumber=function(){return+this};y.toOctal=function($,W){return _B(this,8,$,W)};y.toPower=y.pow=function($){var W,J,X,Q,Y,M,G=this,B=G.constructor,w=+($=new B($));if(!G.d||!$.d||!G.d[0]||!$.d[0])return new B(e1(+G,w));if(G=new B(G),G.eq(1))return G;if(X=B.precision,Y=B.rounding,$.eq(1))return Y0(G,X,Y);if(W=V5($.e/q0),W>=$.d.length-1&&(J=w<0?-w:w)<=Xm)return Q=IO(B,G,J,X),$.s<0?new B(1).div(Q):Y0(Q,X,Y);if(M=G.s,M<0){if(W<$.d.length-1)return new B(NaN);if(($.d[W]&1)==0&&(M=1),G.e==0&&G.d[0]==1&&G.d.length==1)return G.s=M,G}return J=e1(+G,w),W=J==0||!isFinite(J)?V5(w*(Math.log("0."+D5(G.d))/Math.LN10+G.e+1)):new B(J+"").e,W>B.maxE+1||W<B.minE-1?new B(W>0?M/0:0):(z0=!1,B.rounding=G.s=1,J=Math.min(12,(W+"").length),Q=aG($.times(b4(G,X+J)),X),Q.d&&(Q=Y0(Q,X+5,1),oW(Q.d,X,Y)&&(W=X+10,Q=Y0(aG($.times(b4(G,W+J)),W),W+5,1),+D5(Q.d).slice(X+1,X+15)+1==100000000000000&&(Q=Y0(Q,X+1,0)))),Q.s=M,z0=!0,B.rounding=Y,Y0(Q,X,Y))};y.toPrecision=function($,W){var J,X=this,Q=X.constructor;return $===void 0?J=n8(X,X.e<=Q.toExpNeg||X.e>=Q.toExpPos):(W2($,1,E4),W===void 0?W=Q.rounding:W2(W,0,8),X=Y0(new Q(X),$,W),J=n8(X,$<=X.e||X.e<=Q.toExpNeg,$)),X.isNeg()&&!X.isZero()?"-"+J:J};y.toSignificantDigits=y.toSD=function($,W){var J=this,X=J.constructor;return $===void 0?($=X.precision,W=X.rounding):(W2($,1,E4),W===void 0?W=X.rounding:W2(W,0,8)),Y0(new X(J),$,W)};y.toString=function(){var $=this,W=$.constructor,J=n8($,$.e<=W.toExpNeg||$.e>=W.toExpPos);return $.isNeg()&&!$.isZero()?"-"+J:J};y.truncated=y.trunc=function(){return Y0(new this.constructor(this),this.e+1,1)};y.valueOf=y.toJSON=function(){var $=this,W=$.constructor,J=n8($,$.e<=W.toExpNeg||$.e>=W.toExpPos);return $.isNeg()?"-"+J:J};function D5($){var W,J,X,Q=$.length-1,Y="",M=$[0];if(Q>0){for(Y+=M,W=1;W<Q;W++)X=$[W]+"",J=q0-X.length,J&&(Y+=K4(J)),Y+=X;M=$[W],X=M+"",J=q0-X.length,J&&(Y+=K4(J))}else if(M===0)return"0";for(;M%10===0;)M/=10;return Y+M}function W2($,W,J){if($!==~~$||$<W||$>J)throw Error(P4+$)}function oW($,W,J,X){var Q,Y,M,G;for(Y=$[0];Y>=10;Y/=10)--W;return--W<0?(W+=q0,Q=0):(Q=Math.ceil((W+1)/q0),W%=q0),Y=e1(10,q0-W),G=$[Q]%Y|0,X==null?W<3?(W==0?G=G/100|0:W==1&&(G=G/10|0),M=J<4&&G==99999||J>3&&G==49999||G==50000||G==0):M=(J<4&&G+1==Y||J>3&&G+1==Y/2)&&($[Q+1]/Y/100|0)==e1(10,W-2)-1||(G==Y/2||G==0)&&($[Q+1]/Y/100|0)==0:W<4?(W==0?G=G/1000|0:W==1?G=G/100|0:W==2&&(G=G/10|0),M=(X||J<4)&&G==9999||!X&&J>3&&G==4999):M=((X||J<4)&&G+1==Y||!X&&J>3&&G+1==Y/2)&&($[Q+1]/Y/1000|0)==e1(10,W-3)-1,M}function zQ($,W,J){for(var X,Q=[0],Y,M=0,G=$.length;M<G;){for(Y=Q.length;Y--;)Q[Y]*=W;for(Q[0]+=oG.indexOf($.charAt(M++)),X=0;X<Q.length;X++)Q[X]>J-1&&(Q[X+1]===void 0&&(Q[X+1]=0),Q[X+1]+=Q[X]/J|0,Q[X]%=J)}return Q.reverse()}function Ym($,W){var J,X,Q;if(W.isZero())return W;X=W.d.length,X<32?(J=Math.ceil(X/3),Q=(1/RQ(4,J)).toString()):(J=16,Q="2.3283064365386962890625e-10"),$.precision+=J,W=B7($,1,W.times(Q),new $(1));for(var Y=J;Y--;){var M=W.times(W);W=M.times(M).minus(M).times(8).plus(1)}return $.precision-=J,W}var X1=function(){function $(X,Q,Y){var M,G=0,B=X.length;for(X=X.slice();B--;)M=X[B]*Q+G,X[B]=M%Y|0,G=M/Y|0;return G&&X.unshift(G),X}function W(X,Q,Y,M){var G,B;if(Y!=M)B=Y>M?1:-1;else for(G=B=0;G<Y;G++)if(X[G]!=Q[G]){B=X[G]>Q[G]?1:-1;break}return B}function J(X,Q,Y,M){for(var G=0;Y--;)X[Y]-=G,G=X[Y]<Q[Y]?1:0,X[Y]=G*M+X[Y]-Q[Y];for(;!X[0]&&X.length>1;)X.shift()}return function(X,Q,Y,M,G,B){var w,q,H,z,U,N,D,j,K,O,E,m,e,T,b,x,k,P,C,d,u=X.constructor,$0=X.s==Q.s?1:-1,Q0=X.d,t=Q.d;if(!Q0||!Q0[0]||!t||!t[0])return new u(!X.s||!Q.s||(Q0?t&&Q0[0]==t[0]:!t)?NaN:Q0&&Q0[0]==0||!t?$0*0:$0/0);for(B?(U=1,q=X.e-Q.e):(B=b8,U=q0,q=V5(X.e/U)-V5(Q.e/U)),C=t.length,k=Q0.length,K=new u($0),O=K.d=[],H=0;t[H]==(Q0[H]||0);H++);if(t[H]>(Q0[H]||0)&&q--,Y==null?(T=Y=u.precision,M=u.rounding):G?T=Y+(X.e-Q.e)+1:T=Y,T<0)O.push(1),N=!0;else{if(T=T/U+2|0,H=0,C==1){for(z=0,t=t[0],T++;(H<k||z)&&T--;H++)b=z*B+(Q0[H]||0),O[H]=b/t|0,z=b%t|0;N=z||H<k}else{for(z=B/(t[0]+1)|0,z>1&&(t=$(t,z,B),Q0=$(Q0,z,B),C=t.length,k=Q0.length),x=C,E=Q0.slice(0,C),m=E.length;m<C;)E[m++]=0;d=t.slice(),d.unshift(0),P=t[0],t[1]>=B/2&&++P;do z=0,w=W(t,E,C,m),w<0?(e=E[0],C!=m&&(e=e*B+(E[1]||0)),z=e/P|0,z>1?(z>=B&&(z=B-1),D=$(t,z,B),j=D.length,m=E.length,w=W(D,E,j,m),w==1&&(z--,J(D,C<j?d:t,j,B))):(z==0&&(w=z=1),D=t.slice()),j=D.length,j<m&&D.unshift(0),J(E,D,m,B),w==-1&&(m=E.length,w=W(t,E,C,m),w<1&&(z++,J(E,C<m?d:t,m,B))),m=E.length):w===0&&(z++,E=[0]),O[H++]=z,w&&E[0]?E[m++]=Q0[x]||0:(E=[Q0[x]],m=1);while((x++<k||E[0]!==void 0)&&T--);N=E[0]!==void 0}O[0]||O.shift()}if(U==1)K.e=q,bO=N;else{for(H=1,z=O[0];z>=10;z/=10)H++;K.e=H+q*U-1,Y0(K,G?Y+K.e+1:Y,M,N)}return K}}();function Y0($,W,J,X){var Q,Y,M,G,B,w,q,H,z,U=$.constructor;$:if(W!=null){if(H=$.d,!H)return $;for(Q=1,G=H[0];G>=10;G/=10)Q++;if(Y=W-Q,Y<0)Y+=q0,M=W,q=H[z=0],B=q/e1(10,Q-M-1)%10|0;else if(z=Math.ceil((Y+1)/q0),G=H.length,z>=G)if(X){for(;G++<=z;)H.push(0);q=B=0,Q=1,Y%=q0,M=Y-q0+1}else break $;else{for(q=G=H[z],Q=1;G>=10;G/=10)Q++;Y%=q0,M=Y-q0+Q,B=M<0?0:q/e1(10,Q-M-1)%10|0}if(X=X||W<0||H[z+1]!==void 0||(M<0?q:q%e1(10,Q-M-1)),w=J<4?(B||X)&&(J==0||J==($.s<0?3:2)):B>5||B==5&&(J==4||X||J==6&&(Y>0?M>0?q/e1(10,Q-M):0:H[z-1])%10&1||J==($.s<0?8:7)),W<1||!H[0])return H.length=0,w?(W-=$.e+1,H[0]=e1(10,(q0-W%q0)%q0),$.e=-W||0):H[0]=$.e=0,$;if(Y==0?(H.length=z,G=1,z--):(H.length=z+1,G=e1(10,q0-Y),H[z]=M>0?(q/e1(10,Q-M)%e1(10,M)|0)*G:0),w)for(;;)if(z==0){for(Y=1,M=H[0];M>=10;M/=10)Y++;for(M=H[0]+=G,G=1;M>=10;M/=10)G++;Y!=G&&($.e++,H[0]==b8&&(H[0]=1));break}else{if(H[z]+=G,H[z]!=b8)break;H[z--]=0,G=1}for(Y=H.length;H[--Y]===0;)H.pop()}return z0&&($.e>U.maxE?($.d=null,$.e=NaN):$.e<U.minE&&($.e=0,$.d=[0])),$}function n8($,W,J){if(!$.isFinite())return kO($);var X,Q=$.e,Y=D5($.d),M=Y.length;return W?(J&&(X=J-M)>0?Y=Y.charAt(0)+"."+Y.slice(1)+K4(X):M>1&&(Y=Y.charAt(0)+"."+Y.slice(1)),Y=Y+($.e<0?"e":"e+")+$.e):Q<0?(Y="0."+K4(-Q-1)+Y,J&&(X=J-M)>0&&(Y+=K4(X))):Q>=M?(Y+=K4(Q+1-M),J&&(X=J-Q-1)>0&&(Y=Y+"."+K4(X))):((X=Q+1)<M&&(Y=Y.slice(0,X)+"."+Y.slice(X)),J&&(X=J-M)>0&&(Q+1===M&&(Y+="."),Y+=K4(X))),Y}function EQ($,W){var J=$[0];for(W*=q0;J>=10;J/=10)W++;return W}function _Q($,W,J){if(W>Qm)throw z0=!0,J&&($.precision=J),Error(CO);return Y0(new $(jQ),W,1,!0)}function p8($,W,J){if(W>rG)throw Error(CO);return Y0(new $(LQ),W,J,!0)}function RO($){var W=$.length-1,J=W*q0+1;if(W=$[W],W){for(;W%10==0;W/=10)J--;for(W=$[0];W>=10;W/=10)J++}return J}function K4($){for(var W="";$--;)W+="0";return W}function IO($,W,J,X){var Q,Y=new $(1),M=Math.ceil(X/q0+4);for(z0=!1;;){if(J%2&&(Y=Y.times(W),AZ(Y.d,M)&&(Q=!0)),J=V5(J/2),J===0){J=Y.d.length-1,Q&&Y.d[J]===0&&++Y.d[J];break}W=W.times(W),AZ(W.d,M)}return z0=!0,Y}function zZ($){return $.d[$.d.length-1]&1}function xO($,W,J){for(var X,Q,Y=new $(W[0]),M=0;++M<W.length;){if(Q=new $(W[M]),!Q.s){Y=Q;break}X=Y.cmp(Q),(X===J||X===0&&Y.s===J)&&(Y=Q)}return Y}function aG($,W){var J,X,Q,Y,M,G,B,w=0,q=0,H=0,z=$.constructor,U=z.rounding,N=z.precision;if(!$.d||!$.d[0]||$.e>17)return new z($.d?$.d[0]?$.s<0?0:1/0:1:$.s?$.s<0?0:$:NaN);for(W==null?(z0=!1,B=N):B=W,G=new z(0.03125);$.e>-2;)$=$.times(G),H+=5;for(X=Math.log(e1(2,H))/Math.LN10*2+5|0,B+=X,J=Y=M=new z(1),z.precision=B;;){if(Y=Y0(Y.times($),B,1),J=J.times(++q),G=M.plus(X1(Y,J,B,1)),D5(G.d).slice(0,B)===D5(M.d).slice(0,B)){for(Q=H;Q--;)M=Y0(M.times(M),B,1);if(W==null)if(w<3&&oW(M.d,B-X,U,w))z.precision=B+=10,J=Y=G=new z(1),q=0,w++;else return Y0(M,z.precision=N,U,z0=!0);else return z.precision=N,M}M=G}}function b4($,W){var J,X,Q,Y,M,G,B,w,q,H,z,U=1,N=10,D=$,j=D.d,K=D.constructor,O=K.rounding,E=K.precision;if(D.s<0||!j||!j[0]||!D.e&&j[0]==1&&j.length==1)return new K(j&&!j[0]?-1/0:D.s!=1?NaN:j?0:D);if(W==null?(z0=!1,q=E):q=W,K.precision=q+=N,J=D5(j),X=J.charAt(0),Math.abs(Y=D.e)<1500000000000000){for(;X<7&&X!=1||X==1&&J.charAt(1)>3;)D=D.times($),J=D5(D.d),X=J.charAt(0),U++;Y=D.e,X>1?(D=new K("0."+J),Y++):D=new K(X+"."+J.slice(1))}else return w=_Q(K,q+2,E).times(Y+""),D=b4(new K(X+"."+J.slice(1)),q-N).plus(w),K.precision=E,W==null?Y0(D,E,O,z0=!0):D;for(H=D,B=M=D=X1(D.minus(1),D.plus(1),q,1),z=Y0(D.times(D),q,1),Q=3;;){if(M=Y0(M.times(z),q,1),w=B.plus(X1(M,new K(Q),q,1)),D5(w.d).slice(0,q)===D5(B.d).slice(0,q))if(B=B.times(2),Y!==0&&(B=B.plus(_Q(K,q+2,E).times(Y+""))),B=X1(B,new K(U),q,1),W==null)if(oW(B.d,q-N,O,G))K.precision=q+=N,w=M=D=X1(H.minus(1),H.plus(1),q,1),z=Y0(D.times(D),q,1),Q=G=1;else return Y0(B,K.precision=E,O,z0=!0);else return K.precision=E,B;B=w,Q+=2}}function kO($){return String($.s*$.s/0)}function AQ($,W){var J,X,Q;for((J=W.indexOf("."))>-1&&(W=W.replace(".","")),(X=W.search(/e/i))>0?(J<0&&(J=X),J+=+W.slice(X+1),W=W.substring(0,X)):J<0&&(J=W.length),X=0;W.charCodeAt(X)===48;X++);for(Q=W.length;W.charCodeAt(Q-1)===48;--Q);if(W=W.slice(X,Q),W){if(Q-=X,$.e=J=J-X-1,$.d=[],X=(J+1)%q0,J<0&&(X+=q0),X<Q){for(X&&$.d.push(+W.slice(0,X)),Q-=q0;X<Q;)$.d.push(+W.slice(X,X+=q0));W=W.slice(X),X=q0-W.length}else X-=Q;for(;X--;)W+="0";$.d.push(+W),z0&&($.e>$.constructor.maxE?($.d=null,$.e=NaN):$.e<$.constructor.minE&&($.e=0,$.d=[0]))}else $.e=0,$.d=[0];return $}function Mm($,W){var J,X,Q,Y,M,G,B,w,q;if(W.indexOf("_")>-1){if(W=W.replace(/(\d)_(?=\d)/g,"$1"),EO.test(W))return AQ($,W)}else if(W==="Infinity"||W==="NaN")return+W||($.s=NaN),$.e=NaN,$.d=null,$;if(Wm.test(W))J=16,W=W.toLowerCase();else if($m.test(W))J=2;else if(Jm.test(W))J=8;else throw Error(P4+W);for(Y=W.search(/p/i),Y>0?(B=+W.slice(Y+1),W=W.substring(2,Y)):W=W.slice(2),Y=W.indexOf("."),M=Y>=0,X=$.constructor,M&&(W=W.replace(".",""),G=W.length,Y=G-Y,Q=IO(X,new X(J),Y,Y*2)),w=zQ(W,J,b8),q=w.length-1,Y=q;w[Y]===0;--Y)w.pop();return Y<0?new X($.s*0):($.e=EQ(w,q),$.d=w,z0=!1,M&&($=X1($,Q,G*4)),B&&($=$.times(Math.abs(B)<54?e1(2,B):L9.pow(2,B))),z0=!0,$)}function Gm($,W){var J,X=W.d.length;if(X<3)return W.isZero()?W:B7($,2,W,W);J=1.4*Math.sqrt(X),J=J>16?16:J|0,W=W.times(1/RQ(5,J)),W=B7($,2,W,W);for(var Q,Y=new $(5),M=new $(16),G=new $(20);J--;)Q=W.times(W),W=W.times(Y.plus(Q.times(M.times(Q).minus(G))));return W}function B7($,W,J,X,Q){var Y,M,G,B,w=1,q=$.precision,H=Math.ceil(q/q0);for(z0=!1,B=J.times(J),G=new $(X);;){if(M=X1(G.times(B),new $(W++*W++),q,1),G=Q?X.plus(M):X.minus(M),X=X1(M.times(B),new $(W++*W++),q,1),M=G.plus(X),M.d[H]!==void 0){for(Y=H;M.d[Y]===G.d[Y]&&Y--;);if(Y==-1)break}Y=G,G=X,X=M,M=Y,w++}return z0=!0,M.d.length=H+1,M}function RQ($,W){for(var J=$;--W;)J*=$;return J}function TO($,W){var J,X=W.s<0,Q=p8($,$.precision,1),Y=Q.times(0.5);if(W=W.abs(),W.lte(Y))return T6=X?4:1,W;if(J=W.divToInt(Q),J.isZero())T6=X?3:2;else{if(W=W.minus(J.times(Q)),W.lte(Y))return T6=zZ(J)?X?2:3:X?4:1,W;T6=zZ(J)?X?1:4:X?3:2}return W.minus(Q).abs()}function _B($,W,J,X){var Q,Y,M,G,B,w,q,H,z,U=$.constructor,N=J!==void 0;if(N?(W2(J,1,E4),X===void 0?X=U.rounding:W2(X,0,8)):(J=U.precision,X=U.rounding),!$.isFinite())q=kO($);else{for(q=n8($),M=q.indexOf("."),N?(Q=2,W==16?J=J*4-3:W==8&&(J=J*3-2)):Q=W,M>=0&&(q=q.replace(".",""),z=new U(1),z.e=q.length-M,z.d=zQ(n8(z),10,Q),z.e=z.d.length),H=zQ(q,10,Q),Y=B=H.length;H[--B]==0;)H.pop();if(!H[0])q=N?"0p+0":"0";else{if(M<0?Y--:($=new U($),$.d=H,$.e=Y,$=X1($,z,J,X,0,Q),H=$.d,Y=$.e,w=bO),M=H[J],G=Q/2,w=w||H[J+1]!==void 0,w=X<4?(M!==void 0||w)&&(X===0||X===($.s<0?3:2)):M>G||M===G&&(X===4||w||X===6&&H[J-1]&1||X===($.s<0?8:7)),H.length=J,w)for(;++H[--J]>Q-1;)H[J]=0,J||(++Y,H.unshift(1));for(B=H.length;!H[B-1];--B);for(M=0,q="";M<B;M++)q+=oG.charAt(H[M]);if(N){if(B>1)if(W==16||W==8){for(M=W==16?4:3,--B;B%M;B++)q+="0";for(H=zQ(q,Q,W),B=H.length;!H[B-1];--B);for(M=1,q="1.";M<B;M++)q+=oG.charAt(H[M])}else q=q.charAt(0)+"."+q.slice(1);q=q+(Y<0?"p":"p+")+Y}else if(Y<0){for(;++Y;)q="0"+q;q="0."+q}else if(++Y>B)for(Y-=B;Y--;)q+="0";else Y<B&&(q=q.slice(0,Y)+"."+q.slice(Y))}q=(W==16?"0x":W==2?"0b":W==8?"0o":"")+q}return $.s<0?"-"+q:q}function AZ($,W){if($.length>W)return $.length=W,!0}function Bm($){return new this($).abs()}function wm($){return new this($).acos()}function qm($){return new this($).acosh()}function Hm($,W){return new this($).plus(W)}function Um($){return new this($).asin()}function zm($){return new this($).asinh()}function Am($){return new this($).atan()}function Nm($){return new this($).atanh()}function Dm($,W){$=new this($),W=new this(W);var J,X=this.precision,Q=this.rounding,Y=X+4;return!$.s||!W.s?J=new this(NaN):!$.d&&!W.d?(J=p8(this,Y,1).times(W.s>0?0.25:0.75),J.s=$.s):!W.d||$.isZero()?(J=W.s<0?p8(this,X,Q):new this(0),J.s=$.s):!$.d||W.isZero()?(J=p8(this,Y,1).times(0.5),J.s=$.s):W.s<0?(this.precision=Y,this.rounding=1,J=this.atan(X1($,W,Y,1)),W=p8(this,Y,1),this.precision=X,this.rounding=Q,J=$.s<0?J.minus(W):J.plus(W)):J=this.atan(X1($,W,Y,1)),J}function Zm($){return new this($).cbrt()}function Om($){return Y0($=new this($),$.e+1,2)}function Sm($,W,J){return new this($).clamp(W,J)}function jm($){if(!$||typeof $!="object")throw Error(PQ+"Object expected");var W,J,X,Q=$.defaults===!0,Y=["precision",1,E4,"rounding",0,8,"toExpNeg",-Y7,0,"toExpPos",0,Y7,"maxE",0,Y7,"minE",-Y7,0,"modulo",0,9];for(W=0;W<Y.length;W+=3)if(J=Y[W],Q&&(this[J]=sG[J]),(X=$[J])!==void 0)if(V5(X)===X&&X>=Y[W+1]&&X<=Y[W+2])this[J]=X;else throw Error(P4+J+": "+X);if(J="crypto",Q&&(this[J]=sG[J]),(X=$[J])!==void 0)if(X===!0||X===!1||X===0||X===1)if(X)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[J]=!0;else throw Error(VO);else this[J]=!1;else throw Error(P4+J+": "+X);return this}function Lm($){return new this($).cos()}function _m($){return new this($).cosh()}function gO($){var W,J,X;function Q(Y){var M,G,B,w=this;if(!(w instanceof Q))return new Q(Y);if(w.constructor=Q,NZ(Y)){w.s=Y.s,z0?!Y.d||Y.e>Q.maxE?(w.e=NaN,w.d=null):Y.e<Q.minE?(w.e=0,w.d=[0]):(w.e=Y.e,w.d=Y.d.slice()):(w.e=Y.e,w.d=Y.d?Y.d.slice():Y.d);return}if(B=typeof Y,B==="number"){if(Y===0){w.s=1/Y<0?-1:1,w.e=0,w.d=[0];return}if(Y<0?(Y=-Y,w.s=-1):w.s=1,Y===~~Y&&Y<1e7){for(M=0,G=Y;G>=10;G/=10)M++;z0?M>Q.maxE?(w.e=NaN,w.d=null):M<Q.minE?(w.e=0,w.d=[0]):(w.e=M,w.d=[Y]):(w.e=M,w.d=[Y]);return}if(Y*0!==0){Y||(w.s=NaN),w.e=NaN,w.d=null;return}return AQ(w,Y.toString())}if(B==="string")return(G=Y.charCodeAt(0))===45?(Y=Y.slice(1),w.s=-1):(G===43&&(Y=Y.slice(1)),w.s=1),EO.test(Y)?AQ(w,Y):Mm(w,Y);if(B==="bigint")return Y<0?(Y=-Y,w.s=-1):w.s=1,AQ(w,Y.toString());throw Error(P4+Y)}if(Q.prototype=y,Q.ROUND_UP=0,Q.ROUND_DOWN=1,Q.ROUND_CEIL=2,Q.ROUND_FLOOR=3,Q.ROUND_HALF_UP=4,Q.ROUND_HALF_DOWN=5,Q.ROUND_HALF_EVEN=6,Q.ROUND_HALF_CEIL=7,Q.ROUND_HALF_FLOOR=8,Q.EUCLID=9,Q.config=Q.set=jm,Q.clone=gO,Q.isDecimal=NZ,Q.abs=Bm,Q.acos=wm,Q.acosh=qm,Q.add=Hm,Q.asin=Um,Q.asinh=zm,Q.atan=Am,Q.atanh=Nm,Q.atan2=Dm,Q.cbrt=Zm,Q.ceil=Om,Q.clamp=Sm,Q.cos=Lm,Q.cosh=_m,Q.div=Fm,Q.exp=Km,Q.floor=bm,Q.hypot=Cm,Q.ln=Vm,Q.log=Pm,Q.log10=Rm,Q.log2=Em,Q.max=Im,Q.min=xm,Q.mod=km,Q.mul=Tm,Q.pow=gm,Q.random=fm,Q.round=vm,Q.sign=dm,Q.sin=ym,Q.sinh=cm,Q.sqrt=hm,Q.sub=mm,Q.sum=um,Q.tan=lm,Q.tanh=pm,Q.trunc=im,$===void 0&&($={}),$&&$.defaults!==!0)for(X=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],W=0;W<X.length;)$.hasOwnProperty(J=X[W++])||($[J]=this[J]);return Q.config($),Q}function Fm($,W){return new this($).div(W)}function Km($){return new this($).exp()}function bm($){return Y0($=new this($),$.e+1,3)}function Cm(){var $,W,J=new this(0);for(z0=!1,$=0;$<arguments.length;)if(W=new this(arguments[$++]),W.d)J.d&&(J=J.plus(W.times(W)));else{if(W.s)return z0=!0,new this(1/0);J=W}return z0=!0,J.sqrt()}function NZ($){return $ instanceof L9||$&&$.toStringTag===PO||!1}function Vm($){return new this($).ln()}function Pm($,W){return new this($).log(W)}function Em($){return new this($).log(2)}function Rm($){return new this($).log(10)}function Im(){return xO(this,arguments,-1)}function xm(){return xO(this,arguments,1)}function km($,W){return new this($).mod(W)}function Tm($,W){return new this($).mul(W)}function gm($,W){return new this($).pow(W)}function fm($){var W,J,X,Q,Y=0,M=new this(1),G=[];if($===void 0?$=this.precision:W2($,1,E4),X=Math.ceil($/q0),this.crypto)if(crypto.getRandomValues)for(W=crypto.getRandomValues(new Uint32Array(X));Y<X;)Q=W[Y],Q>=4290000000?W[Y]=crypto.getRandomValues(new Uint32Array(1))[0]:G[Y++]=Q%1e7;else if(crypto.randomBytes){for(W=crypto.randomBytes(X*=4);Y<X;)Q=W[Y]+(W[Y+1]<<8)+(W[Y+2]<<16)+((W[Y+3]&127)<<24),Q>=2140000000?crypto.randomBytes(4).copy(W,Y):(G.push(Q%1e7),Y+=4);Y=X/4}else throw Error(VO);else for(;Y<X;)G[Y++]=Math.random()*1e7|0;for(X=G[--Y],$%=q0,X&&$&&(Q=e1(10,q0-$),G[Y]=(X/Q|0)*Q);G[Y]===0;Y--)G.pop();if(Y<0)J=0,G=[0];else{for(J=-1;G[0]===0;J-=q0)G.shift();for(X=1,Q=G[0];Q>=10;Q/=10)X++;X<q0&&(J-=q0-X)}return M.e=J,M.d=G,M}function vm($){return Y0($=new this($),$.e+1,this.rounding)}function dm($){return $=new this($),$.d?$.d[0]?$.s:0*$.s:$.s||NaN}function ym($){return new this($).sin()}function cm($){return new this($).sinh()}function hm($){return new this($).sqrt()}function mm($,W){return new this($).sub(W)}function um(){var $=0,W=arguments,J=new this(W[$]);for(z0=!1;J.s&&++$<W.length;)J=J.plus(W[$]);return z0=!0,Y0(J,this.precision,this.rounding)}function lm($){return new this($).tan()}function pm($){return new this($).tanh()}function im($){return Y0($=new this($),$.e+1,1)}y[Symbol.for("nodejs.util.inspect.custom")]=y.toString;y[Symbol.toStringTag]="Decimal";var L9=y.constructor=gO(sG);jQ=new L9(jQ);LQ=new L9(LQ);var IQ=L9;function FB($){return L9.isDecimal($)?!0:$!==null&&typeof $=="object"&&typeof $.s=="number"&&typeof $.e=="number"&&typeof $.toFixed=="function"&&Array.isArray($.d)}var nm={};H7(nm,{ModelAction:()=>xQ,datamodelEnumToSchemaEnum:()=>om});function om($){return{name:$.name,values:$.values.map((W)=>W.name)}}var xQ=(($)=>($.findUnique="findUnique",$.findUniqueOrThrow="findUniqueOrThrow",$.findFirst="findFirst",$.findFirstOrThrow="findFirstOrThrow",$.findMany="findMany",$.create="create",$.createMany="createMany",$.createManyAndReturn="createManyAndReturn",$.update="update",$.updateMany="updateMany",$.updateManyAndReturn="updateManyAndReturn",$.upsert="upsert",$.delete="delete",$.deleteMany="deleteMany",$.groupBy="groupBy",$.count="count",$.aggregate="aggregate",$.findRaw="findRaw",$.aggregateRaw="aggregateRaw",$))(xQ||{}),sm=c2(eZ()),am={keyword:O9,entity:O9,value:($)=>K8(vW($)),punctuation:vW,directive:O9,function:O9,variable:($)=>K8(vW($)),string:($)=>K8(uW($)),boolean:aW,number:O9,comment:zB},tm=($)=>$,wQ={},em=0,Z0={manual:wQ.Prism&&wQ.Prism.manual,disableWorkerMessageHandler:wQ.Prism&&wQ.Prism.disableWorkerMessageHandler,util:{encode:function($){if($ instanceof u8){let W=$;return new u8(W.type,Z0.util.encode(W.content),W.alias)}else return Array.isArray($)?$.map(Z0.util.encode):$.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function($){return Object.prototype.toString.call($).slice(8,-1)},objId:function($){return $.__id||Object.defineProperty($,"__id",{value:++em}),$.__id},clone:function $(W,J){let X,Q,Y=Z0.util.type(W);switch(J=J||{},Y){case"Object":if(Q=Z0.util.objId(W),J[Q])return J[Q];X={},J[Q]=X;for(let M in W)W.hasOwnProperty(M)&&(X[M]=$(W[M],J));return X;case"Array":return Q=Z0.util.objId(W),J[Q]?J[Q]:(X=[],J[Q]=X,W.forEach(function(M,G){X[G]=$(M,J)}),X);default:return W}}},languages:{extend:function($,W){let J=Z0.util.clone(Z0.languages[$]);for(let X in W)J[X]=W[X];return J},insertBefore:function($,W,J,X){X=X||Z0.languages;let Q=X[$],Y={};for(let G in Q)if(Q.hasOwnProperty(G)){if(G==W)for(let B in J)J.hasOwnProperty(B)&&(Y[B]=J[B]);J.hasOwnProperty(G)||(Y[G]=Q[G])}let M=X[$];return X[$]=Y,Z0.languages.DFS(Z0.languages,function(G,B){B===M&&G!=$&&(this[G]=Y)}),Y},DFS:function $(W,J,X,Q){Q=Q||{};let Y=Z0.util.objId;for(let M in W)if(W.hasOwnProperty(M)){J.call(W,M,W[M],X||M);let G=W[M],B=Z0.util.type(G);B==="Object"&&!Q[Y(G)]?(Q[Y(G)]=!0,$(G,J,null,Q)):B==="Array"&&!Q[Y(G)]&&(Q[Y(G)]=!0,$(G,J,M,Q))}}},plugins:{},highlight:function($,W,J){let X={code:$,grammar:W,language:J};return Z0.hooks.run("before-tokenize",X),X.tokens=Z0.tokenize(X.code,X.grammar),Z0.hooks.run("after-tokenize",X),u8.stringify(Z0.util.encode(X.tokens),X.language)},matchGrammar:function($,W,J,X,Q,Y,M){for(let D in J){if(!J.hasOwnProperty(D)||!J[D])continue;if(D==M)return;let j=J[D];j=Z0.util.type(j)==="Array"?j:[j];for(let K=0;K<j.length;++K){let O=j[K],E=O.inside,m=!!O.lookbehind,e=!!O.greedy,T=0,b=O.alias;if(e&&!O.pattern.global){let x=O.pattern.toString().match(/[imuy]*$/)[0];O.pattern=RegExp(O.pattern.source,x+"g")}O=O.pattern||O;for(let x=X,k=Q;x<W.length;k+=W[x].length,++x){let P=W[x];if(W.length>$.length)return;if(P instanceof u8)continue;if(e&&x!=W.length-1){O.lastIndex=k;var H=O.exec($);if(!H)break;var q=H.index+(m?H[1].length:0),z=H.index+H[0].length,G=x,B=k;for(let t=W.length;G<t&&(B<z||!W[G].type&&!W[G-1].greedy);++G)B+=W[G].length,q>=B&&(++x,k=B);if(W[x]instanceof u8)continue;w=G-x,P=$.slice(k,B),H.index-=k}else{O.lastIndex=0;var H=O.exec(P),w=1}if(!H){if(Y)break;continue}m&&(T=H[1]?H[1].length:0);var q=H.index+T,H=H[0].slice(T),z=q+H.length,U=P.slice(0,q),N=P.slice(z);let C=[x,w];U&&(++x,k+=U.length,C.push(U));let d=new u8(D,E?Z0.tokenize(H,E):H,b,H,e);if(C.push(d),N&&C.push(N),Array.prototype.splice.apply(W,C),w!=1&&Z0.matchGrammar($,W,J,x,k,!0,D),Y)break}}}},tokenize:function($,W){let J=[$],X=W.rest;if(X){for(let Q in X)W[Q]=X[Q];delete W.rest}return Z0.matchGrammar($,J,W,0,0,!1),J},hooks:{all:{},add:function($,W){let J=Z0.hooks.all;J[$]=J[$]||[],J[$].push(W)},run:function($,W){let J=Z0.hooks.all[$];if(!(!J||!J.length))for(var X=0,Q;Q=J[X++];)Q(W)}},Token:u8};Z0.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};Z0.languages.javascript=Z0.languages.extend("clike",{"class-name":[Z0.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/});Z0.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/;Z0.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:Z0.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:Z0.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:Z0.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:Z0.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Z0.languages.markup&&Z0.languages.markup.tag.addInlined("script","javascript");Z0.languages.js=Z0.languages.javascript;Z0.languages.typescript=Z0.languages.extend("javascript",{keyword:/\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/});Z0.languages.ts=Z0.languages.typescript;function u8($,W,J,X,Q){this.type=$,this.content=W,this.alias=J,this.length=(X||"").length|0,this.greedy=!!Q}u8.stringify=function($,W){return typeof $=="string"?$:Array.isArray($)?$.map(function(J){return u8.stringify(J,W)}).join(""):$u($.type)($.content)};function $u($){return am[$]||tm}function Wu($){return Ju($,Z0.languages.javascript)}function Ju($,W){return Z0.tokenize($,W).map((J)=>u8.stringify(J)).join("")}function Xu($){return Rh($)}var Qu=class ${firstLineNumber;lines;static read(W){let J;try{J=rm.readFileSync(W,"utf-8")}catch{return null}return $.fromContent(J)}static fromContent(W){let J=W.split(/\r?\n/);return new $(1,J)}constructor(W,J){this.firstLineNumber=W,this.lines=J}get lastLineNumber(){return this.firstLineNumber+this.lines.length-1}mapLineAt(W,J){if(W<this.firstLineNumber||W>this.lines.length+this.firstLineNumber)return this;let X=W-this.firstLineNumber,Q=[...this.lines];return Q[X]=J(Q[X]),new $(this.firstLineNumber,Q)}mapLines(W){return new $(this.firstLineNumber,this.lines.map((J,X)=>W(J,this.firstLineNumber+X)))}lineAt(W){return this.lines[W-this.firstLineNumber]}prependSymbolAt(W,J){return this.mapLines((X,Q)=>Q===W?`${J} ${X}`:`  ${X}`)}slice(W,J){let X=this.lines.slice(W-1,J).join(`
`);return new $(W,Xu(X).split(`
`))}highlight(){let W=Wu(this.toString());return new $(this.firstLineNumber,W.split(`
`))}toString(){return this.lines.join(`
`)}},Yu={red:S9,gray:zB,dim:rW,bold:K8,underline:d2,highlightSource:($)=>$.highlight()},Mu={red:($)=>$,gray:($)=>$,dim:($)=>$,bold:($)=>$,underline:($)=>$,highlightSource:($)=>$};function Gu({message:$,originalMethod:W,isPanic:J,callArguments:X}){return{functionName:`prisma.${W}()`,message:$,isPanic:J??!1,callArguments:X}}function Bu({callsite:$,message:W,originalMethod:J,isPanic:X,callArguments:Q},Y){let M=Gu({message:W,originalMethod:J,isPanic:X,callArguments:Q});if(!$||typeof window<"u"||J0.env.NODE_ENV==="production")return M;let G=$.getLocation();if(!G||!G.lineNumber||!G.columnNumber)return M;let B=Math.max(1,G.lineNumber-3),w=Qu.read(G.fileName)?.slice(B,G.lineNumber),q=w?.lineAt(G.lineNumber);if(w&&q){let H=qu(q),z=wu(q);if(!z)return M;M.functionName=`${z.code})`,M.location=G,X||(w=w.mapLineAt(G.lineNumber,(N)=>N.slice(0,z.openingBraceIndex))),w=Y.highlightSource(w);let U=String(w.lastLineNumber).length;if(M.contextLines=w.mapLines((N,D)=>Y.gray(String(D).padStart(U))+" "+N).mapLines((N)=>Y.dim(N)).prependSymbolAt(G.lineNumber,Y.bold(Y.red("→"))),Q){let N=H+U+1;N+=2,M.callArguments=sm.default(Q,N).slice(N)}}return M}function wu($){let W=Object.keys(xQ).join("|"),J=new RegExp(String.raw`\.(${W})\(`).exec($);if(J){let X=J.index+J[0].length,Q=$.lastIndexOf(" ",J.index)+1;return{code:$.slice(Q,X),openingBraceIndex:X}}return null}function qu($){let W=0;for(let J=0;J<$.length;J++){if($.charAt(J)!==" ")return W;W++}return W}function Hu({functionName:$,location:W,message:J,isPanic:X,contextLines:Q,callArguments:Y},M){let G=[""],B=W?" in":":";if(X?(G.push(M.red(`Oops, an unknown error occurred! This is ${M.bold("on us")}, you did nothing wrong.`)),G.push(M.red(`It occurred in the ${M.bold(`\`${$}\``)} invocation${B}`))):G.push(M.red(`Invalid ${M.bold(`\`${$}\``)} invocation${B}`)),W&&G.push(M.underline(Uu(W))),Q){G.push("");let w=[Q.toString()];Y&&(w.push(Y),w.push(M.dim(")"))),G.push(w.join("")),Y&&G.push("")}else G.push(""),Y&&G.push(Y),G.push("");return G.push(J),G.join(`
`)}function Uu($){let W=[$.fileName];return $.lineNumber&&W.push(String($.lineNumber)),$.columnNumber&&W.push(String($.columnNumber)),W.join(":")}function fO($){let W=$.showColors?Yu:Mu,J;return J=Bu($,W),Hu(J,W)}var zu=c2($O());function Au($,W,J){let X=vO($),Q=Nu(X),Y=Zu(Q);Y?uO(Y,W,J):W.addErrorMessage(()=>"Unknown error")}function vO($){return $.errors.flatMap((W)=>W.kind==="Union"?vO(W):[W])}function Nu($){let W=new Map,J=[];for(let X of $){if(X.kind!=="InvalidArgumentType"){J.push(X);continue}let Q=`${X.selectionPath.join(".")}:${X.argumentPath.join(".")}`,Y=W.get(Q);Y?W.set(Q,{...X,argument:{...X.argument,typeNames:Du(Y.argument.typeNames,X.argument.typeNames)}}):W.set(Q,X)}return J.push(...W.values()),J}function Du($,W){return[...new Set($.concat(W))]}function Zu($){return ah($,(W,J)=>{let X=DZ(W),Q=DZ(J);return X!==Q?X-Q:ZZ(W)-ZZ(J)})}function DZ($){let W=0;return Array.isArray($.selectionPath)&&(W+=$.selectionPath.length),Array.isArray($.argumentPath)&&(W+=$.argumentPath.length),W}function ZZ($){switch($.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return-10;default:return 0}}var o8=class{constructor($,W){this.name=$,this.value=W}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write($){let{colors:{green:W}}=$.context;$.addMarginSymbol(W(this.isRequired?"+":"?")),$.write(W(this.name)),this.isRequired||$.write(W("?")),$.write(W(": ")),typeof this.value=="string"?$.write(W(this.value)):$.write(this.value)}};my();var dO=class{constructor($=0,W){this.context=W,this.currentIndent=$}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write($){return typeof $=="string"?this.currentLine+=$:$.write(this),this}writeJoined($,W,J=(X,Q)=>Q.write(X)){let X=W.length-1;for(let Q=0;Q<W.length;Q++)J(W[Q],this),Q!==X&&this.write($);return this}writeLine($){return this.write($).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let $=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,$?.(),this}withIndent($){return this.indent(),$(this),this.unindent(),this}afterNextNewline($){return this.afterNextNewLineCallback=$,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol($){return this.marginSymbol=$,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let $=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+$.slice(1):$}};hy();var Ou=class{constructor($){this.value=$}write($){$.write(this.value)}markAsError(){this.value.markAsError()}},qQ=($)=>$,yO={bold:qQ,red:qQ,green:qQ,dim:qQ,enabled:!1},Su={bold:K8,red:S9,green:uW,dim:rW,enabled:!0},KB={write($){$.writeLine(",")}},kQ=class{constructor($){this.contents=$}isUnderlined=!1;color=($)=>$;underline(){return this.isUnderlined=!0,this}setColor($){return this.color=$,this}write($){let W=$.getCurrentLineLength();$.write(this.color(this.contents)),this.isUnderlined&&$.afterNextNewline(()=>{$.write(" ".repeat(W)).writeLine(this.color("~".repeat(this.contents.length)))})}},bB=class{hasError=!1;markAsError(){return this.hasError=!0,this}},cO=class extends bB{items=[];addItem($){return this.items.push(new Ou($)),this}getField($){return this.items[$]}getPrintWidth(){return this.items.length===0?2:Math.max(...this.items.map(($)=>$.value.getPrintWidth()))+2}write($){if(this.items.length===0){this.writeEmpty($);return}this.writeWithItems($)}writeEmpty($){let W=new kQ("[]");this.hasError&&W.setColor($.context.colors.red).underline(),$.write(W)}writeWithItems($){let{colors:W}=$.context;$.writeLine("[").withIndent(()=>$.writeJoined(KB,this.items).newLine()).write("]"),this.hasError&&$.afterNextNewline(()=>{$.writeLine(W.red("~".repeat(this.getPrintWidth())))})}asObject(){}},hO=class $ extends bB{fields={};suggestions=[];addField(W){this.fields[W.name]=W}addSuggestion(W){this.suggestions.push(W)}getField(W){return this.fields[W]}getDeepField(W){let[J,...X]=W,Q=this.getField(J);if(!Q)return;let Y=Q;for(let M of X){let G;if(Y.value instanceof $?G=Y.value.getField(M):Y.value instanceof cO&&(G=Y.value.getField(Number(M))),!G)return;Y=G}return Y}getDeepFieldValue(W){return W.length===0?this:this.getDeepField(W)?.value}hasField(W){return!!this.getField(W)}removeAllFields(){this.fields={}}removeField(W){delete this.fields[W]}getFields(){return this.fields}isEmpty(){return Object.keys(this.fields).length===0}getFieldValue(W){return this.getField(W)?.value}getDeepSubSelectionValue(W){let J=this;for(let X of W){if(!(J instanceof $))return;let Q=J.getSubSelectionValue(X);if(!Q)return;J=Q}return J}getDeepSelectionParent(W){let J=this.getSelectionParent();if(!J)return;let X=J;for(let Q of W){let Y=X.value.getFieldValue(Q);if(!Y||!(Y instanceof $))return;let M=Y.getSelectionParent();if(!M)return;X=M}return X}getSelectionParent(){let W=this.getField("select")?.value.asObject();if(W)return{kind:"select",value:W};let J=this.getField("include")?.value.asObject();if(J)return{kind:"include",value:J}}getSubSelectionValue(W){return this.getSelectionParent()?.value.fields[W].value}getPrintWidth(){let W=Object.values(this.fields);return W.length==0?2:Math.max(...W.map((J)=>J.getPrintWidth()))+2}write(W){let J=Object.values(this.fields);if(J.length===0&&this.suggestions.length===0){this.writeEmpty(W);return}this.writeWithContents(W,J)}asObject(){return this}writeEmpty(W){let J=new kQ("{}");this.hasError&&J.setColor(W.context.colors.red).underline(),W.write(J)}writeWithContents(W,J){W.writeLine("{").withIndent(()=>{W.writeJoined(KB,[...J,...this.suggestions]).newLine()}),W.write("}"),this.hasError&&W.afterNextNewline(()=>{W.writeLine(W.context.colors.red("~".repeat(this.getPrintWidth())))})}},e5=class extends bB{constructor($){super();this.text=$}getPrintWidth(){return this.text.length}write($){let W=new kQ(this.text);this.hasError&&W.underline().setColor($.context.colors.red),$.write(W)}asObject(){}},mO=class{fields=[];addField($,W){return this.fields.push({write(J){let{green:X,dim:Q}=J.context.colors;J.write(X(Q(`${$}: ${W}`))).addMarginSymbol(X(Q("+")))}}),this}write($){let{colors:{green:W}}=$.context;$.writeLine(W("{")).withIndent(()=>{$.writeJoined(KB,this.fields).newLine()}).write(W("}")).addMarginSymbol(W("+"))}};function uO($,W,J){switch($.kind){case"MutuallyExclusiveFields":ju($,W);break;case"IncludeOnScalar":Lu($,W);break;case"EmptySelection":_u($,W,J);break;case"UnknownSelectionField":Cu($,W);break;case"InvalidSelectionValue":Vu($,W);break;case"UnknownArgument":Pu($,W);break;case"UnknownInputField":Eu($,W);break;case"RequiredArgumentMissing":Ru($,W);break;case"InvalidArgumentType":Iu($,W);break;case"InvalidArgumentValue":xu($,W);break;case"ValueTooLarge":ku($,W);break;case"SomeFieldsMissing":Tu($,W);break;case"TooManyFieldsGiven":gu($,W);break;case"Union":Au($,W,J);break;default:throw new Error("not implemented: "+$.kind)}}function ju($,W){let J=W.arguments.getDeepSubSelectionValue($.selectionPath)?.asObject();J&&(J.getField($.firstField)?.markAsError(),J.getField($.secondField)?.markAsError()),W.addErrorMessage((X)=>`Please ${X.bold("either")} use ${X.green(`\`${$.firstField}\``)} or ${X.green(`\`${$.secondField}\``)}, but ${X.red("not both")} at the same time.`)}function Lu($,W){let[J,X]=w7($.selectionPath),Q=$.outputType,Y=W.arguments.getDeepSelectionParent(J)?.value;if(Y&&(Y.getField(X)?.markAsError(),Q))for(let M of Q.fields)M.isRelation&&Y.addSuggestion(new o8(M.name,"true"));W.addErrorMessage((M)=>{let G=`Invalid scalar field ${M.red(`\`${X}\``)} for ${M.bold("include")} statement`;return Q?G+=` on model ${M.bold(Q.name)}. ${$J(M)}`:G+=".",G+=`
Note that ${M.bold("include")} statements only accept relation fields.`,G})}function _u($,W,J){let X=W.arguments.getDeepSubSelectionValue($.selectionPath)?.asObject();if(X){let Q=X.getField("omit")?.value.asObject();if(Q){Fu($,W,Q);return}if(X.hasField("select")){Ku($,W);return}}if(J?.[VQ($.outputType.name)]){bu($,W);return}W.addErrorMessage(()=>`Unknown field at "${$.selectionPath.join(".")} selection"`)}function Fu($,W,J){J.removeAllFields();for(let X of $.outputType.fields)J.addSuggestion(new o8(X.name,"false"));W.addErrorMessage((X)=>`The ${X.red("omit")} statement includes every field of the model ${X.bold($.outputType.name)}. At least one field must be included in the result`)}function Ku($,W){let J=$.outputType,X=W.arguments.getDeepSelectionParent($.selectionPath)?.value,Q=X?.isEmpty()??!1;X&&(X.removeAllFields(),iO(X,J)),W.addErrorMessage((Y)=>Q?`The ${Y.red("`select`")} statement for type ${Y.bold(J.name)} must not be empty. ${$J(Y)}`:`The ${Y.red("`select`")} statement for type ${Y.bold(J.name)} needs ${Y.bold("at least one truthy value")}.`)}function bu($,W){let J=new mO;for(let Q of $.outputType.fields)Q.isRelation||J.addField(Q.name,"false");let X=new o8("omit",J).makeRequired();if($.selectionPath.length===0)W.arguments.addSuggestion(X);else{let[Q,Y]=w7($.selectionPath),M=W.arguments.getDeepSelectionParent(Q)?.value.asObject()?.getField(Y);if(M){let G=M?.value.asObject()??new hO;G.addSuggestion(X),M.value=G}}W.addErrorMessage((Q)=>`The global ${Q.red("omit")} configuration excludes every field of the model ${Q.bold($.outputType.name)}. At least one field must be included in the result`)}function Cu($,W){let J=nO($.selectionPath,W);if(J.parentKind!=="unknown"){J.field.markAsError();let X=J.parent;switch(J.parentKind){case"select":iO(X,$.outputType);break;case"include":fu(X,$.outputType);break;case"omit":vu(X,$.outputType);break}}W.addErrorMessage((X)=>{let Q=[`Unknown field ${X.red(`\`${J.fieldName}\``)}`];return J.parentKind!=="unknown"&&Q.push(`for ${X.bold(J.parentKind)} statement`),Q.push(`on model ${X.bold(`\`${$.outputType.name}\``)}.`),Q.push($J(X)),Q.join(" ")})}function Vu($,W){let J=nO($.selectionPath,W);J.parentKind!=="unknown"&&J.field.value.markAsError(),W.addErrorMessage((X)=>`Invalid value for selection field \`${X.red(J.fieldName)}\`: ${$.underlyingError}`)}function Pu($,W){let J=$.argumentPath[0],X=W.arguments.getDeepSubSelectionValue($.selectionPath)?.asObject();X&&(X.getField(J)?.markAsError(),du(X,$.arguments)),W.addErrorMessage((Q)=>lO(Q,J,$.arguments.map((Y)=>Y.name)))}function Eu($,W){let[J,X]=w7($.argumentPath),Q=W.arguments.getDeepSubSelectionValue($.selectionPath)?.asObject();if(Q){Q.getDeepField($.argumentPath)?.markAsError();let Y=Q.getDeepFieldValue(J)?.asObject();Y&&oO(Y,$.inputType)}W.addErrorMessage((Y)=>lO(Y,X,$.inputType.fields.map((M)=>M.name)))}function lO($,W,J){let X=[`Unknown argument \`${$.red(W)}\`.`],Q=cu(W,J);return Q&&X.push(`Did you mean \`${$.green(Q)}\`?`),J.length>0&&X.push($J($)),X.join(" ")}function Ru($,W){let J;W.addErrorMessage((B)=>J?.value instanceof e5&&J.value.text==="null"?`Argument \`${B.green(Y)}\` must not be ${B.red("null")}.`:`Argument \`${B.green(Y)}\` is missing.`);let X=W.arguments.getDeepSubSelectionValue($.selectionPath)?.asObject();if(!X)return;let[Q,Y]=w7($.argumentPath),M=new mO,G=X.getDeepFieldValue(Q)?.asObject();if(G){if(J=G.getField(Y),J&&G.removeField(Y),$.inputTypes.length===1&&$.inputTypes[0].kind==="object"){for(let B of $.inputTypes[0].fields)M.addField(B.name,B.typeNames.join(" | "));G.addSuggestion(new o8(Y,M).makeRequired())}else{let B=$.inputTypes.map(pO).join(" | ");G.addSuggestion(new o8(Y,B).makeRequired())}if($.dependentArgumentPath){X.getDeepField($.dependentArgumentPath)?.markAsError();let[,B]=w7($.dependentArgumentPath);W.addErrorMessage((w)=>`Argument \`${w.green(Y)}\` is required because argument \`${w.green(B)}\` was provided.`)}}}function pO($){return $.kind==="list"?`${pO($.elementType)}[]`:$.name}function Iu($,W){let J=$.argument.name,X=W.arguments.getDeepSubSelectionValue($.selectionPath)?.asObject();X&&X.getDeepFieldValue($.argumentPath)?.markAsError(),W.addErrorMessage((Q)=>{let Y=TQ("or",$.argument.typeNames.map((M)=>Q.green(M)));return`Argument \`${Q.bold(J)}\`: Invalid value provided. Expected ${Y}, provided ${Q.red($.inferredType)}.`})}function xu($,W){let J=$.argument.name,X=W.arguments.getDeepSubSelectionValue($.selectionPath)?.asObject();X&&X.getDeepFieldValue($.argumentPath)?.markAsError(),W.addErrorMessage((Q)=>{let Y=[`Invalid value for argument \`${Q.bold(J)}\``];if($.underlyingError&&Y.push(`: ${$.underlyingError}`),Y.push("."),$.argument.typeNames.length>0){let M=TQ("or",$.argument.typeNames.map((G)=>Q.green(G)));Y.push(` Expected ${M}.`)}return Y.join("")})}function ku($,W){let J=$.argument.name,X=W.arguments.getDeepSubSelectionValue($.selectionPath)?.asObject(),Q;if(X){let Y=X.getDeepField($.argumentPath)?.value;Y?.markAsError(),Y instanceof e5&&(Q=Y.text)}W.addErrorMessage((Y)=>{let M=["Unable to fit value"];return Q&&M.push(Y.red(Q)),M.push(`into a 64-bit signed integer for field \`${Y.bold(J)}\``),M.join(" ")})}function Tu($,W){let J=$.argumentPath[$.argumentPath.length-1],X=W.arguments.getDeepSubSelectionValue($.selectionPath)?.asObject();if(X){let Q=X.getDeepFieldValue($.argumentPath)?.asObject();Q&&oO(Q,$.inputType)}W.addErrorMessage((Q)=>{let Y=[`Argument \`${Q.bold(J)}\` of type ${Q.bold($.inputType.name)} needs`];return $.constraints.minFieldCount===1?$.constraints.requiredFields?Y.push(`${Q.green("at least one of")} ${TQ("or",$.constraints.requiredFields.map((M)=>`\`${Q.bold(M)}\``))} arguments.`):Y.push(`${Q.green("at least one")} argument.`):Y.push(`${Q.green(`at least ${$.constraints.minFieldCount}`)} arguments.`),Y.push($J(Q)),Y.join(" ")})}function gu($,W){let J=$.argumentPath[$.argumentPath.length-1],X=W.arguments.getDeepSubSelectionValue($.selectionPath)?.asObject(),Q=[];if(X){let Y=X.getDeepFieldValue($.argumentPath)?.asObject();Y&&(Y.markAsError(),Q=Object.keys(Y.getFields()))}W.addErrorMessage((Y)=>{let M=[`Argument \`${Y.bold(J)}\` of type ${Y.bold($.inputType.name)} needs`];return $.constraints.minFieldCount===1&&$.constraints.maxFieldCount==1?M.push(`${Y.green("exactly one")} argument,`):$.constraints.maxFieldCount==1?M.push(`${Y.green("at most one")} argument,`):M.push(`${Y.green(`at most ${$.constraints.maxFieldCount}`)} arguments,`),M.push(`but you provided ${TQ("and",Q.map((G)=>Y.red(G)))}. Please choose`),$.constraints.maxFieldCount===1?M.push("one."):M.push(`${$.constraints.maxFieldCount}.`),M.join(" ")})}function iO($,W){for(let J of W.fields)$.hasField(J.name)||$.addSuggestion(new o8(J.name,"true"))}function fu($,W){for(let J of W.fields)J.isRelation&&!$.hasField(J.name)&&$.addSuggestion(new o8(J.name,"true"))}function vu($,W){for(let J of W.fields)!$.hasField(J.name)&&!J.isRelation&&$.addSuggestion(new o8(J.name,"true"))}function du($,W){for(let J of W)$.hasField(J.name)||$.addSuggestion(new o8(J.name,J.typeNames.join(" | ")))}function nO($,W){let[J,X]=w7($),Q=W.arguments.getDeepSubSelectionValue(J)?.asObject();if(!Q)return{parentKind:"unknown",fieldName:X};let Y=Q.getFieldValue("select")?.asObject(),M=Q.getFieldValue("include")?.asObject(),G=Q.getFieldValue("omit")?.asObject(),B=Y?.getField(X);return Y&&B?{parentKind:"select",parent:Y,field:B,fieldName:X}:(B=M?.getField(X),M&&B?{parentKind:"include",field:B,parent:M,fieldName:X}:(B=G?.getField(X),G&&B?{parentKind:"omit",field:B,parent:G,fieldName:X}:{parentKind:"unknown",fieldName:X}))}function oO($,W){if(W.kind==="object")for(let J of W.fields)$.hasField(J.name)||$.addSuggestion(new o8(J.name,J.typeNames.join(" | ")))}function w7($){let W=[...$],J=W.pop();if(!J)throw new Error("unexpected empty path");return[W,J]}function $J({green:$,enabled:W}){return"Available options are "+(W?`listed in ${$("green")}`:"marked with ?")+"."}function TQ($,W){if(W.length===1)return W[0];let J=[...W],X=J.pop();return`${J.join(", ")} ${$} ${X}`}var yu=3;function cu($,W){let J=1/0,X;for(let Q of W){let Y=zu.default($,Q);Y>yu||Y<J&&(J=Y,X=Q)}return X}var sO=class{modelName;name;typeName;isList;isEnum;constructor($,W,J,X,Q){this.modelName=$,this.name=W,this.typeName=J,this.isList=X,this.isEnum=Q}_toGraphQLInputType(){let $=this.isList?"List":"",W=this.isEnum?"Enum":"";return`${$}${W}${this.typeName}FieldRefInput<${this.modelName}>`}};function CB($){return $ instanceof sO}var NQ=Symbol(),EG=new WeakMap,gQ=class{constructor($){$===NQ?EG.set(this,`Prisma.${this._getName()}`):EG.set(this,`new Prisma.${this._getNamespace()}.${this._getName()}()`)}_getName(){return this.constructor.name}toString(){return EG.get(this)}},VB=class extends gQ{_getNamespace(){return"NullTypes"}},tG=class extends VB{#$};PB(tG,"DbNull");var eG=class extends VB{#$};PB(eG,"JsonNull");var $B=class extends VB{#$};PB($B,"AnyNull");var R4={classes:{DbNull:tG,JsonNull:eG,AnyNull:$B},instances:{DbNull:new tG(NQ),JsonNull:new eG(NQ),AnyNull:new $B(NQ)}};function PB($,W){Object.defineProperty($,"name",{value:W,configurable:!0})}var OZ=": ",hu=class{constructor($,W){this.name=$,this.value=W}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+OZ.length}write($){let W=new kQ(this.name);this.hasError&&W.underline().setColor($.context.colors.red),$.write(W).write(OZ).write(this.value)}},mu=class{arguments;errorMessages=[];constructor($){this.arguments=$}write($){$.write(this.arguments)}addErrorMessage($){this.errorMessages.push($)}renderAllMessages($){return this.errorMessages.map((W)=>W($)).join(`
`)}};function EB($){return new mu(rO($))}function rO($){let W=new hO;for(let[J,X]of Object.entries($)){let Q=new hu(J,aO(X));W.addField(Q)}return W}function aO($){if(typeof $=="string")return new e5(JSON.stringify($));if(typeof $=="number"||typeof $=="boolean")return new e5(String($));if(typeof $=="bigint")return new e5(`${$}n`);if($===null)return new e5("null");if($===void 0)return new e5("undefined");if(FB($))return new e5(`new Prisma.Decimal("${$.toFixed()}")`);if($ instanceof Uint8Array)return Buffer.isBuffer($)?new e5(`Buffer.alloc(${$.byteLength})`):new e5(`new Uint8Array(${$.byteLength})`);if($ instanceof Date){let W=KO($)?$.toISOString():"Invalid Date";return new e5(`new Date("${W}")`)}return $ instanceof gQ?new e5(`Prisma.${$._getName()}`):CB($)?new e5(`prisma.${VQ($.modelName)}.$fields.${$.name}`):Array.isArray($)?uu($):typeof $=="object"?rO($):new e5(Object.prototype.toString.call($))}function uu($){let W=new cO;for(let J of $)W.addItem(aO(J));return W}function tO($,W){let J=W==="pretty"?Su:yO,X=$.renderAllMessages(J),Q=new dO(0,{colors:J}).write($).toString();return{message:X,args:Q}}function eO({args:$,errors:W,errorFormat:J,callsite:X,originalMethod:Q,clientVersion:Y,globalOmit:M}){let G=EB($);for(let H of W)uO(H,G,M);let{message:B,args:w}=tO(G,J),q=fO({message:B,callsite:X,originalMethod:Q,showColors:J==="pretty",callArguments:w});throw new k6(q,{clientVersion:Y})}function WJ($){return $.replace(/^./,(W)=>W.toLowerCase())}function lu($,W,J){let X=WJ(J);return!W.result||!(W.result.$allModels||W.result[X])?$:pu({...$,...SZ(W.name,$,W.result.$allModels),...SZ(W.name,$,W.result[X])})}function pu($){let W=new cW,J=(X,Q)=>W.getOrCreate(X,()=>Q.has(X)?[X]:(Q.add(X),$[X]?$[X].needs.flatMap((Y)=>J(Y,Q)):[X]));return FO($,(X)=>({...X,needs:J(X.name,new Set)}))}function SZ($,W,J){return J?FO(J,({needs:X,compute:Q},Y)=>({name:Y,needs:X?Object.keys(X).filter((M)=>X[M]):[],compute:iu(W,Y,Q)})):{}}function iu($,W,J){let X=$?.[W]?.compute;return X?(Q)=>J({...Q,[W]:X(Q)}):J}function nu($,W){if(!W)return $;let J={...$};for(let X of Object.values(W))if($[X.name])for(let Q of X.needs)J[Q]=!0;return J}function ou($,W){if(!W)return $;let J={...$};for(let X of Object.values(W))if(!$[X.name])for(let Q of X.needs)delete J[Q];return J}var jZ=class{constructor($,W){this.extension=$,this.previous=W}computedFieldsCache=new cW;modelExtensionsCache=new cW;queryCallbacksCache=new cW;clientExtensions=UZ(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=UZ(()=>{let $=this.previous?.getAllBatchQueryCallbacks()??[],W=this.extension.query?.$__internalBatch;return W?$.concat(W):$});getAllComputedFields($){return this.computedFieldsCache.getOrCreate($,()=>lu(this.previous?.getAllComputedFields($),this.extension,$))}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions($){return this.modelExtensionsCache.getOrCreate($,()=>{let W=WJ($);return!this.extension.model||!(this.extension.model[W]||this.extension.model.$allModels)?this.previous?.getAllModelExtensions($):{...this.previous?.getAllModelExtensions($),...this.extension.model.$allModels,...this.extension.model[W]}})}getAllQueryCallbacks($,W){return this.queryCallbacksCache.getOrCreate(`${$}:${W}`,()=>{let J=this.previous?.getAllQueryCallbacks($,W)??[],X=[],Q=this.extension.query;return!Q||!(Q[$]||Q.$allModels||Q[W]||Q.$allOperations)?J:(Q[$]!==void 0&&(Q[$][W]!==void 0&&X.push(Q[$][W]),Q[$].$allOperations!==void 0&&X.push(Q[$].$allOperations)),$!=="$none"&&Q.$allModels!==void 0&&(Q.$allModels[W]!==void 0&&X.push(Q.$allModels[W]),Q.$allModels.$allOperations!==void 0&&X.push(Q.$allModels.$allOperations)),Q[W]!==void 0&&X.push(Q[W]),Q.$allOperations!==void 0&&X.push(Q.$allOperations),J.concat(X))})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},$S=class ${constructor(W){this.head=W}static empty(){return new $}static single(W){return new $(new jZ(W))}isEmpty(){return this.head===void 0}append(W){return new $(new jZ(W,this.head))}getAllComputedFields(W){return this.head?.getAllComputedFields(W)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(W){return this.head?.getAllModelExtensions(W)}getAllQueryCallbacks(W,J){return this.head?.getAllQueryCallbacks(W,J)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}},su=class{constructor($){this.name=$}};function ru($){return $ instanceof su}var WS=Symbol(),JS=class{constructor($){if($!==WS)throw new Error("Skip instance can not be constructed directly")}ifUndefined($){return $===void 0?au:$}},au=new JS(WS);function j9($){return $ instanceof JS}var tu={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},XS="explicitly `undefined` values are not allowed";function eu({modelName:$,action:W,args:J,runtimeDataModel:X,extensions:Q=$S.empty(),callsite:Y,clientMethod:M,errorFormat:G,clientVersion:B,previewFeatures:w,globalOmit:q}){let H=new Bl({runtimeDataModel:X,modelName:$,action:W,rootArgs:J,callsite:Y,extensions:Q,selectionPath:[],argumentPath:[],originalMethod:M,errorFormat:G,clientVersion:B,previewFeatures:w,globalOmit:q});return{modelName:$,action:tu[W],query:sW(J,H)}}function sW({select:$,include:W,...J}={},X){let Q=J.omit;return delete J.omit,{arguments:YS(J,X),selection:$l($,W,Q,X)}}function $l($,W,J,X){return $?(W?X.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:X.getSelectionPath()}):J&&X.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:X.getSelectionPath()}),Ql($,X)):Wl(X,W,J)}function Wl($,W,J){let X={};return $.modelOrType&&!$.isRawAction()&&(X.$composites=!0,X.$scalars=!0),W&&Jl(X,W,$),Xl(X,J,$),X}function Jl($,W,J){for(let[X,Q]of Object.entries(W)){if(j9(Q))continue;let Y=J.nestSelection(X);if(RB(Q,Y),Q===!1||Q===void 0){$[X]=!1;continue}let M=J.findField(X);if(M&&M.kind!=="object"&&J.throwValidationError({kind:"IncludeOnScalar",selectionPath:J.getSelectionPath().concat(X),outputType:J.getOutputTypeDescription()}),M){$[X]=sW(Q===!0?{}:Q,Y);continue}if(Q===!0){$[X]=!0;continue}$[X]=sW(Q,Y)}}function Xl($,W,J){let X=J.getComputedFields(),Q={...J.getGlobalOmit(),...W},Y=ou(Q,X);for(let[M,G]of Object.entries(Y)){if(j9(G))continue;RB(G,J.nestSelection(M));let B=J.findField(M);X?.[M]&&!B||($[M]=!G)}}function Ql($,W){let J={},X=W.getComputedFields(),Q=nu($,X);for(let[Y,M]of Object.entries(Q)){if(j9(M))continue;let G=W.nestSelection(Y);RB(M,G);let B=W.findField(Y);if(!(X?.[Y]&&!B)){if(M===!1||M===void 0||j9(M)){J[Y]=!1;continue}if(M===!0){B?.kind==="object"?J[Y]=sW({},G):J[Y]=!0;continue}J[Y]=sW(M,G)}}return J}function QS($,W){if($===null)return null;if(typeof $=="string"||typeof $=="number"||typeof $=="boolean")return $;if(typeof $=="bigint")return{$type:"BigInt",value:String($)};if(LB($)){if(KO($))return{$type:"DateTime",value:$.toISOString()};W.throwValidationError({kind:"InvalidArgumentValue",selectionPath:W.getSelectionPath(),argumentPath:W.getArgumentPath(),argument:{name:W.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(ru($))return{$type:"Param",value:$.name};if(CB($))return{$type:"FieldRef",value:{_ref:$.name,_container:$.modelName}};if(Array.isArray($))return Yl($,W);if(ArrayBuffer.isView($)){let{buffer:J,byteOffset:X,byteLength:Q}=$;return{$type:"Bytes",value:Buffer.from(J,X,Q).toString("base64")}}if(Ml($))return $.values;if(FB($))return{$type:"Decimal",value:$.toFixed()};if($ instanceof gQ){if($!==R4.instances[$._getName()])throw new Error("Invalid ObjectEnumValue");return{$type:"Enum",value:$._getName()}}if(Gl($))return $.toJSON();if(typeof $=="object")return YS($,W);W.throwValidationError({kind:"InvalidArgumentValue",selectionPath:W.getSelectionPath(),argumentPath:W.getArgumentPath(),argument:{name:W.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call($)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}function YS($,W){if($.$type)return{$type:"Raw",value:$};let J={};for(let X in $){let Q=$[X],Y=W.nestArgument(X);j9(Q)||(Q!==void 0?J[X]=QS(Q,Y):W.isPreviewFeatureOn("strictUndefinedChecks")&&W.throwValidationError({kind:"InvalidArgumentValue",argumentPath:Y.getArgumentPath(),selectionPath:W.getSelectionPath(),argument:{name:W.getArgumentName(),typeNames:[]},underlyingError:XS}))}return J}function Yl($,W){let J=[];for(let X=0;X<$.length;X++){let Q=W.nestArgument(String(X)),Y=$[X];if(Y===void 0||j9(Y)){let M=Y===void 0?"undefined":"Prisma.skip";W.throwValidationError({kind:"InvalidArgumentValue",selectionPath:Q.getSelectionPath(),argumentPath:Q.getArgumentPath(),argument:{name:`${W.getArgumentName()}[${X}]`,typeNames:[]},underlyingError:`Can not use \`${M}\` value within array. Use \`null\` or filter out \`${M}\` values`})}J.push(QS(Y,Q))}return J}function Ml($){return typeof $=="object"&&$!==null&&$.__prismaRawParameters__===!0}function Gl($){return typeof $=="object"&&$!==null&&typeof $.toJSON=="function"}function RB($,W){$===void 0&&W.isPreviewFeatureOn("strictUndefinedChecks")&&W.throwValidationError({kind:"InvalidSelectionValue",selectionPath:W.getSelectionPath(),underlyingError:XS})}var Bl=class ${constructor(W){this.params=W,this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(W){eO({errors:[W],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map((W)=>({name:W.name,typeName:"boolean",isRelation:W.kind==="object"}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(W){return this.params.previewFeatures.includes(W)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(W){return this.modelOrType?.fields.find((J)=>J.name===W)}nestSelection(W){let J=this.findField(W),X=J?.kind==="object"?J.type:void 0;return new $({...this.params,modelName:X,selectionPath:this.params.selectionPath.concat(W)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[VQ(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:jB(this.params.action,"Unknown action")}}nestArgument(W){return new $({...this.params,argumentPath:this.params.argumentPath.concat(W)})}};function LZ($){if(!$._hasPreviewFlag("metrics"))throw new k6("`metrics` preview feature must be enabled in order to access metrics API",{clientVersion:$._clientVersion})}var wl=class{_client;constructor($){this._client=$}prometheus($){return LZ(this._client),this._client._engine.metrics({format:"prometheus",...$})}json($){return LZ(this._client),this._client._engine.metrics({format:"json",...$})}};var RG=new WeakMap,FQ="$$PrismaTypedSql",ql=class{constructor($,W){RG.set(this,{sql:$,values:W}),Object.defineProperty(this,FQ,{value:FQ})}get sql(){return RG.get(this).sql}get values(){return RG.get(this).values}};function MS($){return $!=null&&$[FQ]===FQ}var Hl=c2(tZ()),U7=class ${constructor(W,J){if(W.length-1!==J.length)throw W.length===0?new TypeError("Expected at least 1 string"):new TypeError(`Expected ${W.length} strings to have ${W.length-1} values`);let X=J.reduce((M,G)=>M+(G instanceof $?G.values.length:1),0);this.values=new Array(X),this.strings=new Array(X+1),this.strings[0]=W[0];let Q=0,Y=0;for(;Q<J.length;){let M=J[Q++],G=W[Q];if(M instanceof $){this.strings[Y]+=M.strings[0];let B=0;for(;B<M.values.length;)this.values[Y++]=M.values[B++],this.strings[Y]=M.strings[B];this.strings[Y]+=G}else this.values[Y++]=M,this.strings[Y]=G}}get sql(){let W=this.strings.length,J=1,X=this.strings[0];for(;J<W;)X+=`?${this.strings[J++]}`;return X}get statement(){let W=this.strings.length,J=1,X=this.strings[0];for(;J<W;)X+=`:${J}${this.strings[J++]}`;return X}get text(){let W=this.strings.length,J=1,X=this.strings[0];for(;J<W;)X+=`$${J}${this.strings[J++]}`;return X}inspect(){return{sql:this.sql,statement:this.statement,text:this.text,values:this.values}}};function GS($){return new U7([$],[])}var Nl=GS("");function BS($){return{getKeys(){return Object.keys($)},getPropertyValue(W){return $[W]}}}function i8($,W){return{getKeys(){return[$]},getPropertyValue(){return W()}}}function IB($){let W=new cW;return{getKeys(){return $.getKeys()},getPropertyValue(J){return W.getOrCreate(J,()=>$.getPropertyValue(J))},getPropertyDescriptor(J){return $.getPropertyDescriptor?.(J)}}}var WB={enumerable:!0,configurable:!0,writable:!0};function wS($){let W=new Set($);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>WB,has:(J,X)=>W.has(X),set:(J,X,Q)=>W.add(X)&&Reflect.set(J,X,Q),ownKeys:()=>[...W]}}var _Z=Symbol.for("nodejs.util.inspect.custom");function q7($,W){let J=Dl(W),X=new Set,Q=new Proxy($,{get(Y,M){if(X.has(M))return Y[M];let G=J.get(M);return G?G.getPropertyValue(M):Y[M]},has(Y,M){if(X.has(M))return!0;let G=J.get(M);return G?G.has?.(M)??!0:Reflect.has(Y,M)},ownKeys(Y){let M=FZ(Reflect.ownKeys(Y),J),G=FZ(Array.from(J.keys()),J);return[...new Set([...M,...G,...X])]},set(Y,M,G){return J.get(M)?.getPropertyDescriptor?.(M)?.writable===!1?!1:(X.add(M),Reflect.set(Y,M,G))},getOwnPropertyDescriptor(Y,M){let G=Reflect.getOwnPropertyDescriptor(Y,M);if(G&&!G.configurable)return G;let B=J.get(M);return B?B.getPropertyDescriptor?{...WB,...B?.getPropertyDescriptor(M)}:WB:G},defineProperty(Y,M,G){return X.add(M),Reflect.defineProperty(Y,M,G)},getPrototypeOf:()=>Object.prototype});return Q[_Z]=function(){let Y={...this};return delete Y[_Z],Y},Q}function Dl($){let W=new Map;for(let J of $){let X=J.getKeys();for(let Q of X)W.set(Q,J)}return W}function FZ($,W){return $.filter((J)=>W.get(J)?.has?.(J)??!0)}function JB($){return{getKeys(){return $},has(){return!1},getPropertyValue(){}}}function xB($,W){return{batch:$,transaction:W?.kind==="batch"?{isolationLevel:W.options.isolationLevel}:void 0}}function Zl($){if($===void 0)return"";let W=EB($);return new dO(0,{colors:yO}).write(W).toString()}var Ol="P2037";function kB({error:$,user_facing_error:W},J,X){return W.error_code?new E1(Sl(W,X),{code:W.error_code,clientVersion:J,meta:W.meta,batchRequestIdx:W.batch_request_idx}):new j2($,{clientVersion:J,batchRequestIdx:W.batch_request_idx})}function Sl($,W){let J=$.message;return(W==="postgresql"||W==="postgres"||W==="mysql")&&$.error_code===Ol&&(J+=`
Prisma Accelerate has built-in connection pooling to prevent such errors: https://pris.ly/client/error-accelerate`),J}var JJ="<unknown>";function jl($){var W=$.split(`
`);return W.reduce(function(J,X){var Q=Fl(X)||bl(X)||Pl(X)||xl(X)||Rl(X);return Q&&J.push(Q),J},[])}var Ll=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|rsc|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,_l=/\((\S*)(?::(\d+))(?::(\d+))\)/;function Fl($){var W=Ll.exec($);if(!W)return null;var J=W[2]&&W[2].indexOf("native")===0,X=W[2]&&W[2].indexOf("eval")===0,Q=_l.exec(W[2]);return X&&Q!=null&&(W[2]=Q[1],W[3]=Q[2],W[4]=Q[3]),{file:J?null:W[2],methodName:W[1]||JJ,arguments:J?[W[2]]:[],lineNumber:W[3]?+W[3]:null,column:W[4]?+W[4]:null}}var Kl=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|rsc|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function bl($){var W=Kl.exec($);return W?{file:W[2],methodName:W[1]||JJ,arguments:[],lineNumber:+W[3],column:W[4]?+W[4]:null}:null}var Cl=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|rsc|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Vl=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Pl($){var W=Cl.exec($);if(!W)return null;var J=W[3]&&W[3].indexOf(" > eval")>-1,X=Vl.exec(W[3]);return J&&X!=null&&(W[3]=X[1],W[4]=X[2],W[5]=null),{file:W[3],methodName:W[1]||JJ,arguments:W[2]?W[2].split(","):[],lineNumber:W[4]?+W[4]:null,column:W[5]?+W[5]:null}}var El=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function Rl($){var W=El.exec($);return W?{file:W[3],methodName:W[1]||JJ,arguments:[],lineNumber:+W[4],column:W[5]?+W[5]:null}:null}var Il=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function xl($){var W=Il.exec($);return W?{file:W[2],methodName:W[1]||JJ,arguments:[],lineNumber:+W[3],column:W[4]?+W[4]:null}:null}var kl=class{getLocation(){return null}},Tl=class{_error;constructor(){this._error=new Error}getLocation(){let $=this._error.stack;if(!$)return null;let W=jl($).find((J)=>{if(!J.file)return!1;let X=ph(J.file);return X!=="<anonymous>"&&!X.includes("@prisma")&&!X.includes("/packages/client/src/runtime/")&&!X.endsWith("/runtime/binary.js")&&!X.endsWith("/runtime/library.js")&&!X.endsWith("/runtime/edge.js")&&!X.endsWith("/runtime/edge-esm.js")&&!X.startsWith("internal/")&&!J.methodName.includes("new ")&&!J.methodName.includes("getCallSite")&&!J.methodName.includes("Proxy.")&&J.methodName.split(".").length<4});return!W||!W.file?null:{fileName:W.file,lineNumber:W.lineNumber,columnNumber:W.column}}};function hW($){return $==="minimal"?typeof $EnabledCallSite=="function"&&$!=="minimal"?new $EnabledCallSite:new kl:new Tl}var gl={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function KQ($={}){let W=fl($);return Object.entries(W).reduce((J,[X,Q])=>(gl[X]!==void 0?J.select[X]={select:Q}:J[X]=Q,J),{select:{}})}function fl($={}){return typeof $._count=="boolean"?{...$,_count:{_all:$._count}}:$}function XB($={}){return(W)=>(typeof $._count=="boolean"&&(W._count=W._count._all),W)}function vl($,W){let J=XB($);return W({action:"aggregate",unpacker:J,argsMapper:KQ})($)}function dl($={}){let{select:W,...J}=$;return typeof W=="object"?KQ({...J,_count:W}):KQ({...J,_count:{_all:!0}})}function yl($={}){return typeof $.select=="object"?(W)=>XB($)(W)._count:(W)=>XB($)(W)._count._all}function cl($,W){return W({action:"count",unpacker:yl($),argsMapper:dl})($)}function hl($={}){let W=KQ($);if(Array.isArray(W.by))for(let J of W.by)typeof J=="string"&&(W.select[J]=!0);else typeof W.by=="string"&&(W.select[W.by]=!0);return W}function ml($={}){return(W)=>(typeof $?._count=="boolean"&&W.forEach((J)=>{J._count=J._count._all}),W)}function ul($,W){return W({action:"groupBy",unpacker:ml($),argsMapper:hl})($)}function ll($,W,J){if(W==="aggregate")return(X)=>vl(X,J);if(W==="count")return(X)=>cl(X,J);if(W==="groupBy")return(X)=>ul(X,J)}function pl($,W){let J=W.fields.filter((Q)=>!Q.relationName),X=eh(J,"name");return new Proxy({},{get(Q,Y){if(Y in Q||typeof Y=="symbol")return Q[Y];let M=X[Y];if(M)return new sO($,Y,M.type,M.isList,M.kind==="enum")},...wS(Object.keys(X))})}var qS=($)=>Array.isArray($)?$:$.split("."),HS=($,W)=>qS(W).reduce((J,X)=>J&&J[X],$),il=($,W,J)=>qS(W).reduceRight((X,Q,Y,M)=>Object.assign({},HS($,M.slice(0,Y)),{[Q]:X}),J);function nl($,W){return $===void 0||W===void 0?[]:[...W,"select",$]}function ol($,W,J){return W===void 0?$??{}:il(W,J,$||!0)}function US($,W,J,X,Q,Y){let M=$._runtimeDataModel.models[W].fields.reduce((G,B)=>({...G,[B.name]:B}),{});return(G)=>{let B=hW($._errorFormat),w=nl(X,Q),q=ol(G,Y,w),H=J({dataPath:w,callsite:B})(q),z=sl($,W);return new Proxy(H,{get(U,N){if(!z.includes(N))return U[N];let D=[M[N].type,J,N],j=[w,q];return US($,...D,...j)},...wS([...z,...Object.getOwnPropertyNames(H)])})}}function sl($,W){return $._runtimeDataModel.models[W].fields.filter((J)=>J.kind==="object").map((J)=>J.name)}var rl=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],al=["aggregate","count","groupBy"];function KZ($,W){let J=$._extensions.getAllModelExtensions(W)??{},X=[tl($,W),$p($,W),BS(J),i8("name",()=>W),i8("$name",()=>W),i8("$parent",()=>$._appliedParent)];return q7({},X)}function tl($,W){let J=WJ(W),X=Object.keys(xQ).concat("count");return{getKeys(){return X},getPropertyValue(Q){let Y=Q,M=(G)=>(B)=>{let w=hW($._errorFormat);return $._createPrismaPromise((q)=>{let H={args:B,dataPath:[],action:Y,model:W,clientMethod:`${J}.${Q}`,jsModelName:J,transaction:q,callsite:w};return $._request({...H,...G})},{action:Y,args:B,model:W})};return rl.includes(Y)?US($,W,M):el(Q)?ll($,Q,M):M({})}}}function el($){return al.includes($)}function $p($,W){return IB(i8("fields",()=>{let J=$._runtimeDataModel.models[W];return pl(W,J)}))}function Wp($){return $.replace(/^./,(W)=>W.toUpperCase())}var QB=Symbol();function YB($){let W=[Jp($),Xp($),i8(QB,()=>$),i8("$parent",()=>$._appliedParent)],J=$._extensions.getAllClientExtensions();return J&&W.push(BS(J)),q7($,W)}function Jp($){let W=Object.getPrototypeOf($._originalClient),J=[...new Set(Object.getOwnPropertyNames(W))];return{getKeys(){return J},getPropertyValue(X){return $[X]}}}function Xp($){let W=Object.keys($._runtimeDataModel.models),J=W.map(WJ),X=[...new Set(W.concat(J))];return IB({getKeys(){return X},getPropertyValue(Q){let Y=Wp(Q);if($._runtimeDataModel.models[Y]!==void 0)return KZ($,Y);if($._runtimeDataModel.models[Q]!==void 0)return KZ($,Q)},getPropertyDescriptor(Q){if(!J.includes(Q))return{enumerable:!1}}})}function Qp($){return $[QB]?$[QB]:$}function Yp($){if(typeof $=="function")return $(this);if($.client?.__AccelerateEngine){let J=$.client.__AccelerateEngine;this._originalClient._engine=new J(this._originalClient._accelerateEngineConfig)}let W=Object.create(this._originalClient,{_extensions:{value:this._extensions.append($)},_appliedParent:{value:this,configurable:!0},$on:{value:void 0}});return YB(W)}function Mp({result:$,modelName:W,select:J,omit:X,extensions:Q}){let Y=Q.getAllComputedFields(W);if(!Y)return $;let M=[],G=[];for(let B of Object.values(Y)){if(X){if(X[B.name])continue;let w=B.needs.filter((q)=>X[q]);w.length>0&&G.push(JB(w))}else if(J){if(!J[B.name])continue;let w=B.needs.filter((q)=>!J[q]);w.length>0&&G.push(JB(w))}Gp($,B.needs)&&M.push(Bp(B,q7($,M)))}return M.length>0||G.length>0?q7($,[...M,...G]):$}function Gp($,W){return W.every((J)=>rh($,J))}function Bp($,W){return IB(i8($.name,()=>$.compute(W)))}function TB({visitor:$,result:W,args:J,runtimeDataModel:X,modelName:Q}){if(Array.isArray(W)){for(let M=0;M<W.length;M++)W[M]=TB({result:W[M],args:J,modelName:Q,runtimeDataModel:X,visitor:$});return W}let Y=$(W,Q,J)??W;return J.include&&bZ({includeOrSelect:J.include,result:Y,parentModelName:Q,runtimeDataModel:X,visitor:$}),J.select&&bZ({includeOrSelect:J.select,result:Y,parentModelName:Q,runtimeDataModel:X,visitor:$}),Y}function bZ({includeOrSelect:$,result:W,parentModelName:J,runtimeDataModel:X,visitor:Q}){for(let[Y,M]of Object.entries($)){if(!M||W[Y]==null||j9(M))continue;let G=X.models[J].fields.find((w)=>w.name===Y);if(!G||G.kind!=="object"||!G.relationName)continue;let B=typeof M=="object"?M:{};W[Y]=TB({visitor:Q,result:W[Y],args:B,modelName:G.type,runtimeDataModel:X})}}function wp({result:$,modelName:W,args:J,extensions:X,runtimeDataModel:Q,globalOmit:Y}){return X.isEmpty()||$==null||typeof $!="object"||!Q.models[W]?$:TB({result:$,args:J??{},modelName:W,runtimeDataModel:Q,visitor:(M,G,B)=>{let w=WJ(G);return Mp({result:M,modelName:w,select:B.select,omit:B.select?void 0:{...Y?.[w],...B.omit},extensions:X})}})}var qp=["$connect","$disconnect","$on","$transaction","$extends"],Hp=qp;function Up($){if($ instanceof U7)return zp($);if(MS($))return Ap($);if(Array.isArray($)){let J=[$[0]];for(let X=1;X<$.length;X++)J[X]=mW($[X]);return J}let W={};for(let J in $)W[J]=mW($[J]);return W}function zp($){return new U7($.strings,$.values)}function Ap($){return new ql($.sql,$.values)}function mW($){if(typeof $!="object"||$==null||$ instanceof gQ||CB($))return $;if(FB($))return new IQ($.toFixed());if(LB($))return new Date(+$);if(ArrayBuffer.isView($))return $.slice(0);if(Array.isArray($)){let W=$.length,J;for(J=Array(W);W--;)J[W]=mW($[W]);return J}if(typeof $=="object"){let W={};for(let J in $)J==="__proto__"?Object.defineProperty(W,J,{value:mW($[J]),configurable:!0,enumerable:!0,writable:!0}):W[J]=mW($[J]);return W}jB($,"Unknown value")}function zS($,W,J,X=0){return $._createPrismaPromise((Q)=>{let Y=W.customDataProxyFetch;return"transaction"in W&&Q!==void 0&&(W.transaction?.kind==="batch"&&W.transaction.lock.then(),W.transaction=Q),X===J.length?$._executeRequest(W):J[X]({model:W.model,operation:W.model?W.action:W.clientMethod,args:Up(W.args??{}),__internalParams:W,query:(M,G=W)=>{let B=G.customDataProxyFetch;return G.customDataProxyFetch=NS(Y,B),G.args=M,zS($,G,J,X+1)}})})}function Np($,W){let{jsModelName:J,action:X,clientMethod:Q}=W,Y=J?X:Q;if($._extensions.isEmpty())return $._executeRequest(W);let M=$._extensions.getAllQueryCallbacks(J??"$none",Y);return zS($,W,M)}function Dp($){return(W)=>{let J={requests:W},X=W[0].extensions.getAllBatchQueryCallbacks();return X.length?AS(J,X,0,$):$(J)}}function AS($,W,J,X){if(J===W.length)return X($);let Q=$.customDataProxyFetch,Y=$.requests[0].transaction;return W[J]({args:{queries:$.requests.map((M)=>({model:M.modelName,operation:M.action,args:M.args})),transaction:Y?{isolationLevel:Y.kind==="batch"?Y.isolationLevel:void 0}:void 0},__internalParams:$,query(M,G=$){let B=G.customDataProxyFetch;return G.customDataProxyFetch=NS(Q,B),AS(G,W,J+1,X)}})}var CZ=($)=>$;function NS($=CZ,W=CZ){return(J)=>$(W(J))}var VZ=$2("prisma:client"),PZ={Vercel:"vercel","Netlify CI":"netlify"};function Zp({postinstall:$,ciName:W,clientVersion:J,generator:X}){if(VZ("checkPlatformCaching:postinstall",$),VZ("checkPlatformCaching:ciName",W),$===!0&&!(X?.output&&typeof(X.output.fromEnvVar??X.output.value)=="string")&&W&&W in PZ){let Q=`Prisma has detected that this project was built on ${W}, which caches dependencies. This leads to an outdated Prisma Client because Prisma's auto-generation isn't triggered. To fix this, make sure to run the \`prisma generate\` command during the build process.

Learn how: https://pris.ly/d/${PZ[W]}-build`;throw console.error(Q),new d1(Q,J)}}function Op($,W){return $?$.datasources?$.datasources:$.datasourceUrl?{[W[0]]:{url:$.datasourceUrl}}:{}:{}}function DS($){let{runtimeBinaryTarget:W}=$;return`Add "${W}" to \`binaryTargets\` in the "schema.prisma" file and run \`prisma generate\` after saving it:

${jp($)}`}function jp($){let{generator:W,generatorBinaryTargets:J,runtimeBinaryTarget:X}=$,Q={fromEnvVar:null,value:X},Y=[...J,Q];return Th({...W,binaryTargets:Y})}function fQ($){let{runtimeBinaryTarget:W}=$;return`Prisma Client could not locate the Query Engine for runtime "${W}".`}function vQ($){let{searchedLocations:W}=$;return`The following locations have been searched:
${[...new Set(W)].map((J)=>`  ${J}`).join(`
`)}`}function Lp($){let{runtimeBinaryTarget:W}=$;return`${fQ($)}

This happened because \`binaryTargets\` have been pinned, but the actual deployment also required "${W}".
${DS($)}

${vQ($)}`}function ZS($){return`We would appreciate if you could take the time to share some information with us.
Please help us by answering a few questions: https://pris.ly/${$}`}function OS($){let{errorStack:W}=$;return W?.match(/\/\.next|\/next@|\/next\//)?`

We detected that you are using Next.js, learn how to fix this: https://pris.ly/d/engine-not-found-nextjs.`:""}function _p($){let{queryEngineName:W}=$;return`${fQ($)}${OS($)}

This is likely caused by a bundler that has not copied "${W}" next to the resulting bundle.
Ensure that "${W}" has been copied next to the bundle or in "${$.expectedLocation}".

${ZS("engine-not-found-bundler-investigation")}

${vQ($)}`}function Fp($){let{runtimeBinaryTarget:W,generatorBinaryTargets:J}=$,X=J.find((Q)=>Q.native);return`${fQ($)}

This happened because Prisma Client was generated for "${X?.value??"unknown"}", but the actual deployment required "${W}".
${DS($)}

${vQ($)}`}function Kp($){let{queryEngineName:W}=$;return`${fQ($)}${OS($)}

This is likely caused by tooling that has not copied "${W}" to the deployment folder.
Ensure that you ran \`prisma generate\` and that "${W}" has been copied to "${$.expectedLocation}".

${ZS("engine-not-found-tooling-investigation")}

${vQ($)}`}var bp=$2("prisma:client:engines:resolveEnginePath"),Cp=()=>new RegExp("runtime[\\\\/]library\\.m?js$");async function Vp($,W){let J={binary:J0.env.PRISMA_QUERY_ENGINE_BINARY,library:J0.env.PRISMA_QUERY_ENGINE_LIBRARY}[$]??W.prismaPath;if(J!==void 0)return J;let{enginePath:X,searchedLocations:Q}=await Pp($,W);if(bp("enginePath",X),X!==void 0&&$==="binary"&&Vh(X),X!==void 0)return W.prismaPath=X;let Y=await NB(),M=W.generator?.binaryTargets??[],G=M.some((z)=>z.native),B=!M.some((z)=>z.value===Y),w=qB.match(Cp())===null,q={searchedLocations:Q,generatorBinaryTargets:M,generator:W.generator,runtimeBinaryTarget:Y,queryEngineName:SS($,Y),expectedLocation:DQ.relative(J0.cwd(),W.dirname),errorStack:new Error().stack},H;throw G&&B?H=Fp(q):B?H=Lp(q):w?H=_p(q):H=Kp(q),new d1(H,W.clientVersion)}async function Pp($,W){let J=await NB(),X=[],Q=[W.dirname,DQ.resolve(__dirname,".."),W.generator?.output?.value??__dirname,DQ.resolve(__dirname,"../../../.prisma/client"),"/tmp/prisma-engines",W.cwd];qB.includes("resolveEnginePath")&&Q.push(Ch());for(let Y of Q){let M=SS($,J),G=DQ.join(Y,M);if(X.push(Y),Sp.existsSync(G))return{enginePath:G,searchedLocations:X}}return{enginePath:void 0,searchedLocations:X}}function SS($,W){return $==="library"?Sc(W,"fs"):`query-engine-${W}${W==="windows"?".exe":""}`}function Ep($){return $?$.replace(/".*"/g,'"X"').replace(/[\s:\[]([+-]?([0-9]*[.])?[0-9]+)/g,(W)=>`${W[0]}5`):""}function Rp($){return $.split(`
`).map((W)=>W.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`)}var Ip=c2(cy());function xp({title:$,user:W="prisma",repo:J="prisma",template:X="bug_report.yml",body:Q}){return Ip.default({user:W,repo:J,template:X,title:$,body:Q})}function kp({version:$,binaryTarget:W,title:J,description:X,engineVersion:Q,database:Y,query:M}){let G=Ac(6000-(M?.length??0)),B=Rp(pG(G)),w=X?`# Description
\`\`\`
${X}
\`\`\``:"",q=pG(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name            | Version            |
|-----------------|--------------------|
| Node            | ${J0.version?.padEnd(19)}| 
| OS              | ${W?.padEnd(19)}|
| Prisma Client   | ${$?.padEnd(19)}|
| Query Engine    | ${Q?.padEnd(19)}|
| Database        | ${Y?.padEnd(19)}|

${w}

## Logs
\`\`\`
${B}
\`\`\`

## Client Snippet
\`\`\`ts
// PLEASE FILL YOUR CODE SNIPPET HERE
\`\`\`

## Schema
\`\`\`prisma
// PLEASE ADD YOUR SCHEMA HERE IF POSSIBLE
\`\`\`

## Prisma Engine Query
\`\`\`
${M?Ep(M):""}
\`\`\`
`),H=xp({title:J,body:q});return`${J}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${d2(H)}

If you want the Prisma team to look into it, please open the link above \uD83D\uDE4F
To increase the chance of success, please post your schema and a snippet of
how you used Prisma Client in the issue. 
`}function Tp($,W){throw new Error(W)}function gp($){return $!==null&&typeof $=="object"&&typeof $.$type=="string"}function fp($,W){let J={};for(let X of Object.keys($))J[X]=W($[X],X);return J}function MB($){return $===null?$:Array.isArray($)?$.map(MB):typeof $=="object"?gp($)?vp($):$.constructor!==null&&$.constructor.name!=="Object"?$:fp($,MB):$}function vp({$type:$,value:W}){switch($){case"BigInt":return BigInt(W);case"Bytes":{let{buffer:J,byteOffset:X,byteLength:Q}=Buffer.from(W,"base64");return new Uint8Array(J,X,Q)}case"DateTime":return new Date(W);case"Decimal":return new L9(W);case"Json":return JSON.parse(W);default:Tp(W,"Unknown tagged value")}}var dp="6.16.2",yp=()=>globalThis.process?.release?.name==="node",cp=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,hp=()=>!!globalThis.Deno,mp=()=>typeof globalThis.Netlify=="object",up=()=>typeof globalThis.EdgeRuntime=="object",lp=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers";function pp(){return[[mp,"netlify"],[up,"edge-light"],[lp,"workerd"],[hp,"deno"],[cp,"bun"],[yp,"node"]].flatMap(($)=>$[0]()?[$[1]]:[]).at(0)??""}var ip={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function np(){let $=pp();return{id:$,prettyName:ip[$]||$,isEdge:["workerd","deno","netlify","edge-light"].includes($)}}function gB({inlineDatasources:$,overrideDatasources:W,env:J,clientVersion:X}){let Q,Y=Object.keys($)[0],M=$[Y]?.url,G=W[Y]?.url;if(Y===void 0?Q=void 0:G?Q=G:M?.value?Q=M.value:M?.fromEnvVar&&(Q=J[M.fromEnvVar]),M?.fromEnvVar!==void 0&&Q===void 0)throw new d1(`error: Environment variable not found: ${M.fromEnvVar}.`,X);if(Q===void 0)throw new d1("error: Missing URL environment variable, value, or override.",X);return Q}var op=class extends Error{clientVersion;cause;constructor($,W){super($),this.clientVersion=W.clientVersion,this.cause=W.cause}get[Symbol.toStringTag](){return this.name}},z7=class extends op{isRetryable;constructor($,W){super($,W),this.isRetryable=W.isRetryable??!0}};function P5($,W){return{...$,isRetryable:W}}var ZQ=class extends z7{name="InvalidDatasourceError";code="P6001";constructor($,W){super($,P5(W,!1))}};x1(ZQ,"InvalidDatasourceError");function sp($){let W={clientVersion:$.clientVersion},J=Object.keys($.inlineDatasources)[0],X=gB({inlineDatasources:$.inlineDatasources,overrideDatasources:$.overrideDatasources,clientVersion:$.clientVersion,env:{...$.env,...typeof J0<"u"?J0.env:{}}}),Q;try{Q=new URL(X)}catch{throw new ZQ(`Error validating datasource \`${J}\`: the URL must start with the protocol \`prisma://\``,W)}let{protocol:Y,searchParams:M}=Q;if(Y!=="prisma:"&&Y!==ZO)throw new ZQ(`Error validating datasource \`${J}\`: the URL must start with the protocol \`prisma://\` or \`prisma+postgres://\``,W);let G=M.get("api_key");if(G===null||G.length<1)throw new ZQ(`Error validating datasource \`${J}\`: the URL must contain a valid API key`,W);let B=xh(Q)?"http:":"https:";J0.env.TEST_CLIENT_ENGINE_REMOTE_EXECUTOR&&Q.searchParams.has("use_http")&&(B="http:");let w=new URL(Q.href.replace(Y,B));return{apiKey:G,url:w}}var rp=c2(UB()),ap=class{apiKey;tracingHelper;logLevel;logQueries;engineHash;constructor({apiKey:$,tracingHelper:W,logLevel:J,logQueries:X,engineHash:Q}){this.apiKey=$,this.tracingHelper=W,this.logLevel=J,this.logQueries=X,this.engineHash=Q}build({traceparent:$,transactionId:W}={}){let J={Accept:"application/json",Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","Prisma-Engine-Hash":this.engineHash,"Prisma-Engine-Version":rp.enginesVersion};this.tracingHelper.isEnabled()&&(J.traceparent=$??this.tracingHelper.getTraceParent()),W&&(J["X-Transaction-Id"]=W);let X=this.#$();return X.length>0&&(J["X-Capture-Telemetry"]=X.join(", ")),J}#$(){let $=[];return this.tracingHelper.isEnabled()&&$.push("tracing"),this.logLevel&&$.push(this.logLevel),this.logQueries&&$.push("query"),$}};function tp($){return $[0]*1000+$[1]/1e6}function EZ($){return new Date(tp($))}var GB=class extends z7{name="ForcedRetryError";code="P5001";constructor($){super("This request must be retried",P5($,!0))}};x1(GB,"ForcedRetryError");var fB=class extends z7{name="NotImplementedYetError";code="P5004";constructor($,W){super($,P5(W,!1))}};x1(fB,"NotImplementedYetError");var m2=class extends z7{response;constructor($,W){super($,W),this.response=W.response;let J=this.response.headers.get("prisma-request-id");if(J){let X=`(The request id was: ${J})`;this.message=this.message+" "+X}}},vB=class extends m2{name="SchemaMissingError";code="P5005";constructor($){super("Schema needs to be uploaded",P5($,!0))}};x1(vB,"SchemaMissingError");var jS="This request could not be understood by the server",LS=class extends m2{name="BadRequestError";code="P5000";constructor($,W,J){super(W||jS,P5($,!1)),J&&(this.code=J)}};x1(LS,"BadRequestError");var _S=class extends m2{name="HealthcheckTimeoutError";code="P5013";logs;constructor($,W){super("Engine not started: healthcheck timeout",P5($,!0)),this.logs=W}};x1(_S,"HealthcheckTimeoutError");var FS=class extends m2{name="EngineStartupError";code="P5014";logs;constructor($,W,J){super(W,P5($,!0)),this.logs=J}};x1(FS,"EngineStartupError");var KS=class extends m2{name="EngineVersionNotSupportedError";code="P5012";constructor($){super("Engine version is not supported",P5($,!1))}};x1(KS,"EngineVersionNotSupportedError");var bS="Request timed out",CS=class extends m2{name="GatewayTimeoutError";code="P5009";constructor($,W=bS){super(W,P5($,!1))}};x1(CS,"GatewayTimeoutError");var ep="Interactive transaction error",VS=class extends m2{name="InteractiveTransactionError";code="P5015";constructor($,W=ep){super(W,P5($,!1))}};x1(VS,"InteractiveTransactionError");var $i="Request parameters are invalid",PS=class extends m2{name="InvalidRequestError";code="P5011";constructor($,W=$i){super(W,P5($,!1))}};x1(PS,"InvalidRequestError");var ES="Requested resource does not exist",RS=class extends m2{name="NotFoundError";code="P5003";constructor($,W=ES){super(W,P5($,!1))}};x1(RS,"NotFoundError");var IS="Unknown server error",BB=class extends m2{name="ServerError";code="P5006";logs;constructor($,W,J){super(W||IS,P5($,!0)),this.logs=J}};x1(BB,"ServerError");var xS="Unauthorized, check your connection string",kS=class extends m2{name="UnauthorizedError";code="P5007";constructor($,W=xS){super(W,P5($,!1))}};x1(kS,"UnauthorizedError");var TS="Usage exceeded, retry again later",gS=class extends m2{name="UsageExceededError";code="P5008";constructor($,W=TS){super(W,P5($,!0))}};x1(gS,"UsageExceededError");async function Wi($){let W;try{W=await $.text()}catch{return{type:"EmptyError"}}try{let J=JSON.parse(W);if(typeof J=="string")switch(J){case"InternalDataProxyError":return{type:"DataProxyError",body:J};default:return{type:"UnknownTextError",body:J}}if(typeof J=="object"&&J!==null){if("is_panic"in J&&"message"in J&&"error_code"in J)return{type:"QueryEngineError",body:J};if("EngineNotStarted"in J||"InteractiveTransactionMisrouted"in J||"InvalidRequestError"in J){let X=Object.values(J)[0].reason;return typeof X=="string"&&!["SchemaMissing","EngineVersionNotSupported"].includes(X)?{type:"UnknownJsonError",body:J}:{type:"DataProxyError",body:J}}}return{type:"UnknownJsonError",body:J}}catch{return W===""?{type:"EmptyError"}:{type:"UnknownTextError",body:W}}}async function HQ($,W){if($.ok)return;let J={clientVersion:W,response:$},X=await Wi($);if(X.type==="QueryEngineError")throw new E1(X.body.message,{code:X.body.error_code,clientVersion:W});if(X.type==="DataProxyError"){if(X.body==="InternalDataProxyError")throw new BB(J,"Internal Data Proxy error");if("EngineNotStarted"in X.body){if(X.body.EngineNotStarted.reason==="SchemaMissing")return new vB(J);if(X.body.EngineNotStarted.reason==="EngineVersionNotSupported")throw new KS(J);if("EngineStartupError"in X.body.EngineNotStarted.reason){let{msg:Q,logs:Y}=X.body.EngineNotStarted.reason.EngineStartupError;throw new FS(J,Q,Y)}if("KnownEngineStartupError"in X.body.EngineNotStarted.reason){let{msg:Q,error_code:Y}=X.body.EngineNotStarted.reason.KnownEngineStartupError;throw new d1(Q,W,Y)}if("HealthcheckTimeout"in X.body.EngineNotStarted.reason){let{logs:Q}=X.body.EngineNotStarted.reason.HealthcheckTimeout;throw new _S(J,Q)}}if("InteractiveTransactionMisrouted"in X.body)throw new VS(J,{IDParseError:"Could not parse interactive transaction ID",NoQueryEngineFoundError:"Could not find Query Engine for the specified host and transaction ID",TransactionStartError:"Could not start interactive transaction"}[X.body.InteractiveTransactionMisrouted.reason]);if("InvalidRequestError"in X.body)throw new PS(J,X.body.InvalidRequestError.reason)}if($.status===401||$.status===403)throw new kS(J,J7(xS,X));if($.status===404)return new RS(J,J7(ES,X));if($.status===429)throw new gS(J,J7(TS,X));if($.status===504)throw new CS(J,J7(bS,X));if($.status>=500)throw new BB(J,J7(IS,X));if($.status>=400)throw new LS(J,J7(jS,X))}function J7($,W){return W.type==="EmptyError"?$:`${$}: ${JSON.stringify(W)}`}function Ji($){let W=Math.pow(2,$)*50,J=Math.ceil(Math.random()*W)-Math.ceil(W/2),X=W+J;return new Promise((Q)=>setTimeout(()=>Q(X),X))}var I6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Xi($){let W=new TextEncoder().encode($),J="",X=W.byteLength,Q=X%3,Y=X-Q,M,G,B,w,q;for(let H=0;H<Y;H=H+3)q=W[H]<<16|W[H+1]<<8|W[H+2],M=(q&16515072)>>18,G=(q&258048)>>12,B=(q&4032)>>6,w=q&63,J+=I6[M]+I6[G]+I6[B]+I6[w];return Q==1?(q=W[Y],M=(q&252)>>2,G=(q&3)<<4,J+=I6[M]+I6[G]+"=="):Q==2&&(q=W[Y]<<8|W[Y+1],M=(q&64512)>>10,G=(q&1008)>>4,B=(q&15)<<2,J+=I6[M]+I6[G]+I6[B]+"="),J}function Qi($){if($.generator?.previewFeatures.some((W)=>W.toLowerCase().includes("metrics")))throw new d1("The `metrics` preview feature is not yet available with Accelerate.\nPlease remove `metrics` from the `previewFeatures` in your schema.\n\nMore information about Accelerate: https://pris.ly/d/accelerate",$.clientVersion)}var Yi={"@prisma/debug":"workspace:*","@prisma/engines-version":"6.16.0-7.1c57fdcd7e44b29b9313256c76699e91c3ac3c43","@prisma/fetch-engine":"workspace:*","@prisma/get-platform":"workspace:*"},fS=class extends z7{name="RequestError";code="P5010";constructor($,W){super(`Cannot fetch data from service:
${$}`,P5(W,!0))}};x1(fS,"RequestError");async function fW($,W,J=(X)=>X){let{clientVersion:X,...Q}=W,Y=J(fetch);try{return await Y($,Q)}catch(M){let G=M.message??"Unknown error";throw new fS(G,{clientVersion:X,cause:M})}}var Mi=/^[1-9][0-9]*\.[0-9]+\.[0-9]+$/,vS=$2("prisma:client:dataproxyEngine");async function Gi($,W){let J=Yi["@prisma/engines-version"],X=W.clientVersion??"unknown";if(J0.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION)return J0.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION;if($.includes("accelerate")&&X!=="0.0.0"&&X!=="in-memory")return X;let[Q,Y]=X?.split("-")??[];if(Y===void 0&&Mi.test(Q))return Q;if(Y!==void 0||X==="0.0.0"||X==="in-memory"){let[M]=J.split("-")??[],[G,B,w]=M.split("."),q=wi(`<=${G}.${B}.${w}`),H=await fW(q,{clientVersion:X});if(!H.ok)throw new Error(`Failed to fetch stable Prisma version, unpkg.com status ${H.status} ${H.statusText}, response body: ${await H.text()||"<empty body>"}`);let z=await H.text();vS("length of body fetched from unpkg.com",z.length);let U;try{U=JSON.parse(z)}catch(N){throw console.error("JSON.parse error: body fetched from unpkg.com: ",z),N}return U.version}throw new fB("Only `major.minor.patch` versions are supported by Accelerate.",{clientVersion:X})}async function Bi($,W){let J=await Gi($,W);return vS("version",J),J}function wi($){return encodeURI(`https://unpkg.com/prisma@${$}/package.json`)}var RZ=3,kW=$2("prisma:client:dataproxyEngine"),qi=class{name="DataProxyEngine";inlineSchema;inlineSchemaHash;inlineDatasources;config;logEmitter;env;clientVersion;engineHash;tracingHelper;remoteClientVersion;host;headerBuilder;startPromise;protocol;constructor($){Qi($),this.config=$,this.env=$.env,this.inlineSchema=Xi($.inlineSchema),this.inlineDatasources=$.inlineDatasources,this.inlineSchemaHash=$.inlineSchemaHash,this.clientVersion=$.clientVersion,this.engineHash=$.engineVersion,this.logEmitter=$.logEmitter,this.tracingHelper=$.tracingHelper}apiKey(){return this.headerBuilder.apiKey}version(){return this.engineHash}async start(){this.startPromise!==void 0&&await this.startPromise,this.startPromise=(async()=>{let{apiKey:$,url:W}=this.getURLAndAPIKey();this.host=W.host,this.protocol=W.protocol,this.headerBuilder=new ap({apiKey:$,tracingHelper:this.tracingHelper,logLevel:this.config.logLevel??"error",logQueries:this.config.logQueries,engineHash:this.engineHash}),this.remoteClientVersion=await Bi(this.host,this.config),kW("host",this.host),kW("protocol",this.protocol)})(),await this.startPromise}async stop(){}propagateResponseExtensions($){$?.logs?.length&&$.logs.forEach((W)=>{switch(W.level){case"debug":case"trace":kW(W);break;case"error":case"warn":case"info":{this.logEmitter.emit(W.level,{timestamp:EZ(W.timestamp),message:W.attributes.message??"",target:W.target??"BinaryEngine"});break}case"query":{this.logEmitter.emit("query",{query:W.attributes.query??"",timestamp:EZ(W.timestamp),duration:W.attributes.duration_ms??0,params:W.attributes.params??"",target:W.target??"BinaryEngine"});break}default:W.level}}),$?.traces?.length&&this.tracingHelper.dispatchEngineSpans($.traces)}onBeforeExit(){throw new Error('"beforeExit" hook is not applicable to the remote query engine')}async url($){return await this.start(),`${this.protocol}//${this.host}/${this.remoteClientVersion}/${this.inlineSchemaHash}/${$}`}async uploadSchema(){let $={name:"schemaUpload",internal:!0};return this.tracingHelper.runInChildSpan($,async()=>{let W=await fW(await this.url("schema"),{method:"PUT",headers:this.headerBuilder.build(),body:this.inlineSchema,clientVersion:this.clientVersion});W.ok||kW("schema response status",W.status);let J=await HQ(W,this.clientVersion);if(J)throw this.logEmitter.emit("warn",{message:`Error while uploading schema: ${J.message}`,timestamp:new Date,target:""}),J;this.logEmitter.emit("info",{message:`Schema (re)uploaded (hash: ${this.inlineSchemaHash})`,timestamp:new Date,target:""})})}request($,{traceparent:W,interactiveTransaction:J,customDataProxyFetch:X}){return this.requestInternal({body:$,traceparent:W,interactiveTransaction:J,customDataProxyFetch:X})}async requestBatch($,{traceparent:W,transaction:J,customDataProxyFetch:X}){let Q=J?.kind==="itx"?J.options:void 0,Y=xB($,J);return(await this.requestInternal({body:Y,customDataProxyFetch:X,interactiveTransaction:Q,traceparent:W})).map((M)=>(M.extensions&&this.propagateResponseExtensions(M.extensions),("errors"in M)?this.convertProtocolErrorsToClientError(M.errors):M))}requestInternal({body:$,traceparent:W,customDataProxyFetch:J,interactiveTransaction:X}){return this.withRetry({actionGerund:"querying",callback:async({logHttpCall:Q})=>{let Y=X?`${X.payload.endpoint}/graphql`:await this.url("graphql");Q(Y);let M=await fW(Y,{method:"POST",headers:this.headerBuilder.build({traceparent:W,transactionId:X?.id}),body:JSON.stringify($),clientVersion:this.clientVersion},J);M.ok||kW("graphql response status",M.status),await this.handleError(await HQ(M,this.clientVersion));let G=await M.json();if(G.extensions&&this.propagateResponseExtensions(G.extensions),"errors"in G)throw this.convertProtocolErrorsToClientError(G.errors);return"batchResult"in G?G.batchResult:G}})}async transaction($,W,J){let X={start:"starting",commit:"committing",rollback:"rolling back"};return this.withRetry({actionGerund:`${X[$]} transaction`,callback:async({logHttpCall:Q})=>{if($==="start"){let Y=JSON.stringify({max_wait:J.maxWait,timeout:J.timeout,isolation_level:J.isolationLevel}),M=await this.url("transaction/start");Q(M);let G=await fW(M,{method:"POST",headers:this.headerBuilder.build({traceparent:W.traceparent}),body:Y,clientVersion:this.clientVersion});await this.handleError(await HQ(G,this.clientVersion));let B=await G.json(),{extensions:w}=B;w&&this.propagateResponseExtensions(w);let q=B.id,H=B["data-proxy"].endpoint;return{id:q,payload:{endpoint:H}}}else{let Y=`${J.payload.endpoint}/${$}`;Q(Y);let M=await fW(Y,{method:"POST",headers:this.headerBuilder.build({traceparent:W.traceparent}),clientVersion:this.clientVersion});await this.handleError(await HQ(M,this.clientVersion));let G=await M.json(),{extensions:B}=G;B&&this.propagateResponseExtensions(B);return}}})}getURLAndAPIKey(){return sp({clientVersion:this.clientVersion,env:this.env,inlineDatasources:this.inlineDatasources,overrideDatasources:this.config.overrideDatasources})}metrics(){throw new fB("Metrics are not yet supported for Accelerate",{clientVersion:this.clientVersion})}async withRetry($){for(let W=0;;W++){let J=(X)=>{this.logEmitter.emit("info",{message:`Calling ${X} (n=${W})`,timestamp:new Date,target:""})};try{return await $.callback({logHttpCall:J})}catch(X){if(!(X instanceof z7)||!X.isRetryable)throw X;if(W>=RZ)throw X instanceof GB?X.cause:X;this.logEmitter.emit("warn",{message:`Attempt ${W+1}/${RZ} failed for ${$.actionGerund}: ${X.message??"(unknown)"}`,timestamp:new Date,target:""});let Q=await Ji(W);this.logEmitter.emit("warn",{message:`Retrying after ${Q}ms`,timestamp:new Date,target:""})}}}async handleError($){if($ instanceof vB)throw await this.uploadSchema(),new GB({clientVersion:this.clientVersion,cause:$});if($)throw $}convertProtocolErrorsToClientError($){return $.length===1?kB($[0],this.config.clientVersion,this.config.activeProvider):new j2(JSON.stringify($),{clientVersion:this.config.clientVersion})}applyPendingMigrations(){throw new Error("Method not implemented.")}};function Hi($){if($?.kind==="itx")return $.options.id}var xG=Symbol("PrismaLibraryEngineCache");function zi(){let $=globalThis;return $[xG]===void 0&&($[xG]={}),$[xG]}function Ai($){let W=zi();if(W[$]!==void 0)return W[$];let J=Ui.toNamespacedPath($),X={exports:{}},Q=0;return J0.platform!=="win32"&&(Q=IZ.constants.dlopen.RTLD_LAZY|IZ.constants.dlopen.RTLD_DEEPBIND),J0.dlopen(X,J,Q),W[$]=X.exports,X.exports}var Ni={async loadLibrary($){let W=await yc(),J=await Vp("library",$);try{return $.tracingHelper.runInChildSpan({name:"loadLibrary",internal:!0},()=>Ai(J))}catch(X){let Q=Ph({e:X,platformInfo:W,id:J});throw new d1(Q,$.clientVersion)}}},kG,Di={async loadLibrary($){let{clientVersion:W,adapter:J,engineWasm:X}=$;if(J===void 0)throw new d1(`The \`adapter\` option for \`PrismaClient\` is required in this context (${np().prettyName})`,W);if(X===void 0)throw new d1("WASM engine was unexpectedly `undefined`",W);kG===void 0&&(kG=(async()=>{let Y=await X.getRuntime(),M=await X.getQueryEngineWasmModule();if(M==null)throw new d1("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",W);let G={"./query_engine_bg.js":Y},B=new WebAssembly.Instance(M,G),w=B.exports.__wbindgen_start;return Y.__wbg_set_wasm(B.exports),w(),Y.QueryEngine})());let Q=await kG;return{debugPanic(){return Promise.reject("{}")},dmmf(){return Promise.resolve("{}")},version(){return{commit:"unknown",version:"unknown"}},QueryEngine:Q}}},Zi="P2036",c8=$2("prisma:client:libraryEngine");function Oi($){return $.item_type==="query"&&"query"in $}function Si($){return"level"in $?$.level==="error"&&$.message==="PANIC":!1}var xZ=[...Oc,"native"],ji=0xffffffffffffffffn,TG=1n;function Li(){let $=TG++;return TG>ji&&(TG=1n),$}var kZ=class{name="LibraryEngine";engine;libraryInstantiationPromise;libraryStartingPromise;libraryStoppingPromise;libraryStarted;executingQueryPromise;config;QueryEngineConstructor;libraryLoader;library;logEmitter;libQueryEnginePath;binaryTarget;datasourceOverrides;datamodel;logQueries;logLevel;lastQuery;loggerRustPanic;tracingHelper;adapterPromise;versionInfo;constructor($,W){this.libraryLoader=W??Ni,$.engineWasm!==void 0&&(this.libraryLoader=W??Di),this.config=$,this.libraryStarted=!1,this.logQueries=$.logQueries??!1,this.logLevel=$.logLevel??"error",this.logEmitter=$.logEmitter,this.datamodel=$.inlineSchema,this.tracingHelper=$.tracingHelper,$.enableDebugLogs&&(this.logLevel="debug");let J=Object.keys($.overrideDatasources)[0],X=$.overrideDatasources[J]?.url;J!==void 0&&X!==void 0&&(this.datasourceOverrides={[J]:X}),this.libraryInstantiationPromise=this.instantiateLibrary()}wrapEngine($){return{applyPendingMigrations:$.applyPendingMigrations?.bind($),commitTransaction:this.withRequestId($.commitTransaction.bind($)),connect:this.withRequestId($.connect.bind($)),disconnect:this.withRequestId($.disconnect.bind($)),metrics:$.metrics?.bind($),query:this.withRequestId($.query.bind($)),rollbackTransaction:this.withRequestId($.rollbackTransaction.bind($)),sdlSchema:$.sdlSchema?.bind($),startTransaction:this.withRequestId($.startTransaction.bind($)),trace:$.trace.bind($),free:$.free?.bind($)}}withRequestId($){return async(...W)=>{let J=Li().toString();try{return await $(...W,J)}finally{if(this.tracingHelper.isEnabled()){let X=await this.engine?.trace(J);if(X){let Q=JSON.parse(X);this.tracingHelper.dispatchEngineSpans(Q.spans)}}}}}async applyPendingMigrations(){throw new Error("Cannot call this method from this type of engine instance")}async transaction($,W,J){await this.start();let X=await this.adapterPromise,Q=JSON.stringify(W),Y;if($==="start"){let G=JSON.stringify({max_wait:J.maxWait,timeout:J.timeout,isolation_level:J.isolationLevel});Y=await this.engine?.startTransaction(G,Q)}else $==="commit"?Y=await this.engine?.commitTransaction(J.id,Q):$==="rollback"&&(Y=await this.engine?.rollbackTransaction(J.id,Q));let M=this.parseEngineResponse(Y);if(_i(M)){let G=this.getExternalAdapterError(M,X?.errorRegistry);throw G?G.error:new E1(M.message,{code:M.error_code,clientVersion:this.config.clientVersion,meta:M.meta})}else if(typeof M.message=="string")throw new j2(M.message,{clientVersion:this.config.clientVersion});return M}async instantiateLibrary(){if(c8("internalSetup"),this.libraryInstantiationPromise)return this.libraryInstantiationPromise;Zc(),this.binaryTarget=await this.getCurrentBinaryTarget(),await this.tracingHelper.runInChildSpan("load_engine",()=>this.loadEngine()),this.version()}async getCurrentBinaryTarget(){{if(this.binaryTarget)return this.binaryTarget;let $=await this.tracingHelper.runInChildSpan("detect_platform",()=>NB());if(!xZ.includes($))throw new d1(`Unknown ${S9("PRISMA_QUERY_ENGINE_LIBRARY")} ${S9(K8($))}. Possible binaryTargets: ${uW(xZ.join(", "))} or a path to the query engine library.
You may have to run ${uW("prisma generate")} for your changes to take effect.`,this.config.clientVersion);return $}}parseEngineResponse($){if(!$)throw new j2("Response from the Engine was empty",{clientVersion:this.config.clientVersion});try{return JSON.parse($)}catch{throw new j2("Unable to JSON.parse response from engine",{clientVersion:this.config.clientVersion})}}async loadEngine(){if(!this.engine){this.QueryEngineConstructor||(this.library=await this.libraryLoader.loadLibrary(this.config),this.QueryEngineConstructor=this.library.QueryEngine);try{let $=new WeakRef(this);this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(MZ));let W=await this.adapterPromise;W&&c8("Using driver adapter: %O",W),this.engine=this.wrapEngine(new this.QueryEngineConstructor({datamodel:this.datamodel,env:J0.env,logQueries:this.config.logQueries??!1,ignoreEnvVarErrors:!0,datasourceOverrides:this.datasourceOverrides??{},logLevel:this.logLevel,configDir:this.config.cwd,engineProtocol:"json",enableTracing:this.tracingHelper.isEnabled()},(J)=>{$.deref()?.logger(J)},W))}catch($){let W=$,J=this.parseInitError(W.message);throw typeof J=="string"?W:new d1(J.message,this.config.clientVersion,J.error_code)}}}logger($){let W=this.parseEngineResponse($);W&&(W.level=W?.level.toLowerCase()??"unknown",Oi(W)?this.logEmitter.emit("query",{timestamp:new Date,query:W.query,params:W.params,duration:Number(W.duration_ms),target:W.module_path}):Si(W)?this.loggerRustPanic=new C4(gG(this,`${W.message}: ${W.reason} in ${W.file}:${W.line}:${W.column}`),this.config.clientVersion):this.logEmitter.emit(W.level,{timestamp:new Date,message:W.message,target:W.module_path}))}parseInitError($){try{return JSON.parse($)}catch{}return $}parseRequestError($){try{return JSON.parse($)}catch{}return $}onBeforeExit(){throw new Error('"beforeExit" hook is not applicable to the library engine since Prisma 5.0.0, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){if(this.libraryInstantiationPromise||(this.libraryInstantiationPromise=this.instantiateLibrary()),await this.libraryInstantiationPromise,await this.libraryStoppingPromise,this.libraryStartingPromise)return c8(`library already starting, this.libraryStarted: ${this.libraryStarted}`),this.libraryStartingPromise;if(this.libraryStarted)return;let $=async()=>{c8("library starting");try{let W={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.connect(JSON.stringify(W)),this.libraryStarted=!0,this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(MZ)),await this.adapterPromise,c8("library started")}catch(W){let J=this.parseInitError(W.message);throw typeof J=="string"?W:new d1(J.message,this.config.clientVersion,J.error_code)}finally{this.libraryStartingPromise=void 0}};return this.libraryStartingPromise=this.tracingHelper.runInChildSpan("connect",$),this.libraryStartingPromise}async stop(){if(await this.libraryInstantiationPromise,await this.libraryStartingPromise,await this.executingQueryPromise,this.libraryStoppingPromise)return c8("library is already stopping"),this.libraryStoppingPromise;if(!this.libraryStarted){await(await this.adapterPromise)?.dispose(),this.adapterPromise=void 0;return}let $=async()=>{await new Promise((J)=>setImmediate(J)),c8("library stopping");let W={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.disconnect(JSON.stringify(W)),this.engine?.free&&this.engine.free(),this.engine=void 0,this.libraryStarted=!1,this.libraryStoppingPromise=void 0,this.libraryInstantiationPromise=void 0,await(await this.adapterPromise)?.dispose(),this.adapterPromise=void 0,c8("library stopped")};return this.libraryStoppingPromise=this.tracingHelper.runInChildSpan("disconnect",$),this.libraryStoppingPromise}version(){return this.versionInfo=this.library?.version(),this.versionInfo?.version??"unknown"}debugPanic($){return this.library?.debugPanic($)}async request($,{traceparent:W,interactiveTransaction:J}){c8(`sending request, this.libraryStarted: ${this.libraryStarted}`);let X=JSON.stringify({traceparent:W}),Q=JSON.stringify($);try{await this.start();let Y=await this.adapterPromise;this.executingQueryPromise=this.engine?.query(Q,X,J?.id),this.lastQuery=Q;let M=this.parseEngineResponse(await this.executingQueryPromise);if(M.errors)throw M.errors.length===1?this.buildQueryError(M.errors[0],Y?.errorRegistry):new j2(JSON.stringify(M.errors),{clientVersion:this.config.clientVersion});if(this.loggerRustPanic)throw this.loggerRustPanic;return{data:M}}catch(Y){if(Y instanceof d1)throw Y;if(Y.code==="GenericFailure"&&Y.message?.startsWith("PANIC:"))throw new C4(gG(this,Y.message),this.config.clientVersion);let M=this.parseRequestError(Y.message);throw typeof M=="string"?Y:new j2(`${M.message}
${M.backtrace}`,{clientVersion:this.config.clientVersion})}}async requestBatch($,{transaction:W,traceparent:J}){c8("requestBatch");let X=xB($,W);await this.start();let Q=await this.adapterPromise;this.lastQuery=JSON.stringify(X),this.executingQueryPromise=this.engine?.query(this.lastQuery,JSON.stringify({traceparent:J}),Hi(W));let Y=await this.executingQueryPromise,M=this.parseEngineResponse(Y);if(M.errors)throw M.errors.length===1?this.buildQueryError(M.errors[0],Q?.errorRegistry):new j2(JSON.stringify(M.errors),{clientVersion:this.config.clientVersion});let{batchResult:G,errors:B}=M;if(Array.isArray(G))return G.map((w)=>w.errors&&w.errors.length>0?this.loggerRustPanic??this.buildQueryError(w.errors[0],Q?.errorRegistry):{data:w});throw B&&B.length===1?new Error(B[0].error):new Error(JSON.stringify(M))}buildQueryError($,W){if($.user_facing_error.is_panic)return new C4(gG(this,$.user_facing_error.message),this.config.clientVersion);let J=this.getExternalAdapterError($.user_facing_error,W);return J?J.error:kB($,this.config.clientVersion,this.config.activeProvider)}getExternalAdapterError($,W){if($.error_code===Zi&&W){let J=$.meta?.id;wZ(typeof J=="number","Malformed external JS error received from the engine");let X=W.consumeError(J);return wZ(X,"External error with reported id was not registered"),X}}async metrics($){await this.start();let W=await this.engine.metrics(JSON.stringify($));return $.format==="prometheus"?W:this.parseEngineResponse(W)}};function _i($){return typeof $=="object"&&$!==null&&$.error_code!==void 0}function gG($,W){return kp({binaryTarget:$.binaryTarget,title:W,version:$.config.clientVersion,engineVersion:$.versionInfo?.commit,database:$.config.activeProvider,query:$.lastQuery})}function Fi({url:$,adapter:W,copyEngine:J,targetBuildType:X}){let Q=[],Y=[],M=(D)=>{Q.push({_tag:"warning",value:D})},G=(D)=>{let j=D.join(`
`);Y.push({_tag:"error",value:j})},B=!!$?.startsWith("prisma://"),w=OO($),q=!!W,H=B||w;!q&&J&&H&&X!=="client"&&X!=="wasm-compiler-edge"&&M(["recommend--no-engine","In production, we recommend using `prisma generate --no-engine` (See: `prisma generate --help`)"]);let z=H||!J;q&&(z||X==="edge")&&(X==="edge"?G(["Prisma Client was configured to use the `adapter` option but it was imported via its `/edge` endpoint.","Please either remove the `/edge` endpoint or remove the `adapter` from the Prisma Client constructor."]):H?G(["You've provided both a driver adapter and an Accelerate database URL. Driver adapters currently cannot connect to Accelerate.","Please provide either a driver adapter with a direct database URL or an Accelerate URL and no driver adapter."]):J||G(["Prisma Client was configured to use the `adapter` option but `prisma generate` was run with `--no-engine`.","Please run `prisma generate` without `--no-engine` to be able to use Prisma Client with the adapter."]));let U={accelerate:z,ppg:w,driverAdapters:q};function N(D){return D.length>0}return N(Y)?{ok:!1,diagnostics:{warnings:Q,errors:Y},isUsing:U}:{ok:!0,diagnostics:{warnings:Q},isUsing:U}}function Ki({copyEngine:$=!0},W){let J;try{J=gB({inlineDatasources:W.inlineDatasources,overrideDatasources:W.overrideDatasources,env:{...W.env,...J0.env},clientVersion:W.clientVersion})}catch{}let{ok:X,isUsing:Q,diagnostics:Y}=Fi({url:J,adapter:W.adapter,copyEngine:$,targetBuildType:"library"});for(let H of Y.warnings)th(...H.value);if(!X){let H=Y.errors[0];throw new k6(H.value,{clientVersion:W.clientVersion})}let M=uG(W.generator),G=M==="library",B=M==="binary",w=M==="client",q=(Q.accelerate||Q.ppg)&&!Q.driverAdapters;return Q.accelerate?new qi(W):(Q.driverAdapters,G?new kZ(W):(Q.accelerate,new kZ(W)))}function bi({generator:$}){return $?.previewFeatures??[]}var Ci=($)=>({command:$}),Vi=($)=>$.strings.reduce((W,J,X)=>`${W}@P${X}${J}`);function TW($){try{return TZ($,"fast")}catch{return TZ($,"slow")}}function TZ($,W){return JSON.stringify($.map((J)=>dS(J,W)))}function dS($,W){if(Array.isArray($))return $.map((J)=>dS(J,W));if(typeof $=="bigint")return{prisma__type:"bigint",prisma__value:$.toString()};if(LB($))return{prisma__type:"date",prisma__value:$.toJSON()};if(IQ.isDecimal($))return{prisma__type:"decimal",prisma__value:$.toJSON()};if(Buffer.isBuffer($))return{prisma__type:"bytes",prisma__value:$.toString("base64")};if(Pi($))return{prisma__type:"bytes",prisma__value:Buffer.from($).toString("base64")};if(ArrayBuffer.isView($)){let{buffer:J,byteOffset:X,byteLength:Q}=$;return{prisma__type:"bytes",prisma__value:Buffer.from(J,X,Q).toString("base64")}}return typeof $=="object"&&W==="slow"?yS($):$}function Pi($){return $ instanceof ArrayBuffer||$ instanceof SharedArrayBuffer?!0:typeof $=="object"&&$!==null?$[Symbol.toStringTag]==="ArrayBuffer"||$[Symbol.toStringTag]==="SharedArrayBuffer":!1}function yS($){if(typeof $!="object"||$===null)return $;if(typeof $.toJSON=="function")return $.toJSON();if(Array.isArray($))return $.map(gZ);let W={};for(let J of Object.keys($))W[J]=gZ($[J]);return W}function gZ($){return typeof $=="bigint"?$.toString():yS($)}var Ei=/^(\s*alter\s)/i,fZ=$2("prisma:client");function vZ($,W,J,X){if(!($!=="postgresql"&&$!=="cockroachdb")&&J.length>0&&Ei.exec(W))throw new Error(`Running ALTER using ${X} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var dZ=({clientMethod:$,activeProvider:W})=>(J)=>{let X="",Q;if(MS(J))X=J.sql,Q={values:TW(J.values),__prismaRawParameters__:!0};else if(Array.isArray(J)){let[Y,...M]=J;X=Y,Q={values:TW(M||[]),__prismaRawParameters__:!0}}else switch(W){case"sqlite":case"mysql":{X=J.sql,Q={values:TW(J.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{X=J.text,Q={values:TW(J.values),__prismaRawParameters__:!0};break}case"sqlserver":{X=Vi(J),Q={values:TW(J.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${W} provider does not support ${$}`)}return Q?.values?fZ(`prisma.${$}(${X}, ${Q.values})`):fZ(`prisma.${$}(${X})`),{query:X,parameters:Q}},Ri={requestArgsToMiddlewareArgs($){return[$.strings,...$.values]},middlewareArgsToRequestArgs($){let[W,...J]=$;return new U7(W,J)}},Ii={requestArgsToMiddlewareArgs($){return[$]},middlewareArgsToRequestArgs($){return $[0]}};function yZ($){return function(W,J){let X,Q=(Y=$)=>{try{return Y===void 0||Y?.kind==="itx"?X??=cZ(W(Y)):cZ(W(Y))}catch(M){return Promise.reject(M)}};return{get spec(){return J},then(Y,M){return Q().then(Y,M)},catch(Y){return Q().catch(Y)},finally(Y){return Q().finally(Y)},requestTransaction(Y){let M=Q(Y);return M.requestTransaction?M.requestTransaction(Y):M},[Symbol.toStringTag]:"PrismaPromise"}}}function cZ($){return typeof $.then=="function"?$:Promise.resolve($)}var xi=jh.split(".")[0],ki={isEnabled(){return!1},getTraceParent(){return"00-10-10-00"},dispatchEngineSpans(){},getActiveContext(){},runInChildSpan($,W){return W()}},Ti=class{isEnabled(){return this.getGlobalTracingHelper().isEnabled()}getTraceParent($){return this.getGlobalTracingHelper().getTraceParent($)}dispatchEngineSpans($){return this.getGlobalTracingHelper().dispatchEngineSpans($)}getActiveContext(){return this.getGlobalTracingHelper().getActiveContext()}runInChildSpan($,W){return this.getGlobalTracingHelper().runInChildSpan($,W)}getGlobalTracingHelper(){let $=globalThis[`V${xi}_PRISMA_INSTRUMENTATION`],W=globalThis.PRISMA_INSTRUMENTATION;return $?.helper??W?.helper??ki}};function gi(){return new Ti}function fi($,W=()=>{}){let J,X=new Promise((Q)=>J=Q);return{then(Q){return--$===0&&J(W()),Q?.(X)}}}function vi($){return typeof $=="string"?$:$.reduce((W,J)=>{let X=typeof J=="string"?J:J.level;return X==="query"?W:W&&(J==="info"||W==="info")?"info":X},void 0)}function cS($){return typeof $.batchRequestIdx=="number"}function di($){if($.action!=="findUnique"&&$.action!=="findUniqueOrThrow")return;let W=[];return $.modelName&&W.push($.modelName),$.query.arguments&&W.push(wB($.query.arguments)),W.push(wB($.query.selection)),W.join("")}function wB($){return`(${Object.keys($).sort().map((W)=>{let J=$[W];return typeof J=="object"&&J!==null?`(${W} ${wB(J)})`:W}).join(" ")})`}var yi={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0};function hZ($){return yi[$]}var ci=class{constructor($){this.options=$,this.batches={}}batches;tickActive=!1;request($){let W=this.options.batchBy($);return W?(this.batches[W]||(this.batches[W]=[],this.tickActive||(this.tickActive=!0,J0.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((J,X)=>{this.batches[W].push({request:$,resolve:J,reject:X})})):this.options.singleLoader($)}dispatchBatches(){for(let $ in this.batches){let W=this.batches[$];delete this.batches[$],W.length===1?this.options.singleLoader(W[0].request).then((J)=>{J instanceof Error?W[0].reject(J):W[0].resolve(J)}).catch((J)=>{W[0].reject(J)}):(W.sort((J,X)=>this.options.batchOrder(J.request,X.request)),this.options.batchLoader(W.map((J)=>J.request)).then((J)=>{if(J instanceof Error)for(let X=0;X<W.length;X++)W[X].reject(J);else for(let X=0;X<W.length;X++){let Q=J[X];Q instanceof Error?W[X].reject(Q):W[X].resolve(Q)}}).catch((J)=>{for(let X=0;X<W.length;X++)W[X].reject(J)}))}}get[Symbol.toStringTag](){return"DataLoader"}};function Z9($,W){if(W===null)return W;switch($){case"bigint":return BigInt(W);case"bytes":{let{buffer:J,byteOffset:X,byteLength:Q}=Buffer.from(W,"base64");return new Uint8Array(J,X,Q)}case"decimal":return new IQ(W);case"datetime":case"date":return new Date(W);case"time":return new Date(`1970-01-01T${W}Z`);case"bigint-array":return W.map((J)=>Z9("bigint",J));case"bytes-array":return W.map((J)=>Z9("bytes",J));case"decimal-array":return W.map((J)=>Z9("decimal",J));case"datetime-array":return W.map((J)=>Z9("datetime",J));case"date-array":return W.map((J)=>Z9("date",J));case"time-array":return W.map((J)=>Z9("time",J));default:return W}}function hi($){let W=[],J=mi($);for(let X=0;X<$.rows.length;X++){let Q=$.rows[X],Y={...J};for(let M=0;M<Q.length;M++)Y[$.columns[M]]=Z9($.types[M],Q[M]);W.push(Y)}return W}function mi($){let W={};for(let J=0;J<$.columns.length;J++)W[$.columns[J]]=null;return W}var ui=$2("prisma:client:request_handler"),li=class{client;dataloader;logEmitter;constructor($,W){this.logEmitter=W,this.client=$,this.dataloader=new ci({batchLoader:Dp(async({requests:J,customDataProxyFetch:X})=>{let{transaction:Q,otelParentCtx:Y}=J[0],M=J.map((w)=>w.protocolQuery),G=this.client._tracingHelper.getTraceParent(Y),B=J.some((w)=>hZ(w.protocolQuery.action));return(await this.client._engine.requestBatch(M,{traceparent:G,transaction:pi(Q),containsWrite:B,customDataProxyFetch:X})).map((w,q)=>{if(w instanceof Error)return w;try{return this.mapQueryEngineResult(J[q],w)}catch(H){return H}})}),singleLoader:async(J)=>{let X=J.transaction?.kind==="itx"?hS(J.transaction):void 0,Q=await this.client._engine.request(J.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:X,isWrite:hZ(J.protocolQuery.action),customDataProxyFetch:J.customDataProxyFetch});return this.mapQueryEngineResult(J,Q)},batchBy:(J)=>J.transaction?.id?`transaction-${J.transaction.id}`:di(J.protocolQuery),batchOrder(J,X){return J.transaction?.kind==="batch"&&X.transaction?.kind==="batch"?J.transaction.index-X.transaction.index:0}})}async request($){try{return await this.dataloader.request($)}catch(W){let{clientMethod:J,callsite:X,transaction:Q,args:Y,modelName:M}=$;this.handleAndLogRequestError({error:W,clientMethod:J,callsite:X,transaction:Q,args:Y,modelName:M,globalOmit:$.globalOmit})}}mapQueryEngineResult({dataPath:$,unpacker:W},J){let X=J?.data,Q=this.unpack(X,$,W);return J0.env.PRISMA_CLIENT_GET_TIME?{data:Q}:Q}handleAndLogRequestError($){try{this.handleRequestError($)}catch(W){throw this.logEmitter&&this.logEmitter.emit("error",{message:W.message,target:$.clientMethod,timestamp:new Date}),W}}handleRequestError({error:$,clientMethod:W,callsite:J,transaction:X,args:Q,modelName:Y,globalOmit:M}){if(ui($),ii($,X))throw $;if($ instanceof E1&&ni($)){let B=mS($.meta);eO({args:Q,errors:[B],callsite:J,errorFormat:this.client._errorFormat,originalMethod:W,clientVersion:this.client._clientVersion,globalOmit:M})}let G=$.message;if(J&&(G=fO({callsite:J,originalMethod:W,isPanic:$.isPanic,showColors:this.client._errorFormat==="pretty",message:G})),G=this.sanitizeMessage(G),$.code){let B=Y?{modelName:Y,...$.meta}:$.meta;throw new E1(G,{code:$.code,clientVersion:this.client._clientVersion,meta:B,batchRequestIdx:$.batchRequestIdx})}else{if($.isPanic)throw new C4(G,this.client._clientVersion);if($ instanceof j2)throw new j2(G,{clientVersion:this.client._clientVersion,batchRequestIdx:$.batchRequestIdx});if($ instanceof d1)throw new d1(G,this.client._clientVersion);if($ instanceof C4)throw new C4(G,this.client._clientVersion)}throw $.clientVersion=this.client._clientVersion,$}sanitizeMessage($){return this.client._errorFormat&&this.client._errorFormat!=="pretty"?pG($):$}unpack($,W,J){if(!$||($.data&&($=$.data),!$))return $;let X=Object.keys($)[0],Q=Object.values($)[0],Y=W.filter((B)=>B!=="select"&&B!=="include"),M=HS(Q,Y),G=X==="queryRaw"?hi(M):MB(M);return J?J(G):G}get[Symbol.toStringTag](){return"RequestHandler"}};function pi($){if($){if($.kind==="batch")return{kind:"batch",options:{isolationLevel:$.isolationLevel}};if($.kind==="itx")return{kind:"itx",options:hS($)};jB($,"Unknown transaction kind")}}function hS($){return{id:$.id,payload:$.payload}}function ii($,W){return cS($)&&W?.kind==="batch"&&$.batchRequestIdx!==W.index}function ni($){return $.code==="P2009"||$.code==="P2012"}function mS($){if($.kind==="Union")return{kind:"Union",errors:$.errors.map(mS)};if(Array.isArray($.selectionPath)){let[,...W]=$.selectionPath;return{...$,selectionPath:W}}return $}var oi=dp,si=c2($O()),A1=class extends Error{constructor($){super($+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};x1(A1,"PrismaClientConstructorValidationError");var mZ=["datasources","datasourceUrl","errorFormat","adapter","log","transactionOptions","omit","__internal"],uZ=["pretty","colorless","minimal"],lZ=["info","query","warn","error"],ri={datasources:($,{datasourceNames:W})=>{if($){if(typeof $!="object"||Array.isArray($))throw new A1(`Invalid value ${JSON.stringify($)} for "datasources" provided to PrismaClient constructor`);for(let[J,X]of Object.entries($)){if(!W.includes(J)){let Q=X7(J,W)||` Available datasources: ${W.join(", ")}`;throw new A1(`Unknown datasource ${J} provided to PrismaClient constructor.${Q}`)}if(typeof X!="object"||Array.isArray(X))throw new A1(`Invalid value ${JSON.stringify($)} for datasource "${J}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(X&&typeof X=="object")for(let[Q,Y]of Object.entries(X)){if(Q!=="url")throw new A1(`Invalid value ${JSON.stringify($)} for datasource "${J}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(typeof Y!="string")throw new A1(`Invalid value ${JSON.stringify(Y)} for datasource "${J}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`)}}}},adapter:($,W)=>{if(!$&&uG(W.generator)==="client")throw new A1('Using engine type "client" requires a driver adapter to be provided to PrismaClient constructor.');if($!==null){if($===void 0)throw new A1('"adapter" property must not be undefined, use null to conditionally disable driver adapters.');if(uG(W.generator)==="binary")throw new A1('Cannot use a driver adapter with the "binary" Query Engine. Please use the "library" Query Engine.')}},datasourceUrl:($)=>{if(typeof $<"u"&&typeof $!="string")throw new A1(`Invalid value ${JSON.stringify($)} for "datasourceUrl" provided to PrismaClient constructor.
Expected string or undefined.`)},errorFormat:($)=>{if($){if(typeof $!="string")throw new A1(`Invalid value ${JSON.stringify($)} for "errorFormat" provided to PrismaClient constructor.`);if(!uZ.includes($)){let W=X7($,uZ);throw new A1(`Invalid errorFormat ${$} provided to PrismaClient constructor.${W}`)}}},log:($)=>{if(!$)return;if(!Array.isArray($))throw new A1(`Invalid value ${JSON.stringify($)} for "log" provided to PrismaClient constructor.`);function W(J){if(typeof J=="string"&&!lZ.includes(J)){let X=X7(J,lZ);throw new A1(`Invalid log level "${J}" provided to PrismaClient constructor.${X}`)}}for(let J of $){W(J);let X={level:W,emit:(Q)=>{let Y=["stdout","event"];if(!Y.includes(Q)){let M=X7(Q,Y);throw new A1(`Invalid value ${JSON.stringify(Q)} for "emit" in logLevel provided to PrismaClient constructor.${M}`)}}};if(J&&typeof J=="object")for(let[Q,Y]of Object.entries(J))if(X[Q])X[Q](Y);else throw new A1(`Invalid property ${Q} for "log" provided to PrismaClient constructor`)}},transactionOptions:($)=>{if(!$)return;let W=$.maxWait;if(W!=null&&W<=0)throw new A1(`Invalid value ${W} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let J=$.timeout;if(J!=null&&J<=0)throw new A1(`Invalid value ${J} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:($,W)=>{if(typeof $!="object")throw new A1('"omit" option is expected to be an object.');if($===null)throw new A1('"omit" option can not be `null`');let J=[];for(let[X,Q]of Object.entries($)){let Y=ei(X,W.runtimeDataModel);if(!Y){J.push({kind:"UnknownModel",modelKey:X});continue}for(let[M,G]of Object.entries(Q)){let B=Y.fields.find((w)=>w.name===M);if(!B){J.push({kind:"UnknownField",modelKey:X,fieldName:M});continue}if(B.relationName){J.push({kind:"RelationInOmit",modelKey:X,fieldName:M});continue}typeof G!="boolean"&&J.push({kind:"InvalidFieldValue",modelKey:X,fieldName:M})}}if(J.length>0)throw new A1($n($,J))},__internal:($)=>{if(!$)return;let W=["debug","engine","configOverride"];if(typeof $!="object")throw new A1(`Invalid value ${JSON.stringify($)} for "__internal" to PrismaClient constructor`);for(let[J]of Object.entries($))if(!W.includes(J)){let X=X7(J,W);throw new A1(`Invalid property ${JSON.stringify(J)} for "__internal" provided to PrismaClient constructor.${X}`)}}};function ai($,W){for(let[J,X]of Object.entries($)){if(!mZ.includes(J)){let Q=X7(J,mZ);throw new A1(`Unknown property ${J} provided to PrismaClient constructor.${Q}`)}ri[J](X,W)}if($.datasourceUrl&&$.datasources)throw new A1('Can not use "datasourceUrl" and "datasources" options at the same time. Pick one of them')}function X7($,W){if(W.length===0||typeof $!="string")return"";let J=ti($,W);return J?` Did you mean "${J}"?`:""}function ti($,W){if(W.length===0)return null;let J=W.map((Q)=>({value:Q,distance:si.default($,Q)}));J.sort((Q,Y)=>Q.distance<Y.distance?-1:1);let X=J[0];return X.distance<3?X.value:null}function ei($,W){return pZ(W.models,$)??pZ(W.types,$)}function pZ($,W){let J=Object.keys($).find((X)=>VQ(X)===W);if(J)return $[J]}function $n($,W){let J=EB($);for(let Y of W)switch(Y.kind){case"UnknownModel":J.arguments.getField(Y.modelKey)?.markAsError(),J.addErrorMessage(()=>`Unknown model name: ${Y.modelKey}.`);break;case"UnknownField":J.arguments.getDeepField([Y.modelKey,Y.fieldName])?.markAsError(),J.addErrorMessage(()=>`Model "${Y.modelKey}" does not have a field named "${Y.fieldName}".`);break;case"RelationInOmit":J.arguments.getDeepField([Y.modelKey,Y.fieldName])?.markAsError(),J.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":J.arguments.getDeepFieldValue([Y.modelKey,Y.fieldName])?.markAsError(),J.addErrorMessage(()=>"Omit field option value must be a boolean.");break}let{message:X,args:Q}=tO(J,"colorless");return`Error validating "omit" option:

${Q}

${X}`}function Wn($){return $.length===0?Promise.resolve([]):new Promise((W,J)=>{let X=new Array($.length),Q=null,Y=!1,M=0,G=()=>{Y||(M++,M===$.length&&(Y=!0,Q?J(Q):W(X)))},B=(w)=>{Y||(Y=!0,J(w))};for(let w=0;w<$.length;w++)$[w].then((q)=>{X[w]=q,G()},(q)=>{if(!cS(q)){B(q);return}q.batchRequestIdx===w?B(q):(Q||(Q=q),G())})})}var S4=$2("prisma:client");typeof globalThis=="object"&&(globalThis.NODE_CLIENT=!0);var Jn={requestArgsToMiddlewareArgs:($)=>$,middlewareArgsToRequestArgs:($)=>$},Xn=Symbol.for("prisma.client.transaction.id"),Qn={id:0,nextId(){return++this.id}};function uS($){class W{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=yZ();constructor(J){$=J?.__internal?.configOverride?.($)??$,Zp($),J&&ai(J,$);let X=new zl().on("error",()=>{});this._extensions=$S.empty(),this._previewFeatures=bi($),this._clientVersion=$.clientVersion??oi,this._activeProvider=$.activeProvider,this._globalOmit=J?.omit,this._tracingHelper=gi();let Q=$.relativeEnvPaths&&{rootEnvPath:$.relativeEnvPaths.rootEnvPath&&IG.resolve($.dirname,$.relativeEnvPaths.rootEnvPath),schemaEnvPath:$.relativeEnvPaths.schemaEnvPath&&IG.resolve($.dirname,$.relativeEnvPaths.schemaEnvPath)},Y;if(J?.adapter){Y=J.adapter;let G=$.activeProvider==="postgresql"||$.activeProvider==="cockroachdb"?"postgres":$.activeProvider;if(Y.provider!==G)throw new d1(`The Driver Adapter \`${Y.adapterName}\`, based on \`${Y.provider}\`, is not compatible with the provider \`${G}\` specified in the Prisma schema.`,this._clientVersion);if(J.datasources||J.datasourceUrl!==void 0)throw new d1("Custom datasource configuration is not compatible with Prisma Driver Adapters. Please define the database connection string directly in the Driver Adapter configuration.",this._clientVersion)}let M=!Y&&Q&&nh(Q,{conflictCheck:"none"})||$.injectableEdgeEnv?.();try{let G=J??{},B=G.__internal??{},w=B.debug===!0;w&&$2.enable("prisma:client");let q=IG.resolve($.dirname,$.relativePath);Al.existsSync(q)||(q=$.dirname),S4("dirname",$.dirname),S4("relativePath",$.relativePath),S4("cwd",q);let H=B.engine||{};if(G.errorFormat?this._errorFormat=G.errorFormat:J0.env.NODE_ENV==="production"?this._errorFormat="minimal":J0.env.NO_COLOR?this._errorFormat="colorless":this._errorFormat="colorless",this._runtimeDataModel=$.runtimeDataModel,this._engineConfig={cwd:q,dirname:$.dirname,enableDebugLogs:w,allowTriggerPanic:H.allowTriggerPanic,prismaPath:H.binaryPath??void 0,engineEndpoint:H.endpoint,generator:$.generator,showColors:this._errorFormat==="pretty",logLevel:G.log&&vi(G.log),logQueries:G.log&&!!(typeof G.log=="string"?G.log==="query":G.log.find((z)=>typeof z=="string"?z==="query":z.level==="query")),env:M?.parsed??{},flags:[],engineWasm:$.engineWasm,compilerWasm:$.compilerWasm,clientVersion:$.clientVersion,engineVersion:$.engineVersion,previewFeatures:this._previewFeatures,activeProvider:$.activeProvider,inlineSchema:$.inlineSchema,overrideDatasources:Op(G,$.datasourceNames),inlineDatasources:$.inlineDatasources,inlineSchemaHash:$.inlineSchemaHash,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:G.transactionOptions?.maxWait??2000,timeout:G.transactionOptions?.timeout??5000,isolationLevel:G.transactionOptions?.isolationLevel},logEmitter:X,isBundled:$.isBundled,adapter:Y},this._accelerateEngineConfig={...this._engineConfig,accelerateUtils:{resolveDatasourceUrl:gB,getBatchRequestPayload:xB,prismaGraphQLToJSError:kB,PrismaClientUnknownRequestError:j2,PrismaClientInitializationError:d1,PrismaClientKnownRequestError:E1,debug:$2("prisma:client:accelerateEngine"),engineVersion:Hl.version,clientVersion:$.clientVersion}},S4("clientVersion",$.clientVersion),this._engine=Ki($,this._engineConfig),this._requestHandler=new li(this,X),G.log)for(let z of G.log){let U=typeof z=="string"?z:z.emit==="stdout"?z.level:null;U&&this.$on(U,(N)=>{lG.log(`${lG.tags[U]??""}`,N.message||N.query)})}}catch(G){throw G.clientVersion=this._clientVersion,G}return this._appliedParent=YB(this)}get[Symbol.toStringTag](){return"PrismaClient"}$on(J,X){return J==="beforeExit"?this._engine.onBeforeExit(X):J&&this._engineConfig.logEmitter.on(J,X),this}$connect(){try{return this._engine.start()}catch(J){throw J.clientVersion=this._clientVersion,J}}async $disconnect(){try{await this._engine.stop()}catch(J){throw J.clientVersion=this._clientVersion,J}finally{Nc()}}$executeRawInternal(J,X,Q,Y){let M=this._activeProvider;return this._request({action:"executeRaw",args:Q,transaction:J,clientMethod:X,argsMapper:dZ({clientMethod:X,activeProvider:M}),callsite:hW(this._errorFormat),dataPath:[],middlewareArgsMapper:Y})}$executeRaw(J,...X){return this._createPrismaPromise((Q)=>{if(J.raw!==void 0||J.sql!==void 0){let[Y,M]=iZ(J,X);return vZ(this._activeProvider,Y.text,Y.values,Array.isArray(J)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(Q,"$executeRaw",Y,M)}throw new k6("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(J,...X){return this._createPrismaPromise((Q)=>(vZ(this._activeProvider,J,X,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(Q,"$executeRawUnsafe",[J,...X])))}$runCommandRaw(J){if($.activeProvider!=="mongodb")throw new k6(`The ${$.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise((X)=>this._request({args:J,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:Ci,callsite:hW(this._errorFormat),transaction:X}))}async $queryRawInternal(J,X,Q,Y){let M=this._activeProvider;return this._request({action:"queryRaw",args:Q,transaction:J,clientMethod:X,argsMapper:dZ({clientMethod:X,activeProvider:M}),callsite:hW(this._errorFormat),dataPath:[],middlewareArgsMapper:Y})}$queryRaw(J,...X){return this._createPrismaPromise((Q)=>{if(J.raw!==void 0||J.sql!==void 0)return this.$queryRawInternal(Q,"$queryRaw",...iZ(J,X));throw new k6("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(J){return this._createPrismaPromise((X)=>{if(!this._hasPreviewFlag("typedSql"))throw new k6("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(X,"$queryRawTyped",J)})}$queryRawUnsafe(J,...X){return this._createPrismaPromise((Q)=>this.$queryRawInternal(Q,"$queryRawUnsafe",[J,...X]))}_transactionWithArray({promises:J,options:X}){let Q=Qn.nextId(),Y=fi(J.length),M=J.map((G,B)=>{if(G?.[Symbol.toStringTag]!=="PrismaPromise")throw new Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let w=X?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel,q={kind:"batch",id:Q,index:B,isolationLevel:w,lock:Y};return G.requestTransaction?.(q)??G});return Wn(M)}async _transactionWithCallback({callback:J,options:X}){let Q={traceparent:this._tracingHelper.getTraceParent()},Y={maxWait:X?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:X?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:X?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},M=await this._engine.transaction("start",Q,Y),G;try{let B={kind:"itx",...M};G=await J(this._createItxClient(B)),await this._engine.transaction("commit",Q,M)}catch(B){throw await this._engine.transaction("rollback",Q,M).catch(()=>{}),B}return G}_createItxClient(J){return q7(YB(q7(Qp(this),[i8("_appliedParent",()=>this._appliedParent._createItxClient(J)),i8("_createPrismaPromise",()=>yZ(J)),i8(Xn,()=>J.id)])),[JB(Hp)])}$transaction(J,X){let Q;typeof J=="function"?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?Q=()=>{throw new Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:Q=()=>this._transactionWithCallback({callback:J,options:X}):Q=()=>this._transactionWithArray({promises:J,options:X});let Y={name:"transaction",attributes:{method:"$transaction"}};return this._tracingHelper.runInChildSpan(Y,Q)}_request(J){J.otelParentCtx=this._tracingHelper.getActiveContext();let X=J.middlewareArgsMapper??Jn,Q={args:X.requestArgsToMiddlewareArgs(J.args),dataPath:J.dataPath,runInTransaction:!!J.transaction,action:J.action,model:J.model},Y={operation:{name:"operation",attributes:{method:Q.action,model:Q.model,name:Q.model?`${Q.model}.${Q.action}`:Q.action}}},M=async(G)=>{let{runInTransaction:B,args:w,...q}=G,H={...J,...q};w&&(H.args=X.middlewareArgsToRequestArgs(w)),J.transaction!==void 0&&B===!1&&delete H.transaction;let z=await Np(this,H);return H.model?wp({result:z,modelName:H.model,args:H.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):z};return this._tracingHelper.runInChildSpan(Y.operation,()=>new Ul("prisma-client-request").runInAsyncScope(()=>M(Q)))}async _executeRequest({args:J,clientMethod:X,dataPath:Q,callsite:Y,action:M,model:G,argsMapper:B,transaction:w,unpacker:q,otelParentCtx:H,customDataProxyFetch:z}){try{J=B?B(J):J;let U={name:"serialize"},N=this._tracingHelper.runInChildSpan(U,()=>eu({modelName:G,runtimeDataModel:this._runtimeDataModel,action:M,args:J,clientMethod:X,callsite:Y,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return $2.enabled("prisma:client")&&(S4("Prisma Client call:"),S4(`prisma.${X}(${Zl(J)})`),S4("Generated request:"),S4(JSON.stringify(N,null,2)+`
`)),w?.kind==="batch"&&await w.lock,this._requestHandler.request({protocolQuery:N,modelName:G,action:M,clientMethod:X,dataPath:Q,callsite:Y,args:J,extensions:this._extensions,transaction:w,unpacker:q,otelParentCtx:H,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:z})}catch(U){throw U.clientVersion=this._clientVersion,U}}$metrics=new wl(this);_hasPreviewFlag(J){return!!this._engineConfig.previewFeatures?.includes(J)}$applyPendingMigrations(){return this._engine.applyPendingMigrations()}$extends=Yp}return W}function iZ($,W){return Yn($)?[new U7($,W),Ri]:[$,Ii]}function Yn($){return Array.isArray($)&&Array.isArray($.raw)}/*! Bundled license information:

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.5.0
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/var XJ={generator:{name:"client",provider:{fromEnvVar:null,value:"prisma-client"},output:{value:"C:\\Users\\D3C3M\\Desktop\\backend_cake\\src\\providers\\database\\generated",fromEnvVar:null},config:{engineType:"library"},binaryTargets:[{fromEnvVar:null,value:"windows",native:!0}],previewFeatures:[],sourceFilePath:"C:\\Users\\D3C3M\\Desktop\\backend_cake\\prisma\\schema.prisma",isCustomOutput:!0},relativePath:"../../../../prisma",clientVersion:"6.16.2",engineVersion:"1c57fdcd7e44b29b9313256c76699e91c3ac3c43",datasourceNames:["db"],activeProvider:"mongodb",postinstall:!1,inlineDatasources:{db:{url:{fromEnvVar:"DATABASE_URL",value:null}}},inlineSchema:`// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client"
  output   = "../src/providers/database/generated"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

enum Role {
  SUPERADMIN
  ADMIN
  OFFICER
  USER
}

enum GradeLevelType {
  VOCATIONAL // ปวช.
  HIGHER // ปวส.
}

enum RequestStatus {
  pending
  approved
  rejected
}

enum OrderStatus {
  pending
  complete
  cancelled
}

model Department {
  id   String @id @default(auto()) @map("_id") @db.ObjectId
  name String @unique

  classroom   Classroom[]
  cakeRequest CakeRequest[]
}

model Classroom {
  id             String @id @default(auto()) @map("_id") @db.ObjectId
  name           String
  teacher_id     String @db.ObjectId
  department_id  String @db.ObjectId
  grade_level_id String @db.ObjectId

  teacher     Teacher     @relation(fields: [teacher_id], references: [id])
  department  Department  @relation(fields: [department_id], references: [id])
  grade_level GradeLevel? @relation(fields: [grade_level_id], references: [id])

  teams  Team[]
  orders Order[]

  @@index([department_id], name: "idx_classroom_department_id")
}

model GradeLevel {
  id    String         @id @default(auto()) @map("_id") @db.ObjectId
  level GradeLevelType
  year  Int

  classroom Classroom[]

  @@unique([level, year])
}

model User {
  id        String  @id @default(auto()) @map("_id") @db.ObjectId
  firstname String
  lastname  String
  username  String  @unique
  password  String
  email     String?
  role      Role    @default(USER)

  createdAt   DateTime      @default(now())
  updatedAt   DateTime      @updatedAt
  cakeRequest CakeRequest[]
}

model Team {
  id           String @id @default(auto()) @map("_id") @db.ObjectId
  name         String
  classroom_id String @db.ObjectId

  classroom Classroom @relation(fields: [classroom_id], references: [id])
  orders    Order[]
}

model Product {
  id    String @id @default(auto()) @map("_id") @db.ObjectId
  name  String
  price Float

  orderItems OrderItem[]
}

model Order {
  id           String      @id @default(auto()) @map("_id") @db.ObjectId
  customerName String
  classroom_id String?     @db.ObjectId
  team_id      String?     @db.ObjectId
  orderDate    DateTime
  totalPrice   Float
  book_number  Int
  number       Int
  phone        String
  pickup_date  DateTime
  depository   String?
  deposit      Int
  advisor      String
  status       OrderStatus @default(pending)
  createdAt    DateTime    @default(now())
  updatedAt    DateTime    @updatedAt
  order_items  OrderItem[]

  team      Team?      @relation(fields: [team_id], references: [id])
  classroom Classroom? @relation(fields: [classroom_id], references: [id])

  @@unique([book_number, number])
  @@index([classroom_id], name: "idx_order_classroom_id")
  @@index([team_id], name: "idx_order_team_id")
}

model OrderItem {
  id         String   @id @default(auto()) @map("_id") @db.ObjectId
  order_id   String   @db.ObjectId
  product_id String   @db.ObjectId
  pound      Int
  quantity   Int
  unitPrice  Float
  subtotal   Float
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt

  order              Order              @relation(fields: [order_id], references: [id])
  product            Product            @relation(fields: [product_id], references: [id])
  cake_request_items CakeRequestItems[]
}

model CakeRequest {
  id            String        @id @default(auto()) @map("_id") @db.ObjectId
  requestDate   DateTime
  status        RequestStatus @default(pending)
  note          String?
  user_id       String        @db.ObjectId
  department_id String        @db.ObjectId
  createdAt     DateTime      @default(now())
  updatedAt     DateTime      @updatedAt

  department Department         @relation(fields: [department_id], references: [id])
  user       User               @relation(fields: [user_id], references: [id])
  items      CakeRequestItems[]

  @@map("cake_requests")
}

model CakeRequestItems {
  id            String @id @default(auto()) @map("_id") @db.ObjectId
  request_id    String @db.ObjectId
  order_item_id String @db.ObjectId

  request    CakeRequest @relation(fields: [request_id], references: [id])
  order_item OrderItem   @relation(fields: [order_item_id], references: [id])

  @@map("cake_request_items")
}

model Teacher {
  id        String      @id @default(auto()) @map("_id") @db.ObjectId
  name      String
  classroom Classroom[]
}
`,inlineSchemaHash:"f8dd8fa913300a5048d669f3f3a436cfac3539d8239fcf3b566414be8061dc3a",copyEngine:!0,runtimeDataModel:{models:{},enums:{},types:{}},dirname:""};XJ.runtimeDataModel=JSON.parse('{"models":{"Department":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"classroom","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Classroom","nativeType":null,"relationName":"ClassroomToDepartment","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"cakeRequest","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"CakeRequest","nativeType":null,"relationName":"CakeRequestToDepartment","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Classroom":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"teacher_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"department_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"grade_level_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"teacher","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Teacher","nativeType":null,"relationName":"ClassroomToTeacher","relationFromFields":["teacher_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"department","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Department","nativeType":null,"relationName":"ClassroomToDepartment","relationFromFields":["department_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"grade_level","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"GradeLevel","nativeType":null,"relationName":"ClassroomToGradeLevel","relationFromFields":["grade_level_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"teams","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Team","nativeType":null,"relationName":"ClassroomToTeam","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"orders","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Order","nativeType":null,"relationName":"ClassroomToOrder","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"GradeLevel":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"level","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"GradeLevelType","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"year","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"classroom","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Classroom","nativeType":null,"relationName":"ClassroomToGradeLevel","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["level","year"]],"uniqueIndexes":[{"name":null,"fields":["level","year"]}],"isGenerated":false},"User":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"firstname","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"lastname","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"username","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"password","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"email","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"role","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Role","nativeType":null,"default":"USER","isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"cakeRequest","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"CakeRequest","nativeType":null,"relationName":"CakeRequestToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Team":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"classroom_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"classroom","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Classroom","nativeType":null,"relationName":"ClassroomToTeam","relationFromFields":["classroom_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"orders","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Order","nativeType":null,"relationName":"OrderToTeam","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Product":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"price","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Float","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"orderItems","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"OrderItem","nativeType":null,"relationName":"OrderItemToProduct","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Order":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"customerName","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"classroom_id","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"team_id","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"orderDate","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"totalPrice","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Float","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"book_number","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"number","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"phone","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"pickup_date","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"depository","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"deposit","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"advisor","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"status","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"OrderStatus","nativeType":null,"default":"pending","isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"order_items","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"OrderItem","nativeType":null,"relationName":"OrderToOrderItem","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"team","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Team","nativeType":null,"relationName":"OrderToTeam","relationFromFields":["team_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"classroom","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Classroom","nativeType":null,"relationName":"ClassroomToOrder","relationFromFields":["classroom_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["book_number","number"]],"uniqueIndexes":[{"name":null,"fields":["book_number","number"]}],"isGenerated":false},"OrderItem":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"order_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"product_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"pound","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"quantity","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"unitPrice","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Float","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"subtotal","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Float","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"order","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Order","nativeType":null,"relationName":"OrderToOrderItem","relationFromFields":["order_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"product","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Product","nativeType":null,"relationName":"OrderItemToProduct","relationFromFields":["product_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"cake_request_items","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"CakeRequestItems","nativeType":null,"relationName":"CakeRequestItemsToOrderItem","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"CakeRequest":{"dbName":"cake_requests","schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"requestDate","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"status","kind":"enum","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"RequestStatus","nativeType":null,"default":"pending","isGenerated":false,"isUpdatedAt":false},{"name":"note","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"department_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"department","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Department","nativeType":null,"relationName":"CakeRequestToDepartment","relationFromFields":["department_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"CakeRequestToUser","relationFromFields":["user_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"items","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"CakeRequestItems","nativeType":null,"relationName":"CakeRequestToCakeRequestItems","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"CakeRequestItems":{"dbName":"cake_request_items","schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"request_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"order_item_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":["ObjectId",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"request","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"CakeRequest","nativeType":null,"relationName":"CakeRequestToCakeRequestItems","relationFromFields":["request_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"order_item","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"OrderItem","nativeType":null,"relationName":"CakeRequestItemsToOrderItem","relationFromFields":["order_item_id"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Teacher":{"dbName":null,"schema":null,"fields":[{"name":"id","dbName":"_id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":["ObjectId",[]],"default":{"name":"auto","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"classroom","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Classroom","nativeType":null,"relationName":"ClassroomToTeacher","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false}},"enums":{"Role":{"values":[{"name":"SUPERADMIN","dbName":null},{"name":"ADMIN","dbName":null},{"name":"OFFICER","dbName":null},{"name":"USER","dbName":null}],"dbName":null},"GradeLevelType":{"values":[{"name":"VOCATIONAL","dbName":null},{"name":"HIGHER","dbName":null}],"dbName":null},"RequestStatus":{"values":[{"name":"pending","dbName":null},{"name":"approved","dbName":null},{"name":"rejected","dbName":null}],"dbName":null},"OrderStatus":{"values":[{"name":"pending","dbName":null},{"name":"complete","dbName":null},{"name":"cancelled","dbName":null}],"dbName":null}},"types":{}}');XJ.engineWasm=void 0;XJ.compilerWasm=void 0;function pS($){return XJ.dirname=$,uS(XJ)}var XM0=bQ.getExtensionContext;var QM0={DbNull:R4.classes.DbNull,JsonNull:R4.classes.JsonNull,AnyNull:R4.classes.AnyNull},YM0=R4.instances.DbNull,MM0=R4.instances.JsonNull,GM0=R4.instances.AnyNull;var BM0=bQ.defineExtension;var __dirname="C:\\Users\\D3C3M\\Desktop\\backend_cake\\src\\providers\\database\\generated";globalThis.__dirname=QJ.dirname(wn(import.meta.url));var nS=pS(__dirname);QJ.join(__dirname,"query_engine-windows.dll.node");QJ.join(iS.cwd(),"src/providers/database/generated/query_engine-windows.dll.node");var qn=new nS,V0=qn;var I4;((NM0)=>{async function $(M){return V0.user.create({data:{...M}})}NM0.create=$;async function W(M){let G=M.search?{username:{contains:M.search}}:{};return V0.user.findMany({where:G,take:M.take,skip:M.skip,orderBy:{createdAt:"desc"}})}NM0.findAll=W;async function J(M){return await V0.user.findUnique({where:{id:M}})}NM0.findById=J;async function X(M,G){return V0.user.update({where:{id:M},data:{...G}})}NM0.update=X;async function Q(M){return V0.user.delete({where:{id:M}})}NM0.deleteById=Q;async function Y(M){let G=M?{username:{contains:M}}:{};return await V0.user.count({where:G})}NM0.countAll=Y})(I4||={});var s8=($,W)=>{let J=W;return{skip:($-1)*W,take:J}};var _9;((LM0)=>{async function $(Y){if(!Y.firstname||Y.firstname.trim()==="")throw new Error("User firstname is required and cannot be empty.");if(!Y.lastname||Y.lastname.trim()==="")throw new Error("User lastname is required and cannot be empty.");if(!Y.username||Y.username.trim()==="")throw new Error("User username is required and cannot be empty.");if(!Y.password||Y.password.trim()==="")throw new Error("User password is required and cannot be empty.");try{let M=await Bun.password.hash(Y.password);return await I4.create({...Y,password:M})}catch(M){if(M instanceof E1&&M.code==="P2002")throw new Error("Username already exists");throw M}}LM0.create=$;async function W(Y={}){let M=Y.page??1,G=Y.itemsPerPage??10,B=Y.search,{skip:w,take:q}=s8(M,G),H=await I4.findAll({skip:w,take:q,search:B}),z=await I4.countAll(B),U=(z+G-1)/G>>0,N=M<U,D=M>1;return{data:H,meta_data:{page:M,itemsPerPage:G,total:z,totalPages:U,nextPage:N,previousPage:D}}}LM0.findAll=W;async function J(Y){return I4.findById(Y)}LM0.findById=J;async function X(Y,M){try{let G={...M};if(M.password)G.password=await Bun.password.hash(M.password);return await I4.update(Y,G)}catch(G){if(G instanceof E1&&G.code==="P2002")throw new Error("Username already exists");throw G}}LM0.update=X;async function Q(Y){return I4.deleteById(Y)}LM0.deleteById=Q})(_9||={});var dB;((oS)=>oS.userController=new h1({prefix:"/users"}).post("/",async({body:W,set:J})=>{try{let X=await _9.create(W);return J.status=201,{newUser:X,message:"User has created"}}catch(X){if(X.message==="Username already exists")return J.status="Conflict",X.message;if(J.status="Internal Server Error","message"in X)return X.message;return"Internal Server Error"}},{body:A.Omit(O4,["id","role","createdAt","updatedAt"]),response:{201:A.Object({newUser:O4,message:A.String()}),409:A.String(),500:A.String()},tags:["Users"]}).get("/",async({query:W,set:J})=>{let X=W.page?Number(W.page):1,Q=W.itemsPerPage?Number(W.itemsPerPage):10,Y=W.search,M=await _9.findAll({page:X,itemsPerPage:Q,search:Y});if(M.data.length===0&&Y!==void 0)return J.status="Not Found",{message:"No User found matching your search query."};return M},{query:A.Object({page:A.Optional(A.Numeric()),itemsPerPage:A.Optional(A.Numeric()),search:A.Optional(A.String())}),response:{200:A.Object({data:A.Array(O4),meta_data:A.Object({page:A.Number(),itemsPerPage:A.Number(),total:A.Number(),totalPages:A.Number(),nextPage:A.Boolean(),previousPage:A.Boolean()})}),404:A.Object({message:A.String()}),500:A.String()},tags:["Users"]}).get("/:userId",async({params:W})=>{return await _9.findById(W.userId)},{params:A.Object({userId:A.String()}),response:{200:O4,500:A.String()},tags:["Users"]}).patch("/:userId",async({params:W,body:J,set:X})=>{try{let Q=await _9.update(W.userId,J);return X.status="OK",{updateuser:Q,message:"User has updated"}}catch(Q){if(Q.message==="Username already exists")return X.status="Conflict",Q.message;if(X.status="Internal Server Error","message"in Q)return Q.message;return"Internal Server Error"}},{body:A.Partial(A.Omit(O4,["id","createdAt","updatedAt"])),params:A.Object({userId:A.String()}),response:{200:O4,409:A.String(),500:A.String()},tags:["Users"]}).delete("/:userId",async({params:W,set:J})=>{try{let X=await _9.deleteById(W.userId);return J.status="OK",{deleteUser:X,message:"User has deleted"}}catch(X){if(J.status="Internal Server Error","message"in X)return X.message;return"Internal Server Error"}},{params:A.Object({userId:A.String()}),response:{200:O4,500:A.String()},tags:["Users"]}))(dB||={});var u2=A.Object({id:A.String(),level:A.UnionEnum(["VOCATIONAL","HIGHER"]),year:A.Number()}),sS=A.Composite([u2,A.Object({classroom:A.Array(A7)})]);var rS=A.Object({id:A.String(),name:A.String(),classroom_id:A.String()});var Hn=A.UnionEnum(["pending","complete","cancelled"]),aS=A.Object({id:A.String(),customerName:A.String(),classroom_id:A.Optional(A.String()),team_id:A.Optional(A.String()),orderDate:A.Date(),totalPrice:A.Number(),book_number:A.Number(),number:A.Number(),phone:A.String(),pickup_date:A.Date(),depository:A.Optional(A.String()),deposit:A.Number(),advisor:A.String(),status:Hn,createdAt:A.Date(),updatedAt:A.Date()});var x4=A.Object({id:A.String(),name:A.String().Min(1)}),dQ=A.Composite([x4,A.Object({classroom:A.Array(A.Recursive(()=>A7))})]);var r8=A.Object({id:A.String(),name:A.String(),teacher_id:A.String(),department_id:A.String(),grade_level_id:A.String()}),A7=A.Composite([r8,A.Object({teacher:A.Recursive(()=>dQ),department:a8,grade_level:u2,teams:A.Array(rS),orders:A.Array(aS)})]);var tS=A.Object({id:A.String(),requestDate:A.Date(),status:A.UnionEnum(["pending","approved","rejected"]),note:A.Optional(A.String()),user_id:A.String(),department_id:A.String(),createdAt:A.Date(),updatedAt:A.Date()});var a8=A.Object({id:A.String(),name:A.String()}),Un=A.Composite([r8,A.Object({grade_level:u2})]),eS=A.Composite([a8,A.Object({classroom:A.Array(Un),cakeRequest:A.Array(tS)})]);var k4;((eM0)=>{async function $(M){return V0.department.create({data:{...M}})}eM0.create=$;async function W(M){let G=M.search?{name:{contains:M.search}}:{};return V0.department.findMany({where:G,include:{classroom:{include:{grade_level:!0}},cakeRequest:!0},take:M.take,skip:M.skip})}eM0.findAll=W;async function J(M){return await V0.department.findUnique({where:{id:M}})}eM0.findById=J;async function X(M,G){return V0.department.update({where:{id:M},data:{...G}})}eM0.update=X;async function Q(M){return V0.department.delete({where:{id:M}})}eM0.deleteById=Q;async function Y(M){let G=M?{name:{contains:M}}:{};return await V0.department.count({where:G})}eM0.countAll=Y})(k4||={});var F9;((QG0)=>{async function $(Y){if(!Y.name||Y.name.trim()==="")throw new Error("Department name is required and cannot be empty.");try{return k4.create(Y)}catch(M){if(M instanceof E1&&M.code==="P2002")throw new Error("Departmentname already exists");throw M}}QG0.create=$;async function W(Y={}){let M=Y.page??1,G=Y.itemsPerPage??10,B=Y.search,{skip:w,take:q}=s8(M,G),H=await k4.findAll({skip:w,take:q,search:B}),z=await k4.countAll(B),U=(z+G-1)/G>>0,N=M<U,D=M>1;return{data:H,meta_data:{page:M,itemsPerPage:G,total:z,totalPages:U,nextPage:N,previousPage:D}}}QG0.findAll=W;async function J(Y){return k4.findById(Y)}QG0.findById=J;async function X(Y,M){try{let G={...M};return await k4.update(Y,G)}catch(G){if(G instanceof E1&&G.code==="P2002")throw new Error("Departmentname already exists");throw G}}QG0.update=X;async function Q(Y){return k4.deleteById(Y)}QG0.deleteById=Q})(F9||={});var yB;(($j)=>$j.departmentController=new h1({prefix:"/departments"}).post("/",async({body:W,set:J})=>{try{let X=await F9.create(W);return J.status=201,{newDepartment:X,message:"Department has created"}}catch(X){if(X.message==="Departmentname already exists")return J.status="Conflict",X.message;if(J.status="Internal Server Error","message"in X)return X.message;return"Internal Server Error"}},{body:A.Omit(a8,["id"]),response:{201:A.Object({newDepartment:a8,message:A.String()}),409:A.String(),500:A.String()},tags:["Departments"]}).get("/",async({query:W,set:J})=>{let X=W.page?Number(W.page):1,Q=W.itemsPerPage?Number(W.itemsPerPage):10,Y=W.search,M=await F9.findAll({page:X,itemsPerPage:Q,search:Y});if(M.data.length===0&&Y!==void 0)return J.status="Not Found",{message:"No Department found matching your search query."};return M},{query:A.Object({page:A.Optional(A.Numeric()),itemsPerPage:A.Optional(A.Numeric()),search:A.Optional(A.String())}),response:{200:A.Object({data:A.Array(eS),meta_data:A.Object({page:A.Number(),itemsPerPage:A.Number(),total:A.Number(),totalPages:A.Number(),nextPage:A.Boolean(),previousPage:A.Boolean()})}),404:A.Object({message:A.String()}),500:A.String()},tags:["Departments"]}).get("/:DepartmentId",async({params:W})=>{return await F9.findById(W.DepartmentId)},{params:A.Object({DepartmentId:A.String()}),response:{200:a8,500:A.String()},tags:["Departments"]}).patch("/:DepartmentId",async({params:W,body:J,set:X})=>{try{let Q=await F9.update(W.DepartmentId,J);return X.status="OK",{updateDepartment:Q,message:"Department has updated"}}catch(Q){if(Q.message==="Departmentname already exists")return X.status="Conflict",Q.message;if(X.status="Internal Server Error","message"in Q)return Q.message;return"Internal Server Error"}},{body:A.Partial(A.Omit(a8,["id"])),params:A.Object({DepartmentId:A.String()}),response:{200:a8,409:A.String(),500:A.String()},tags:["Departments"]}).delete("/:DepartmentId",async({params:W,set:J})=>{try{let X=await F9.deleteById(W.DepartmentId);return J.status="OK",{deleteDepartment:X,message:"Department has deleted"}}catch(X){if(J.status="Internal Server Error","message"in X)return X.message;return"Internal Server Error"}},{params:A.Object({DepartmentId:A.String()}),response:{200:a8,500:A.String()},tags:["Departments"]}))(yB||={});var T4;((HG0)=>{async function $(M){return V0.teacher.create({data:{...M}})}HG0.create=$;async function W(M){let G=M.search?{name:{contains:M.search}}:{};return V0.teacher.findMany({where:G,include:{classroom:{include:{grade_level:!0}}},take:M.take,skip:M.skip})}HG0.findAll=W;async function J(M){return await V0.teacher.findUnique({where:{id:M}})}HG0.findById=J;async function X(M,G){return V0.teacher.update({where:{id:M},data:{...G}})}HG0.update=X;async function Q(M){return V0.teacher.delete({where:{id:M}})}HG0.deleteById=Q;async function Y(M){let G=M?{name:{contains:M}}:{};return await V0.teacher.count({where:G})}HG0.countAll=Y})(T4||={});var K9;((DG0)=>{async function $(Y){if(!Y.name||Y.name.trim()==="")throw new Error("Teacher name is required and cannot be empty.");try{return T4.create(Y)}catch(M){if(M instanceof E1&&M.code==="P2002")throw new Error("Teachername already exists");throw M}}DG0.create=$;async function W(Y={}){let M=Y.page??1,G=Y.itemsPerPage??10,B=Y.search,{skip:w,take:q}=s8(M,G),H=await T4.findAll({skip:w,take:q,search:B}),z=await T4.countAll(B),U=(z+G-1)/G>>0,N=M<U,D=M>1;return{data:H,meta_data:{page:M,itemsPerPage:G,total:z,totalPages:U,nextPage:N,previousPage:D}}}DG0.findAll=W;async function J(Y){return T4.findById(Y)}DG0.findById=J;async function X(Y,M){try{let G={...M};return await T4.update(Y,G)}catch(G){if(G instanceof E1&&G.code==="P2002")throw new Error("Teachername already exists");throw G}}DG0.update=X;async function Q(Y){return T4.deleteById(Y)}DG0.deleteById=Q})(K9||={});var cB;((Wj)=>Wj.teacherController=new h1({prefix:"/teachers"}).post("/",async({body:W,set:J})=>{try{let X=await K9.create(W);return J.status=201,{newTeacher:X,message:"Teacher has created"}}catch(X){if(X.message==="Teachername already exists")return J.status="Conflict",X.message;if(J.status="Internal Server Error","message"in X)return X.message;return"Internal Server Error"}},{body:A.Omit(x4,["id"]),response:{201:A.Object({newTeacher:x4,message:A.String()}),409:A.String(),500:A.String()},tags:["Teachers"]}).get("/",async({query:W,set:J})=>{let X=W.page?Number(W.page):1,Q=W.itemsPerPage?Number(W.itemsPerPage):10,Y=W.search,M=await K9.findAll({page:X,itemsPerPage:Q,search:Y});if(M.data.length===0&&Y!==void 0)return J.status="Not Found",{message:"No Teacher found matching your search query."};return M},{query:A.Object({page:A.Optional(A.Numeric()),itemsPerPage:A.Optional(A.Numeric()),search:A.Optional(A.String())}),response:{200:A.Object({data:A.Array(dQ),meta_data:A.Object({page:A.Number(),itemsPerPage:A.Number(),total:A.Number(),totalPages:A.Number(),nextPage:A.Boolean(),previousPage:A.Boolean()})}),404:A.Object({message:A.String()}),500:A.String()},tags:["Teachers"]}).get("/:TeacherId",async({params:W})=>{return await K9.findById(W.TeacherId)},{params:A.Object({TeacherId:A.String()}),response:{200:x4,500:A.String()},tags:["Teachers"]}).patch("/:TeacherId",async({params:W,body:J,set:X})=>{try{let Q=await K9.update(W.TeacherId,J);return X.status="OK",{updateTeacher:Q,message:"Teacher has updated"}}catch(Q){if(Q.message==="Teachername already exists")return X.status="Conflict",Q.message;if(X.status="Internal Server Error","message"in Q)return Q.message;return"Internal Server Error"}},{body:A.Partial(A.Omit(x4,["id"])),params:A.Object({TeacherId:A.String()}),response:{200:x4,409:A.String(),500:A.String()},tags:["Teachers"]}).delete("/:TeacherId",async({params:W,set:J})=>{try{let X=await K9.deleteById(W.TeacherId);return J.status="OK",{deleteTeacher:X,message:"Teacher has deleted"}}catch(X){if(J.status="Internal Server Error","message"in X)return X.message;return"Internal Server Error"}},{params:A.Object({TeacherId:A.String()}),response:{200:x4,500:A.String()},tags:["Teachers"]}))(cB||={});var g4;((FG0)=>{async function $(M){return V0.gradeLevel.create({data:{...M}})}FG0.create=$;async function W(M){return V0.gradeLevel.findMany({include:{classroom:!0},take:M.take,skip:M.skip})}FG0.findAll=W;async function J(M){return await V0.gradeLevel.findUnique({where:{id:M}})}FG0.findById=J;async function X(M,G){return V0.gradeLevel.update({where:{id:M},data:{...G}})}FG0.update=X;async function Q(M){return V0.gradeLevel.delete({where:{id:M}})}FG0.deleteById=Q;async function Y(M){let G=M?{findAll:{contains:M}}:{};return await V0.gradeLevel.count({where:G})}FG0.countAll=Y})(g4||={});var b9;((PG0)=>{async function $(Y){if(!Y.level)throw new Error("GradeLevel level is required.");if(Y.year===void 0||Y.year===null)throw new Error("GradeLevel year is required.");try{return g4.create(Y)}catch(M){if(M instanceof E1&&M.code==="P2002")throw new Error("GradeLevelname already exists");throw M}}PG0.create=$;async function W(Y={}){let M=Y.page??1,G=Y.itemsPerPage??10,B=Y.search,{skip:w,take:q}=s8(M,G),H=await g4.findAll({skip:w,take:q,search:B}),z=await g4.countAll(B),U=(z+G-1)/G>>0,N=M<U,D=M>1;return{data:H,meta_data:{page:M,itemsPerPage:G,total:z,totalPages:U,nextPage:N,previousPage:D}}}PG0.findAll=W;async function J(Y){return g4.findById(Y)}PG0.findById=J;async function X(Y,M){try{let G={...M};return await g4.update(Y,G)}catch(G){if(G instanceof E1&&G.code==="P2002")throw new Error("GradeLevelname already exists");throw G}}PG0.update=X;async function Q(Y){return g4.deleteById(Y)}PG0.deleteById=Q})(b9||={});var hB;((Jj)=>Jj.gradeLevelController=new h1({prefix:"/GradeLevels"}).post("/",async({body:W,set:J})=>{try{let X=await b9.create(W);return J.status=201,{newGradeLevel:X,message:"GradeLevel has created"}}catch(X){if(X.message==="GradeLevelname already exists")return J.status="Conflict",X.message;if(J.status="Internal Server Error","message"in X)return X.message;return"Internal Server Error"}},{body:A.Omit(u2,["id"]),response:{201:A.Object({newGradeLevel:u2,message:A.String()}),409:A.String(),500:A.String()},tags:["GradeLevels"]}).get("/",async({query:W,set:J})=>{let X=W.page?Number(W.page):1,Q=W.itemsPerPage?Number(W.itemsPerPage):10,Y=W.search,M=await b9.findAll({page:X,itemsPerPage:Q,search:Y});if(M.data.length===0&&Y!==void 0)return J.status="Not Found",{message:"No GradeLevel found matching your search query."};return M},{query:A.Object({page:A.Optional(A.Numeric()),itemsPerPage:A.Optional(A.Numeric()),search:A.Optional(A.String())}),response:{200:A.Object({data:A.Array(sS),meta_data:A.Object({page:A.Number(),itemsPerPage:A.Number(),total:A.Number(),totalPages:A.Number(),nextPage:A.Boolean(),previousPage:A.Boolean()})}),404:A.Object({message:A.String()}),500:A.String()},tags:["GradeLevels"]}).get("/:GradeLevelId",async({params:W})=>{return await b9.findById(W.GradeLevelId)},{params:A.Object({GradeLevelId:A.String()}),response:{200:u2,500:A.String()},tags:["GradeLevels"]}).patch("/:GradeLevelId",async({params:W,body:J,set:X})=>{try{let Q=await b9.update(W.GradeLevelId,J);return X.status="OK",{updateGradeLevel:Q,message:"GradeLevel has updated"}}catch(Q){if(Q.message==="GradeLevelname already exists")return X.status="Conflict",Q.message;if(X.status="Internal Server Error","message"in Q)return Q.message;return"Internal Server Error"}},{body:A.Partial(A.Omit(u2,["id"])),params:A.Object({GradeLevelId:A.String()}),response:{200:u2,409:A.String(),500:A.String()},tags:["GradeLevels"]}).delete("/:GradeLevelId",async({params:W,set:J})=>{try{let X=await b9.deleteById(W.GradeLevelId);return J.status="OK",{deleteGradeLevel:X,message:"GradeLevel has deleted"}}catch(X){if(J.status="Internal Server Error","message"in X)return X.message;return"Internal Server Error"}},{params:A.Object({GradeLevelId:A.String()}),response:{200:u2,500:A.String()},tags:["GradeLevels"]}))(hB||={});var f4;((gG0)=>{async function $(M){let G=await V0.teacher.findUnique({where:{id:M.teacher_id}}),B=await V0.department.findUnique({where:{id:M.department_id}});if(!G)throw new Error(`Teacher with id ${M.teacher_id} not found`);if(!B)throw new Error(`Department with id ${M.department_id} not found`);return V0.classroom.create({data:{...M}})}gG0.create=$;async function W(M){return V0.classroom.findMany({include:{department:!0,grade_level:!0,teacher:!0,teams:!0,orders:!0},take:M.take,skip:M.skip})}gG0.findAll=W;async function J(M){return await V0.classroom.findUnique({where:{id:M}})}gG0.findById=J;async function X(M,G){return V0.classroom.update({where:{id:M},data:{...G}})}gG0.update=X;async function Q(M){return V0.classroom.delete({where:{id:M}})}gG0.deleteById=Q;async function Y(M){let G=M?{name:{contains:M}}:{};return await V0.classroom.count({where:G})}gG0.countAll=Y})(f4||={});var C9;((cG0)=>{async function $(Y){if(!Y.name||Y.name.trim()==="")throw new Error("Classroom name is required and cannot be empty.");try{return f4.create(Y)}catch(M){if(M instanceof E1&&M.code==="P2002")throw new Error("Classroom name already exists");throw M}}cG0.create=$;async function W(Y={}){let M=Y.page??1,G=Y.itemsPerPage??10,B=Y.search,{skip:w,take:q}=s8(M,G),H=await f4.findAll({skip:w,take:q,search:B}),z=await f4.countAll(B),U=(z+G-1)/G>>0,N=M<U,D=M>1;return{data:H,meta_data:{page:M,itemsPerPage:G,total:z,totalPages:U,nextPage:N,previousPage:D}}}cG0.findAll=W;async function J(Y){return f4.findById(Y)}cG0.findById=J;async function X(Y,M){try{let G={...M};return await f4.update(Y,G)}catch(G){if(G instanceof E1&&G.code==="P2002")throw new Error("Classroomname already exists");throw G}}cG0.update=X;async function Q(Y){return f4.deleteById(Y)}cG0.deleteById=Q})(C9||={});var mB;((Xj)=>Xj.classroomController=new h1({prefix:"/Classrooms"}).post("/",async({body:W,set:J})=>{try{let X=await C9.create(W);return J.status=201,{newClassroom:X,message:"Classroom has created"}}catch(X){if(X.message==="Classroomname already exists")return J.status="Conflict",X.message;if(J.status="Internal Server Error","message"in X)return X.message;return"Internal Server Error"}},{body:A.Omit(r8,["id"]),response:{201:A.Object({newClassroom:r8,message:A.String()}),409:A.String(),500:A.String()},tags:["Classrooms"]}).get("/",async({query:W,set:J})=>{let X=W.page?Number(W.page):1,Q=W.itemsPerPage?Number(W.itemsPerPage):10,Y=W.search,M=await C9.findAll({page:X,itemsPerPage:Q,search:Y});if(M.data.length===0&&Y!==void 0)return J.status="Not Found",{message:"No Classroom found matching your search query."};return M},{query:A.Object({page:A.Optional(A.Numeric()),itemsPerPage:A.Optional(A.Numeric()),search:A.Optional(A.String())}),response:{200:A.Object({data:A.Array(A7),meta_data:A.Object({page:A.Number(),itemsPerPage:A.Number(),total:A.Number(),totalPages:A.Number(),nextPage:A.Boolean(),previousPage:A.Boolean()})}),404:A.Object({message:A.String()}),500:A.String()},tags:["Classrooms"]}).get("/:ClassroomId",async({params:W})=>{return await C9.findById(W.ClassroomId)},{params:A.Object({ClassroomId:A.String()}),response:{200:r8,500:A.String()},tags:["Classrooms"]}).patch("/:ClassroomId",async({params:W,body:J,set:X})=>{try{let Q=await C9.update(W.ClassroomId,J);return X.status="OK",{updateClassroom:Q,message:"Classroom has updated"}}catch(Q){if(Q.message==="Classroomname already exists")return X.status="Conflict",Q.message;if(X.status="Internal Server Error","message"in Q)return Q.message;return"Internal Server Error"}},{body:A.Partial(A.Omit(r8,["id"])),params:A.Object({ClassroomId:A.String()}),response:{200:r8,409:A.String(),500:A.String()},tags:["Classrooms"]}).delete("/:ClassroomId",async({params:W,set:J})=>{try{let X=await C9.deleteById(W.ClassroomId);return J.status="OK",{deleteClassroom:X,message:"Classroom has deleted"}}catch(X){if(J.status="Internal Server Error","message"in X)return X.message;return"Internal Server Error"}},{params:A.Object({ClassroomId:A.String()}),response:{200:r8,500:A.String()},tags:["Classrooms"]}))(mB||={});var Qj=new h1().group("/api/v1",($)=>{return $.use(dB.userController),$.use(yB.departmentController),$.use(cB.teacherController),$.use(hB.gradeLevelController),$.use(mB.classroomController),$});var Yj=new h1().use(Qj).use(lA({path:"/docs"})).use($Z({name:"jwt",secret:process.env.JWT_SECRET||"supersecret"})).use(iA).listen(process.env.PORT??3000);console.log(`\uD83E\uDD8A Elysia is running at http://${Yj.server?.hostname}:${Yj.server?.port}/docs`);
